(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function xw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Cf={exports:{}},gl={},Rf={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function jI(){if(Cv)return xe;Cv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function M(L,q,le){this.props=L,this.context=q,this.refs=F,this.updater=le||A}M.prototype.isReactComponent={},M.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=M.prototype;function K(L,q,le){this.props=L,this.context=q,this.refs=F,this.updater=le||A}var Q=K.prototype=new W;Q.constructor=K,O(Q,M.prototype),Q.isPureReactComponent=!0;var oe=Array.isArray,ne=Object.prototype.hasOwnProperty,ae={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function I(L,q,le){var Ae,Re={},be=null,je=null;if(q!=null)for(Ae in q.ref!==void 0&&(je=q.ref),q.key!==void 0&&(be=""+q.key),q)ne.call(q,Ae)&&!x.hasOwnProperty(Ae)&&(Re[Ae]=q[Ae]);var Ue=arguments.length-2;if(Ue===1)Re.children=le;else if(1<Ue){for(var We=Array(Ue),At=0;At<Ue;At++)We[At]=arguments[At+2];Re.children=We}if(L&&L.defaultProps)for(Ae in Ue=L.defaultProps,Ue)Re[Ae]===void 0&&(Re[Ae]=Ue[Ae]);return{$$typeof:n,type:L,key:be,ref:je,props:Re,_owner:ae.current}}function C(L,q){return{$$typeof:n,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function D(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return q[le]})}var j=/\/+/g;function R(L,q){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):q.toString(36)}function Be(L,q,le,Ae,Re){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var je=!1;if(L===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(L.$$typeof){case n:case e:je=!0}}if(je)return je=L,Re=Re(je),L=Ae===""?"."+R(je,0):Ae,oe(Re)?(le="",L!=null&&(le=L.replace(j,"$&/")+"/"),Be(Re,q,le,"",function(At){return At})):Re!=null&&(k(Re)&&(Re=C(Re,le+(!Re.key||je&&je.key===Re.key?"":(""+Re.key).replace(j,"$&/")+"/")+L)),q.push(Re)),1;if(je=0,Ae=Ae===""?".":Ae+":",oe(L))for(var Ue=0;Ue<L.length;Ue++){be=L[Ue];var We=Ae+R(be,Ue);je+=Be(be,q,le,We,Re)}else if(We=E(L),typeof We=="function")for(L=We.call(L),Ue=0;!(be=L.next()).done;)be=be.value,We=Ae+R(be,Ue++),je+=Be(be,q,le,We,Re);else if(be==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return je}function lt(L,q,le){if(L==null)return L;var Ae=[],Re=0;return Be(L,Ae,"","",function(be){return q.call(le,be,Re++)}),Ae}function st(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var Se={current:null},re={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:re,ReactCurrentOwner:ae};function J(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:lt,forEach:function(L,q,le){lt(L,function(){q.apply(this,arguments)},le)},count:function(L){var q=0;return lt(L,function(){q++}),q},toArray:function(L){return lt(L,function(q){return q})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},xe.Component=M,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=K,xe.StrictMode=r,xe.Suspense=f,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,xe.act=J,xe.cloneElement=function(L,q,le){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ae=O({},L.props),Re=L.key,be=L.ref,je=L._owner;if(q!=null){if(q.ref!==void 0&&(be=q.ref,je=ae.current),q.key!==void 0&&(Re=""+q.key),L.type&&L.type.defaultProps)var Ue=L.type.defaultProps;for(We in q)ne.call(q,We)&&!x.hasOwnProperty(We)&&(Ae[We]=q[We]===void 0&&Ue!==void 0?Ue[We]:q[We])}var We=arguments.length-2;if(We===1)Ae.children=le;else if(1<We){Ue=Array(We);for(var At=0;At<We;At++)Ue[At]=arguments[At+2];Ae.children=Ue}return{$$typeof:n,type:L.type,key:Re,ref:be,props:Ae,_owner:je}},xe.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},xe.createElement=I,xe.createFactory=function(L){var q=I.bind(null,L);return q.type=L,q},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:d,render:L}},xe.isValidElement=k,xe.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:st}},xe.memo=function(L,q){return{$$typeof:m,type:L,compare:q===void 0?null:q}},xe.startTransition=function(L){var q=re.transition;re.transition={};try{L()}finally{re.transition=q}},xe.unstable_act=J,xe.useCallback=function(L,q){return Se.current.useCallback(L,q)},xe.useContext=function(L){return Se.current.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L){return Se.current.useDeferredValue(L)},xe.useEffect=function(L,q){return Se.current.useEffect(L,q)},xe.useId=function(){return Se.current.useId()},xe.useImperativeHandle=function(L,q,le){return Se.current.useImperativeHandle(L,q,le)},xe.useInsertionEffect=function(L,q){return Se.current.useInsertionEffect(L,q)},xe.useLayoutEffect=function(L,q){return Se.current.useLayoutEffect(L,q)},xe.useMemo=function(L,q){return Se.current.useMemo(L,q)},xe.useReducer=function(L,q,le){return Se.current.useReducer(L,q,le)},xe.useRef=function(L){return Se.current.useRef(L)},xe.useState=function(L){return Se.current.useState(L)},xe.useSyncExternalStore=function(L,q,le){return Se.current.useSyncExternalStore(L,q,le)},xe.useTransition=function(){return Se.current.useTransition()},xe.version="18.3.1",xe}var Rv;function Gp(){return Rv||(Rv=1,Rf.exports=jI()),Rf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function UI(){if(xv)return gl;xv=1;var n=Gp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},E=null,A=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:A,props:w,_owner:o.current}}return gl.Fragment=t,gl.jsx=u,gl.jsxs=u,gl}var kv;function BI(){return kv||(kv=1,Cf.exports=UI()),Cf.exports}var N=BI(),te=Gp();const Xt=xw(te);var Pc={},xf={exports:{}},cn={},kf={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function zI(){return Vv||(Vv=1,function(n){function e(re,me){var J=re.length;re.push(me);e:for(;0<J;){var L=J-1>>>1,q=re[L];if(0<o(q,me))re[L]=me,re[J]=q,J=L;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],J=re.pop();if(J!==me){re[0]=J;e:for(var L=0,q=re.length,le=q>>>1;L<le;){var Ae=2*(L+1)-1,Re=re[Ae],be=Ae+1,je=re[be];if(0>o(Re,J))be<q&&0>o(je,Re)?(re[L]=je,re[be]=J,L=be):(re[L]=Re,re[Ae]=J,L=Ae);else if(be<q&&0>o(je,J))re[L]=je,re[be]=J,L=be;else break e}}return me}function o(re,me){var J=re.sortIndex-me.sortIndex;return J!==0?J:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,E=3,A=!1,O=!1,F=!1,M=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var me=t(m);me!==null;){if(me.callback===null)r(m);else if(me.startTime<=re)r(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function oe(re){if(F=!1,Q(re),!O)if(t(f)!==null)O=!0,st(ne);else{var me=t(m);me!==null&&Se(oe,me.startTime-re)}}function ne(re,me){O=!1,F&&(F=!1,W(I),I=-1),A=!0;var J=E;try{for(Q(me),w=t(f);w!==null&&(!(w.expirationTime>me)||re&&!D());){var L=w.callback;if(typeof L=="function"){w.callback=null,E=w.priorityLevel;var q=L(w.expirationTime<=me);me=n.unstable_now(),typeof q=="function"?w.callback=q:w===t(f)&&r(f),Q(me)}else r(f);w=t(f)}if(w!==null)var le=!0;else{var Ae=t(m);Ae!==null&&Se(oe,Ae.startTime-me),le=!1}return le}finally{w=null,E=J,A=!1}}var ae=!1,x=null,I=-1,C=5,k=-1;function D(){return!(n.unstable_now()-k<C)}function j(){if(x!==null){var re=n.unstable_now();k=re;var me=!0;try{me=x(!0,re)}finally{me?R():(ae=!1,x=null)}}else ae=!1}var R;if(typeof K=="function")R=function(){K(j)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,lt=Be.port2;Be.port1.onmessage=j,R=function(){lt.postMessage(null)}}else R=function(){M(j,0)};function st(re){x=re,ae||(ae=!0,R())}function Se(re,me){I=M(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){O||A||(O=!0,st(ne))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var J=E;E=me;try{return re()}finally{E=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var J=E;E=re;try{return me()}finally{E=J}},n.unstable_scheduleCallback=function(re,me,J){var L=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?L+J:L):J=L,re){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,re={id:v++,callback:me,priorityLevel:re,startTime:J,expirationTime:q,sortIndex:-1},J>L?(re.sortIndex=J,e(m,re),t(f)===null&&re===t(m)&&(F?(W(I),I=-1):F=!0,Se(oe,J-L))):(re.sortIndex=q,e(f,re),O||A||(O=!0,st(ne))),re},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(re){var me=E;return function(){var J=E;E=me;try{return re.apply(this,arguments)}finally{E=J}}}}(Vf)),Vf}var Dv;function $I(){return Dv||(Dv=1,kf.exports=zI()),kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function HI(){if(Nv)return cn;Nv=1;var n=Gp(),e=$I();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function A(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,s,l,h){if(s===null||typeof s>"u"||A(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(i,s,l,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];M[s]=new F(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function K(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,K);M[s]=new F(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,K);M[s]=new F(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,K);M[s]=new F(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,s,l,h){var p=M.hasOwnProperty(s)?M[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,h)&&(l=null),h||p===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ae=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),D=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),lt=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,L;function q(i){if(L===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+i}var le=!1;function Ae(i,s){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,P=y.length-1;1<=T&&0<=P&&p[T]!==y[P];)P--;for(;1<=T&&0<=P;T--,P--)if(p[T]!==y[P]){if(T!==1||P!==1)do if(T--,P--,0>P||p[T]!==y[P]){var V=`
`+p[T].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=T&&0<=P);break}}}finally{le=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function Re(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case ae:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case k:return(i._context.displayName||"Context")+".Provider";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case lt:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case st:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function je(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function At(i){var s=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Cr(i){i._valueTracker||(i._valueTracker=At(i))}function Ks(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=We(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Zi(i,s){var l=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Gs(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Ta(i,s){s=s.checked,s!=null&&Q(i,"checked",s,!1)}function Sa(i,s){Ta(i,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Qs(i,s.type,l):s.hasOwnProperty("defaultValue")&&Qs(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function hu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function Qs(i,s,l){(s!=="number"||ni(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Rr=Array.isArray;function xr(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Ia(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Xs(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Rr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Ue(l)}}function Ys(i,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Aa(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function vt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?vt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var kr,Pa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(kr=kr||document.createElement("div"),kr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=kr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ri(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(i){ts.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),es[s]=es[i]})});function Ca(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||es.hasOwnProperty(i)&&es[i]?(""+s).trim():s+"px"}function Ra(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ca(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var xa=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ka(i,s){if(s){if(xa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Va(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Js(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zs=null,Sn=null,ir=null;function eo(i){if(i=tl(i)){if(typeof Zs!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Bu(s),Zs(i.stateNode,i.type,s))}}function sr(i){Sn?ir?ir.push(i):ir=[i]:Sn=i}function Da(){if(Sn){var i=Sn,s=ir;if(ir=Sn=null,eo(i),s)for(i=0;i<s.length;i++)eo(s[i])}}function rs(i,s){return i(s)}function Na(){}var Vr=!1;function ba(i,s,l){if(Vr)return i(s,l);Vr=!0;try{return rs(i,s,l)}finally{Vr=!1,(Sn!==null||ir!==null)&&(Na(),Da())}}function ut(i,s){var l=i.stateNode;if(l===null)return null;var h=Bu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var to=!1;if(d)try{var On={};Object.defineProperty(On,"passive",{get:function(){to=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{to=!1}function is(i,s,l,h,p,y,T,P,V){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Z){this.onError(Z)}}var ss=!1,no=null,Fn=!1,Ma=null,ed={onError:function(i){ss=!0,no=i}};function ro(i,s,l,h,p,y,T,P,V){ss=!1,no=null,is.apply(ed,arguments)}function du(i,s,l,h,p,y,T,P,V){if(ro.apply(this,arguments),ss){if(ss){var $=no;ss=!1,no=null}else throw Error(t(198));Fn||(Fn=!0,Ma=$)}}function jn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function os(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Un(i){if(jn(i)!==i)throw Error(t(188))}function fu(i){var s=i.alternate;if(!s){if(s=jn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Un(p),i;if(y===h)return Un(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,P=p.child;P;){if(P===l){T=!0,l=p,h=y;break}if(P===h){T=!0,h=p,l=y;break}P=P.sibling}if(!T){for(P=y.child;P;){if(P===l){T=!0,l=y,h=p;break}if(P===h){T=!0,h=y,l=p;break}P=P.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function La(i){return i=fu(i),i!==null?io(i):null}function io(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=io(i);if(s!==null)return s;i=i.sibling}return null}var so=e.unstable_scheduleCallback,Oa=e.unstable_cancelCallback,pu=e.unstable_shouldYield,td=e.unstable_requestPaint,qe=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,gu=e.unstable_IdlePriority,ls=null,fn=null;function yu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ls,i,void 0,(i.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:_u,ja=Math.log,vu=Math.LN2;function _u(i){return i>>>=0,i===0?32:31-(ja(i)/vu|0)|0}var oo=64,ao=4194304;function si(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function us(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var P=T&~p;P!==0?h=si(P):(y&=T,y!==0&&(h=si(y)))}else T=l&~p,T!==0?h=si(T):y!==0&&(h=si(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Jt(s),p=1<<l,h|=i[l],s&=~p;return h}function nd(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Jt(y),P=1<<T,V=p[T];V===-1?((P&l)===0||(P&h)!==0)&&(p[T]=nd(P,s)):V<=s&&(i.expiredLanes|=P),y&=~P}}function pn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function cs(){var i=oo;return oo<<=1,(oo&4194240)===0&&(oo=64),i}function oi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ai(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Jt(s),i[s]=l}function He(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Jt(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function li(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Jt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var Ne=0;function ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var wu,lo,Eu,Tu,Su,Ua=!1,or=[],Vt=null,Bn=null,zn=null,ci=new Map,An=new Map,ar=[],rd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Iu(i,s){switch(i){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function nn(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=tl(s),s!==null&&lo(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function id(i,s,l,h,p){switch(s){case"focusin":return Vt=nn(Vt,i,s,l,h,p),!0;case"dragenter":return Bn=nn(Bn,i,s,l,h,p),!0;case"mouseover":return zn=nn(zn,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return ci.set(y,nn(ci.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,An.set(y,nn(An.get(y)||null,i,s,l,h,p)),!0}return!1}function Au(i){var s=ms(i.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=os(l),s!==null){i.blockedOn=s,Su(i.priority,function(){Eu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Nr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=uo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ns=h,l.target.dispatchEvent(h),ns=null}else return s=tl(l),s!==null&&lo(s),i.blockedOn=l,!1;s.shift()}return!0}function hs(i,s,l){Nr(i)&&l.delete(s)}function Pu(){Ua=!1,Vt!==null&&Nr(Vt)&&(Vt=null),Bn!==null&&Nr(Bn)&&(Bn=null),zn!==null&&Nr(zn)&&(zn=null),ci.forEach(hs),An.forEach(hs)}function $n(i,s){i.blockedOn===s&&(i.blockedOn=null,Ua||(Ua=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Pu)))}function Hn(i){function s(p){return $n(p,i)}if(0<or.length){$n(or[0],i);for(var l=1;l<or.length;l++){var h=or[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Vt!==null&&$n(Vt,i),Bn!==null&&$n(Bn,i),zn!==null&&$n(zn,i),ci.forEach(s),An.forEach(s),l=0;l<ar.length;l++)h=ar[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ar.length&&(l=ar[0],l.blockedOn===null);)Au(l),l.blockedOn===null&&ar.shift()}var br=oe.ReactCurrentBatchConfig,hi=!0;function Ze(i,s,l,h){var p=Ne,y=br.transition;br.transition=null;try{Ne=1,Ba(i,s,l,h)}finally{Ne=p,br.transition=y}}function sd(i,s,l,h){var p=Ne,y=br.transition;br.transition=null;try{Ne=4,Ba(i,s,l,h)}finally{Ne=p,br.transition=y}}function Ba(i,s,l,h){if(hi){var p=uo(i,s,l,h);if(p===null)gd(i,s,h,ds,l),Iu(i,h);else if(id(p,i,s,l,h))h.stopPropagation();else if(Iu(i,h),s&4&&-1<rd.indexOf(i)){for(;p!==null;){var y=tl(p);if(y!==null&&wu(y),y=uo(i,s,l,h),y===null&&gd(i,s,h,ds,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else gd(i,s,h,null,l)}}var ds=null;function uo(i,s,l,h){if(ds=null,i=Js(h),i=ms(i),i!==null)if(s=jn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=os(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return ds=i,null}function za(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mu()){case as:return 1;case ii:return 4;case In:case Fa:return 16;case gu:return 536870912;default:return 16}default:return 16}}var mn=null,co=null,rn=null;function $a(){if(rn)return rn;var i,s=co,l=s.length,h,p="value"in mn?mn.value:mn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===p[y-h];h++);return rn=p.slice(i,1<h?1-h:void 0)}function ho(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Ha(){return!1}function Dt(i){function s(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Ha,this.isPropagationStopped=Ha,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=Dt(Wn),ur=J({},Wn,{view:0,detail:0}),od=Dt(ur),po,Mr,di,fs=J({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(po=i.screenX-di.screenX,Mr=i.screenY-di.screenY):Mr=po=0,di=i),po)},movementY:function(i){return"movementY"in i?i.movementY:Mr}}),mo=Dt(fs),Wa=J({},fs,{dataTransfer:0}),Cu=Dt(Wa),go=J({},ur,{relatedTarget:0}),yo=Dt(go),Ru=J({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=Dt(Ru),xu=J({},Wn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ku=Dt(xu),Vu=J({},Wn,{data:0}),qa=Dt(Vu),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Du[i])?!!s[i]:!1}function cr(){return Nu}var c=J({},ur,{key:function(i){if(i.key){var s=vo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Zt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cr,charCode:function(i){return i.type==="keypress"?ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Dt(c),_=J({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Dt(_),U=J({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cr}),H=Dt(U),se=J({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Dt(se),wt=J({},fs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Dt(wt),Pt=[9,13,27,32],ft=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var gn=d&&"TextEvent"in window&&!Pn,ps=d&&(!ft||Pn&&8<Pn&&11>=Pn),_o=" ",Eg=!1;function Tg(i,s){switch(i){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wo=!1;function LS(i,s){switch(i){case"compositionend":return Sg(s);case"keypress":return s.which!==32?null:(Eg=!0,_o);case"textInput":return i=s.data,i===_o&&Eg?null:i;default:return null}}function OS(i,s){if(wo)return i==="compositionend"||!ft&&Tg(i,s)?(i=$a(),rn=co=mn=null,wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ps&&s.locale!=="ko"?null:s.data;default:return null}}var FS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ig(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!FS[i.type]:s==="textarea"}function Ag(i,s,l,h){sr(h),s=Fu(s,"onChange"),0<s.length&&(l=new fo("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Ka=null,Ga=null;function jS(i){$g(i,0)}function bu(i){var s=Ao(i);if(Ks(s))return i}function US(i,s){if(i==="change")return s}var Pg=!1;if(d){var ad;if(d){var ld="oninput"in document;if(!ld){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),ld=typeof Cg.oninput=="function"}ad=ld}else ad=!1;Pg=ad&&(!document.documentMode||9<document.documentMode)}function Rg(){Ka&&(Ka.detachEvent("onpropertychange",xg),Ga=Ka=null)}function xg(i){if(i.propertyName==="value"&&bu(Ga)){var s=[];Ag(s,Ga,i,Js(i)),ba(jS,s)}}function BS(i,s,l){i==="focusin"?(Rg(),Ka=s,Ga=l,Ka.attachEvent("onpropertychange",xg)):i==="focusout"&&Rg()}function zS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return bu(Ga)}function $S(i,s){if(i==="click")return bu(s)}function HS(i,s){if(i==="input"||i==="change")return bu(s)}function WS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var qn=typeof Object.is=="function"?Object.is:WS;function Qa(i,s){if(qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!qn(i[p],s[p]))return!1}return!0}function kg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Vg(i,s){var l=kg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kg(l)}}function Dg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Dg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ng(){for(var i=window,s=ni();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ni(i.document)}return s}function ud(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function qS(i){var s=Ng(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Dg(l.ownerDocument.documentElement,l)){if(h!==null&&ud(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=Vg(l,y);var T=Vg(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var KS=d&&"documentMode"in document&&11>=document.documentMode,Eo=null,cd=null,Xa=null,hd=!1;function bg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hd||Eo==null||Eo!==ni(h)||(h=Eo,"selectionStart"in h&&ud(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Xa&&Qa(Xa,h)||(Xa=h,h=Fu(cd,"onSelect"),0<h.length&&(s=new fo("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=Eo)))}function Mu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var To={animationend:Mu("Animation","AnimationEnd"),animationiteration:Mu("Animation","AnimationIteration"),animationstart:Mu("Animation","AnimationStart"),transitionend:Mu("Transition","TransitionEnd")},dd={},Mg={};d&&(Mg=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function Lu(i){if(dd[i])return dd[i];if(!To[i])return i;var s=To[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Mg)return dd[i]=s[l];return i}var Lg=Lu("animationend"),Og=Lu("animationiteration"),Fg=Lu("animationstart"),jg=Lu("transitionend"),Ug=new Map,Bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(i,s){Ug.set(i,s),a(s,[i])}for(var fd=0;fd<Bg.length;fd++){var pd=Bg[fd],GS=pd.toLowerCase(),QS=pd[0].toUpperCase()+pd.slice(1);fi(GS,"on"+QS)}fi(Lg,"onAnimationEnd"),fi(Og,"onAnimationIteration"),fi(Fg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(jg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ya="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ya));function zg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,du(h,s,void 0,i),i.currentTarget=null}function $g(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var P=h[T],V=P.instance,$=P.currentTarget;if(P=P.listener,V!==y&&p.isPropagationStopped())break e;zg(p,P,$),y=V}else for(T=0;T<h.length;T++){if(P=h[T],V=P.instance,$=P.currentTarget,P=P.listener,V!==y&&p.isPropagationStopped())break e;zg(p,P,$),y=V}}}if(Fn)throw i=Ma,Fn=!1,Ma=null,i}function Ge(i,s){var l=s[Td];l===void 0&&(l=s[Td]=new Set);var h=i+"__bubble";l.has(h)||(Hg(s,i,2,!1),l.add(h))}function md(i,s,l){var h=0;s&&(h|=4),Hg(l,i,h,s)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Ja(i){if(!i[Ou]){i[Ou]=!0,r.forEach(function(l){l!=="selectionchange"&&(XS.has(l)||md(l,!1,i),md(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ou]||(s[Ou]=!0,md("selectionchange",!1,s))}}function Hg(i,s,l,h){switch(za(s)){case 1:var p=Ze;break;case 4:p=sd;break;default:p=Ba}l=p.bind(null,s,l,i),p=void 0,!to||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function gd(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var P=h.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var V=T.tag;if((V===3||V===4)&&(V=T.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;T=T.return}for(;P!==null;){if(T=ms(P),T===null)return;if(V=T.tag,V===5||V===6){h=y=T;continue e}P=P.parentNode}}h=h.return}ba(function(){var $=y,Z=Js(l),ee=[];e:{var Y=Ug.get(i);if(Y!==void 0){var ue=fo,de=i;switch(i){case"keypress":if(ho(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":de="focus",ue=yo;break;case"focusout":de="blur",ue=yo;break;case"beforeblur":case"afterblur":ue=yo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case Lg:case Og:case Fg:ue=Lr;break;case jg:ue=$e;break;case"scroll":ue=od;break;case"wheel":ue=Me;break;case"copy":case"cut":case"paste":ue=ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var fe=(s&4)!==0,ct=!fe&&i==="scroll",B=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var b=$,z;b!==null;){z=b;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,B!==null&&(ie=ut(b,B),ie!=null&&fe.push(Za(b,ie,z)))),ct)break;b=b.return}0<fe.length&&(Y=new ue(Y,de,null,l,Z),ee.push({event:Y,listeners:fe}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",Y&&l!==ns&&(de=l.relatedTarget||l.fromElement)&&(ms(de)||de[Or]))break e;if((ue||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=$,de=de?ms(de):null,de!==null&&(ct=jn(de),de!==ct||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=$),ue!==de)){if(fe=mo,ie="onMouseLeave",B="onMouseEnter",b="mouse",(i==="pointerout"||i==="pointerover")&&(fe=S,ie="onPointerLeave",B="onPointerEnter",b="pointer"),ct=ue==null?Y:Ao(ue),z=de==null?Y:Ao(de),Y=new fe(ie,b+"leave",ue,l,Z),Y.target=ct,Y.relatedTarget=z,ie=null,ms(Z)===$&&(fe=new fe(B,b+"enter",de,l,Z),fe.target=z,fe.relatedTarget=ct,ie=fe),ct=ie,ue&&de)t:{for(fe=ue,B=de,b=0,z=fe;z;z=So(z))b++;for(z=0,ie=B;ie;ie=So(ie))z++;for(;0<b-z;)fe=So(fe),b--;for(;0<z-b;)B=So(B),z--;for(;b--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=So(fe),B=So(B)}fe=null}else fe=null;ue!==null&&Wg(ee,Y,ue,fe,!1),de!==null&&ct!==null&&Wg(ee,ct,de,fe,!0)}}e:{if(Y=$?Ao($):window,ue=Y.nodeName&&Y.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Y.type==="file")var ge=US;else if(Ig(Y))if(Pg)ge=HS;else{ge=zS;var ve=BS}else(ue=Y.nodeName)&&ue.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(ge=$S);if(ge&&(ge=ge(i,$))){Ag(ee,ge,l,Z);break e}ve&&ve(i,Y,$),i==="focusout"&&(ve=Y._wrapperState)&&ve.controlled&&Y.type==="number"&&Qs(Y,"number",Y.value)}switch(ve=$?Ao($):window,i){case"focusin":(Ig(ve)||ve.contentEditable==="true")&&(Eo=ve,cd=$,Xa=null);break;case"focusout":Xa=cd=Eo=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,bg(ee,l,Z);break;case"selectionchange":if(KS)break;case"keydown":case"keyup":bg(ee,l,Z)}var _e;if(ft)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else wo?Tg(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(ps&&l.locale!=="ko"&&(wo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&wo&&(_e=$a()):(mn=Z,co="value"in mn?mn.value:mn.textContent,wo=!0)),ve=Fu($,Ie),0<ve.length&&(Ie=new qa(Ie,i,null,l,Z),ee.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=Sg(l),_e!==null&&(Ie.data=_e)))),(_e=gn?LS(i,l):OS(i,l))&&($=Fu($,"onBeforeInput"),0<$.length&&(Z=new qa("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:$}),Z.data=_e))}$g(ee,s)})}function Za(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Fu(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ut(i,l),y!=null&&h.unshift(Za(i,y,p)),y=ut(i,s),y!=null&&h.push(Za(i,y,p))),i=i.return}return h}function So(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Wg(i,s,l,h,p){for(var y=s._reactName,T=[];l!==null&&l!==h;){var P=l,V=P.alternate,$=P.stateNode;if(V!==null&&V===h)break;P.tag===5&&$!==null&&(P=$,p?(V=ut(l,y),V!=null&&T.unshift(Za(l,V,P))):p||(V=ut(l,y),V!=null&&T.push(Za(l,V,P)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var YS=/\r\n?/g,JS=/\u0000|\uFFFD/g;function qg(i){return(typeof i=="string"?i:""+i).replace(YS,`
`).replace(JS,"")}function ju(i,s,l){if(s=qg(s),qg(i)!==s&&l)throw Error(t(425))}function Uu(){}var yd=null,vd=null;function _d(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,ZS=typeof clearTimeout=="function"?clearTimeout:void 0,Kg=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof Kg<"u"?function(i){return Kg.resolve(null).then(i).catch(tI)}:wd;function tI(i){setTimeout(function(){throw i})}function Ed(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),Hn(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);Hn(s)}function pi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Gg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Io=Math.random().toString(36).slice(2),hr="__reactFiber$"+Io,el="__reactProps$"+Io,Or="__reactContainer$"+Io,Td="__reactEvents$"+Io,nI="__reactListeners$"+Io,rI="__reactHandles$"+Io;function ms(i){var s=i[hr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Or]||l[hr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Gg(i);i!==null;){if(l=i[hr])return l;i=Gg(i)}return s}i=l,l=i.parentNode}return null}function tl(i){return i=i[hr]||i[Or],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ao(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Bu(i){return i[el]||null}var Sd=[],Po=-1;function mi(i){return{current:i}}function Qe(i){0>Po||(i.current=Sd[Po],Sd[Po]=null,Po--)}function Ke(i,s){Po++,Sd[Po]=i.current,i.current=s}var gi={},Bt=mi(gi),sn=mi(!1),gs=gi;function Co(i,s){var l=i.type.contextTypes;if(!l)return gi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function on(i){return i=i.childContextTypes,i!=null}function zu(){Qe(sn),Qe(Bt)}function Qg(i,s,l){if(Bt.current!==gi)throw Error(t(168));Ke(Bt,s),Ke(sn,l)}function Xg(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,je(i)||"Unknown",p));return J({},l,h)}function $u(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gi,gs=Bt.current,Ke(Bt,i),Ke(sn,sn.current),!0}function Yg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=Xg(i,s,gs),h.__reactInternalMemoizedMergedChildContext=i,Qe(sn),Qe(Bt),Ke(Bt,i)):Qe(sn),Ke(sn,l)}var Fr=null,Hu=!1,Id=!1;function Jg(i){Fr===null?Fr=[i]:Fr.push(i)}function iI(i){Hu=!0,Jg(i)}function yi(){if(!Id&&Fr!==null){Id=!0;var i=0,s=Ne;try{var l=Fr;for(Ne=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Fr=null,Hu=!1}catch(p){throw Fr!==null&&(Fr=Fr.slice(i+1)),so(as,yi),p}finally{Ne=s,Id=!1}}return null}var Ro=[],xo=0,Wu=null,qu=0,Cn=[],Rn=0,ys=null,jr=1,Ur="";function vs(i,s){Ro[xo++]=qu,Ro[xo++]=Wu,Wu=i,qu=s}function Zg(i,s,l){Cn[Rn++]=jr,Cn[Rn++]=Ur,Cn[Rn++]=ys,ys=i;var h=jr;i=Ur;var p=32-Jt(h)-1;h&=~(1<<p),l+=1;var y=32-Jt(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,jr=1<<32-Jt(s)+p|l<<p|h,Ur=y+i}else jr=1<<y|l<<p|h,Ur=i}function Ad(i){i.return!==null&&(vs(i,1),Zg(i,1,0))}function Pd(i){for(;i===Wu;)Wu=Ro[--xo],Ro[xo]=null,qu=Ro[--xo],Ro[xo]=null;for(;i===ys;)ys=Cn[--Rn],Cn[Rn]=null,Ur=Cn[--Rn],Cn[Rn]=null,jr=Cn[--Rn],Cn[Rn]=null}var yn=null,vn=null,et=!1,Kn=null;function ey(i,s){var l=Dn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function ty(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,yn=i,vn=pi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,yn=i,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:jr,overflow:Ur}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Dn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,yn=i,vn=null,!0):!1;default:return!1}}function Cd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Rd(i){if(et){var s=vn;if(s){var l=s;if(!ty(i,s)){if(Cd(i))throw Error(t(418));s=pi(l.nextSibling);var h=yn;s&&ty(i,s)?ey(h,l):(i.flags=i.flags&-4097|2,et=!1,yn=i)}}else{if(Cd(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,yn=i}}}function ny(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function Ku(i){if(i!==yn)return!1;if(!et)return ny(i),et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!_d(i.type,i.memoizedProps)),s&&(s=vn)){if(Cd(i))throw ry(),Error(t(418));for(;s;)ey(i,s),s=pi(s.nextSibling)}if(ny(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){vn=pi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}vn=null}}else vn=yn?pi(i.stateNode.nextSibling):null;return!0}function ry(){for(var i=vn;i;)i=pi(i.nextSibling)}function ko(){vn=yn=null,et=!1}function xd(i){Kn===null?Kn=[i]:Kn.push(i)}var sI=oe.ReactCurrentBatchConfig;function nl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var P=p.refs;T===null?delete P[y]:P[y]=T},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Gu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function iy(i){var s=i._init;return s(i._payload)}function sy(i){function s(B,b){if(i){var z=B.deletions;z===null?(B.deletions=[b],B.flags|=16):z.push(b)}}function l(B,b){if(!i)return null;for(;b!==null;)s(B,b),b=b.sibling;return null}function h(B,b){for(B=new Map;b!==null;)b.key!==null?B.set(b.key,b):B.set(b.index,b),b=b.sibling;return B}function p(B,b){return B=Ai(B,b),B.index=0,B.sibling=null,B}function y(B,b,z){return B.index=z,i?(z=B.alternate,z!==null?(z=z.index,z<b?(B.flags|=2,b):z):(B.flags|=2,b)):(B.flags|=1048576,b)}function T(B){return i&&B.alternate===null&&(B.flags|=2),B}function P(B,b,z,ie){return b===null||b.tag!==6?(b=Ef(z,B.mode,ie),b.return=B,b):(b=p(b,z),b.return=B,b)}function V(B,b,z,ie){var ge=z.type;return ge===x?Z(B,b,z.props.children,ie,z.key):b!==null&&(b.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===st&&iy(ge)===b.type)?(ie=p(b,z.props),ie.ref=nl(B,b,z),ie.return=B,ie):(ie=vc(z.type,z.key,z.props,null,B.mode,ie),ie.ref=nl(B,b,z),ie.return=B,ie)}function $(B,b,z,ie){return b===null||b.tag!==4||b.stateNode.containerInfo!==z.containerInfo||b.stateNode.implementation!==z.implementation?(b=Tf(z,B.mode,ie),b.return=B,b):(b=p(b,z.children||[]),b.return=B,b)}function Z(B,b,z,ie,ge){return b===null||b.tag!==7?(b=Ps(z,B.mode,ie,ge),b.return=B,b):(b=p(b,z),b.return=B,b)}function ee(B,b,z){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ef(""+b,B.mode,z),b.return=B,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ne:return z=vc(b.type,b.key,b.props,null,B.mode,z),z.ref=nl(B,null,b),z.return=B,z;case ae:return b=Tf(b,B.mode,z),b.return=B,b;case st:var ie=b._init;return ee(B,ie(b._payload),z)}if(Rr(b)||me(b))return b=Ps(b,B.mode,z,null),b.return=B,b;Gu(B,b)}return null}function Y(B,b,z,ie){var ge=b!==null?b.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:P(B,b,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ne:return z.key===ge?V(B,b,z,ie):null;case ae:return z.key===ge?$(B,b,z,ie):null;case st:return ge=z._init,Y(B,b,ge(z._payload),ie)}if(Rr(z)||me(z))return ge!==null?null:Z(B,b,z,ie,null);Gu(B,z)}return null}function ue(B,b,z,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(z)||null,P(b,B,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return B=B.get(ie.key===null?z:ie.key)||null,V(b,B,ie,ge);case ae:return B=B.get(ie.key===null?z:ie.key)||null,$(b,B,ie,ge);case st:var ve=ie._init;return ue(B,b,z,ve(ie._payload),ge)}if(Rr(ie)||me(ie))return B=B.get(z)||null,Z(b,B,ie,ge,null);Gu(b,ie)}return null}function de(B,b,z,ie){for(var ge=null,ve=null,_e=b,Ie=b=0,xt=null;_e!==null&&Ie<z.length;Ie++){_e.index>Ie?(xt=_e,_e=null):xt=_e.sibling;var Fe=Y(B,_e,z[Ie],ie);if(Fe===null){_e===null&&(_e=xt);break}i&&_e&&Fe.alternate===null&&s(B,_e),b=y(Fe,b,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe,_e=xt}if(Ie===z.length)return l(B,_e),et&&vs(B,Ie),ge;if(_e===null){for(;Ie<z.length;Ie++)_e=ee(B,z[Ie],ie),_e!==null&&(b=y(_e,b,Ie),ve===null?ge=_e:ve.sibling=_e,ve=_e);return et&&vs(B,Ie),ge}for(_e=h(B,_e);Ie<z.length;Ie++)xt=ue(_e,B,Ie,z[Ie],ie),xt!==null&&(i&&xt.alternate!==null&&_e.delete(xt.key===null?Ie:xt.key),b=y(xt,b,Ie),ve===null?ge=xt:ve.sibling=xt,ve=xt);return i&&_e.forEach(function(Pi){return s(B,Pi)}),et&&vs(B,Ie),ge}function fe(B,b,z,ie){var ge=me(z);if(typeof ge!="function")throw Error(t(150));if(z=ge.call(z),z==null)throw Error(t(151));for(var ve=ge=null,_e=b,Ie=b=0,xt=null,Fe=z.next();_e!==null&&!Fe.done;Ie++,Fe=z.next()){_e.index>Ie?(xt=_e,_e=null):xt=_e.sibling;var Pi=Y(B,_e,Fe.value,ie);if(Pi===null){_e===null&&(_e=xt);break}i&&_e&&Pi.alternate===null&&s(B,_e),b=y(Pi,b,Ie),ve===null?ge=Pi:ve.sibling=Pi,ve=Pi,_e=xt}if(Fe.done)return l(B,_e),et&&vs(B,Ie),ge;if(_e===null){for(;!Fe.done;Ie++,Fe=z.next())Fe=ee(B,Fe.value,ie),Fe!==null&&(b=y(Fe,b,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return et&&vs(B,Ie),ge}for(_e=h(B,_e);!Fe.done;Ie++,Fe=z.next())Fe=ue(_e,B,Ie,Fe.value,ie),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ie:Fe.key),b=y(Fe,b,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(FI){return s(B,FI)}),et&&vs(B,Ie),ge}function ct(B,b,z,ie){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ne:e:{for(var ge=z.key,ve=b;ve!==null;){if(ve.key===ge){if(ge=z.type,ge===x){if(ve.tag===7){l(B,ve.sibling),b=p(ve,z.props.children),b.return=B,B=b;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===st&&iy(ge)===ve.type){l(B,ve.sibling),b=p(ve,z.props),b.ref=nl(B,ve,z),b.return=B,B=b;break e}l(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===x?(b=Ps(z.props.children,B.mode,ie,z.key),b.return=B,B=b):(ie=vc(z.type,z.key,z.props,null,B.mode,ie),ie.ref=nl(B,b,z),ie.return=B,B=ie)}return T(B);case ae:e:{for(ve=z.key;b!==null;){if(b.key===ve)if(b.tag===4&&b.stateNode.containerInfo===z.containerInfo&&b.stateNode.implementation===z.implementation){l(B,b.sibling),b=p(b,z.children||[]),b.return=B,B=b;break e}else{l(B,b);break}else s(B,b);b=b.sibling}b=Tf(z,B.mode,ie),b.return=B,B=b}return T(B);case st:return ve=z._init,ct(B,b,ve(z._payload),ie)}if(Rr(z))return de(B,b,z,ie);if(me(z))return fe(B,b,z,ie);Gu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,b!==null&&b.tag===6?(l(B,b.sibling),b=p(b,z),b.return=B,B=b):(l(B,b),b=Ef(z,B.mode,ie),b.return=B,B=b),T(B)):l(B,b)}return ct}var Vo=sy(!0),oy=sy(!1),Qu=mi(null),Xu=null,Do=null,kd=null;function Vd(){kd=Do=Xu=null}function Dd(i){var s=Qu.current;Qe(Qu),i._currentValue=s}function Nd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function No(i,s){Xu=i,kd=Do=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(an=!0),i.firstContext=null)}function xn(i){var s=i._currentValue;if(kd!==i)if(i={context:i,memoizedValue:s,next:null},Do===null){if(Xu===null)throw Error(t(308));Do=i,Xu.dependencies={lanes:0,firstContext:i}}else Do=Do.next=i;return s}var _s=null;function bd(i){_s===null?_s=[i]:_s.push(i)}function ay(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,bd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Br(i,h)}function Br(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vi=!1;function Md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ly(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function _i(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Br(i,l)}return p=h.interleaved,p===null?(s.next=s,bd(h)):(s.next=p.next,p.next=s),h.interleaved=s,Br(i,l)}function Yu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,li(i,l)}}function uy(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Ju(i,s,l,h){var p=i.updateQueue;vi=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var V=P,$=V.next;V.next=null,T===null?y=$:T.next=$,T=V;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,P=Z.lastBaseUpdate,P!==T&&(P===null?Z.firstBaseUpdate=$:P.next=$,Z.lastBaseUpdate=V))}if(y!==null){var ee=p.baseState;T=0,Z=$=V=null,P=y;do{var Y=P.lane,ue=P.eventTime;if((h&Y)===Y){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=i,fe=P;switch(Y=s,ue=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ee=de.call(ue,ee,Y);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Y=typeof de=="function"?de.call(ue,ee,Y):de,Y==null)break e;ee=J({},ee,Y);break e;case 2:vi=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,Y=p.effects,Y===null?p.effects=[P]:Y.push(P))}else ue={eventTime:ue,lane:Y,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Z===null?($=Z=ue,V=ee):Z=Z.next=ue,T|=Y;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;Y=P,P=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(Z===null&&(V=ee),p.baseState=V,p.firstBaseUpdate=$,p.lastBaseUpdate=Z,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ts|=T,i.lanes=T,i.memoizedState=ee}}function cy(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var rl={},dr=mi(rl),il=mi(rl),sl=mi(rl);function ws(i){if(i===rl)throw Error(t(174));return i}function Ld(i,s){switch(Ke(sl,s),Ke(il,i),Ke(dr,rl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=_t(s,i)}Qe(dr),Ke(dr,s)}function bo(){Qe(dr),Qe(il),Qe(sl)}function hy(i){ws(sl.current);var s=ws(dr.current),l=_t(s,i.type);s!==l&&(Ke(il,i),Ke(dr,l))}function Od(i){il.current===i&&(Qe(dr),Qe(il))}var tt=mi(0);function Zu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Fd=[];function jd(){for(var i=0;i<Fd.length;i++)Fd[i]._workInProgressVersionPrimary=null;Fd.length=0}var ec=oe.ReactCurrentDispatcher,Ud=oe.ReactCurrentBatchConfig,Es=0,nt=null,Et=null,Ct=null,tc=!1,ol=!1,al=0,oI=0;function zt(){throw Error(t(321))}function Bd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!qn(i[l],s[l]))return!1;return!0}function zd(i,s,l,h,p,y){if(Es=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ec.current=i===null||i.memoizedState===null?cI:hI,i=l(h,p),ol){y=0;do{if(ol=!1,al=0,25<=y)throw Error(t(301));y+=1,Ct=Et=null,s.updateQueue=null,ec.current=dI,i=l(h,p)}while(ol)}if(ec.current=ic,s=Et!==null&&Et.next!==null,Es=0,Ct=Et=nt=null,tc=!1,s)throw Error(t(300));return i}function $d(){var i=al!==0;return al=0,i}function fr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?nt.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function kn(){if(Et===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var s=Ct===null?nt.memoizedState:Ct.next;if(s!==null)Ct=s,Et=i;else{if(i===null)throw Error(t(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Ct===null?nt.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function ll(i,s){return typeof s=="function"?s(i):s}function Hd(i){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Et,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var P=T=null,V=null,$=y;do{var Z=$.lane;if((Es&Z)===Z)V!==null&&(V=V.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var ee={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};V===null?(P=V=ee,T=h):V=V.next=ee,nt.lanes|=Z,Ts|=Z}$=$.next}while($!==null&&$!==y);V===null?T=h:V.next=P,qn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=V,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,nt.lanes|=y,Ts|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Wd(i){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);qn(y,s.memoizedState)||(an=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function dy(){}function fy(i,s){var l=nt,h=kn(),p=s(),y=!qn(h.memoizedState,p);if(y&&(h.memoizedState=p,an=!0),h=h.queue,qd(gy.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ul(9,my.bind(null,l,h,p,s),void 0,null),Rt===null)throw Error(t(349));(Es&30)!==0||py(l,s,p)}return p}function py(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function my(i,s,l,h){s.value=l,s.getSnapshot=h,yy(s)&&vy(i)}function gy(i,s,l){return l(function(){yy(s)&&vy(i)})}function yy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!qn(i,l)}catch{return!0}}function vy(i){var s=Br(i,1);s!==null&&Yn(s,i,1,-1)}function _y(i){var s=fr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ll,lastRenderedState:i},s.queue=i,i=i.dispatch=uI.bind(null,nt,i),[s.memoizedState,i]}function ul(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function wy(){return kn().memoizedState}function nc(i,s,l,h){var p=fr();nt.flags|=i,p.memoizedState=ul(1|s,l,void 0,h===void 0?null:h)}function rc(i,s,l,h){var p=kn();h=h===void 0?null:h;var y=void 0;if(Et!==null){var T=Et.memoizedState;if(y=T.destroy,h!==null&&Bd(h,T.deps)){p.memoizedState=ul(s,l,y,h);return}}nt.flags|=i,p.memoizedState=ul(1|s,l,y,h)}function Ey(i,s){return nc(8390656,8,i,s)}function qd(i,s){return rc(2048,8,i,s)}function Ty(i,s){return rc(4,2,i,s)}function Sy(i,s){return rc(4,4,i,s)}function Iy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Ay(i,s,l){return l=l!=null?l.concat([i]):null,rc(4,4,Iy.bind(null,s,i),l)}function Kd(){}function Py(i,s){var l=kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function Cy(i,s){var l=kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Bd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function Ry(i,s,l){return(Es&21)===0?(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=l):(qn(l,s)||(l=cs(),nt.lanes|=l,Ts|=l,i.baseState=!0),s)}function aI(i,s){var l=Ne;Ne=l!==0&&4>l?l:4,i(!0);var h=Ud.transition;Ud.transition={};try{i(!1),s()}finally{Ne=l,Ud.transition=h}}function xy(){return kn().memoizedState}function lI(i,s,l){var h=Si(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},ky(i))Vy(s,l);else if(l=ay(i,s,l,h),l!==null){var p=tn();Yn(l,i,h,p),Dy(l,s,h)}}function uI(i,s,l){var h=Si(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(ky(i))Vy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,P=y(T,l);if(p.hasEagerState=!0,p.eagerState=P,qn(P,T)){var V=s.interleaved;V===null?(p.next=p,bd(s)):(p.next=V.next,V.next=p),s.interleaved=p;return}}catch{}finally{}l=ay(i,s,p,h),l!==null&&(p=tn(),Yn(l,i,h,p),Dy(l,s,h))}}function ky(i){var s=i.alternate;return i===nt||s!==null&&s===nt}function Vy(i,s){ol=tc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Dy(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,li(i,l)}}var ic={readContext:xn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},cI={readContext:xn,useCallback:function(i,s){return fr().memoizedState=[i,s===void 0?null:s],i},useContext:xn,useEffect:Ey,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,nc(4194308,4,Iy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return nc(4194308,4,i,s)},useInsertionEffect:function(i,s){return nc(4,2,i,s)},useMemo:function(i,s){var l=fr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=fr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=lI.bind(null,nt,i),[h.memoizedState,i]},useRef:function(i){var s=fr();return i={current:i},s.memoizedState=i},useState:_y,useDebugValue:Kd,useDeferredValue:function(i){return fr().memoizedState=i},useTransition:function(){var i=_y(!1),s=i[0];return i=aI.bind(null,i[1]),fr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=nt,p=fr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Rt===null)throw Error(t(349));(Es&30)!==0||py(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Ey(gy.bind(null,h,y,i),[i]),h.flags|=2048,ul(9,my.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=fr(),s=Rt.identifierPrefix;if(et){var l=Ur,h=jr;l=(h&~(1<<32-Jt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=al++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=oI++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},hI={readContext:xn,useCallback:Py,useContext:xn,useEffect:qd,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Cy,useReducer:Hd,useRef:wy,useState:function(){return Hd(ll)},useDebugValue:Kd,useDeferredValue:function(i){var s=kn();return Ry(s,Et.memoizedState,i)},useTransition:function(){var i=Hd(ll)[0],s=kn().memoizedState;return[i,s]},useMutableSource:dy,useSyncExternalStore:fy,useId:xy,unstable_isNewReconciler:!1},dI={readContext:xn,useCallback:Py,useContext:xn,useEffect:qd,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Cy,useReducer:Wd,useRef:wy,useState:function(){return Wd(ll)},useDebugValue:Kd,useDeferredValue:function(i){var s=kn();return Et===null?s.memoizedState=i:Ry(s,Et.memoizedState,i)},useTransition:function(){var i=Wd(ll)[0],s=kn().memoizedState;return[i,s]},useMutableSource:dy,useSyncExternalStore:fy,useId:xy,unstable_isNewReconciler:!1};function Gn(i,s){if(i&&i.defaultProps){s=J({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Gd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:J({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var sc={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=tn(),p=Si(i),y=zr(h,p);y.payload=s,l!=null&&(y.callback=l),s=_i(i,y,p),s!==null&&(Yn(s,i,p,h),Yu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=tn(),p=Si(i),y=zr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=_i(i,y,p),s!==null&&(Yn(s,i,p,h),Yu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=tn(),h=Si(i),p=zr(l,h);p.tag=2,s!=null&&(p.callback=s),s=_i(i,p,h),s!==null&&(Yn(s,i,h,l),Yu(s,i,h))}};function Ny(i,s,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!Qa(l,h)||!Qa(p,y):!0}function by(i,s,l){var h=!1,p=gi,y=s.contextType;return typeof y=="object"&&y!==null?y=xn(y):(p=on(s)?gs:Bt.current,h=s.contextTypes,y=(h=h!=null)?Co(i,p):gi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=sc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function My(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&sc.enqueueReplaceState(s,s.state,null)}function Qd(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Md(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=xn(y):(y=on(s)?gs:Bt.current,p.context=Co(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Gd(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&sc.enqueueReplaceState(p,p.state,null),Ju(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Mo(i,s){try{var l="",h=s;do l+=Re(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Xd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Yd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function Ly(i,s,l){l=zr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){dc||(dc=!0,ff=h),Yd(i,s)},l}function Oy(i,s,l){l=zr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Yd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Yd(i,s),typeof h!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Fy(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new fI;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=CI.bind(null,i,s,l),s.then(i,i))}function jy(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Uy(i,s,l,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=zr(-1,1),s.tag=2,_i(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var pI=oe.ReactCurrentOwner,an=!1;function en(i,s,l,h){s.child=i===null?oy(s,null,l,h):Vo(s,i.child,l,h)}function By(i,s,l,h,p){l=l.render;var y=s.ref;return No(s,p),h=zd(i,s,l,h,y,p),l=$d(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,$r(i,s,p)):(et&&l&&Ad(s),s.flags|=1,en(i,s,h,p),s.child)}function zy(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!wf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,$y(i,s,y,h,p)):(i=vc(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Qa,l(T,h)&&i.ref===s.ref)return $r(i,s,p)}return s.flags|=1,i=Ai(y,h),i.ref=s.ref,i.return=s,s.child=i}function $y(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(Qa(y,h)&&i.ref===s.ref)if(an=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(an=!0);else return s.lanes=i.lanes,$r(i,s,p)}return Jd(i,s,l,h,p)}function Hy(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Oo,_n),_n|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ke(Oo,_n),_n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ke(Oo,_n),_n|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ke(Oo,_n),_n|=h;return en(i,s,p,l),s.child}function Wy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Jd(i,s,l,h,p){var y=on(l)?gs:Bt.current;return y=Co(s,y),No(s,p),l=zd(i,s,l,h,y,p),h=$d(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,$r(i,s,p)):(et&&h&&Ad(s),s.flags|=1,en(i,s,l,p),s.child)}function qy(i,s,l,h,p){if(on(l)){var y=!0;$u(s)}else y=!1;if(No(s,p),s.stateNode===null)ac(i,s),by(s,l,h),Qd(s,l,h,p),h=!0;else if(i===null){var T=s.stateNode,P=s.memoizedProps;T.props=P;var V=T.context,$=l.contextType;typeof $=="object"&&$!==null?$=xn($):($=on(l)?gs:Bt.current,$=Co(s,$));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";ee||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==h||V!==$)&&My(s,T,h,$),vi=!1;var Y=s.memoizedState;T.state=Y,Ju(s,h,T,p),V=s.memoizedState,P!==h||Y!==V||sn.current||vi?(typeof Z=="function"&&(Gd(s,l,Z,h),V=s.memoizedState),(P=vi||Ny(s,l,P,h,Y,V,$))?(ee||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=V),T.props=h,T.state=V,T.context=$,h=P):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,ly(i,s),P=s.memoizedProps,$=s.type===s.elementType?P:Gn(s.type,P),T.props=$,ee=s.pendingProps,Y=T.context,V=l.contextType,typeof V=="object"&&V!==null?V=xn(V):(V=on(l)?gs:Bt.current,V=Co(s,V));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==ee||Y!==V)&&My(s,T,h,V),vi=!1,Y=s.memoizedState,T.state=Y,Ju(s,h,T,p);var de=s.memoizedState;P!==ee||Y!==de||sn.current||vi?(typeof ue=="function"&&(Gd(s,l,ue,h),de=s.memoizedState),($=vi||Ny(s,l,$,h,Y,de,V)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,de,V),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,de,V)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),T.props=h,T.state=de,T.context=V,h=$):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),h=!1)}return Zd(i,s,l,h,y,p)}function Zd(i,s,l,h,p,y){Wy(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&Yg(s,l,!1),$r(i,s,y);h=s.stateNode,pI.current=s;var P=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=Vo(s,i.child,null,y),s.child=Vo(s,null,P,y)):en(i,s,P,y),s.memoizedState=h.state,p&&Yg(s,l,!0),s.child}function Ky(i){var s=i.stateNode;s.pendingContext?Qg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Qg(i,s.context,!1),Ld(i,s.containerInfo)}function Gy(i,s,l,h,p){return ko(),xd(p),s.flags|=256,en(i,s,l,h),s.child}var ef={dehydrated:null,treeContext:null,retryLane:0};function tf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qy(i,s,l){var h=s.pendingProps,p=tt.current,y=!1,T=(s.flags&128)!==0,P;if((P=T)||(P=i!==null&&i.memoizedState===null?!1:(p&2)!==0),P?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ke(tt,p&1),i===null)return Rd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=_c(T,h,0,null),i=Ps(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=tf(l),s.memoizedState=ef,i):nf(s,T));if(p=i.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return mI(i,s,T,h,P,p,l);if(y){y=h.fallback,T=s.mode,p=i.child,P=p.sibling;var V={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=V,s.deletions=null):(h=Ai(p,V),h.subtreeFlags=p.subtreeFlags&14680064),P!==null?y=Ai(P,y):(y=Ps(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=i.child.memoizedState,T=T===null?tf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,s.memoizedState=ef,h}return y=i.child,i=y.sibling,h=Ai(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function nf(i,s){return s=_c({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function oc(i,s,l,h){return h!==null&&xd(h),Vo(s,i.child,null,l),i=nf(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function mI(i,s,l,h,p,y,T){if(l)return s.flags&256?(s.flags&=-257,h=Xd(Error(t(422))),oc(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=_c({mode:"visible",children:h.children},p,0,null),y=Ps(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Vo(s,i.child,null,T),s.child.memoizedState=tf(T),s.memoizedState=ef,y);if((s.mode&1)===0)return oc(i,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=Xd(y,h,void 0),oc(i,s,T,h)}if(P=(T&i.childLanes)!==0,an||P){if(h=Rt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Br(i,p),Yn(h,i,p,-1))}return _f(),h=Xd(Error(t(421))),oc(i,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=RI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,vn=pi(p.nextSibling),yn=s,et=!0,Kn=null,i!==null&&(Cn[Rn++]=jr,Cn[Rn++]=Ur,Cn[Rn++]=ys,jr=i.id,Ur=i.overflow,ys=s),s=nf(s,h.children),s.flags|=4096,s)}function Xy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Nd(i.return,s,l)}function rf(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Yy(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(en(i,s,h.children,l),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Xy(i,l,s);else if(i.tag===19)Xy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ke(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Zu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),rf(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Zu(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}rf(s,!0,l,null,y);break;case"together":rf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ac(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function $r(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ts|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ai(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ai(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function gI(i,s,l){switch(s.tag){case 3:Ky(s),ko();break;case 5:hy(s);break;case 1:on(s.type)&&$u(s);break;case 4:Ld(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ke(Qu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(tt,tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Qy(i,s,l):(Ke(tt,tt.current&1),i=$r(i,s,l),i!==null?i.sibling:null);Ke(tt,tt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Yy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ke(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Hy(i,s,l)}return $r(i,s,l)}var Jy,sf,Zy,ev;Jy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},sf=function(){},Zy=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,ws(dr.current);var y=null;switch(l){case"input":p=Zi(i,p),h=Zi(i,h),y=[];break;case"select":p=J({},p,{value:void 0}),h=J({},h,{value:void 0}),y=[];break;case"textarea":p=Ia(i,p),h=Ia(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Uu)}ka(l,h);var T;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var P=p[$];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var V=h[$];if(P=p?.[$],h.hasOwnProperty($)&&V!==P&&(V!=null||P!=null))if($==="style")if(P){for(T in P)!P.hasOwnProperty(T)||V&&V.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in V)V.hasOwnProperty(T)&&P[T]!==V[T]&&(l||(l={}),l[T]=V[T])}else l||(y||(y=[]),y.push($,l)),l=V;else $==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(y=y||[]).push($,V)):$==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push($,""+V):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(V!=null&&$==="onScroll"&&Ge("scroll",i),y||P===V||(y=[])):(y=y||[]).push($,V))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},ev=function(i,s,l,h){l!==h&&(s.flags|=4)};function cl(i,s){if(!et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function yI(i,s,l){var h=s.pendingProps;switch(Pd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return on(s.type)&&zu(),$t(s),null;case 3:return h=s.stateNode,bo(),Qe(sn),Qe(Bt),jd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Ku(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Kn!==null&&(gf(Kn),Kn=null))),sf(i,s),$t(s),null;case 5:Od(s);var p=ws(sl.current);if(l=s.type,i!==null&&s.stateNode!=null)Zy(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(i=ws(dr.current),Ku(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[hr]=s,h[el]=y,i=(s.mode&1)!==0,l){case"dialog":Ge("cancel",h),Ge("close",h);break;case"iframe":case"object":case"embed":Ge("load",h);break;case"video":case"audio":for(p=0;p<Ya.length;p++)Ge(Ya[p],h);break;case"source":Ge("error",h);break;case"img":case"image":case"link":Ge("error",h),Ge("load",h);break;case"details":Ge("toggle",h);break;case"input":Gs(h,y),Ge("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ge("invalid",h);break;case"textarea":Xs(h,y),Ge("invalid",h)}ka(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var P=y[T];T==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&ju(h.textContent,P,i),p=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&ju(h.textContent,P,i),p=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Ge("scroll",h)}switch(l){case"input":Cr(h),hu(h,y,!0);break;case"textarea":Cr(h),Aa(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Uu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=vt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[hr]=s,i[el]=h,Jy(i,s,!1,!1),s.stateNode=i;e:{switch(T=Va(l,h),l){case"dialog":Ge("cancel",i),Ge("close",i),p=h;break;case"iframe":case"object":case"embed":Ge("load",i),p=h;break;case"video":case"audio":for(p=0;p<Ya.length;p++)Ge(Ya[p],i);p=h;break;case"source":Ge("error",i),p=h;break;case"img":case"image":case"link":Ge("error",i),Ge("load",i),p=h;break;case"details":Ge("toggle",i),p=h;break;case"input":Gs(i,h),p=Zi(i,h),Ge("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=J({},h,{value:void 0}),Ge("invalid",i);break;case"textarea":Xs(i,h),p=Ia(i,h),Ge("invalid",i);break;default:p=h}ka(l,p),P=p;for(y in P)if(P.hasOwnProperty(y)){var V=P[y];y==="style"?Ra(i,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Pa(i,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&ri(i,V):typeof V=="number"&&ri(i,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&Ge("scroll",i):V!=null&&Q(i,y,V,T))}switch(l){case"input":Cr(i),hu(i,h,!1);break;case"textarea":Cr(i),Aa(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?xr(i,!!h.multiple,y,!1):h.defaultValue!=null&&xr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Uu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(i&&s.stateNode!=null)ev(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ws(sl.current),ws(dr.current),Ku(s)){if(h=s.stateNode,l=s.memoizedProps,h[hr]=s,(y=h.nodeValue!==l)&&(i=yn,i!==null))switch(i.tag){case 3:ju(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ju(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[hr]=s,s.stateNode=h}return $t(s),null;case 13:if(Qe(tt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)ry(),ko(),s.flags|=98560,y=!1;else if(y=Ku(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[hr]=s}else ko(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else Kn!==null&&(gf(Kn),Kn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(tt.current&1)!==0?Tt===0&&(Tt=3):_f())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return bo(),sf(i,s),i===null&&Ja(s.stateNode.containerInfo),$t(s),null;case 10:return Dd(s.type._context),$t(s),null;case 17:return on(s.type)&&zu(),$t(s),null;case 19:if(Qe(tt),y=s.memoizedState,y===null)return $t(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)cl(y,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=Zu(i),T!==null){for(s.flags|=128,cl(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(tt,tt.current&1|2),s.child}i=i.sibling}y.tail!==null&&qe()>Fo&&(s.flags|=128,h=!0,cl(y,!1),s.lanes=4194304)}else{if(!h)if(i=Zu(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),cl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!et)return $t(s),null}else 2*qe()-y.renderingStartTime>Fo&&l!==1073741824&&(s.flags|=128,h=!0,cl(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=qe(),s.sibling=null,l=tt.current,Ke(tt,h?l&1|2:l&1),s):($t(s),null);case 22:case 23:return vf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(_n&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function vI(i,s){switch(Pd(s),s.tag){case 1:return on(s.type)&&zu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return bo(),Qe(sn),Qe(Bt),jd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Od(s),null;case 13:if(Qe(tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ko()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Qe(tt),null;case 4:return bo(),null;case 10:return Dd(s.type._context),null;case 22:case 23:return vf(),null;case 24:return null;default:return null}}var lc=!1,Ht=!1,_I=typeof WeakSet=="function"?WeakSet:Set,he=null;function Lo(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(i,s,h)}else l.current=null}function of(i,s,l){try{l()}catch(h){ot(i,s,h)}}var tv=!1;function wI(i,s){if(yd=hi,i=Ng(),ud(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,P=-1,V=-1,$=0,Z=0,ee=i,Y=null;t:for(;;){for(var ue;ee!==l||p!==0&&ee.nodeType!==3||(P=T+p),ee!==y||h!==0&&ee.nodeType!==3||(V=T+h),ee.nodeType===3&&(T+=ee.nodeValue.length),(ue=ee.firstChild)!==null;)Y=ee,ee=ue;for(;;){if(ee===i)break t;if(Y===l&&++$===p&&(P=T),Y===y&&++Z===h&&(V=T),(ue=ee.nextSibling)!==null)break;ee=Y,Y=ee.parentNode}ee=ue}l=P===-1||V===-1?null:{start:P,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(vd={focusedElem:i,selectionRange:l},hi=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ct=de.memoizedState,B=s.stateNode,b=B.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Gn(s.type,fe),ct);B.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){ot(s,s.return,ie)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return de=tv,tv=!1,de}function hl(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&of(s,l,y)}p=p.next}while(p!==h)}}function uc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function af(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function nv(i){var s=i.alternate;s!==null&&(i.alternate=null,nv(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[hr],delete s[el],delete s[Td],delete s[nI],delete s[rI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function rv(i){return i.tag===5||i.tag===3||i.tag===4}function iv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Uu));else if(h!==4&&(i=i.child,i!==null))for(lf(i,s,l),i=i.sibling;i!==null;)lf(i,s,l),i=i.sibling}function uf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(uf(i,s,l),i=i.sibling;i!==null;)uf(i,s,l),i=i.sibling}var Nt=null,Qn=!1;function wi(i,s,l){for(l=l.child;l!==null;)sv(i,s,l),l=l.sibling}function sv(i,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:Ht||Lo(l,s);case 6:var h=Nt,p=Qn;Nt=null,wi(i,s,l),Nt=h,Qn=p,Nt!==null&&(Qn?(i=Nt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Qn?(i=Nt,l=l.stateNode,i.nodeType===8?Ed(i.parentNode,l):i.nodeType===1&&Ed(i,l),Hn(i)):Ed(Nt,l.stateNode));break;case 4:h=Nt,p=Qn,Nt=l.stateNode.containerInfo,Qn=!0,wi(i,s,l),Nt=h,Qn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&of(l,s,T),p=p.next}while(p!==h)}wi(i,s,l);break;case 1:if(!Ht&&(Lo(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){ot(l,s,P)}wi(i,s,l);break;case 21:wi(i,s,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,wi(i,s,l),Ht=h):wi(i,s,l);break;default:wi(i,s,l)}}function ov(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new _I),s.forEach(function(h){var p=xI.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Xn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=s,P=T;e:for(;P!==null;){switch(P.tag){case 5:Nt=P.stateNode,Qn=!1;break e;case 3:Nt=P.stateNode.containerInfo,Qn=!0;break e;case 4:Nt=P.stateNode.containerInfo,Qn=!0;break e}P=P.return}if(Nt===null)throw Error(t(160));sv(y,T,p),Nt=null,Qn=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch($){ot(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)av(s,i),s=s.sibling}function av(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Xn(s,i),pr(i),h&4){try{hl(3,i,i.return),uc(3,i)}catch(fe){ot(i,i.return,fe)}try{hl(5,i,i.return)}catch(fe){ot(i,i.return,fe)}}break;case 1:Xn(s,i),pr(i),h&512&&l!==null&&Lo(l,l.return);break;case 5:if(Xn(s,i),pr(i),h&512&&l!==null&&Lo(l,l.return),i.flags&32){var p=i.stateNode;try{ri(p,"")}catch(fe){ot(i,i.return,fe)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,P=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Ta(p,y),Va(P,T);var $=Va(P,y);for(T=0;T<V.length;T+=2){var Z=V[T],ee=V[T+1];Z==="style"?Ra(p,ee):Z==="dangerouslySetInnerHTML"?Pa(p,ee):Z==="children"?ri(p,ee):Q(p,Z,ee,$)}switch(P){case"input":Sa(p,y);break;case"textarea":Ys(p,y);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?xr(p,!!y.multiple,ue,!1):Y!==!!y.multiple&&(y.defaultValue!=null?xr(p,!!y.multiple,y.defaultValue,!0):xr(p,!!y.multiple,y.multiple?[]:"",!1))}p[el]=y}catch(fe){ot(i,i.return,fe)}}break;case 6:if(Xn(s,i),pr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(fe){ot(i,i.return,fe)}}break;case 3:if(Xn(s,i),pr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Hn(s.containerInfo)}catch(fe){ot(i,i.return,fe)}break;case 4:Xn(s,i),pr(i);break;case 13:Xn(s,i),pr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(df=qe())),h&4&&ov(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Ht=($=Ht)||Z,Xn(s,i),Ht=$):Xn(s,i),pr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Z&&(i.mode&1)!==0)for(he=i,Z=i.child;Z!==null;){for(ee=he=Z;he!==null;){switch(Y=he,ue=Y.child,Y.tag){case 0:case 11:case 14:case 15:hl(4,Y,Y.return);break;case 1:Lo(Y,Y.return);var de=Y.stateNode;if(typeof de.componentWillUnmount=="function"){h=Y,l=Y.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){ot(h,l,fe)}}break;case 5:Lo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){cv(ee);continue}}ue!==null?(ue.return=Y,he=ue):cv(ee)}Z=Z.sibling}e:for(Z=null,ee=i;;){if(ee.tag===5){if(Z===null){Z=ee;try{p=ee.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ee.stateNode,V=ee.memoizedProps.style,T=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=Ca("display",T))}catch(fe){ot(i,i.return,fe)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(fe){ot(i,i.return,fe)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===i)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===i)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===i)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Xn(s,i),pr(i),h&4&&ov(i);break;case 21:break;default:Xn(s,i),pr(i)}}function pr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(rv(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ri(p,""),h.flags&=-33);var y=iv(i);uf(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,P=iv(i);lf(i,P,T);break;default:throw Error(t(161))}}catch(V){ot(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function EI(i,s,l){he=i,lv(i)}function lv(i,s,l){for(var h=(i.mode&1)!==0;he!==null;){var p=he,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||lc;if(!T){var P=p.alternate,V=P!==null&&P.memoizedState!==null||Ht;P=lc;var $=Ht;if(lc=T,(Ht=V)&&!$)for(he=p;he!==null;)T=he,V=T.child,T.tag===22&&T.memoizedState!==null?hv(p):V!==null?(V.return=T,he=V):hv(p);for(;y!==null;)he=y,lv(y),y=y.sibling;he=p,lc=P,Ht=$}uv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,he=y):uv(i)}}function uv(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ht||uc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&cy(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}cy(s,T,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&Hn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&af(s)}catch(Y){ot(s,s.return,Y)}}if(s===i){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function cv(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function hv(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{uc(4,s)}catch(V){ot(s,l,V)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(V){ot(s,p,V)}}var y=s.return;try{af(s)}catch(V){ot(s,y,V)}break;case 5:var T=s.return;try{af(s)}catch(V){ot(s,T,V)}}}catch(V){ot(s,s.return,V)}if(s===i){he=null;break}var P=s.sibling;if(P!==null){P.return=s.return,he=P;break}he=s.return}}var TI=Math.ceil,cc=oe.ReactCurrentDispatcher,cf=oe.ReactCurrentOwner,Vn=oe.ReactCurrentBatchConfig,Oe=0,Rt=null,pt=null,bt=0,_n=0,Oo=mi(0),Tt=0,dl=null,Ts=0,hc=0,hf=0,fl=null,ln=null,df=0,Fo=1/0,Hr=null,dc=!1,ff=null,Ei=null,fc=!1,Ti=null,pc=0,pl=0,pf=null,mc=-1,gc=0;function tn(){return(Oe&6)!==0?qe():mc!==-1?mc:mc=qe()}function Si(i){return(i.mode&1)===0?1:(Oe&2)!==0&&bt!==0?bt&-bt:sI.transition!==null?(gc===0&&(gc=cs()),gc):(i=Ne,i!==0||(i=window.event,i=i===void 0?16:za(i.type)),i)}function Yn(i,s,l,h){if(50<pl)throw pl=0,pf=null,Error(t(185));ai(i,l,h),((Oe&2)===0||i!==Rt)&&(i===Rt&&((Oe&2)===0&&(hc|=l),Tt===4&&Ii(i,bt)),un(i,h),l===1&&Oe===0&&(s.mode&1)===0&&(Fo=qe()+500,Hu&&yi()))}function un(i,s){var l=i.callbackNode;Dr(i,s);var h=us(i,i===Rt?bt:0);if(h===0)l!==null&&Oa(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&Oa(l),s===1)i.tag===0?iI(fv.bind(null,i)):Jg(fv.bind(null,i)),eI(function(){(Oe&6)===0&&yi()}),l=null;else{switch(ui(h)){case 1:l=as;break;case 4:l=ii;break;case 16:l=In;break;case 536870912:l=gu;break;default:l=In}l=Ev(l,dv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function dv(i,s){if(mc=-1,gc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(jo()&&i.callbackNode!==l)return null;var h=us(i,i===Rt?bt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=yc(i,h);else{s=h;var p=Oe;Oe|=2;var y=mv();(Rt!==i||bt!==s)&&(Hr=null,Fo=qe()+500,Is(i,s));do try{AI();break}catch(P){pv(i,P)}while(!0);Vd(),cc.current=y,Oe=p,pt!==null?s=0:(Rt=null,bt=0,s=Tt)}if(s!==0){if(s===2&&(p=pn(i),p!==0&&(h=p,s=mf(i,p))),s===1)throw l=dl,Is(i,0),Ii(i,h),un(i,qe()),l;if(s===6)Ii(i,h);else{if(p=i.current.alternate,(h&30)===0&&!SI(p)&&(s=yc(i,h),s===2&&(y=pn(i),y!==0&&(h=y,s=mf(i,y))),s===1))throw l=dl,Is(i,0),Ii(i,h),un(i,qe()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:As(i,ln,Hr);break;case 3:if(Ii(i,h),(h&130023424)===h&&(s=df+500-qe(),10<s)){if(us(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){tn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=wd(As.bind(null,i,ln,Hr),s);break}As(i,ln,Hr);break;case 4:if(Ii(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var T=31-Jt(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*TI(h/1960))-h,10<h){i.timeoutHandle=wd(As.bind(null,i,ln,Hr),h);break}As(i,ln,Hr);break;case 5:As(i,ln,Hr);break;default:throw Error(t(329))}}}return un(i,qe()),i.callbackNode===l?dv.bind(null,i):null}function mf(i,s){var l=fl;return i.current.memoizedState.isDehydrated&&(Is(i,s).flags|=256),i=yc(i,s),i!==2&&(s=ln,ln=l,s!==null&&gf(s)),i}function gf(i){ln===null?ln=i:ln.push.apply(ln,i)}function SI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(i,s){for(s&=~hf,s&=~hc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Jt(s),h=1<<l;i[l]=-1,s&=~h}}function fv(i){if((Oe&6)!==0)throw Error(t(327));jo();var s=us(i,0);if((s&1)===0)return un(i,qe()),null;var l=yc(i,s);if(i.tag!==0&&l===2){var h=pn(i);h!==0&&(s=h,l=mf(i,h))}if(l===1)throw l=dl,Is(i,0),Ii(i,s),un(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,As(i,ln,Hr),un(i,qe()),null}function yf(i,s){var l=Oe;Oe|=1;try{return i(s)}finally{Oe=l,Oe===0&&(Fo=qe()+500,Hu&&yi())}}function Ss(i){Ti!==null&&Ti.tag===0&&(Oe&6)===0&&jo();var s=Oe;Oe|=1;var l=Vn.transition,h=Ne;try{if(Vn.transition=null,Ne=1,i)return i()}finally{Ne=h,Vn.transition=l,Oe=s,(Oe&6)===0&&yi()}}function vf(){_n=Oo.current,Qe(Oo)}function Is(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,ZS(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(Pd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&zu();break;case 3:bo(),Qe(sn),Qe(Bt),jd();break;case 5:Od(h);break;case 4:bo();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:Dd(h.type._context);break;case 22:case 23:vf()}l=l.return}if(Rt=i,pt=i=Ai(i.current,null),bt=_n=s,Tt=0,dl=null,hf=hc=Ts=0,ln=fl=null,_s!==null){for(s=0;s<_s.length;s++)if(l=_s[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}_s=null}return i}function pv(i,s){do{var l=pt;try{if(Vd(),ec.current=ic,tc){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}tc=!1}if(Es=0,Ct=Et=nt=null,ol=!1,al=0,cf.current=null,l===null||l.return===null){Tt=1,dl=s,pt=null;break}e:{var y=i,T=l.return,P=l,V=s;if(s=bt,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var $=V,Z=P,ee=Z.tag;if((Z.mode&1)===0&&(ee===0||ee===11||ee===15)){var Y=Z.alternate;Y?(Z.updateQueue=Y.updateQueue,Z.memoizedState=Y.memoizedState,Z.lanes=Y.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=jy(T);if(ue!==null){ue.flags&=-257,Uy(ue,T,P,y,s),ue.mode&1&&Fy(y,$,s),s=ue,V=$;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(V),s.updateQueue=fe}else de.add(V);break e}else{if((s&1)===0){Fy(y,$,s),_f();break e}V=Error(t(426))}}else if(et&&P.mode&1){var ct=jy(T);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Uy(ct,T,P,y,s),xd(Mo(V,P));break e}}y=V=Mo(V,P),Tt!==4&&(Tt=2),fl===null?fl=[y]:fl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Ly(y,V,s);uy(y,B);break e;case 1:P=V;var b=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ei===null||!Ei.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ie=Oy(y,P,s);uy(y,ie);break e}}y=y.return}while(y!==null)}yv(l)}catch(ge){s=ge,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function mv(){var i=cc.current;return cc.current=ic,i===null?ic:i}function _f(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Rt===null||(Ts&268435455)===0&&(hc&268435455)===0||Ii(Rt,bt)}function yc(i,s){var l=Oe;Oe|=2;var h=mv();(Rt!==i||bt!==s)&&(Hr=null,Is(i,s));do try{II();break}catch(p){pv(i,p)}while(!0);if(Vd(),Oe=l,cc.current=h,pt!==null)throw Error(t(261));return Rt=null,bt=0,Tt}function II(){for(;pt!==null;)gv(pt)}function AI(){for(;pt!==null&&!pu();)gv(pt)}function gv(i){var s=wv(i.alternate,i,_n);i.memoizedProps=i.pendingProps,s===null?yv(i):pt=s,cf.current=null}function yv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=yI(l,s,_n),l!==null){pt=l;return}}else{if(l=vI(l,s),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=i}while(s!==null);Tt===0&&(Tt=5)}function As(i,s,l){var h=Ne,p=Vn.transition;try{Vn.transition=null,Ne=1,PI(i,s,l,h)}finally{Vn.transition=p,Ne=h}return null}function PI(i,s,l,h){do jo();while(Ti!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(He(i,y),i===Rt&&(pt=Rt=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||fc||(fc=!0,Ev(In,function(){return jo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Vn.transition,Vn.transition=null;var T=Ne;Ne=1;var P=Oe;Oe|=4,cf.current=null,wI(i,l),av(l,i),qS(vd),hi=!!yd,vd=yd=null,i.current=l,EI(l),td(),Oe=P,Ne=T,Vn.transition=y}else i.current=l;if(fc&&(fc=!1,Ti=i,pc=p),y=i.pendingLanes,y===0&&(Ei=null),yu(l.stateNode),un(i,qe()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(dc)throw dc=!1,i=ff,ff=null,i;return(pc&1)!==0&&i.tag!==0&&jo(),y=i.pendingLanes,(y&1)!==0?i===pf?pl++:(pl=0,pf=i):pl=0,yi(),null}function jo(){if(Ti!==null){var i=ui(pc),s=Vn.transition,l=Ne;try{if(Vn.transition=null,Ne=16>i?16:i,Ti===null)var h=!1;else{if(i=Ti,Ti=null,pc=0,(Oe&6)!==0)throw Error(t(331));var p=Oe;for(Oe|=4,he=i.current;he!==null;){var y=he,T=y.child;if((he.flags&16)!==0){var P=y.deletions;if(P!==null){for(var V=0;V<P.length;V++){var $=P[V];for(he=$;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:hl(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,he=ee;else for(;he!==null;){Z=he;var Y=Z.sibling,ue=Z.return;if(nv(Z),Z===$){he=null;break}if(Y!==null){Y.return=ue,he=Y;break}he=ue}}}var de=y.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ct=fe.sibling;fe.sibling=null,fe=ct}while(fe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,he=T;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:hl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,he=B;break e}he=y.return}}var b=i.current;for(he=b;he!==null;){T=he;var z=T.child;if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,he=z;else e:for(T=b;he!==null;){if(P=he,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:uc(9,P)}}catch(ge){ot(P,P.return,ge)}if(P===T){he=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,he=ie;break e}he=P.return}}if(Oe=p,yi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ls,i)}catch{}h=!0}return h}finally{Ne=l,Vn.transition=s}}return!1}function vv(i,s,l){s=Mo(l,s),s=Ly(i,s,1),i=_i(i,s,1),s=tn(),i!==null&&(ai(i,1,s),un(i,s))}function ot(i,s,l){if(i.tag===3)vv(i,i,l);else for(;s!==null;){if(s.tag===3){vv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))){i=Mo(l,i),i=Oy(s,i,1),s=_i(s,i,1),i=tn(),s!==null&&(ai(s,1,i),un(s,i));break}}s=s.return}}function CI(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=tn(),i.pingedLanes|=i.suspendedLanes&l,Rt===i&&(bt&l)===l&&(Tt===4||Tt===3&&(bt&130023424)===bt&&500>qe()-df?Is(i,0):hf|=l),un(i,s)}function _v(i,s){s===0&&((i.mode&1)===0?s=1:(s=ao,ao<<=1,(ao&130023424)===0&&(ao=4194304)));var l=tn();i=Br(i,s),i!==null&&(ai(i,s,l),un(i,l))}function RI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),_v(i,l)}function xI(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),_v(i,l)}var wv;wv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return an=!1,gI(i,s,l);an=(i.flags&131072)!==0}else an=!1,et&&(s.flags&1048576)!==0&&Zg(s,qu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;ac(i,s),i=s.pendingProps;var p=Co(s,Bt.current);No(s,l),p=zd(null,s,h,i,p,l);var y=$d();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(y=!0,$u(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Md(s),p.updater=sc,s.stateNode=p,p._reactInternals=s,Qd(s,h,i,l),s=Zd(null,s,h,!0,y,l)):(s.tag=0,et&&y&&Ad(s),en(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(ac(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=VI(h),i=Gn(h,i),p){case 0:s=Jd(null,s,h,i,l);break e;case 1:s=qy(null,s,h,i,l);break e;case 11:s=By(null,s,h,i,l);break e;case 14:s=zy(null,s,h,Gn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),Jd(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),qy(i,s,h,p,l);case 3:e:{if(Ky(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,ly(i,s),Ju(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Mo(Error(t(423)),s),s=Gy(i,s,h,l,p);break e}else if(h!==p){p=Mo(Error(t(424)),s),s=Gy(i,s,h,l,p);break e}else for(vn=pi(s.stateNode.containerInfo.firstChild),yn=s,et=!0,Kn=null,l=oy(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ko(),h===p){s=$r(i,s,l);break e}en(i,s,h,l)}s=s.child}return s;case 5:return hy(s),i===null&&Rd(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,_d(h,p)?T=null:y!==null&&_d(h,y)&&(s.flags|=32),Wy(i,s),en(i,s,T,l),s.child;case 6:return i===null&&Rd(s),null;case 13:return Qy(i,s,l);case 4:return Ld(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Vo(s,null,h,l):en(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),By(i,s,h,p,l);case 7:return en(i,s,s.pendingProps,l),s.child;case 8:return en(i,s,s.pendingProps.children,l),s.child;case 12:return en(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,Ke(Qu,h._currentValue),h._currentValue=T,y!==null)if(qn(y.value,T)){if(y.children===p.children&&!sn.current){s=$r(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){T=y.child;for(var V=P.firstContext;V!==null;){if(V.context===h){if(y.tag===1){V=zr(-1,l&-l),V.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?V.next=V:(V.next=Z.next,Z.next=V),$.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),Nd(y.return,l,s),P.lanes|=l;break}V=V.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),Nd(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}en(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,No(s,l),p=xn(p),h=h(p),s.flags|=1,en(i,s,h,l),s.child;case 14:return h=s.type,p=Gn(h,s.pendingProps),p=Gn(h.type,p),zy(i,s,h,p,l);case 15:return $y(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),ac(i,s),s.tag=1,on(h)?(i=!0,$u(s)):i=!1,No(s,l),by(s,h,p),Qd(s,h,p,l),Zd(null,s,h,!0,i,l);case 19:return Yy(i,s,l);case 22:return Hy(i,s,l)}throw Error(t(156,s.tag))};function Ev(i,s){return so(i,s)}function kI(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(i,s,l,h){return new kI(i,s,l,h)}function wf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function VI(i){if(typeof i=="function")return wf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===lt)return 14}return 2}function Ai(i,s){var l=i.alternate;return l===null?(l=Dn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function vc(i,s,l,h,p,y){var T=2;if(h=i,typeof i=="function")wf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case x:return Ps(l.children,p,y,s);case I:T=8,p|=8;break;case C:return i=Dn(12,l,s,p|2),i.elementType=C,i.lanes=y,i;case R:return i=Dn(13,l,s,p),i.elementType=R,i.lanes=y,i;case Be:return i=Dn(19,l,s,p),i.elementType=Be,i.lanes=y,i;case Se:return _c(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:T=10;break e;case D:T=9;break e;case j:T=11;break e;case lt:T=14;break e;case st:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Dn(T,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ps(i,s,l,h){return i=Dn(7,i,h,s),i.lanes=l,i}function _c(i,s,l,h){return i=Dn(22,i,h,s),i.elementType=Se,i.lanes=l,i.stateNode={isHidden:!1},i}function Ef(i,s,l){return i=Dn(6,i,null,s),i.lanes=l,i}function Tf(i,s,l){return s=Dn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function DI(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Sf(i,s,l,h,p,y,T,P,V){return i=new DI(i,s,l,P,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Dn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(y),i}function NI(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function Tv(i){if(!i)return gi;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(on(l))return Xg(i,l,s)}return s}function Sv(i,s,l,h,p,y,T,P,V){return i=Sf(l,h,!0,i,p,y,T,P,V),i.context=Tv(null),l=i.current,h=tn(),p=Si(l),y=zr(h,p),y.callback=s??null,_i(l,y,p),i.current.lanes=p,ai(i,p,h),un(i,h),i}function wc(i,s,l,h){var p=s.current,y=tn(),T=Si(p);return l=Tv(l),s.context===null?s.context=l:s.pendingContext=l,s=zr(y,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=_i(p,s,T),i!==null&&(Yn(i,p,T,y),Yu(i,p,T)),T}function Ec(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Iv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function If(i,s){Iv(i,s),(i=i.alternate)&&Iv(i,s)}function bI(){return null}var Av=typeof reportError=="function"?reportError:function(i){console.error(i)};function Af(i){this._internalRoot=i}Tc.prototype.render=Af.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));wc(i,s,null,null)},Tc.prototype.unmount=Af.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ss(function(){wc(null,i,null,null)}),s[Or]=null}};function Tc(i){this._internalRoot=i}Tc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Tu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ar.length&&s!==0&&s<ar[l].priority;l++);ar.splice(l,0,i),l===0&&Au(i)}};function Pf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Sc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Pv(){}function MI(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=Ec(T);y.call($)}}var T=Sv(s,h,i,0,null,!1,!1,"",Pv);return i._reactRootContainer=T,i[Or]=T.current,Ja(i.nodeType===8?i.parentNode:i),Ss(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var P=h;h=function(){var $=Ec(V);P.call($)}}var V=Sf(i,0,!1,null,null,!1,!1,"",Pv);return i._reactRootContainer=V,i[Or]=V.current,Ja(i.nodeType===8?i.parentNode:i),Ss(function(){wc(s,V,l,h)}),V}function Ic(i,s,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var P=p;p=function(){var V=Ec(T);P.call(V)}}wc(s,T,i,p)}else T=MI(l,s,i,p,h);return Ec(T)}wu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=si(s.pendingLanes);l!==0&&(li(s,l|1),un(s,qe()),(Oe&6)===0&&(Fo=qe()+500,yi()))}break;case 13:Ss(function(){var h=Br(i,1);if(h!==null){var p=tn();Yn(h,i,1,p)}}),If(i,1)}},lo=function(i){if(i.tag===13){var s=Br(i,134217728);if(s!==null){var l=tn();Yn(s,i,134217728,l)}If(i,134217728)}},Eu=function(i){if(i.tag===13){var s=Si(i),l=Br(i,s);if(l!==null){var h=tn();Yn(l,i,s,h)}If(i,s)}},Tu=function(){return Ne},Su=function(i,s){var l=Ne;try{return Ne=i,s()}finally{Ne=l}},Zs=function(i,s,l){switch(s){case"input":if(Sa(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=Bu(h);if(!p)throw Error(t(90));Ks(h),Sa(h,p)}}}break;case"textarea":Ys(i,l);break;case"select":s=l.value,s!=null&&xr(i,!!l.multiple,s,!1)}},rs=yf,Na=Ss;var LI={usingClientEntryPoint:!1,Events:[tl,Ao,Bu,sr,Da,yf]},ml={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OI={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=La(i),i===null?null:i.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||bI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{ls=Ac.inject(OI),fn=Ac}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI,cn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(s))throw Error(t(200));return NI(i,s,null,l)},cn.createRoot=function(i,s){if(!Pf(i))throw Error(t(299));var l=!1,h="",p=Av;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Sf(i,1,!1,null,null,l,!1,h,p),i[Or]=s.current,Ja(i.nodeType===8?i.parentNode:i),new Af(s)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=La(s),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return Ss(i)},cn.hydrate=function(i,s,l){if(!Sc(s))throw Error(t(200));return Ic(null,i,s,!0,l)},cn.hydrateRoot=function(i,s,l){if(!Pf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=Av;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Sv(s,null,i,1,l??null,p,!1,y,T),i[Or]=s.current,Ja(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new Tc(s)},cn.render=function(i,s,l){if(!Sc(s))throw Error(t(200));return Ic(null,i,s,!1,l)},cn.unmountComponentAtNode=function(i){if(!Sc(i))throw Error(t(40));return i._reactRootContainer?(Ss(function(){Ic(null,null,i,!1,function(){i._reactRootContainer=null,i[Or]=null})}),!0):!1},cn.unstable_batchedUpdates=yf,cn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!Sc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ic(i,s,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var bv;function WI(){if(bv)return xf.exports;bv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xf.exports=HI(),xf.exports}var Mv;function qI(){if(Mv)return Pc;Mv=1;var n=WI();return Pc.createRoot=n.createRoot,Pc.hydrateRoot=n.hydrateRoot,Pc}var KI=qI();const GI=xw(KI),QI="modulepreload",XI=function(n){return"/Costas_Portfolio/"+n},Lv={},YI=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=XI(m),m in Lv)return;Lv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":QI,v||(E.as="script"),E.crossOrigin="",E.href=m,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((A,O)=>{E.addEventListener("load",A),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},JI=()=>{};var Ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ZI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(E=64)),r.push(t[v],t[w],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(kw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new eA;const E=a<<2|d>>4;if(r.push(E),m!==64){const A=d<<4&240|m>>2;if(r.push(A),w!==64){const O=m<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(n){const e=kw(n);return Vw.encodeByteArray(e,!0)},Yc=function(n){return tA(n).replace(/\./g,"")},Dw=function(n){try{return Vw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=()=>nA().__FIREBASE_DEFAULTS__,iA=()=>{if(typeof process>"u"||typeof Ov>"u")return;const n=Ov.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sA=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dw(n[1]);return e&&JSON.parse(e)},Ih=()=>{try{return JI()||rA()||iA()||sA()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Nw=n=>Ih()?.emulatorHosts?.[n],oA=n=>{const e=Nw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},bw=()=>Ih()?.config,Mw=n=>Ih()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yc(JSON.stringify(t)),Yc(JSON.stringify(u)),""].join(".")}const Cl={};function uA(){const n={prod:[],emulator:[]};for(const e of Object.keys(Cl))Cl[e]?n.emulator.push(e):n.prod.push(e);return n}function cA(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Fv=!1;function Ow(n,e){if(typeof window>"u"||typeof document>"u"||!da(window.location.host)||Cl[n]===e||Cl[n]||Fv)return;Cl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=uA().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Fv=!0,u()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=cA(r),A=t("text"),O=document.getElementById(A)||document.createElement("span"),F=t("learnmore"),M=document.getElementById(F)||document.createElement("a"),W=t("preprendIcon"),K=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;d(Q),v(M,F);const oe=m();f(K,W),Q.append(K,O,M,oe),document.body.appendChild(Q)}a?(O.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function dA(){const n=Ih()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yA(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="FirebaseError";class ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=wA,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?EA(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ti(o,d,r)}}function EA(n,e){return n.replace(TA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const TA=/\{\$([^}]+)}/g;function SA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(jv(a)&&jv(u)){if(!Ms(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function jv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function _l(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function IA(n,e){const t=new AA(n,e);return t.subscribe.bind(t)}class AA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");PA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Df),o.error===void 0&&(o.error=Df),o.complete===void 0&&(o.complete=Df);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class Ls{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aA;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xA(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RA(n){return n===Rs?void 0:n}function xA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const VA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},DA=ke.INFO,NA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},bA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=NA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qp{constructor(e){this.name=e,this._logLevel=DA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const MA=(n,e)=>e.some(t=>n instanceof t);let Uv,Bv;function LA(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OA(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,ip=new WeakMap,jw=new WeakMap,Nf=new WeakMap,Xp=new WeakMap;function FA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Fw.set(t,n)}).catch(()=>{}),Xp.set(e,n),e}function jA(n){if(ip.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ip.set(n,e)}let sp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ip.get(n);if(e==="objectStoreNames")return n.objectStoreNames||jw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UA(n){sp=n(sp)}function BA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(bf(this),e,...t);return jw.set(r,e.sort?e.sort():[e]),bi(r)}:OA().includes(n)?function(...e){return n.apply(bf(this),e),bi(Fw.get(this))}:function(...e){return bi(n.apply(bf(this),e))}}function zA(n){return typeof n=="function"?BA(n):(n instanceof IDBTransaction&&jA(n),MA(n,LA())?new Proxy(n,sp):n)}function bi(n){if(n instanceof IDBRequest)return FA(n);if(Nf.has(n))return Nf.get(n);const e=zA(n);return e!==n&&(Nf.set(n,e),Xp.set(e,n)),e}const bf=n=>Xp.get(n);function $A(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=bi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(bi(u.result),f.oldVersion,f.newVersion,bi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const HA=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Mf=new Map;function zv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=WA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||HA.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Mf.set(e,a),a}UA(n=>({...n,get:(e,t,r)=>zv(e,t)||n.get(e,t,r),has:(e,t)=>!!zv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function KA(n){return n.getComponent()?.type==="VERSION"}const op="@firebase/app",$v="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Qp("@firebase/app"),GA="@firebase/app-compat",QA="@firebase/analytics-compat",XA="@firebase/analytics",YA="@firebase/app-check-compat",JA="@firebase/app-check",ZA="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/data-connect",rP="@firebase/database-compat",iP="@firebase/functions",sP="@firebase/functions-compat",oP="@firebase/installations",aP="@firebase/installations-compat",lP="@firebase/messaging",uP="@firebase/messaging-compat",cP="@firebase/performance",hP="@firebase/performance-compat",dP="@firebase/remote-config",fP="@firebase/remote-config-compat",pP="@firebase/storage",mP="@firebase/storage-compat",gP="@firebase/firestore",yP="@firebase/ai",vP="@firebase/firestore-compat",_P="firebase",wP="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",EP={[op]:"fire-core",[GA]:"fire-core-compat",[XA]:"fire-analytics",[QA]:"fire-analytics-compat",[JA]:"fire-app-check",[YA]:"fire-app-check-compat",[ZA]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-data-connect",[rP]:"fire-rtdb-compat",[iP]:"fire-fn",[sP]:"fire-fn-compat",[oP]:"fire-iid",[aP]:"fire-iid-compat",[lP]:"fire-fcm",[uP]:"fire-fcm-compat",[cP]:"fire-perf",[hP]:"fire-perf-compat",[dP]:"fire-rc",[fP]:"fire-rc-compat",[pP]:"fire-gcs",[mP]:"fire-gcs-compat",[gP]:"fire-fst",[vP]:"fire-fst-compat",[yP]:"fire-vertex","fire-js":"fire-js",[_P]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=new Map,TP=new Map,lp=new Map;function Hv(n,e){try{n.container.addComponent(e)}catch(t){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ta(n){const e=n.name;if(lp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;lp.set(e,n);for(const t of Jc.values())Hv(t,n);for(const t of TP.values())Hv(t,n);return!0}function Yp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new Yl("app","Firebase",SP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=wP;function Uw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ap,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(t||(t=bw()),!t)throw Mi.create("no-options");const a=Jc.get(o);if(a){if(Ms(t,a.options)&&Ms(r,a.config))return a;throw Mi.create("duplicate-app",{appName:o})}const u=new kA(o);for(const f of lp.values())u.addComponent(f);const d=new IP(t,r,u);return Jc.set(o,d),d}function Bw(n=ap){const e=Jc.get(n);if(!e&&n===ap&&bw())return Uw();if(!e)throw Mi.create("no-app",{appName:n});return e}function Li(n,e,t){let r=EP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(u.join(" "));return}ta(new Ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="firebase-heartbeat-database",PP=1,Ol="firebase-heartbeat-store";let Lf=null;function zw(){return Lf||(Lf=$A(AP,PP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ol)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),Lf}async function CP(n){try{const t=(await zw()).transaction(Ol),r=await t.objectStore(Ol).get($w(n));return await t.done,r}catch(e){if(e instanceof ti)Xr.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(t.message)}}}async function Wv(n,e){try{const r=(await zw()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,$w(n)),await r.done}catch(t){if(t instanceof ti)Xr.warn(t.message);else{const r=Mi.create("idb-set",{originalErrorMessage:t?.message});Xr.warn(r.message)}}}function $w(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=1024,xP=30;class kP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>xP){const o=NP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qv(),{heartbeatsToSend:t,unsentEntries:r}=VP(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Xr.warn(e),""}}}function qv(){return new Date().toISOString().substring(0,10)}function VP(n,e=RP){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Kv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Kv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class DP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Kv(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function NP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(n){ta(new Ls("platform-logger",e=>new qA(e),"PRIVATE")),ta(new Ls("heartbeat",e=>new kP(e),"PRIVATE")),Li(op,$v,n),Li(op,$v,"esm2020"),Li("fire-js","")}bP("");var MP="firebase",LP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(MP,LP,"app");var Gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi,Hw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function C(){}C.prototype=I.prototype,x.D=I.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(k,D,j){for(var R=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)R[Be-2]=arguments[Be];return I.prototype[D].apply(k,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,I,C){C||(C=0);var k=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)k[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;16>D;++D)k[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=x.g[0],C=x.g[1],D=x.g[2];var j=x.g[3],R=I+(j^C&(D^j))+k[0]+3614090360&4294967295;I=C+(R<<7&4294967295|R>>>25),R=j+(D^I&(C^D))+k[1]+3905402710&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(C^j&(I^C))+k[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(I^D&(j^I))+k[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(j^C&(D^j))+k[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=j+(D^I&(C^D))+k[5]+1200080426&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(C^j&(I^C))+k[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(I^D&(j^I))+k[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(j^C&(D^j))+k[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=j+(D^I&(C^D))+k[9]+2336552879&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(C^j&(I^C))+k[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(I^D&(j^I))+k[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(j^C&(D^j))+k[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=j+(D^I&(C^D))+k[13]+4254626195&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(C^j&(I^C))+k[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=C+(I^D&(j^I))+k[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=I+(D^j&(C^D))+k[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(I^C))+k[6]+3225465664&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(j^I))+k[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^I&(D^j))+k[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(D^j&(C^D))+k[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(I^C))+k[10]+38016083&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(j^I))+k[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^I&(D^j))+k[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(D^j&(C^D))+k[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(I^C))+k[14]+3275163606&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(j^I))+k[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^I&(D^j))+k[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(D^j&(C^D))+k[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=j+(C^D&(I^C))+k[2]+4243563512&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^C&(j^I))+k[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=C+(j^I&(D^j))+k[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=I+(C^D^j)+k[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=j+(I^C^D)+k[8]+2272392833&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^C)+k[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^I)+k[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(C^D^j)+k[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=j+(I^C^D)+k[4]+1272893353&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^C)+k[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^I)+k[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(C^D^j)+k[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=j+(I^C^D)+k[0]+3936430074&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^C)+k[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^I)+k[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(C^D^j)+k[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=j+(I^C^D)+k[12]+3873151461&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^C)+k[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=C+(D^j^I)+k[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=I+(D^(C|~j))+k[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=j+(C^(I|~D))+k[7]+1126891415&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~C))+k[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~I))+k[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=I+(D^(C|~j))+k[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=j+(C^(I|~D))+k[3]+2399980690&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~C))+k[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~I))+k[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=I+(D^(C|~j))+k[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=j+(C^(I|~D))+k[15]+4264355552&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~C))+k[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~I))+k[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=I+(D^(C|~j))+k[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=j+(C^(I|~D))+k[11]+3174756917&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~C))+k[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=C+(j^(D|~I))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+j&4294967295}r.prototype.u=function(x,I){I===void 0&&(I=x.length);for(var C=I-this.blockSize,k=this.B,D=this.h,j=0;j<I;){if(D==0)for(;j<=C;)o(this,x,j),j+=this.blockSize;if(typeof x=="string"){for(;j<I;)if(k[D++]=x.charCodeAt(j++),D==this.blockSize){o(this,k),D=0;break}}else for(;j<I;)if(k[D++]=x[j++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;var C=8*this.o;for(I=x.length-8;I<x.length;++I)x[I]=C&255,C/=256;for(this.u(x),x=Array(16),I=C=0;4>I;++I)for(var k=0;32>k;k+=8)x[C++]=this.g[I]>>>k&255;return x};function a(x,I){var C=d;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=I(x)}function u(x,I){this.h=I;for(var C=[],k=!0,D=x.length-1;0<=D;D--){var j=x[D]|0;k&&j==I||(C[D]=j,k=!1)}this.g=C}var d={};function f(x){return-128<=x&&128>x?a(x,function(I){return new u([I|0],0>I?-1:0)}):new u([x|0],0>x?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return M(m(-x));for(var I=[],C=1,k=0;x>=C;k++)I[k]=x/C|0,C*=4294967296;return new u(I,0)}function v(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return M(v(x.substring(1),I));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),k=w,D=0;D<x.length;D+=8){var j=Math.min(8,x.length-D),R=parseInt(x.substring(D,D+j),I);8>j?(j=m(Math.pow(I,j)),k=k.j(j).add(m(R))):(k=k.j(C),k=k.add(m(R)))}return k}var w=f(0),E=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-M(this).m();for(var x=0,I=1,C=0;C<this.g.length;C++){var k=this.i(C);x+=(0<=k?k:4294967296+k)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(F(this))return"-"+M(this).toString(x);for(var I=m(Math.pow(x,6)),C=this,k="";;){var D=oe(C,I).g;C=W(C,D.j(I));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=D,O(C))return j+k;for(;6>j.length;)j="0"+j;k=j+k}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(var I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function F(x){return x.h==-1}n.l=function(x){return x=W(this,x),F(x)?-1:O(x)?0:1};function M(x){for(var I=x.g.length,C=[],k=0;k<I;k++)C[k]=~x.g[k];return new u(C,~x.h).add(E)}n.abs=function(){return F(this)?M(this):this},n.add=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],k=0,D=0;D<=I;D++){var j=k+(this.i(D)&65535)+(x.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);k=R>>>16,j&=65535,R&=65535,C[D]=R<<16|j}return new u(C,C[C.length-1]&-2147483648?-1:0)};function W(x,I){return x.add(M(I))}n.j=function(x){if(O(this)||O(x))return w;if(F(this))return F(x)?M(this).j(M(x)):M(M(this).j(x));if(F(x))return M(this.j(M(x)));if(0>this.l(A)&&0>x.l(A))return m(this.m()*x.m());for(var I=this.g.length+x.g.length,C=[],k=0;k<2*I;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var D=0;D<x.g.length;D++){var j=this.i(k)>>>16,R=this.i(k)&65535,Be=x.i(D)>>>16,lt=x.i(D)&65535;C[2*k+2*D]+=R*lt,K(C,2*k+2*D),C[2*k+2*D+1]+=j*lt,K(C,2*k+2*D+1),C[2*k+2*D+1]+=R*Be,K(C,2*k+2*D+1),C[2*k+2*D+2]+=j*Be,K(C,2*k+2*D+2)}for(k=0;k<I;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=I;k<2*I;k++)C[k]=0;return new u(C,0)};function K(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function Q(x,I){this.g=x,this.h=I}function oe(x,I){if(O(I))throw Error("division by zero");if(O(x))return new Q(w,w);if(F(x))return I=oe(M(x),I),new Q(M(I.g),M(I.h));if(F(I))return I=oe(x,M(I)),new Q(M(I.g),I.h);if(30<x.g.length){if(F(x)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var C=E,k=I;0>=k.l(x);)C=ne(C),k=ne(k);var D=ae(C,1),j=ae(k,1);for(k=ae(k,2),C=ae(C,2);!O(k);){var R=j.add(k);0>=R.l(x)&&(D=D.add(C),j=R),k=ae(k,1),C=ae(C,1)}return I=W(x,D.j(I)),new Q(D,I)}for(D=w;0<=x.l(I);){for(C=Math.max(1,Math.floor(x.m()/I.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),j=m(C),R=j.j(I);F(R)||0<R.l(x);)C-=k,j=m(C),R=j.j(I);O(j)&&(j=E),D=D.add(j),x=W(x,R)}return new Q(D,x)}n.A=function(x){return oe(this,x).h},n.and=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)&x.i(k);return new u(C,this.h&x.h)},n.or=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)|x.i(k);return new u(C,this.h|x.h)},n.xor=function(x){for(var I=Math.max(this.g.length,x.g.length),C=[],k=0;k<I;k++)C[k]=this.i(k)^x.i(k);return new u(C,this.h^x.h)};function ne(x){for(var I=x.g.length+1,C=[],k=0;k<I;k++)C[k]=x.i(k)<<1|x.i(k-1)>>>31;return new u(C,x.h)}function ae(x,I){var C=I>>5;I%=32;for(var k=x.g.length-C,D=[],j=0;j<k;j++)D[j]=0<I?x.i(j+C)>>>I|x.i(j+C+1)<<32-I:x.i(j+C);return new u(D,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Hw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Oi=u}).apply(typeof Gv<"u"?Gv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ww,wl,qw,Fc,up,Kw,Gw,Qw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function A(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function O(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,H){for(var se=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)se[$e-2]=arguments[$e];return g.prototype[U].apply(S,se)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function M(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const U=c.length||0,H=S.length||0;c.length=U+H;for(let se=0;se<H;se++)c[U+se]=S[se]}else c.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ne=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ae(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function x(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function D(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,_){const S=lt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var lt=new W(()=>new st,c=>c.reset());class st{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,re=!1,me=new Be,J=()=>{const c=d.Promise.resolve(void 0);Se=()=>{c.then(L)}};var L=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){j(_)}var g=lt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function Re(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ne){e:{try{oe(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}O(Re,le);var be={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,g,_,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Cr(c){this.src=c,this.g={},this.h=0}Cr.prototype.add=function(c,g,_,S,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var se=ni(c,g,S,U);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new We(g,this.src,H,!!S,U),g.fa=_,c.push(g)),g};function Ks(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(At(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ni(c,g,_,S){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return U}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Gs={};function Ta(c,g,_,S,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Ta(c,g[H],_,S,U);return null}return _=Aa(_),c&&c[je]?c.K(g,_,m(S)?!!S.capture:!1,U):Sa(c,g,_,!1,S,U)}function Sa(c,g,_,S,U,H){if(!g)throw Error("Invalid event type");var se=m(U)?!!U.capture:!!U,$e=Xs(c);if($e||(c[Zi]=$e=new Cr(c)),_=$e.add(g,_,S,se,H),_.proxy)return _;if(S=hu(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ae||(U=se),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(xr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hu(){function c(_){return g.call(c.src,c.listener,_)}const g=Ia;return c}function Qs(c,g,_,S,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)Qs(c,g[H],_,S,U);else S=m(S)?!!S.capture:!!S,_=Aa(_),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=ni(H,_,S,U),-1<_&&(At(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=Xs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ni(g,_,S,U)),(_=-1<c?g[c]:null)&&Rr(_))}function Rr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])Ks(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(xr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Xs(g))?(Ks(_,c),_.h==0&&(_.src=null,g[Zi]=null)):At(c)}}}function xr(c){return c in Gs?Gs[c]:Gs[c]="on"+c}function Ia(c,g){if(c.da)c=!0;else{g=new Re(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Rr(c),c=_.call(S,g)}return c}function Xs(c){return c=c[Zi],c instanceof Cr?c:null}var Ys="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aa(c){return typeof c=="function"?c:(c[Ys]||(c[Ys]=function(g){return c.handleEvent(g)}),c[Ys])}function vt(){q.call(this),this.i=new Cr(this),this.M=this,this.F=null}O(vt,q),vt.prototype[je]=!0,vt.prototype.removeEventListener=function(c,g,_,S){Qs(this,c,g,_,S)};function _t(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var U=g;g=new le(S,c),k(g,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var se=g.g=_[H];U=kr(se,S,!0,g)&&U}if(se=g.g=c,U=kr(se,S,!0,g)&&U,U=kr(se,S,!1,g)&&U,_)for(H=0;H<_.length;H++)se=g.g=_[H],U=kr(se,S,!1,g)&&U}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)At(_[S]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},vt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function kr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var se=g[H];if(se&&!se.da&&se.capture==_){var $e=se.listener,wt=se.ha||se.src;se.fa&&Ks(c.i,se),U=$e.call(wt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Pa(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ri(c){c.g=Pa(()=>{c.g=null,c.i&&(c.i=!1,ri(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class es extends q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){q.call(this),this.h=c,this.g={}}O(ts,q);var Ca=[];function Ra(c){ae(c.g,function(g,_){this.g.hasOwnProperty(_)&&Rr(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),Ra(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xa=d.JSON.stringify,ka=d.JSON.parse,Va=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ns(){}ns.prototype.h=null;function Js(c){return c.h||(c.h=c.i())}function Zs(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ir(){le.call(this,"d")}O(ir,le);function eo(){le.call(this,"c")}O(eo,le);var sr={},Da=null;function rs(){return Da=Da||new vt}sr.La="serverreachability";function Na(c){le.call(this,sr.La,c)}O(Na,le);function Vr(c){const g=rs();_t(g,new Na(g))}sr.STAT_EVENT="statevent";function ba(c,g){le.call(this,sr.STAT_EVENT,c),this.stat=g}O(ba,le);function ut(c){const g=rs();_t(g,new ba(g,c))}sr.Ma="timingevent";function to(c,g){le.call(this,sr.Ma,c),this.size=g}O(to,le);function On(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ss(c,g,_,S,U,H){c.info(function(){if(c.g)if(H)for(var se="",$e=H.split("&"),wt=0;wt<$e.length;wt++){var Me=$e[wt].split("=");if(1<Me.length){var Pt=Me[0];Me=Me[1];var ft=Pt.split("_");se=2<=ft.length&&ft[1]=="type"?se+(Pt+"="+Me+"&"):se+(Pt+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+se})}function no(c,g,_,S,U,H,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+H+" "+se})}function Fn(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+ed(c,_)+(S?" "+S:"")})}function Ma(c,g){c.info(function(){return"TIMEOUT: "+g})}is.prototype.info=function(){};function ed(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return xa(_)}catch{return g}}var ro={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},du={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function os(){}O(os,ns),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},jn=new os;function Un(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fu}function fu(){this.i=null,this.g="",this.h=!1}var La={},io={};function so(c,g,_){c.L=1,c.v=li(pn(g)),c.m=_,c.P=!0,Oa(c,null)}function Oa(c,g){c.F=Date.now(),qe(c),c.A=pn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ci(_.i,"t",S),c.C=0,_=c.j.J,c.h=new fu,c.g=Vu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new es(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ca[0]=U.toString()),U=Ca);for(var H=0;H<U.length;H++){var se=Ta(_,U[H],S||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Vr(),ss(c.i,c.u,c.A,c.l,c.R,c.m)}Un.prototype.ca=function(c){c=c.target;const g=this.M;g&&rn(c)==3?g.j():this.Y(c)},Un.prototype.Y=function(c){try{if(c==this.g)e:{const ft=rn(this.g);var g=this.g.Ba();const Pn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||$a(this.g)))){this.J||ft!=4||g==7||(g==8||0>=Pn?Vr(3):Vr(2)),as(this);var _=this.g.Z();this.X=_;t:if(pu(this)){var S=$a(this.g);c="";var U=S.length,H=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ii(this);var se="";break t}this.h.i=new d.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(H&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,no(this.i,this.u,this.A,this.l,this.R,ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,wt=this.g;if(($e=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K($e)){var Me=$e;break t}}Me=null}if(_=Me)Fn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fa(this,_);else{this.o=!1,this.s=3,ut(12),In(this),ii(this);break e}}if(this.P){_=!0;let gn;for(;!this.J&&this.C<se.length;)if(gn=td(this,se),gn==io){ft==4&&(this.s=4,ut(14),_=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==La){this.s=4,ut(15),Fn(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else Fn(this.i,this.l,gn,null),Fa(this,gn);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||se.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)Fn(this.i,this.l,se,"[Invalid Chunked Response]"),In(this),ii(this);else if(0<se.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Wa(Pt),Pt.M=!0,ut(11))}}else Fn(this.i,this.l,se,null),Fa(this,se);ft==4&&In(this),this.o&&!this.J&&(ft==4?yo(this.j,this):(this.o=!1,qe(this)))}else ho(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),In(this),ii(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function td(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?io:(_=Number(g.substring(_,S)),isNaN(_)?La:(S+=1,S+_>g.length?io:(g=g.slice(S,S+_),c.C=S+_,g)))}Un.prototype.cancel=function(){this.J=!0,In(this)};function qe(c){c.S=Date.now()+c.I,mu(c,c.I)}function mu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=On(E(c.ba,c),g)}function as(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ma(this.i,this.A),this.L!=2&&(Vr(),ut(17)),In(this),this.s=2,ii(this)):mu(this,this.S-c)};function ii(c){c.j.G==0||c.J||yo(c.j,c)}function In(c){as(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ra(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Fa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Jt(_.h,c))){if(!c.K&&Jt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)go(_),Wn(_);else break e;mo(_),ut(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=On(E(_.Za,_),6e3));if(1>=yu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Lr(_,11)}else if((c.K||_.g==c)&&go(_),!K(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Me=U[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const Pt=Me[3];Pt!=null&&(_.la=Pt,_.j.info("VER="+_.la));const ft=Me[4];ft!=null&&(_.Aa=ft,_.j.info("SVER="+_.Aa));const Pn=Me[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(S=1.5*Pn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const gn=c.g;if(gn){const ps=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var H=S.h;H.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ja(H,H.h),H.h=null))}if(S.D){const _o=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(S.ya=_o,He(S.I,S.D,_o))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=c;if(S.qa=ku(S,S.J?S.ia:null,S.W),se.K){vu(S.h,se);var $e=se,wt=S.L;wt&&($e.I=wt),$e.B&&(as($e),qe($e)),S.g=se}else fs(S);0<_.i.length&&ur(_)}else Me[0]!="stop"&&Me[0]!="close"||Lr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Lr(_,7):Dt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Vr(4)}catch{}}var gu=class{constructor(c,g){this.g=c,this.map=g}};function ls(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yu(c){return c.h?1:c.g?c.g.size:0}function Jt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ja(c,g){c.g?c.g.add(g):c.h=g}function vu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ls.prototype.cancel=function(){if(this.i=_u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function _u(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function oo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function ao(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function si(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=ao(c),S=oo(c),U=S.length,H=0;H<U;H++)g.call(void 0,S[H],_&&_[H],c)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nd(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var H=c[_].substring(0,S);U=c[_].substring(S+1)}else H=c[_];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Dr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Dr){this.h=c.h,cs(this,c.j),this.o=c.o,this.g=c.g,oi(this,c.s),this.l=c.l;var g=c.i,_=new or;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ai(this,_),this.m=c.m}else c&&(g=String(c).match(us))?(this.h=!1,cs(this,g[1]||"",!0),this.o=Ne(g[2]||""),this.g=Ne(g[3]||"",!0),oi(this,g[4]),this.l=Ne(g[5]||"",!0),ai(this,g[6]||"",!0),this.m=Ne(g[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Dr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ui(g,lo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ui(g,lo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ui(_,_.charAt(0)=="/"?Tu:Eu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ui(_,Ua)),c.join("")};function pn(c){return new Dr(c)}function cs(c,g,_){c.j=_?Ne(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function oi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ai(c,g,_){g instanceof or?(c.i=g,ar(c.i,c.h)):(_||(g=ui(g,Su)),c.i=new or(g,c.h))}function He(c,g,_){c.i.set(g,_)}function li(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ne(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lo=/[#\/\?@]/g,Eu=/[#\?:]/g,Tu=/[#\?]/g,Su=/[#\?@]/g,Ua=/#/g;function or(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&nd(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=or.prototype,n.add=function(c,g){Vt(this),this.i=null,c=An(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Bn(c,g){Vt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zn(c,g){return Vt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Vt(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(g,U,S,this)},this)},this)},n.na=function(){Vt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=c[S];for(let H=0;H<U.length;H++)_.push(g[S])}return _},n.V=function(c){Vt(this);let g=[];if(typeof c=="string")zn(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Vt(this),this.i=null,c=An(this,c),zn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ci(c,g,_){Bn(c,g),0<_.length&&(c.i=null,c.g.set(An(c,g),F(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var U=H;se[S]!==""&&(U+="="+encodeURIComponent(String(se[S]))),c.push(U)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ar(c,g){g&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Bn(this,S),ci(this,U,_))},c)),c.j=g}function rd(c,g){const _=new is;if(d.Image){const S=new Image;S.onload=A(nn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=A(nn,_,"TestLoadImage: error",!1,g,S),S.onabort=A(nn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(nn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Iu(c,g){const _=new is,S=new AbortController,U=setTimeout(()=>{S.abort(),nn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?nn(_,"TestPingServer: ok",!0,g):nn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),nn(_,"TestPingServer: error",!1,g)})}function nn(c,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function id(){this.g=new Va}function Au(c,g,_){const S=_||"";try{si(c,function(U,H){let se=U;m(U)&&(se=xa(U)),g.push(S+H+"="+encodeURIComponent(se))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function Nr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Nr,ns),Nr.prototype.g=function(){return new hs(this.l,this.j)},Nr.prototype.i=function(c){return function(){return c}}({});function hs(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(hs,vt),n=hs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Hn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Pu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):Hn(this),this.readyState==3&&Pu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},n.Qa=function(c){this.g&&(this.response=c,$n(this))},n.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Hn(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Hn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function br(c){let g="";return ae(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function hi(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=br(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):He(c,g,_))}function Ze(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ze,vt);var sd=/^https?$/i,Ba=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Js(this.o):Js(jn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){ds(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ba,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of _)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{co(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){ds(this,H)}};function ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,uo(c),mn(c)}function uo(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)Pa(c.Ea,0,c);else if(_t(c,"readystatechange"),rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=se===0){var U=String(c.D).match(us)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!sd.test(U?U.toLowerCase():"")}_=S}if(_)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var H=2<rn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",uo(c)}}finally{mn(c)}}}}function mn(c,g){if(c.g){co(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||_t(c,"ready");try{_.onreadystatechange=S}catch{}}}function co(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ka(g)}};function $a(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ho(c){const g={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(K(c[S]))continue;var _=D(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[U]||[];g[U]=H,H.push(_)}x(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ha(c){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lr("baseRetryDelayMs",5e3,c),this.cb=lr("retryDelaySeedMs",1e4,c),this.Wa=lr("forwardChannelMaxRetries",2,c),this.wa=lr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(c&&c.concurrentRequestLimit),this.Da=new id,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ha.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){ut(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ku(this,null,this.W),ur(this)};function Dt(c){if(fo(c),c.G==3){var g=c.U++,_=pn(c.I);if(He(_,"SID",c.K),He(_,"RID",g),He(_,"TYPE","terminate"),Mr(c,_),g=new Un(c,c.j,g),g.L=2,g.v=li(pn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Vu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qe(g)}xu(c)}function Wn(c){c.g&&(Wa(c),c.g.cancel(),c.g=null)}function fo(c){Wn(c),c.u&&(d.clearTimeout(c.u),c.u=null),go(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ur(c){if(!fn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Se||J(),re||(Se(),re=!0),me.add(g,c),c.B=0}}function od(c,g){return yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=On(E(c.Ga,c,g),Ru(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Un(this,this.j,c);let H=this.o;if(this.S&&(H?(H=I(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=di(this,U,g),_=pn(this.I),He(_,"RID",c),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Mr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(br(H)))+"&"+g:this.m&&hi(_,this.m,H)),ja(this.h,U),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),U.T=!0,so(U,_,null)):so(U,_,g),this.G=2}}else this.G==3&&(c?po(this,c):this.i.length==0||fn(this.h)||po(this))};function po(c,g){var _;g?_=g.l:_=c.U++;const S=pn(c.I);He(S,"SID",c.K),He(S,"RID",_),He(S,"AID",c.T),Mr(c,S),c.m&&c.o&&hi(S,c.m,c.o),_=new Un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=di(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ja(c.h,_),so(_,S,g)}function Mr(c,g){c.H&&ae(c.H,function(_,S){He(g,S,_)}),c.l&&si({},function(_,S){He(g,S,_)})}function di(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var U=c.i;let H=-1;for(;;){const se=["count="+_];H==-1?0<_?(H=U[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let $e=!0;for(let wt=0;wt<_;wt++){let Me=U[wt].g;const Pt=U[wt].map;if(Me-=H,0>Me)H=Math.max(0,U[wt].g-100),$e=!1;else try{Au(Pt,se,"req"+Me+"_")}catch{S&&S(Pt)}}if($e){S=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function fs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Se||J(),re||(Se(),re=!0),me.add(g,c),c.v=0}}function mo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=On(E(c.Fa,c),Ru(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=On(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Wn(this),Cu(this))};function Wa(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Cu(c){c.g=new Un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=pn(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Mr(c,g),c.m&&c.o&&hi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=li(pn(g)),_.m=null,_.P=!0,Oa(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),mo(this),ut(19))};function go(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function yo(c,g){var _=null;if(c.g==g){go(c),Wa(c),c.g=null;var S=2}else if(Jt(c.h,g))_=g.D,vu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=rs(),_t(S,new to(S,_)),ur(c)}else fs(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&od(c,g)||S==2&&mo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function Ru(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Lr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const U=!S;S=new Dr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||cs(S,"https"),li(S),U?rd(S.toString(),_):Iu(S.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(g),xu(c),fo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const g=_u(c.h);(g.length!=0||c.i.length!=0)&&(M(c.ka,g),M(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function ku(c,g,_){var S=_ instanceof Dr?pn(_):new Dr(_);if(S.g!="")g&&(S.g=g+"."+S.g),oi(S,S.s);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new Dr(null);S&&cs(H,S),g&&(H.g=g),U&&oi(H,U),_&&(H.l=_),S=H}return _=c.D,g=c.ya,_&&g&&He(S,_,g),He(S,"VER",c.la),Mr(c,S),S}function Vu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ze(new Nr({eb:_})):new Ze(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qa(){}n=qa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vo(){}vo.prototype.g=function(c,g){return new Zt(c,g)};function Zt(c,g){vt.call(this),this.g=new Ha(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!K(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!K(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new cr(this)}O(Zt,vt),Zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){Dt(this.g)},Zt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xa(c),c=_);g.i.push(new gu(g.Ya++,c)),g.G==3&&ur(g)},Zt.prototype.N=function(){this.g.l=null,delete this.j,Dt(this.g),delete this.g,Zt.aa.N.call(this)};function Du(c){ir.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}O(Du,ir);function Nu(){eo.call(this),this.status=1}O(Nu,eo);function cr(c){this.g=c}O(cr,qa),cr.prototype.ua=function(){_t(this.g,"a")},cr.prototype.ta=function(c){_t(this.g,new Du(c))},cr.prototype.sa=function(c){_t(this.g,new Nu)},cr.prototype.ra=function(){_t(this.g,"b")},vo.prototype.createWebChannel=vo.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,Qw=function(){return new vo},Gw=function(){return rs()},Kw=sr,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ro.NO_ERROR=0,ro.TIMEOUT=8,ro.HTTP_ERROR=6,Fc=ro,du.COMPLETE="complete",qw=du,Zs.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,wl=Zs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ww=Ze}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const Qv="@firebase/firestore",Xv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new Qp("@firebase/firestore");function Uo(){return Os.logLevel}function ce(n,...e){if(Os.logLevel<=ke.DEBUG){const t=e.map(Jp);Os.debug(`Firestore (${pa}): ${n}`,...t)}}function Yr(n,...e){if(Os.logLevel<=ke.ERROR){const t=e.map(Jp);Os.error(`Firestore (${pa}): ${n}`,...t)}}function na(n,...e){if(Os.logLevel<=ke.WARN){const t=e.map(Jp);Os.warn(`Firestore (${pa}): ${n}`,...t)}}function Jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Xw(n,r,t)}function Xw(n,e,t){let r=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Yr(r),new Error(r)}function ze(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Xw(e,o,r)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class FP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jP{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new Yw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class UP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Yv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=$P(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function cp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Of(o)===Of(a)?Ve(o,a):Of(o)?1:-1}return Ve(n.length,e.length)}const HP=55296,WP=57343;function Of(n){const e=n.charCodeAt(0);return e>=HP&&e<=WP}function ra(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="__name__";class mr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=mr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ve(e.length,t.length)}static compareSegments(e,t){const r=mr.isNumericId(e),o=mr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?mr.extractNumericId(e).compare(mr.extractNumericId(t)):cp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oi.fromString(e.substring(4,e.length-2))}}class Xe extends mr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const qP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends mr{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return qP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jv}static keyField(){return new Ot([Jv])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(n,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KP(n,e,t,r){if(e===!0&&r===!0)throw new pe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zv(n){if(!ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function e_(n){if(ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function nr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=em(n);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Zl(n,e){if(!Zw(n))throw new pe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,n_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*n_);return new Ye(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<t_)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ye(0,0))}static max(){return new Pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function GP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new Bi(o,ye.empty(),e)}function QP(n){return new Bi(n.readTime,n.key,Fl)}class Bi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bi(Pe.min(),ye.empty(),Fl)}static max(){return new Bi(Pe.max(),ye.empty(),Fl)}}function XP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==YP)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new G((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof G?t:G.resolve(t)}catch(t){return G.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):G.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):G.reject(t)}static resolve(e){return new G((t,r)=>{t(e)})}static reject(e){return new G((t,r)=>{r(e)})}static waitFor(e){return new G((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=G.resolve(!1);for(const r of e)t=t.next(o=>o?G.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new G((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new G((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function ZP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ga(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=-1;function Ph(n){return n==null}function Zc(n){return n===0&&1/n==-1/0}function eC(n){return typeof n=="number"&&Number.isInteger(n)&&!Zc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="";function tC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=r_(e)),e=nC(n.get(t),e);return r_(e)}function nC(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case eE:t+="";break;default:t+=a}}return t}function r_(n){return n+eE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Qi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=o??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Lt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s_(this.data.getIterator())}getIteratorFrom(e){return new s_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class s_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new wn([])}unionWith(e){let t=new It(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new nE("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const rC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=rC.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function $i(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="server_timestamp",iE="__type__",sE="__previous_value__",oE="__local_write_time__";function nm(n){return(n?.mapValue?.fields||{})[iE]?.stringValue===rE}function Ch(n){const e=n.mapValue.fields[sE];return nm(e)?Ch(e):e}function jl(n){const e=zi(n.mapValue.fields[oE].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const eh="(default)";class Ul{constructor(e,t){this.projectId=e,this.database=t||eh}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===eh}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__type__",sC="__max__",xc={mapValue:{}},lE="__vector__",th="value";function Hi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nm(n)?4:aC(n)?9007199254740991:oC(n)?10:11:Te(28295,{value:n})}function Ar(n,e){if(n===e)return!0;const t=Hi(n);if(t!==Hi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jl(n).isEqual(jl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=zi(o.timestampValue),d=zi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return $i(o.bytesValue).isEqual($i(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),d=dt(a.doubleValue);return u===d?Zc(u)===Zc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],Ar);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(i_(u)!==i_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ar(u[f],d[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function Bl(n,e){return(n.values||[]).find(t=>Ar(t,e))!==void 0}function ia(n,e){if(n===e)return 0;const t=Hi(n),r=Hi(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return o_(n.timestampValue,e.timestampValue);case 4:return o_(jl(n),jl(e));case 5:return cp(n.stringValue,e.stringValue);case 6:return function(a,u){const d=$i(a),f=$i(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ve(d[m],f[m]);if(v!==0)return v}return Ve(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ve(dt(a.latitude),dt(u.latitude));return d!==0?d:Ve(dt(a.longitude),dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return a_(n.arrayValue,e.arrayValue);case 10:return function(a,u){const d=a.fields||{},f=u.fields||{},m=d[th]?.arrayValue,v=f[th]?.arrayValue,w=Ve(m?.values?.length||0,v?.values?.length||0);return w!==0?w:a_(m,v)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===xc.mapValue&&u===xc.mapValue)return 0;if(a===xc.mapValue)return 1;if(u===xc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=cp(f[w],v[w]);if(E!==0)return E;const A=ia(d[f[w]],m[v[w]]);if(A!==0)return A}return Ve(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function o_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=zi(n),r=zi(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function a_(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ia(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function sa(n){return hp(n)}function hp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=zi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return $i(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=hp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${hp(t.fields[u])}`;return o+"}"}(n.mapValue):Te(61005,{value:n})}function jc(n){switch(Hi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ch(n);return e?16+jc(e):16;case 5:return 2*n.stringValue.length;case 6:return $i(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+jc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Qi(r.fields,(a,u)=>{o+=a.length+jc(u)}),o}(n.mapValue);default:throw Te(13486,{value:n})}}function dp(n){return!!n&&"integerValue"in n}function rm(n){return!!n&&"arrayValue"in n}function l_(n){return!!n&&"nullValue"in n}function u_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Uc(n){return!!n&&"mapValue"in n}function oC(n){return(n?.mapValue?.fields||{})[aE]?.stringValue===lE}function Rl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Qi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Rl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Rl(n.arrayValue.values[t]);return e}return{...n}}function aC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===sC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Uc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rl(t)}setAll(e){let t=Ot.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Rl(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Uc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Qi(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new dn(Rl(this.value))}}function uE(n){const e=[];return Qi(n.fields,(t,r)=>{const o=new Ot([t]);if(Uc(r)){const a=uE(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Pe.min(),Pe.min(),Pe.min(),dn.empty(),0)}static newFoundDocument(e,t,r,o){return new Gt(e,1,t,Pe.min(),r,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Pe.min(),Pe.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Pe.min(),Pe.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.position=e,this.inclusive=t}}function c_(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ia(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function h_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{}class St extends cE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cC(e,t,r):t==="array-contains"?new fC(e,r):t==="in"?new pC(e,r):t==="not-in"?new mC(e,r):t==="array-contains-any"?new gC(e,r):new St(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new hC(e,r):new dC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ia(t,this.value)):t!==null&&Hi(this.value)===Hi(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends cE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Pr(e,t)}matches(e){return hE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hE(n){return n.op==="and"}function dE(n){return uC(n)&&hE(n)}function uC(n){for(const e of n.filters)if(e instanceof Pr)return!1;return!0}function fp(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+sa(n.value);if(dE(n))return n.filters.map(e=>fp(e)).join(",");{const e=n.filters.map(t=>fp(t)).join(",");return`${n.op}(${e})`}}function fE(n,e){return n instanceof St?function(r,o){return o instanceof St&&r.op===o.op&&r.field.isEqual(o.field)&&Ar(r.value,o.value)}(n,e):n instanceof Pr?function(r,o){return o instanceof Pr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&fE(u,o.filters[d]),!0):!1}(n,e):void Te(19439)}function pE(n){return n instanceof St?function(t){return`${t.field.canonicalString()} ${t.op} ${sa(t.value)}`}(n):n instanceof Pr?function(t){return t.op.toString()+" {"+t.getFilters().map(pE).join(" ,")+"}"}(n):"Filter"}class cC extends St{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class hC extends St{constructor(e,t){super(e,"in",t),this.keys=mE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dC extends St{constructor(e,t){super(e,"not-in",t),this.keys=mE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function mE(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class fC extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rm(t)&&Bl(t.arrayValue,this.value)}}class pC extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Bl(this.value.arrayValue,t)}}class mC extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Bl(this.value.arrayValue,t)}}class gC extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function d_(n,e=null,t=[],r=[],o=null,a=null,u=null){return new yC(n,e,t,r,o,a,u)}function im(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>fp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>sa(r)).join(",")),e.Te=t}return e.Te}function sm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!fE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!h_(n.startAt,e.startAt)&&h_(n.endAt,e.endAt)}function pp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vC(n,e,t,r,o,a,u,d){return new Rh(n,e,t,r,o,a,u,d)}function om(n){return new Rh(n)}function f_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _C(n){return n.collectionGroup!==null}function xl(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Ot.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new rh(a,r))}),t.has(Ot.keyField().canonicalString())||e.Ie.push(new rh(Ot.keyField(),r))}return e.Ie}function yr(n){const e=Ce(n);return e.Ee||(e.Ee=wC(e,xl(n))),e.Ee}function wC(n,e){if(n.limitType==="F")return d_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new rh(o.field,a)});const t=n.endAt?new nh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new nh(n.startAt.position,n.startAt.inclusive):null;return d_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function mp(n,e,t){return new Rh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xh(n,e){return sm(yr(n),yr(e))&&n.limitType===e.limitType}function gE(n){return`${im(yr(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>pE(o)).join(", ")}]`),Ph(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>sa(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>sa(o)).join(",")),`Target(${r})`}(yr(n))}; limitType=${n.limitType})`}function kh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of xl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=c_(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,xl(r),o)||r.endAt&&!function(u,d,f){const m=c_(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,xl(r),o))}(n,e)}function EC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yE(n){return(e,t)=>{let r=!1;for(const o of xl(n)){const a=TC(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function TC(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ia(f,m):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return tE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new it(ye.comparator);function Jr(){return SC}const vE=new it(ye.comparator);function El(...n){let e=vE;for(const t of n)e=e.insert(t.key,t);return e}function _E(n){let e=vE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vs(){return kl()}function wE(){return kl()}function kl(){return new Us(n=>n.toString(),(n,e)=>n.isEqual(e))}const IC=new it(ye.comparator),AC=new It(ye.comparator);function De(...n){let e=AC;for(const t of n)e=e.add(t);return e}const PC=new It(Ve);function CC(){return PC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function EE(n){return{integerValue:""+n}}function RC(n,e){return eC(e)?EE(e):am(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function xC(n,e,t){return n instanceof ih?function(o,a){const u={fields:{[iE]:{stringValue:rE},[oE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&nm(a)&&(a=Ch(a)),a&&(u.fields[sE]=a),{mapValue:u}}(t,e):n instanceof zl?SE(n,e):n instanceof $l?IE(n,e):function(o,a){const u=TE(o,a),d=p_(u)+p_(o.Ae);return dp(u)&&dp(o.Ae)?EE(d):am(o.serializer,d)}(n,e)}function kC(n,e,t){return n instanceof zl?SE(n,e):n instanceof $l?IE(n,e):t}function TE(n,e){return n instanceof sh?function(r){return dp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ih extends Vh{}class zl extends Vh{constructor(e){super(),this.elements=e}}function SE(n,e){const t=AE(e);for(const r of n.elements)t.some(o=>Ar(o,r))||t.push(r);return{arrayValue:{values:t}}}class $l extends Vh{constructor(e){super(),this.elements=e}}function IE(n,e){let t=AE(e);for(const r of n.elements)t=t.filter(o=>!Ar(o,r));return{arrayValue:{values:t}}}class sh extends Vh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function p_(n){return dt(n.integerValue||n.doubleValue)}function AE(n){return rm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function VC(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof zl&&o instanceof zl||r instanceof $l&&o instanceof $l?ra(r.elements,o.elements,Ar):r instanceof sh&&o instanceof sh?Ar(r.Ae,o.Ae):r instanceof ih&&o instanceof ih}(n.transform,e.transform)}class DC{constructor(e,t){this.version=e,this.transformResults=t}}class Ln{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dh{}function PE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lm(n.key,Ln.none()):new eu(n.key,n.data,Ln.none());{const t=n.data,r=dn.empty();let o=new It(Ot.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Xi(n.key,r,new wn(o.toArray()),Ln.none())}}function NC(n,e,t){n instanceof eu?function(o,a,u){const d=o.value.clone(),f=g_(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Xi?function(o,a,u){if(!Bc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=g_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(CE(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Vl(n,e,t,r){return n instanceof eu?function(a,u,d,f){if(!Bc(a.precondition,u))return d;const m=a.value.clone(),v=y_(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Xi?function(a,u,d,f){if(!Bc(a.precondition,u))return d;const m=y_(a.fieldTransforms,f,u),v=u.data;return v.setAll(CE(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return Bc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function bC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=TE(r.transform,o||null);a!=null&&(t===null&&(t=dn.empty()),t.set(r.field,a))}return t||null}function m_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ra(r,o,(a,u)=>VC(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class eu extends Dh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Xi extends Dh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function CE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function g_(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,kC(u,d,t[o]))}return r}function y_(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,xC(a,u,e))}return r}class lm extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MC extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&NC(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Vl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Vl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=PE(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),De())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,(t,r)=>m_(t,r))&&ra(this.baseMutations,e.baseMutations,(t,r)=>m_(t,r))}}class um{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return IC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new um(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Le;function jC(n){switch(n){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function RE(n){if(n===void 0)return Yr("GRPC error has no .code"),X.UNKNOWN;switch(n){case mt.OK:return X.OK;case mt.CANCELLED:return X.CANCELLED;case mt.UNKNOWN:return X.UNKNOWN;case mt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case mt.INTERNAL:return X.INTERNAL;case mt.UNAVAILABLE:return X.UNAVAILABLE;case mt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case mt.NOT_FOUND:return X.NOT_FOUND;case mt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case mt.ABORTED:return X.ABORTED;case mt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case mt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:n})}}(Le=mt||(mt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new Oi([4294967295,4294967295],0);function v_(n){const e=UC().encode(n),t=new Hw;return t.update(e),new Uint8Array(t.digest())}function __(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oi([t,r],0),new Oi([o,a],0)]}class cm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Tl(`Invalid padding: ${t}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Oi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Oi.fromNumber(r)));return o.compare(BC)===1&&(o=new Oi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=v_(e),[r,o]=__(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new cm(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=v_(e),[r,o]=__(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nh(Pe.min(),o,new it(Ve),Jr(),De())}}class tu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tu(r,t,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class xE{constructor(e,t){this.targetId=e,this.Ce=t}}class kE{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class w_{constructor(){this.ve=0,this.Fe=E_(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),t=De(),r=De();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:a})}}),new tu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=E_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=kc(),this.He=kc(),this.Ye=new it(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(pp(a))if(r===0){const u=new ye(a.path);this.et(t,u,Gt.newNoDocument(u,Pe.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=$i(r).toUint8Array()}catch(f){if(f instanceof nE)return na("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new cm(u,o,a)}catch(f){return na(f instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const d=this.ot(u);if(d){if(a.current&&pp(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=De();this.He.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const o=new Nh(e,t,this.Ye,this.je,r);return this.je=Jr(),this.Je=kc(),this.He=kc(),this.Ye=new it(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new w_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function kc(){return new it(ye.comparator)}function E_(){return new it(ye.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},HC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WC={and:"AND",or:"OR"};class qC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function gp(n,e){return n.useProto3Json||Ph(e)?e:{value:e}}function oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function KC(n,e){return oh(n,e.toTimestamp())}function vr(n){return ze(!!n,49232),Pe.fromTimestamp(function(t){const r=zi(t);return new Ye(r.seconds,r.nanos)}(n))}function hm(n,e){return yp(n,e).canonicalString()}function yp(n,e){const t=function(o){return new Xe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DE(n){const e=Xe.fromString(n);return ze(OE(e),10190,{key:e.toString()}),e}function vp(n,e){return hm(n.databaseId,e.path)}function Ff(n,e){const t=DE(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(bE(t))}function NE(n,e){return hm(n.databaseId,e)}function GC(n){const e=DE(n);return e.length===4?Xe.emptyPath():bE(e)}function _p(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bE(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function T_(n,e,t){return{name:vp(n,e),fields:t.value.mapValue.fields}}function QC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ze(v===void 0||typeof v=="string",58123),Ut.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?X.UNKNOWN:RE(m.code);return new pe(v,m.message||"")}(u);t=new kE(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Ff(n,r.document.name),a=vr(r.document.updateTime),u=r.document.createTime?vr(r.document.createTime):Pe.min(),d=new dn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new zc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Ff(n,r.document),a=r.readTime?vr(r.readTime):Pe.min(),u=Gt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new zc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Ff(n,r.document),a=r.removedTargetIds||[];t=new zc([],a,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new FC(o,a),d=r.targetId;t=new xE(d,u)}}return t}function XC(n,e){let t;if(e instanceof eu)t={update:T_(n,e.key,e.value)};else if(e instanceof lm)t={delete:vp(n,e.key)};else if(e instanceof Xi)t={update:T_(n,e.key,e.data),updateMask:sR(e.fieldMask)};else{if(!(e instanceof MC))return Te(16599,{Vt:e.type});t={verify:vp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof ih)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof $l)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:KC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(n,e.precondition)),t}function YC(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?vr(o.updateTime):vr(a);return u.isEqual(Pe.min())&&(u=vr(a)),new DC(u,o.transformResults||[])}(t,e))):[]}function JC(n,e){return{documents:[NE(n,e.path)]}}function ZC(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=NE(n,o);const a=function(m){if(m.length!==0)return LE(Pr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:zo(E.field),direction:nR(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=gp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function eR(n){let e=GC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ze(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=ME(w);return E instanceof Pr&&dE(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(O){return new rh($o(O.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(w){let E;return E=typeof w=="object"?w.value:w,Ph(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,A=w.values||[];return new nh(A,E)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const E=!w.before,A=w.values||[];return new nh(A,E)}(t.endAt)),vC(e,o,u,a,d,"F",f,m)}function tR(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ME(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$o(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=$o(t.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$o(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=$o(t.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return St.create($o(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pr.create(t.compositeFilter.filters.map(r=>ME(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function nR(n){return $C[n]}function rR(n){return HC[n]}function iR(n){return WC[n]}function zo(n){return{fieldPath:n.canonicalString()}}function $o(n){return Ot.fromServerFormat(n.fieldPath)}function LE(n){return n instanceof St?function(t){if(t.op==="=="){if(u_(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(l_(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(u_(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(l_(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:rR(t.op),value:t.value}}}(n):n instanceof Pr?function(t){const r=t.getFilters().map(o=>LE(o));return r.length===1?r[0]:{compositeFilter:{op:iR(t.op),filters:r}}}(n):Te(54877,{filter:n})}function sR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,r,o,a=Pe.min(),u=Pe.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.yt=e}}function aR(n){const e=eR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.Cn=new uR}addToCollectionParentIndex(e,t){return this.Cn.add(t),G.resolve()}getCollectionParents(e,t){return G.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return G.resolve()}deleteFieldIndex(e,t){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,t){return G.resolve()}getDocumentsMatchingTarget(e,t){return G.resolve(null)}getIndexType(e,t){return G.resolve(0)}getFieldIndexes(e,t){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,t){return G.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,t){return G.resolve(Bi.min())}updateCollectionGroup(e,t,r){return G.resolve()}updateIndexEntries(e,t){return G.resolve()}}class uR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new It(Xe.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new It(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(FE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new oa(0)}static cr(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",cR=1048576;function A_([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class hR{constructor(e){this.Ir=e,this.buffer=new It(A_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();A_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(I_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ga(t)?ce(I_,"Ignoring IndexedDB error during garbage collection: ",t):await ma(t)}await this.Vr(3e5)})}}class fR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return G.resolve(Ah.ce);const r=new hR(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(S_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Uo()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function pR(n,e){return new fR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.changes=new Us(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?G.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Vl(r.mutation,o,wn.empty(),Ye.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,t,r=De()){const o=Vs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=El();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,De()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=Jr();const u=kl(),d=function(){return kl()}();return t.forEach((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Xi)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Vl(v.mutation,m,v.mutation.getFieldMask(),Ye.now())):u.set(m.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>d.set(m,new gR(v,u.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const r=kl();let o=new it((u,d)=>u-d),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||wn.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||De()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=wE();v.forEach(E=>{if(!a.has(E)){const A=PE(t.get(E),r.get(E));A!==null&&w.set(E,A),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return G.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_C(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):G.resolve(Vs());let d=Fl,f=a;return u.next(m=>G.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?G.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,De())).next(v=>({batchId:d,changes:_E(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let o=El();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=El();return this.indexManager.getCollectionParents(e,a).next(d=>G.forEach(d,f=>{const m=function(w,E){return new Rh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Gt.newInvalidDocument(v)))});let d=El();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Vl(v.mutation,m,wn.empty(),Ye.now()),kh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return G.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}}(t)),G.resolve()}getNamedQuery(e,t){return G.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:aR(o.bundledQuery),readTime:vr(o.readTime)}}(t)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.overlays=new it(ye.comparator),this.qr=new Map}getOverlay(e,t){return G.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vs();return G.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),G.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),G.resolve()}getOverlaysForCollection(e,t,r){const o=Vs(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return G.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new it((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Vs(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Vs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return G.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new OC(t,r));let a=this.qr.get(t);a===void 0&&(a=De(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(){this.Qr=new It(kt.$r),this.Ur=new It(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Xe([])),r=new kt(t,e),o=new kt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Xe([])),r=new kt(t,e),o=new kt(t,e+1);let a=De();return this.Ur.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(kt.$r)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new LC(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new kt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return G.resolve(u)}lookupMutationBatch(e,t){return G.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?tm:this.tr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],u=>{const d=this.Xr(u.Yr);a.push(d)}),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Ve);return t.forEach(o=>{const a=new kt(o,0),u=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],d=>{r=r.add(d.Yr)})}),G.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new kt(new ye(a),0);let d=new It(Ve);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)},u),G.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return G.forEach(t.mutations,o=>{const a=new kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new kt(t,0),o=this.Zr.firstAfterOrEqual(r);return G.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.ri=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return G.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=Jr();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Gt.newInvalidDocument(o))}),G.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Jr();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||XP(QP(v),r)<=0||(o.has(v.key)||kh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ii(e,t){return G.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SR(this)}getSize(e){return G.resolve(this.size)}}class SR extends mR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),G.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.persistence=e,this.si=new Us(t=>im(t),sm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new dm,this.targetCount=0,this.ai=oa.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),G.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,G.resolve()}updateTargetData(e,t){return this.Pr(t),G.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),G.waitFor(a).next(()=>o)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return G.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),G.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),G.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),G.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return G.resolve(r)}containsKey(e,t){return G.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new wR,this.referenceDelegate=e(this),this.Pi=new IR(this),this.indexManager=new lR,this.remoteDocumentCache=function(o){return new TR(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new oR(t),this.Ii=new vR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _R,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ER(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new AR(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,t){return G.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class AR extends JP{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Ri=new dm,this.Vi=null}static mi(e){return new fm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),G.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),G.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.fi,r=>{const o=ye.fromPath(r);return this.gi(e,o).next(a=>{a||t.removeEntry(o,Pe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return G.or([()=>G.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ah{constructor(e,t){this.persistence=e,this.pi=new Us(r=>tC(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=pR(this,t)}static mi(e,t){return new ah(e,t)}Ei(){}di(e){return G.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return G.forEach(this.pi,(r,o)=>this.br(e,r,o).next(a=>a?G.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),G.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=jc(e.data.value)),t}br(e,t,r){return G.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return G.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=De(),o=De();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new pm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yA()?8:ZP(Yt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new PR;return this.Ss(e,t,u).next(d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>a.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(Uo()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Bo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),G.resolve()):(Uo()<=ke.DEBUG&&ce("QueryEngine","Query:",Bo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Uo()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Bo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):G.resolve())}ys(e,t){if(f_(t))return G.resolve(null);let r=yr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=mp(t,null,"F"),r=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,mp(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,o){return f_(t)||o.isEqual(Pe.min())?G.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?G.resolve(null):(Uo()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(t)),this.vs(e,u,t,GP(o,Fl)).next(d=>d))})}Ds(e,t){let r=new It(yE(e));return t.forEach((o,a)=>{kh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Uo()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Bo(t)),this.ps.getDocumentsMatchingQuery(e,t,Bi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="LocalStore",RR=3e8;class xR{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(Ve),this.xs=new Us(a=>im(a),sm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function kR(n,e,t,r){return new xR(n,e,t,r)}async function UE(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=De();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:d}))})})}function VR(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const w=m.batch,E=w.keys();let A=G.resolve();return E.forEach(O=>{A=A.next(()=>v.getEntry(f,O)).next(F=>{const M=m.docVersions.get(O);ze(M!==null,48541),F.version.compareTo(M)<0&&(w.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),v.addEntry(F)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=De();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function BE(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function DR(n,e){const t=Ce(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w)));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Ut.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(w,A),function(F,M,W){return F.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=RR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(E,A,v)&&d.push(t.Pi.updateTargetData(a,A))});let f=Jr(),m=De();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(NR(a,u,e.documentUpdates).next(v=>{f=v.ks,m=v.qs})),!r.isEqual(Pe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return G.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ms=o,a))}function NR(n,e,t){let r=De(),o=De();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Jr();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(mm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{ks:u,qs:o}})}function bR(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MR(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(a=>a?(o=a,G.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new Ni(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function wp(n,e,t){const r=Ce(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ga(u))throw u;ce(mm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function P_(n,e,t){const r=Ce(n);let o=Pe.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=Ce(f),E=w.xs.get(v);return E!==void 0?G.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(r,u,yr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Pe.min(),t?a:De())).next(d=>(LR(r,EC(e),d),{documents:d,Qs:a})))}function LR(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class C_{constructor(){this.activeTargetIds=CC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OR{constructor(){this.Mo=new C_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new C_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class x_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(R_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Ep(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",jR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=Ep(),d=this.zo(e,t.toUriEncodedString());ce(jf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),v=da(m);return this.Jo(e,d,f,r,v).then(w=>(ce(jf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw na(jf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}zo(e,t){const r=jR[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class zR extends UR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=Ep();return new Promise((d,f)=>{const m=new Ww;m.setWithCredentials(!0),m.listenOnce(qw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Fc.NO_ERROR:const w=m.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Fc.TIMEOUT:ce(Wt,`RPC '${e}' ${u} timed out`),f(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const E=m.getStatus();if(ce(Wt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const F=function(W){const K=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(K)>=0?K:X.UNKNOWN}(O.status);f(new pe(F,O.message))}else f(new pe(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);ce(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}T_(e,t,r){const o=Ep(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Qw(),d=Gw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let E=!1,A=!1;const O=new BR({Yo:M=>{A?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(E||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,M),w.send(M))},Zo:()=>w.close()}),F=(M,W,K)=>{M.listen(W,Q=>{try{K(Q)}catch(oe){setTimeout(()=>{throw oe},0)}})};return F(w,wl.EventType.OPEN,()=>{A||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),O.o_())}),F(w,wl.EventType.CLOSE,()=>{A||(A=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))}),F(w,wl.EventType.ERROR,M=>{A||(A=!0,na(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),O.a_(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),F(w,wl.EventType.MESSAGE,M=>{if(!A){const W=M.data[0];ze(!!W,16349);const K=W,Q=K?.error||K[0]?.error;if(Q){ce(Wt,`RPC '${e}' stream ${o} received error:`,Q);const oe=Q.status;let ne=function(I){const C=mt[I];if(C!==void 0)return RE(C)}(oe),ae=Q.message;ne===void 0&&(ne=X.INTERNAL,ae="Unknown error status: "+oe+" with message "+Q.message),A=!0,O.a_(new pe(ne,ae)),w.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,W),O.u_(W)}}),F(d,Kw.STAT_EVENT,M=>{M.stat===up.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===up.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(n){return new qC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="PersistentStream";class $E{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Yr(t.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new pe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(k_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ce(k_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $R extends $E{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=QC(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?vr(u.readTime):Pe.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=_p(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=pp(f)?{documents:JC(a,f)}:{query:ZC(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=VE(a,u.resumeToken);const m=gp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Pe.min())>0){d.readTime=oh(a,u.snapshotVersion.toTimestamp());const m=gp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=tR(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=_p(this.serializer),t.removeTarget=e,this.q_(t)}}class HR extends $E{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=YC(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=_p(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>XC(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{}class qR extends WR{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,yp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(X.UNKNOWN,a.toString())})}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,yp(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(X.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class KR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class GR{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{Bs(this)&&(ce(Fs,"Restarting streams for network reachability change."),await async function(f){const m=Ce(f);m.Ea.add(4),await nu(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Mh(m)}(this))})}),this.Ra=new KR(r,o)}}async function Mh(n){if(Bs(n))for(const e of n.da)await e(!0)}async function nu(n){for(const e of n.da)await e(!1)}function HE(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_m(t)?vm(t):ya(t).O_()&&ym(t,e))}function gm(n,e){const t=Ce(n),r=ya(t);t.Ia.delete(e),r.O_()&&WE(t,e),t.Ia.size===0&&(r.O_()?r.L_():Bs(t)&&t.Ra.set("Unknown"))}function ym(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ya(n).Y_(e)}function WE(n,e){n.Va.Ue(e),ya(n).Z_(e)}function vm(n){n.Va=new zC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ya(n).start(),n.Ra.ua()}function _m(n){return Bs(n)&&!ya(n).x_()&&n.Ia.size>0}function Bs(n){return Ce(n).Ea.size===0}function qE(n){n.Va=void 0}async function QR(n){n.Ra.set("Online")}async function XR(n){n.Ia.forEach((e,t)=>{ym(n,e)})}async function YR(n,e){qE(n),_m(n)?(n.Ra.ha(e),vm(n)):n.Ra.set("Unknown")}async function JR(n,e,t){if(n.Ra.set("Online"),e instanceof kE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(r){ce(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lh(n,r)}else if(e instanceof zc?n.Va.Ze(e):e instanceof xE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await BE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),WE(a,f);const w=new Ni(v.target,f,m,v.sequenceNumber);ym(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){ce(Fs,"Failed to raise snapshot:",r),await lh(n,r)}}async function lh(n,e,t){if(!ga(e))throw e;n.Ea.add(1),await nu(n),n.Ra.set("Offline"),t||(t=()=>BE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Fs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Mh(n)})}function KE(n,e){return e().catch(t=>lh(n,t,e))}async function Lh(n){const e=Ce(n),t=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tm;for(;ZR(e);)try{const o=await bR(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,ex(e,o)}catch(o){await lh(e,o)}GE(e)&&QE(e)}function ZR(n){return Bs(n)&&n.Ta.length<10}function ex(n,e){n.Ta.push(e);const t=Wi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function GE(n){return Bs(n)&&!Wi(n).x_()&&n.Ta.length>0}function QE(n){Wi(n).start()}async function tx(n){Wi(n).ra()}async function nx(n){const e=Wi(n);for(const t of n.Ta)e.ea(t.mutations)}async function rx(n,e,t){const r=n.Ta.shift(),o=um.from(r,e,t);await KE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Lh(n)}async function ix(n,e){e&&Wi(n).X_&&await async function(r,o){if(function(u){return jC(u)&&u!==X.ABORTED}(o.code)){const a=r.Ta.shift();Wi(r).B_(),await KE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Lh(r)}}(n,e),GE(n)&&QE(n)}async function V_(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ce(Fs,"RemoteStore received new credentials");const r=Bs(t);t.Ea.add(3),await nu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Mh(t)}async function sx(n,e){const t=Ce(n);e?(t.Ea.delete(2),await Mh(t)):e||(t.Ea.add(2),await nu(t),t.Ra.set("Unknown"))}function ya(n){return n.ma||(n.ma=function(t,r,o){const a=Ce(t);return a.sa(),new $R(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:QR.bind(null,n),t_:XR.bind(null,n),r_:YR.bind(null,n),H_:JR.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),_m(n)?vm(n):n.Ra.set("Unknown")):(await n.ma.stop(),qE(n))})),n.ma}function Wi(n){return n.fa||(n.fa=function(t,r,o){const a=Ce(t);return a.sa(),new HR(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:tx.bind(null,n),r_:ix.bind(null,n),ta:nx.bind(null,n),na:rx.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Lh(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Fs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new wm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(n,e){if(Yr("AsyncQueue",`${e}: ${n}`),ga(n))return new pe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{static emptySet(e){return new Xo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=El(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.ga=new it(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class aa{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new aa(e,t,Xo.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ax{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ce(t),a=o.queries;o.queries=N_(),a.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function N_(){return new Us(n=>gE(n),xh)}async function XE(n,e){const t=Ce(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new ox,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Em(u,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Tm(t)}async function YE(n,e){const t=Ce(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function lx(n,e){const t=Ce(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&Tm(t)}function ux(n,e,t){const r=Ce(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function Tm(n){n.Ca.forEach(e=>{e.next()})}var Tp,b_;(b_=Tp||(Tp={})).Ma="default",b_.Cache="cache";class JE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Tp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.key=e}}class eT{constructor(e){this.key=e}}class cx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=yE(e),this.tu=new Xo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new D_,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),A=kh(this.query,w)?w:null,O=!!E&&this.mutatedKeys.has(E.key),F=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;E&&A?E.data.isEqual(A.data)?O!==F&&(r.track({type:3,doc:A}),M=!0):this.su(E,A)||(r.track({type:2,doc:A}),M=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(d=!0)):!E&&A?(r.track({type:0,doc:A}),M=!0):E&&!A&&(r.track({type:1,doc:E}),M=!0,(f||m)&&(d=!0)),M&&(A?(u=u.add(A),a=F?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(A,O){const F=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:M})}};return F(A)-F(O)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new aa(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new D_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new eT(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new ZE(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=De();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sm="SyncEngine";class hx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class dx{constructor(e){this.key=e,this.hu=!1}}class fx{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Us(d=>gE(d),xh),this.Iu=new Map,this.Eu=new Set,this.du=new it(ye.comparator),this.Au=new Map,this.Ru=new dm,this.Vu={},this.mu=new Map,this.fu=oa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function px(n,e,t=!0){const r=oT(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await tT(r,e,t,!0),o}async function mx(n,e){const t=oT(n);await tT(t,e,!0,!1)}async function tT(n,e,t,r){const o=await MR(n.localStore,yr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await gx(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&HE(n.remoteStore,o),d}async function gx(n,e,t,r,o){n.pu=(w,E,A)=>async function(F,M,W,K){let Q=M.view.ru(W);Q.Cs&&(Q=await P_(F.localStore,M.query,!1).then(({documents:x})=>M.view.ru(x,Q)));const oe=K&&K.targetChanges.get(M.targetId),ne=K&&K.targetMismatches.get(M.targetId)!=null,ae=M.view.applyChanges(Q,F.isPrimaryClient,oe,ne);return L_(F,M.targetId,ae.au),ae.snapshot}(n,w,E,A);const a=await P_(n.localStore,e,!0),u=new cx(e,a.Qs),d=u.ru(a.documents),f=tu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);L_(n,t,m.au);const v=new hx(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function yx(n,e,t){const r=Ce(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter(u=>!xh(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await wp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&gm(r.remoteStore,o.targetId),Sp(r,o.targetId)}).catch(ma)):(Sp(r,o.targetId),await wp(r.localStore,o.targetId,!0))}async function vx(n,e){const t=Ce(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gm(t.remoteStore,r.targetId))}async function _x(n,e,t){const r=Px(n);try{const o=await function(u,d){const f=Ce(u),m=Ye.now(),v=d.reduce((A,O)=>A.add(O.key),De());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let O=Jr(),F=De();return f.Ns.getEntries(A,v).next(M=>{O=M,O.forEach((W,K)=>{K.isValidDocument()||(F=F.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,O)).next(M=>{w=M;const W=[];for(const K of d){const Q=bC(K,w.get(K.key).overlayedDocument);Q!=null&&W.push(new Xi(K.key,Q,uE(Q.value.mapValue),Ln.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,W,d)}).next(M=>{E=M;const W=M.applyToLocalDocumentSet(w,F);return f.documentOverlayCache.saveOverlays(A,M.batchId,W)})}).then(()=>({batchId:E.batchId,changes:_E(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new it(Ve)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await ru(r,o.changes),await Lh(r.remoteStore)}catch(o){const a=Em(o,"Failed to persist write");t.reject(a)}}async function nT(n,e){const t=Ce(n);try{const r=await DR(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Au.get(a);u&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ze(u.hu,14607):o.removedDocuments.size>0&&(ze(u.hu,42227),u.hu=!1))}),await ru(t,r,e)}catch(r){await ma(r)}}function M_(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Ce(u);f.onlineState=d;let m=!1;f.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(d)&&(m=!0)}),m&&Tm(f)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wx(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new it(ye.comparator);u=u.insert(a,Gt.newNoDocument(a,Pe.min()));const d=De().add(a),f=new Nh(Pe.min(),new Map,new it(Ve),u,d);await nT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Im(r)}else await wp(r.localStore,e,!1).then(()=>Sp(r,e,t)).catch(ma)}async function Ex(n,e){const t=Ce(n),r=e.batch.batchId;try{const o=await VR(t.localStore,e);iT(t,r,null),rT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ru(t,o)}catch(o){await ma(o)}}async function Tx(n,e,t){const r=Ce(n);try{const o=await function(u,d){const f=Ce(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(ze(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);iT(r,e,t),rT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ru(r,o)}catch(o){await ma(o)}}function rT(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function iT(n,e,t){const r=Ce(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Sp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||sT(n,r)})}function sT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(gm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Im(n))}function L_(n,e,t){for(const r of t)r instanceof ZE?(n.Ru.addReference(r.key,e),Sx(n,r)):r instanceof eT?(ce(Sm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||sT(n,r.key)):Te(19791,{wu:r})}function Sx(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ce(Sm,"New document in limbo: "+t),n.Eu.add(r),Im(n))}function Im(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Xe.fromString(e)),r=n.fu.next();n.Au.set(r,new dx(t)),n.du=n.du.insert(t,r),HE(n.remoteStore,new Ni(yr(om(t.path)),r,"TargetPurposeLimboResolution",Ah.ce))}}async function ru(n,e,t){const r=Ce(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,f)=>{u.push(r.pu(f,e,t).then(m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=pm.As(f.targetId,m);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(f,m){const v=Ce(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>G.forEach(m,E=>G.forEach(E.Es,A=>v.persistence.referenceDelegate.addReference(w,E.targetId,A)).next(()=>G.forEach(E.ds,A=>v.persistence.referenceDelegate.removeReference(w,E.targetId,A)))))}catch(w){if(!ga(w))throw w;ce(mm,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const A=v.Ms.get(E),O=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(E,F)}}}(r.localStore,a))}async function Ix(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ce(Sm,"User change. New user:",e.toKey());const r=await UE(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(d=>{d.forEach(f=>{f.reject(new pe(X.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(t,r.Ls)}}function Ax(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return De().add(r.key);{let o=De();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function oT(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wx.bind(null,e),e.Pu.H_=lx.bind(null,e.eventManager),e.Pu.yu=ux.bind(null,e.eventManager),e}function Px(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Tx.bind(null,e),e}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kR(this.persistence,new CR,e.initialUser,this.serializer)}Cu(e){return new jE(fm.mi,this.serializer)}Du(e){return new OR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class Cx extends uh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof ah,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dR(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new jE(r=>ah.mi(r,t),this.serializer)}}class Ip{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ix.bind(null,this.syncEngine),await sx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ax}()}createDatastore(e){const t=bh(e.databaseInfo.databaseId),r=function(a){return new zR(a)}(e.databaseInfo);return function(a,u,d,f){return new qR(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new GR(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>M_(this.syncEngine,t,0),function(){return x_.v()?new x_:new FR}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,v){const w=new fx(o,a,u,d,f,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Ce(t);ce(Fs,"RemoteStore shutting down."),r.Ea.add(5),await nu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="FirestoreClient";class Rx{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce(qi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(qi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Em(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(qi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await UE(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function O_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await xx(n);ce(qi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>V_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>V_(e.remoteStore,o)),n._onlineComponents=e}async function xx(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(qi,"Using user provided OfflineComponentProvider");try{await Bf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await Bf(n,new uh)}}else ce(qi,"Using default OfflineComponentProvider"),await Bf(n,new Cx(void 0));return n._offlineComponents}async function lT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(qi,"Using user provided OnlineComponentProvider"),await O_(n,n._uninitializedComponentsProvider._online)):(ce(qi,"Using default OnlineComponentProvider"),await O_(n,new Ip))),n._onlineComponents}function kx(n){return lT(n).then(e=>e.syncEngine)}async function uT(n){const e=await lT(n),t=e.eventManager;return t.onListen=px.bind(null,e.syncEngine),t.onUnlisten=yx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vx.bind(null,e.syncEngine),t}function Vx(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new aT({next:E=>{v.Nu(),u.enqueueAndForget(()=>YE(a,w));const A=E.docs.has(d);!A&&E.fromCache?m.reject(new pe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?m.reject(new pe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new JE(om(d.path),v,{includeMetadataChanges:!0,qa:!0});return XE(a,w)}(await uT(n),n.asyncQueue,e,t,r)),r.promise}function Dx(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new aT({next:E=>{v.Nu(),u.enqueueAndForget(()=>YE(a,w)),E.fromCache&&f.source==="server"?m.reject(new pe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new JE(d,v,{includeMetadataChanges:!0,qa:!0});return XE(a,w)}(await uT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="firestore.googleapis.com",j_=!0;class U_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hT,this.ssl=j_}else this.host=e.host,this.ssl=e.ssl??j_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cR)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OP;switch(r.type){case"firstParty":return new BP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=F_.get(t);r&&(ce("ComponentProvider","Removing Datastore"),F_.delete(t),r.terminate())}(this),Promise.resolve()}}function Nx(n,e,t,r={}){n=nr(n,Oh);const o=da(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(Lw(`https://${d}`),Ow("Firestore",!0)),a.host!==hT&&a.host!==d&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!Ms(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Kt.MOCK_USER;else{m=lA(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Kt(w)}n._authCredentials=new FP(new Yw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fh(this.firestore,e,this._query)}}class yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zl(t,yt._jsonSchema))return new yt(e,r||null,new ye(Xe.fromString(t.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:gt("string",yt._jsonSchemaVersion),referencePath:gt("string")};class Fi extends Fh{constructor(e,t,r){super(e,t,om(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ye(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function bx(n,e,...t){if(n=jt(n),Jw("collection","path",e),n instanceof Oh){const r=Xe.fromString(e,...t);return e_(r),new Fi(n,null,r)}{if(!(n instanceof yt||n instanceof Fi))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return e_(r),new Fi(n.firestore,null,r)}}function Ap(n,e,...t){if(n=jt(n),arguments.length===1&&(e=Zp.newId()),Jw("doc","path",e),n instanceof Oh){const r=Xe.fromString(e,...t);return Zv(r),new yt(n,null,new ye(r))}{if(!(n instanceof yt||n instanceof Fi))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return Zv(r),new yt(n.firestore,n instanceof Fi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="AsyncQueue";class z_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zE(this,"async_queue_retry"),this._c=()=>{const r=Uf();r&&ce(B_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Uf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Uf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Kr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ga(e))throw e;ce(B_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",$_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=wm.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:$_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function $_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class zs extends Oh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new z_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new z_(e),this._firestoreClient=void 0,await e}}}function Mx(n,e){const t=typeof n=="object"?n:Bw(),r=typeof n=="string"?n:eh,o=Yp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=oA("firestore");a&&Nx(o,...a)}return o}function Am(n){if(n._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lx(n),n._firestoreClient}function Lx(n){const e=n._freezeSettings(),t=function(o,a,u,d){return new iC(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new Rx(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ut.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:gt("string",Mn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:gt("string",_r._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new wr(e.vectorValues);throw new pe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:gt("string",wr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=/^__.*__$/;class Fx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class dT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Xi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class Cm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fT(this.Ac)&&Ox.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bh(e)}Cc(e,t,r,o=!1){return new Cm({Ac:e,methodName:t,Dc:r,path:Ot.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rm(n){const e=n._freezeSettings(),t=bh(n._databaseId);return new jx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function pT(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);xm("Data must be an object, but it was:",u,r);const d=mT(r,u);let f,m;if(a.merge)f=new wn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=Pp(e,w,t);if(!u.contains(E))throw new pe(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);yT(v,E)||v.push(E)}f=new wn(v),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new Fx(new dn(d),f,m)}class Uh extends Pm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function Ux(n,e,t,r){const o=n.Cc(1,e,t);xm("Data must be an object, but it was:",o,r);const a=[],u=dn.empty();Qi(r,(f,m)=>{const v=km(e,f,t);m=jt(m);const w=o.yc(v);if(m instanceof Uh)a.push(v);else{const E=Bh(m,w);E!=null&&(a.push(v),u.set(v,E))}});const d=new wn(a);return new dT(u,d,o.fieldTransforms)}function Bx(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[Pp(e,r,t)],f=[o];if(a.length%2!=0)throw new pe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Pp(e,a[E])),f.push(a[E+1]);const m=[],v=dn.empty();for(let E=d.length-1;E>=0;--E)if(!yT(m,d[E])){const A=d[E];let O=f[E];O=jt(O);const F=u.yc(A);if(O instanceof Uh)m.push(A);else{const M=Bh(O,F);M!=null&&(m.push(A),v.set(A,M))}}const w=new wn(m);return new dT(v,w,u.fieldTransforms)}function Bh(n,e){if(gT(n=jt(n)))return xm("Unsupported field value:",e,n),mT(n,e);if(n instanceof Pm)return function(r,o){if(!fT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=Bh(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:oh(o.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:oh(o.serializer,a)}}if(r instanceof _r)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:VE(o.serializer,r._byteString)};if(r instanceof yt){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof wr)return function(u,d){return{mapValue:{fields:{[aE]:{stringValue:lE},[th]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return am(d.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${em(r)}`)}(n,e)}function mT(n,e){const t={};return tE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(n,(r,o)=>{const a=Bh(o,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function gT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof _r||n instanceof Mn||n instanceof yt||n instanceof Pm||n instanceof wr)}function xm(n,e,t){if(!gT(t)||!Zw(t)){const r=em(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Pp(n,e,t){if((e=jt(e))instanceof jh)return e._internalPath;if(typeof e=="string")return km(n,e);throw ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const zx=new RegExp("[~\\*/\\[\\]]");function km(n,e,t){if(e.search(zx)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new jh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ch(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(X.INVALID_ARGUMENT,d+n+f)}function yT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $x(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_T("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $x extends vT{data(){return super.data()}}function _T(n,e){return typeof e=="string"?km(n,e):e instanceof jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wx{convertValue(e,t="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Qi(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[th].arrayValue?.values?.map(r=>dt(r.doubleValue));return new wr(t)}convertGeoPoint(e){return new _r(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ch(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const t=zi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);ze(OE(r),9688,{name:e});const o=new Ul(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return o.isEqual(t)||Yr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ns extends vT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_T("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ns._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:gt("string",Ns._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class $c extends Ns{data(e={}){return super.data(e)}}class Yo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Sl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new $c(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new $c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new $c(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Sl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:qx(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(n){n=nr(n,yt);const e=nr(n.firestore,zs);return Vx(Am(e),n._key).then(t=>Gx(e,n,t))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:gt("string",Yo._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class ET extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function Kx(n){n=nr(n,Fh);const e=nr(n.firestore,zs),t=Am(e),r=new ET(e);return Hx(n._query),Dx(t,n._query).then(o=>new Yo(e,r,n,o))}function e4(n,e,t){n=nr(n,yt);const r=nr(n.firestore,zs),o=wT(n.converter,e);return zh(r,[pT(Rm(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Ln.none())])}function t4(n,e,t,...r){n=nr(n,yt);const o=nr(n.firestore,zs),a=Rm(o);let u;return u=typeof(e=jt(e))=="string"||e instanceof jh?Bx(a,"updateDoc",n._key,e,t,r):Ux(a,"updateDoc",n._key,e),zh(o,[u.toMutation(n._key,Ln.exists(!0))])}function n4(n){return zh(nr(n.firestore,zs),[new lm(n._key,Ln.none())])}function r4(n,e){const t=nr(n.firestore,zs),r=Ap(n),o=wT(n.converter,e);return zh(t,[pT(Rm(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}function zh(n,e){return function(r,o){const a=new Kr;return r.asyncQueue.enqueueAndForget(async()=>_x(await kx(r),o,a)),a.promise}(Am(n),e)}function Gx(n,e,t){const r=t.docs.get(e._key),o=new ET(n);return new Ns(n,o,e._key,r,new Sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){pa=o})(fa),ta(new Ls("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new zs(new jP(r.getProvider("auth-internal")),new zP(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(m.options.projectId,v)}(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Li(Qv,Xv,e),Li(Qv,Xv,"esm2020")})();function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qx=TT,ST=new Yl("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Qp("@firebase/auth");function Xx(n,...e){hh.logLevel<=ke.WARN&&hh.warn(`Auth (${fa}): ${n}`,...e)}function Hc(n,...e){hh.logLevel<=ke.ERROR&&hh.error(`Auth (${fa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,...e){throw Vm(n,...e)}function Er(n,...e){return Vm(n,...e)}function IT(n,e,t){const r={...Qx(),[e]:t};return new Yl("auth","Firebase",r).create(e,{appName:n.name})}function ji(n){return IT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ST.create(n,...e)}function Ee(n,e,...t){if(!n)throw Vm(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hc(e),new Error(e)}function Zr(n,e){n||Wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){return typeof self<"u"&&self.location?.href||""}function Yx(){return W_()==="http:"||W_()==="https:"}function W_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yx()||pA()||"connection"in navigator)?navigator.onLine:!0}function Zx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=hA()||mA()}get(){return Jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nk=new iu(3e4,6e4);function $s(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Yi(n,e,t,r,o={}){return PT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Jl({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return fA()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&da(n.emulatorConfig.host)&&(m.credentials="include"),AT.fetch()(await CT(n,n.config.apiHost,t,d),m)})}async function PT(n,e,t){n._canInitEmulator=!1;const r={...ek,...e};try{const o=new ik(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Dc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Dc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Dc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw IT(n,v,m);rr(n,v)}}catch(o){if(o instanceof ti)throw o;rr(n,"network-request-failed",{message:String(o)})}}async function $h(n,e,t,r,o={}){const a=await Yi(n,e,t,r,o);return"mfaPendingCredential"in a&&rr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function CT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Dm(n.config,o):`${n.config.apiScheme}://${o}`;return tk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function rk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ik{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),nk.get())})}}function Dc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Er(n,e,r);return o.customData._tokenResponse=t,o}function q_(n){return n!==void 0&&n.enterprise!==void 0}class sk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ok(n,e){return Yi(n,"GET","/v2/recaptchaConfig",$s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(n,e){return Yi(n,"POST","/v1/accounts:delete",e)}async function dh(n,e){return Yi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lk(n,e=!1){const t=jt(n),r=await t.getIdToken(e),o=Nm(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Dl(zf(o.auth_time)),issuedAtTime:Dl(zf(o.iat)),expirationTime:Dl(zf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function zf(n){return Number(n)*1e3}function Nm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Dw(t);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function K_(n){const e=Nm(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ti&&uk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function uk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(n){const e=n.auth,t=await n.getIdToken(),r=await Hl(n,dh(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?RT(o.providerUserInfo):[],u=dk(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Rp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function hk(n){const e=jt(n);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function RT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e){const t=await PT(n,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await CT(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&da(n.emulatorConfig.host)&&(f.credentials="include"),AT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pk(n,e){return Yi(n,"POST","/v2/accounts:revokeToken",$s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=K_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await fk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Jo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return Wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new ck(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Hl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lk(this,e)}reload(){return hk(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await Hl(this,ak(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:O,stsTokenManager:F}=t;Ee(w&&F,e,"internal-error");const M=Jo.fromJSON(this.name,F);Ee(typeof w=="string",e,"internal-error"),Ci(r,e.name),Ci(o,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof A=="boolean",e,"internal-error"),Ci(a,e.name),Ci(u,e.name),Ci(d,e.name),Ci(f,e.name),Ci(m,e.name),Ci(v,e.name);const W=new tr({uid:w,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:M,createdAt:m,lastLoginAt:v});return O&&Array.isArray(O)&&(W.providerData=O.map(K=>({...K}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,t,r=!1){const o=new Jo;o.updateFromServerResponse(t);const a=new tr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await fh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?RT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Jo;d.updateFromIdToken(r);const f=new tr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=new Map;function qr(n){Zr(n instanceof Function,"Expected a class definition");let e=G_.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,G_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}xT.type="NONE";const Q_=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(n,e,t){return`firebase:${n}:${e}:${t}`}class Zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Wc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dh(this.auth,{idToken:e}).catch(()=>{});return t?tr._fromGetAccountInfoResponse(this.auth,t,e):null}return tr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zo(qr(Q_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||qr(Q_);const u=Wc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const E=await dh(e,{idToken:v}).catch(()=>{});if(!E)break;w=await tr._fromGetAccountInfoResponse(e,E,v)}else w=tr._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Zo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Zo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(LT(e))return"Webos";if(VT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(bT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function kT(n=Yt()){return/firefox\//i.test(n)}function VT(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(n=Yt()){return/crios\//i.test(n)}function NT(n=Yt()){return/iemobile/i.test(n)}function bT(n=Yt()){return/android/i.test(n)}function MT(n=Yt()){return/blackberry/i.test(n)}function LT(n=Yt()){return/webos/i.test(n)}function bm(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function mk(n=Yt()){return bm(n)&&!!window.navigator?.standalone}function gk(){return gA()&&document.documentMode===10}function OT(n=Yt()){return bm(n)||bT(n)||LT(n)||MT(n)||/windows phone/i.test(n)||NT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(n,e=[]){let t;switch(n){case"Browser":t=X_(Yt());break;case"Worker":t=`${X_(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,e={}){return Yi(n,"GET","/v2/passwordPolicy",$s(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=6;class wk{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_k,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y_(this),this.idTokenSubscription=new Y_(this),this.beforeStateQueue=new yk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=qr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dh(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(ji(this));const t=e?jt(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vk(this),t=new wk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await pk(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&qr(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[qr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Xx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function va(n){return jt(n)}class Y_{constructor(e){this.auth=e,this.observer=null,this.addObserver=IA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tk(n){Hh=n}function jT(n){return Hh.loadJS(n)}function Sk(){return Hh.recaptchaEnterpriseScript}function Ik(){return Hh.gapiScript}function Ak(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Pk{constructor(){this.enterprise=new Ck}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ck{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rk="recaptcha-enterprise",UT="NO_RECAPTCHA";class xk{constructor(e){this.type=Rk,this.auth=va(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{ok(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new sk(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;q_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(UT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Pk().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&q_(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Sk();f.length!==0&&(f+=d),jT(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function J_(n,e,t,r=!1,o=!1){const a=new xk(n);let u;if(o)u=UT;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Z_(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await J_(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await J_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(n,e){const t=Yp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ms(a,e??{}))return o;rr(o,"already-initialized")}return t.initialize({options:e})}function Vk(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Dk(n,e,t){const r=va(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=BT(e),{host:u,port:d}=Nk(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Ms(m,r.config.emulator)&&Ms(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,da(u)?(Lw(`${a}//${u}${f}`),Ow("Auth",!0)):bk()}function BT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Nk(n){const e=BT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:e0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:e0(u)}}}function e0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function bk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}async function Mk(n,e){return Yi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(n,e){return $h(n,"POST","/v1/accounts:signInWithPassword",$s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(n,e){return $h(n,"POST","/v1/accounts:signInWithEmailLink",$s(n,e))}async function Fk(n,e){return $h(n,"POST","/v1/accounts:signInWithEmailLink",$s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Mm{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Wl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Wl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z_(e,t,"signInWithPassword",Lk);case"emailLink":return Ok(e,{email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Z_(e,r,"signUpPassword",Mk);case"emailLink":return Fk(e,{idToken:t,email:this._email,oobCode:this._password});default:rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n,e){return $h(n,"POST","/v1/accounts:signInWithIdp",$s(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="http://localhost";class js extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new js(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ea(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ea(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ea(e,t)}buildRequest(){const e={requestUri:jk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Bk(n){const e=vl(_l(n)).link,t=e?vl(_l(e)).deep_link_id:null,r=vl(_l(n)).deep_link_id;return(r?vl(_l(r)).link:null)||r||t||e||n}class Lm{constructor(e){const t=vl(_l(e)),r=t.apiKey??null,o=t.oobCode??null,a=Uk(t.mode??null);Ee(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Bk(e);try{return new Lm(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(){this.providerId=_a.PROVIDER_ID}static credential(e,t){return Wl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Lm.parseLink(t);return Ee(r,"argument-error"),Wl._fromEmailAndCode(e,r.code,r.tenantId)}}_a.PROVIDER_ID="password";_a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends zT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends su{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return js._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends su{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends su{constructor(){super("twitter.com")}static credential(e,t){return js._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Di.credential(t,r)}catch{return null}}}Di.TWITTER_SIGN_IN_METHOD="twitter.com";Di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await tr._fromIdTokenResponse(e,r,o),u=t0(r);return new la({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=t0(r);return new la({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function t0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends ti{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new ph(e,t,r,o)}}function $T(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(n,a,e,r):a})}async function zk(n,e,t=!1){const r=await Hl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return la._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $k(n,e,t=!1){const{auth:r}=n;if(Zn(r.app))return Promise.reject(ji(r));const o="reauthenticate";try{const a=await Hl(n,$T(r,o,e,n),t);Ee(a.idToken,r,"internal-error");const u=Nm(a.idToken);Ee(u,r,"internal-error");const{sub:d}=u;return Ee(n.uid===d,r,"user-mismatch"),la._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&rr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(n,e,t=!1){if(Zn(n.app))return Promise.reject(ji(n));const r="signIn",o=await $T(n,r,e),a=await la._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function Hk(n,e){return HT(va(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n){const e=va(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function i4(n,e,t){return Zn(n.app)?Promise.reject(ji(n)):Hk(jt(n),_a.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Wk(n),r})}function qk(n,e,t,r){return jt(n).onIdTokenChanged(e,t,r)}function Kk(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function s4(n,e,t,r){return jt(n).onAuthStateChanged(e,t,r)}function o4(n){return jt(n).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,Qk=10;class qT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);gk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Qk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const Xk=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}KT.type="SESSION";const GT=KT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await Yk(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Om("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function Zk(n){Tr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function e2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t2(){return navigator?.serviceWorker?.controller||null}function n2(){return QT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",r2=1,gh="firebaseLocalStorage",YT="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function qh(n,e){return n.transaction([gh],e?"readwrite":"readonly").objectStore(gh)}function i2(){const n=indexedDB.deleteDatabase(XT);return new ou(n).toPromise()}function xp(){const n=indexedDB.open(XT,r2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gh,{keyPath:YT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gh)?e(r):(r.close(),await i2(),e(await xp()))})})}async function n0(n,e,t){const r=qh(n,!0).put({[YT]:e,value:t});return new ou(r).toPromise()}async function s2(n,e){const t=qh(n,!1).get(e),r=await new ou(t).toPromise();return r===void 0?null:r.value}function r0(n,e){const t=qh(n,!0).delete(e);return new ou(t).toPromise()}const o2=800,a2=3;class JT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>a2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(n2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await e2(),!this.activeServiceWorker)return;this.sender=new Jk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await n0(e,mh,"1"),await r0(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>n0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>s2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>r0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=qh(o,!1).getAll();return new ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),o2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JT.type="LOCAL";const l2=JT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(n,e){return e?qr(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c2(n){return HT(n.auth,new Fm(n),n.bypassAuthState)}function h2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),$k(t,new Fm(n),n.bypassAuthState)}async function d2(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),zk(t,new Fm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c2;case"linkViaPopup":case"linkViaRedirect":return d2;case"reauthViaPopup":case"reauthViaRedirect":return h2;default:rr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new iu(2e3,1e4);class Ho extends ZT{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Om();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f2.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="pendingRedirect",qc=new Map;class m2 extends ZT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=qc.get(this.auth._key());if(!e){try{const r=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}qc.set(this.auth._key(),e)}return this.bypassAuthState||qc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(n,e){const t=_2(e),r=v2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function y2(n,e){qc.set(n._key(),e)}function v2(n){return qr(n._redirectPersistence)}function _2(n){return Wc(p2,n.config.apiKey,n.name)}async function w2(n,e,t=!1){if(Zn(n.app))return Promise.reject(ji(n));const r=va(n),o=u2(r,e),u=await new m2(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=600*1e3;class T2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!e1(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Er(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E2&&this.cachedEventUids.clear(),this.cachedEventUids.has(i0(e))}saveEventToCache(e){this.cachedEventUids.add(i0(e)),this.lastProcessedEventTime=Date.now()}}function i0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function e1({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function S2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return e1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(n,e={}){return Yi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P2=/^https?/;async function C2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await I2(n);for(const t of e)try{if(R2(t))return}catch{}rr(n,"unauthorized-domain")}function R2(n){const e=Cp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!P2.test(t))return!1;if(A2.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=new iu(3e4,6e4);function s0(){const n=Tr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function k2(n){return new Promise((e,t)=>{function r(){s0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s0(),t(Er(n,"network-request-failed"))},timeout:x2.get()})}if(Tr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Tr().gapi?.load)r();else{const o=Ak("iframefcb");return Tr()[o]=()=>{gapi.load?r():t(Er(n,"network-request-failed"))},jT(`${Ik()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function V2(n){return Kc=Kc||k2(n),Kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=new iu(5e3,15e3),N2="__/auth/iframe",b2="emulator/auth/iframe",M2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Dm(e,b2):`https://${n.config.authDomain}/${N2}`,r={apiKey:e.apiKey,appName:n.name,v:fa},o=L2.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Jl(r).slice(1)}`}async function F2(n){const e=await V2(n),t=Tr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:O2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M2,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Er(n,"network-request-failed"),d=Tr().setTimeout(()=>{a(u)},D2.get());function f(){Tr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U2=500,B2=600,z2="_blank",$2="http://localhost";class o0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function H2(n,e,t,r=U2,o=B2){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...j2,width:r.toString(),height:o.toString(),top:a,left:u},m=Yt().toLowerCase();t&&(d=DT(m)?z2:t),kT(m)&&(e=e||$2,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[A,O])=>`${E}${A}=${O},`,"");if(mk(m)&&d!=="_self")return W2(e||"",d),new o0(null);const w=window.open(e||"",d,v);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new o0(w)}function W2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__/auth/handler",K2="emulator/auth/handler",G2=encodeURIComponent("fac");async function a0(n,e,t,r,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:fa,eventId:o};if(e instanceof zT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",SA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof su){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${G2}=${encodeURIComponent(f)}`:"";return`${Q2(n)}?${Jl(d).slice(1)}${m}`}function Q2({config:n}){return n.emulator?Dm(n,K2):`https://${n.authDomain}/${q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class X2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=w2,this._overrideRedirectResult=y2}async _openPopup(e,t,r,o){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await a0(e,t,r,Cp(),o);return H2(e,a,Om())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await a0(e,t,r,Cp(),o);return Zk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Zr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await F2(e),r=new T2(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($f,{type:$f},o=>{const a=o?.[0]?.[$f];a!==void 0&&t(!!a),rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OT()||VT()||bm()}}const Y2=X2;var l0="@firebase/auth",u0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eV(n){ta(new Ls("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(n)},m=new Ek(r,o,a,f);return Vk(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ta(new Ls("auth-internal",e=>{const t=va(e.getProvider("auth").getImmediate());return(r=>new J2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(l0,u0,Z2(n)),Li(l0,u0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=300,nV=Mw("authIdTokenMaxAge")||tV;let c0=null;const rV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nV)return;const o=t?.token;c0!==o&&(c0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iV(n=Bw()){const e=Yp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=kk(n,{popupRedirectResolver:Y2,persistence:[l2,Xk,GT]}),r=Mw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=rV(a.toString());Kk(t,u,()=>u(t.currentUser)),qk(t,d=>u(d))}}const o=Nw("auth");return o&&Dk(t,`http://${o}`),t}function sV(){return document.getElementsByTagName("head")?.[0]??document}Tk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Er("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",sV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eV("Browser");const jm=te.createContext({});function Um(n){const e=te.useRef(null);return e.current===null&&(e.current=n()),e.current}const Kh=te.createContext(null),Bm=te.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class oV extends te.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function aV({children:n,isPresent:e}){const t=te.useId(),r=te.useRef(null),o=te.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=te.useContext(Bm);return te.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m}=o.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const v=document.createElement("style");return a&&(v.nonce=a),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),N.jsx(oV,{isPresent:e,childRef:r,sizeRef:o,children:te.cloneElement(n,{ref:r})})}const lV=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u})=>{const d=Um(uV),f=te.useId(),m=te.useCallback(w=>{d.set(w,!0);for(const E of d.values())if(!E)return;r&&r()},[d,r]),v=te.useMemo(()=>({id:f,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(d.set(w,!1),()=>d.delete(w))}),a?[Math.random(),m]:[t,m]);return te.useMemo(()=>{d.forEach((w,E)=>d.set(E,!1))},[t]),te.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=N.jsx(aV,{isPresent:t,children:n})),N.jsx(Kh.Provider,{value:v,children:n})};function uV(){return new Map}function t1(n=!0){const e=te.useContext(Kh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=te.useId();te.useEffect(()=>{n&&o(a)},[n]);const u=te.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const Nc=n=>n.key||"";function h0(n){const e=[];return te.Children.forEach(n,t=>{te.isValidElement(t)&&e.push(t)}),e}const zm=typeof window<"u",n1=zm?te.useLayoutEffect:te.useEffect,r1=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=t1(u),m=te.useMemo(()=>h0(n),[n]),v=u&&!d?[]:m.map(Nc),w=te.useRef(!0),E=te.useRef(m),A=Um(()=>new Map),[O,F]=te.useState(m),[M,W]=te.useState(m);n1(()=>{w.current=!1,E.current=m;for(let oe=0;oe<M.length;oe++){const ne=Nc(M[oe]);v.includes(ne)?A.delete(ne):A.get(ne)!==!0&&A.set(ne,!1)}},[M,v.length,v.join("-")]);const K=[];if(m!==O){let oe=[...m];for(let ne=0;ne<M.length;ne++){const ae=M[ne],x=Nc(ae);v.includes(x)||(oe.splice(ne,0,ae),K.push(ae))}a==="wait"&&K.length&&(oe=K),W(h0(oe)),F(m);return}const{forceRender:Q}=te.useContext(jm);return N.jsx(N.Fragment,{children:M.map(oe=>{const ne=Nc(oe),ae=u&&!d?!1:m===M||v.includes(ne),x=()=>{if(A.has(ne))A.set(ne,!0);else return;let I=!0;A.forEach(C=>{C||(I=!1)}),I&&(Q?.(),W(E.current),u&&f?.(),r&&r())};return N.jsx(lV,{isPresent:ae,initial:!w.current||t?void 0:!1,custom:ae?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:ae?void 0:x,children:oe},ne)})})},En=n=>n;let i1=En;function $m(n){let e;return()=>(e===void 0&&(e=n()),e)}const ua=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Gr=n=>n*1e3,Qr=n=>n/1e3,cV={useManualTiming:!1};function hV(n){let e=new Set,t=new Set,r=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,v=!1,w=!1)=>{const A=w&&r?e:t;return v&&a.add(m),A.has(m)||A.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const bc=["read","resolveKeyframes","update","preRender","render","postRender"],dV=40;function s1(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=bc.reduce((W,K)=>(W[K]=hV(a),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:v,render:w,postRender:E}=u,A=()=>{const W=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,dV),1),o.timestamp=W,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),v.process(o),w.process(o),E.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(A))},O=()=>{t=!0,r=!0,o.isProcessing||n(A)};return{schedule:bc.reduce((W,K)=>{const Q=u[K];return W[K]=(oe,ne=!1,ae=!1)=>(t||O(),Q.schedule(oe,ne,ae)),W},{}),cancel:W=>{for(let K=0;K<bc.length;K++)u[bc[K]].cancel(W)},state:o,steps:u}}const{schedule:Je,cancel:Ki,state:Mt,steps:Hf}=s1(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),Hm=te.createContext({strict:!1}),d0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ca={};for(const n in d0)ca[n]={isEnabled:e=>d0[n].some(t=>!!e[t])};function kp(n){for(const e in n)ca[e]={...ca[e],...n[e]}}function fV({children:n,features:e,strict:t=!1}){const[,r]=te.useState(!Wf(e)),o=te.useRef(void 0);if(!Wf(e)){const{renderer:a,...u}=e;o.current=a,kp(u)}return te.useEffect(()=>{Wf(e)&&e().then(({renderer:a,...u})=>{kp(u),o.current=a,r(!0)})},[]),N.jsx(Hm.Provider,{value:{renderer:o.current,strict:t},children:n})}function Wf(n){return typeof n=="function"}const pV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pV.has(n)}let o1=n=>!yh(n);function mV(n){n&&(o1=e=>e.startsWith("on")?!yh(e):n(e))}try{mV(require("@emotion/is-prop-valid").default)}catch{}function gV(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(o1(o)||t===!0&&yh(o)||!e&&!yh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function yV(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Gh=te.createContext({});function ql(n){return typeof n=="string"||Array.isArray(n)}function Qh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Wm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qm=["initial",...Wm];function Xh(n){return Qh(n.animate)||qm.some(e=>ql(n[e]))}function a1(n){return!!(Xh(n)||n.variants)}function vV(n,e){if(Xh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||ql(t)?t:void 0,animate:ql(r)?r:void 0}}return n.inherit!==!1?e:{}}function _V(n){const{initial:e,animate:t}=vV(n,te.useContext(Gh));return te.useMemo(()=>({initial:e,animate:t}),[f0(e),f0(t)])}function f0(n){return Array.isArray(n)?n.join(" "):n}const wV=Symbol.for("motionComponentSymbol");function Wo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function EV(n,e,t){return te.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Wo(t)&&(t.current=r))},[e])}const Km=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),TV="framerAppearId",l1="data-"+Km(TV),{schedule:Gm}=s1(queueMicrotask,!1),u1=te.createContext({});function SV(n,e,t,r,o){var a,u;const{visualElement:d}=te.useContext(Gh),f=te.useContext(Hm),m=te.useContext(Kh),v=te.useContext(Bm).reducedMotion,w=te.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const E=w.current,A=te.useContext(u1);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&IV(w.current,t,o,A);const O=te.useRef(!1);te.useInsertionEffect(()=>{E&&O.current&&E.update(t,m)});const F=t[l1],M=te.useRef(!!F&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,F))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,F)));return n1(()=>{E&&(O.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Gm.render(E.render),M.current&&E.animationState&&E.animationState.animateChanges())}),te.useEffect(()=>{E&&(!M.current&&E.animationState&&E.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,F)}),M.current=!1))}),E}function IV(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:c1(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&Wo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function c1(n){if(n)return n.options.allowProjection!==!1?n.projection:c1(n.parent)}function AV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){var a,u;n&&kp(n);function d(m,v){let w;const E={...te.useContext(Bm),...m,layoutId:PV(m)},{isStatic:A}=E,O=_V(m),F=r(m,A);if(!A&&zm){CV();const M=RV(E);w=M.MeasureLayout,O.visualElement=SV(o,F,E,e,M.ProjectionNode)}return N.jsxs(Gh.Provider,{value:O,children:[w&&O.visualElement?N.jsx(w,{visualElement:O.visualElement,...E}):null,t(o,m,EV(F,O.visualElement,v),F,A,O.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=te.forwardRef(d);return f[wV]=o,f}function PV({layoutId:n}){const e=te.useContext(jm).id;return e&&n!==void 0?e+"-"+n:n}function CV(n,e){te.useContext(Hm).strict}function RV(n){const{drag:e,layout:t}=ca;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const xV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qm(n){return typeof n!="string"||n.includes("-")?!1:!!(xV.indexOf(n)>-1||/[A-Z]/u.test(n))}function p0(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Xm(n,e,t,r){if(typeof e=="function"){const[o,a]=p0(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=p0(r);e=e(t!==void 0?t:n.custom,o,a)}return e}const Vp=n=>Array.isArray(n),kV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),VV=n=>Vp(n)?n[n.length-1]||0:n,Qt=n=>!!(n&&n.getVelocity);function Gc(n){const e=Qt(n)?n.get():n;return kV(e)?e.toValue():e}function DV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,o,a){const u={latestValues:NV(r,o,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const h1=n=>(e,t)=>{const r=te.useContext(Gh),o=te.useContext(Kh),a=()=>DV(n,e,r,o);return t?a():Um(a)};function NV(n,e,t,r){const o={},a=r(n,{});for(const E in a)o[E]=Gc(a[E]);let{initial:u,animate:d}=n;const f=Xh(n),m=a1(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?d:u;if(w&&typeof w!="boolean"&&!Qh(w)){const E=Array.isArray(w)?w:[w];for(let A=0;A<E.length;A++){const O=Xm(n,E[A]);if(O){const{transitionEnd:F,transition:M,...W}=O;for(const K in W){let Q=W[K];if(Array.isArray(Q)){const oe=v?Q.length-1:0;Q=Q[oe]}Q!==null&&(o[K]=Q)}for(const K in F)o[K]=F[K]}}}return o}const wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hs=new Set(wa),d1=n=>e=>typeof e=="string"&&e.startsWith(n),f1=d1("--"),bV=d1("var(--"),Ym=n=>bV(n)?MV.test(n.split("/*")[0].trim()):!1,MV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,p1=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ei=(n,e,t)=>t>e?e:t<n?n:t,Ea={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Kl={...Ea,transform:n=>ei(0,1,n)},Mc={...Ea,default:1},au=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ri=au("deg"),Sr=au("%"),we=au("px"),LV=au("vh"),OV=au("vw"),m0={...Sr,parse:n=>Sr.parse(n)/100,transform:n=>Sr.transform(n*100)},FV={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},jV={rotate:Ri,rotateX:Ri,rotateY:Ri,rotateZ:Ri,scale:Mc,scaleX:Mc,scaleY:Mc,scaleZ:Mc,skew:Ri,skewX:Ri,skewY:Ri,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Kl,originX:m0,originY:m0,originZ:we},g0={...Ea,transform:Math.round},Jm={...FV,...jV,zIndex:g0,size:we,fillOpacity:Kl,strokeOpacity:Kl,numOctaves:g0},UV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BV=wa.length;function zV(n,e,t){let r="",o=!0;for(let a=0;a<BV;a++){const u=wa[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=p1(d,Jm[u]);if(!f){o=!1;const v=UV[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Zm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if(Hs.has(f)){u=!0;continue}else if(f1(f)){o[f]=m;continue}else{const v=p1(m,Jm[f]);f.startsWith("origin")?(d=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=zV(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${m} ${v}`}}const $V={offset:"stroke-dashoffset",array:"stroke-dasharray"},HV={offset:"strokeDashoffset",array:"strokeDasharray"};function WV(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?$V:HV;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function y0(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function qV(n,e,t){const r=y0(e,n.x,n.width),o=y0(t,n.y,n.height);return`${r} ${o}`}function eg(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},v,w){if(Zm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A,dimensions:O}=n;E.transform&&(O&&(A.transform=E.transform),delete E.transform),O&&(o!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=qV(O,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),u!==void 0&&WV(E,u,d,f,!1)}const tg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),m1=()=>({...tg(),attrs:{}}),ng=n=>typeof n=="string"&&n.toLowerCase()==="svg";function g1(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const y1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function v1(n,e,t,r){g1(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(y1.has(o)?o:Km(o),e.attrs[o])}const vh={};function KV(n){Object.assign(vh,n)}function _1(n,{layout:e,layoutId:t}){return Hs.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!vh[n]||n==="opacity")}function rg(n,e,t){var r;const{style:o}=n,a={};for(const u in o)(Qt(o[u])||e.style&&Qt(e.style[u])||_1(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function w1(n,e,t){const r=rg(n,e,t);for(const o in n)if(Qt(n[o])||Qt(e[o])){const a=wa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}function GV(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const v0=["x","y","width","height","cx","cy","r"],QV={useVisualState:h1({scrapeMotionValuesFromProps:w1,createRenderState:m1,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:o})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in o)if(Hs.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<v0.length;d++){const f=v0[d];n[f]!==e[f]&&(u=!0)}u&&Je.read(()=>{GV(t,r),Je.render(()=>{eg(r,o,ng(t.tagName),n.transformTemplate),v1(t,r)})})}})},XV={useVisualState:h1({scrapeMotionValuesFromProps:rg,createRenderState:tg})};function E1(n,e,t){for(const r in e)!Qt(e[r])&&!_1(r,t)&&(n[r]=e[r])}function YV({transformTemplate:n},e){return te.useMemo(()=>{const t=tg();return Zm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function JV(n,e){const t=n.style||{},r={};return E1(r,t,n),Object.assign(r,YV(n,e)),r}function ZV(n,e){const t={},r=JV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function eD(n,e,t,r){const o=te.useMemo(()=>{const a=m1();return eg(a,e,ng(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};E1(a,n.style,n),o.style={...a,...o.style}}return o}function tD(n=!1){return(t,r,o,{latestValues:a},u)=>{const f=(Qm(t)?eD:ZV)(r,a,u,t),m=gV(r,typeof t=="string",n),v=t!==te.Fragment?{...m,...f,ref:o}:{},{children:w}=r,E=te.useMemo(()=>Qt(w)?w.get():w,[w]);return te.createElement(t,{...v,children:E})}}function nD(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Qm(r)?QV:XV,preloadedFeatures:n,useRender:tD(o),createVisualElement:e,Component:r};return AV(u)}}function T1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Yh(n,e,t){const r=n.getProps();return Xm(r,e,t!==void 0?t:r.custom,n)}const rD=$m(()=>window.ScrollTimeline!==void 0);class iD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(o=>{if(rD()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class sD extends iD{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function ig(n,e){return n?n[e]||n.default||n:void 0}const Dp=2e4;function S1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Dp;)e+=t,r=n.next(e);return e>=Dp?1/0:e}function sg(n){return typeof n=="function"}function _0(n,e){n.timeline=e,n.onfinish=null}const og=n=>Array.isArray(n)&&typeof n[0]=="number",oD={linearEasing:void 0};function aD(n,e){const t=$m(n);return()=>{var r;return(r=oD[e])!==null&&r!==void 0?r:t()}}const _h=aD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),I1=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=n(ua(0,o-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function A1(n){return!!(typeof n=="function"&&_h()||!n||typeof n=="string"&&(n in Np||_h())||og(n)||Array.isArray(n)&&n.every(A1))}const Il=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Np={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function P1(n,e){if(n)return typeof n=="function"&&_h()?I1(n,e):og(n)?Il(n):Array.isArray(n)?n.map(t=>P1(t,e)||Np.easeOut):Np[n]}const Jn={x:!1,y:!1};function C1(){return Jn.x||Jn.y}function R1(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const a=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function x1(n,e){const t=R1(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function w0(n){return e=>{e.pointerType==="touch"||C1()||n(e)}}function lD(n,e,t={}){const[r,o,a]=x1(n,t),u=w0(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const v=w0(w=>{m(w),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,o)});return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const k1=(n,e)=>e?n===e?!0:k1(n,e.parentElement):!1,ag=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,uD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cD(n){return uD.has(n.tagName)||n.tabIndex!==-1}const Al=new WeakSet;function E0(n){return e=>{e.key==="Enter"&&n(e)}}function qf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hD=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=E0(()=>{if(Al.has(t))return;qf(t,"down");const o=E0(()=>{qf(t,"up")}),a=()=>qf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function T0(n){return ag(n)&&!C1()}function dD(n,e,t={}){const[r,o,a]=x1(n,t),u=d=>{const f=d.currentTarget;if(!T0(d)||Al.has(f))return;Al.add(f);const m=e(d),v=(A,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),!(!T0(A)||!Al.has(f))&&(Al.delete(f),typeof m=="function"&&m(A,{success:O}))},w=A=>{v(A,t.useGlobalTarget||k1(f,A.target))},E=A=>{v(A,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",E,o)};return r.forEach(d=>{!cD(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",m=>hD(m,o),o)}),a}function fD(n){return n==="x"||n==="y"?Jn[n]?null:(Jn[n]=!0,()=>{Jn[n]=!1}):Jn.x||Jn.y?null:(Jn.x=Jn.y=!0,()=>{Jn.x=Jn.y=!1})}const V1=new Set(["width","height","top","left","right","bottom",...wa]);let Qc;function pD(){Qc=void 0}const Ir={now:()=>(Qc===void 0&&Ir.set(Mt.isProcessing||cV.useManualTiming?Mt.timestamp:performance.now()),Qc),set:n=>{Qc=n,queueMicrotask(pD)}};function lg(n,e){n.indexOf(e)===-1&&n.push(e)}function ug(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class cg{constructor(){this.subscriptions=[]}add(e){return lg(this.subscriptions,e),()=>ug(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function D1(n,e){return e?n*(1e3/e):0}const S0=30,mD=n=>!isNaN(parseFloat(n));class gD{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const a=Ir.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ir.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=mD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new cg);const r=this.events[e].add(t);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ir.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>S0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,S0);return D1(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(n,e){return new gD(n,e)}function yD(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Gl(t))}function vD(n,e){const t=Yh(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=VV(a[u]);yD(n,u,d)}}function _D(n){return!!(Qt(n)&&n.add)}function bp(n,e){const t=n.getValue("willChange");if(_D(t))return t.add(e)}function N1(n){return n.props[l1]}const b1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,wD=1e-7,ED=12;function TD(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=b1(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>wD&&++d<ED);return u}function lu(n,e,t,r){if(n===e&&t===r)return En;const o=a=>TD(a,0,1,n,t);return a=>a===0||a===1?a:b1(o(a),e,r)}const M1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,L1=n=>e=>1-n(1-e),O1=lu(.33,1.53,.69,.99),hg=L1(O1),F1=M1(hg),j1=n=>(n*=2)<1?.5*hg(n):.5*(2-Math.pow(2,-10*(n-1))),dg=n=>1-Math.sin(Math.acos(n)),U1=L1(dg),B1=M1(dg),z1=n=>/^0[^.\s]+$/u.test(n);function SD(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||z1(n):!0}const Nl=n=>Math.round(n*1e5)/1e5,fg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ID(n){return n==null}const AD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pg=(n,e)=>t=>!!(typeof t=="string"&&AD.test(t)&&t.startsWith(n)||e&&!ID(t)&&Object.prototype.hasOwnProperty.call(t,e)),$1=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(fg);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},PD=n=>ei(0,255,n),Kf={...Ea,transform:n=>Math.round(PD(n))},Ds={test:pg("rgb","red"),parse:$1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Kf.transform(n)+", "+Kf.transform(e)+", "+Kf.transform(t)+", "+Nl(Kl.transform(r))+")"};function CD(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Mp={test:pg("#"),parse:CD,transform:Ds.transform},qo={test:pg("hsl","hue"),parse:$1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Sr.transform(Nl(e))+", "+Sr.transform(Nl(t))+", "+Nl(Kl.transform(r))+")"},qt={test:n=>Ds.test(n)||Mp.test(n)||qo.test(n),parse:n=>Ds.test(n)?Ds.parse(n):qo.test(n)?qo.parse(n):Mp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ds.transform(n):qo.transform(n)},RD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xD(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(fg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(RD))===null||t===void 0?void 0:t.length)||0)>0}const H1="number",W1="color",kD="var",VD="var(",I0="${}",DD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ql(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(DD,f=>(qt.test(f)?(r.color.push(a),o.push(W1),t.push(qt.parse(f))):f.startsWith(VD)?(r.var.push(a),o.push(kD),t.push(f)):(r.number.push(a),o.push(H1),t.push(parseFloat(f))),++a,I0)).split(I0);return{values:t,split:d,indexes:r,types:o}}function q1(n){return Ql(n).values}function K1(n){const{split:e,types:t}=Ql(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===H1?a+=Nl(o[u]):d===W1?a+=qt.transform(o[u]):a+=o[u]}return a}}const ND=n=>typeof n=="number"?0:n;function bD(n){const e=q1(n);return K1(n)(e.map(ND))}const Gi={test:xD,parse:q1,createTransformer:K1,getAnimatableNone:bD},MD=new Set(["brightness","contrast","saturate","opacity"]);function LD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(fg)||[];if(!r)return n;const o=t.replace(r,"");let a=MD.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const OD=/\b([a-z-]*)\(.*?\)/gu,Lp={...Gi,getAnimatableNone:n=>{const e=n.match(OD);return e?e.map(LD).join(" "):n}},FD={...Jm,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Lp,WebkitFilter:Lp},mg=n=>FD[n];function G1(n,e){let t=mg(n);return t!==Lp&&(t=Gi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const jD=new Set(["auto","none","0"]);function UD(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!jD.has(a)&&Ql(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=G1(t,o)}const A0=n=>n===Ea||n===we,P0=(n,e)=>parseFloat(n.split(", ")[e]),C0=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return P0(o[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?P0(a[1],n):0}},BD=new Set(["x","y","z"]),zD=wa.filter(n=>!BD.has(n));function $D(n){const e=[];return zD.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const ha={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:C0(4,13),y:C0(5,14)};ha.translateX=ha.x;ha.translateY=ha.y;const bs=new Set;let Op=!1,Fp=!1;function Q1(){if(Fp){const n=Array.from(bs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=$D(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fp=!1,Op=!1,bs.forEach(n=>n.complete()),bs.clear()}function X1(){bs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Fp=!0)})}function HD(){X1(),Q1()}class gg{constructor(e,t,r,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(bs.add(this),Op||(Op=!0,Je.read(X1),Je.resolveKeyframes(Q1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),bs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,bs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Y1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),WD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qD(n){const e=WD.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function J1(n,e,t=1){const[r,o]=qD(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return Y1(u)?parseFloat(u):u}return Ym(o)?J1(o,e,t+1):o}const Z1=n=>e=>e.test(n),KD={test:n=>n==="auto",parse:n=>n},eS=[Ea,we,Sr,Ri,OV,LV,KD],R0=n=>eS.find(Z1(n));class tS extends gg{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Ym(m))){const v=J1(m,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!V1.has(r)||e.length!==2)return;const[o,a]=e,u=R0(o),d=R0(a);if(u!==d)if(A0(u)&&A0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)SD(e[o])&&r.push(o);r.length&&UD(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ha[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=ha[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const x0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Gi.test(n)||n==="0")&&!n.startsWith("url("));function GD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function QD(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=x0(o,e),d=x0(a,e);return!u||!d?!1:GD(n)||(t==="spring"||sg(t))&&r}const XD=n=>n!==null;function Jh(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(XD),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const YD=40;class nS{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ir.now(),this.options={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HD(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ir.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!QD(e,r,o,a))if(u)this.options.duration=0;else{f&&f(Jh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(n,e,t)=>n+(e-n)*t;function Gf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function JD({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Gf(f,d,n+1/3),a=Gf(f,d,n),u=Gf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function wh(n,e){return t=>t>0?e:n}const Qf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},ZD=[Mp,Ds,qo],eN=n=>ZD.find(e=>e.test(n));function k0(n){const e=eN(n);if(!e)return!1;let t=e.parse(n);return e===qo&&(t=JD(t)),t}const V0=(n,e)=>{const t=k0(n),r=k0(e);if(!t||!r)return wh(n,e);const o={...t};return a=>(o.red=Qf(t.red,r.red,a),o.green=Qf(t.green,r.green,a),o.blue=Qf(t.blue,r.blue,a),o.alpha=rt(t.alpha,r.alpha,a),Ds.transform(o))},tN=(n,e)=>t=>e(n(t)),uu=(...n)=>n.reduce(tN),jp=new Set(["none","hidden"]);function nN(n,e){return jp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function rN(n,e){return t=>rt(n,e,t)}function yg(n){return typeof n=="number"?rN:typeof n=="string"?Ym(n)?wh:qt.test(n)?V0:oN:Array.isArray(n)?rS:typeof n=="object"?qt.test(n)?V0:iN:wh}function rS(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>yg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function iN(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=yg(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function sN(n,e){var t;const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,o[u]++}return r}const oN=(n,e)=>{const t=Gi.createTransformer(e),r=Ql(n),o=Ql(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?jp.has(n)&&!o.values.length||jp.has(e)&&!r.values.length?nN(n,e):uu(rS(sN(r,o),o.values),t):wh(n,e)};function iS(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):yg(n)(n,e)}const aN=5;function sS(n,e,t){const r=Math.max(e-aN,0);return D1(t-n(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Xf=.001;function lN({duration:n=at.duration,bounce:e=at.bounce,velocity:t=at.velocity,mass:r=at.mass}){let o,a,u=1-e;u=ei(at.minDamping,at.maxDamping,u),n=ei(at.minDuration,at.maxDuration,Qr(n)),u<1?(o=m=>{const v=m*u,w=v*n,E=v-t,A=Up(m,u),O=Math.exp(-w);return Xf-E/A*O},a=m=>{const w=m*u*n,E=w*t+t,A=Math.pow(u,2)*Math.pow(m,2)*n,O=Math.exp(-w),F=Up(Math.pow(m,2),u);return(-o(m)+Xf>0?-1:1)*((E-A)*O)/F}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-Xf+v*w},a=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const d=5/n,f=cN(o,a,d);if(n=Gr(n),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const uN=12;function cN(n,e,t){let r=t;for(let o=1;o<uN;o++)r=r-n(r)/e(r);return r}function Up(n,e){return n*Math.sqrt(1-e*e)}const hN=["duration","bounce"],dN=["stiffness","damping","mass"];function D0(n,e){return e.some(t=>n[t]!==void 0)}function fN(n){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...n};if(!D0(n,dN)&&D0(n,hN))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*ei(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:a}}else{const t=lN(n);e={...e,...t,mass:at.mass},e.isResolvedFromDuration=!0}return e}function oS(n=at.visualDuration,e=at.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:v,duration:w,velocity:E,isResolvedFromDuration:A}=fN({...t,velocity:-Qr(t.velocity||0)}),O=E||0,F=m/(2*Math.sqrt(f*v)),M=u-a,W=Qr(Math.sqrt(f/v)),K=Math.abs(M)<5;r||(r=K?at.restSpeed.granular:at.restSpeed.default),o||(o=K?at.restDelta.granular:at.restDelta.default);let Q;if(F<1){const ne=Up(W,F);Q=ae=>{const x=Math.exp(-F*W*ae);return u-x*((O+F*W*M)/ne*Math.sin(ne*ae)+M*Math.cos(ne*ae))}}else if(F===1)Q=ne=>u-Math.exp(-W*ne)*(M+(O+W*M)*ne);else{const ne=W*Math.sqrt(F*F-1);Q=ae=>{const x=Math.exp(-F*W*ae),I=Math.min(ne*ae,300);return u-x*((O+F*W*M)*Math.sinh(I)+ne*M*Math.cosh(I))/ne}}const oe={calculatedDuration:A&&w||null,next:ne=>{const ae=Q(ne);if(A)d.done=ne>=w;else{let x=0;F<1&&(x=ne===0?Gr(O):sS(Q,ne,ae));const I=Math.abs(x)<=r,C=Math.abs(u-ae)<=o;d.done=I&&C}return d.value=d.done?u:ae,d},toString:()=>{const ne=Math.min(S1(oe),Dp),ae=I1(x=>oe.next(ne*x).value,ne,30);return ne+"ms "+ae}};return oe}function N0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:v}){const w=n[0],E={done:!1,value:w},A=I=>d!==void 0&&I<d||f!==void 0&&I>f,O=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let F=t*e;const M=w+F,W=u===void 0?M:u(M);W!==M&&(F=W-w);const K=I=>-F*Math.exp(-I/r),Q=I=>W+K(I),oe=I=>{const C=K(I),k=Q(I);E.done=Math.abs(C)<=m,E.value=E.done?W:k};let ne,ae;const x=I=>{A(E.value)&&(ne=I,ae=oS({keyframes:[E.value,O(E.value)],velocity:sS(Q,I,E.value),damping:o,stiffness:a,restDelta:m,restSpeed:v}))};return x(0),{calculatedDuration:null,next:I=>{let C=!1;return!ae&&ne===void 0&&(C=!0,oe(I),x(I)),ne!==void 0&&I>=ne?ae.next(I-ne):(!C&&oe(I),E)}}}const pN=lu(.42,0,1,1),mN=lu(0,0,.58,1),aS=lu(.42,0,.58,1),gN=n=>Array.isArray(n)&&typeof n[0]!="number",yN={linear:En,easeIn:pN,easeInOut:aS,easeOut:mN,circIn:dg,circInOut:B1,circOut:U1,backIn:hg,backInOut:F1,backOut:O1,anticipate:j1},b0=n=>{if(og(n)){i1(n.length===4);const[e,t,r,o]=n;return lu(e,t,r,o)}else if(typeof n=="string")return yN[n];return n};function vN(n,e,t){const r=[],o=t||iS,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||En:e;d=uu(f,d)}r.push(d)}return r}function _N(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(i1(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=vN(e,r,o),f=d.length,m=v=>{if(u&&v<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const E=ua(n[w],n[w+1],v);return d[w](E)};return t?v=>m(ei(n[0],n[a-1],v)):m}function wN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=ua(0,e,r);n.push(rt(t,1,o))}}function EN(n){const e=[0];return wN(e,n.length-1),e}function TN(n,e){return n.map(t=>t*e)}function SN(n,e){return n.map(()=>e||aS).splice(0,n.length-1)}function Eh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=gN(r)?r.map(b0):b0(r),a={done:!1,value:e[0]},u=TN(t&&t.length===e.length?t:EN(e),n),d=_N(u,e,{ease:Array.isArray(o)?o:SN(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const IN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>Ki(e),now:()=>Mt.isProcessing?Mt.timestamp:Ir.now()}},AN={decay:N0,inertia:N0,tween:Eh,keyframes:Eh,spring:oS},PN=n=>n/100;class vg extends nS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:o,keyframes:a}=this.options,u=o?.KeyframeResolver||gg,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(a,d,t,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=sg(t)?t:AN[t]||Eh;let f,m;d!==Eh&&typeof e[0]!="number"&&(f=uu(PN,iS(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});a==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=S1(v));const{calculatedDuration:w}=v,E=w+o,A=E*(r+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:E,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:A,repeatType:O,repeatDelay:F,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-E*(this.speed>=0?1:-1),K=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Q=this.currentTime,oe=a;if(A){const I=Math.min(this.currentTime,v)/w;let C=Math.floor(I),k=I%1;!k&&I>=1&&(k=1),k===1&&C--,C=Math.min(C,A+1),!!(C%2)&&(O==="reverse"?(k=1-k,F&&(k-=F/w)):O==="mirror"&&(oe=u)),Q=ei(0,1,k)*w}const ne=K?{done:!1,value:f[0]}:oe.next(Q);d&&(ne.value=d(ne.value));let{done:ae}=ne;!K&&m!==null&&(ae=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return x&&o!==void 0&&(ne.value=Jh(f,this.options,o)),M&&M(ne.value),x&&this.finish(),ne}get duration(){const{resolved:e}=this;return e?Qr(e.calculatedDuration):0}get time(){return Qr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=IN,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CN=new Set(["opacity","clipPath","filter","transform"]);function RN(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const v=P1(d,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const xN=$m(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Th=10,kN=2e4;function VN(n){return sg(n.type)||n.type==="spring"||!A1(n.ease)}function DN(n,e){const t=new vg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let a=0;for(;!r.done&&a<kN;)r=t.sample(a),o.push(r.value),a+=Th;return{times:void 0,keyframes:o,duration:a-Th,ease:"linear"}}const lS={anticipate:j1,backInOut:F1,circInOut:B1};function NN(n){return n in lS}class M0 extends nS{constructor(e){super(e);const{name:t,motionValue:r,element:o,keyframes:a}=this.options;this.resolver=new tS(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:o,ease:a,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&_h()&&NN(a)&&(a=lS[a]),VN(this.options)){const{onComplete:w,onUpdate:E,motionValue:A,element:O,...F}=this.options,M=DN(e,F);e=M.keyframes,e.length===1&&(e[1]=e[0]),r=M.duration,o=M.times,a=M.ease,u="keyframes"}const v=RN(d.owner.current,f,e,{...this.options,duration:r,times:o,ease:a});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(_0(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;d.set(Jh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Qr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Qr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return En;const{animation:r}=t;_0(r,e)}return En}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:o,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:E,...A}=this.options,O=new vg({...A,keyframes:r,duration:o,type:a,ease:u,times:d,isGenerator:!0}),F=Gr(this.time);m.setWithVelocity(O.sample(F-Th).value,O.sample(F).value,Th)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return xN()&&r&&CN.has(r)&&!f&&!m&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const bN={type:"spring",stiffness:500,damping:25,restSpeed:10},MN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),LN={type:"keyframes",duration:.8},ON={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FN=(n,{keyframes:e})=>e.length>2?LN:Hs.has(n)?n.startsWith("scale")?MN(e[1]):bN:ON;function jN({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const _g=(n,e,t,r={},o,a)=>u=>{const d=ig(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Gr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};jN(d)||(v={...v,...FN(n,v)}),v.duration&&(v.duration=Gr(v.duration)),v.repeatDelay&&(v.repeatDelay=Gr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const E=Jh(v.keyframes,d);if(E!==void 0)return Je.update(()=>{v.onUpdate(E),v.onComplete()}),new sD([])}return!a&&M0.supports(v)?new M0(v):new vg(v)};function UN({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function uS(n,e,{delay:t=0,transitionOverride:r,type:o}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in f){const E=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),A=f[w];if(A===void 0||v&&UN(v,w))continue;const O={delay:t,...ig(u||{},w)};let F=!1;if(window.MotionHandoffAnimation){const W=N1(n);if(W){const K=window.MotionHandoffAnimation(W,w,Je);K!==null&&(O.startTime=K,F=!0)}}bp(n,w),E.start(_g(w,E,A,n.shouldReduceMotion&&V1.has(w)?{type:!1}:O,n,F));const M=E.animation;M&&m.push(M)}return d&&Promise.all(m).then(()=>{Je.update(()=>{d&&vD(n,d)})}),m}function Bp(n,e,t={}){var r;const o=Yh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(a=t.transitionOverride);const u=o?()=>Promise.all(uS(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:E}=a;return BN(n,e,v+m,w,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,v]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(t.delay)])}function BN(n,e,t=0,r=0,o=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=o===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(zN).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(Bp(m,e,{...a,delay:t+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function zN(n,e){return n.sortNodePosition(e)}function $N(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Bp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Bp(n,e,t);else{const o=typeof e=="function"?Yh(n,e,t.custom):e;r=Promise.all(uS(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const HN=qm.length;function cS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?cS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<HN;t++){const r=qm[t],o=n.props[r];(ql(o)||o===!1)&&(e[r]=o)}return e}const WN=[...Wm].reverse(),qN=Wm.length;function KN(n){return e=>Promise.all(e.map(({animation:t,options:r})=>$N(n,t,r)))}function GN(n){let e=KN(n),t=L0(),r=!0;const o=f=>(m,v)=>{var w;const E=Yh(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:A,transitionEnd:O,...F}=E;m={...m,...F,...O}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,v=cS(n.parent)||{},w=[],E=new Set;let A={},O=1/0;for(let M=0;M<qN;M++){const W=WN[M],K=t[W],Q=m[W]!==void 0?m[W]:v[W],oe=ql(Q),ne=W===f?K.isActive:null;ne===!1&&(O=M);let ae=Q===v[W]&&Q!==m[W]&&oe;if(ae&&r&&n.manuallyAnimateOnMount&&(ae=!1),K.protectedKeys={...A},!K.isActive&&ne===null||!Q&&!K.prevProp||Qh(Q)||typeof Q=="boolean")continue;const x=QN(K.prevProp,Q);let I=x||W===f&&K.isActive&&!ae&&oe||M>O&&oe,C=!1;const k=Array.isArray(Q)?Q:[Q];let D=k.reduce(o(W),{});ne===!1&&(D={});const{prevResolvedValues:j={}}=K,R={...j,...D},Be=Se=>{I=!0,E.has(Se)&&(C=!0,E.delete(Se)),K.needsAnimating[Se]=!0;const re=n.getValue(Se);re&&(re.liveStyle=!1)};for(const Se in R){const re=D[Se],me=j[Se];if(A.hasOwnProperty(Se))continue;let J=!1;Vp(re)&&Vp(me)?J=!T1(re,me):J=re!==me,J?re!=null?Be(Se):E.add(Se):re!==void 0&&E.has(Se)?Be(Se):K.protectedKeys[Se]=!0}K.prevProp=Q,K.prevResolvedValues=D,K.isActive&&(A={...A,...D}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(ae&&x)||C)&&w.push(...k.map(Se=>({animation:Se,options:{type:W}})))}if(E.size){const M={};E.forEach(W=>{const K=n.getBaseTarget(W),Q=n.getValue(W);Q&&(Q.liveStyle=!0),M[W]=K??null}),w.push({animation:M})}let F=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(F=!1),r=!1,F?e(w):Promise.resolve()}function d(f,m){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(E=>{var A;return(A=E.animationState)===null||A===void 0?void 0:A.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const E in t)t[E].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=L0(),r=!0}}}function QN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!T1(e,n):!1}function Cs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L0(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class Ji{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XN extends Ji{constructor(e){super(e),e.animationState||(e.animationState=GN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Qh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let YN=0;class JN extends Ji{constructor(){super(...arguments),this.id=YN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hS={animation:{Feature:XN},exit:{Feature:JN}};function Xl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function cu(n){return{point:{x:n.pageX,y:n.pageY}}}const ZN=n=>e=>ag(e)&&n(e,cu(e));function bl(n,e,t,r){return Xl(n,e,ZN(t),r)}const O0=(n,e)=>Math.abs(n-e);function eb(n,e){const t=O0(n.x,e.x),r=O0(n.y,e.y);return Math.sqrt(t**2+r**2)}class dS{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Jf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=eb(w.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:O}=w,{timestamp:F}=Mt;this.history.push({...O,timestamp:F});const{onStart:M,onMove:W}=this.handlers;E||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Yf(E,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:A,onSessionEnd:O,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Jf(w.type==="pointercancel"?this.lastMoveEventInfo:Yf(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,M),O&&O(w,M)},!ag(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=cu(e),d=Yf(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Mt;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Jf(d,this.history)),this.removeListeners=uu(bl(this.contextWindow,"pointermove",this.handlePointerMove),bl(this.contextWindow,"pointerup",this.handlePointerUp),bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ki(this.updatePoint)}}function Yf(n,e){return e?{point:e(n.point)}:n}function F0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jf({point:n},e){return{point:n,delta:F0(n,fS(e)),offset:F0(n,tb(e)),velocity:nb(e,.1)}}function tb(n){return n[0]}function fS(n){return n[n.length-1]}function nb(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=fS(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Gr(e)));)t--;if(!r)return{x:0,y:0};const a=Qr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const pS=1e-4,rb=1-pS,ib=1+pS,mS=.01,sb=0-mS,ob=0+mS;function Tn(n){return n.max-n.min}function ab(n,e,t){return Math.abs(n-e)<=t}function j0(n,e,t,r=.5){n.origin=r,n.originPoint=rt(e.min,e.max,n.origin),n.scale=Tn(t)/Tn(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=rb&&n.scale<=ib||isNaN(n.scale))&&(n.scale=1),(n.translate>=sb&&n.translate<=ob||isNaN(n.translate))&&(n.translate=0)}function Ml(n,e,t,r){j0(n.x,e.x,t.x,r?r.originX:void 0),j0(n.y,e.y,t.y,r?r.originY:void 0)}function U0(n,e,t){n.min=t.min+e.min,n.max=n.min+Tn(e)}function lb(n,e,t){U0(n.x,e.x,t.x),U0(n.y,e.y,t.y)}function B0(n,e,t){n.min=e.min-t.min,n.max=n.min+Tn(e)}function Ll(n,e,t){B0(n.x,e.x,t.x),B0(n.y,e.y,t.y)}function ub(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rt(t,n,r.max):Math.min(n,t)),n}function z0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function cb(n,{top:e,left:t,bottom:r,right:o}){return{x:z0(n.x,t,o),y:z0(n.y,e,r)}}function $0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function hb(n,e){return{x:$0(n.x,e.x),y:$0(n.y,e.y)}}function db(n,e){let t=.5;const r=Tn(n),o=Tn(e);return o>r?t=ua(e.min,e.max-r,n.min):r>o&&(t=ua(n.min,n.max-o,e.min)),ei(0,1,t)}function fb(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const zp=.35;function pb(n=zp){return n===!1?n=0:n===!0&&(n=zp),{x:H0(n,"left","right"),y:H0(n,"top","bottom")}}function H0(n,e,t){return{min:W0(n,e),max:W0(n,t)}}function W0(n,e){return typeof n=="number"?n:n[e]||0}const q0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ko=()=>({x:q0(),y:q0()}),K0=()=>({min:0,max:0}),ht=()=>({x:K0(),y:K0()});function bn(n){return[n("x"),n("y")]}function gS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function mb({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function gb(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Zf(n){return n===void 0||n===1}function $p({scale:n,scaleX:e,scaleY:t}){return!Zf(n)||!Zf(e)||!Zf(t)}function xs(n){return $p(n)||yS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yS(n){return G0(n.x)||G0(n.y)}function G0(n){return n&&n!=="0%"}function Sh(n,e,t){const r=n-t,o=e*r;return t+o}function Q0(n,e,t,r,o){return o!==void 0&&(n=Sh(n,o,r)),Sh(n,t,r)+e}function Hp(n,e=0,t=1,r,o){n.min=Q0(n.min,e,t,r,o),n.max=Q0(n.max,e,t,r,o)}function vS(n,{x:e,y:t}){Hp(n.x,e.translate,e.scale,e.originPoint),Hp(n.y,t.translate,t.scale,t.originPoint)}const X0=.999999999999,Y0=1.0000000000001;function yb(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,vS(n,u)),r&&xs(a.latestValues)&&Qo(n,a.latestValues))}e.x<Y0&&e.x>X0&&(e.x=1),e.y<Y0&&e.y>X0&&(e.y=1)}function Go(n,e){n.min=n.min+e,n.max=n.max+e}function J0(n,e,t,r,o=.5){const a=rt(n.min,n.max,o);Hp(n,e,t,a,r)}function Qo(n,e){J0(n.x,e.x,e.scaleX,e.scale,e.originX),J0(n.y,e.y,e.scaleY,e.scale,e.originY)}function _S(n,e){return gS(gb(n.getBoundingClientRect(),e))}function vb(n,e,t){const r=_S(n,t),{scroll:o}=e;return o&&(Go(r.x,o.offset.x),Go(r.y,o.offset.y)),r}const wS=({current:n})=>n?n.ownerDocument.defaultView:null,_b=new WeakMap;class wb{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(cu(v).point)},a=(v,w)=>{const{drag:E,dragPropagation:A,onDragStart:O}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fD(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(M=>{let W=this.getAxisMotionValue(M).get()||0;if(Sr.test(W)){const{projection:K}=this.visualElement;if(K&&K.layout){const Q=K.layout.layoutBox[M];Q&&(W=Tn(Q)*(parseFloat(W)/100))}}this.originPoint[M]=W}),O&&Je.postRender(()=>O(v,w)),bp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:O,onDrag:F}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:M}=w;if(A&&this.currentDirection===null){this.currentDirection=Eb(M),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),F&&F(v,w)},d=(v,w)=>this.stop(v,w),f=()=>bn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new dS(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:wS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Je.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Lc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=ub(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=cb(o.layoutBox,t):this.constraints=!1,this.elastic=pb(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=fb(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=vb(r,o.root,this.visualElement.getTransformPagePoint());let u=hb(o.layout.layoutBox,a);if(t){const d=t(mb(u));this.hasMutatedConstraints=!!d,d&&(u=gS(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=bn(v=>{if(!Lc(v,t,this.currentDirection))return;let w=f&&f[v]||{};u&&(w={min:0,max:0});const E=o?200:1e6,A=o?40:1e7,O={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,O)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return bp(this.visualElement,e),r.start(_g(e,r,0,t,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(t=>{const{drag:r}=this.getProps();if(!Lc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-rt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=db({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(u=>{if(!Lc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(rt(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;_b.set(this.visualElement,this);const e=this.visualElement.current,t=bl(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Wo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Je.read(r);const u=Xl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(bn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=zp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Lc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Eb(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Tb extends Ji{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new wb(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const Z0=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class Sb extends Ji{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new dS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:wS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Z0(e),onStart:Z0(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&Je.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Xc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ew(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const yl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=ew(n,e.target.x),r=ew(n,e.target.y);return`${t}% ${r}%`}},Ib={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Gi.parse(n);if(o.length>5)return r;const a=Gi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=rt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};class Ab extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;KV(Pb),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Xc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Je.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Gm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ES(n){const[e,t]=t1(),r=te.useContext(jm);return N.jsx(Ab,{...n,layoutGroup:r,switchLayoutGroup:te.useContext(u1),isPresent:e,safeToRemove:t})}const Pb={borderRadius:{...yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yl,borderTopRightRadius:yl,borderBottomLeftRadius:yl,borderBottomRightRadius:yl,boxShadow:Ib};function Cb(n,e,t){const r=Qt(n)?n:Gl(n);return r.start(_g("",r,e,t)),r.animation}function Rb(n){return n instanceof SVGElement&&n.tagName!=="svg"}const xb=(n,e)=>n.depth-e.depth;class kb{constructor(){this.children=[],this.isDirty=!1}add(e){lg(this.children,e),this.isDirty=!0}remove(e){ug(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xb),this.isDirty=!1,this.children.forEach(e)}}function Vb(n,e){const t=Ir.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(Ki(r),n(a-e))};return Je.read(r,!0),()=>Ki(r)}const TS=["TopLeft","TopRight","BottomLeft","BottomRight"],Db=TS.length,tw=n=>typeof n=="string"?parseFloat(n):n,nw=n=>typeof n=="number"||we.test(n);function Nb(n,e,t,r,o,a){o?(n.opacity=rt(0,t.opacity!==void 0?t.opacity:1,bb(r)),n.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,Mb(r))):a&&(n.opacity=rt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<Db;u++){const d=`border${TS[u]}Radius`;let f=rw(e,d),m=rw(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||nw(f)===nw(m)?(n[d]=Math.max(rt(tw(f),tw(m),r),0),(Sr.test(m)||Sr.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,r))}function rw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const bb=SS(0,.5,U1),Mb=SS(.5,.95,En);function SS(n,e,t){return r=>r<n?0:r>e?1:t(ua(n,e,r))}function iw(n,e){n.min=e.min,n.max=e.max}function Nn(n,e){iw(n.x,e.x),iw(n.y,e.y)}function sw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ow(n,e,t,r,o){return n-=e,n=Sh(n,1/t,r),o!==void 0&&(n=Sh(n,1/o,r)),n}function Lb(n,e=0,t=1,r=.5,o,a=n,u=n){if(Sr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=rt(a.min,a.max,r);n===a&&(d-=e),n.min=ow(n.min,e,t,d,o),n.max=ow(n.max,e,t,d,o)}function aw(n,e,[t,r,o],a,u){Lb(n,e[t],e[r],e[o],e.scale,a,u)}const Ob=["x","scaleX","originX"],Fb=["y","scaleY","originY"];function lw(n,e,t,r){aw(n.x,e,Ob,t?t.x:void 0,r?r.x:void 0),aw(n.y,e,Fb,t?t.y:void 0,r?r.y:void 0)}function uw(n){return n.translate===0&&n.scale===1}function IS(n){return uw(n.x)&&uw(n.y)}function cw(n,e){return n.min===e.min&&n.max===e.max}function jb(n,e){return cw(n.x,e.x)&&cw(n.y,e.y)}function hw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function AS(n,e){return hw(n.x,e.x)&&hw(n.y,e.y)}function dw(n){return Tn(n.x)/Tn(n.y)}function fw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class Ub{constructor(){this.members=[]}add(e){lg(this.members,e),e.scheduleRender()}remove(e){if(ug(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bb(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:E,skewX:A,skewY:O}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),O&&(r+=`skewY(${O}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const ks={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Pl=typeof window<"u"&&window.MotionDebug!==void 0,ep=["","X","Y","Z"],zb={visibility:"hidden"},pw=1e3;let $b=0;function tp(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function PS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=N1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&PS(r)}function CS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=$b++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Pl&&(ks.totalNodes=ks.resolvedTargetDeltas=ks.recalculatedProjection=0),this.nodes.forEach(qb),this.nodes.forEach(Yb),this.nodes.forEach(Jb),this.nodes.forEach(Kb),Pl&&window.MotionDebug.record(ks)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new kb)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new cg),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Rb(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=Vb(E,250),Xc.hasAnimatedSinceResize&&(Xc.hasAnimatedSinceResize=!1,this.nodes.forEach(gw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeTargetChanged:A,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||v.getDefaultTransition()||rM,{onLayoutAnimationStart:M,onLayoutAnimationComplete:W}=v.getProps(),K=!this.targetLayout||!AS(this.targetLayout,O)||A,Q=!E&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Q||E&&(K||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,Q);const oe={...ig(F,"layout"),onPlay:M,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(oe.delay=0,oe.type=!1),this.startAnimation(oe)}else E||gw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zb),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mw);return}this.isUpdating||this.nodes.forEach(Qb),this.isUpdating=!1,this.nodes.forEach(Xb),this.nodes.forEach(Hb),this.nodes.forEach(Wb),this.clearAllSnapshots();const d=Ir.now();Mt.delta=ei(0,1e3/60,d-Mt.timestamp),Mt.timestamp=d,Mt.isProcessing=!0,Hf.update.process(Mt),Hf.preRender.process(Mt),Hf.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gb),this.sharedNodes.forEach(eM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!IS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||xs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),iM(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ht();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(sM))){const{scroll:v}=this.root;v&&(Go(f.x,v.offset.x),Go(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=ht();if(Nn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:E}=v;v!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&Nn(f,u),Go(f.x,w.offset.x),Go(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=ht();Nn(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Qo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),xs(v.latestValues)&&Qo(f,v.latestValues)}return xs(this.latestValues)&&Qo(f,this.latestValues),f}removeTransform(u){const d=ht();Nn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!xs(m.latestValues))continue;$p(m.latestValues)&&m.updateSnapshot();const v=ht(),w=m.measurePageBox();Nn(v,w),lw(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return xs(this.latestValues)&&lw(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lb(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),vS(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Ll(this.relativeTargetOrigin,this.target,A.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Pl&&ks.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$p(this.parent.latestValues)||yS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Nn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;yb(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ht());const{target:O}=d;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sw(this.prevProjectionDelta.x,this.projectionDelta.x),sw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!fw(this.projectionDelta.x,this.prevProjectionDelta.x)||!fw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),Pl&&ks.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ko(),this.projectionDelta=Ko(),this.projectionDeltaWithTransform=Ko()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},w=Ko();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=ht(),A=f?f.source:void 0,O=this.layout?this.layout.source:void 0,F=A!==O,M=this.getStack(),W=!M||M.members.length<=1,K=!!(F&&!W&&this.options.crossfade===!0&&!this.path.some(nM));this.animationProgress=0;let Q;this.mixTargetDelta=oe=>{const ne=oe/1e3;yw(w.x,u.x,ne),yw(w.y,u.y,ne),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tM(this.relativeTarget,this.relativeTargetOrigin,E,ne),Q&&jb(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=ht()),Nn(Q,this.relativeTarget)),F&&(this.animationValues=v,Nb(v,m,this.latestValues,ne,K,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Xc.hasAnimatedSinceResize=!0,this.currentAnimation=Cb(0,pw,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:v}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&RS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||ht();const w=Tn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=Tn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Nn(d,f),Qo(d,v),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Ub),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&tp("z",u,m,this.animationValues);for(let v=0;v<ep.length;v++)tp(`rotate${ep[v]}`,u,m,this.animationValues),tp(`skew${ep[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zb;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Gc(u?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const F={};return this.options.layoutId&&(F.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,F.pointerEvents=Gc(u?.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(F.transform=v?v({},""):"none",this.hasProjected=!1),F}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=Bb(this.projectionDeltaWithTransform,this.treeScale,E),v&&(m.transform=v(E,m.transform));const{x:A,y:O}=this.projectionDelta;m.transformOrigin=`${A.origin*100}% ${O.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:m.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const F in vh){if(E[F]===void 0)continue;const{correct:M,applyTo:W}=vh[F],K=m.transform==="none"?E[F]:M(E[F],w);if(W){const Q=W.length;for(let oe=0;oe<Q;oe++)m[W[oe]]=K}else m[F]=K}return this.options.layoutId&&(m.pointerEvents=w===this?Gc(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(mw),this.root.sharedNodes.clear()}}}function Hb(n){n.updateLayout()}function Wb(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?bn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],A=Tn(E);E.min=r[w].min,E.max=E.min+A}):RS(a,t.layoutBox,r)&&bn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],A=Tn(r[w]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+A)});const d=Ko();Ml(d,r,t.layoutBox);const f=Ko();u?Ml(f,n.applyTransform(o,!0),t.measuredBox):Ml(f,r,t.layoutBox);const m=!IS(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:A}=w;if(E&&A){const O=ht();Ll(O,t.layoutBox,E.layoutBox);const F=ht();Ll(F,r,A.layoutBox),AS(O,F)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=F,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function qb(n){Pl&&ks.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Kb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Gb(n){n.clearSnapshot()}function mw(n){n.clearMeasurements()}function Qb(n){n.isLayoutDirty=!1}function Xb(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function gw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Yb(n){n.resolveTargetDelta()}function Jb(n){n.calcProjection()}function Zb(n){n.resetSkewAndRotation()}function eM(n){n.removeLeadSnapshot()}function yw(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function vw(n,e,t,r){n.min=rt(e.min,t.min,r),n.max=rt(e.max,t.max,r)}function tM(n,e,t,r){vw(n.x,e.x,t.x,r),vw(n.y,e.y,t.y,r)}function nM(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const rM={duration:.45,ease:[.4,0,.1,1]},_w=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ww=_w("applewebkit/")&&!_w("chrome/")?Math.round:En;function Ew(n){n.min=ww(n.min),n.max=ww(n.max)}function iM(n){Ew(n.x),Ew(n.y)}function RS(n,e,t){return n==="position"||n==="preserve-aspect"&&!ab(dw(e),dw(t),.2)}function sM(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const oM=CS({attachResizeListener:(n,e)=>Xl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),np={current:void 0},xS=CS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!np.current){const n=new oM({});n.mount(window),n.setOptions({layoutScroll:!0}),np.current=n}return np.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),aM={pan:{Feature:Sb},drag:{Feature:Tb,ProjectionNode:xS,MeasureLayout:ES}};function Tw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&Je.postRender(()=>a(e,cu(e)))}class lM extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=lD(e,t=>(Tw(this.node,t,"Start"),r=>Tw(this.node,r,"End"))))}unmount(){}}class uM extends Ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uu(Xl(this.node.current,"focus",()=>this.onFocus()),Xl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&Je.postRender(()=>a(e,cu(e)))}class cM extends Ji{mount(){const{current:e}=this.node;e&&(this.unmount=dD(e,t=>(Sw(this.node,t,"Start"),(r,{success:o})=>Sw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Wp=new WeakMap,rp=new WeakMap,hM=n=>{const e=Wp.get(n.target);e&&e(n)},dM=n=>{n.forEach(hM)};function fM({root:n,...e}){const t=n||document;rp.has(t)||rp.set(t,{});const r=rp.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(dM,{root:n,...e})),r[o]}function pM(n,e,t){const r=fM(e);return Wp.set(n,t),r.observe(n),()=>{Wp.delete(n),r.unobserve(n)}}const mM={some:0,all:1};class gM extends Ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:mM[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),E=m?v:w;E&&E(f)};return pM(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(yM(e,t))&&this.startObserver()}unmount(){}}function yM({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const kS={inView:{Feature:gM},tap:{Feature:cM},focus:{Feature:uM},hover:{Feature:lM}},vM={layout:{ProjectionNode:xS,MeasureLayout:ES}},qp={current:null},VS={current:!1};function _M(){if(VS.current=!0,!!zm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>qp.current=n.matches;n.addListener(e),e()}else qp.current=!1}const wM=[...eS,qt,Gi],EM=n=>wM.find(Z1(n)),Iw=new WeakMap;function TM(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Qt(o))n.addValue(r,o);else if(Qt(a))n.addValue(r,Gl(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,Gl(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const Aw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SM{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Ir.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Je.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Xh(t),this.isVariantNode=a1(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in E){const O=E[A];f[A]!==void 0&&Qt(O)&&O.set(f[A],!1)}}mount(e){this.current=e,Iw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),VS.current||_M(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Iw.delete(this.current),this.projection&&this.projection.unmount(),Ki(this.notifyUpdate),Ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Hs.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ca){const t=ca[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<Aw.length;r++){const o=Aw[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=TM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Gl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Y1(o)||z1(o))?o=parseFloat(o):!EM(o)&&Gi.test(t)&&(o=G1(e,t)),this.setBaseTarget(e,Qt(o)?o.get():o)),Qt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=Xm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new cg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class DS extends SM{constructor(){super(...arguments),this.KeyframeResolver=tS}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function IM(n){return window.getComputedStyle(n)}class AM extends DS{constructor(){super(...arguments),this.type="html",this.renderInstance=g1}readValueFromInstance(e,t){if(Hs.has(t)){const r=mg(t);return r&&r.default||0}else{const r=IM(e),o=(f1(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return _S(e,t)}build(e,t,r){Zm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return rg(e,t,r)}}class PM extends DS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Hs.has(t)){const r=mg(t);return r&&r.default||0}return t=y1.has(t)?t:Km(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return w1(e,t,r)}build(e,t,r){eg(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,o){v1(e,t,r,o)}mount(e){this.isSVGTag=ng(e.tagName),super.mount(e)}}const NS=(n,e)=>Qm(n)?new PM(e):new AM(e,{allowProjection:n!==te.Fragment}),CM=nD({...hS,...kS,...aM,...vM},NS),Ft=yV(CM),RM={renderer:NS,...hS,...kS},xM={some:0,all:1};function kM(n,e,{root:t,margin:r,amount:o="some"}={}){const a=R1(n),u=new WeakMap,d=m=>{m.forEach(v=>{const w=u.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const E=e(v);typeof E=="function"?u.set(v.target,E):f.unobserve(v.target)}else typeof w=="function"&&(w(v),u.delete(v.target))})},f=new IntersectionObserver(d,{root:t,rootMargin:r,threshold:typeof o=="number"?o:xM[o]});return a.forEach(m=>f.observe(m)),()=>f.disconnect()}function wg(n,{root:e,margin:t,amount:r,once:o=!1}={}){const[a,u]=te.useState(!1);return te.useEffect(()=>{if(!n.current||o&&a)return;const d=()=>(u(!0),o?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:t,amount:r};return kM(n.current,d,f)},[e,n,t,o,r]),a}function Zh(n,e,t,r){return new(t||(t=Promise))(function(o,a){function u(m){try{f(r.next(m))}catch(v){a(v)}}function d(m){try{f(r.throw(m))}catch(v){a(v)}}function f(m){var v;m.done?o(m.value):(v=m.value,v instanceof t?v:new t(function(w){w(v)})).then(u,d)}f((r=r.apply(n,[])).next())})}function Ui(n,e){var t,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(f){return function(m){return function(v){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&v[0]?r.return:v[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,v[1])).done)return o;switch(r=0,o&&(v=[2&v[0],o.value]),v[0]){case 0:case 1:o=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,r=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!((o=o.length>0&&o[o.length-1])||v[0]!==6&&v[0]!==2)){u=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){u.label=v[1];break}if(v[0]===6&&u.label<o[1]){u.label=o[1],o=v;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(v);break}o[2]&&u.ops.pop(),u.trys.pop();continue}v=e.call(n,u)}catch(w){v=[6,w],r=0}finally{t=o=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([f,m])}}}function Kp(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r,o,a=t.call(n),u=[];try{for(;(e===void 0||e-- >0)&&!(r=a.next()).done;)u.push(r.value)}catch(d){o={error:d}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return u}function gr(n,e,t){if(arguments.length===2)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}function Pw(n,e,t,r,o){for(var a=[],u=5;u<arguments.length;u++)a[u-5]=arguments[u];return Zh(this,void 0,void 0,function(){var d,f,m,v,w,E;return Ui(this,function(A){switch(A.label){case 0:A.trys.push([0,12,13,14]),d=Kp(a),f=d.next(),A.label=1;case 1:if(f.done)return[3,11];switch(m=f.value,typeof m){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,VM(n,e,m,t,r,o)];case 3:return A.sent(),[3,10];case 4:return[4,bS(m)];case 5:return A.sent(),[3,10];case 6:return[4,m.apply(void 0,gr([n,e,t,r,o],er(a),!1))];case 7:return A.sent(),[3,10];case 8:return[4,m];case 9:A.sent(),A.label=10;case 10:return f=d.next(),[3,1];case 11:return[3,14];case 12:return v=A.sent(),w={error:v},[3,14];case 13:try{f&&!f.done&&(E=d.return)&&E.call(d)}finally{if(w)throw w.error}return[7];case 14:return[2]}})})}function VM(n,e,t,r,o,a){return Zh(this,void 0,void 0,function(){var u,d;return Ui(this,function(f){switch(f.label){case 0:return u=n.textContent||"",d=function(m,v){var w=er(v).slice(0);return gr(gr([],er(m),!1),[NaN],!1).findIndex(function(E,A){return w[A]!==E})}(u,t),[4,DM(n,gr(gr([],er(bM(u,e,d)),!1),er(NM(t,e,d)),!1),r,o,a)];case 1:return f.sent(),[2]}})})}function bS(n){return Zh(this,void 0,void 0,function(){return Ui(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,n)})];case 1:return e.sent(),[2]}})})}function DM(n,e,t,r,o){return Zh(this,void 0,void 0,function(){var a,u,d,f,m,v,w,E,A,O,F,M,W;return Ui(this,function(K){switch(K.label){case 0:if(a=e,o){for(u=0,d=1;d<e.length;d++)if(f=er([e[d-1],e[d]],2),m=f[0],(v=f[1]).length>m.length||v===""){u=d;break}a=e.slice(u,e.length)}K.label=1;case 1:K.trys.push([1,6,7,8]),w=Kp(function(Q){var oe,ne,ae,x,I,C,k;return Ui(this,function(D){switch(D.label){case 0:oe=function(j){return Ui(this,function(R){switch(R.label){case 0:return[4,{op:function(Be){return requestAnimationFrame(function(){return Be.textContent=j})},opCode:function(Be){var lt=Be.textContent||"";return j===""||lt.length>j.length?"DELETE":"WRITING"}}];case 1:return R.sent(),[2]}})},D.label=1;case 1:D.trys.push([1,6,7,8]),ne=Kp(Q),ae=ne.next(),D.label=2;case 2:return ae.done?[3,5]:(x=ae.value,[5,oe(x)]);case 3:D.sent(),D.label=4;case 4:return ae=ne.next(),[3,2];case 5:return[3,8];case 6:return I=D.sent(),C={error:I},[3,8];case 7:try{ae&&!ae.done&&(k=ne.return)&&k.call(ne)}finally{if(C)throw C.error}return[7];case 8:return[2]}})}(a)),E=w.next(),K.label=2;case 2:return E.done?[3,5]:(A=E.value,O=A.opCode(n)==="WRITING"?t+t*(Math.random()-.5):r+r*(Math.random()-.5),A.op(n),[4,bS(O)]);case 3:K.sent(),K.label=4;case 4:return E=w.next(),[3,2];case 5:return[3,8];case 6:return F=K.sent(),M={error:F},[3,8];case 7:try{E&&!E.done&&(W=w.return)&&W.call(w)}finally{if(M)throw M.error}return[7];case 8:return[2]}})})}function NM(n,e,t){var r,o;return t===void 0&&(t=0),Ui(this,function(a){switch(a.label){case 0:r=e(n),o=r.length,a.label=1;case 1:return t<o?[4,r.slice(0,++t).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}function bM(n,e,t){var r,o;return t===void 0&&(t=0),Ui(this,function(a){switch(a.label){case 0:r=e(n),o=r.length,a.label=1;case 1:return o>t?[4,r.slice(0,--o).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}var MM="index-module_type__E-SaG";(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var LM=te.memo(te.forwardRef(function(n,e){var t=n.sequence,r=n.repeat,o=n.className,a=n.speed,u=a===void 0?40:a,d=n.deletionSpeed,f=n.omitDeletionAnimation,m=f!==void 0&&f,v=n.preRenderFirstString,w=v!==void 0&&v,E=n.wrapper,A=E===void 0?"span":E,O=n.splitter,F=O===void 0?function(J){return gr([],er(J),!1)}:O,M=n.cursor,W=M===void 0||M,K=n.style,Q=function(J,L){var q={};for(var le in J)Object.prototype.hasOwnProperty.call(J,le)&&L.indexOf(le)<0&&(q[le]=J[le]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ae=0;for(le=Object.getOwnPropertySymbols(J);Ae<le.length;Ae++)L.indexOf(le[Ae])<0&&Object.prototype.propertyIsEnumerable.call(J,le[Ae])&&(q[le[Ae]]=J[le[Ae]])}return q}(n,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),oe=Q["aria-label"],ne=Q["aria-hidden"],ae=Q.role;d||(d=u);var x=new Array(2).fill(40);[u,d].forEach(function(J,L){switch(typeof J){case"number":x[L]=Math.abs(J-100);break;case"object":var q=J.type,le=J.value;if(typeof le!="number")break;q==="keyStrokeDelayInMs"&&(x[L]=le)}});var I,C,k,D,j,R,Be=x[0],lt=x[1],st=function(J,L){L===void 0&&(L=null);var q=te.useRef(L);return te.useEffect(function(){J&&(typeof J=="function"?J(q.current):J.current=q.current)},[J]),q}(e),Se=MM;I=o?"".concat(W?Se+" ":"").concat(o):W?Se:"",C=te.useRef(function(){var J,L=t;r===1/0?J=Pw:typeof r=="number"&&(L=Array(1+r).fill(t).flat());var q=J?gr(gr([],er(L),!1),[J],!1):gr([],er(L),!1);return Pw.apply(void 0,gr([st.current,F,Be,lt,m],er(q),!1)),function(){st.current}}),k=te.useRef(),D=te.useRef(!1),j=te.useRef(!1),R=er(te.useState(0),2)[1],D.current&&(j.current=!0),te.useEffect(function(){return D.current||(k.current=C.current(),D.current=!0),R(function(J){return J+1}),function(){j.current&&k.current&&k.current()}},[]);var re=A,me=w?t.find(function(J){return typeof J=="string"})||"":null;return Xt.createElement(re,{"aria-hidden":ne,"aria-label":oe,role:ae,style:K,className:I,children:oe?Xt.createElement("span",{"aria-hidden":"true",ref:st,children:me}):me,ref:oe?void 0:st})}),function(n,e){return!0});const OM=te.lazy(()=>YI(()=>import("./AdminPanel-Dro9xho9.js"),[])),FM=()=>N.jsx("style",{children:`
        body { background-color: #f5f7fa; }
        .glass-card { 
            background: rgba(255, 255, 255, 0.5); 
            backdrop-filter: blur(12px); 
            -webkit-backdrop-filter: blur(12px); 
            border-radius: 1rem; 
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07); 
            border: 1px solid rgba(255, 255, 255, 0.18);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        .glow-effect {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            width: 100%; height: 100%;
            background: radial-gradient(circle at 50% 50%, rgba(37, 99, 235, 0.1), transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: -1;
        }
        .glass-card:hover .glow-effect { opacity: 1; }
        html { scroll-behavior: smooth; }
        .input-field { width: 100%; background-color: rgb(249 250 251 / 1); border: 1px solid rgb(209 213 219 / 1); border-radius: 0.5rem; padding: 0.75rem 1rem; color: #334155; outline: none; transition: border-color 0.3s ease, box-shadow 0.3s ease; }
        .input-field:focus { border-color: #2563eb; box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2); }
        .btn-primary { background-image: linear-gradient(to right, #2563eb, #1e3a8a); color: white; font-weight: bold; padding: 0.75rem 1.5rem; border-radius: 9999px; transition: transform 0.2s ease, box-shadow 0.2s ease; cursor: pointer; }
        .btn-primary:hover { transform: scale(1.05); box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4); }
        .btn-secondary { background-color: transparent; border: 1px solid #d1d5db; color: #4b5563; font-weight: bold; padding: 0.75rem 1.5rem; border-radius: 9999px; transition: background-color 0.2s ease, color 0.2s ease; cursor: pointer; }
        .btn-secondary:hover { background-color: #e5e7eb; }
    `}),jM=()=>N.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[N.jsx("style",{children:`
            @keyframes move {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }
            .gradient-bg {
                width: 150vmax;
                height: 150vmax;
                position: absolute;
                top: 50%; left: 50%;
                background: radial-gradient(circle, rgba(37, 99, 235, 0.15), transparent 50%),
                            radial-gradient(circle, rgba(29, 78, 216, 0.1), transparent 60%);
                animation: move 25s linear infinite;
                opacity: 0.5;
            }
        `}),N.jsx("div",{className:"gradient-bg"})]}),Cw=()=>N.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:N.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",fill:"#1e3a8a",children:[N.jsx("style",{children:".spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_zKoa{animation-timing-function:steps(8,end)}@keyframes spinner_zKoa{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}"}),N.jsxs("g",{className:"spinner_V8m1",children:[N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(45 50 50)"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(90 50 50)"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(135 50 50)"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(180 50 50)"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(225 50 50)"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(270 50 50)"}),N.jsx("rect",{x:"47",y:"24",width:"6",height:"12",rx:"3",transform:"rotate(315 50 50)"})]})]})}),Ws=Xt.memo(({children:n,id:e,className:t=""})=>{const r=te.useRef(null),o=wg(r,{once:!0,amount:.2});return N.jsx(Ft.section,{id:e,ref:r,initial:{opacity:0,y:50},animate:{opacity:o?1:0,y:o?0:50},transition:{duration:.8,ease:"easeOut"},className:`py-12 md:py-16 ${t}`,children:n})}),qs=Xt.memo(()=>{const n=te.useRef(null),e=wg(n,{once:!0,amount:.5});return N.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:N.jsx(Ft.div,{className:"h-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})}),UM=Xt.memo(({isMobileMenuOpen:n,toggleMobileMenu:e,closeMobileMenu:t})=>{const r=o=>{o.preventDefault();const a=o.currentTarget.getAttribute("href"),u=document.querySelector(a);t(),u&&setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"start"})},100)};return N.jsxs("header",{className:"bg-white/70 backdrop-blur-md fixed top-0 w-full z-50 border-b border-gray-200/80",children:[N.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[N.jsx("a",{href:"#home",className:"flex items-center space-x-2",onClick:r,children:N.jsx("img",{src:"/Costas_Portfolio/assets/logo.png",alt:"Logo",className:"h-10 w-auto md:h-12"})}),N.jsxs("div",{className:"hidden md:flex space-x-8 items-center text-[#4b5563] font-medium",children:[N.jsx("a",{href:"#about",className:"hover:text-[#2563eb] transition-colors",children:"About"}),N.jsx("a",{href:"#experience",className:"hover:text-[#2563eb] transition-colors",children:"Experience"}),N.jsx("a",{href:"#skills",className:"hover:text-[#2563eb] transition-colors",children:"Skills"}),N.jsx("a",{href:"#projects",className:"hover:text-[#2563eb] transition-colors",children:"Projects"}),N.jsx("a",{href:"#contact",className:"hover:text-[#2563eb] transition-colors",children:"Contact"})]}),N.jsx("div",{className:"md:hidden",children:N.jsx("button",{onClick:e,className:"text-[#4b5563] focus:outline-none",children:N.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),N.jsx(r1,{children:n&&N.jsxs(Ft.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-md px-6 py-4 space-y-3 text-[#4b5563] font-medium",children:[N.jsx("a",{href:"#about",onClick:r,className:"block hover:text-[#2563eb]",children:"About"}),N.jsx("a",{href:"#experience",onClick:r,className:"block hover:text-[#2563eb]",children:"Experience"}),N.jsx("a",{href:"#skills",onClick:r,className:"block hover:text-[#2563eb]",children:"Skills"}),N.jsx("a",{href:"#projects",onClick:r,className:"block hover:text-[#2563eb]",children:"Projects"}),N.jsx("a",{href:"#contact",onClick:r,className:"block hover:text-[#2563eb]",children:"Contact"})]})})]})}),BM=Xt.memo(()=>N.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden",children:N.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[N.jsxs(Ft.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[N.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-[#334155] mb-4",children:[N.jsx("span",{className:"block mb-2 text-xl font-normal text-[#64748b]",children:"Hello, I'm"})," Costas Pinto"]}),N.jsx(LM,{sequence:["Data Science Enthusiast",2e3,"Machine Learning Engineer",2e3,"Full-Stack Developer",2e3,"AI Innovator",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] h-10",repeat:1/0}),N.jsx("p",{className:"max-w-xl text-[#4b5563] leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),N.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[N.jsxs(Ft.a,{href:"/Costas_Portfolio/assets/your_cv.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-[#2563eb]/20 transition-all hover:shadow-xl",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#2563eb] transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),N.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#334155] transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),N.jsx(Ft.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:N.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[N.jsx(Ft.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-[#2563eb]/20 via-[#1e3a8a]/20 to-[#2563eb]/30 rounded-full opacity-40 blur-3xl"}),N.jsx("div",{className:"relative z-10 flex justify-center items-center",children:N.jsx("img",{loading:"lazy",src:"./assets/Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})})),zM=Xt.memo(()=>N.jsxs(Ws,{id:"about",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"About Me"}),N.jsx(qs,{}),N.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[N.jsx("div",{className:"glow-effect"}),N.jsx("p",{className:"text-lg leading-relaxed text-[#4b5563] text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})]})]})),Rw=Xt.memo(({date:n,title:e,company:t,details:r})=>N.jsxs(Ft.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-[#a5b4fc]",children:[N.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-[#2563eb] to-[#1e3a8a] rounded-full border-4 border-white"}),N.jsx("p",{className:"text-[#64748b] mb-1 font-medium",children:n}),N.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),N.jsx("p",{className:"text-lg text-[#2563eb] font-semibold mb-3",children:t}),N.jsx("ul",{className:"list-disc list-inside text-[#4b5563] space-y-2",children:r.map((o,a)=>N.jsx("li",{children:o},a))})]})),$M=Xt.memo(()=>N.jsxs(Ws,{id:"experience",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Experience"}),N.jsx(qs,{}),N.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[N.jsx(Rw,{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]}),N.jsx(Rw,{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]})),HM=Xt.memo(()=>{const[n,e]=te.useState("Programming Languages"),t=u=>e(d=>d===u?null:u),r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return N.jsxs(Ws,{id:"skills",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Skills"}),N.jsx(qs,{}),N.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto rounded-2xl glass-card",children:[N.jsx("div",{className:"glow-effect"}),N.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([u,d])=>N.jsxs("div",{className:"border-b border-gray-300/50 last:border-b-0",children:[N.jsxs("button",{onClick:()=>t(u),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-[#334155] focus:outline-none",children:[N.jsx("span",{children:u}),N.jsx(Ft.span,{animate:{rotate:n===u?180:0},children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),N.jsx(r1,{children:n===u&&N.jsx(Ft.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:N.jsx(Ft.div,{variants:o,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:d.map(f=>N.jsxs(Ft.div,{variants:a,children:[N.jsx("p",{className:"text-lg font-medium text-[#4b5563] mb-1",children:f.name}),N.jsx("div",{className:"bg-gray-300 w-full rounded-full h-2.5",children:N.jsx(Ft.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a]",initial:{width:0},animate:{width:`${f.level}%`},transition:{duration:1,ease:"easeOut"}})})]},f.name))})})})]},u))})]})]})}),WM=Xt.memo(()=>N.jsxs(Ws,{id:"achievements",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Key Achievements"}),N.jsx(qs,{}),N.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[N.jsx("div",{className:"glow-effect"}),N.jsxs("ul",{className:"list-disc list-inside text-[#4b5563] space-y-3 text-lg",children:[N.jsxs("li",{children:["Completed ",N.jsx("strong",{children:"60+ Certifications"})," from IBM, Google, Meta, Microsoft, and Forage."]}),N.jsxs("li",{children:["Built and deployed ",N.jsx("strong",{children:"25+ AI/Data/Full-stack projects"})," solving real-world problems."]}),N.jsxs("li",{children:["Earned top-tier recognitions in job simulations at ",N.jsx("strong",{children:"BCG, Lloyds, BA, EA, TATA"}),", and more."]}),N.jsxs("li",{children:["Founded ",N.jsx("strong",{children:"JHT SMART STEPS LEARNING"}),"  empowering students through digital education."]})]})]})]})),qM=Xt.memo(()=>N.jsxs(Ws,{id:"journey",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Learning Journey"}),N.jsx(qs,{}),N.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[N.jsx("div",{className:"glow-effect"}),N.jsx("p",{children:"From mastering foundational concepts to building AI-powered solutions, my journey is marked by continuous growth:"}),N.jsxs("ul",{className:"list-disc list-inside space-y-3 text-lg",children:[N.jsxs("li",{children:[N.jsx("strong",{children:"2023:"})," Learned Python, Java, and front-end development. Built my first ML models."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"2024:"})," Completed 60+ certifications in AI, Data Science, UX, and Full-stack Dev."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Ongoing:"})," Practicing daily with real-world challenges, GitHub repos, and internships."]})]})]})]})),KM=Xt.memo(({projects:n})=>{const e=te.useRef(null),t=wg(e,{once:!0,amount:.1}),r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return N.jsxs(Ws,{id:"projects",className:"!py-0",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Projects"}),N.jsx(qs,{}),N.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?N.jsx(Ft.div,{ref:e,variants:r,initial:"hidden",animate:t?"visible":"hidden",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(a=>N.jsxs(Ft.div,{variants:o,className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[N.jsx("div",{className:"glow-effect"}),N.jsx("img",{loading:"lazy",src:a.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:a.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),N.jsx("h3",{className:"text-xl font-bold text-[#334155] mb-2",children:a.title}),N.jsx("p",{className:"text-[#4b5563] flex-grow mb-4",children:a.description}),N.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.tags?.map(u=>N.jsx("span",{className:"bg-[#dbeafe] text-[#1e3a8a] text-xs font-medium px-2.5 py-1 rounded-full",children:u},u))}),a.projectLink&&N.jsx("a",{href:a.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-[#2563eb] border border-[#2563eb] rounded-full py-2 px-4 hover:bg-[#2563eb] hover:text-white transition-all duration-300 z-10",children:"View Project"})]},a.id))}):N.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:N.jsx("p",{className:"text-center text-[#4b5563] text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]})}),GM=Xt.memo(({licensesPdfUrl:n,internshipsPdfUrl:e})=>N.jsxs(Ws,{id:"certifications",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Certificates"}),N.jsx(qs,{}),N.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[N.jsx(Ft.a,{href:n||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),N.jsx(Ft.a,{href:e||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]})),QM=Xt.memo(()=>N.jsx("footer",{id:"contact",className:"bg-[#e2e8f0] border-t border-gray-300 mt-20",children:N.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[N.jsx("h2",{className:"text-4xl font-bold text-[#334155] mb-4",children:"Let's Connect"}),N.jsx("p",{className:"text-[#4b5563] max-w-2xl mx-auto mb-8",children:"I'm always eager to connect. Whether you have a project in mind, a question, or just want to say hi, my inbox is always open."}),N.jsxs("form",{action:"https://formspree.io/f/YOUR_UNIQUE_CODE",method:"POST",className:"max-w-xl mx-auto space-y-4 text-left",children:[N.jsx("input",{type:"email",name:"email",placeholder:"Your Email",className:"input-field",required:!0}),N.jsx("textarea",{name:"message",placeholder:"Your Message",className:"input-field h-32",required:!0}),N.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Send Message"})]}),N.jsxs("div",{className:"border-t border-gray-300 mt-12 pt-8 text-[#64748b]",children:[N.jsxs("div",{className:"flex justify-center items-center gap-6 mb-4",children:[N.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#2563eb] transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),N.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#334155] transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]}),N.jsxs("p",{children:[" ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})]})})),XM={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},MS=Uw(XM),Oc=Mx(MS),YM=iV(MS);function JM(){const[n,e]=te.useState("home"),[t,r]=te.useState([]),[o,a]=te.useState(""),[u,d]=te.useState(""),[f,m]=te.useState(!0),[v,w]=te.useState(!1),E=te.useCallback(async()=>{m(!0);try{const F=await Kx(bx(Oc,"projects"));r(F.docs.map(M=>({id:M.id,...M.data()})))}catch(F){console.error("Error fetching projects: ",F)}try{const F=await H_(Ap(Oc,"portfolioAssets","licenses"));F.exists()&&a(F.data().pdfUrl);const M=await H_(Ap(Oc,"portfolioAssets","internships"));M.exists()&&d(M.data().pdfUrl)}catch(F){console.error("Error fetching portfolio assets: ",F)}finally{m(!1)}},[]);te.useEffect(()=>{E();const F=()=>{const M=window.location.hash.replace("#","");e(M==="admin"?"admin":"home")};return window.addEventListener("hashchange",F,!1),F(),()=>window.removeEventListener("hashchange",F)},[E]);const A=()=>w(!1),O=()=>w(F=>!F);return f?N.jsx(Cw,{}):N.jsxs(fV,{features:RM,children:[N.jsx(jM,{}),N.jsxs("div",{className:"relative text-[#334155] font-sans overflow-x-hidden",children:[N.jsx(FM,{}),n==="admin"?N.jsx(te.Suspense,{fallback:N.jsx(Cw,{}),children:N.jsx(OM,{db:Oc,projects:t,fetchProjects:E,auth:YM})}):N.jsxs(N.Fragment,{children:[N.jsx(UM,{isMobileMenuOpen:v,closeMobileMenu:A,toggleMobileMenu:O}),N.jsxs("main",{className:"relative z-10",children:[N.jsx(BM,{}),N.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[N.jsx(zM,{}),N.jsx($M,{}),N.jsx(HM,{}),N.jsx(WM,{}),N.jsx(qM,{}),N.jsx(KM,{projects:t}),N.jsx(GM,{licensesPdfUrl:o,internshipsPdfUrl:u})]})]}),N.jsx(QM,{})]})]})]})}GI.createRoot(document.getElementById("root")).render(N.jsx(Xt.StrictMode,{children:N.jsx(JM,{})}));export{r1 as A,Xt as R,Ap as a,e4 as b,o4 as c,n4 as d,r4 as e,bx as f,N as j,Ft as m,s4 as o,te as r,i4 as s,t4 as u};
