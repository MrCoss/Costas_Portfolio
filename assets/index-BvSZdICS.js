(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Tb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},sc={},ag={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l1;function eA(){if(l1)return Ae;l1=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,P={};function S(B,Y,ue){this.props=B,this.context=Y,this.refs=P,this.updater=ue||T}S.prototype.isReactComponent={},S.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},S.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function A(){}A.prototype=S.prototype;function L(B,Y,ue){this.props=B,this.context=Y,this.refs=P,this.updater=ue||T}var z=L.prototype=new A;z.constructor=L,b(z,S.prototype),z.isPureReactComponent=!0;var H=Array.isArray,Q=Object.prototype.hasOwnProperty,Z={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(B,Y,ue){var Ce,Re={},Le=null,He=null;if(Y!=null)for(Ce in Y.ref!==void 0&&(He=Y.ref),Y.key!==void 0&&(Le=""+Y.key),Y)Q.call(Y,Ce)&&!D.hasOwnProperty(Ce)&&(Re[Ce]=Y[Ce]);var We=arguments.length-2;if(We===1)Re.children=ue;else if(1<We){for(var Xe=Array(We),jt=0;jt<We;jt++)Xe[jt]=arguments[jt+2];Re.children=Xe}if(B&&B.defaultProps)for(Ce in We=B.defaultProps,We)Re[Ce]===void 0&&(Re[Ce]=We[Ce]);return{$$typeof:t,type:B,key:Le,ref:He,props:Re,_owner:Z.current}}function k(B,Y){return{$$typeof:t,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function N(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function j(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ue){return Y[ue]})}var $=/\/+/g;function O(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?j(""+B.key):Y.toString(36)}function ze(B,Y,ue,Ce,Re){var Le=typeof B;(Le==="undefined"||Le==="boolean")&&(B=null);var He=!1;if(B===null)He=!0;else switch(Le){case"string":case"number":He=!0;break;case"object":switch(B.$$typeof){case t:case e:He=!0}}if(He)return He=B,Re=Re(He),B=Ce===""?"."+O(He,0):Ce,H(Re)?(ue="",B!=null&&(ue=B.replace($,"$&/")+"/"),ze(Re,Y,ue,"",function(jt){return jt})):Re!=null&&(N(Re)&&(Re=k(Re,ue+(!Re.key||He&&He.key===Re.key?"":(""+Re.key).replace($,"$&/")+"/")+B)),Y.push(Re)),1;if(He=0,Ce=Ce===""?".":Ce+":",H(B))for(var We=0;We<B.length;We++){Le=B[We];var Xe=Ce+O(Le,We);He+=ze(Le,Y,ue,Xe,Re)}else if(Xe=_(B),typeof Xe=="function")for(B=Xe.call(B),We=0;!(Le=B.next()).done;)Le=Le.value,Xe=Ce+O(Le,We++),He+=ze(Le,Y,ue,Xe,Re);else if(Le==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return He}function _t(B,Y,ue){if(B==null)return B;var Ce=[],Re=0;return ze(B,Ce,"","",function(Le){return Y.call(ue,Le,Re++)}),Ce}function ft(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(ue){(B._status===0||B._status===-1)&&(B._status=1,B._result=ue)},function(ue){(B._status===0||B._status===-1)&&(B._status=2,B._result=ue)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var Se={current:null},se={transition:null},ge={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:se,ReactCurrentOwner:Z};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:_t,forEach:function(B,Y,ue){_t(B,function(){Y.apply(this,arguments)},ue)},count:function(B){var Y=0;return _t(B,function(){Y++}),Y},toArray:function(B){return _t(B,function(Y){return Y})||[]},only:function(B){if(!N(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ae.Component=S,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=L,Ae.StrictMode=i,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=ne,Ae.cloneElement=function(B,Y,ue){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ce=b({},B.props),Re=B.key,Le=B.ref,He=B._owner;if(Y!=null){if(Y.ref!==void 0&&(Le=Y.ref,He=Z.current),Y.key!==void 0&&(Re=""+Y.key),B.type&&B.type.defaultProps)var We=B.type.defaultProps;for(Xe in Y)Q.call(Y,Xe)&&!D.hasOwnProperty(Xe)&&(Ce[Xe]=Y[Xe]===void 0&&We!==void 0?We[Xe]:Y[Xe])}var Xe=arguments.length-2;if(Xe===1)Ce.children=ue;else if(1<Xe){We=Array(Xe);for(var jt=0;jt<Xe;jt++)We[jt]=arguments[jt+2];Ce.children=We}return{$$typeof:t,type:B.type,key:Re,ref:Le,props:Ce,_owner:He}},Ae.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:o,_context:B},B.Consumer=B},Ae.createElement=C,Ae.createFactory=function(B){var Y=C.bind(null,B);return Y.type=B,Y},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(B){return{$$typeof:u,render:B}},Ae.isValidElement=N,Ae.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:ft}},Ae.memo=function(B,Y){return{$$typeof:f,type:B,compare:Y===void 0?null:Y}},Ae.startTransition=function(B){var Y=se.transition;se.transition={};try{B()}finally{se.transition=Y}},Ae.unstable_act=ne,Ae.useCallback=function(B,Y){return Se.current.useCallback(B,Y)},Ae.useContext=function(B){return Se.current.useContext(B)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(B){return Se.current.useDeferredValue(B)},Ae.useEffect=function(B,Y){return Se.current.useEffect(B,Y)},Ae.useId=function(){return Se.current.useId()},Ae.useImperativeHandle=function(B,Y,ue){return Se.current.useImperativeHandle(B,Y,ue)},Ae.useInsertionEffect=function(B,Y){return Se.current.useInsertionEffect(B,Y)},Ae.useLayoutEffect=function(B,Y){return Se.current.useLayoutEffect(B,Y)},Ae.useMemo=function(B,Y){return Se.current.useMemo(B,Y)},Ae.useReducer=function(B,Y,ue){return Se.current.useReducer(B,Y,ue)},Ae.useRef=function(B){return Se.current.useRef(B)},Ae.useState=function(B){return Se.current.useState(B)},Ae.useSyncExternalStore=function(B,Y,ue){return Se.current.useSyncExternalStore(B,Y,ue)},Ae.useTransition=function(){return Se.current.useTransition()},Ae.version="18.3.1",Ae}var u1;function lv(){return u1||(u1=1,ag.exports=eA()),ag.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c1;function tA(){if(c1)return sc;c1=1;var t=lv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,y={},_=null,T=null;f!==void 0&&(_=""+f),h.key!==void 0&&(_=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)i.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:_,ref:T,props:y,_owner:r.current}}return sc.Fragment=n,sc.jsx=l,sc.jsxs=l,sc}var h1;function nA(){return h1||(h1=1,og.exports=tA()),og.exports}var R=nA(),V=lv();const et=Tb(V);var Dd={},lg={exports:{}},On={},ug={exports:{}},cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d1;function iA(){return d1||(d1=1,function(t){function e(se,ge){var ne=se.length;se.push(ge);e:for(;0<ne;){var B=ne-1>>>1,Y=se[B];if(0<r(Y,ge))se[B]=ge,se[ne]=Y,ne=B;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ge=se[0],ne=se.pop();if(ne!==ge){se[0]=ne;e:for(var B=0,Y=se.length,ue=Y>>>1;B<ue;){var Ce=2*(B+1)-1,Re=se[Ce],Le=Ce+1,He=se[Le];if(0>r(Re,ne))Le<Y&&0>r(He,Re)?(se[B]=He,se[Le]=ne,B=Le):(se[B]=Re,se[Ce]=ne,B=Ce);else if(Le<Y&&0>r(He,ne))se[B]=He,se[Le]=ne,B=Le;else break e}}return ge}function r(se,ge){var ne=se.sortIndex-ge.sortIndex;return ne!==0?ne:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,y=null,_=3,T=!1,b=!1,P=!1,S=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(se){for(var ge=n(f);ge!==null;){if(ge.callback===null)i(f);else if(ge.startTime<=se)i(f),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(f)}}function H(se){if(P=!1,z(se),!b)if(n(h)!==null)b=!0,ft(Q);else{var ge=n(f);ge!==null&&Se(H,ge.startTime-se)}}function Q(se,ge){b=!1,P&&(P=!1,A(C),C=-1),T=!0;var ne=_;try{for(z(ge),y=n(h);y!==null&&(!(y.expirationTime>ge)||se&&!j());){var B=y.callback;if(typeof B=="function"){y.callback=null,_=y.priorityLevel;var Y=B(y.expirationTime<=ge);ge=t.unstable_now(),typeof Y=="function"?y.callback=Y:y===n(h)&&i(h),z(ge)}else i(h);y=n(h)}if(y!==null)var ue=!0;else{var Ce=n(f);Ce!==null&&Se(H,Ce.startTime-ge),ue=!1}return ue}finally{y=null,_=ne,T=!1}}var Z=!1,D=null,C=-1,k=5,N=-1;function j(){return!(t.unstable_now()-N<k)}function $(){if(D!==null){var se=t.unstable_now();N=se;var ge=!0;try{ge=D(!0,se)}finally{ge?O():(Z=!1,D=null)}}else Z=!1}var O;if(typeof L=="function")O=function(){L($)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,_t=ze.port2;ze.port1.onmessage=$,O=function(){_t.postMessage(null)}}else O=function(){S($,0)};function ft(se){D=se,Z||(Z=!0,O())}function Se(se,ge){C=S(function(){se(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){b||T||(b=!0,ft(Q))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(se){switch(_){case 1:case 2:case 3:var ge=3;break;default:ge=_}var ne=_;_=ge;try{return se()}finally{_=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ne=_;_=se;try{return ge()}finally{_=ne}},t.unstable_scheduleCallback=function(se,ge,ne){var B=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?B+ne:B):ne=B,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ne+Y,se={id:m++,callback:ge,priorityLevel:se,startTime:ne,expirationTime:Y,sortIndex:-1},ne>B?(se.sortIndex=ne,e(f,se),n(h)===null&&se===n(f)&&(P?(A(C),C=-1):P=!0,Se(H,ne-B))):(se.sortIndex=Y,e(h,se),b||T||(b=!0,ft(Q))),se},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(se){var ge=_;return function(){var ne=_;_=ge;try{return se.apply(this,arguments)}finally{_=ne}}}}(cg)),cg}var f1;function rA(){return f1||(f1=1,ug.exports=iA()),ug.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p1;function sA(){if(p1)return On;p1=1;var t=lv(),e=rA();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function _(s){return h.call(y,s)?!0:h.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function b(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(s,a,c,p,g,w,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=w,this.removeEmptyString=x}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){S[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];S[a]=new P(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){S[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){S[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){S[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){S[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){S[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){S[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){S[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function L(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(A,L);S[a]=new P(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(A,L);S[a]=new P(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(A,L);S[a]=new P(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){S[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),S.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){S[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,a,c,p){var g=S.hasOwnProperty(a)?S[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(b(a,c,g,p)&&(c=null),p||g===null?_(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,B;function Y(s){if(B===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var ue=!1;function Ce(s,a){if(!s||ue)return"";ue=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var p=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){p=K}s.call(a.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),w=p.stack.split(`
`),x=g.length-1,M=w.length-1;1<=x&&0<=M&&g[x]!==w[M];)M--;for(;1<=x&&0<=M;x--,M--)if(g[x]!==w[M]){if(x!==1||M!==1)do if(x--,M--,0>M||g[x]!==w[M]){var F=`
`+g[x].replace(" at new "," at ");return s.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",s.displayName)),F}while(1<=x&&0<=M);break}}}finally{ue=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?Y(s):""}function Re(s){switch(s.tag){case 5:return Y(s.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return s=Ce(s.type,!1),s;case 11:return s=Ce(s.type.render,!1),s;case 1:return s=Ce(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case Z:return"Portal";case k:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case ze:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case j:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case _t:return a=s.displayName||null,a!==null?a:Le(s.type)||"Memo";case ft:a=s._payload,s=s._init;try{return Le(s(a))}catch{}}return null}function He(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function We(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function jt(s){var a=Xe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,w=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){p=""+x,w.call(this,x)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(x){p=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Tr(s){s._valueTracker||(s._valueTracker=jt(s))}function Ta(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Xe(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function ns(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ao(s,a){var c=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function xa(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=We(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function hu(s,a){a=a.checked,a!=null&&z(s,"checked",a,!1)}function du(s,a){hu(s,a);var c=We(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ba(s,a.type,c):a.hasOwnProperty("defaultValue")&&ba(s,a.type,We(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function yh(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ba(s,a,c){(a!=="number"||ns(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var xr=Array.isArray;function br(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+We(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function fu(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Sa(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(xr(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:We(c)}}function Ia(s,a){var c=We(a.value),p=We(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function pu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function At(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?At(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Sr,mu=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Sr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function is(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var lo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uo=["Webkit","ms","Moz","O"];Object.keys(lo).forEach(function(s){uo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),lo[a]=lo[s]})});function gu(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||lo.hasOwnProperty(s)&&lo[s]?(""+a).trim():a+"px"}function yu(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=gu(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var vu=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _u(s,a){if(a){if(vu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function wu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var co=null;function Ca(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pa=null,Jn=null,$i=null;function ka(s){if(s=Hu(s)){if(typeof Pa!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Gh(a),Pa(s.stateNode,s.type,a))}}function Hi(s){Jn?$i?$i.push(s):$i=[s]:Jn=s}function Eu(){if(Jn){var s=Jn,a=$i;if($i=Jn=null,ka(s),a)for(s=0;s<a.length;s++)ka(a[s])}}function ho(s,a){return s(a)}function Tu(){}var Ir=!1;function xu(s,a,c){if(Ir)return s(a,c);Ir=!0;try{return ho(s,a,c)}finally{Ir=!1,(Jn!==null||$i!==null)&&(Tu(),Eu())}}function wt(s,a){var c=s.stateNode;if(c===null)return null;var p=Gh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Ra=!1;if(u)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Ra=!1}function fo(s,a,c,p,g,w,x,M,F){var K=Array.prototype.slice.call(arguments,3);try{a.apply(c,K)}catch(ie){this.onError(ie)}}var po=!1,Aa=null,vi=!1,bu=null,Op={onError:function(s){po=!0,Aa=s}};function Da(s,a,c,p,g,w,x,M,F){po=!1,Aa=null,fo.apply(Op,arguments)}function vh(s,a,c,p,g,w,x,M,F){if(Da.apply(this,arguments),po){if(po){var K=Aa;po=!1,Aa=null}else throw Error(n(198));vi||(vi=!0,bu=K)}}function _i(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function mo(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function wi(s){if(_i(s)!==s)throw Error(n(188))}function _h(s){var a=s.alternate;if(!a){if(a=_i(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var w=g.alternate;if(w===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===c)return wi(g),s;if(w===p)return wi(g),a;w=w.sibling}throw Error(n(188))}if(c.return!==p.return)c=g,p=w;else{for(var x=!1,M=g.child;M;){if(M===c){x=!0,c=g,p=w;break}if(M===p){x=!0,p=g,c=w;break}M=M.sibling}if(!x){for(M=w.child;M;){if(M===c){x=!0,c=w,p=g;break}if(M===p){x=!0,p=w,c=g;break}M=M.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Su(s){return s=_h(s),s!==null?Ma(s):null}function Ma(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ma(s);if(a!==null)return a;s=s.sibling}return null}var Oa=e.unstable_scheduleCallback,Iu=e.unstable_cancelCallback,wh=e.unstable_shouldYield,Np=e.unstable_requestPaint,Ye=e.unstable_now,Eh=e.unstable_getCurrentPriorityLevel,go=e.unstable_ImmediatePriority,rs=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Cu=e.unstable_LowPriority,Th=e.unstable_IdlePriority,yo=null,Ln=null;function xh(s){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(yo,s,void 0,(s.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:Sh,Pu=Math.log,bh=Math.LN2;function Sh(s){return s>>>=0,s===0?32:31-(Pu(s)/bh|0)|0}var Na=64,Va=4194304;function ss(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function vo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,w=s.pingedLanes,x=c&268435455;if(x!==0){var M=x&~g;M!==0?p=ss(M):(w&=x,w!==0&&(p=ss(w)))}else x=c&~g,x!==0?p=ss(x):w!==0&&(p=ss(w));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,w=a&-a,g>=w||g===16&&(w&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-wn(a),g=1<<c,p|=s[c],a&=~g;return p}function Vp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cr(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,w=s.pendingLanes;0<w;){var x=31-wn(w),M=1<<x,F=g[x];F===-1?((M&c)===0||(M&p)!==0)&&(g[x]=Vp(M,a)):F<=a&&(s.expiredLanes|=M),w&=~M}}function Fn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function _o(){var s=Na;return Na<<=1,(Na&4194240)===0&&(Na=64),s}function os(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function as(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wn(a),s[a]=c}function Qe(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-wn(c),w=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~w}}function ls(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-wn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var Ve=0;function us(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ih,La,Ch,Ph,kh,ku=!1,Wi=[],Kt=null,Ei=null,Ti=null,cs=new Map,ei=new Map,qi=[],Lp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rh(s,a){switch(s){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":cs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(a.pointerId)}}function Cn(s,a,c,p,g,w){return s===null||s.nativeEvent!==w?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[g]},a!==null&&(a=Hu(a),a!==null&&La(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Fp(s,a,c,p,g){switch(a){case"focusin":return Kt=Cn(Kt,s,a,c,p,g),!0;case"dragenter":return Ei=Cn(Ei,s,a,c,p,g),!0;case"mouseover":return Ti=Cn(Ti,s,a,c,p,g),!0;case"pointerover":var w=g.pointerId;return cs.set(w,Cn(cs.get(w)||null,s,a,c,p,g)),!0;case"gotpointercapture":return w=g.pointerId,ei.set(w,Cn(ei.get(w)||null,s,a,c,p,g)),!0}return!1}function Ah(s){var a=bo(s.target);if(a!==null){var c=_i(a);if(c!==null){if(a=c.tag,a===13){if(a=mo(c),a!==null){s.blockedOn=a,kh(s.priority,function(){Ch(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Pr(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Fa(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);co=p,c.target.dispatchEvent(p),co=null}else return a=Hu(c),a!==null&&La(a),s.blockedOn=c,!1;a.shift()}return!0}function wo(s,a,c){Pr(s)&&c.delete(a)}function Dh(){ku=!1,Kt!==null&&Pr(Kt)&&(Kt=null),Ei!==null&&Pr(Ei)&&(Ei=null),Ti!==null&&Pr(Ti)&&(Ti=null),cs.forEach(wo),ei.forEach(wo)}function xi(s,a){s.blockedOn===a&&(s.blockedOn=null,ku||(ku=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dh)))}function bi(s){function a(g){return xi(g,s)}if(0<Wi.length){xi(Wi[0],s);for(var c=1;c<Wi.length;c++){var p=Wi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Kt!==null&&xi(Kt,s),Ei!==null&&xi(Ei,s),Ti!==null&&xi(Ti,s),cs.forEach(a),ei.forEach(a),c=0;c<qi.length;c++)p=qi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<qi.length&&(c=qi[0],c.blockedOn===null);)Ah(c),c.blockedOn===null&&qi.shift()}var kr=H.ReactCurrentBatchConfig,hs=!0;function ot(s,a,c,p){var g=Ve,w=kr.transition;kr.transition=null;try{Ve=1,Ru(s,a,c,p)}finally{Ve=g,kr.transition=w}}function jp(s,a,c,p){var g=Ve,w=kr.transition;kr.transition=null;try{Ve=4,Ru(s,a,c,p)}finally{Ve=g,kr.transition=w}}function Ru(s,a,c,p){if(hs){var g=Fa(s,a,c,p);if(g===null)Xp(s,a,p,Eo,c),Rh(s,p);else if(Fp(g,s,a,c,p))p.stopPropagation();else if(Rh(s,p),a&4&&-1<Lp.indexOf(s)){for(;g!==null;){var w=Hu(g);if(w!==null&&Ih(w),w=Fa(s,a,c,p),w===null&&Xp(s,a,p,Eo,c),w===g)break;g=w}g!==null&&p.stopPropagation()}else Xp(s,a,p,null,c)}}var Eo=null;function Fa(s,a,c,p){if(Eo=null,s=Ca(p),s=bo(s),s!==null)if(a=_i(s),a===null)s=null;else if(c=a.tag,c===13){if(s=mo(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Eo=s,null}function Au(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Eh()){case go:return 1;case rs:return 4;case Zn:case Cu:return 16;case Th:return 536870912;default:return 16}default:return 16}}var jn=null,ja=null,Pn=null;function Du(){if(Pn)return Pn;var s,a=ja,c=a.length,p,g="value"in jn?jn.value:jn.textContent,w=g.length;for(s=0;s<c&&a[s]===g[s];s++);var x=c-s;for(p=1;p<=x&&a[c-p]===g[w-p];p++);return Pn=g.slice(s,1<p?1-p:void 0)}function Ua(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Gi(){return!0}function Mu(){return!1}function Qt(s){function a(c,p,g,w,x){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=x,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(w):w[M]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gi:Mu,this.isPropagationStopped=Mu,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),a}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=Qt(Si),Ki=ne({},Si,{view:0,detail:0}),Up=Qt(Ki),Ba,Rr,ds,To=ne({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ds&&(ds&&s.type==="mousemove"?(Ba=s.screenX-ds.screenX,Rr=s.screenY-ds.screenY):Rr=Ba=0,ds=s),Ba)},movementY:function(s){return"movementY"in s?s.movementY:Rr}}),$a=Qt(To),Ou=ne({},To,{dataTransfer:0}),Mh=Qt(Ou),Ha=ne({},Ki,{relatedTarget:0}),Wa=Qt(Ha),Oh=ne({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=Qt(Oh),Nh=ne({},Si,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Vh=Qt(Nh),Lh=ne({},Si,{data:0}),Nu=Qt(Lh),qa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Fh[s])?!!a[s]:!1}function Qi(){return jh}var d=ne({},Ki,{key:function(s){if(s.key){var a=qa[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ua(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?En[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(s){return s.type==="keypress"?Ua(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ua(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Qt(d),E=ne({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Qt(E),W=ne({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),X=Qt(W),ae=ne({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=Qt(ae),Mt=ne({},To,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Qt(Mt),Ut=[9,13,27,32],St=u&&"CompositionEvent"in window,ti=null;u&&"documentMode"in document&&(ti=document.documentMode);var Un=u&&"TextEvent"in window&&!ti,xo=u&&(!St||ti&&8<ti&&11>=ti),Ga=" ",n0=!1;function i0(s,a){switch(s){case"keyup":return Ut.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ka=!1;function Yk(s,a){switch(s){case"compositionend":return r0(a);case"keypress":return a.which!==32?null:(n0=!0,Ga);case"textInput":return s=a.data,s===Ga&&n0?null:s;default:return null}}function Jk(s,a){if(Ka)return s==="compositionend"||!St&&i0(s,a)?(s=Du(),Pn=ja=jn=null,Ka=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return xo&&a.locale!=="ko"?null:a.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Zk[s.type]:a==="textarea"}function o0(s,a,c,p){Hi(p),a=Hh(a,"onChange"),0<a.length&&(c=new za("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Vu=null,Lu=null;function eR(s){b0(s,0)}function Uh(s){var a=Za(s);if(Ta(a))return s}function tR(s,a){if(s==="change")return a}var a0=!1;if(u){var zp;if(u){var Bp="oninput"in document;if(!Bp){var l0=document.createElement("div");l0.setAttribute("oninput","return;"),Bp=typeof l0.oninput=="function"}zp=Bp}else zp=!1;a0=zp&&(!document.documentMode||9<document.documentMode)}function u0(){Vu&&(Vu.detachEvent("onpropertychange",c0),Lu=Vu=null)}function c0(s){if(s.propertyName==="value"&&Uh(Lu)){var a=[];o0(a,Lu,s,Ca(s)),xu(eR,a)}}function nR(s,a,c){s==="focusin"?(u0(),Vu=a,Lu=c,Vu.attachEvent("onpropertychange",c0)):s==="focusout"&&u0()}function iR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Uh(Lu)}function rR(s,a){if(s==="click")return Uh(a)}function sR(s,a){if(s==="input"||s==="change")return Uh(a)}function oR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ii=typeof Object.is=="function"?Object.is:oR;function Fu(s,a){if(Ii(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!Ii(s[g],a[g]))return!1}return!0}function h0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function d0(s,a){var c=h0(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=h0(c)}}function f0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?f0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function p0(){for(var s=window,a=ns();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=ns(s.document)}return a}function $p(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function aR(s){var a=p0(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&f0(c.ownerDocument.documentElement,c)){if(p!==null&&$p(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,w=Math.min(p.start,g);p=p.end===void 0?w:Math.min(p.end,g),!s.extend&&w>p&&(g=p,p=w,w=g),g=d0(c,w);var x=d0(c,p);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),w>p?(s.addRange(a),s.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var lR=u&&"documentMode"in document&&11>=document.documentMode,Qa=null,Hp=null,ju=null,Wp=!1;function m0(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Wp||Qa==null||Qa!==ns(p)||(p=Qa,"selectionStart"in p&&$p(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ju&&Fu(ju,p)||(ju=p,p=Hh(Hp,"onSelect"),0<p.length&&(a=new za("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=Qa)))}function zh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Xa={animationend:zh("Animation","AnimationEnd"),animationiteration:zh("Animation","AnimationIteration"),animationstart:zh("Animation","AnimationStart"),transitionend:zh("Transition","TransitionEnd")},qp={},g0={};u&&(g0=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Bh(s){if(qp[s])return qp[s];if(!Xa[s])return s;var a=Xa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in g0)return qp[s]=a[c];return s}var y0=Bh("animationend"),v0=Bh("animationiteration"),_0=Bh("animationstart"),w0=Bh("transitionend"),E0=new Map,T0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(s,a){E0.set(s,a),o(a,[s])}for(var Gp=0;Gp<T0.length;Gp++){var Kp=T0[Gp],uR=Kp.toLowerCase(),cR=Kp[0].toUpperCase()+Kp.slice(1);fs(uR,"on"+cR)}fs(y0,"onAnimationEnd"),fs(v0,"onAnimationIteration"),fs(_0,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(w0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function x0(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,vh(p,a,void 0,s),s.currentTarget=null}function b0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var x=p.length-1;0<=x;x--){var M=p[x],F=M.instance,K=M.currentTarget;if(M=M.listener,F!==w&&g.isPropagationStopped())break e;x0(g,M,K),w=F}else for(x=0;x<p.length;x++){if(M=p[x],F=M.instance,K=M.currentTarget,M=M.listener,F!==w&&g.isPropagationStopped())break e;x0(g,M,K),w=F}}}if(vi)throw s=bu,vi=!1,bu=null,s}function tt(s,a){var c=a[nm];c===void 0&&(c=a[nm]=new Set);var p=s+"__bubble";c.has(p)||(S0(a,s,2,!1),c.add(p))}function Qp(s,a,c){var p=0;a&&(p|=4),S0(c,s,p,a)}var $h="_reactListening"+Math.random().toString(36).slice(2);function zu(s){if(!s[$h]){s[$h]=!0,i.forEach(function(c){c!=="selectionchange"&&(hR.has(c)||Qp(c,!1,s),Qp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$h]||(a[$h]=!0,Qp("selectionchange",!1,a))}}function S0(s,a,c,p){switch(Au(a)){case 1:var g=ot;break;case 4:g=jp;break;default:g=Ru}c=g.bind(null,a,c,s),g=void 0,!Ra||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Xp(s,a,c,p,g){var w=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var M=p.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(x===4)for(x=p.return;x!==null;){var F=x.tag;if((F===3||F===4)&&(F=x.stateNode.containerInfo,F===g||F.nodeType===8&&F.parentNode===g))return;x=x.return}for(;M!==null;){if(x=bo(M),x===null)return;if(F=x.tag,F===5||F===6){p=w=x;continue e}M=M.parentNode}}p=p.return}xu(function(){var K=w,ie=Ca(c),re=[];e:{var te=E0.get(s);if(te!==void 0){var ce=za,fe=s;switch(s){case"keypress":if(Ua(c)===0)break e;case"keydown":case"keyup":ce=v;break;case"focusin":fe="focus",ce=Wa;break;case"focusout":fe="blur",ce=Wa;break;case"beforeblur":case"afterblur":ce=Wa;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=X;break;case y0:case v0:case _0:ce=Ar;break;case w0:ce=Ge;break;case"scroll":ce=Up;break;case"wheel":ce=Fe;break;case"copy":case"cut":case"paste":ce=Vh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=I}var pe=(a&4)!==0,Et=!pe&&s==="scroll",q=pe?te!==null?te+"Capture":null:te;pe=[];for(var U=K,G;U!==null;){G=U;var oe=G.stateNode;if(G.tag===5&&oe!==null&&(G=oe,q!==null&&(oe=wt(U,q),oe!=null&&pe.push(Bu(U,oe,G)))),Et)break;U=U.return}0<pe.length&&(te=new ce(te,fe,null,c,ie),re.push({event:te,listeners:pe}))}}if((a&7)===0){e:{if(te=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",te&&c!==co&&(fe=c.relatedTarget||c.fromElement)&&(bo(fe)||fe[Dr]))break e;if((ce||te)&&(te=ie.window===ie?ie:(te=ie.ownerDocument)?te.defaultView||te.parentWindow:window,ce?(fe=c.relatedTarget||c.toElement,ce=K,fe=fe?bo(fe):null,fe!==null&&(Et=_i(fe),fe!==Et||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=K),ce!==fe)){if(pe=$a,oe="onMouseLeave",q="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(pe=I,oe="onPointerLeave",q="onPointerEnter",U="pointer"),Et=ce==null?te:Za(ce),G=fe==null?te:Za(fe),te=new pe(oe,U+"leave",ce,c,ie),te.target=Et,te.relatedTarget=G,oe=null,bo(ie)===K&&(pe=new pe(q,U+"enter",fe,c,ie),pe.target=G,pe.relatedTarget=Et,oe=pe),Et=oe,ce&&fe)t:{for(pe=ce,q=fe,U=0,G=pe;G;G=Ya(G))U++;for(G=0,oe=q;oe;oe=Ya(oe))G++;for(;0<U-G;)pe=Ya(pe),U--;for(;0<G-U;)q=Ya(q),G--;for(;U--;){if(pe===q||q!==null&&pe===q.alternate)break t;pe=Ya(pe),q=Ya(q)}pe=null}else pe=null;ce!==null&&I0(re,te,ce,pe,!1),fe!==null&&Et!==null&&I0(re,Et,fe,pe,!0)}}e:{if(te=K?Za(K):window,ce=te.nodeName&&te.nodeName.toLowerCase(),ce==="select"||ce==="input"&&te.type==="file")var ye=tR;else if(s0(te))if(a0)ye=sR;else{ye=iR;var we=nR}else(ce=te.nodeName)&&ce.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=rR);if(ye&&(ye=ye(s,K))){o0(re,ye,c,ie);break e}we&&we(s,te,K),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&ba(te,"number",te.value)}switch(we=K?Za(K):window,s){case"focusin":(s0(we)||we.contentEditable==="true")&&(Qa=we,Hp=K,ju=null);break;case"focusout":ju=Hp=Qa=null;break;case"mousedown":Wp=!0;break;case"contextmenu":case"mouseup":case"dragend":Wp=!1,m0(re,c,ie);break;case"selectionchange":if(lR)break;case"keydown":case"keyup":m0(re,c,ie)}var Ee;if(St)e:{switch(s){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ka?i0(s,c)&&(Ie="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ie="onCompositionStart");Ie&&(xo&&c.locale!=="ko"&&(Ka||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ka&&(Ee=Du()):(jn=ie,ja="value"in jn?jn.value:jn.textContent,Ka=!0)),we=Hh(K,Ie),0<we.length&&(Ie=new Nu(Ie,s,null,c,ie),re.push({event:Ie,listeners:we}),Ee?Ie.data=Ee:(Ee=r0(c),Ee!==null&&(Ie.data=Ee)))),(Ee=Un?Yk(s,c):Jk(s,c))&&(K=Hh(K,"onBeforeInput"),0<K.length&&(ie=new Nu("onBeforeInput","beforeinput",null,c,ie),re.push({event:ie,listeners:K}),ie.data=Ee))}b0(re,a)})}function Bu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Hh(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=wt(s,c),w!=null&&p.unshift(Bu(s,w,g)),w=wt(s,a),w!=null&&p.push(Bu(s,w,g))),s=s.return}return p}function Ya(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function I0(s,a,c,p,g){for(var w=a._reactName,x=[];c!==null&&c!==p;){var M=c,F=M.alternate,K=M.stateNode;if(F!==null&&F===p)break;M.tag===5&&K!==null&&(M=K,g?(F=wt(c,w),F!=null&&x.unshift(Bu(c,F,M))):g||(F=wt(c,w),F!=null&&x.push(Bu(c,F,M)))),c=c.return}x.length!==0&&s.push({event:a,listeners:x})}var dR=/\r\n?/g,fR=/\u0000|\uFFFD/g;function C0(s){return(typeof s=="string"?s:""+s).replace(dR,`
`).replace(fR,"")}function Wh(s,a,c){if(a=C0(a),C0(s)!==a&&c)throw Error(n(425))}function qh(){}var Yp=null,Jp=null;function Zp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var em=typeof setTimeout=="function"?setTimeout:void 0,pR=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,mR=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(s){return P0.resolve(null).then(s).catch(gR)}:em;function gR(s){setTimeout(function(){throw s})}function tm(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),bi(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);bi(a)}function ps(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function k0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ja=Math.random().toString(36).slice(2),Xi="__reactFiber$"+Ja,$u="__reactProps$"+Ja,Dr="__reactContainer$"+Ja,nm="__reactEvents$"+Ja,yR="__reactListeners$"+Ja,vR="__reactHandles$"+Ja;function bo(s){var a=s[Xi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Dr]||c[Xi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=k0(s);s!==null;){if(c=s[Xi])return c;s=k0(s)}return a}s=c,c=s.parentNode}return null}function Hu(s){return s=s[Xi]||s[Dr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Za(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Gh(s){return s[$u]||null}var im=[],el=-1;function ms(s){return{current:s}}function nt(s){0>el||(s.current=im[el],im[el]=null,el--)}function Je(s,a){el++,im[el]=s.current,s.current=a}var gs={},rn=ms(gs),kn=ms(!1),So=gs;function tl(s,a){var c=s.type.contextTypes;if(!c)return gs;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in c)g[w]=a[w];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Rn(s){return s=s.childContextTypes,s!=null}function Kh(){nt(kn),nt(rn)}function R0(s,a,c){if(rn.current!==gs)throw Error(n(168));Je(rn,a),Je(kn,c)}function A0(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(n(108,He(s)||"Unknown",g));return ne({},c,p)}function Qh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||gs,So=rn.current,Je(rn,s),Je(kn,kn.current),!0}function D0(s,a,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=A0(s,a,So),p.__reactInternalMemoizedMergedChildContext=s,nt(kn),nt(rn),Je(rn,s)):nt(kn),Je(kn,c)}var Mr=null,Xh=!1,rm=!1;function M0(s){Mr===null?Mr=[s]:Mr.push(s)}function _R(s){Xh=!0,M0(s)}function ys(){if(!rm&&Mr!==null){rm=!0;var s=0,a=Ve;try{var c=Mr;for(Ve=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Mr=null,Xh=!1}catch(g){throw Mr!==null&&(Mr=Mr.slice(s+1)),Oa(go,ys),g}finally{Ve=a,rm=!1}}return null}var nl=[],il=0,Yh=null,Jh=0,ni=[],ii=0,Io=null,Or=1,Nr="";function Co(s,a){nl[il++]=Jh,nl[il++]=Yh,Yh=s,Jh=a}function O0(s,a,c){ni[ii++]=Or,ni[ii++]=Nr,ni[ii++]=Io,Io=s;var p=Or;s=Nr;var g=32-wn(p)-1;p&=~(1<<g),c+=1;var w=32-wn(a)+g;if(30<w){var x=g-g%5;w=(p&(1<<x)-1).toString(32),p>>=x,g-=x,Or=1<<32-wn(a)+g|c<<g|p,Nr=w+s}else Or=1<<w|c<<g|p,Nr=s}function sm(s){s.return!==null&&(Co(s,1),O0(s,1,0))}function om(s){for(;s===Yh;)Yh=nl[--il],nl[il]=null,Jh=nl[--il],nl[il]=null;for(;s===Io;)Io=ni[--ii],ni[ii]=null,Nr=ni[--ii],ni[ii]=null,Or=ni[--ii],ni[ii]=null}var zn=null,Bn=null,at=!1,Ci=null;function N0(s,a){var c=ai(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function V0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,zn=s,Bn=ps(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,zn=s,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Io!==null?{id:Or,overflow:Nr}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ai(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,zn=s,Bn=null,!0):!1;default:return!1}}function am(s){return(s.mode&1)!==0&&(s.flags&128)===0}function lm(s){if(at){var a=Bn;if(a){var c=a;if(!V0(s,a)){if(am(s))throw Error(n(418));a=ps(c.nextSibling);var p=zn;a&&V0(s,a)?N0(p,c):(s.flags=s.flags&-4097|2,at=!1,zn=s)}}else{if(am(s))throw Error(n(418));s.flags=s.flags&-4097|2,at=!1,zn=s}}}function L0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function Zh(s){if(s!==zn)return!1;if(!at)return L0(s),at=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Zp(s.type,s.memoizedProps)),a&&(a=Bn)){if(am(s))throw F0(),Error(n(418));for(;a;)N0(s,a),a=ps(a.nextSibling)}if(L0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Bn=ps(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Bn=null}}else Bn=zn?ps(s.stateNode.nextSibling):null;return!0}function F0(){for(var s=Bn;s;)s=ps(s.nextSibling)}function rl(){Bn=zn=null,at=!1}function um(s){Ci===null?Ci=[s]:Ci.push(s)}var wR=H.ReactCurrentBatchConfig;function Wu(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var g=p,w=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===w?a.ref:(a=function(x){var M=g.refs;x===null?delete M[w]:M[w]=x},a._stringRef=w,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function ed(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function j0(s){var a=s._init;return a(s._payload)}function U0(s){function a(q,U){if(s){var G=q.deletions;G===null?(q.deletions=[U],q.flags|=16):G.push(U)}}function c(q,U){if(!s)return null;for(;U!==null;)a(q,U),U=U.sibling;return null}function p(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function g(q,U){return q=Ss(q,U),q.index=0,q.sibling=null,q}function w(q,U,G){return q.index=G,s?(G=q.alternate,G!==null?(G=G.index,G<U?(q.flags|=2,U):G):(q.flags|=2,U)):(q.flags|=1048576,U)}function x(q){return s&&q.alternate===null&&(q.flags|=2),q}function M(q,U,G,oe){return U===null||U.tag!==6?(U=eg(G,q.mode,oe),U.return=q,U):(U=g(U,G),U.return=q,U)}function F(q,U,G,oe){var ye=G.type;return ye===D?ie(q,U,G.props.children,oe,G.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ft&&j0(ye)===U.type)?(oe=g(U,G.props),oe.ref=Wu(q,U,G),oe.return=q,oe):(oe=bd(G.type,G.key,G.props,null,q.mode,oe),oe.ref=Wu(q,U,G),oe.return=q,oe)}function K(q,U,G,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=tg(G,q.mode,oe),U.return=q,U):(U=g(U,G.children||[]),U.return=q,U)}function ie(q,U,G,oe,ye){return U===null||U.tag!==7?(U=No(G,q.mode,oe,ye),U.return=q,U):(U=g(U,G),U.return=q,U)}function re(q,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=eg(""+U,q.mode,G),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return G=bd(U.type,U.key,U.props,null,q.mode,G),G.ref=Wu(q,null,U),G.return=q,G;case Z:return U=tg(U,q.mode,G),U.return=q,U;case ft:var oe=U._init;return re(q,oe(U._payload),G)}if(xr(U)||ge(U))return U=No(U,q.mode,G,null),U.return=q,U;ed(q,U)}return null}function te(q,U,G,oe){var ye=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return ye!==null?null:M(q,U,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return G.key===ye?F(q,U,G,oe):null;case Z:return G.key===ye?K(q,U,G,oe):null;case ft:return ye=G._init,te(q,U,ye(G._payload),oe)}if(xr(G)||ge(G))return ye!==null?null:ie(q,U,G,oe,null);ed(q,G)}return null}function ce(q,U,G,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return q=q.get(G)||null,M(U,q,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Q:return q=q.get(oe.key===null?G:oe.key)||null,F(U,q,oe,ye);case Z:return q=q.get(oe.key===null?G:oe.key)||null,K(U,q,oe,ye);case ft:var we=oe._init;return ce(q,U,G,we(oe._payload),ye)}if(xr(oe)||ge(oe))return q=q.get(G)||null,ie(U,q,oe,ye,null);ed(U,oe)}return null}function fe(q,U,G,oe){for(var ye=null,we=null,Ee=U,Ie=U=0,$t=null;Ee!==null&&Ie<G.length;Ie++){Ee.index>Ie?($t=Ee,Ee=null):$t=Ee.sibling;var Be=te(q,Ee,G[Ie],oe);if(Be===null){Ee===null&&(Ee=$t);break}s&&Ee&&Be.alternate===null&&a(q,Ee),U=w(Be,U,Ie),we===null?ye=Be:we.sibling=Be,we=Be,Ee=$t}if(Ie===G.length)return c(q,Ee),at&&Co(q,Ie),ye;if(Ee===null){for(;Ie<G.length;Ie++)Ee=re(q,G[Ie],oe),Ee!==null&&(U=w(Ee,U,Ie),we===null?ye=Ee:we.sibling=Ee,we=Ee);return at&&Co(q,Ie),ye}for(Ee=p(q,Ee);Ie<G.length;Ie++)$t=ce(Ee,q,Ie,G[Ie],oe),$t!==null&&(s&&$t.alternate!==null&&Ee.delete($t.key===null?Ie:$t.key),U=w($t,U,Ie),we===null?ye=$t:we.sibling=$t,we=$t);return s&&Ee.forEach(function(Is){return a(q,Is)}),at&&Co(q,Ie),ye}function pe(q,U,G,oe){var ye=ge(G);if(typeof ye!="function")throw Error(n(150));if(G=ye.call(G),G==null)throw Error(n(151));for(var we=ye=null,Ee=U,Ie=U=0,$t=null,Be=G.next();Ee!==null&&!Be.done;Ie++,Be=G.next()){Ee.index>Ie?($t=Ee,Ee=null):$t=Ee.sibling;var Is=te(q,Ee,Be.value,oe);if(Is===null){Ee===null&&(Ee=$t);break}s&&Ee&&Is.alternate===null&&a(q,Ee),U=w(Is,U,Ie),we===null?ye=Is:we.sibling=Is,we=Is,Ee=$t}if(Be.done)return c(q,Ee),at&&Co(q,Ie),ye;if(Ee===null){for(;!Be.done;Ie++,Be=G.next())Be=re(q,Be.value,oe),Be!==null&&(U=w(Be,U,Ie),we===null?ye=Be:we.sibling=Be,we=Be);return at&&Co(q,Ie),ye}for(Ee=p(q,Ee);!Be.done;Ie++,Be=G.next())Be=ce(Ee,q,Ie,Be.value,oe),Be!==null&&(s&&Be.alternate!==null&&Ee.delete(Be.key===null?Ie:Be.key),U=w(Be,U,Ie),we===null?ye=Be:we.sibling=Be,we=Be);return s&&Ee.forEach(function(ZR){return a(q,ZR)}),at&&Co(q,Ie),ye}function Et(q,U,G,oe){if(typeof G=="object"&&G!==null&&G.type===D&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:e:{for(var ye=G.key,we=U;we!==null;){if(we.key===ye){if(ye=G.type,ye===D){if(we.tag===7){c(q,we.sibling),U=g(we,G.props.children),U.return=q,q=U;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===ft&&j0(ye)===we.type){c(q,we.sibling),U=g(we,G.props),U.ref=Wu(q,we,G),U.return=q,q=U;break e}c(q,we);break}else a(q,we);we=we.sibling}G.type===D?(U=No(G.props.children,q.mode,oe,G.key),U.return=q,q=U):(oe=bd(G.type,G.key,G.props,null,q.mode,oe),oe.ref=Wu(q,U,G),oe.return=q,q=oe)}return x(q);case Z:e:{for(we=G.key;U!==null;){if(U.key===we)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){c(q,U.sibling),U=g(U,G.children||[]),U.return=q,q=U;break e}else{c(q,U);break}else a(q,U);U=U.sibling}U=tg(G,q.mode,oe),U.return=q,q=U}return x(q);case ft:return we=G._init,Et(q,U,we(G._payload),oe)}if(xr(G))return fe(q,U,G,oe);if(ge(G))return pe(q,U,G,oe);ed(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(c(q,U.sibling),U=g(U,G),U.return=q,q=U):(c(q,U),U=eg(G,q.mode,oe),U.return=q,q=U),x(q)):c(q,U)}return Et}var sl=U0(!0),z0=U0(!1),td=ms(null),nd=null,ol=null,cm=null;function hm(){cm=ol=nd=null}function dm(s){var a=td.current;nt(td),s._currentValue=a}function fm(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function al(s,a){nd=s,cm=ol=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(An=!0),s.firstContext=null)}function ri(s){var a=s._currentValue;if(cm!==s)if(s={context:s,memoizedValue:a,next:null},ol===null){if(nd===null)throw Error(n(308));ol=s,nd.dependencies={lanes:0,firstContext:s}}else ol=ol.next=s;return a}var Po=null;function pm(s){Po===null?Po=[s]:Po.push(s)}function B0(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,pm(a)):(c.next=g.next,g.next=c),a.interleaved=c,Vr(s,p)}function Vr(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var vs=!1;function mm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Lr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function _s(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(Ue&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Vr(s,c)}return g=p.interleaved,g===null?(a.next=a,pm(p)):(a.next=g.next,g.next=a),p.interleaved=a,Vr(s,c)}function id(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,ls(s,c)}}function H0(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?g=w=x:w=w.next=x,c=c.next}while(c!==null);w===null?g=w=a:w=w.next=a}else g=w=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function rd(s,a,c,p){var g=s.updateQueue;vs=!1;var w=g.firstBaseUpdate,x=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var F=M,K=F.next;F.next=null,x===null?w=K:x.next=K,x=F;var ie=s.alternate;ie!==null&&(ie=ie.updateQueue,M=ie.lastBaseUpdate,M!==x&&(M===null?ie.firstBaseUpdate=K:M.next=K,ie.lastBaseUpdate=F))}if(w!==null){var re=g.baseState;x=0,ie=K=F=null,M=w;do{var te=M.lane,ce=M.eventTime;if((p&te)===te){ie!==null&&(ie=ie.next={eventTime:ce,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var fe=s,pe=M;switch(te=a,ce=c,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(ce,re,te);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,te=typeof fe=="function"?fe.call(ce,re,te):fe,te==null)break e;re=ne({},re,te);break e;case 2:vs=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,te=g.effects,te===null?g.effects=[M]:te.push(M))}else ce={eventTime:ce,lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ie===null?(K=ie=ce,F=re):ie=ie.next=ce,x|=te;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;te=M,M=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);if(ie===null&&(F=re),g.baseState=F,g.firstBaseUpdate=K,g.lastBaseUpdate=ie,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else w===null&&(g.shared.lanes=0);Ao|=x,s.lanes=x,s.memoizedState=re}}function W0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(n(191,g));g.call(p)}}}var qu={},Yi=ms(qu),Gu=ms(qu),Ku=ms(qu);function ko(s){if(s===qu)throw Error(n(174));return s}function gm(s,a){switch(Je(Ku,a),Je(Gu,s),Je(Yi,qu),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Dt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Dt(a,s)}nt(Yi),Je(Yi,a)}function ll(){nt(Yi),nt(Gu),nt(Ku)}function q0(s){ko(Ku.current);var a=ko(Yi.current),c=Dt(a,s.type);a!==c&&(Je(Gu,s),Je(Yi,c))}function ym(s){Gu.current===s&&(nt(Yi),nt(Gu))}var lt=ms(0);function sd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var vm=[];function _m(){for(var s=0;s<vm.length;s++)vm[s]._workInProgressVersionPrimary=null;vm.length=0}var od=H.ReactCurrentDispatcher,wm=H.ReactCurrentBatchConfig,Ro=0,ut=null,Ot=null,zt=null,ad=!1,Qu=!1,Xu=0,ER=0;function sn(){throw Error(n(321))}function Em(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Ii(s[c],a[c]))return!1;return!0}function Tm(s,a,c,p,g,w){if(Ro=w,ut=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,od.current=s===null||s.memoizedState===null?SR:IR,s=c(p,g),Qu){w=0;do{if(Qu=!1,Xu=0,25<=w)throw Error(n(301));w+=1,zt=Ot=null,a.updateQueue=null,od.current=CR,s=c(p,g)}while(Qu)}if(od.current=cd,a=Ot!==null&&Ot.next!==null,Ro=0,zt=Ot=ut=null,ad=!1,a)throw Error(n(300));return s}function xm(){var s=Xu!==0;return Xu=0,s}function Ji(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ut.memoizedState=zt=s:zt=zt.next=s,zt}function si(){if(Ot===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Ot.next;var a=zt===null?ut.memoizedState:zt.next;if(a!==null)zt=a,Ot=s;else{if(s===null)throw Error(n(310));Ot=s,s={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},zt===null?ut.memoizedState=zt=s:zt=zt.next=s}return zt}function Yu(s,a){return typeof a=="function"?a(s):a}function bm(s){var a=si(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=Ot,g=p.baseQueue,w=c.pending;if(w!==null){if(g!==null){var x=g.next;g.next=w.next,w.next=x}p.baseQueue=g=w,c.pending=null}if(g!==null){w=g.next,p=p.baseState;var M=x=null,F=null,K=w;do{var ie=K.lane;if((Ro&ie)===ie)F!==null&&(F=F.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var re={lane:ie,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};F===null?(M=F=re,x=p):F=F.next=re,ut.lanes|=ie,Ao|=ie}K=K.next}while(K!==null&&K!==w);F===null?x=p:F.next=M,Ii(p,a.memoizedState)||(An=!0),a.memoizedState=p,a.baseState=x,a.baseQueue=F,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do w=g.lane,ut.lanes|=w,Ao|=w,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Sm(s){var a=si(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,w=a.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do w=s(w,x.action),x=x.next;while(x!==g);Ii(w,a.memoizedState)||(An=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),c.lastRenderedState=w}return[w,p]}function G0(){}function K0(s,a){var c=ut,p=si(),g=a(),w=!Ii(p.memoizedState,g);if(w&&(p.memoizedState=g,An=!0),p=p.queue,Im(Y0.bind(null,c,p,s),[s]),p.getSnapshot!==a||w||zt!==null&&zt.memoizedState.tag&1){if(c.flags|=2048,Ju(9,X0.bind(null,c,p,g,a),void 0,null),Bt===null)throw Error(n(349));(Ro&30)!==0||Q0(c,a,g)}return g}function Q0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function X0(s,a,c,p){a.value=c,a.getSnapshot=p,J0(a)&&Z0(s)}function Y0(s,a,c){return c(function(){J0(a)&&Z0(s)})}function J0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Ii(s,c)}catch{return!0}}function Z0(s){var a=Vr(s,1);a!==null&&Ai(a,s,1,-1)}function ew(s){var a=Ji();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yu,lastRenderedState:s},a.queue=s,s=s.dispatch=bR.bind(null,ut,s),[a.memoizedState,s]}function Ju(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=ut.updateQueue,a===null?(a={lastEffect:null,stores:null},ut.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function tw(){return si().memoizedState}function ld(s,a,c,p){var g=Ji();ut.flags|=s,g.memoizedState=Ju(1|a,c,void 0,p===void 0?null:p)}function ud(s,a,c,p){var g=si();p=p===void 0?null:p;var w=void 0;if(Ot!==null){var x=Ot.memoizedState;if(w=x.destroy,p!==null&&Em(p,x.deps)){g.memoizedState=Ju(a,c,w,p);return}}ut.flags|=s,g.memoizedState=Ju(1|a,c,w,p)}function nw(s,a){return ld(8390656,8,s,a)}function Im(s,a){return ud(2048,8,s,a)}function iw(s,a){return ud(4,2,s,a)}function rw(s,a){return ud(4,4,s,a)}function sw(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function ow(s,a,c){return c=c!=null?c.concat([s]):null,ud(4,4,sw.bind(null,a,s),c)}function Cm(){}function aw(s,a){var c=si();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Em(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function lw(s,a){var c=si();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&Em(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function uw(s,a,c){return(Ro&21)===0?(s.baseState&&(s.baseState=!1,An=!0),s.memoizedState=c):(Ii(c,a)||(c=_o(),ut.lanes|=c,Ao|=c,s.baseState=!0),a)}function TR(s,a){var c=Ve;Ve=c!==0&&4>c?c:4,s(!0);var p=wm.transition;wm.transition={};try{s(!1),a()}finally{Ve=c,wm.transition=p}}function cw(){return si().memoizedState}function xR(s,a,c){var p=xs(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},hw(s))dw(a,c);else if(c=B0(s,a,c,p),c!==null){var g=xn();Ai(c,s,p,g),fw(c,a,p)}}function bR(s,a,c){var p=xs(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(hw(s))dw(a,g);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=a.lastRenderedReducer,w!==null))try{var x=a.lastRenderedState,M=w(x,c);if(g.hasEagerState=!0,g.eagerState=M,Ii(M,x)){var F=a.interleaved;F===null?(g.next=g,pm(a)):(g.next=F.next,F.next=g),a.interleaved=g;return}}catch{}finally{}c=B0(s,a,g,p),c!==null&&(g=xn(),Ai(c,s,p,g),fw(c,a,p))}}function hw(s){var a=s.alternate;return s===ut||a!==null&&a===ut}function dw(s,a){Qu=ad=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function fw(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,ls(s,c)}}var cd={readContext:ri,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},SR={readContext:ri,useCallback:function(s,a){return Ji().memoizedState=[s,a===void 0?null:a],s},useContext:ri,useEffect:nw,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,ld(4194308,4,sw.bind(null,a,s),c)},useLayoutEffect:function(s,a){return ld(4194308,4,s,a)},useInsertionEffect:function(s,a){return ld(4,2,s,a)},useMemo:function(s,a){var c=Ji();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Ji();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=xR.bind(null,ut,s),[p.memoizedState,s]},useRef:function(s){var a=Ji();return s={current:s},a.memoizedState=s},useState:ew,useDebugValue:Cm,useDeferredValue:function(s){return Ji().memoizedState=s},useTransition:function(){var s=ew(!1),a=s[0];return s=TR.bind(null,s[1]),Ji().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=ut,g=Ji();if(at){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Bt===null)throw Error(n(349));(Ro&30)!==0||Q0(p,a,c)}g.memoizedState=c;var w={value:c,getSnapshot:a};return g.queue=w,nw(Y0.bind(null,p,w,s),[s]),p.flags|=2048,Ju(9,X0.bind(null,p,w,c,a),void 0,null),c},useId:function(){var s=Ji(),a=Bt.identifierPrefix;if(at){var c=Nr,p=Or;c=(p&~(1<<32-wn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Xu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=ER++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},IR={readContext:ri,useCallback:aw,useContext:ri,useEffect:Im,useImperativeHandle:ow,useInsertionEffect:iw,useLayoutEffect:rw,useMemo:lw,useReducer:bm,useRef:tw,useState:function(){return bm(Yu)},useDebugValue:Cm,useDeferredValue:function(s){var a=si();return uw(a,Ot.memoizedState,s)},useTransition:function(){var s=bm(Yu)[0],a=si().memoizedState;return[s,a]},useMutableSource:G0,useSyncExternalStore:K0,useId:cw,unstable_isNewReconciler:!1},CR={readContext:ri,useCallback:aw,useContext:ri,useEffect:Im,useImperativeHandle:ow,useInsertionEffect:iw,useLayoutEffect:rw,useMemo:lw,useReducer:Sm,useRef:tw,useState:function(){return Sm(Yu)},useDebugValue:Cm,useDeferredValue:function(s){var a=si();return Ot===null?a.memoizedState=s:uw(a,Ot.memoizedState,s)},useTransition:function(){var s=Sm(Yu)[0],a=si().memoizedState;return[s,a]},useMutableSource:G0,useSyncExternalStore:K0,useId:cw,unstable_isNewReconciler:!1};function Pi(s,a){if(s&&s.defaultProps){a=ne({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Pm(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:ne({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var hd={isMounted:function(s){return(s=s._reactInternals)?_i(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=xn(),g=xs(s),w=Lr(p,g);w.payload=a,c!=null&&(w.callback=c),a=_s(s,w,g),a!==null&&(Ai(a,s,g,p),id(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=xn(),g=xs(s),w=Lr(p,g);w.tag=1,w.payload=a,c!=null&&(w.callback=c),a=_s(s,w,g),a!==null&&(Ai(a,s,g,p),id(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=xn(),p=xs(s),g=Lr(c,p);g.tag=2,a!=null&&(g.callback=a),a=_s(s,g,p),a!==null&&(Ai(a,s,p,c),id(a,s,p))}};function pw(s,a,c,p,g,w,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,w,x):a.prototype&&a.prototype.isPureReactComponent?!Fu(c,p)||!Fu(g,w):!0}function mw(s,a,c){var p=!1,g=gs,w=a.contextType;return typeof w=="object"&&w!==null?w=ri(w):(g=Rn(a)?So:rn.current,p=a.contextTypes,w=(p=p!=null)?tl(s,g):gs),a=new a(c,w),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hd,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=w),a}function gw(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&hd.enqueueReplaceState(a,a.state,null)}function km(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},mm(s);var w=a.contextType;typeof w=="object"&&w!==null?g.context=ri(w):(w=Rn(a)?So:rn.current,g.context=tl(s,w)),g.state=s.memoizedState,w=a.getDerivedStateFromProps,typeof w=="function"&&(Pm(s,a,w,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&hd.enqueueReplaceState(g,g.state,null),rd(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ul(s,a){try{var c="",p=a;do c+=Re(p),p=p.return;while(p);var g=c}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:s,source:a,stack:g,digest:null}}function Rm(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Am(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var PR=typeof WeakMap=="function"?WeakMap:Map;function yw(s,a,c){c=Lr(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){vd||(vd=!0,qm=p),Am(s,a)},c}function vw(s,a,c){c=Lr(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Am(s,a)}}var w=s.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){Am(s,a),typeof p!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),c}function _w(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new PR;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=BR.bind(null,s,a,c),a.then(s,s))}function ww(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Ew(s,a,c,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Lr(-1,1),a.tag=2,_s(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var kR=H.ReactCurrentOwner,An=!1;function Tn(s,a,c,p){a.child=s===null?z0(a,null,c,p):sl(a,s.child,c,p)}function Tw(s,a,c,p,g){c=c.render;var w=a.ref;return al(a,g),p=Tm(s,a,c,p,w,g),c=xm(),s!==null&&!An?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Fr(s,a,g)):(at&&c&&sm(a),a.flags|=1,Tn(s,a,p,g),a.child)}function xw(s,a,c,p,g){if(s===null){var w=c.type;return typeof w=="function"&&!Zm(w)&&w.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=w,bw(s,a,w,p,g)):(s=bd(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(w=s.child,(s.lanes&g)===0){var x=w.memoizedProps;if(c=c.compare,c=c!==null?c:Fu,c(x,p)&&s.ref===a.ref)return Fr(s,a,g)}return a.flags|=1,s=Ss(w,p),s.ref=a.ref,s.return=a,a.child=s}function bw(s,a,c,p,g){if(s!==null){var w=s.memoizedProps;if(Fu(w,p)&&s.ref===a.ref)if(An=!1,a.pendingProps=p=w,(s.lanes&g)!==0)(s.flags&131072)!==0&&(An=!0);else return a.lanes=s.lanes,Fr(s,a,g)}return Dm(s,a,c,p,g)}function Sw(s,a,c){var p=a.pendingProps,g=p.children,w=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(hl,$n),$n|=c;else{if((c&1073741824)===0)return s=w!==null?w.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Je(hl,$n),$n|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:c,Je(hl,$n),$n|=p}else w!==null?(p=w.baseLanes|c,a.memoizedState=null):p=c,Je(hl,$n),$n|=p;return Tn(s,a,g,c),a.child}function Iw(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Dm(s,a,c,p,g){var w=Rn(c)?So:rn.current;return w=tl(a,w),al(a,g),c=Tm(s,a,c,p,w,g),p=xm(),s!==null&&!An?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Fr(s,a,g)):(at&&p&&sm(a),a.flags|=1,Tn(s,a,c,g),a.child)}function Cw(s,a,c,p,g){if(Rn(c)){var w=!0;Qh(a)}else w=!1;if(al(a,g),a.stateNode===null)fd(s,a),mw(a,c,p),km(a,c,p,g),p=!0;else if(s===null){var x=a.stateNode,M=a.memoizedProps;x.props=M;var F=x.context,K=c.contextType;typeof K=="object"&&K!==null?K=ri(K):(K=Rn(c)?So:rn.current,K=tl(a,K));var ie=c.getDerivedStateFromProps,re=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function";re||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==p||F!==K)&&gw(a,x,p,K),vs=!1;var te=a.memoizedState;x.state=te,rd(a,p,x,g),F=a.memoizedState,M!==p||te!==F||kn.current||vs?(typeof ie=="function"&&(Pm(a,c,ie,p),F=a.memoizedState),(M=vs||pw(a,c,M,p,te,F,K))?(re||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=F),x.props=p,x.state=F,x.context=K,p=M):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{x=a.stateNode,$0(s,a),M=a.memoizedProps,K=a.type===a.elementType?M:Pi(a.type,M),x.props=K,re=a.pendingProps,te=x.context,F=c.contextType,typeof F=="object"&&F!==null?F=ri(F):(F=Rn(c)?So:rn.current,F=tl(a,F));var ce=c.getDerivedStateFromProps;(ie=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==re||te!==F)&&gw(a,x,p,F),vs=!1,te=a.memoizedState,x.state=te,rd(a,p,x,g);var fe=a.memoizedState;M!==re||te!==fe||kn.current||vs?(typeof ce=="function"&&(Pm(a,c,ce,p),fe=a.memoizedState),(K=vs||pw(a,c,K,p,te,fe,F)||!1)?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,fe,F),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,fe,F)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=fe),x.props=p,x.state=fe,x.context=F,p=K):(typeof x.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(a.flags|=1024),p=!1)}return Mm(s,a,c,p,w,g)}function Mm(s,a,c,p,g,w){Iw(s,a);var x=(a.flags&128)!==0;if(!p&&!x)return g&&D0(a,c,!1),Fr(s,a,w);p=a.stateNode,kR.current=a;var M=x&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&x?(a.child=sl(a,s.child,null,w),a.child=sl(a,null,M,w)):Tn(s,a,M,w),a.memoizedState=p.state,g&&D0(a,c,!0),a.child}function Pw(s){var a=s.stateNode;a.pendingContext?R0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&R0(s,a.context,!1),gm(s,a.containerInfo)}function kw(s,a,c,p,g){return rl(),um(g),a.flags|=256,Tn(s,a,c,p),a.child}var Om={dehydrated:null,treeContext:null,retryLane:0};function Nm(s){return{baseLanes:s,cachePool:null,transitions:null}}function Rw(s,a,c){var p=a.pendingProps,g=lt.current,w=!1,x=(a.flags&128)!==0,M;if((M=x)||(M=s!==null&&s.memoizedState===null?!1:(g&2)!==0),M?(w=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Je(lt,g&1),s===null)return lm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=p.children,s=p.fallback,w?(p=a.mode,w=a.child,x={mode:"hidden",children:x},(p&1)===0&&w!==null?(w.childLanes=0,w.pendingProps=x):w=Sd(x,p,0,null),s=No(s,p,c,null),w.return=a,s.return=a,w.sibling=s,a.child=w,a.child.memoizedState=Nm(c),a.memoizedState=Om,s):Vm(a,x));if(g=s.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return RR(s,a,x,p,M,g,c);if(w){w=p.fallback,x=a.mode,g=s.child,M=g.sibling;var F={mode:"hidden",children:p.children};return(x&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=F,a.deletions=null):(p=Ss(g,F),p.subtreeFlags=g.subtreeFlags&14680064),M!==null?w=Ss(M,w):(w=No(w,x,c,null),w.flags|=2),w.return=a,p.return=a,p.sibling=w,a.child=p,p=w,w=a.child,x=s.child.memoizedState,x=x===null?Nm(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},w.memoizedState=x,w.childLanes=s.childLanes&~c,a.memoizedState=Om,p}return w=s.child,s=w.sibling,p=Ss(w,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Vm(s,a){return a=Sd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function dd(s,a,c,p){return p!==null&&um(p),sl(a,s.child,null,c),s=Vm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function RR(s,a,c,p,g,w,x){if(c)return a.flags&256?(a.flags&=-257,p=Rm(Error(n(422))),dd(s,a,x,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(w=p.fallback,g=a.mode,p=Sd({mode:"visible",children:p.children},g,0,null),w=No(w,g,x,null),w.flags|=2,p.return=a,w.return=a,p.sibling=w,a.child=p,(a.mode&1)!==0&&sl(a,s.child,null,x),a.child.memoizedState=Nm(x),a.memoizedState=Om,w);if((a.mode&1)===0)return dd(s,a,x,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var M=p.dgst;return p=M,w=Error(n(419)),p=Rm(w,p,void 0),dd(s,a,x,p)}if(M=(x&s.childLanes)!==0,An||M){if(p=Bt,p!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|x))!==0?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,Vr(s,g),Ai(p,s,g,-1))}return Jm(),p=Rm(Error(n(421))),dd(s,a,x,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=$R.bind(null,s),g._reactRetry=a,null):(s=w.treeContext,Bn=ps(g.nextSibling),zn=a,at=!0,Ci=null,s!==null&&(ni[ii++]=Or,ni[ii++]=Nr,ni[ii++]=Io,Or=s.id,Nr=s.overflow,Io=a),a=Vm(a,p.children),a.flags|=4096,a)}function Aw(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),fm(s.return,a,c)}function Lm(s,a,c,p,g){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=c,w.tailMode=g)}function Dw(s,a,c){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(Tn(s,a,p.children,c),p=lt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Aw(s,c,a);else if(s.tag===19)Aw(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Je(lt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&sd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Lm(a,!1,g,c,w);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&sd(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Lm(a,!0,c,null,w);break;case"together":Lm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function fd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Fr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Ao|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=Ss(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ss(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function AR(s,a,c){switch(a.tag){case 3:Pw(a),rl();break;case 5:q0(a);break;case 1:Rn(a.type)&&Qh(a);break;case 4:gm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Je(td,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Je(lt,lt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Rw(s,a,c):(Je(lt,lt.current&1),s=Fr(s,a,c),s!==null?s.sibling:null);Je(lt,lt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return Dw(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(lt,lt.current),p)break;return null;case 22:case 23:return a.lanes=0,Sw(s,a,c)}return Fr(s,a,c)}var Mw,Fm,Ow,Nw;Mw=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Fm=function(){},Ow=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,ko(Yi.current);var w=null;switch(c){case"input":g=ao(s,g),p=ao(s,p),w=[];break;case"select":g=ne({},g,{value:void 0}),p=ne({},p,{value:void 0}),w=[];break;case"textarea":g=fu(s,g),p=fu(s,p),w=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=qh)}_u(c,p);var x;c=null;for(K in g)if(!p.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var M=g[K];for(x in M)M.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(r.hasOwnProperty(K)?w||(w=[]):(w=w||[]).push(K,null));for(K in p){var F=p[K];if(M=g?.[K],p.hasOwnProperty(K)&&F!==M&&(F!=null||M!=null))if(K==="style")if(M){for(x in M)!M.hasOwnProperty(x)||F&&F.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in F)F.hasOwnProperty(x)&&M[x]!==F[x]&&(c||(c={}),c[x]=F[x])}else c||(w||(w=[]),w.push(K,c)),c=F;else K==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,M=M?M.__html:void 0,F!=null&&M!==F&&(w=w||[]).push(K,F)):K==="children"?typeof F!="string"&&typeof F!="number"||(w=w||[]).push(K,""+F):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(r.hasOwnProperty(K)?(F!=null&&K==="onScroll"&&tt("scroll",s),w||M===F||(w=[])):(w=w||[]).push(K,F))}c&&(w=w||[]).push("style",c);var K=w;(a.updateQueue=K)&&(a.flags|=4)}},Nw=function(s,a,c,p){c!==p&&(a.flags|=4)};function Zu(s,a){if(!at)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function on(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function DR(s,a,c){var p=a.pendingProps;switch(om(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(a),null;case 1:return Rn(a.type)&&Kh(),on(a),null;case 3:return p=a.stateNode,ll(),nt(kn),nt(rn),_m(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Zh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ci!==null&&(Qm(Ci),Ci=null))),Fm(s,a),on(a),null;case 5:ym(a);var g=ko(Ku.current);if(c=a.type,s!==null&&a.stateNode!=null)Ow(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return on(a),null}if(s=ko(Yi.current),Zh(a)){p=a.stateNode,c=a.type;var w=a.memoizedProps;switch(p[Xi]=a,p[$u]=w,s=(a.mode&1)!==0,c){case"dialog":tt("cancel",p),tt("close",p);break;case"iframe":case"object":case"embed":tt("load",p);break;case"video":case"audio":for(g=0;g<Uu.length;g++)tt(Uu[g],p);break;case"source":tt("error",p);break;case"img":case"image":case"link":tt("error",p),tt("load",p);break;case"details":tt("toggle",p);break;case"input":xa(p,w),tt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},tt("invalid",p);break;case"textarea":Sa(p,w),tt("invalid",p)}_u(c,w),g=null;for(var x in w)if(w.hasOwnProperty(x)){var M=w[x];x==="children"?typeof M=="string"?p.textContent!==M&&(w.suppressHydrationWarning!==!0&&Wh(p.textContent,M,s),g=["children",M]):typeof M=="number"&&p.textContent!==""+M&&(w.suppressHydrationWarning!==!0&&Wh(p.textContent,M,s),g=["children",""+M]):r.hasOwnProperty(x)&&M!=null&&x==="onScroll"&&tt("scroll",p)}switch(c){case"input":Tr(p),yh(p,w,!0);break;case"textarea":Tr(p),pu(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=qh)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=At(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=x.createElement(c,{is:p.is}):(s=x.createElement(c),c==="select"&&(x=s,p.multiple?x.multiple=!0:p.size&&(x.size=p.size))):s=x.createElementNS(s,c),s[Xi]=a,s[$u]=p,Mw(s,a,!1,!1),a.stateNode=s;e:{switch(x=wu(c,p),c){case"dialog":tt("cancel",s),tt("close",s),g=p;break;case"iframe":case"object":case"embed":tt("load",s),g=p;break;case"video":case"audio":for(g=0;g<Uu.length;g++)tt(Uu[g],s);g=p;break;case"source":tt("error",s),g=p;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=p;break;case"details":tt("toggle",s),g=p;break;case"input":xa(s,p),g=ao(s,p),tt("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=ne({},p,{value:void 0}),tt("invalid",s);break;case"textarea":Sa(s,p),g=fu(s,p),tt("invalid",s);break;default:g=p}_u(c,g),M=g;for(w in M)if(M.hasOwnProperty(w)){var F=M[w];w==="style"?yu(s,F):w==="dangerouslySetInnerHTML"?(F=F?F.__html:void 0,F!=null&&mu(s,F)):w==="children"?typeof F=="string"?(c!=="textarea"||F!=="")&&is(s,F):typeof F=="number"&&is(s,""+F):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(r.hasOwnProperty(w)?F!=null&&w==="onScroll"&&tt("scroll",s):F!=null&&z(s,w,F,x))}switch(c){case"input":Tr(s),yh(s,p,!1);break;case"textarea":Tr(s),pu(s);break;case"option":p.value!=null&&s.setAttribute("value",""+We(p.value));break;case"select":s.multiple=!!p.multiple,w=p.value,w!=null?br(s,!!p.multiple,w,!1):p.defaultValue!=null&&br(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=qh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return on(a),null;case 6:if(s&&a.stateNode!=null)Nw(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=ko(Ku.current),ko(Yi.current),Zh(a)){if(p=a.stateNode,c=a.memoizedProps,p[Xi]=a,(w=p.nodeValue!==c)&&(s=zn,s!==null))switch(s.tag){case 3:Wh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Wh(p.nodeValue,c,(s.mode&1)!==0)}w&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Xi]=a,a.stateNode=p}return on(a),null;case 13:if(nt(lt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)F0(),rl(),a.flags|=98560,w=!1;else if(w=Zh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!w)throw Error(n(318));if(w=a.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[Xi]=a}else rl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;on(a),w=!1}else Ci!==null&&(Qm(Ci),Ci=null),w=!0;if(!w)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(lt.current&1)!==0?Nt===0&&(Nt=3):Jm())),a.updateQueue!==null&&(a.flags|=4),on(a),null);case 4:return ll(),Fm(s,a),s===null&&zu(a.stateNode.containerInfo),on(a),null;case 10:return dm(a.type._context),on(a),null;case 17:return Rn(a.type)&&Kh(),on(a),null;case 19:if(nt(lt),w=a.memoizedState,w===null)return on(a),null;if(p=(a.flags&128)!==0,x=w.rendering,x===null)if(p)Zu(w,!1);else{if(Nt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=sd(s),x!==null){for(a.flags|=128,Zu(w,!1),p=x.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)w=c,s=p,w.flags&=14680066,x=w.alternate,x===null?(w.childLanes=0,w.lanes=s,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=x.childLanes,w.lanes=x.lanes,w.child=x.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=x.memoizedProps,w.memoizedState=x.memoizedState,w.updateQueue=x.updateQueue,w.type=x.type,s=x.dependencies,w.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Je(lt,lt.current&1|2),a.child}s=s.sibling}w.tail!==null&&Ye()>dl&&(a.flags|=128,p=!0,Zu(w,!1),a.lanes=4194304)}else{if(!p)if(s=sd(x),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Zu(w,!0),w.tail===null&&w.tailMode==="hidden"&&!x.alternate&&!at)return on(a),null}else 2*Ye()-w.renderingStartTime>dl&&c!==1073741824&&(a.flags|=128,p=!0,Zu(w,!1),a.lanes=4194304);w.isBackwards?(x.sibling=a.child,a.child=x):(c=w.last,c!==null?c.sibling=x:a.child=x,w.last=x)}return w.tail!==null?(a=w.tail,w.rendering=a,w.tail=a.sibling,w.renderingStartTime=Ye(),a.sibling=null,c=lt.current,Je(lt,p?c&1|2:c&1),a):(on(a),null);case 22:case 23:return Ym(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?($n&1073741824)!==0&&(on(a),a.subtreeFlags&6&&(a.flags|=8192)):on(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function MR(s,a){switch(om(a),a.tag){case 1:return Rn(a.type)&&Kh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ll(),nt(kn),nt(rn),_m(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return ym(a),null;case 13:if(nt(lt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));rl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return nt(lt),null;case 4:return ll(),null;case 10:return dm(a.type._context),null;case 22:case 23:return Ym(),null;case 24:return null;default:return null}}var pd=!1,an=!1,OR=typeof WeakSet=="function"?WeakSet:Set,de=null;function cl(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){pt(s,a,p)}else c.current=null}function jm(s,a,c){try{c()}catch(p){pt(s,a,p)}}var Vw=!1;function NR(s,a){if(Yp=hs,s=p0(),$p(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var x=0,M=-1,F=-1,K=0,ie=0,re=s,te=null;t:for(;;){for(var ce;re!==c||g!==0&&re.nodeType!==3||(M=x+g),re!==w||p!==0&&re.nodeType!==3||(F=x+p),re.nodeType===3&&(x+=re.nodeValue.length),(ce=re.firstChild)!==null;)te=re,re=ce;for(;;){if(re===s)break t;if(te===c&&++K===g&&(M=x),te===w&&++ie===p&&(F=x),(ce=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=ce}c=M===-1||F===-1?null:{start:M,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(Jp={focusedElem:s,selectionRange:c},hs=!1,de=a;de!==null;)if(a=de,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,de=s;else for(;de!==null;){a=de;try{var fe=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,Et=fe.memoizedState,q=a.stateNode,U=q.getSnapshotBeforeUpdate(a.elementType===a.type?pe:Pi(a.type,pe),Et);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=a.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(oe){pt(a,a.return,oe)}if(s=a.sibling,s!==null){s.return=a.return,de=s;break}de=a.return}return fe=Vw,Vw=!1,fe}function ec(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var w=g.destroy;g.destroy=void 0,w!==void 0&&jm(a,c,w)}g=g.next}while(g!==p)}}function md(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Um(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function Lw(s){var a=s.alternate;a!==null&&(s.alternate=null,Lw(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Xi],delete a[$u],delete a[nm],delete a[yR],delete a[vR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Fw(s){return s.tag===5||s.tag===3||s.tag===4}function jw(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Fw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function zm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=qh));else if(p!==4&&(s=s.child,s!==null))for(zm(s,a,c),s=s.sibling;s!==null;)zm(s,a,c),s=s.sibling}function Bm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Bm(s,a,c),s=s.sibling;s!==null;)Bm(s,a,c),s=s.sibling}var Xt=null,ki=!1;function ws(s,a,c){for(c=c.child;c!==null;)Uw(s,a,c),c=c.sibling}function Uw(s,a,c){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(yo,c)}catch{}switch(c.tag){case 5:an||cl(c,a);case 6:var p=Xt,g=ki;Xt=null,ws(s,a,c),Xt=p,ki=g,Xt!==null&&(ki?(s=Xt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Xt.removeChild(c.stateNode));break;case 18:Xt!==null&&(ki?(s=Xt,c=c.stateNode,s.nodeType===8?tm(s.parentNode,c):s.nodeType===1&&tm(s,c),bi(s)):tm(Xt,c.stateNode));break;case 4:p=Xt,g=ki,Xt=c.stateNode.containerInfo,ki=!0,ws(s,a,c),Xt=p,ki=g;break;case 0:case 11:case 14:case 15:if(!an&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var w=g,x=w.destroy;w=w.tag,x!==void 0&&((w&2)!==0||(w&4)!==0)&&jm(c,a,x),g=g.next}while(g!==p)}ws(s,a,c);break;case 1:if(!an&&(cl(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(M){pt(c,a,M)}ws(s,a,c);break;case 21:ws(s,a,c);break;case 22:c.mode&1?(an=(p=an)||c.memoizedState!==null,ws(s,a,c),an=p):ws(s,a,c);break;default:ws(s,a,c)}}function zw(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new OR),a.forEach(function(p){var g=HR.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Ri(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var w=s,x=a,M=x;e:for(;M!==null;){switch(M.tag){case 5:Xt=M.stateNode,ki=!1;break e;case 3:Xt=M.stateNode.containerInfo,ki=!0;break e;case 4:Xt=M.stateNode.containerInfo,ki=!0;break e}M=M.return}if(Xt===null)throw Error(n(160));Uw(w,x,g),Xt=null,ki=!1;var F=g.alternate;F!==null&&(F.return=null),g.return=null}catch(K){pt(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Bw(a,s),a=a.sibling}function Bw(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ri(a,s),Zi(s),p&4){try{ec(3,s,s.return),md(3,s)}catch(pe){pt(s,s.return,pe)}try{ec(5,s,s.return)}catch(pe){pt(s,s.return,pe)}}break;case 1:Ri(a,s),Zi(s),p&512&&c!==null&&cl(c,c.return);break;case 5:if(Ri(a,s),Zi(s),p&512&&c!==null&&cl(c,c.return),s.flags&32){var g=s.stateNode;try{is(g,"")}catch(pe){pt(s,s.return,pe)}}if(p&4&&(g=s.stateNode,g!=null)){var w=s.memoizedProps,x=c!==null?c.memoizedProps:w,M=s.type,F=s.updateQueue;if(s.updateQueue=null,F!==null)try{M==="input"&&w.type==="radio"&&w.name!=null&&hu(g,w),wu(M,x);var K=wu(M,w);for(x=0;x<F.length;x+=2){var ie=F[x],re=F[x+1];ie==="style"?yu(g,re):ie==="dangerouslySetInnerHTML"?mu(g,re):ie==="children"?is(g,re):z(g,ie,re,K)}switch(M){case"input":du(g,w);break;case"textarea":Ia(g,w);break;case"select":var te=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var ce=w.value;ce!=null?br(g,!!w.multiple,ce,!1):te!==!!w.multiple&&(w.defaultValue!=null?br(g,!!w.multiple,w.defaultValue,!0):br(g,!!w.multiple,w.multiple?[]:"",!1))}g[$u]=w}catch(pe){pt(s,s.return,pe)}}break;case 6:if(Ri(a,s),Zi(s),p&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,w=s.memoizedProps;try{g.nodeValue=w}catch(pe){pt(s,s.return,pe)}}break;case 3:if(Ri(a,s),Zi(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{bi(a.containerInfo)}catch(pe){pt(s,s.return,pe)}break;case 4:Ri(a,s),Zi(s);break;case 13:Ri(a,s),Zi(s),g=s.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(Wm=Ye())),p&4&&zw(s);break;case 22:if(ie=c!==null&&c.memoizedState!==null,s.mode&1?(an=(K=an)||ie,Ri(a,s),an=K):Ri(a,s),Zi(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!ie&&(s.mode&1)!==0)for(de=s,ie=s.child;ie!==null;){for(re=de=ie;de!==null;){switch(te=de,ce=te.child,te.tag){case 0:case 11:case 14:case 15:ec(4,te,te.return);break;case 1:cl(te,te.return);var fe=te.stateNode;if(typeof fe.componentWillUnmount=="function"){p=te,c=te.return;try{a=p,fe.props=a.memoizedProps,fe.state=a.memoizedState,fe.componentWillUnmount()}catch(pe){pt(p,c,pe)}}break;case 5:cl(te,te.return);break;case 22:if(te.memoizedState!==null){Ww(re);continue}}ce!==null?(ce.return=te,de=ce):Ww(re)}ie=ie.sibling}e:for(ie=null,re=s;;){if(re.tag===5){if(ie===null){ie=re;try{g=re.stateNode,K?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(M=re.stateNode,F=re.memoizedProps.style,x=F!=null&&F.hasOwnProperty("display")?F.display:null,M.style.display=gu("display",x))}catch(pe){pt(s,s.return,pe)}}}else if(re.tag===6){if(ie===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(pe){pt(s,s.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ie===re&&(ie=null),re=re.return}ie===re&&(ie=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Ri(a,s),Zi(s),p&4&&zw(s);break;case 21:break;default:Ri(a,s),Zi(s)}}function Zi(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Fw(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(is(g,""),p.flags&=-33);var w=jw(s);Bm(s,w,g);break;case 3:case 4:var x=p.stateNode.containerInfo,M=jw(s);zm(s,M,x);break;default:throw Error(n(161))}}catch(F){pt(s,s.return,F)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function VR(s,a,c){de=s,$w(s)}function $w(s,a,c){for(var p=(s.mode&1)!==0;de!==null;){var g=de,w=g.child;if(g.tag===22&&p){var x=g.memoizedState!==null||pd;if(!x){var M=g.alternate,F=M!==null&&M.memoizedState!==null||an;M=pd;var K=an;if(pd=x,(an=F)&&!K)for(de=g;de!==null;)x=de,F=x.child,x.tag===22&&x.memoizedState!==null?qw(g):F!==null?(F.return=x,de=F):qw(g);for(;w!==null;)de=w,$w(w),w=w.sibling;de=g,pd=M,an=K}Hw(s)}else(g.subtreeFlags&8772)!==0&&w!==null?(w.return=g,de=w):Hw(s)}}function Hw(s){for(;de!==null;){var a=de;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:an||md(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!an)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Pi(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=a.updateQueue;w!==null&&W0(a,w,p);break;case 3:var x=a.updateQueue;if(x!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}W0(a,x,c)}break;case 5:var M=a.stateNode;if(c===null&&a.flags&4){c=M;var F=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":F.autoFocus&&c.focus();break;case"img":F.src&&(c.src=F.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var ie=K.memoizedState;if(ie!==null){var re=ie.dehydrated;re!==null&&bi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}an||a.flags&512&&Um(a)}catch(te){pt(a,a.return,te)}}if(a===s){de=null;break}if(c=a.sibling,c!==null){c.return=a.return,de=c;break}de=a.return}}function Ww(s){for(;de!==null;){var a=de;if(a===s){de=null;break}var c=a.sibling;if(c!==null){c.return=a.return,de=c;break}de=a.return}}function qw(s){for(;de!==null;){var a=de;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{md(4,a)}catch(F){pt(a,c,F)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(F){pt(a,g,F)}}var w=a.return;try{Um(a)}catch(F){pt(a,w,F)}break;case 5:var x=a.return;try{Um(a)}catch(F){pt(a,x,F)}}}catch(F){pt(a,a.return,F)}if(a===s){de=null;break}var M=a.sibling;if(M!==null){M.return=a.return,de=M;break}de=a.return}}var LR=Math.ceil,gd=H.ReactCurrentDispatcher,$m=H.ReactCurrentOwner,oi=H.ReactCurrentBatchConfig,Ue=0,Bt=null,It=null,Yt=0,$n=0,hl=ms(0),Nt=0,tc=null,Ao=0,yd=0,Hm=0,nc=null,Dn=null,Wm=0,dl=1/0,jr=null,vd=!1,qm=null,Es=null,_d=!1,Ts=null,wd=0,ic=0,Gm=null,Ed=-1,Td=0;function xn(){return(Ue&6)!==0?Ye():Ed!==-1?Ed:Ed=Ye()}function xs(s){return(s.mode&1)===0?1:(Ue&2)!==0&&Yt!==0?Yt&-Yt:wR.transition!==null?(Td===0&&(Td=_o()),Td):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:Au(s.type)),s)}function Ai(s,a,c,p){if(50<ic)throw ic=0,Gm=null,Error(n(185));as(s,c,p),((Ue&2)===0||s!==Bt)&&(s===Bt&&((Ue&2)===0&&(yd|=c),Nt===4&&bs(s,Yt)),Mn(s,p),c===1&&Ue===0&&(a.mode&1)===0&&(dl=Ye()+500,Xh&&ys()))}function Mn(s,a){var c=s.callbackNode;Cr(s,a);var p=vo(s,s===Bt?Yt:0);if(p===0)c!==null&&Iu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Iu(c),a===1)s.tag===0?_R(Kw.bind(null,s)):M0(Kw.bind(null,s)),mR(function(){(Ue&6)===0&&ys()}),c=null;else{switch(us(p)){case 1:c=go;break;case 4:c=rs;break;case 16:c=Zn;break;case 536870912:c=Th;break;default:c=Zn}c=n1(c,Gw.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Gw(s,a){if(Ed=-1,Td=0,(Ue&6)!==0)throw Error(n(327));var c=s.callbackNode;if(fl()&&s.callbackNode!==c)return null;var p=vo(s,s===Bt?Yt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=xd(s,p);else{a=p;var g=Ue;Ue|=2;var w=Xw();(Bt!==s||Yt!==a)&&(jr=null,dl=Ye()+500,Mo(s,a));do try{UR();break}catch(M){Qw(s,M)}while(!0);hm(),gd.current=w,Ue=g,It!==null?a=0:(Bt=null,Yt=0,a=Nt)}if(a!==0){if(a===2&&(g=Fn(s),g!==0&&(p=g,a=Km(s,g))),a===1)throw c=tc,Mo(s,0),bs(s,p),Mn(s,Ye()),c;if(a===6)bs(s,p);else{if(g=s.current.alternate,(p&30)===0&&!FR(g)&&(a=xd(s,p),a===2&&(w=Fn(s),w!==0&&(p=w,a=Km(s,w))),a===1))throw c=tc,Mo(s,0),bs(s,p),Mn(s,Ye()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Oo(s,Dn,jr);break;case 3:if(bs(s,p),(p&130023424)===p&&(a=Wm+500-Ye(),10<a)){if(vo(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){xn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=em(Oo.bind(null,s,Dn,jr),a);break}Oo(s,Dn,jr);break;case 4:if(bs(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var x=31-wn(p);w=1<<x,x=a[x],x>g&&(g=x),p&=~w}if(p=g,p=Ye()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*LR(p/1960))-p,10<p){s.timeoutHandle=em(Oo.bind(null,s,Dn,jr),p);break}Oo(s,Dn,jr);break;case 5:Oo(s,Dn,jr);break;default:throw Error(n(329))}}}return Mn(s,Ye()),s.callbackNode===c?Gw.bind(null,s):null}function Km(s,a){var c=nc;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=xd(s,a),s!==2&&(a=Dn,Dn=c,a!==null&&Qm(a)),s}function Qm(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function FR(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],w=g.getSnapshot;g=g.value;try{if(!Ii(w(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function bs(s,a){for(a&=~Hm,a&=~yd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-wn(a),p=1<<c;s[c]=-1,a&=~p}}function Kw(s){if((Ue&6)!==0)throw Error(n(327));fl();var a=vo(s,0);if((a&1)===0)return Mn(s,Ye()),null;var c=xd(s,a);if(s.tag!==0&&c===2){var p=Fn(s);p!==0&&(a=p,c=Km(s,p))}if(c===1)throw c=tc,Mo(s,0),bs(s,a),Mn(s,Ye()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Oo(s,Dn,jr),Mn(s,Ye()),null}function Xm(s,a){var c=Ue;Ue|=1;try{return s(a)}finally{Ue=c,Ue===0&&(dl=Ye()+500,Xh&&ys())}}function Do(s){Ts!==null&&Ts.tag===0&&(Ue&6)===0&&fl();var a=Ue;Ue|=1;var c=oi.transition,p=Ve;try{if(oi.transition=null,Ve=1,s)return s()}finally{Ve=p,oi.transition=c,Ue=a,(Ue&6)===0&&ys()}}function Ym(){$n=hl.current,nt(hl)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,pR(c)),It!==null)for(c=It.return;c!==null;){var p=c;switch(om(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Kh();break;case 3:ll(),nt(kn),nt(rn),_m();break;case 5:ym(p);break;case 4:ll();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:dm(p.type._context);break;case 22:case 23:Ym()}c=c.return}if(Bt=s,It=s=Ss(s.current,null),Yt=$n=a,Nt=0,tc=null,Hm=yd=Ao=0,Dn=nc=null,Po!==null){for(a=0;a<Po.length;a++)if(c=Po[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,w=c.pending;if(w!==null){var x=w.next;w.next=g,p.next=x}c.pending=p}Po=null}return s}function Qw(s,a){do{var c=It;try{if(hm(),od.current=cd,ad){for(var p=ut.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}ad=!1}if(Ro=0,zt=Ot=ut=null,Qu=!1,Xu=0,$m.current=null,c===null||c.return===null){Nt=1,tc=a,It=null;break}e:{var w=s,x=c.return,M=c,F=a;if(a=Yt,M.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var K=F,ie=M,re=ie.tag;if((ie.mode&1)===0&&(re===0||re===11||re===15)){var te=ie.alternate;te?(ie.updateQueue=te.updateQueue,ie.memoizedState=te.memoizedState,ie.lanes=te.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ce=ww(x);if(ce!==null){ce.flags&=-257,Ew(ce,x,M,w,a),ce.mode&1&&_w(w,K,a),a=ce,F=K;var fe=a.updateQueue;if(fe===null){var pe=new Set;pe.add(F),a.updateQueue=pe}else fe.add(F);break e}else{if((a&1)===0){_w(w,K,a),Jm();break e}F=Error(n(426))}}else if(at&&M.mode&1){var Et=ww(x);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),Ew(Et,x,M,w,a),um(ul(F,M));break e}}w=F=ul(F,M),Nt!==4&&(Nt=2),nc===null?nc=[w]:nc.push(w),w=x;do{switch(w.tag){case 3:w.flags|=65536,a&=-a,w.lanes|=a;var q=yw(w,F,a);H0(w,q);break e;case 1:M=F;var U=w.type,G=w.stateNode;if((w.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Es===null||!Es.has(G)))){w.flags|=65536,a&=-a,w.lanes|=a;var oe=vw(w,M,a);H0(w,oe);break e}}w=w.return}while(w!==null)}Jw(c)}catch(ye){a=ye,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function Xw(){var s=gd.current;return gd.current=cd,s===null?cd:s}function Jm(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Bt===null||(Ao&268435455)===0&&(yd&268435455)===0||bs(Bt,Yt)}function xd(s,a){var c=Ue;Ue|=2;var p=Xw();(Bt!==s||Yt!==a)&&(jr=null,Mo(s,a));do try{jR();break}catch(g){Qw(s,g)}while(!0);if(hm(),Ue=c,gd.current=p,It!==null)throw Error(n(261));return Bt=null,Yt=0,Nt}function jR(){for(;It!==null;)Yw(It)}function UR(){for(;It!==null&&!wh();)Yw(It)}function Yw(s){var a=t1(s.alternate,s,$n);s.memoizedProps=s.pendingProps,a===null?Jw(s):It=a,$m.current=null}function Jw(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=DR(c,a,$n),c!==null){It=c;return}}else{if(c=MR(c,a),c!==null){c.flags&=32767,It=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Nt=6,It=null;return}}if(a=a.sibling,a!==null){It=a;return}It=a=s}while(a!==null);Nt===0&&(Nt=5)}function Oo(s,a,c){var p=Ve,g=oi.transition;try{oi.transition=null,Ve=1,zR(s,a,c,p)}finally{oi.transition=g,Ve=p}return null}function zR(s,a,c,p){do fl();while(Ts!==null);if((Ue&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var w=c.lanes|c.childLanes;if(Qe(s,w),s===Bt&&(It=Bt=null,Yt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||_d||(_d=!0,n1(Zn,function(){return fl(),null})),w=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||w){w=oi.transition,oi.transition=null;var x=Ve;Ve=1;var M=Ue;Ue|=4,$m.current=null,NR(s,c),Bw(c,s),aR(Jp),hs=!!Yp,Jp=Yp=null,s.current=c,VR(c),Np(),Ue=M,Ve=x,oi.transition=w}else s.current=c;if(_d&&(_d=!1,Ts=s,wd=g),w=s.pendingLanes,w===0&&(Es=null),xh(c.stateNode),Mn(s,Ye()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(vd)throw vd=!1,s=qm,qm=null,s;return(wd&1)!==0&&s.tag!==0&&fl(),w=s.pendingLanes,(w&1)!==0?s===Gm?ic++:(ic=0,Gm=s):ic=0,ys(),null}function fl(){if(Ts!==null){var s=us(wd),a=oi.transition,c=Ve;try{if(oi.transition=null,Ve=16>s?16:s,Ts===null)var p=!1;else{if(s=Ts,Ts=null,wd=0,(Ue&6)!==0)throw Error(n(331));var g=Ue;for(Ue|=4,de=s.current;de!==null;){var w=de,x=w.child;if((de.flags&16)!==0){var M=w.deletions;if(M!==null){for(var F=0;F<M.length;F++){var K=M[F];for(de=K;de!==null;){var ie=de;switch(ie.tag){case 0:case 11:case 15:ec(8,ie,w)}var re=ie.child;if(re!==null)re.return=ie,de=re;else for(;de!==null;){ie=de;var te=ie.sibling,ce=ie.return;if(Lw(ie),ie===K){de=null;break}if(te!==null){te.return=ce,de=te;break}de=ce}}}var fe=w.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var Et=pe.sibling;pe.sibling=null,pe=Et}while(pe!==null)}}de=w}}if((w.subtreeFlags&2064)!==0&&x!==null)x.return=w,de=x;else e:for(;de!==null;){if(w=de,(w.flags&2048)!==0)switch(w.tag){case 0:case 11:case 15:ec(9,w,w.return)}var q=w.sibling;if(q!==null){q.return=w.return,de=q;break e}de=w.return}}var U=s.current;for(de=U;de!==null;){x=de;var G=x.child;if((x.subtreeFlags&2064)!==0&&G!==null)G.return=x,de=G;else e:for(x=U;de!==null;){if(M=de,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:md(9,M)}}catch(ye){pt(M,M.return,ye)}if(M===x){de=null;break e}var oe=M.sibling;if(oe!==null){oe.return=M.return,de=oe;break e}de=M.return}}if(Ue=g,ys(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(yo,s)}catch{}p=!0}return p}finally{Ve=c,oi.transition=a}}return!1}function Zw(s,a,c){a=ul(c,a),a=yw(s,a,1),s=_s(s,a,1),a=xn(),s!==null&&(as(s,1,a),Mn(s,a))}function pt(s,a,c){if(s.tag===3)Zw(s,s,c);else for(;a!==null;){if(a.tag===3){Zw(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Es===null||!Es.has(p))){s=ul(c,s),s=vw(a,s,1),a=_s(a,s,1),s=xn(),a!==null&&(as(a,1,s),Mn(a,s));break}}a=a.return}}function BR(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=xn(),s.pingedLanes|=s.suspendedLanes&c,Bt===s&&(Yt&c)===c&&(Nt===4||Nt===3&&(Yt&130023424)===Yt&&500>Ye()-Wm?Mo(s,0):Hm|=c),Mn(s,a)}function e1(s,a){a===0&&((s.mode&1)===0?a=1:(a=Va,Va<<=1,(Va&130023424)===0&&(Va=4194304)));var c=xn();s=Vr(s,a),s!==null&&(as(s,a,c),Mn(s,c))}function $R(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),e1(s,c)}function HR(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),e1(s,c)}var t1;t1=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||kn.current)An=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return An=!1,AR(s,a,c);An=(s.flags&131072)!==0}else An=!1,at&&(a.flags&1048576)!==0&&O0(a,Jh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;fd(s,a),s=a.pendingProps;var g=tl(a,rn.current);al(a,c),g=Tm(null,a,p,s,g,c);var w=xm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rn(p)?(w=!0,Qh(a)):w=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,mm(a),g.updater=hd,a.stateNode=g,g._reactInternals=a,km(a,p,s,c),a=Mm(null,a,p,!0,w,c)):(a.tag=0,at&&w&&sm(a),Tn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(fd(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=qR(p),s=Pi(p,s),g){case 0:a=Dm(null,a,p,s,c);break e;case 1:a=Cw(null,a,p,s,c);break e;case 11:a=Tw(null,a,p,s,c);break e;case 14:a=xw(null,a,p,Pi(p.type,s),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),Dm(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),Cw(s,a,p,g,c);case 3:e:{if(Pw(a),s===null)throw Error(n(387));p=a.pendingProps,w=a.memoizedState,g=w.element,$0(s,a),rd(a,p,null,c);var x=a.memoizedState;if(p=x.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=w,a.memoizedState=w,a.flags&256){g=ul(Error(n(423)),a),a=kw(s,a,p,c,g);break e}else if(p!==g){g=ul(Error(n(424)),a),a=kw(s,a,p,c,g);break e}else for(Bn=ps(a.stateNode.containerInfo.firstChild),zn=a,at=!0,Ci=null,c=z0(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(rl(),p===g){a=Fr(s,a,c);break e}Tn(s,a,p,c)}a=a.child}return a;case 5:return q0(a),s===null&&lm(a),p=a.type,g=a.pendingProps,w=s!==null?s.memoizedProps:null,x=g.children,Zp(p,g)?x=null:w!==null&&Zp(p,w)&&(a.flags|=32),Iw(s,a),Tn(s,a,x,c),a.child;case 6:return s===null&&lm(a),null;case 13:return Rw(s,a,c);case 4:return gm(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=sl(a,null,p,c):Tn(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),Tw(s,a,p,g,c);case 7:return Tn(s,a,a.pendingProps,c),a.child;case 8:return Tn(s,a,a.pendingProps.children,c),a.child;case 12:return Tn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,w=a.memoizedProps,x=g.value,Je(td,p._currentValue),p._currentValue=x,w!==null)if(Ii(w.value,x)){if(w.children===g.children&&!kn.current){a=Fr(s,a,c);break e}}else for(w=a.child,w!==null&&(w.return=a);w!==null;){var M=w.dependencies;if(M!==null){x=w.child;for(var F=M.firstContext;F!==null;){if(F.context===p){if(w.tag===1){F=Lr(-1,c&-c),F.tag=2;var K=w.updateQueue;if(K!==null){K=K.shared;var ie=K.pending;ie===null?F.next=F:(F.next=ie.next,ie.next=F),K.pending=F}}w.lanes|=c,F=w.alternate,F!==null&&(F.lanes|=c),fm(w.return,c,a),M.lanes|=c;break}F=F.next}}else if(w.tag===10)x=w.type===a.type?null:w.child;else if(w.tag===18){if(x=w.return,x===null)throw Error(n(341));x.lanes|=c,M=x.alternate,M!==null&&(M.lanes|=c),fm(x,c,a),x=w.sibling}else x=w.child;if(x!==null)x.return=w;else for(x=w;x!==null;){if(x===a){x=null;break}if(w=x.sibling,w!==null){w.return=x.return,x=w;break}x=x.return}w=x}Tn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,al(a,c),g=ri(g),p=p(g),a.flags|=1,Tn(s,a,p,c),a.child;case 14:return p=a.type,g=Pi(p,a.pendingProps),g=Pi(p.type,g),xw(s,a,p,g,c);case 15:return bw(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),fd(s,a),a.tag=1,Rn(p)?(s=!0,Qh(a)):s=!1,al(a,c),mw(a,p,g),km(a,p,g,c),Mm(null,a,p,!0,s,c);case 19:return Dw(s,a,c);case 22:return Sw(s,a,c)}throw Error(n(156,a.tag))};function n1(s,a){return Oa(s,a)}function WR(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,a,c,p){return new WR(s,a,c,p)}function Zm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function qR(s){if(typeof s=="function")return Zm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===$)return 11;if(s===_t)return 14}return 2}function Ss(s,a){var c=s.alternate;return c===null?(c=ai(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function bd(s,a,c,p,g,w){var x=2;if(p=s,typeof s=="function")Zm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case D:return No(c.children,g,w,a);case C:x=8,g|=8;break;case k:return s=ai(12,c,a,g|2),s.elementType=k,s.lanes=w,s;case O:return s=ai(13,c,a,g),s.elementType=O,s.lanes=w,s;case ze:return s=ai(19,c,a,g),s.elementType=ze,s.lanes=w,s;case Se:return Sd(c,g,w,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:x=10;break e;case j:x=9;break e;case $:x=11;break e;case _t:x=14;break e;case ft:x=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=ai(x,c,a,g),a.elementType=s,a.type=p,a.lanes=w,a}function No(s,a,c,p){return s=ai(7,s,p,a),s.lanes=c,s}function Sd(s,a,c,p){return s=ai(22,s,p,a),s.elementType=Se,s.lanes=c,s.stateNode={isHidden:!1},s}function eg(s,a,c){return s=ai(6,s,null,a),s.lanes=c,s}function tg(s,a,c){return a=ai(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function GR(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=os(0),this.expirationTimes=os(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=os(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function ng(s,a,c,p,g,w,x,M,F){return s=new GR(s,a,c,M,F),a===1?(a=1,w===!0&&(a|=8)):a=0,w=ai(3,null,null,a),s.current=w,w.stateNode=s,w.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},mm(w),s}function KR(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function i1(s){if(!s)return gs;s=s._reactInternals;e:{if(_i(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Rn(c))return A0(s,c,a)}return a}function r1(s,a,c,p,g,w,x,M,F){return s=ng(c,p,!0,s,g,w,x,M,F),s.context=i1(null),c=s.current,p=xn(),g=xs(c),w=Lr(p,g),w.callback=a??null,_s(c,w,g),s.current.lanes=g,as(s,g,p),Mn(s,p),s}function Id(s,a,c,p){var g=a.current,w=xn(),x=xs(g);return c=i1(c),a.context===null?a.context=c:a.pendingContext=c,a=Lr(w,x),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=_s(g,a,x),s!==null&&(Ai(s,g,x,w),id(s,g,x)),x}function Cd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function s1(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function ig(s,a){s1(s,a),(s=s.alternate)&&s1(s,a)}function QR(){return null}var o1=typeof reportError=="function"?reportError:function(s){console.error(s)};function rg(s){this._internalRoot=s}Pd.prototype.render=rg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));Id(s,a,null,null)},Pd.prototype.unmount=rg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Do(function(){Id(null,s,null,null)}),a[Dr]=null}};function Pd(s){this._internalRoot=s}Pd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ph();s={blockedOn:null,target:s,priority:a};for(var c=0;c<qi.length&&a!==0&&a<qi[c].priority;c++);qi.splice(c,0,s),c===0&&Ah(s)}};function sg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function kd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function a1(){}function XR(s,a,c,p,g){if(g){if(typeof p=="function"){var w=p;p=function(){var K=Cd(x);w.call(K)}}var x=r1(a,p,s,0,null,!1,!1,"",a1);return s._reactRootContainer=x,s[Dr]=x.current,zu(s.nodeType===8?s.parentNode:s),Do(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var M=p;p=function(){var K=Cd(F);M.call(K)}}var F=ng(s,0,!1,null,null,!1,!1,"",a1);return s._reactRootContainer=F,s[Dr]=F.current,zu(s.nodeType===8?s.parentNode:s),Do(function(){Id(a,F,c,p)}),F}function Rd(s,a,c,p,g){var w=c._reactRootContainer;if(w){var x=w;if(typeof g=="function"){var M=g;g=function(){var F=Cd(x);M.call(F)}}Id(a,x,s,g)}else x=XR(c,a,s,g,p);return Cd(x)}Ih=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=ss(a.pendingLanes);c!==0&&(ls(a,c|1),Mn(a,Ye()),(Ue&6)===0&&(dl=Ye()+500,ys()))}break;case 13:Do(function(){var p=Vr(s,1);if(p!==null){var g=xn();Ai(p,s,1,g)}}),ig(s,1)}},La=function(s){if(s.tag===13){var a=Vr(s,134217728);if(a!==null){var c=xn();Ai(a,s,134217728,c)}ig(s,134217728)}},Ch=function(s){if(s.tag===13){var a=xs(s),c=Vr(s,a);if(c!==null){var p=xn();Ai(c,s,a,p)}ig(s,a)}},Ph=function(){return Ve},kh=function(s,a){var c=Ve;try{return Ve=s,a()}finally{Ve=c}},Pa=function(s,a,c){switch(a){case"input":if(du(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=Gh(p);if(!g)throw Error(n(90));Ta(p),du(p,g)}}}break;case"textarea":Ia(s,c);break;case"select":a=c.value,a!=null&&br(s,!!c.multiple,a,!1)}},ho=Xm,Tu=Do;var YR={usingClientEntryPoint:!1,Events:[Hu,Za,Gh,Hi,Eu,Xm]},rc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Su(s),s===null?null:s.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||QR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{yo=Ad.inject(JR),Ln=Ad}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YR,On.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sg(a))throw Error(n(200));return KR(s,a,null,c)},On.createRoot=function(s,a){if(!sg(s))throw Error(n(299));var c=!1,p="",g=o1;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=ng(s,1,!1,null,null,c,!1,p,g),s[Dr]=a.current,zu(s.nodeType===8?s.parentNode:s),new rg(a)},On.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Su(a),s=s===null?null:s.stateNode,s},On.flushSync=function(s){return Do(s)},On.hydrate=function(s,a,c){if(!kd(a))throw Error(n(200));return Rd(null,s,a,!0,c)},On.hydrateRoot=function(s,a,c){if(!sg(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,g=!1,w="",x=o1;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),a=r1(a,null,s,1,c??null,g,!1,w,x),s[Dr]=a.current,zu(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Pd(a)},On.render=function(s,a,c){if(!kd(a))throw Error(n(200));return Rd(null,s,a,!1,c)},On.unmountComponentAtNode=function(s){if(!kd(s))throw Error(n(40));return s._reactRootContainer?(Do(function(){Rd(null,null,s,!1,function(){s._reactRootContainer=null,s[Dr]=null})}),!0):!1},On.unstable_batchedUpdates=Xm,On.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!kd(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Rd(s,a,c,!1,p)},On.version="18.3.1-next-f1338f8080-20240426",On}var m1;function oA(){if(m1)return lg.exports;m1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),lg.exports=sA(),lg.exports}var g1;function aA(){if(g1)return Dd;g1=1;var t=oA();return Dd.createRoot=t.createRoot,Dd.hydrateRoot=t.hydrateRoot,Dd}var lA=aA();const uA=Tb(lA),cA="modulepreload",hA=function(t){return"/Costas_Portfolio/"+t},y1={},dA=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=h(n.map(f=>{if(f=hA(f),f in y1)return;y1[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":cA,m||(_.as="script"),_.crossOrigin="",_.href=f,u&&_.setAttribute("nonce",u),document.head.appendChild(_),m)return new Promise((T,b)=>{_.addEventListener("load",T),_.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v1="popstate";function fA(t={}){function e(i,r){let{pathname:o,search:l,hash:u}=i.location;return sy("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Dc(r)}return mA(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function _1(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:n,key:e&&e.key||i||pA()}}function Dc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function tu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function mA(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let S=m(),A=S==null?null:S-f;f=S,h&&h({action:u,location:P.location,delta:A})}function _(S,A){u="PUSH";let L=sy(P.location,S,A);f=m()+1;let z=_1(L,f),H=P.createHref(L);try{l.pushState(z,"",H)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;r.location.assign(H)}o&&h&&h({action:u,location:P.location,delta:1})}function T(S,A){u="REPLACE";let L=sy(P.location,S,A);f=m();let z=_1(L,f),H=P.createHref(L);l.replaceState(z,"",H),o&&h&&h({action:u,location:P.location,delta:0})}function b(S){return gA(S)}let P={get action(){return u},get location(){return t(r,l)},listen(S){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(v1,y),h=S,()=>{r.removeEventListener(v1,y),h=null}},createHref(S){return e(r,S)},createURL:b,encodeLocation(S){let A=b(S);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:_,replace:T,go(S){return l.go(S)}};return P}function gA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:Dc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function xb(t,e,n="/"){return yA(t,e,n,!1)}function yA(t,e,n,i){let r=typeof e=="string"?tu(e):e,o=Qr(r.pathname||"/",n);if(o==null)return null;let l=bb(t);vA(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=kA(o);u=CA(l[h],f,i)}return u}function bb(t,e=[],n=[],i=""){let r=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ht(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Hr([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),bb(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:SA(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))r(o,l);else for(let u of Sb(o.path))r(o,l,u)}),e}function Sb(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=Sb(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function vA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IA(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var _A=/^:[\w-]+$/,wA=3,EA=2,TA=1,xA=10,bA=-2,w1=t=>t==="*";function SA(t,e){let n=t.split("/"),i=n.length;return n.some(w1)&&(i+=bA),e&&(i+=EA),n.filter(r=>!w1(r)).reduce((r,o)=>r+(_A.test(o)?wA:o===""?TA:xA),i)}function IA(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function CA(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=Ef({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),_=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=Ef({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:Hr([o,y.pathname]),pathnameBase:MA(Hr([o,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(o=Hr([o,y.pathnameBase]))}return l}function Ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=PA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:y},_)=>{if(m==="*"){let b=u[_]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const T=u[_];return y&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function PA(t,e=!1,n=!0){mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function kA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Qr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function RA(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?tu(t):t;return{pathname:n?n.startsWith("/")?n:AA(n,e):e,search:OA(i),hash:NA(r)}}function AA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function hg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ib(t){let e=DA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function Cb(t,e,n,i=!1){let r;typeof t=="string"?r=tu(t):(r={...t},ht(!r.pathname||!r.pathname.includes("?"),hg("?","pathname","search",r)),ht(!r.pathname||!r.pathname.includes("#"),hg("#","pathname","hash",r)),ht(!r.search||!r.search.includes("#"),hg("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;r.pathname=_.join("/")}u=y>=0?e[y]:"/"}let h=RA(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Hr=t=>t.join("/").replace(/\/\/+/g,"/"),MA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),OA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Pb=["POST","PUT","PATCH","DELETE"];new Set(Pb);var LA=["GET",...Pb];new Set(LA);var nu=V.createContext(null);nu.displayName="DataRouter";var np=V.createContext(null);np.displayName="DataRouterState";V.createContext(!1);var kb=V.createContext({isTransitioning:!1});kb.displayName="ViewTransition";var FA=V.createContext(new Map);FA.displayName="Fetchers";var jA=V.createContext(null);jA.displayName="Await";var vr=V.createContext(null);vr.displayName="Navigation";var Jc=V.createContext(null);Jc.displayName="Location";var ts=V.createContext({outlet:null,matches:[],isDataRoute:!1});ts.displayName="Route";var uv=V.createContext(null);uv.displayName="RouteError";function UA(t,{relative:e}={}){ht(Zc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=V.useContext(vr),{hash:r,pathname:o,search:l}=eh(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Hr([n,o])),i.createHref({pathname:u,search:l,hash:r})}function Zc(){return V.useContext(Jc)!=null}function fa(){return ht(Zc(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(Jc).location}var Rb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ab(t){V.useContext(vr).static||V.useLayoutEffect(t)}function zA(){let{isDataRoute:t}=V.useContext(ts);return t?e2():BA()}function BA(){ht(Zc(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(nu),{basename:e,navigator:n}=V.useContext(vr),{matches:i}=V.useContext(ts),{pathname:r}=fa(),o=JSON.stringify(Ib(i)),l=V.useRef(!1);return Ab(()=>{l.current=!0}),V.useCallback((h,f={})=>{if(mr(l.current,Rb),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=Cb(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Hr([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}V.createContext(null);function eh(t,{relative:e}={}){let{matches:n}=V.useContext(ts),{pathname:i}=fa(),r=JSON.stringify(Ib(n));return V.useMemo(()=>Cb(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function $A(t,e){return Db(t,e)}function Db(t,e,n,i){ht(Zc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=V.useContext(vr),{matches:o}=V.useContext(ts),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";Mb(h,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=fa(),_;if(e){let A=typeof e=="string"?tu(e):e;ht(f==="/"||A.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),_=A}else _=y;let T=_.pathname||"/",b=T;if(f!=="/"){let A=f.replace(/^\//,"").split("/");b="/"+T.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=xb(t,{pathname:b});mr(m||P!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),mr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=KA(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Hr([f,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Hr([f,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,i);return e&&S?V.createElement(Jc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},S):S}function HA(){let t=ZA(),e=VA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=V.createElement(V.Fragment,null,V.createElement("p",null,"💿 Hey developer 👋"),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:o},"ErrorBoundary")," or"," ",V.createElement("code",{style:o},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,l)}var WA=V.createElement(HA,null),qA=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?V.createElement(ts.Provider,{value:this.props.routeContext},V.createElement(uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GA({routeContext:t,match:e,children:n}){let i=V.useContext(nu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(ts.Provider,{value:t},n)}function KA(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,o=n?.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=n,_=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,m)=>{let y,_=!1,T=null,b=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||WA,l&&(u<0&&m===0?(Mb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):u===m&&(_=!0,b=f.route.hydrateFallbackElement||null)));let P=e.concat(r.slice(0,m+1)),S=()=>{let A;return y?A=T:_?A=b:f.route.Component?A=V.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,V.createElement(GA,{match:f,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?V.createElement(qA,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:S(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):S()},null)}function cv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(t){let e=V.useContext(nu);return ht(e,cv(t)),e}function XA(t){let e=V.useContext(np);return ht(e,cv(t)),e}function YA(t){let e=V.useContext(ts);return ht(e,cv(t)),e}function hv(t){let e=YA(t),n=e.matches[e.matches.length-1];return ht(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function JA(){return hv("useRouteId")}function ZA(){let t=V.useContext(uv),e=XA("useRouteError"),n=hv("useRouteError");return t!==void 0?t:e.errors?.[n]}function e2(){let{router:t}=QA("useNavigate"),e=hv("useNavigate"),n=V.useRef(!1);return Ab(()=>{n.current=!0}),V.useCallback(async(r,o={})=>{mr(n.current,Rb),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var E1={};function Mb(t,e,n){!e&&!E1[t]&&(E1[t]=!0,mr(!1,n))}V.memo(t2);function t2({routes:t,future:e,state:n}){return Db(t,void 0,n,e)}function oy(t){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){ht(!Zc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof n=="string"&&(n=tu(n));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:_="default"}=n,T=V.useMemo(()=>{let b=Qr(h,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:y,key:_},navigationType:i}},[l,h,f,m,y,_,i]);return mr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:V.createElement(vr.Provider,{value:u},V.createElement(Jc.Provider,{children:e,value:T}))}function i2({children:t,location:e}){return $A(ay(t),e)}function ay(t,e=[]){let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let o=[...e,r];if(i.type===V.Fragment){n.push.apply(n,ay(i.props.children,o));return}ht(i.type===oy,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=ay(i.props.children,o)),n.push(l)}),n}var nf="get",rf="application/x-www-form-urlencoded";function ip(t){return t!=null&&typeof t.tagName=="string"}function r2(t){return ip(t)&&t.tagName.toLowerCase()==="button"}function s2(t){return ip(t)&&t.tagName.toLowerCase()==="form"}function o2(t){return ip(t)&&t.tagName.toLowerCase()==="input"}function a2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function l2(t,e){return t.button===0&&(!e||e==="_self")&&!a2(t)}var Md=null;function u2(){if(Md===null)try{new FormData(document.createElement("form"),0),Md=!1}catch{Md=!0}return Md}var c2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dg(t){return t!=null&&!c2.has(t)?(mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rf}"`),null):t}function h2(t,e){let n,i,r,o,l;if(s2(t)){let u=t.getAttribute("action");i=u?Qr(u,e):null,n=t.getAttribute("method")||nf,r=dg(t.getAttribute("enctype"))||rf,o=new FormData(t)}else if(r2(t)||o2(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?Qr(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||nf,r=dg(t.getAttribute("formenctype"))||dg(u.getAttribute("enctype"))||rf,o=new FormData(u,t),!u2()){let{name:f,type:m,value:y}=t;if(m==="image"){let _=f?`${f}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else f&&o.append(f,y)}}else{if(ip(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nf,i=null,r=rf,l=t}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function d2(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Qr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function f2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function m2(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await f2(o,n);return l.links?l.links():[]}return[]}));return _2(i.flat(1).filter(p2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function T1(t,e,n,i,r,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function g2(t,e,{includeHydrateFallback:n}={}){return y2(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function y2(t){return[...new Set(t)]}function v2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function _2(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(v2(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function Ob(){let t=V.useContext(nu);return dv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function w2(){let t=V.useContext(np);return dv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fv=V.createContext(void 0);fv.displayName="FrameworkContext";function Nb(){let t=V.useContext(fv);return dv(t,"You must render this element inside a <HydratedRouter> element"),t}function E2(t,e){let n=V.useContext(fv),[i,r]=V.useState(!1),[o,l]=V.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,_=V.useRef(null);V.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=A=>{A.forEach(L=>{l(L.isIntersecting)})},S=new IntersectionObserver(P,{threshold:.5});return _.current&&S.observe(_.current),()=>{S.disconnect()}}},[t]),V.useEffect(()=>{if(i){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[i]);let T=()=>{r(!0)},b=()=>{r(!1),l(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:oc(u,T),onBlur:oc(h,b),onMouseEnter:oc(f,T),onMouseLeave:oc(m,b),onTouchStart:oc(y,T)}]:[!1,_,{}]}function oc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function T2({page:t,...e}){let{router:n}=Ob(),i=V.useMemo(()=>xb(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?V.createElement(b2,{page:t,matches:i,...e}):null}function x2(t){let{manifest:e,routeModules:n}=Nb(),[i,r]=V.useState([]);return V.useEffect(()=>{let o=!1;return m2(t,e,n).then(l=>{o||r(l)}),()=>{o=!0}},[t,e,n]),i}function b2({page:t,matches:e,...n}){let i=fa(),{manifest:r,routeModules:o}=Nb(),{basename:l}=Ob(),{loaderData:u,matches:h}=w2(),f=V.useMemo(()=>T1(t,e,h,r,i,"data"),[t,e,h,r,i]),m=V.useMemo(()=>T1(t,e,h,r,i,"assets"),[t,e,h,r,i]),y=V.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let b=new Set,P=!1;if(e.forEach(A=>{let L=r.routes[A.route.id];!L||!L.hasLoader||(!f.some(z=>z.route.id===A.route.id)&&A.route.id in u&&o[A.route.id]?.shouldRevalidate||L.hasClientLoader?P=!0:b.add(A.route.id))}),b.size===0)return[];let S=d2(t,l,"data");return P&&b.size>0&&S.searchParams.set("_routes",e.filter(A=>b.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[l,u,i,r,f,e,t,o]),_=V.useMemo(()=>g2(m,r),[m,r]),T=x2(m);return V.createElement(V.Fragment,null,y.map(b=>V.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),_.map(b=>V.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),T.map(({key:b,link:P})=>V.createElement("link",{key:b,nonce:n.nonce,...P})))}function S2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vb&&(window.__reactRouterVersion="7.8.0")}catch{}function I2({basename:t,children:e,window:n}){let i=V.useRef();i.current==null&&(i.current=fA({window:n,v5Compat:!0}));let r=i.current,[o,l]=V.useState({action:r.action,location:r.location}),u=V.useCallback(h=>{V.startTransition(()=>l(h))},[l]);return V.useLayoutEffect(()=>r.listen(u),[r,u]),V.createElement(n2,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var Lb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fb=V.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:y,..._},T){let{basename:b}=V.useContext(vr),P=typeof f=="string"&&Lb.test(f),S,A=!1;if(typeof f=="string"&&P&&(S=f,Vb))try{let k=new URL(window.location.href),N=f.startsWith("//")?new URL(k.protocol+f):new URL(f),j=Qr(N.pathname,b);N.origin===k.origin&&j!=null?f=j+N.search+N.hash:A=!0}catch{mr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=UA(f,{relative:r}),[z,H,Q]=E2(i,_),Z=R2(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:y});function D(k){e&&e(k),k.defaultPrevented||Z(k)}let C=V.createElement("a",{..._,...Q,href:S||L,onClick:A||o?e:D,ref:S2(T,H),target:h,"data-discover":!P&&n==="render"?"true":void 0});return z&&!P?V.createElement(V.Fragment,null,C,V.createElement(T2,{page:L})):C});Fb.displayName="Link";var C2=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:h,...f},m){let y=eh(l,{relative:f.relative}),_=fa(),T=V.useContext(np),{navigator:b,basename:P}=V.useContext(vr),S=T!=null&&N2(y)&&u===!0,A=b.encodeLocation?b.encodeLocation(y).pathname:y.pathname,L=_.pathname,z=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(L=L.toLowerCase(),z=z?z.toLowerCase():null,A=A.toLowerCase()),z&&P&&(z=Qr(z,P)||z);const H=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Q=L===A||!r&&L.startsWith(A)&&L.charAt(H)==="/",Z=z!=null&&(z===A||!r&&z.startsWith(A)&&z.charAt(A.length)==="/"),D={isActive:Q,isPending:Z,isTransitioning:S},C=Q?e:void 0,k;typeof i=="function"?k=i(D):k=[i,Q?"active":null,Z?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(D):o;return V.createElement(Fb,{...f,"aria-current":C,className:k,ref:m,style:N,to:l,viewTransition:u},typeof h=="function"?h(D):h)});C2.displayName="NavLink";var P2=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:l=nf,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y,..._},T)=>{let b=M2(),P=O2(u,{relative:f}),S=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&Lb.test(u),L=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let H=z.nativeEvent.submitter,Q=H?.getAttribute("formmethod")||l;b(H||z.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return V.createElement("form",{ref:T,method:S,action:P,onSubmit:i?h:L,..._,"data-discover":!A&&t==="render"?"true":void 0})});P2.displayName="Form";function k2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jb(t){let e=V.useContext(nu);return ht(e,k2(t)),e}function R2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=zA(),h=fa(),f=eh(t,{relative:o});return V.useCallback(m=>{if(l2(m,e)){m.preventDefault();let y=n!==void 0?n:Dc(h)===Dc(f);u(t,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[h,u,f,n,i,e,t,r,o,l])}var A2=0,D2=()=>`__${String(++A2)}__`;function M2(){let{router:t}=jb("useSubmit"),{basename:e}=V.useContext(vr),n=JA();return V.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=h2(i,e);if(r.navigate===!1){let m=r.fetcherKey||D2();await t.fetch(m,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function O2(t,{relative:e}={}){let{basename:n}=V.useContext(vr),i=V.useContext(ts);ht(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...eh(t||".",{relative:e})},l=fa();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Hr([n,o.pathname])),Dc(o)}function N2(t,{relative:e}={}){let n=V.useContext(kb);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=jb("useViewTransitionState"),r=eh(t,{relative:e});if(!n.isTransitioning)return!1;let o=Qr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Qr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Ef(r.pathname,l)!=null||Ef(r.pathname,o)!=null}const V2=()=>{};var x1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},L2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},zb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(_=64)),i.push(n[m],n[y],n[_],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ub(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new F2;const _=o<<2|u>>4;if(i.push(_),f!==64){const T=u<<4&240|f>>2;if(i.push(T),y!==64){const b=f<<6&192|y;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j2=function(t){const e=Ub(t);return zb.encodeByteArray(e,!0)},Tf=function(t){return j2(t).replace(/\./g,"")},Bb=function(t){try{return zb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=()=>U2().__FIREBASE_DEFAULTS__,B2=()=>{if(typeof process>"u"||typeof x1>"u")return;const t=x1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bb(t[1]);return e&&JSON.parse(e)},rp=()=>{try{return V2()||z2()||B2()||$2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$b=t=>rp()?.emulatorHosts?.[t],Hb=t=>{const e=$b(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Wb=()=>rp()?.config,qb=t=>rp()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tf(JSON.stringify(n)),Tf(JSON.stringify(l)),""].join(".")}const wc={};function W2(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function q2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let b1=!1;function mv(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||wc[t]===e||wc[t]||b1)return;wc[t]=e;function n(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=W2().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{b1=!0,l()},_}function m(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=q2(i),T=n("text"),b=document.getElementById(T)||document.createElement("span"),P=n("learnmore"),S=document.getElementById(P)||document.createElement("a"),A=n("preprendIcon"),L=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const z=_.element;u(z),m(S,P);const H=f();h(L,A),z.append(L,b,S,H),document.body.appendChild(z)}o?(b.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function K2(){const t=rp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J2(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z2(){return!K2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eD(){try{return typeof indexedDB=="object"}catch{return!1}}function tD(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="FirebaseError";class _r extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=nD,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?iD(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new _r(r,u,i)}}function iD(t,e){return t.replace(rD,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const rD=/\{\$([^}]+)}/g;function sD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function na(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(S1(o)&&S1(l)){if(!na(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function S1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function hc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oD(t,e){const n=new aD(t,e);return n.subscribe.bind(n)}class aD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");lD(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=fg),r.error===void 0&&(r.error=fg),r.complete===void 0&&(r.complete=fg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){return t&&t._delegate?t._delegate:t}class Ws{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new H2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hD(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cD(t){return t===Bo?void 0:t}function hD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const fD={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},pD=De.INFO,mD={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},gD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=mD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=gD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const yD=(t,e)=>e.some(n=>t instanceof n);let I1,C1;function vD(){return I1||(I1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _D(){return C1||(C1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kb=new WeakMap,ly=new WeakMap,Qb=new WeakMap,pg=new WeakMap,yv=new WeakMap;function wD(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Fs(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Kb.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function ED(t){if(ly.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});ly.set(t,e)}let uy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Qb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TD(t){uy=t(uy)}function xD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(mg(this),e,...n);return Qb.set(i,e.sort?e.sort():[e]),Fs(i)}:_D().includes(t)?function(...e){return t.apply(mg(this),e),Fs(Kb.get(this))}:function(...e){return Fs(t.apply(mg(this),e))}}function bD(t){return typeof t=="function"?xD(t):(t instanceof IDBTransaction&&ED(t),yD(t,vD())?new Proxy(t,uy):t)}function Fs(t){if(t instanceof IDBRequest)return wD(t);if(pg.has(t))return pg.get(t);const e=bD(t);return e!==t&&(pg.set(t,e),yv.set(e,t)),e}const mg=t=>yv.get(t);function SD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Fs(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Fs(l.result),h.oldVersion,h.newVersion,Fs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const ID=["get","getKey","getAll","getAllKeys","count"],CD=["put","add","delete","clear"],gg=new Map;function P1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gg.get(e))return gg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=CD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ID.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return gg.set(e,o),o}TD(t=>({...t,get:(e,n,i)=>P1(e,n)||t.get(e,n,i),has:(e,n)=>!!P1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kD(t){return t.getComponent()?.type==="VERSION"}const cy="@firebase/app",k1="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new gv("@firebase/app"),RD="@firebase/app-compat",AD="@firebase/analytics-compat",DD="@firebase/analytics",MD="@firebase/app-check-compat",OD="@firebase/app-check",ND="@firebase/auth",VD="@firebase/auth-compat",LD="@firebase/database",FD="@firebase/data-connect",jD="@firebase/database-compat",UD="@firebase/functions",zD="@firebase/functions-compat",BD="@firebase/installations",$D="@firebase/installations-compat",HD="@firebase/messaging",WD="@firebase/messaging-compat",qD="@firebase/performance",GD="@firebase/performance-compat",KD="@firebase/remote-config",QD="@firebase/remote-config-compat",XD="@firebase/storage",YD="@firebase/storage-compat",JD="@firebase/firestore",ZD="@firebase/ai",e4="@firebase/firestore-compat",t4="firebase",n4="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",i4={[cy]:"fire-core",[RD]:"fire-core-compat",[DD]:"fire-analytics",[AD]:"fire-analytics-compat",[OD]:"fire-app-check",[MD]:"fire-app-check-compat",[ND]:"fire-auth",[VD]:"fire-auth-compat",[LD]:"fire-rtdb",[FD]:"fire-data-connect",[jD]:"fire-rtdb-compat",[UD]:"fire-fn",[zD]:"fire-fn-compat",[BD]:"fire-iid",[$D]:"fire-iid-compat",[HD]:"fire-fcm",[WD]:"fire-fcm-compat",[qD]:"fire-perf",[GD]:"fire-perf-compat",[KD]:"fire-rc",[QD]:"fire-rc-compat",[XD]:"fire-gcs",[YD]:"fire-gcs-compat",[JD]:"fire-fst",[e4]:"fire-fst-compat",[ZD]:"fire-vertex","fire-js":"fire-js",[t4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf=new Map,r4=new Map,dy=new Map;function R1(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ia(t){const e=t.name;if(dy.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of xf.values())R1(n,t);for(const n of r4.values())R1(n,t);return!0}function sp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new th("app","Firebase",s4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=n4;function Xb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:hy,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw js.create("bad-app-name",{appName:String(r)});if(n||(n=Wb()),!n)throw js.create("no-options");const o=xf.get(r);if(o){if(na(n,o.options)&&na(i,o.config))return o;throw js.create("duplicate-app",{appName:r})}const l=new dD(r);for(const h of dy.values())l.addComponent(h);const u=new o4(n,i,l);return xf.set(r,u),u}function vv(t=hy){const e=xf.get(t);if(!e&&t===hy&&Wb())return Xb();if(!e)throw js.create("no-app",{appName:t});return e}function sr(t,e,n){let i=i4[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(l.join(" "));return}ia(new Ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="firebase-heartbeat-database",l4=1,Mc="firebase-heartbeat-store";let yg=null;function Yb(){return yg||(yg=SD(a4,l4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mc)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),yg}async function u4(t){try{const n=(await Yb()).transaction(Mc),i=await n.objectStore(Mc).get(Jb(t));return await n.done,i}catch(e){if(e instanceof _r)Xr.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e?.message});Xr.warn(n.message)}}}async function A1(t,e){try{const i=(await Yb()).transaction(Mc,"readwrite");await i.objectStore(Mc).put(e,Jb(t)),await i.done}catch(n){if(n instanceof _r)Xr.warn(n.message);else{const i=js.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(i.message)}}}function Jb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=1024,h4=30;class d4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>h4){const r=m4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D1(),{heartbeatsToSend:n,unsentEntries:i}=f4(this._heartbeatsCache.heartbeats),r=Tf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Xr.warn(e),""}}}function D1(){return new Date().toISOString().substring(0,10)}function f4(t,e=c4){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),M1(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),M1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class p4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eD()?tD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return A1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function M1(t){return Tf(JSON.stringify({version:2,heartbeats:t})).length}function m4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(t){ia(new Ws("platform-logger",e=>new PD(e),"PRIVATE")),ia(new Ws("heartbeat",e=>new d4(e),"PRIVATE")),sr(cy,k1,t),sr(cy,k1,"esm2020"),sr("fire-js","")}g4("");var y4="firebase",v4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(y4,v4,"app");var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,Zb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function k(){}k.prototype=C.prototype,D.D=C.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(N,j,$){for(var O=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)O[ze-2]=arguments[ze];return C.prototype[j].apply(N,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,C,k){k||(k=0);var N=Array(16);if(typeof C=="string")for(var j=0;16>j;++j)N[j]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(j=0;16>j;++j)N[j]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=D.g[0],k=D.g[1],j=D.g[2];var $=D.g[3],O=C+($^k&(j^$))+N[0]+3614090360&4294967295;C=k+(O<<7&4294967295|O>>>25),O=$+(j^C&(k^j))+N[1]+3905402710&4294967295,$=C+(O<<12&4294967295|O>>>20),O=j+(k^$&(C^k))+N[2]+606105819&4294967295,j=$+(O<<17&4294967295|O>>>15),O=k+(C^j&($^C))+N[3]+3250441966&4294967295,k=j+(O<<22&4294967295|O>>>10),O=C+($^k&(j^$))+N[4]+4118548399&4294967295,C=k+(O<<7&4294967295|O>>>25),O=$+(j^C&(k^j))+N[5]+1200080426&4294967295,$=C+(O<<12&4294967295|O>>>20),O=j+(k^$&(C^k))+N[6]+2821735955&4294967295,j=$+(O<<17&4294967295|O>>>15),O=k+(C^j&($^C))+N[7]+4249261313&4294967295,k=j+(O<<22&4294967295|O>>>10),O=C+($^k&(j^$))+N[8]+1770035416&4294967295,C=k+(O<<7&4294967295|O>>>25),O=$+(j^C&(k^j))+N[9]+2336552879&4294967295,$=C+(O<<12&4294967295|O>>>20),O=j+(k^$&(C^k))+N[10]+4294925233&4294967295,j=$+(O<<17&4294967295|O>>>15),O=k+(C^j&($^C))+N[11]+2304563134&4294967295,k=j+(O<<22&4294967295|O>>>10),O=C+($^k&(j^$))+N[12]+1804603682&4294967295,C=k+(O<<7&4294967295|O>>>25),O=$+(j^C&(k^j))+N[13]+4254626195&4294967295,$=C+(O<<12&4294967295|O>>>20),O=j+(k^$&(C^k))+N[14]+2792965006&4294967295,j=$+(O<<17&4294967295|O>>>15),O=k+(C^j&($^C))+N[15]+1236535329&4294967295,k=j+(O<<22&4294967295|O>>>10),O=C+(j^$&(k^j))+N[1]+4129170786&4294967295,C=k+(O<<5&4294967295|O>>>27),O=$+(k^j&(C^k))+N[6]+3225465664&4294967295,$=C+(O<<9&4294967295|O>>>23),O=j+(C^k&($^C))+N[11]+643717713&4294967295,j=$+(O<<14&4294967295|O>>>18),O=k+($^C&(j^$))+N[0]+3921069994&4294967295,k=j+(O<<20&4294967295|O>>>12),O=C+(j^$&(k^j))+N[5]+3593408605&4294967295,C=k+(O<<5&4294967295|O>>>27),O=$+(k^j&(C^k))+N[10]+38016083&4294967295,$=C+(O<<9&4294967295|O>>>23),O=j+(C^k&($^C))+N[15]+3634488961&4294967295,j=$+(O<<14&4294967295|O>>>18),O=k+($^C&(j^$))+N[4]+3889429448&4294967295,k=j+(O<<20&4294967295|O>>>12),O=C+(j^$&(k^j))+N[9]+568446438&4294967295,C=k+(O<<5&4294967295|O>>>27),O=$+(k^j&(C^k))+N[14]+3275163606&4294967295,$=C+(O<<9&4294967295|O>>>23),O=j+(C^k&($^C))+N[3]+4107603335&4294967295,j=$+(O<<14&4294967295|O>>>18),O=k+($^C&(j^$))+N[8]+1163531501&4294967295,k=j+(O<<20&4294967295|O>>>12),O=C+(j^$&(k^j))+N[13]+2850285829&4294967295,C=k+(O<<5&4294967295|O>>>27),O=$+(k^j&(C^k))+N[2]+4243563512&4294967295,$=C+(O<<9&4294967295|O>>>23),O=j+(C^k&($^C))+N[7]+1735328473&4294967295,j=$+(O<<14&4294967295|O>>>18),O=k+($^C&(j^$))+N[12]+2368359562&4294967295,k=j+(O<<20&4294967295|O>>>12),O=C+(k^j^$)+N[5]+4294588738&4294967295,C=k+(O<<4&4294967295|O>>>28),O=$+(C^k^j)+N[8]+2272392833&4294967295,$=C+(O<<11&4294967295|O>>>21),O=j+($^C^k)+N[11]+1839030562&4294967295,j=$+(O<<16&4294967295|O>>>16),O=k+(j^$^C)+N[14]+4259657740&4294967295,k=j+(O<<23&4294967295|O>>>9),O=C+(k^j^$)+N[1]+2763975236&4294967295,C=k+(O<<4&4294967295|O>>>28),O=$+(C^k^j)+N[4]+1272893353&4294967295,$=C+(O<<11&4294967295|O>>>21),O=j+($^C^k)+N[7]+4139469664&4294967295,j=$+(O<<16&4294967295|O>>>16),O=k+(j^$^C)+N[10]+3200236656&4294967295,k=j+(O<<23&4294967295|O>>>9),O=C+(k^j^$)+N[13]+681279174&4294967295,C=k+(O<<4&4294967295|O>>>28),O=$+(C^k^j)+N[0]+3936430074&4294967295,$=C+(O<<11&4294967295|O>>>21),O=j+($^C^k)+N[3]+3572445317&4294967295,j=$+(O<<16&4294967295|O>>>16),O=k+(j^$^C)+N[6]+76029189&4294967295,k=j+(O<<23&4294967295|O>>>9),O=C+(k^j^$)+N[9]+3654602809&4294967295,C=k+(O<<4&4294967295|O>>>28),O=$+(C^k^j)+N[12]+3873151461&4294967295,$=C+(O<<11&4294967295|O>>>21),O=j+($^C^k)+N[15]+530742520&4294967295,j=$+(O<<16&4294967295|O>>>16),O=k+(j^$^C)+N[2]+3299628645&4294967295,k=j+(O<<23&4294967295|O>>>9),O=C+(j^(k|~$))+N[0]+4096336452&4294967295,C=k+(O<<6&4294967295|O>>>26),O=$+(k^(C|~j))+N[7]+1126891415&4294967295,$=C+(O<<10&4294967295|O>>>22),O=j+(C^($|~k))+N[14]+2878612391&4294967295,j=$+(O<<15&4294967295|O>>>17),O=k+($^(j|~C))+N[5]+4237533241&4294967295,k=j+(O<<21&4294967295|O>>>11),O=C+(j^(k|~$))+N[12]+1700485571&4294967295,C=k+(O<<6&4294967295|O>>>26),O=$+(k^(C|~j))+N[3]+2399980690&4294967295,$=C+(O<<10&4294967295|O>>>22),O=j+(C^($|~k))+N[10]+4293915773&4294967295,j=$+(O<<15&4294967295|O>>>17),O=k+($^(j|~C))+N[1]+2240044497&4294967295,k=j+(O<<21&4294967295|O>>>11),O=C+(j^(k|~$))+N[8]+1873313359&4294967295,C=k+(O<<6&4294967295|O>>>26),O=$+(k^(C|~j))+N[15]+4264355552&4294967295,$=C+(O<<10&4294967295|O>>>22),O=j+(C^($|~k))+N[6]+2734768916&4294967295,j=$+(O<<15&4294967295|O>>>17),O=k+($^(j|~C))+N[13]+1309151649&4294967295,k=j+(O<<21&4294967295|O>>>11),O=C+(j^(k|~$))+N[4]+4149444226&4294967295,C=k+(O<<6&4294967295|O>>>26),O=$+(k^(C|~j))+N[11]+3174756917&4294967295,$=C+(O<<10&4294967295|O>>>22),O=j+(C^($|~k))+N[2]+718787259&4294967295,j=$+(O<<15&4294967295|O>>>17),O=k+($^(j|~C))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(j+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+$&4294967295}i.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var k=C-this.blockSize,N=this.B,j=this.h,$=0;$<C;){if(j==0)for(;$<=k;)r(this,D,$),$+=this.blockSize;if(typeof D=="string"){for(;$<C;)if(N[j++]=D.charCodeAt($++),j==this.blockSize){r(this,N),j=0;break}}else for(;$<C;)if(N[j++]=D[$++],j==this.blockSize){r(this,N),j=0;break}}this.h=j,this.o+=C},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var k=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=k&255,k/=256;for(this.u(D),D=Array(16),C=k=0;4>C;++C)for(var N=0;32>N;N+=8)D[k++]=this.g[C]>>>N&255;return D};function o(D,C){var k=u;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=C(D)}function l(D,C){this.h=C;for(var k=[],N=!0,j=D.length-1;0<=j;j--){var $=D[j]|0;N&&$==C||(k[j]=$,N=!1)}this.g=k}var u={};function h(D){return-128<=D&&128>D?o(D,function(C){return new l([C|0],0>C?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(0>D)return S(f(-D));for(var C=[],k=1,N=0;D>=k;N++)C[N]=D/k|0,k*=4294967296;return new l(C,0)}function m(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return S(m(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=f(Math.pow(C,8)),N=y,j=0;j<D.length;j+=8){var $=Math.min(8,D.length-j),O=parseInt(D.substring(j,j+$),C);8>$?($=f(Math.pow(C,$)),N=N.j($).add(f(O))):(N=N.j(k),N=N.add(f(O)))}return N}var y=h(0),_=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(P(this))return-S(this).m();for(var D=0,C=1,k=0;k<this.g.length;k++){var N=this.i(k);D+=(0<=N?N:4294967296+N)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(b(this))return"0";if(P(this))return"-"+S(this).toString(D);for(var C=f(Math.pow(D,6)),k=this,N="";;){var j=H(k,C).g;k=A(k,j.j(C));var $=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=j,b(k))return $+N;for(;6>$.length;)$="0"+$;N=$+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function b(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=A(this,D),P(D)?-1:b(D)?0:1};function S(D){for(var C=D.g.length,k=[],N=0;N<C;N++)k[N]=~D.g[N];return new l(k,~D.h).add(_)}t.abs=function(){return P(this)?S(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],N=0,j=0;j<=C;j++){var $=N+(this.i(j)&65535)+(D.i(j)&65535),O=($>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);N=O>>>16,$&=65535,O&=65535,k[j]=O<<16|$}return new l(k,k[k.length-1]&-2147483648?-1:0)};function A(D,C){return D.add(S(C))}t.j=function(D){if(b(this)||b(D))return y;if(P(this))return P(D)?S(this).j(S(D)):S(S(this).j(D));if(P(D))return S(this.j(S(D)));if(0>this.l(T)&&0>D.l(T))return f(this.m()*D.m());for(var C=this.g.length+D.g.length,k=[],N=0;N<2*C;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var j=0;j<D.g.length;j++){var $=this.i(N)>>>16,O=this.i(N)&65535,ze=D.i(j)>>>16,_t=D.i(j)&65535;k[2*N+2*j]+=O*_t,L(k,2*N+2*j),k[2*N+2*j+1]+=$*_t,L(k,2*N+2*j+1),k[2*N+2*j+1]+=O*ze,L(k,2*N+2*j+1),k[2*N+2*j+2]+=$*ze,L(k,2*N+2*j+2)}for(N=0;N<C;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=C;N<2*C;N++)k[N]=0;return new l(k,0)};function L(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function z(D,C){this.g=D,this.h=C}function H(D,C){if(b(C))throw Error("division by zero");if(b(D))return new z(y,y);if(P(D))return C=H(S(D),C),new z(S(C.g),S(C.h));if(P(C))return C=H(D,S(C)),new z(S(C.g),C.h);if(30<D.g.length){if(P(D)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var k=_,N=C;0>=N.l(D);)k=Q(k),N=Q(N);var j=Z(k,1),$=Z(N,1);for(N=Z(N,2),k=Z(k,2);!b(N);){var O=$.add(N);0>=O.l(D)&&(j=j.add(k),$=O),N=Z(N,1),k=Z(k,1)}return C=A(D,j.j(C)),new z(j,C)}for(j=y;0<=D.l(C);){for(k=Math.max(1,Math.floor(D.m()/C.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),$=f(k),O=$.j(C);P(O)||0<O.l(D);)k-=N,$=f(k),O=$.j(C);b($)&&($=_),j=j.add($),D=A(D,O)}return new z(j,D)}t.A=function(D){return H(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],N=0;N<C;N++)k[N]=this.i(N)&D.i(N);return new l(k,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],N=0;N<C;N++)k[N]=this.i(N)|D.i(N);return new l(k,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),k=[],N=0;N<C;N++)k[N]=this.i(N)^D.i(N);return new l(k,this.h^D.h)};function Q(D){for(var C=D.g.length+1,k=[],N=0;N<C;N++)k[N]=D.i(N)<<1|D.i(N-1)>>>31;return new l(k,D.h)}function Z(D,C){var k=C>>5;C%=32;for(var N=D.g.length-k,j=[],$=0;$<N;$++)j[$]=0<C?D.i($+k)>>>C|D.i($+k+1)<<32-C:D.i($+k);return new l(j,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Zb=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Us=l}).apply(typeof O1<"u"?O1:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eS,dc,tS,sf,fy,nS,iS,rS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function r(d,v){if(v)e:{var E=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var W=d[I];if(!(W in E))break e;E=E[W]}d=d[d.length-1],I=E[d],v=v(I),v!=I&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,I=!1,W={next:function(){if(!I&&E<d.length){var X=E++;return{value:v(X,d[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function y(d,v,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),d.apply(v,W)}}return function(){return d.apply(v,arguments)}}function _(d,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,_.apply(null,arguments)}function T(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function b(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,W,X){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return v.prototype[W].apply(I,ae)}}function P(d){const v=d.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=d[I];return E}return[]}function S(d,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(h(I)){const W=d.length||0,X=I.length||0;d.length=W+X;for(let ae=0;ae<X;ae++)d[W+ae]=I[ae]}else d.push(I)}}class A{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function H(d){return H[" "](d),d}H[" "]=function(){};var Q=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Z(d,v,E){for(const I in d)v.call(E,d[I],I,d)}function D(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function C(d){const v={};for(const E in d)v[E]=d[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,v){let E,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(E in I)d[E]=I[E];for(let X=0;X<k.length;X++)E=k[X],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function j(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function $(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ge;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class ze{constructor(){this.h=this.g=null}add(v,E){const I=_t.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new A(()=>new ft,d=>d.reset());class ft{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,se=!1,ge=new ze,ne=()=>{const d=u.Promise.resolve(void 0);Se=()=>{d.then(B)}};var B=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){$(E)}var v=_t;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return d}();function Re(d,v){if(ue.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(Q){e:{try{H(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Le[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}b(Re,ue);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),We=0;function Xe(d,v,E,I,W){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=W,this.key=++We,this.da=this.fa=!1}function jt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Tr(d){this.src=d,this.g={},this.h=0}Tr.prototype.add=function(d,v,E,I,W){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ae=ns(d,v,I,W);return-1<ae?(v=d[ae],E||(v.fa=!1)):(v=new Xe(v,this.src,X,!!I,W),v.fa=E,d.push(v)),v};function Ta(d,v){var E=v.type;if(E in d.g){var I=d.g[E],W=Array.prototype.indexOf.call(I,v,void 0),X;(X=0<=W)&&Array.prototype.splice.call(I,W,1),X&&(jt(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ns(d,v,E,I){for(var W=0;W<d.length;++W){var X=d[W];if(!X.da&&X.listener==v&&X.capture==!!E&&X.ha==I)return W}return-1}var ao="closure_lm_"+(1e6*Math.random()|0),xa={};function hu(d,v,E,I,W){if(Array.isArray(v)){for(var X=0;X<v.length;X++)hu(d,v[X],E,I,W);return null}return E=pu(E),d&&d[He]?d.K(v,E,f(I)?!!I.capture:!1,W):du(d,v,E,!1,I,W)}function du(d,v,E,I,W,X){if(!v)throw Error("Invalid event type");var ae=f(W)?!!W.capture:!!W,Ge=Sa(d);if(Ge||(d[ao]=Ge=new Tr(d)),E=Ge.add(v,E,I,ae,X),E.proxy)return E;if(I=yh(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)Ce||(W=ae),W===void 0&&(W=!1),d.addEventListener(v.toString(),I,W);else if(d.attachEvent)d.attachEvent(br(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function yh(){function d(E){return v.call(d.src,d.listener,E)}const v=fu;return d}function ba(d,v,E,I,W){if(Array.isArray(v))for(var X=0;X<v.length;X++)ba(d,v[X],E,I,W);else I=f(I)?!!I.capture:!!I,E=pu(E),d&&d[He]?(d=d.i,v=String(v).toString(),v in d.g&&(X=d.g[v],E=ns(X,E,I,W),-1<E&&(jt(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete d.g[v],d.h--)))):d&&(d=Sa(d))&&(v=d.g[v.toString()],d=-1,v&&(d=ns(v,E,I,W)),(E=-1<d?v[d]:null)&&xr(E))}function xr(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[He])Ta(v.i,d);else{var E=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(E,I,d.capture):v.detachEvent?v.detachEvent(br(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=Sa(v))?(Ta(E,d),E.h==0&&(E.src=null,v[ao]=null)):jt(d)}}}function br(d){return d in xa?xa[d]:xa[d]="on"+d}function fu(d,v){if(d.da)d=!0;else{v=new Re(v,this);var E=d.listener,I=d.ha||d.src;d.fa&&xr(d),d=E.call(I,v)}return d}function Sa(d){return d=d[ao],d instanceof Tr?d:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(d){return typeof d=="function"?d:(d[Ia]||(d[Ia]=function(v){return d.handleEvent(v)}),d[Ia])}function At(){Y.call(this),this.i=new Tr(this),this.M=this,this.F=null}b(At,Y),At.prototype[He]=!0,At.prototype.removeEventListener=function(d,v,E,I){ba(this,d,v,E,I)};function Dt(d,v){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new ue(v,d);else if(v instanceof ue)v.target=v.target||d;else{var W=v;v=new ue(I,d),N(v,W)}if(W=!0,E)for(var X=E.length-1;0<=X;X--){var ae=v.g=E[X];W=Sr(ae,I,!0,v)&&W}if(ae=v.g=d,W=Sr(ae,I,!0,v)&&W,W=Sr(ae,I,!1,v)&&W,E)for(X=0;X<E.length;X++)ae=v.g=E[X],W=Sr(ae,I,!1,v)&&W}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],I=0;I<E.length;I++)jt(E[I]);delete d.g[v],d.h--}}this.F=null},At.prototype.K=function(d,v,E,I){return this.i.add(String(d),v,!1,E,I)},At.prototype.L=function(d,v,E,I){return this.i.add(String(d),v,!0,E,I)};function Sr(d,v,E,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,X=0;X<v.length;++X){var ae=v[X];if(ae&&!ae.da&&ae.capture==E){var Ge=ae.listener,Mt=ae.ha||ae.src;ae.fa&&Ta(d.i,ae),W=Ge.call(Mt,I)!==!1&&W}}return W&&!I.defaultPrevented}function mu(d,v,E){if(typeof d=="function")E&&(d=_(d,E));else if(d&&typeof d.handleEvent=="function")d=_(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function is(d){d.g=mu(()=>{d.g=null,d.i&&(d.i=!1,is(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class lo extends Y{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:is(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(d){Y.call(this),this.h=d,this.g={}}b(uo,Y);var gu=[];function yu(d){Z(d.g,function(v,E){this.g.hasOwnProperty(E)&&xr(v)},d),d.g={}}uo.prototype.N=function(){uo.aa.N.call(this),yu(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vu=u.JSON.stringify,_u=u.JSON.parse,wu=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function co(){}co.prototype.h=null;function Ca(d){return d.h||(d.h=d.i())}function Pa(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){ue.call(this,"d")}b($i,ue);function ka(){ue.call(this,"c")}b(ka,ue);var Hi={},Eu=null;function ho(){return Eu=Eu||new At}Hi.La="serverreachability";function Tu(d){ue.call(this,Hi.La,d)}b(Tu,ue);function Ir(d){const v=ho();Dt(v,new Tu(v))}Hi.STAT_EVENT="statevent";function xu(d,v){ue.call(this,Hi.STAT_EVENT,d),this.stat=v}b(xu,ue);function wt(d){const v=ho();Dt(v,new xu(v,d))}Hi.Ma="timingevent";function Ra(d,v){ue.call(this,Hi.Ma,d),this.size=v}b(Ra,ue);function yi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function fo(){this.g=!0}fo.prototype.xa=function(){this.g=!1};function po(d,v,E,I,W,X){d.info(function(){if(d.g)if(X)for(var ae="",Ge=X.split("&"),Mt=0;Mt<Ge.length;Mt++){var Fe=Ge[Mt].split("=");if(1<Fe.length){var Ut=Fe[0];Fe=Fe[1];var St=Ut.split("_");ae=2<=St.length&&St[1]=="type"?ae+(Ut+"="+Fe+"&"):ae+(Ut+"=redacted&")}}else ae=null;else ae=X;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+v+`
`+E+`
`+ae})}function Aa(d,v,E,I,W,X,ae){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+v+`
`+E+`
`+X+" "+ae})}function vi(d,v,E,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Op(d,E)+(I?" "+I:"")})}function bu(d,v){d.info(function(){return"TIMEOUT: "+v})}fo.prototype.info=function(){};function Op(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ae=1;ae<W.length;ae++)W[ae]=""}}}}return vu(E)}catch{return v}}var Da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function mo(){}b(mo,co),mo.prototype.g=function(){return new XMLHttpRequest},mo.prototype.i=function(){return{}},_i=new mo;function wi(d,v,E,I){this.j=d,this.i=v,this.l=E,this.R=I||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _h}function _h(){this.i=null,this.g="",this.h=!1}var Su={},Ma={};function Oa(d,v,E){d.L=1,d.v=ls(Fn(v)),d.m=E,d.P=!0,Iu(d,null)}function Iu(d,v){d.F=Date.now(),Ye(d),d.A=Fn(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),cs(E.i,"t",I),d.C=0,E=d.j.J,d.h=new _h,d.g=Lh(d.j,E?v:null,!d.m),0<d.O&&(d.M=new lo(_(d.Y,d,d.g),d.O)),v=d.U,E=d.g,I=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(gu[0]=W.toString()),W=gu);for(var X=0;X<W.length;X++){var ae=hu(E,W[X],I||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Ir(),po(d.i,d.u,d.A,d.l,d.R,d.m)}wi.prototype.ca=function(d){d=d.target;const v=this.M;v&&Pn(d)==3?v.j():this.Y(d)},wi.prototype.Y=function(d){try{if(d==this.g)e:{const St=Pn(this.g);var v=this.g.Ba();const ti=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Du(this.g)))){this.J||St!=4||v==7||(v==8||0>=ti?Ir(3):Ir(2)),go(this);var E=this.g.Z();this.X=E;t:if(wh(this)){var I=Du(this.g);d="";var W=I.length,X=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),rs(this);var ae="";break t}this.h.i=new u.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,d+=this.h.i.decode(I[v],{stream:!(X&&v==W-1)});I.length=0,this.h.g+=d,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,Aa(this.i,this.u,this.A,this.l,this.R,St,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,Mt=this.g;if((Ge=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Ge)){var Fe=Ge;break t}}Fe=null}if(E=Fe)vi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cu(this,E);else{this.o=!1,this.s=3,wt(12),Zn(this),rs(this);break e}}if(this.P){E=!0;let Un;for(;!this.J&&this.C<ae.length;)if(Un=Np(this,ae),Un==Ma){St==4&&(this.s=4,wt(14),E=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Su){this.s=4,wt(15),vi(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else vi(this.i,this.l,Un,null),Cu(this,Un);if(wh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ae.length!=0||this.h.h||(this.s=1,wt(16),E=!1),this.o=this.o&&E,!E)vi(this.i,this.l,ae,"[Invalid Chunked Response]"),Zn(this),rs(this);else if(0<ae.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ou(Ut),Ut.M=!0,wt(11))}}else vi(this.i,this.l,ae,null),Cu(this,ae);St==4&&Zn(this),this.o&&!this.J&&(St==4?Wa(this.j,this):(this.o=!1,Ye(this)))}else Ua(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),Zn(this),rs(this)}}}catch{}finally{}};function wh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Np(d,v){var E=d.C,I=v.indexOf(`
`,E);return I==-1?Ma:(E=Number(v.substring(E,I)),isNaN(E)?Su:(I+=1,I+E>v.length?Ma:(v=v.slice(I,I+E),d.C=I+E,v)))}wi.prototype.cancel=function(){this.J=!0,Zn(this)};function Ye(d){d.S=Date.now()+d.I,Eh(d,d.I)}function Eh(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=yi(_(d.ba,d),v)}function go(d){d.B&&(u.clearTimeout(d.B),d.B=null)}wi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(bu(this.i,this.A),this.L!=2&&(Ir(),wt(17)),Zn(this),this.s=2,rs(this)):Eh(this,this.S-d)};function rs(d){d.j.G==0||d.J||Wa(d.j,d)}function Zn(d){go(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,yu(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Cu(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||wn(E.h,d))){if(!d.K&&wn(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Ha(E),Si(E);else break e;$a(E),wt(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=yi(_(E.Za,E),6e3));if(1>=xh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Ar(E,11)}else if((d.K||E.g==d)&&Ha(E),!L(v))for(W=E.Da.g.parse(v),v=0;v<W.length;v++){let Fe=W[v];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const Ut=Fe[3];Ut!=null&&(E.la=Ut,E.j.info("VER="+E.la));const St=Fe[4];St!=null&&(E.Aa=St,E.j.info("SVER="+E.Aa));const ti=Fe[5];ti!=null&&typeof ti=="number"&&0<ti&&(I=1.5*ti,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Un=d.g;if(Un){const xo=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xo){var X=I.h;X.g||xo.indexOf("spdy")==-1&&xo.indexOf("quic")==-1&&xo.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Pu(X,X.h),X.h=null))}if(I.D){const Ga=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Ga&&(I.ya=Ga,Qe(I.I,I.D,Ga))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ae=d;if(I.qa=Vh(I,I.J?I.ia:null,I.W),ae.K){bh(I.h,ae);var Ge=ae,Mt=I.L;Mt&&(Ge.I=Mt),Ge.B&&(go(Ge),Ye(Ge)),I.g=ae}else To(I);0<E.i.length&&Ki(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Ar(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ar(E,7):Qt(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}Ir(4)}catch{}}var Th=class{constructor(d,v){this.g=d,this.map=v}};function yo(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function xh(d){return d.h?1:d.g?d.g.size:0}function wn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Pu(d,v){d.g?d.g.add(v):d.h=v}function bh(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}yo.prototype.cancel=function(){if(this.i=Sh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Sh(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return P(d.i)}function Na(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,I=0;I<E;I++)v.push(d[I]);return v}v=[],E=0;for(I in d)v[E++]=d[I];return v}function Va(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const I in d)v[E++]=I;return v}}}function ss(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Va(d),I=Na(d),W=I.length,X=0;X<W;X++)v.call(void 0,I[X],E&&E[X],d)}var vo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),W=null;if(0<=I){var X=d[E].substring(0,I);W=d[E].substring(I+1)}else X=d[E];v(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Cr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Cr){this.h=d.h,_o(this,d.j),this.o=d.o,this.g=d.g,os(this,d.s),this.l=d.l;var v=d.i,E=new Wi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),as(this,E),this.m=d.m}else d&&(v=String(d).match(vo))?(this.h=!1,_o(this,v[1]||"",!0),this.o=Ve(v[2]||""),this.g=Ve(v[3]||"",!0),os(this,v[4]),this.l=Ve(v[5]||"",!0),as(this,v[6]||"",!0),this.m=Ve(v[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}Cr.prototype.toString=function(){var d=[],v=this.j;v&&d.push(us(v,La,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(us(v,La,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(us(E,E.charAt(0)=="/"?Ph:Ch,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",us(E,ku)),d.join("")};function Fn(d){return new Cr(d)}function _o(d,v,E){d.j=E?Ve(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function os(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function as(d,v,E){v instanceof Wi?(d.i=v,qi(d.i,d.h)):(E||(v=us(v,kh)),d.i=new Wi(v,d.h))}function Qe(d,v,E){d.i.set(v,E)}function ls(d){return Qe(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ve(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function us(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,Ih),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ih(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var La=/[#\/\?@]/g,Ch=/[#\?:]/g,Ph=/[#\?]/g,kh=/[#\?@]/g,ku=/#/g;function Wi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Kt(d){d.g||(d.g=new Map,d.h=0,d.i&&Vp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Wi.prototype,t.add=function(d,v){Kt(this),this.i=null,d=ei(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Ei(d,v){Kt(d),v=ei(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Ti(d,v){return Kt(d),v=ei(d,v),d.g.has(v)}t.forEach=function(d,v){Kt(this),this.g.forEach(function(E,I){E.forEach(function(W){d.call(v,W,I,this)},this)},this)},t.na=function(){Kt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const W=d[I];for(let X=0;X<W.length;X++)E.push(v[I])}return E},t.V=function(d){Kt(this);let v=[];if(typeof d=="string")Ti(this,d)&&(v=v.concat(this.g.get(ei(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return Kt(this),this.i=null,d=ei(this,d),Ti(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function cs(d,v,E){Ei(d,v),0<E.length&&(d.i=null,d.g.set(ei(d,v),P(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const X=encodeURIComponent(String(I)),ae=this.V(I);for(I=0;I<ae.length;I++){var W=X;ae[I]!==""&&(W+="="+encodeURIComponent(String(ae[I]))),d.push(W)}}return this.i=d.join("&")};function ei(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function qi(d,v){v&&!d.j&&(Kt(d),d.i=null,d.g.forEach(function(E,I){var W=I.toLowerCase();I!=W&&(Ei(this,I),cs(this,W,E))},d)),d.j=v}function Lp(d,v){const E=new fo;if(u.Image){const I=new Image;I.onload=T(Cn,E,"TestLoadImage: loaded",!0,v,I),I.onerror=T(Cn,E,"TestLoadImage: error",!1,v,I),I.onabort=T(Cn,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=T(Cn,E,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function Rh(d,v){const E=new fo,I=new AbortController,W=setTimeout(()=>{I.abort(),Cn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(X=>{clearTimeout(W),X.ok?Cn(E,"TestPingServer: ok",!0,v):Cn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Cn(E,"TestPingServer: error",!1,v)})}function Cn(d,v,E,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(E)}catch{}}function Fp(){this.g=new wu}function Ah(d,v,E){const I=E||"";try{ss(d,function(W,X){let ae=W;f(W)&&(ae=vu(W)),v.push(I+X+"="+encodeURIComponent(ae))})}catch(W){throw v.push(I+"type="+encodeURIComponent("_badmap")),W}}function Pr(d){this.l=d.Ub||null,this.j=d.eb||!1}b(Pr,co),Pr.prototype.g=function(){return new wo(this.l,this.j)},Pr.prototype.i=function(d){return function(){return d}}({});function wo(d,v){At.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(wo,At),t=wo.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,bi(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?xi(this):bi(this),this.readyState==3&&Dh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,xi(this))},t.Qa=function(d){this.g&&(this.response=d,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,bi(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function bi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function kr(d){let v="";return Z(d,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function hs(d,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=kr(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Qe(d,v,E))}function ot(d){At.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(ot,At);var jp=/^https?$/i,Ru=["POST","PUT"];t=ot.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Ca(this.o):Ca(_i),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(X){Eo(this,X);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)E.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())E.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),W=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Ru,v,void 0))||I||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ae]of E)this.g.setRequestHeader(X,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ja(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Eo(this,X)}};function Eo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Fa(d),jn(d)}function Fa(d){d.A||(d.A=!0,Dt(d,"complete"),Dt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Dt(this,"complete"),Dt(this,"abort"),jn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Au(this):this.bb())},t.bb=function(){Au(this)};function Au(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Pn(d)!=4||d.Z()!=2)){if(d.u&&Pn(d)==4)mu(d.Ea,0,d);else if(Dt(d,"readystatechange"),Pn(d)==4){d.h=!1;try{const ae=d.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=ae===0){var W=String(d.D).match(vo)[1]||null;!W&&u.self&&u.self.location&&(W=u.self.location.protocol.slice(0,-1)),I=!jp.test(W?W.toLowerCase():"")}E=I}if(E)Dt(d,"complete"),Dt(d,"success");else{d.m=6;try{var X=2<Pn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Fa(d)}}finally{jn(d)}}}}function jn(d,v){if(d.g){ja(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||Dt(d,"ready");try{E.onreadystatechange=I}catch{}}}function ja(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),_u(v)}};function Du(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ua(d){const v={};d=(d.g&&2<=Pn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(L(d[I]))continue;var E=j(d[I]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=v[W]||[];v[W]=X,X.push(E)}D(v,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Mu(d){this.Aa=0,this.i=[],this.j=new fo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,d),this.cb=Gi("retryDelaySeedMs",1e4,d),this.Wa=Gi("forwardChannelMaxRetries",2,d),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new yo(d&&d.concurrentRequestLimit),this.Da=new Fp,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mu.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,I){wt(0),this.W=d,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Vh(this,null,this.W),Ki(this)};function Qt(d){if(za(d),d.G==3){var v=d.U++,E=Fn(d.I);if(Qe(E,"SID",d.K),Qe(E,"RID",v),Qe(E,"TYPE","terminate"),Rr(d,E),v=new wi(d,d.j,v),v.L=2,v.v=ls(Fn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=Lh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ye(v)}Nh(d)}function Si(d){d.g&&(Ou(d),d.g.cancel(),d.g=null)}function za(d){Si(d),d.u&&(u.clearTimeout(d.u),d.u=null),Ha(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Ki(d){if(!Ln(d.h)&&!d.s){d.s=!0;var v=d.Ga;Se||ne(),se||(Se(),se=!0),ge.add(v,d),d.B=0}}function Up(d,v){return xh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=yi(_(d.Ga,d,v),Oh(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new wi(this,this.j,d);let X=this.o;if(this.S&&(X?(X=C(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=ds(this,W,v),E=Fn(this.I),Qe(E,"RID",d),Qe(E,"CVER",22),this.D&&Qe(E,"X-HTTP-Session-Id",this.D),Rr(this,E),X&&(this.O?v="headers="+encodeURIComponent(String(kr(X)))+"&"+v:this.m&&hs(E,this.m,X)),Pu(this.h,W),this.Ua&&Qe(E,"TYPE","init"),this.P?(Qe(E,"$req",v),Qe(E,"SID","null"),W.T=!0,Oa(W,E,null)):Oa(W,E,v),this.G=2}}else this.G==3&&(d?Ba(this,d):this.i.length==0||Ln(this.h)||Ba(this))};function Ba(d,v){var E;v?E=v.l:E=d.U++;const I=Fn(d.I);Qe(I,"SID",d.K),Qe(I,"RID",E),Qe(I,"AID",d.T),Rr(d,I),d.m&&d.o&&hs(I,d.m,d.o),E=new wi(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=ds(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Pu(d.h,E),Oa(E,I,v)}function Rr(d,v){d.H&&Z(d.H,function(E,I){Qe(v,I,E)}),d.l&&ss({},function(E,I){Qe(v,I,E)})}function ds(d,v,E){E=Math.min(d.i.length,E);var I=d.l?_(d.l.Na,d.l,d):null;e:{var W=d.i;let X=-1;for(;;){const ae=["count="+E];X==-1?0<E?(X=W[0].g,ae.push("ofs="+X)):X=0:ae.push("ofs="+X);let Ge=!0;for(let Mt=0;Mt<E;Mt++){let Fe=W[Mt].g;const Ut=W[Mt].map;if(Fe-=X,0>Fe)X=Math.max(0,W[Mt].g-100),Ge=!1;else try{Ah(Ut,ae,"req"+Fe+"_")}catch{I&&I(Ut)}}if(Ge){I=ae.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,I}function To(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Se||ne(),se||(Se(),se=!0),ge.add(v,d),d.v=0}}function $a(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=yi(_(d.Fa,d),Oh(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Mh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=yi(_(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),Si(this),Mh(this))};function Ou(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Mh(d){d.g=new wi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Fn(d.qa);Qe(v,"RID","rpc"),Qe(v,"SID",d.K),Qe(v,"AID",d.T),Qe(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Qe(v,"TO",d.ja),Qe(v,"TYPE","xmlhttp"),Rr(d,v),d.m&&d.o&&hs(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=ls(Fn(v)),E.m=null,E.P=!0,Iu(E,d)}t.Za=function(){this.C!=null&&(this.C=null,Si(this),$a(this),wt(19))};function Ha(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Wa(d,v){var E=null;if(d.g==v){Ha(d),Ou(d),d.g=null;var I=2}else if(wn(d.h,v))E=v.D,bh(d.h,v),I=1;else return;if(d.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var W=d.B;I=ho(),Dt(I,new Ra(I,E)),Ki(d)}else To(d);else if(W=v.s,W==3||W==0&&0<v.X||!(I==1&&Up(d,v)||I==2&&$a(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),W){case 1:Ar(d,5);break;case 4:Ar(d,10);break;case 3:Ar(d,6);break;default:Ar(d,2)}}}function Oh(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function Ar(d,v){if(d.j.info("Error code "+v),v==2){var E=_(d.fb,d),I=d.Xa;const W=!I;I=new Cr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||_o(I,"https"),ls(I),W?Lp(I.toString(),E):Rh(I.toString(),E)}else wt(2);d.G=0,d.l&&d.l.sa(v),Nh(d),za(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Nh(d){if(d.G=0,d.ka=[],d.l){const v=Sh(d.h);(v.length!=0||d.i.length!=0)&&(S(d.ka,v),S(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function Vh(d,v,E){var I=E instanceof Cr?Fn(E):new Cr(E);if(I.g!="")v&&(I.g=v+"."+I.g),os(I,I.s);else{var W=u.location;I=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var X=new Cr(null);I&&_o(X,I),v&&(X.g=v),W&&os(X,W),E&&(X.l=E),I=X}return E=d.D,v=d.ya,E&&v&&Qe(I,E,v),Qe(I,"VER",d.la),Rr(d,I),I}function Lh(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new ot(new Pr({eb:E})):new ot(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}t=Nu.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qa(){}qa.prototype.g=function(d,v){return new En(d,v)};function En(d,v){At.call(this),this.g=new Mu(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!L(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Qi(this)}b(En,At),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Qt(this.g)},En.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=vu(d),d=E);v.i.push(new Th(v.Ya++,d)),v.G==3&&Ki(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,En.aa.N.call(this)};function Fh(d){$i.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(Fh,$i);function jh(){ka.call(this),this.status=1}b(jh,ka);function Qi(d){this.g=d}b(Qi,Nu),Qi.prototype.ua=function(){Dt(this.g,"a")},Qi.prototype.ta=function(d){Dt(this.g,new Fh(d))},Qi.prototype.sa=function(d){Dt(this.g,new jh)},Qi.prototype.ra=function(){Dt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,rS=function(){return new qa},iS=function(){return ho()},nS=Hi,fy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,sf=Da,vh.COMPLETE="complete",tS=vh,Pa.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",At.prototype.listen=At.prototype.K,dc=Pa,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,eS=ot}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});const N1="@firebase/firestore",V1="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new gv("@firebase/firestore");function yl(){return ra.logLevel}function he(t,...e){if(ra.logLevel<=De.DEBUG){const n=e.map(_v);ra.debug(`Firestore (${iu}): ${t}`,...n)}}function Yr(t,...e){if(ra.logLevel<=De.ERROR){const n=e.map(_v);ra.error(`Firestore (${iu}): ${t}`,...n)}}function Ul(t,...e){if(ra.logLevel<=De.WARN){const n=e.map(_v);ra.warn(`Firestore (${iu}): ${t}`,...n)}}function _v(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,sS(t,i,n)}function sS(t,e,n){let i=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Yr(i),new Error(i)}function qe(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||sS(e,r,i)}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class w4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E4{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wr,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(qe(typeof i.accessToken=="string",31837,{l:i}),new oS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class T4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new T4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const i=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=S4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function py(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),o=e.charAt(i);if(r!==o)return vg(r)===vg(o)?Me(r,o):vg(r)?1:-1}return Me(t.length,e.length)}const I4=55296,C4=57343;function vg(t){const e=t.charCodeAt(0);return e>=I4&&e<=C4}function zl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="__name__";class tr{constructor(e,n,i){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&be(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=tr.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return Me(e.length,n.length)}static compareSegments(e,n){const i=tr.isNumericId(e),r=tr.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?tr.extractNumericId(e).compare(tr.extractNumericId(n)):py(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Us.fromString(e.substring(4,e.length-2))}}class it extends tr{construct(e,n,i){return new it(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new it(n)}static emptyPath(){return new it([])}}const P4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends tr{construct(e,n,i){return new tn(e,n,i)}static isValidIdentifier(e){return P4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F1}static keyField(){return new tn([F1])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(t,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function k4(t,e,n,i){if(e===!0&&i===!0)throw new me(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j1(t){if(!_e.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U1(t){if(_e.isDocumentKey(t))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ev(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":be(12329,{type:typeof t})}function sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(t);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ih(t,e){if(!lS(t))throw new me(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(r&&typeof l!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new me(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=-62135596800,B1=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*B1);return new rt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<z1)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B1}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ih(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-z1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:kt("string",rt._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new rt(0,0))}static max(){return new Pe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oc=-1;function R4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Pe.fromTimestamp(i===1e9?new rt(n+1,0):new rt(n,i));return new qs(r,_e.empty(),e)}function A4(t){return new qs(t.readTime,t.key,Oc)}class qs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new qs(Pe.min(),_e.empty(),Oc)}static max(){return new qs(Pe.max(),_e.empty(),Oc)}}function D4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==M4)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,i)=>{n(e)})}static reject(e){return new J((n,i)=>{i(e)})}static waitFor(e){return new J((n,i)=>{let r=0,o=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&n()},h=>i(h))}),l=!0,o===r&&n()})}static or(e){let n=J.resolve(!1);for(const i of e)n=n.next(r=>r?J.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new J((i,r)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{l[f]=m,++u,u===o&&i(l)},m=>r(m))}})}static doWhile(e,n){return new J((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function N4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}op.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-1;function ap(t){return t==null}function bf(t){return t===0&&1/t==-1/0}function V4(t){return typeof t=="number"&&Number.isInteger(t)&&!bf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="";function L4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$1(e)),e=F4(t.get(n),e);return $1(e)}function F4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case uS:n+="";break;default:n+=o}}return n}function $1(t){return t+uS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||en.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??en.RED,this.left=r??en.EMPTY,this.right=o??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new en(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return en.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,i,r,o){return this}insert(e,n,i){return new en(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W1(this.data.getIterator())}getIteratorFrom(e){return new W1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class W1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Vi([])}unionWith(e){let n=new Ft(tn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hS("Invalid base64 string: "+o):o}}(e);return new nn(n)}static fromUint8Array(e){const n=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const j4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=j4.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xt(t.seconds),nanos:xt(t.nanos)}}function xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="server_timestamp",fS="__type__",pS="__previous_value__",mS="__local_write_time__";function xv(t){return(t?.mapValue?.fields||{})[fS]?.stringValue===dS}function lp(t){const e=t.mapValue.fields[pS];return xv(e)?lp(e):e}function Nc(t){const e=Gs(t.mapValue.fields[mS].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,i,r,o,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Sf="(default)";class Vc{constructor(e,n){this.projectId=e,this.database=n||Sf}static empty(){return new Vc("","")}get isDefaultDatabase(){return this.database===Sf}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="__type__",z4="__max__",Vd={mapValue:{}},yS="__vector__",If="value";function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xv(t)?4:$4(t)?9007199254740991:B4(t)?10:11:be(28295,{value:t})}function gr(t,e){if(t===e)return!0;const n=Qs(t);if(n!==Qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Gs(r.timestampValue),u=Gs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Ks(r.bytesValue).isEqual(Ks(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return xt(r.geoPointValue.latitude)===xt(o.geoPointValue.latitude)&&xt(r.geoPointValue.longitude)===xt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return xt(r.integerValue)===xt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=xt(r.doubleValue),u=xt(o.doubleValue);return l===u?bf(l)===bf(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(H1(l)!==H1(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!gr(l[h],u[h])))return!1;return!0}(t,e);default:return be(52216,{left:t})}}function Lc(t,e){return(t.values||[]).find(n=>gr(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=Qs(t),i=Qs(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=xt(o.integerValue||o.doubleValue),h=xt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return q1(t.timestampValue,e.timestampValue);case 4:return q1(Nc(t),Nc(e));case 5:return py(t.stringValue,e.stringValue);case 6:return function(o,l){const u=Ks(o),h=Ks(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Me(u[f],h[f]);if(m!==0)return m}return Me(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Me(xt(o.latitude),xt(l.latitude));return u!==0?u:Me(xt(o.longitude),xt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return G1(t.arrayValue,e.arrayValue);case 10:return function(o,l){const u=o.fields||{},h=l.fields||{},f=u[If]?.arrayValue,m=h[If]?.arrayValue,y=Me(f?.values?.length||0,m?.values?.length||0);return y!==0?y:G1(f,m)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===Vd.mapValue&&l===Vd.mapValue)return 0;if(o===Vd.mapValue)return 1;if(l===Vd.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const _=py(h[y],m[y]);if(_!==0)return _;const T=Bl(u[h[y]],f[m[y]]);if(T!==0)return T}return Me(h.length,m.length)}(t.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function q1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Gs(t),i=Gs(e),r=Me(n.seconds,i.seconds);return r!==0?r:Me(n.nanos,i.nanos)}function G1(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Bl(n[r],i[r]);if(o)return o}return Me(n.length,i.length)}function $l(t){return my(t)}function my(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Gs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ks(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=my(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${my(n.fields[l])}`;return r+"}"}(t.mapValue):be(61005,{value:t})}function of(t){switch(Qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lp(t);return e?16+of(e):16;case 5:return 2*t.stringValue.length;case 6:return Ks(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+of(o),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return ma(i.fields,(o,l)=>{r+=o.length+of(l)}),r}(t.mapValue);default:throw be(13486,{value:t})}}function gy(t){return!!t&&"integerValue"in t}function bv(t){return!!t&&"arrayValue"in t}function K1(t){return!!t&&"nullValue"in t}function Q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function af(t){return!!t&&"mapValue"in t}function B4(t){return(t?.mapValue?.fields||{})[gS]?.stringValue===yS}function Ec(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ma(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ec(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return{...t}}function $4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===z4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!af(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=tn.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=u.popLast()}l?i[u.lastSegment()]=Ec(l):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());af(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];af(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){ma(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new di(Ec(this.value))}}function vS(t){const e=[];return ma(t.fields,(n,i)=>{const r=new tn([n]);if(af(i)){const o=vS(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,n,i,r,o,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new dn(e,0,Pe.min(),Pe.min(),Pe.min(),di.empty(),0)}static newFoundDocument(e,n,i,r){return new dn(e,1,n,Pe.min(),i,r,0)}static newNoDocument(e,n){return new dn(e,2,n,Pe.min(),Pe.min(),di.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Pe.min(),Pe.min(),di.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n){this.position=e,this.inclusive=n}}function X1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?i=_e.comparator(_e.fromName(l.referenceValue),n.key):i=Bl(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Y1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n="asc"){this.field=e,this.dir=n}}function H4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{}class Vt extends _S{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new q4(e,n,i):n==="array-contains"?new Q4(e,i):n==="in"?new X4(e,i):n==="not-in"?new Y4(e,i):n==="array-contains-any"?new J4(e,i):new Vt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new G4(e,i):new K4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bl(n,this.value)):n!==null&&Qs(this.value)===Qs(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return wS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wS(t){return t.op==="and"}function ES(t){return W4(t)&&wS(t)}function W4(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function yy(t){if(t instanceof Vt)return t.field.canonicalString()+t.op.toString()+$l(t.value);if(ES(t))return t.filters.map(e=>yy(e)).join(",");{const e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function TS(t,e){return t instanceof Vt?function(i,r){return r instanceof Vt&&i.op===r.op&&i.field.isEqual(r.field)&&gr(i.value,r.value)}(t,e):t instanceof yr?function(i,r){return r instanceof yr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,u)=>o&&TS(l,r.filters[u]),!0):!1}(t,e):void be(19439)}function xS(t){return t instanceof Vt?function(n){return`${n.field.canonicalString()} ${n.op} ${$l(n.value)}`}(t):t instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map(xS).join(" ,")+"}"}(t):"Filter"}class q4 extends Vt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class G4 extends Vt{constructor(e,n){super(e,"in",n),this.keys=bS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class K4 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=bS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bS(t,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class Q4 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bv(n)&&Lc(n.arrayValue,this.value)}}class X4 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lc(this.value.arrayValue,n)}}class Y4 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lc(this.value.arrayValue,n)}}class J4 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Lc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,n=null,i=[],r=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function J1(t,e=null,n=[],i=[],r=null,o=null,l=null){return new Z4(t,e,n,i,r,o,l)}function Sv(t){const e=ke(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>yy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),ap(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>$l(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>$l(i)).join(",")),e.Te=n}return e.Te}function Iv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y1(t.startAt,e.startAt)&&Y1(t.endAt,e.endAt)}function vy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n=null,i=[],r=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eM(t,e,n,i,r,o,l,u){return new up(t,e,n,i,r,o,l,u)}function Cv(t){return new up(t)}function Z1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tM(t){return t.collectionGroup!==null}function Tc(t){const e=ke(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Ft(tn.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Pf(o,i))}),n.has(tn.keyField().canonicalString())||e.Ie.push(new Pf(tn.keyField(),i))}return e.Ie}function or(t){const e=ke(t);return e.Ee||(e.Ee=nM(e,Tc(t))),e.Ee}function nM(t,e){if(t.limitType==="F")return J1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new Pf(r.field,o)});const n=t.endAt?new Cf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Cf(t.startAt.position,t.startAt.inclusive):null;return J1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function _y(t,e,n){return new up(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cp(t,e){return Iv(or(t),or(e))&&t.limitType===e.limitType}function SS(t){return`${Sv(or(t))}|lt:${t.limitType}`}function vl(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>xS(r)).join(", ")}]`),ap(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>$l(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>$l(r)).join(",")),`Target(${i})`}(or(t))}; limitType=${t.limitType})`}function hp(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_e.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of Tc(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=X1(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,Tc(i),r)||i.endAt&&!function(l,u,h){const f=X1(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,Tc(i),r))}(t,e)}function iM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function IS(t){return(e,n)=>{let i=!1;for(const r of Tc(t)){const o=rM(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function rM(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Bl(h,f):be(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return be(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new dt(_e.comparator);function Jr(){return sM}const CS=new dt(_e.comparator);function fc(...t){let e=CS;for(const n of t)e=e.insert(n.key,n);return e}function PS(t){let e=CS;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function qo(){return xc()}function kS(){return xc()}function xc(){return new ga(t=>t.toString(),(t,e)=>t.isEqual(e))}const oM=new dt(_e.comparator),aM=new Ft(_e.comparator);function Ne(...t){let e=aM;for(const n of t)e=e.add(n);return e}const lM=new Ft(Me);function uM(){return lM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bf(e)?"-0":e}}function RS(t){return{integerValue:""+t}}function cM(t,e){return V4(e)?RS(e):Pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this._=void 0}}function hM(t,e,n){return t instanceof Fc?function(r,o){const l={fields:{[fS]:{stringValue:dS},[mS]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&xv(o)&&(o=lp(o)),o&&(l.fields[pS]=o),{mapValue:l}}(n,e):t instanceof jc?DS(t,e):t instanceof Uc?MS(t,e):function(r,o){const l=AS(r,o),u=eE(l)+eE(r.Ae);return gy(l)&&gy(r.Ae)?RS(u):Pv(r.serializer,u)}(t,e)}function dM(t,e,n){return t instanceof jc?DS(t,e):t instanceof Uc?MS(t,e):n}function AS(t,e){return t instanceof kf?function(i){return gy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Fc extends dp{}class jc extends dp{constructor(e){super(),this.elements=e}}function DS(t,e){const n=OS(e);for(const i of t.elements)n.some(r=>gr(r,i))||n.push(i);return{arrayValue:{values:n}}}class Uc extends dp{constructor(e){super(),this.elements=e}}function MS(t,e){let n=OS(e);for(const i of t.elements)n=n.filter(r=>!gr(r,i));return{arrayValue:{values:n}}}class kf extends dp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eE(t){return xt(t.integerValue||t.doubleValue)}function OS(t){return bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.field=e,this.transform=n}}function pM(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof jc&&r instanceof jc||i instanceof Uc&&r instanceof Uc?zl(i.elements,r.elements,gr):i instanceof kf&&r instanceof kf?gr(i.Ae,r.Ae):i instanceof Fc&&r instanceof Fc}(t.transform,e.transform)}class mM{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fp{}function NS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kv(t.key,ar.none()):new rh(t.key,t.data,ar.none());{const n=t.data,i=di.empty();let r=new Ft(tn.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new ya(t.key,i,new Vi(r.toArray()),ar.none())}}function gM(t,e,n){t instanceof rh?function(r,o,l){const u=r.value.clone(),h=nE(r.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof ya?function(r,o,l){if(!lf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=nE(r.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(VS(r)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function bc(t,e,n,i){return t instanceof rh?function(o,l,u,h){if(!lf(o.precondition,l))return u;const f=o.value.clone(),m=iE(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof ya?function(o,l,u,h){if(!lf(o.precondition,l))return u;const f=iE(o.fieldTransforms,h,l),m=l.data;return m.setAll(VS(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,i):function(o,l,u){return lf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function yM(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=AS(i.transform,r||null);o!=null&&(n===null&&(n=di.empty()),n.set(i.field,o))}return n||null}function tE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&zl(i,r,(o,l)=>pM(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class rh extends fp{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ya extends fp{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function VS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function nE(t,e,n){const i=new Map;qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,u=e.data.field(o.field);i.set(o.field,dM(l,u,n[r]))}return i}function iE(t,e,n){const i=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);i.set(r.field,hM(o,l,e))}return i}class kv extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vM extends fp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&gM(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=bc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=bc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=kS();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(r.key)?null:u;const h=NS(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Pe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,i)=>tE(n,i))&&zl(this.baseMutations,e.baseMutations,(n,i)=>tE(n,i))}}class Rv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){qe(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return oM}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Rv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,je;function TM(t){switch(t){case ee.OK:return be(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return be(15467,{code:t})}}function LS(t){if(t===void 0)return Yr("GRPC error has no .code"),ee.UNKNOWN;switch(t){case Ct.OK:return ee.OK;case Ct.CANCELLED:return ee.CANCELLED;case Ct.UNKNOWN:return ee.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ee.INTERNAL;case Ct.UNAVAILABLE:return ee.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ee.NOT_FOUND;case Ct.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ct.ABORTED:return ee.ABORTED;case Ct.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ct.DATA_LOSS:return ee.DATA_LOSS;default:return be(39323,{code:t})}}(je=Ct||(Ct={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=new Us([4294967295,4294967295],0);function rE(t){const e=xM().encode(t),n=new Zb;return n.update(e),new Uint8Array(n.digest())}function sE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Us([n,i],0),new Us([r,o],0)]}class Av{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(i<0)throw new pc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Us.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Us.fromNumber(i)));return r.compare(bM)===1&&(r=new Us([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rE(e),[i,r]=sE(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Av(o,r,n);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const n=rE(e),[i,r]=sE(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,sh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new pp(Pe.min(),r,new dt(Me),Jr(),Ne())}}class sh{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new sh(i,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class FS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,i=nn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class oE{constructor(){this.ve=0,this.Fe=aE(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),i=Ne();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:be(38017,{changeType:o})}}),new sh(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=aE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class SM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=Ld(),this.He=Ld(),this.Ye=new dt(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(vy(o))if(i===0){const l=new _e(o.path);this.et(n,l,dn.newNoDocument(l,Pe.min()))}else qe(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let l,u;try{l=Ks(i).toUint8Array()}catch(h){if(h instanceof hS)return Ul("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Av(l,r,o)}catch(h){return Ul(h instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((o,l)=>{const u=this.ot(l);if(u){if(o.current&&vy(u.target)){const h=new _e(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,dn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}});let i=Ne();this.He.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const r=new pp(e,n,this.Ye,this.je,i);return this.je=Jr(),this.Je=Ld(),this.He=Ld(),this.Ye=new dt(Me),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new oE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ld(){return new dt(_e.comparator)}function aE(){return new dt(_e.comparator)}const IM={asc:"ASCENDING",desc:"DESCENDING"},CM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PM={and:"AND",or:"OR"};class kM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wy(t,e){return t.useProto3Json||ap(e)?e:{value:e}}function Rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function US(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function RM(t,e){return Rf(t,e.toTimestamp())}function lr(t){return qe(!!t,49232),Pe.fromTimestamp(function(n){const i=Gs(n);return new rt(i.seconds,i.nanos)}(t))}function Dv(t,e){return Ey(t,e).canonicalString()}function Ey(t,e){const n=function(r){return new it(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zS(t){const e=it.fromString(t);return qe(qS(e),10190,{key:e.toString()}),e}function Ty(t,e){return Dv(t.databaseId,e.path)}function _g(t,e){const n=zS(e);if(n.get(1)!==t.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e($S(n))}function BS(t,e){return Dv(t.databaseId,e)}function AM(t){const e=zS(t);return e.length===4?it.emptyPath():$S(e)}function xy(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $S(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lE(t,e,n){return{name:Ty(t,e),fields:n.value.mapValue.fields}}function DM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:be(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(qe(m===void 0||typeof m=="string",58123),nn.fromBase64String(m||"")):(qe(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),nn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?ee.UNKNOWN:LS(f.code);return new me(m,f.message||"")}(l);n=new jS(i,r,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=_g(t,i.document.name),o=lr(i.document.updateTime),l=i.document.createTime?lr(i.document.createTime):Pe.min(),u=new di({mapValue:{fields:i.document.fields}}),h=dn.newFoundDocument(r,o,l,u),f=i.targetIds||[],m=i.removedTargetIds||[];n=new uf(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=_g(t,i.document),o=i.readTime?lr(i.readTime):Pe.min(),l=dn.newNoDocument(r,o),u=i.removedTargetIds||[];n=new uf([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=_g(t,i.document),o=i.removedTargetIds||[];n=new uf([],o,r,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new EM(r,o),u=i.targetId;n=new FS(u,l)}}return n}function MM(t,e){let n;if(e instanceof rh)n={update:lE(t,e.key,e.value)};else if(e instanceof kv)n={delete:Ty(t,e.key)};else if(e instanceof ya)n={update:lE(t,e.key,e.data),updateMask:BM(e.fieldMask)};else{if(!(e instanceof vM))return be(16599,{Vt:e.type});n={verify:Ty(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof Fc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Uc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof kf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw be(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:RM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be(27497)}(t,e.precondition)),n}function OM(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map(n=>function(r,o){let l=r.updateTime?lr(r.updateTime):lr(o);return l.isEqual(Pe.min())&&(l=lr(o)),new mM(l,r.transformResults||[])}(n,e))):[]}function NM(t,e){return{documents:[BS(t,e.path)]}}function VM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=BS(t,r);const o=function(f){if(f.length!==0)return WS(yr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(_){return{field:_l(_.field),direction:jM(_.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=wy(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:r}}function LM(t){let e=AM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){qe(i===1,65062);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const _=HS(y);return _ instanceof yr&&ES(_)?_.getFilters():[_]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(_=>function(b){return new Pf(wl(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(_))}(n.orderBy));let u=null;n.limit&&(u=function(y){let _;return _=typeof y=="object"?y.value:y,ap(_)?null:_}(n.limit));let h=null;n.startAt&&(h=function(y){const _=!!y.before,T=y.values||[];return new Cf(T,_)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const _=!y.before,T=y.values||[];return new Cf(T,_)}(n.endAt)),eM(e,r,l,o,u,"F",h,f)}function FM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=wl(n.unaryFilter.field);return Vt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=wl(n.unaryFilter.field);return Vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wl(n.unaryFilter.field);return Vt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wl(n.unaryFilter.field);return Vt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(t):t.fieldFilter!==void 0?function(n){return Vt.create(wl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yr.create(n.compositeFilter.filters.map(i=>HS(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(t):be(30097,{filter:t})}function jM(t){return IM[t]}function UM(t){return CM[t]}function zM(t){return PM[t]}function _l(t){return{fieldPath:t.canonicalString()}}function wl(t){return tn.fromServerFormat(t.fieldPath)}function WS(t){return t instanceof Vt?function(n){if(n.op==="=="){if(Q1(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NAN"}};if(K1(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Q1(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NAN"}};if(K1(n.value))return{unaryFilter:{field:_l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_l(n.field),op:UM(n.op),value:n.value}}}(t):t instanceof yr?function(n){const i=n.getFilters().map(r=>WS(r));return i.length===1?i[0]:{compositeFilter:{op:zM(n.op),filters:i}}}(t):be(54877,{filter:t})}function BM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,i,r,o=Pe.min(),l=Pe.min(),u=nn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.yt=e}}function HM(t){const e=LM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_y(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.Cn=new qM}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(qs.min())}updateCollectionGroup(e,n,i){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class qM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ft(it.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ft(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GS=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(GS,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hl(0)}static cr(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",GM=1048576;function hE([t,e],[n,i]){const r=Me(t,n);return r===0?Me(e,i):r}class KM{constructor(e){this.Ir=e,this.buffer=new Ft(hE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();hE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){su(n)?he(cE,"Ignoring IndexedDB error during garbage collection: ",n):await ru(n)}await this.Vr(3e5)})}}class XM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return J.resolve(op.ce);const i=new KM(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(uE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,o,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(e,r))).next(y=>(i=y,u=Date.now(),this.removeTargets(e,i,n))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(f=Date.now(),yl()<=De.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y})))}}function YM(t,e){return new XM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.changes=new ga(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?J.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&bc(i.mutation,r,Vi.empty(),rt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ne()){const r=qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let l=fc();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ne()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,i,r){let o=Jr();const l=xc(),u=function(){return xc()}();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof ya)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),bc(m.mutation,f,m.mutation.getFieldMask(),rt.now())):l.set(f.key,Vi.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>u.set(f,new ZM(m,l.get(f)??null))),u))}recalculateAndSaveOverlays(e,n){const i=xc();let r=new dt((l,u)=>l-u),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||Vi.empty();m=u.applyToLocalView(f,m),i.set(h,m);const y=(r.get(u.batchId)||Ne()).add(h);r=r.insert(u.batchId,y)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,y=kS();m.forEach(_=>{if(!o.has(_)){const T=NS(n.get(_),i.get(_));T!==null&&y.set(_,T),o=o.add(_)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return J.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):J.resolve(qo());let u=Oc,h=o;return l.next(f=>J.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?J.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{h=h.insert(m,_)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ne())).next(m=>({batchId:u,changes:PS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let r=fc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let l=fc();return this.indexManager.getCollectionParents(e,o).next(u=>J.forEach(u,h=>{const f=function(y,_){return new up(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((y,_)=>{l=l.insert(y,_)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,dn.newInvalidDocument(m)))});let u=fc();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&bc(m.mutation,f,Vi.empty(),rt.now()),hp(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:lr(r.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:HM(r.bundledQuery),readTime:lr(r.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.overlays=new dt(_e.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const i=qo();return J.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.St(e,n,o)}),J.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),J.resolve()}getOverlaysForCollection(e,n,i){const r=qo(),o=n.length+1,l=new _e(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return J.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new dt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=qo(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=qo(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=r)););return J.resolve(u)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new wM(n,i));let o=this.qr.get(n);o===void 0&&(o=Ne(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Qr=new Ft(Ht.$r),this.Ur=new Ft(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new Ht(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new Ht(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new _e(new it([])),i=new Ht(n,e),r=new Ht(n,e+1),o=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new it([])),i=new Ht(n,e),r=new Ht(n,e+1);let o=Ne();return this.Ur.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Ht(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Ht{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Ht.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new _M(o,n,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new Ht(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return J.resolve(l)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),o=r<0?0:r;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Tv:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Ht(n,0),r=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],l=>{const u=this.Xr(l.Yr);o.push(u)}),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ft(Me);return n.forEach(r=>{const o=new Ht(r,0),l=new Ht(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],u=>{i=i.add(u.Yr)})}),J.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;_e.isDocumentKey(o)||(o=o.child(""));const l=new Ht(new _e(o),0);let u=new Ft(Me);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Yr)),!0)},l),J.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return J.forEach(n.mutations,r=>{const o=new Ht(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new Ht(n,0),r=this.Zr.firstAfterOrEqual(i);return J.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.ri=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return J.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let i=Jr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():dn.newInvalidDocument(r))}),J.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Jr();const l=n.path,u=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||D4(A4(m),i)<=0||(r.has(m.key)||hp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,i,r){be(9500)}ii(e,n){return J.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new oO(this)}getSize(e){return J.resolve(this.size)}}class oO extends JM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.persistence=e,this.si=new ga(n=>Sv(n),Iv),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Mv,this.targetCount=0,this.ai=Hl.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),J.waitFor(o).next(()=>r)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return J.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),J.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return J.resolve(i)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n){this.ui={},this.overlays={},this.ci=new op(0),this.li=!1,this.li=!0,this.hi=new iO,this.referenceDelegate=e(this),this.Pi=new aO(this),this.indexManager=new WM,this.remoteDocumentCache=function(r){return new sO(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new $M(n),this.Ii=new tO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new rO(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){he("MemoryPersistence","Starting transaction:",e);const r=new lO(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ai(e,n){return J.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class lO extends O4{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.Ri=new Mv,this.Vi=null}static mi(e){return new Ov(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),J.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,i=>{const r=_e.fromPath(i);return this.gi(e,r).next(o=>{o||n.removeEntry(r,Pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Af{constructor(e,n){this.persistence=e,this.pi=new ga(i=>L4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=YM(this,n)}static mi(e,n){return new Af(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return J.forEach(this.pi,(i,r)=>this.br(e,i,r).next(o=>o?J.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,l=>this.br(e,l,n).next(u=>{u||(i++,o.removeEntry(l,Pe.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=of(e.data.value)),n}br(e,n,i){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return J.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=Ne(),r=Ne();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Nv(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Z2()?8:N4(yn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ys(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,n,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new uO;return this.Ss(e,n,l).next(u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)})}).next(()=>o.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(yl()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",vl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(yl()<=De.DEBUG&&he("QueryEngine","Query:",vl(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(yl()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",vl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):J.resolve())}ys(e,n){if(Z1(n))return J.resolve(null);let i=or(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=_y(n,null,"F"),i=or(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ne(...o);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Ds(n,u);return this.Cs(n,f,l,h.readTime)?this.ys(e,_y(n,null,"F")):this.vs(e,f,n,h)}))})))}ws(e,n,i,r){return Z1(n)||r.isEqual(Pe.min())?J.resolve(null):this.ps.getDocuments(e,i).next(o=>{const l=this.Ds(n,o);return this.Cs(n,l,i,r)?J.resolve(null):(yl()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vl(n)),this.vs(e,l,n,R4(r,Oc)).next(u=>u))})}Ds(e,n){let i=new Ft(IS(e));return n.forEach((r,o)=>{hp(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,i){return yl()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",vl(n)),this.ps.getDocumentsMatchingQuery(e,n,qs.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LocalStore",hO=3e8;class dO{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new dt(Me),this.xs=new ga(o=>Sv(o),Iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function fO(t,e,n,i){return new dO(t,e,n,i)}async function QS(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=Ne();for(const f of r){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function pO(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const y=f.batch,_=y.keys();let T=J.resolve();return _.forEach(b=>{T=T.next(()=>m.getEntry(h,b)).next(P=>{const S=f.docVersions.get(b);qe(S!==null,48541),P.version.compareTo(S)<0&&(y.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),m.addEntry(P)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ne();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function XS(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function mO(t,e){const n=ke(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const u=[];e.targetChanges.forEach((m,y)=>{const _=r.get(y);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y)));let T=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(nn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),r=r.insert(y,T),function(P,S,A){return P.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=hO?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(_,T,m)&&u.push(n.Pi.updateTargetData(o,T))});let h=Jr(),f=Ne();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(gO(o,l,e.documentUpdates).next(m=>{h=m.ks,f=m.qs})),!i.isEqual(Pe.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return J.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.Ms=r,o))}function gO(t,e,n){let i=Ne(),r=Ne();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Jr();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Pe.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):he(Vv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:r}})}function yO(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Tv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vO(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(o=>o?(r=o,J.resolve(r)):n.Pi.allocateTargetId(i).next(l=>(r=new Ns(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function by(t,e,n){const i=ke(t),r=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!su(l))throw l;he(Vv,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function dE(t,e,n){const i=ke(t);let r=Pe.min(),o=Ne();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const y=ke(h),_=y.xs.get(m);return _!==void 0?J.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,m)}(i,l,or(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,e,n?r:Pe.min(),n?o:Ne())).next(u=>(_O(i,iM(e),u),{documents:u,Qs:o})))}function _O(t,e,n){let i=t.Os.get(e)||Pe.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Os.set(e,i)}class fE{constructor(){this.activeTargetIds=uM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wO{constructor(){this.Mo=new fE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class mE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(pE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(pE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fd=null;function Sy(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="RestConnection",TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Sf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,o){const l=Sy(),u=this.zo(e,n.toUriEncodedString());he(wg,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,o);const{host:f}=new URL(u),m=no(f);return this.Jo(e,u,h,i,m).then(y=>(he(wg,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Ul(wg,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}Ho(e,n,i,r,o,l){return this.Go(e,n,i,r,o)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}zo(e,n){const i=TO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class SO extends xO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,o){const l=Sy();return new Promise((u,h)=>{const f=new eS;f.setWithCredentials(!0),f.listenOnce(tS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sf.NO_ERROR:const y=f.getResponseJson();he(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case sf.TIMEOUT:he(ln,`RPC '${e}' ${l} timed out`),h(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case sf.HTTP_ERROR:const _=f.getStatus();if(he(ln,`RPC '${e}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const b=T?.error;if(b&&b.status&&b.message){const P=function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(L)>=0?L:ee.UNKNOWN}(b.status);h(new me(P,b.message))}else h(new me(ee.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new me(ee.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{he(ln,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(r);he(ln,`RPC '${e}' ${l} sending request:`,r),f.send(n,"POST",m,i,15)})}T_(e,n,i){const r=Sy(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=rS(),u=iS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");he(ln,`Creating RPC '${e}' stream ${r}: ${m}`,h);const y=l.createWebChannel(m,h);this.I_(y);let _=!1,T=!1;const b=new bO({Yo:S=>{T?he(ln,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(_||(he(ln,`Opening RPC '${e}' stream ${r} transport.`),y.open(),_=!0),he(ln,`RPC '${e}' stream ${r} sending:`,S),y.send(S))},Zo:()=>y.close()}),P=(S,A,L)=>{S.listen(A,z=>{try{L(z)}catch(H){setTimeout(()=>{throw H},0)}})};return P(y,dc.EventType.OPEN,()=>{T||(he(ln,`RPC '${e}' stream ${r} transport opened.`),b.o_())}),P(y,dc.EventType.CLOSE,()=>{T||(T=!0,he(ln,`RPC '${e}' stream ${r} transport closed`),b.a_(),this.E_(y))}),P(y,dc.EventType.ERROR,S=>{T||(T=!0,Ul(ln,`RPC '${e}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),P(y,dc.EventType.MESSAGE,S=>{if(!T){const A=S.data[0];qe(!!A,16349);const L=A,z=L?.error||L[0]?.error;if(z){he(ln,`RPC '${e}' stream ${r} received error:`,z);const H=z.status;let Q=function(C){const k=Ct[C];if(k!==void 0)return LS(k)}(H),Z=z.message;Q===void 0&&(Q=ee.INTERNAL,Z="Unknown error status: "+H+" with message "+z.message),T=!0,b.a_(new me(Q,Z)),y.close()}else he(ln,`RPC '${e}' stream ${r} received:`,A),b.u_(A)}}),P(u,nS.STAT_EVENT,S=>{S.stat===fy.PROXY?he(ln,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===fy.NOPROXY&&he(ln,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){return new kM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,i=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class JS{constructor(e,n,i,r,o,l,u,h){this.Mi=e,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new me(ee.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(he(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IO extends JS{constructor(e,n,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=DM(this.serializer,e),i=function(o){if(!("targetChange"in o))return Pe.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Pe.min():l.readTime?lr(l.readTime):Pe.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=xy(this.serializer),n.addTarget=function(o,l){let u;const h=l.target;if(u=vy(h)?{documents:NM(o,h)}:{query:VM(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=US(o,l.resumeToken);const f=wy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Pe.min())>0){u.readTime=Rf(o,l.snapshotVersion.toTimestamp());const f=wy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=FM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=xy(this.serializer),n.removeTarget=e,this.q_(n)}}class CO extends JS{constructor(e,n,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OM(e.writeResults,e.commitTime),i=lr(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>MM(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{}class kO extends PO{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,Ey(n,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new me(ee.UNKNOWN,o.toString())})}Ho(e,n,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,Ey(n,i),r,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(ee.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class RO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class AO{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{va(this)&&(he(oa,"Restarting streams for network reachability change."),await async function(h){const f=ke(h);f.Ea.add(4),await oh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await gp(f)}(this))})}),this.Ra=new RO(i,r)}}async function gp(t){if(va(t))for(const e of t.da)await e(!0)}async function oh(t){for(const e of t.da)await e(!1)}function ZS(t,e){const n=ke(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Uv(n)?jv(n):ou(n).O_()&&Fv(n,e))}function Lv(t,e){const n=ke(t),i=ou(n);n.Ia.delete(e),i.O_()&&eI(n,e),n.Ia.size===0&&(i.O_()?i.L_():va(n)&&n.Ra.set("Unknown"))}function Fv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ou(t).Y_(e)}function eI(t,e){t.Va.Ue(e),ou(t).Z_(e)}function jv(t){t.Va=new SM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ou(t).start(),t.Ra.ua()}function Uv(t){return va(t)&&!ou(t).x_()&&t.Ia.size>0}function va(t){return ke(t).Ea.size===0}function tI(t){t.Va=void 0}async function DO(t){t.Ra.set("Online")}async function MO(t){t.Ia.forEach((e,n)=>{Fv(t,e)})}async function OO(t,e){tI(t),Uv(t)?(t.Ra.ha(e),jv(t)):t.Ra.set("Unknown")}async function NO(t,e,n){if(t.Ra.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))}(t,e)}catch(i){he(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Df(t,i)}else if(e instanceof uf?t.Va.Ze(e):e instanceof FS?t.Va.st(e):t.Va.tt(e),!n.isEqual(Pe.min()))try{const i=await XS(t.localStore);n.compareTo(i)>=0&&await function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(nn.EMPTY_BYTE_STRING,m.snapshotVersion)),eI(o,h);const y=new Ns(m.target,h,f,m.sequenceNumber);Fv(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){he(oa,"Failed to raise snapshot:",i),await Df(t,i)}}async function Df(t,e,n){if(!su(e))throw e;t.Ea.add(1),await oh(t),t.Ra.set("Offline"),n||(n=()=>XS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(oa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await gp(t)})}function nI(t,e){return e().catch(n=>Df(t,n,e))}async function yp(t){const e=ke(t),n=Xs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tv;for(;VO(e);)try{const r=await yO(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,LO(e,r)}catch(r){await Df(e,r)}iI(e)&&rI(e)}function VO(t){return va(t)&&t.Ta.length<10}function LO(t,e){t.Ta.push(e);const n=Xs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iI(t){return va(t)&&!Xs(t).x_()&&t.Ta.length>0}function rI(t){Xs(t).start()}async function FO(t){Xs(t).ra()}async function jO(t){const e=Xs(t);for(const n of t.Ta)e.ea(n.mutations)}async function UO(t,e,n){const i=t.Ta.shift(),r=Rv.from(i,e,n);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await yp(t)}async function zO(t,e){e&&Xs(t).X_&&await async function(i,r){if(function(l){return TM(l)&&l!==ee.ABORTED}(r.code)){const o=i.Ta.shift();Xs(i).B_(),await nI(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await yp(i)}}(t,e),iI(t)&&rI(t)}async function yE(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),he(oa,"RemoteStore received new credentials");const i=va(n);n.Ea.add(3),await oh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gp(n)}async function BO(t,e){const n=ke(t);e?(n.Ea.delete(2),await gp(n)):e||(n.Ea.add(2),await oh(n),n.Ra.set("Unknown"))}function ou(t){return t.ma||(t.ma=function(n,i,r){const o=ke(n);return o.sa(),new IO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:DO.bind(null,t),t_:MO.bind(null,t),r_:OO.bind(null,t),H_:NO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Uv(t)?jv(t):t.Ra.set("Unknown")):(await t.ma.stop(),tI(t))})),t.ma}function Xs(t){return t.fa||(t.fa=function(n,i,r){const o=ke(n);return o.sa(),new CO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FO.bind(null,t),r_:zO.bind(null,t),ta:jO.bind(null,t),na:UO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await yp(t)):(await t.fa.stop(),t.Ta.length>0&&(he(oa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const l=Date.now()+i,u=new zv(e,n,l,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bv(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),su(t))return new me(ee.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{static emptySet(e){return new Rl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=fc(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.ga=new dt(_e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Wl{constructor(e,n,i,r,o,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Wl(e,n,Rl.emptySet(n),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class HO{constructor(){this.queries=_E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=ke(n),o=r.queries;r.queries=_E(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function _E(){return new ga(t=>SS(t),cp)}async function sI(t,e){const n=ke(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.ba()&&e.Da()&&(i=2):(o=new $O,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const u=Bv(l,`Initialization of query '${vl(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&$v(n)}async function oI(t,e){const n=ke(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function WO(t,e){const n=ke(t);let i=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&$v(n)}function qO(t,e,n){const i=ke(t),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);i.queries.delete(e)}function $v(t){t.Ca.forEach(e=>{e.next()})}var Iy,wE;(wE=Iy||(Iy={})).Ma="default",wE.Cache="cache";class aI{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Wl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.key=e}}class uI{constructor(e){this.key=e}}class GO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=IS(e),this.tu=new Rl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new vE,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,y)=>{const _=r.get(m),T=hp(this.query,y)?y:null,b=!!_&&this.mutatedKeys.has(_.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let S=!1;_&&T?_.data.isEqual(T.data)?b!==P&&(i.track({type:3,doc:T}),S=!0):this.su(_,T)||(i.track({type:2,doc:T}),S=!0,(h&&this.eu(T,h)>0||f&&this.eu(T,f)<0)&&(u=!0)):!_&&T?(i.track({type:0,doc:T}),S=!0):_&&!T&&(i.track({type:1,doc:_}),S=!0,(h||f)&&(u=!0)),S&&(T?(l=l.add(T),o=P?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,y)=>function(T,b){const P=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:S})}};return P(T)-P(b)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(i),r=r??!1;const u=n&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Wl(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new uI(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new lI(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Wl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hv="SyncEngine";class KO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class QO{constructor(e){this.key=e,this.hu=!1}}class XO{constructor(e,n,i,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ga(u=>SS(u),cp),this.Iu=new Map,this.Eu=new Set,this.du=new dt(_e.comparator),this.Au=new Map,this.Ru=new Mv,this.Vu={},this.mu=new Map,this.fu=Hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YO(t,e,n=!0){const i=mI(t);let r;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await cI(i,e,n,!0),r}async function JO(t,e){const n=mI(t);await cI(n,e,!0,!1)}async function cI(t,e,n,i){const r=await vO(t.localStore,or(e)),o=r.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await ZO(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&ZS(t.remoteStore,r),u}async function ZO(t,e,n,i,r){t.pu=(y,_,T)=>async function(P,S,A,L){let z=S.view.ru(A);z.Cs&&(z=await dE(P.localStore,S.query,!1).then(({documents:D})=>S.view.ru(D,z)));const H=L&&L.targetChanges.get(S.targetId),Q=L&&L.targetMismatches.get(S.targetId)!=null,Z=S.view.applyChanges(z,P.isPrimaryClient,H,Q);return TE(P,S.targetId,Z.au),Z.snapshot}(t,y,_,T);const o=await dE(t.localStore,e,!0),l=new GO(e,o.Qs),u=l.ru(o.documents),h=sh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=l.applyChanges(u,t.isPrimaryClient,h);TE(t,n,f.au);const m=new KO(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function eN(t,e,n){const i=ke(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter(l=>!cp(l,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await by(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Lv(i.remoteStore,r.targetId),Cy(i,r.targetId)}).catch(ru)):(Cy(i,r.targetId),await by(i.localStore,r.targetId,!0))}async function tN(t,e){const n=ke(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Lv(n.remoteStore,i.targetId))}async function nN(t,e,n){const i=uN(t);try{const r=await function(l,u){const h=ke(l),f=rt.now(),m=u.reduce((T,b)=>T.add(b.key),Ne());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let b=Jr(),P=Ne();return h.Ns.getEntries(T,m).next(S=>{b=S,b.forEach((A,L)=>{L.isValidDocument()||(P=P.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,b)).next(S=>{y=S;const A=[];for(const L of u){const z=yM(L,y.get(L.key).overlayedDocument);z!=null&&A.push(new ya(L.key,z,vS(z.value.mapValue),ar.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,A,u)}).next(S=>{_=S;const A=S.applyToLocalDocumentSet(y,P);return h.documentOverlayCache.saveOverlays(T,S.batchId,A)})}).then(()=>({batchId:_.batchId,changes:PS(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new dt(Me)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,r.batchId,n),await ah(i,r.changes),await yp(i.remoteStore)}catch(r){const o=Bv(r,"Failed to persist write");n.reject(o)}}async function hI(t,e){const n=ke(t);try{const i=await mO(n.localStore,e);e.targetChanges.forEach((r,o)=>{const l=n.Au.get(o);l&&(qe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?qe(l.hu,14607):r.removedDocuments.size>0&&(qe(l.hu,42227),l.hu=!1))}),await ah(n,i,e)}catch(i){await ru(i)}}function EE(t,e,n){const i=ke(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((o,l)=>{const u=l.view.va(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=ke(l);h.onlineState=u;let f=!1;h.queries.forEach((m,y)=>{for(const _ of y.Sa)_.va(u)&&(f=!0)}),f&&$v(h)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function iN(t,e,n){const i=ke(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),o=r&&r.key;if(o){let l=new dt(_e.comparator);l=l.insert(o,dn.newNoDocument(o,Pe.min()));const u=Ne().add(o),h=new pp(Pe.min(),new Map,new dt(Me),l,u);await hI(i,h),i.du=i.du.remove(o),i.Au.delete(e),Wv(i)}else await by(i.localStore,e,!1).then(()=>Cy(i,e,n)).catch(ru)}async function rN(t,e){const n=ke(t),i=e.batch.batchId;try{const r=await pO(n.localStore,e);fI(n,i,null),dI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ah(n,r)}catch(r){await ru(r)}}async function sN(t,e,n){const i=ke(t);try{const r=await function(l,u){const h=ke(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(qe(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(i.localStore,e);fI(i,e,n),dI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await ah(i,r)}catch(r){await ru(r)}}function dI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function fI(t,e,n){const i=ke(t);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||pI(t,i)})}function pI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Lv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Wv(t))}function TE(t,e,n){for(const i of n)i instanceof lI?(t.Ru.addReference(i.key,e),oN(t,i)):i instanceof uI?(he(Hv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||pI(t,i.key)):be(19791,{wu:i})}function oN(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(he(Hv,"New document in limbo: "+n),t.Eu.add(i),Wv(t))}function Wv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(it.fromString(e)),i=t.fu.next();t.Au.set(i,new QO(n)),t.du=t.du.insert(n,i),ZS(t.remoteStore,new Ns(or(Cv(n.path)),i,"TargetPurposeLimboResolution",op.ce))}}async function ah(t,e,n){const i=ke(t),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){r.push(f);const m=Nv.As(h.targetId,f);o.push(m)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(h,f){const m=ke(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>J.forEach(f,_=>J.forEach(_.Es,T=>m.persistence.referenceDelegate.addReference(y,_.targetId,T)).next(()=>J.forEach(_.ds,T=>m.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))}catch(y){if(!su(y))throw y;he(Vv,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const T=m.Ms.get(_),b=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(b);m.Ms=m.Ms.insert(_,P)}}}(i.localStore,o))}async function aN(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){he(Hv,"User change. New user:",e.toKey());const i=await QS(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(u=>{u.forEach(h=>{h.reject(new me(ee.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ah(n,i.Ls)}}function lN(t,e){const n=ke(t),i=n.Au.get(e);if(i&&i.hu)return Ne().add(i.key);{let r=Ne();const o=n.Iu.get(e);if(!o)return r;for(const l of o){const u=n.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function mI(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iN.bind(null,e),e.Pu.H_=WO.bind(null,e.eventManager),e.Pu.yu=qO.bind(null,e.eventManager),e}function uN(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sN.bind(null,e),e}class Mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return fO(this.persistence,new cO,e.initialUser,this.serializer)}Cu(e){return new KS(Ov.mi,this.serializer)}Du(e){return new wO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mf.provider={build:()=>new Mf};class cN extends Mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof Af,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new QM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new KS(i=>Af.mi(i,n),this.serializer)}}class Py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>EE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aN.bind(null,this.syncEngine),await BO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HO}()}createDatastore(e){const n=mp(e.databaseInfo.databaseId),i=function(o){return new SO(o)}(e.databaseInfo);return function(o,l,u,h){return new kO(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,l,u){return new AO(i,r,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>EE(this.syncEngine,n,0),function(){return mE.v()?new mE:new EO}())}createSyncEngine(e,n){return function(r,o,l,u,h,f,m){const y=new XO(r,o,l,u,h,f);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=ke(n);he(oa,"RemoteStore shutting down."),i.Ea.add(5),await oh(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Py.provider={build:()=>new Py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="FirestoreClient";class hN{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=cn.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{he(Ys,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(he(Ys,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Bv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Tg(t,e){t.asyncQueue.verifyOperationInProgress(),he(Ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await QS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dN(t);he(Ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>yE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>yE(e.remoteStore,r)),t._onlineComponents=e}async function dN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Ys,"Using user provided OfflineComponentProvider");try{await Tg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===ee.FAILED_PRECONDITION||r.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await Tg(t,new Mf)}}else he(Ys,"Using default OfflineComponentProvider"),await Tg(t,new cN(void 0));return t._offlineComponents}async function yI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Ys,"Using user provided OnlineComponentProvider"),await xE(t,t._uninitializedComponentsProvider._online)):(he(Ys,"Using default OnlineComponentProvider"),await xE(t,new Py))),t._onlineComponents}function fN(t){return yI(t).then(e=>e.syncEngine)}async function vI(t){const e=await yI(t),n=e.eventManager;return n.onListen=YO.bind(null,e.syncEngine),n.onUnlisten=eN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tN.bind(null,e.syncEngine),n}function pN(t,e,n={}){const i=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new gI({next:_=>{m.Nu(),l.enqueueAndForget(()=>oI(o,y));const T=_.docs.has(u);!T&&_.fromCache?f.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&h&&h.source==="server"?f.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new aI(Cv(u.path),m,{includeMetadataChanges:!0,qa:!0});return sI(o,y)}(await vI(t),t.asyncQueue,e,n,i)),i.promise}function mN(t,e,n={}){const i=new Wr;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new gI({next:_=>{m.Nu(),l.enqueueAndForget(()=>oI(o,y)),_.fromCache&&h.source==="server"?f.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new aI(u,m,{includeMetadataChanges:!0,qa:!0});return sI(o,y)}(await vI(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="firestore.googleapis.com",SE=!0;class IE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wI,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GM)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_I(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _4;switch(i.type){case"firstParty":return new x4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=bE.get(n);i&&(he("ComponentProvider","Removing Datastore"),bE.delete(n),i.terminate())}(this),Promise.resolve()}}function gN(t,e,n,i={}){t=sa(t,vp);const r=no(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;r&&(pv(`https://${u}`),mv("Firestore",!0)),o.host!==wI&&o.host!==u&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:r,emulatorOptions:i};if(!na(h,l)&&(t._setSettings(h),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=cn.MOCK_USER;else{f=Gb(i.mockUserToken,t._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new cn(y)}t._authCredentials=new w4(new oS(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new _p(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(ih(n,Wt._jsonSchema))return new Wt(e,i||null,new _e(it.fromString(n.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:kt("string",Wt._jsonSchemaVersion),referencePath:kt("string")};class zs extends _p{constructor(e,n,i){super(e,n,Cv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new _e(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function yN(t,e,...n){if(t=Gt(t),aS("collection","path",e),t instanceof vp){const i=it.fromString(e,...n);return U1(i),new zs(t,null,i)}{if(!(t instanceof Wt||t instanceof zs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return U1(i),new zs(t.firestore,null,i)}}function EI(t,e,...n){if(t=Gt(t),arguments.length===1&&(e=wv.newId()),aS("doc","path",e),t instanceof vp){const i=it.fromString(e,...n);return j1(i),new Wt(t,null,new _e(i))}{if(!(t instanceof Wt||t instanceof zs))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(it.fromString(e,...n));return j1(i),new Wt(t.firestore,t instanceof zs?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YS(this,"async_queue_retry"),this._c=()=>{const i=Eg();i&&he(CE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!su(e))throw e;he(CE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Yr("INTERNAL UNHANDLED ERROR: ",kE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=zv.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&be(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class lh extends vp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new PE,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function vN(t,e){const n=typeof t=="object"?t:vv(),i=typeof t=="string"?t:Sf,r=sp(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=Hb("firestore");o&&gN(r,...o)}return r}function qv(t){if(t._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_N(t),t._firestoreClient}function _N(t){const e=t._freezeSettings(),n=function(r,o,l,u){return new U4(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,_I(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(nn.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ih(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:kt("string",fi._jsonSchemaVersion),bytes:kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(e){if(ih(e,ur._jsonSchema))return new ur(e.latitude,e.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:kt("string",ur._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ih(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cr(e.vectorValues);throw new me(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:kt("string",cr._jsonSchemaVersion),vectorValues:kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^__.*__$/;class EN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,n,this.fieldTransforms):new rh(e,this.data,n,this.fieldTransforms)}}function TI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:t})}}class Qv{constructor(e,n,i,r,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Of(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TI(this.Ac)&&wN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class TN{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||mp(e)}Cc(e,n,i,r=!1){return new Qv({Ac:e,methodName:n,Dc:i,path:tn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xN(t){const e=t._freezeSettings(),n=mp(t._databaseId);return new TN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bN(t,e,n,i,r,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,r);II("Data must be an object, but it was:",l,i);const u=bI(i,l);let h,f;if(o.merge)h=new Vi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const _=SN(e,y,n);if(!l.contains(_))throw new me(ee.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);CN(m,_)||m.push(_)}h=new Vi(m),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new EN(new di(u),h,f)}class Xv extends Kv{_toFieldTransform(e){return new fM(e.path,new Fc)}isEqual(e){return e instanceof Xv}}function xI(t,e){if(SI(t=Gt(t)))return II("Unsupported field value:",e,t),bI(t,e);if(t instanceof Kv)return function(i,r){if(!TI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const u of i){let h=xI(u,r.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Gt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=rt.fromDate(i);return{timestampValue:Rf(r.serializer,o)}}if(i instanceof rt){const o=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Rf(r.serializer,o)}}if(i instanceof ur)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fi)return{bytesValue:US(r.serializer,i._byteString)};if(i instanceof Wt){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Dv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof cr)return function(l,u){return{mapValue:{fields:{[gS]:{stringValue:yS},[If]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Pv(u.serializer,f)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Ev(i)}`)}(t,e)}function bI(t,e){const n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(t,(i,r)=>{const o=xI(r,e.mc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function SI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof ur||t instanceof fi||t instanceof Wt||t instanceof Kv||t instanceof cr)}function II(t,e,n){if(!SI(n)||!lS(n)){const i=Ev(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function SN(t,e,n){if((e=Gt(e))instanceof Gv)return e._internalPath;if(typeof e=="string")return CI(t,e);throw Of("Field path arguments must be of type string or ",t,!1,void 0,n)}const IN=new RegExp("[~\\*/\\[\\]]");function CI(t,e,n){if(e.search(IN)>=0)throw Of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gv(...e.split("."))._internalPath}catch{throw Of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Of(t,e,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new me(ee.INVALID_ARGUMENT,u+t+h)}function CN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PN extends PI{data(){return super.data()}}function kI(t,e){return typeof e=="string"?CI(t,e):e instanceof Gv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RN{convertValue(e,n="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ma(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){const n=e.fields?.[If].arrayValue?.values?.map(i=>xt(i.doubleValue));return new cr(n)}convertGeoPoint(e){return new ur(xt(e.latitude),xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=lp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Nc(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=it.fromString(e);qe(qS(i),9688,{name:e});const r=new Vc(i.get(1),i.get(3)),o=new _e(i.popFirst(5));return r.isEqual(n)||Yr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends PI{constructor(e,n,i,r,o,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(kI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Jo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:kt("string",Jo._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class cf extends Jo{data(e={}){return super.data(e)}}class Al{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new mc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new cf(this._firestore,this._userDataWriter,i.key,i,new mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new cf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new cf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new mc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:DN(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t){t=sa(t,Wt);const e=sa(t.firestore,lh);return pN(qv(e),t._key).then(n=>NN(e,t,n))}Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:kt("string",Al._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};class RI extends RN{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function ON(t){t=sa(t,_p);const e=sa(t.firestore,lh),n=qv(e),i=new RI(e);return kN(t._query),mN(n,t._query).then(r=>new Al(e,i,t,r))}function dW(t){return AI(sa(t.firestore,lh),[new kv(t._key,ar.none())])}function fW(t,e){const n=sa(t.firestore,lh),i=EI(t),r=AN(t.converter,e);return AI(n,[bN(xN(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}function AI(t,e){return function(i,r){const o=new Wr;return i.asyncQueue.enqueueAndForget(async()=>nN(await fN(i),r,o)),o.promise}(qv(t),e)}function NN(t,e,n){const i=n.docs.get(e._key),r=new RI(t);return new Jo(t,r,e._key,i,new mc(n.hasPendingWrites,n.fromCache),e.converter)}function pW(){return new Xv("serverTimestamp")}(function(e,n=!0){(function(r){iu=r})(pa),ia(new Ws("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new lh(new E4(i.getProvider("auth-internal")),new b4(l,i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(f.options.projectId,m)}(l,r),l);return o={useFetchStreams:n,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),sr(N1,V1,e),sr(N1,V1,"esm2020")})();function DI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VN=DI,MI=new th("auth","Firebase",DI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new gv("@firebase/auth");function LN(t,...e){Nf.logLevel<=De.WARN&&Nf.warn(`Auth (${pa}): ${t}`,...e)}function hf(t,...e){Nf.logLevel<=De.ERROR&&Nf.error(`Auth (${pa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,...e){throw Yv(t,...e)}function hr(t,...e){return Yv(t,...e)}function OI(t,e,n){const i={...VN(),[e]:n};return new th("auth","Firebase",i).create(e,{appName:t.name})}function Bs(t){return OI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return MI.create(t,...e)}function xe(t,e,...n){if(!t)throw Yv(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hf(e),new Error(e)}function Zr(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){return typeof self<"u"&&self.location?.href||""}function FN(){return RE()==="http:"||RE()==="https:"}function RE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||X2()||"connection"in navigator)?navigator.onLine:!0}function UN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=G2()||Y2()}get(){return jN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],$N=new uh(3e4,6e4);function _a(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function io(t,e,n,i,r={}){return VI(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=nh({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return Q2()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(f.credentials="include"),NI.fetch()(await LI(t,t.config.apiHost,n,u),f)})}async function VI(t,e,n){t._canInitEmulator=!1;const i={...zN,...e};try{const r=new WN(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw jd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw jd(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw OI(t,m,f);zi(t,m)}}catch(r){if(r instanceof _r)throw r;zi(t,"network-request-failed",{message:String(r)})}}async function wp(t,e,n,i,r={}){const o=await io(t,e,n,i,r);return"mfaPendingCredential"in o&&zi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function LI(t,e,n,i){const r=`${e}${n}?${i}`,o=t,l=o.config.emulator?Jv(t.config,r):`${t.config.apiScheme}://${r}`;return BN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function HN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(hr(this.auth,"network-request-failed")),$N.get())})}}function jd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=hr(t,e,i);return r.customData._tokenResponse=n,r}function AE(t){return t!==void 0&&t.enterprise!==void 0}class qN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function GN(t,e){return io(t,"GET","/v2/recaptchaConfig",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t,e){return io(t,"POST","/v1/accounts:delete",e)}async function Vf(t,e){return io(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QN(t,e=!1){const n=Gt(t),i=await n.getIdToken(e),r=Zv(i);xe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:Sc(xg(r.auth_time)),issuedAtTime:Sc(xg(r.iat)),expirationTime:Sc(xg(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function xg(t){return Number(t)*1e3}function Zv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return hf("JWT malformed, contained fewer than 3 sections"),null;try{const r=Bb(n);return r?JSON.parse(r):(hf("Failed to decode base64 JWT payload"),null)}catch(r){return hf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function DE(t){const e=Zv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof _r&&XN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function XN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lf(t){const e=t.auth,n=await t.getIdToken(),i=await zc(t,Vf(e,{idToken:n}));xe(i?.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=r.providerUserInfo?.length?FI(r.providerUserInfo):[],l=ZN(t.providerData,o),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!l?.length,f=u?h:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Ry(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function JN(t){const e=Gt(t);await Lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function FI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e){const n=await VI(t,{},async()=>{const i=nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=await LI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(h.credentials="include"),NI.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tV(t,e){return io(t,"POST","/v2/accounts:revokeToken",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):DE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=DE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await eV(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new Dl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(xe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Li{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new YN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Ry(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await zc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QN(this,e)}reload(){return JN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Lf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Bs(this.auth));const e=await this.getIdToken();return await zc(this,KN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:T,providerData:b,stsTokenManager:P}=n;xe(y&&P,e,"internal-error");const S=Dl.fromJSON(this.name,P);xe(typeof y=="string",e,"internal-error"),Cs(i,e.name),Cs(r,e.name),xe(typeof _=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),Cs(o,e.name),Cs(l,e.name),Cs(u,e.name),Cs(h,e.name),Cs(f,e.name),Cs(m,e.name);const A=new Li({uid:y,auth:e,email:r,emailVerified:_,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:S,createdAt:f,lastLoginAt:m});return b&&Array.isArray(b)&&(A.providerData=b.map(L=>({...L}))),h&&(A._redirectEventId=h),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new Dl;r.updateFromServerResponse(n);const o=new Li({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Lf(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];xe(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?FI(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new Dl;u.updateFromIdToken(i);const h=new Li({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ry(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;function Br(t){Zr(t instanceof Function,"Expected a class definition");let e=ME.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ME.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jI.type="NONE";const OE=jI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e,n){return`firebase:${t}:${e}:${n}`}class Ml{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=df(this.userKey,r.apiKey,o),this.fullPersistenceKey=df("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vf(this.auth,{idToken:e}).catch(()=>{});return n?Li._fromGetAccountInfoResponse(this.auth,n,e):null}return Li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Ml(Br(OE),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Br(OE);const l=df(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const _=await Vf(e,{idToken:m}).catch(()=>{});if(!_)break;y=await Li._fromGetAccountInfoResponse(e,_,m)}else y=Li._fromJSON(e,m);f!==o&&(u=y),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Ml(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ml(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($I(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WI(e))return"Blackberry";if(qI(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||BI(e))&&!e.includes("edge/"))return"Chrome";if(HI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function UI(t=yn()){return/firefox\//i.test(t)}function zI(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BI(t=yn()){return/crios\//i.test(t)}function $I(t=yn()){return/iemobile/i.test(t)}function HI(t=yn()){return/android/i.test(t)}function WI(t=yn()){return/blackberry/i.test(t)}function qI(t=yn()){return/webos/i.test(t)}function e_(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nV(t=yn()){return e_(t)&&!!window.navigator?.standalone}function iV(){return J2()&&document.documentMode===10}function GI(t=yn()){return e_(t)||HI(t)||qI(t)||WI(t)||/windows phone/i.test(t)||$I(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e=[]){let n;switch(t){case"Browser":n=NE(yn());break;case"Worker":n=`${NE(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e={}){return io(t,"GET","/v2/passwordPolicy",_a(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=6;class aV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new VE(this),this.idTokenSubscription=new VE(this),this.beforeStateQueue=new rV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vf(this,{idToken:e}),i=await Li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Bs(this));const n=e?Gt(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sV(this),n=new aV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new th("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await tV(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&LN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function au(t){return Gt(t)}class VE{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uV(t){Ep=t}function QI(t){return Ep.loadJS(t)}function cV(){return Ep.recaptchaEnterpriseScript}function hV(){return Ep.gapiScript}function dV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class fV{constructor(){this.enterprise=new pV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mV="recaptcha-enterprise",XI="NO_RECAPTCHA";class gV{constructor(e){this.type=mV,this.auth=au(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{GN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new qN(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;AE(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(XI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&AE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=cV();h.length!==0&&(h+=u),QI(h).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function LE(t,e,n,i=!1,r=!1){const o=new gV(t);let l;if(r)l=XI;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function FE(t,e,n,i,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await LE(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await LE(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(t,e){const n=sp(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(na(o,e??{}))return r;zi(r,"already-initialized")}return n.initialize({options:e})}function vV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Br);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function _V(t,e,n){const i=au(t);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=YI(e),{host:l,port:u}=wV(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(na(f,i.config.emulator)&&na(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,no(l)?(pv(`${o}//${l}${h}`),mv("Auth",!0)):EV()}function YI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wV(t){const e=YI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:jE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:jE(l)}}}function jE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function TV(t,e){return io(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e){return wp(t,"POST","/v1/accounts:signInWithPassword",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return wp(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}async function SV(t,e){return wp(t,"POST","/v1/accounts:signInWithEmailLink",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends t_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Bc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,n,"signInWithPassword",xV);case"emailLink":return bV(e,{email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return FE(e,i,"signUpPassword",TV);case"emailLink":return SV(e,{idToken:n,email:this._email,oobCode:this._password});default:zi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t,e){return wp(t,"POST","/v1/accounts:signInWithIdp",_a(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="http://localhost";class aa extends t_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=n;if(!i||!r)return null;const l=new aa(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ol(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Ol(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ol(e,n)}buildRequest(){const e={requestUri:IV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PV(t){const e=cc(hc(t)).link,n=e?cc(hc(e)).deep_link_id:null,i=cc(hc(t)).deep_link_id;return(i?cc(hc(i)).link:null)||i||n||e||t}class n_{constructor(e){const n=cc(hc(e)),i=n.apiKey??null,r=n.oobCode??null,o=CV(n.mode??null);xe(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=PV(e);try{return new n_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.providerId=lu.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=n_.parseLink(n);return xe(i,"argument-error"),Bc._fromEmailAndCode(e,i.code,i.tenantId)}}lu.PROVIDER_ID="password";lu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends JI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends ch{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ch{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Rs.credential(n,i)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends ch{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ch{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Li._fromIdTokenResponse(e,i,r),l=UE(i);return new ql({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=UE(i);return new ql({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function UE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends _r{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ff.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Ff(e,n,i,r)}}function ZI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ff._fromErrorAndOperation(t,o,e,i):o})}async function kV(t,e,n=!1){const i=await zc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ql._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e,n=!1){const{auth:i}=t;if(hi(i.app))return Promise.reject(Bs(i));const r="reauthenticate";try{const o=await zc(t,ZI(i,r,e,t),n);xe(o.idToken,i,"internal-error");const l=Zv(o.idToken);xe(l,i,"internal-error");const{sub:u}=l;return xe(t.uid===u,i,"user-mismatch"),ql._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&zi(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(t,e,n=!1){if(hi(t.app))return Promise.reject(Bs(t));const i="signIn",r=await ZI(t,i,e),o=await ql._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function AV(t,e){return eC(au(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(t){const e=au(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function mW(t,e,n){return hi(t.app)?Promise.reject(Bs(t)):AV(Gt(t),lu.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DV(t),i})}function MV(t,e,n,i){return Gt(t).onIdTokenChanged(e,n,i)}function OV(t,e,n){return Gt(t).beforeAuthStateChanged(e,n)}function gW(t,e,n,i){return Gt(t).onAuthStateChanged(e,n,i)}function yW(t){return Gt(t).signOut()}const jf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jf,"1"),this.storage.removeItem(jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=1e3,VV=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);iV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,VV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},NV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const LV=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}iC.type="SESSION";const rC=iC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Tp(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await FV(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=i_("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function UV(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function zV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BV(){return navigator?.serviceWorker?.controller||null}function $V(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebaseLocalStorageDb",HV=1,Uf="firebaseLocalStorage",aC="fbase_key";class hh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function xp(t,e){return t.transaction([Uf],e?"readwrite":"readonly").objectStore(Uf)}function WV(){const t=indexedDB.deleteDatabase(oC);return new hh(t).toPromise()}function Ay(){const t=indexedDB.open(oC,HV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Uf,{keyPath:aC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Uf)?e(i):(i.close(),await WV(),e(await Ay()))})})}async function zE(t,e,n){const i=xp(t,!0).put({[aC]:e,value:n});return new hh(i).toPromise()}async function qV(t,e){const n=xp(t,!1).get(e),i=await new hh(n).toPromise();return i===void 0?null:i.value}function BE(t,e){const n=xp(t,!0).delete(e);return new hh(n).toPromise()}const GV=800,KV=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ay(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>KV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tp._getInstance($V()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await zV(),!this.activeServiceWorker)return;this.sender=new jV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ay();return await zE(e,jf,"1"),await BE(e,jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>zE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>qV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>BE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=xp(r,!1).getAll();return new hh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const QV=lC;new uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e){return e?Br(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_ extends t_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YV(t){return eC(t.auth,new r_(t),t.bypassAuthState)}function JV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),RV(n,new r_(t),t.bypassAuthState)}async function ZV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),kV(n,new r_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YV;case"linkViaPopup":case"linkViaRedirect":return ZV;case"reauthViaPopup":case"reauthViaRedirect":return JV;default:zi(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new uh(2e3,1e4);class El extends uC{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=i_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eL.get())};e()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="pendingRedirect",ff=new Map;class nL extends uC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ff.get(this.auth._key());if(!e){try{const i=await iL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ff.set(this.auth._key(),e)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iL(t,e){const n=oL(e),i=sL(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function rL(t,e){ff.set(t._key(),e)}function sL(t){return Br(t._redirectPersistence)}function oL(t){return df(tL,t.config.apiKey,t.name)}async function aL(t,e,n=!1){if(hi(t.app))return Promise.reject(Bs(t));const i=au(t),r=XV(i,e),l=await new nL(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=600*1e3;class uL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!cC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lL&&this.cachedEventUids.clear(),this.cachedEventUids.has($E(e))}saveEventToCache(e){this.cachedEventUids.add($E(e)),this.lastProcessedEventTime=Date.now()}}function $E(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function cL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e={}){return io(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fL=/^https?/;async function pL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hL(t);for(const n of e)try{if(mL(n))return}catch{}zi(t,"unauthorized-domain")}function mL(t){const e=ky(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!fL.test(n))return!1;if(dL.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=new uh(3e4,6e4);function HE(){const t=dr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yL(t){return new Promise((e,n)=>{function i(){HE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HE(),n(hr(t,"network-request-failed"))},timeout:gL.get()})}if(dr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(dr().gapi?.load)i();else{const r=dV("iframefcb");return dr()[r]=()=>{gapi.load?i():n(hr(t,"network-request-failed"))},QI(`${hV()}?onload=${r}`).catch(o=>n(o))}}).catch(e=>{throw pf=null,e})}let pf=null;function vL(t){return pf=pf||yL(t),pf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new uh(5e3,15e3),wL="__/auth/iframe",EL="emulator/auth/iframe",TL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bL(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Jv(e,EL):`https://${t.config.authDomain}/${wL}`,i={apiKey:e.apiKey,appName:t.name,v:pa},r=xL.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${nh(i).slice(1)}`}async function SL(t){const e=await vL(t),n=dr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:bL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TL,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=hr(t,"network-request-failed"),u=dr().setTimeout(()=>{o(l)},_L.get());function h(){dr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CL=500,PL=600,kL="_blank",RL="http://localhost";class WE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AL(t,e,n,i=CL,r=PL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={...IL,width:i.toString(),height:r.toString(),top:o,left:l},f=yn().toLowerCase();n&&(u=BI(f)?kL:n),UI(f)&&(e=e||RL,h.scrollbars="yes");const m=Object.entries(h).reduce((_,[T,b])=>`${_}${T}=${b},`,"");if(nV(f)&&u!=="_self")return DL(e||"",u),new WE(null);const y=window.open(e||"",u,m);xe(y,t,"popup-blocked");try{y.focus()}catch{}return new WE(y)}function DL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="__/auth/handler",OL="emulator/auth/handler",NL=encodeURIComponent("fac");async function qE(t,e,n,i,r,o){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:pa,eventId:r};if(e instanceof JI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",sD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof ch){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${NL}=${encodeURIComponent(h)}`:"";return`${VL(t)}?${nh(u).slice(1)}${f}`}function VL({config:t}){return t.emulator?Jv(t,OL):`https://${t.authDomain}/${ML}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="webStorageSupport";class LL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rC,this._completeRedirectFn=aL,this._overrideRedirectResult=rL}async _openPopup(e,n,i,r){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await qE(e,n,i,ky(),r);return AL(e,o,i_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await qE(e,n,i,ky(),r);return UV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Zr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await SL(e),i=new uL(e);return n.register("authEvent",r=>(xe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bg,{type:bg},r=>{const o=r?.[0]?.[bg];o!==void 0&&n(!!o),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GI()||zI()||e_()}}const FL=LL;var GE="@firebase/auth",KE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zL(t){ia(new Ws("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KI(t)},f=new lV(i,r,o,h);return vV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ia(new Ws("auth-internal",e=>{const n=au(e.getProvider("auth").getImmediate());return(i=>new jL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(GE,KE,UL(t)),sr(GE,KE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=300,$L=qb("authIdTokenMaxAge")||BL;let QE=null;const HL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$L)return;const r=n?.token;QE!==r&&(QE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function WL(t=vv()){const e=sp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yV(t,{popupRedirectResolver:FL,persistence:[QV,LV,rC]}),i=qb("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=HL(o.toString());OV(n,l,()=>l(n.currentUser)),MV(n,u=>l(u))}}const r=$b("auth");return r&&_V(n,`http://${r}`),n}function qL(){return document.getElementsByTagName("head")?.[0]??document}uV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=hr("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",qL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="firebasestorage.googleapis.com",dC="storageBucket",GL=120*1e3,KL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends _r{constructor(e,n,i=0){super(Sg(e),`Firebase Storage: ${n} (${Sg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Sg(t){return"storage/"+t}function s_(){const t="An unknown error occurred, please check the error payload for server response.";return new vt(yt.UNKNOWN,t)}function QL(t){return new vt(yt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function XL(t){return new vt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(yt.UNAUTHENTICATED,t)}function JL(){return new vt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ZL(t){return new vt(yt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function e3(){return new vt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t3(){return new vt(yt.CANCELED,"User canceled the upload/download.")}function n3(t){return new vt(yt.INVALID_URL,"Invalid URL '"+t+"'.")}function i3(t){return new vt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function r3(){return new vt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dC+"' property when initializing the app?")}function s3(){return new vt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function o3(){return new vt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a3(t){return new vt(yt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Dy(t){return new vt(yt.INVALID_ARGUMENT,t)}function fC(){return new vt(yt.APP_DELETED,"The Firebase app was deleted.")}function l3(t){return new vt(yt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ic(t,e){return new vt(yt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ac(t){throw new vt(yt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(i.path==="")return i;throw i3(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(H){H.path_=decodeURIComponent(H.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${m}/b/${r}/o${_}`,"i"),b={bucket:1,path:3},P=n===hC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",A=new RegExp(`^https?://${P}/${r}/${S}`,"i"),z=[{regex:u,indices:h,postModify:o},{regex:T,indices:b,postModify:f},{regex:A,indices:{bucket:1,path:2},postModify:f}];for(let H=0;H<z.length;H++){const Q=z[H],Z=Q.regex.exec(e);if(Z){const D=Z[Q.indices.bucket];let C=Z[Q.indices.path];C||(C=""),i=new Wn(D,C),Q.postModify(i);break}}if(i==null)throw n3(e);return i}}class u3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(t,e,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...S){f||(f=!0,e.apply(null,S))}function y(S){r=setTimeout(()=>{r=null,t(T,h())},S)}function _(){o&&clearTimeout(o)}function T(S,...A){if(f){_();return}if(S){_(),m.call(null,S,...A);return}if(h()||l){_(),m.call(null,S,...A);return}i<64&&(i*=2);let z;u===1?(u=2,z=0):z=(i+Math.random())*1e3,y(z)}let b=!1;function P(S){b||(b=!0,_(),!f&&(r!==null?(S||(u=2),clearTimeout(r),y(0)):S||(u=1)))}return y(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function h3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){return t!==void 0}function f3(t){return typeof t=="object"&&!Array.isArray(t)}function o_(t){return typeof t=="string"||t instanceof String}function XE(t){return a_()&&t instanceof Blob}function a_(){return typeof Blob<"u"}function YE(t,e,n,i){if(i<e)throw Dy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Dy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function pC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Zo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zo||(Zo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,i,r,o,l,u,h,f,m,y,_=!0,T=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=y,this.retry=_,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,P)=>{this.resolve_=b,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Ud(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Zo.NO_ERROR,h=o.getStatus();if(!u||p3(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Zo.ABORT;i(!1,new Ud(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Ud(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());d3(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=s_();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?fC():t3();l(h)}else{const h=e3();l(h)}};this.canceled_?n(!1,new Ud(!1,null,!0)):this.backoffId_=c3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&h3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ud{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function g3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function y3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function v3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function w3(t,e,n,i,r,o,l=!0,u=!1){const h=pC(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return v3(m,e),g3(m,n),y3(m,o),_3(m,i),new m3(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T3(...t){const e=E3();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(a_())return new Blob(t);throw new vt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function x3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){if(typeof atob>"u")throw a3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ig{constructor(e,n){this.data=e,this.contentType=n||null}}function S3(t,e){switch(t){case ir.RAW:return new Ig(mC(e));case ir.BASE64:case ir.BASE64URL:return new Ig(gC(t,e));case ir.DATA_URL:return new Ig(C3(e),P3(e))}throw s_()}function mC(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function I3(t){let e;try{e=decodeURIComponent(t)}catch{throw Ic(ir.DATA_URL,"Malformed data URL.")}return mC(e)}function gC(t,e){switch(t){case ir.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw Ic(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ir.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw Ic(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=b3(e)}catch(r){throw r.message.includes("polyfill")?r:Ic(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class yC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ic(ir.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=k3(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function C3(t){const e=new yC(t);return e.base64?gC(ir.BASE64,e.rest):I3(e.rest)}function P3(t){return new yC(t).contentType}function k3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){let i=0,r="";XE(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(XE(this.data_)){const i=this.data_,r=x3(i,e,n);return r===null?null:new Ms(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new Ms(i,!0)}}static getBlob(...e){if(a_()){const n=e.map(i=>i instanceof Ms?i.data_:i);return new Ms(T3.apply(null,n))}else{const n=e.map(l=>o_(l)?S3(ir.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new Ms(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t){let e;try{e=JSON.parse(t)}catch{return null}return f3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function A3(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function _C(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(t,e){return e}class bn{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||D3}}let zd=null;function M3(t){return!o_(t)||t.length<2?t:_C(t)}function wC(){if(zd)return zd;const t=[];t.push(new bn("bucket")),t.push(new bn("generation")),t.push(new bn("metageneration")),t.push(new bn("name","fullPath",!0));function e(o,l){return M3(l)}const n=new bn("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new bn("size");return r.xform=i,t.push(r),t.push(new bn("timeCreated")),t.push(new bn("updated")),t.push(new bn("md5Hash",null,!0)),t.push(new bn("cacheControl",null,!0)),t.push(new bn("contentDisposition",null,!0)),t.push(new bn("contentEncoding",null,!0)),t.push(new bn("contentLanguage",null,!0)),t.push(new bn("contentType",null,!0)),t.push(new bn("metadata","customMetadata",!0)),zd=t,zd}function O3(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Wn(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function N3(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return O3(i,t),i}function EC(t,e,n){const i=vC(e);return i===null?null:N3(t,i,n)}function V3(t,e,n,i){const r=vC(e);if(r===null||!o_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,y=t.fullPath,_="/b/"+l(m)+"/o/"+l(y),T=l_(_,n,i),b=pC({alt:"media",token:f});return T+b})[0]}function L3(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class TC{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){if(!t)throw s_()}function F3(t,e){function n(i,r){const o=EC(t,r,e);return xC(o!==null),o}return n}function j3(t,e){function n(i,r){const o=EC(t,r,e);return xC(o!==null),V3(o,r,t.host,t._protocol)}return n}function bC(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=JL():r=YL():n.getStatus()===402?r=XL(t.bucket):n.getStatus()===403?r=ZL(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function U3(t){const e=bC(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=QL(t.path)),o.serverResponse=r.serverResponse,o}return n}function z3(t,e,n){const i=e.fullServerUrl(),r=l_(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new TC(r,o,j3(t,n),l);return u.errorHandler=U3(e),u}function B3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function $3(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=B3(null,e)),i}function H3(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let z="";for(let H=0;H<2;H++)z=z+Math.random().toString().slice(2);return z}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=$3(e,i,r),m=L3(f,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,_=`\r
--`+h+"--",T=Ms.getBlob(y,i,_);if(T===null)throw s3();const b={name:f.fullPath},P=l_(o,t.host,t._protocol),S="POST",A=t.maxUploadRetryTime,L=new TC(P,S,F3(t,n),A);return L.urlParams=b,L.headers=l,L.body=T.uploadData(),L.errorHandler=bC(e),L}class W3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r,o){if(this.sent_)throw ac("cannot .send() more than once");if(no(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ac("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ac("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ac("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ac("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class q3 extends W3{initXhr(){this.xhr_.responseType="text"}}function SC(){return new q3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _C(this._location.path)}get storage(){return this._service}get parent(){const e=R3(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw l3(e)}}function G3(t,e,n){t._throwIfRoot("uploadBytes");const i=H3(t.storage,t._location,wC(),new Ms(e,!0),n);return t.storage.makeRequestWithTokens(i,SC).then(r=>({metadata:r,ref:t}))}function K3(t){t._throwIfRoot("getDownloadURL");const e=z3(t.storage,t._location,wC());return t.storage.makeRequestWithTokens(e,SC).then(n=>{if(n===null)throw o3();return n})}function Q3(t,e){const n=A3(t._location.path,e),i=new Wn(t._location.bucket,n);return new la(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(t){return/^[A-Za-z]+:\/\//.test(t)}function Y3(t,e){return new la(t,e)}function IC(t,e){if(t instanceof u_){const n=t;if(n._bucket==null)throw r3();const i=new la(n,n._bucket);return e!=null?IC(i,e):i}else return e!==void 0?Q3(t,e):t}function J3(t,e){if(e&&X3(e)){if(t instanceof u_)return Y3(t,e);throw Dy("To use ref(service, url), the first argument must be a Storage instance.")}else return IC(t,e)}function JE(t,e){const n=e?.[dC];return n==null?null:Wn.makeFromBucketSpec(n,t)}function Z3(t,e,n,i={}){t.host=`${e}:${n}`;const r=no(e);r&&(pv(`https://${t.host}/b`),mv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:Gb(o,t.app.options.projectId))}class u_{constructor(e,n,i,r,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=hC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GL,this._maxUploadRetryTime=KL,this._requests=new Set,r!=null?this._bucket=Wn.makeFromBucketSpec(r,this._host):this._bucket=JE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=JE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new u3(fC());{const l=w3(e,this._appId,i,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const ZE="@firebase/storage",eT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="storage";function vW(t,e,n){return t=Gt(t),G3(t,e,n)}function _W(t){return t=Gt(t),K3(t)}function wW(t,e){return t=Gt(t),J3(t,e)}function e6(t=vv(),e){t=Gt(t);const i=sp(t,CC).getImmediate({identifier:e}),r=Hb("storage");return r&&t6(i,...r),i}function t6(t,e,n,i={}){Z3(t,e,n,i)}function n6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new u_(n,i,r,e,pa)}function i6(){ia(new Ws(CC,n6,"PUBLIC").setMultipleInstances(!0)),sr(ZE,eT,""),sr(ZE,eT,"esm2020")}i6();const c_=V.createContext({});function h_(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const bp=V.createContext(null),d_=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class r6 extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function s6({children:t,isPresent:e}){const n=V.useId(),i=V.useRef(null),r=V.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=V.useContext(d_);return V.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f}=r.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=n;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),R.jsx(r6,{isPresent:e,childRef:i,sizeRef:r,children:V.cloneElement(t,{ref:i})})}const o6=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l})=>{const u=h_(a6),h=V.useId(),f=V.useCallback(y=>{u.set(y,!0);for(const _ of u.values())if(!_)return;i&&i()},[u,i]),m=V.useMemo(()=>({id:h,initial:e,isPresent:n,custom:r,onExitComplete:f,register:y=>(u.set(y,!1),()=>u.delete(y))}),o?[Math.random(),f]:[n,f]);return V.useMemo(()=>{u.forEach((y,_)=>u.set(_,!1))},[n]),V.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),l==="popLayout"&&(t=R.jsx(s6,{isPresent:n,children:t})),R.jsx(bp.Provider,{value:m,children:t})};function a6(){return new Map}function PC(t=!0){const e=V.useContext(bp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=V.useId();V.useEffect(()=>{t&&r(o)},[t]);const l=V.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const Bd=t=>t.key||"";function tT(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const f_=typeof window<"u",kC=f_?V.useLayoutEffect:V.useEffect,p_=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1})=>{const[u,h]=PC(l),f=V.useMemo(()=>tT(t),[t]),m=l&&!u?[]:f.map(Bd),y=V.useRef(!0),_=V.useRef(f),T=h_(()=>new Map),[b,P]=V.useState(f),[S,A]=V.useState(f);kC(()=>{y.current=!1,_.current=f;for(let H=0;H<S.length;H++){const Q=Bd(S[H]);m.includes(Q)?T.delete(Q):T.get(Q)!==!0&&T.set(Q,!1)}},[S,m.length,m.join("-")]);const L=[];if(f!==b){let H=[...f];for(let Q=0;Q<S.length;Q++){const Z=S[Q],D=Bd(Z);m.includes(D)||(H.splice(Q,0,Z),L.push(Z))}o==="wait"&&L.length&&(H=L),A(tT(H)),P(f);return}const{forceRender:z}=V.useContext(c_);return R.jsx(R.Fragment,{children:S.map(H=>{const Q=Bd(H),Z=l&&!u?!1:f===S||m.includes(Q),D=()=>{if(T.has(Q))T.set(Q,!0);else return;let C=!0;T.forEach(k=>{k||(C=!1)}),C&&(z?.(),A(_.current),l&&h?.(),i&&i())};return R.jsx(o6,{isPresent:Z,initial:!y.current||n?void 0:!1,custom:Z?void 0:e,presenceAffectsLayout:r,mode:o,onExitComplete:Z?void 0:D,children:H},Q)})})},Gn=t=>t;let RC=Gn;function m_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Gl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},qr=t=>t*1e3,Gr=t=>t/1e3,l6={useManualTiming:!1};function u6(t){let e=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,m=!1,y=!1)=>{const T=y&&i?e:n;return m&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(u),e.clear(),i=!1,r&&(r=!1,h.process(f))}};return h}const $d=["read","resolveKeyframes","update","preRender","render","postRender"],c6=40;function AC(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=$d.reduce((A,L)=>(A[L]=u6(o),A),{}),{read:u,resolveKeyframes:h,update:f,preRender:m,render:y,postRender:_}=l,T=()=>{const A=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(A-r.timestamp,c6),1),r.timestamp=A,r.isProcessing=!0,u.process(r),h.process(r),f.process(r),m.process(r),y.process(r),_.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(T))},b=()=>{n=!0,i=!0,r.isProcessing||t(T)};return{schedule:$d.reduce((A,L)=>{const z=l[L];return A[L]=(H,Q=!1,Z=!1)=>(n||b(),z.schedule(H,Q,Z)),A},{}),cancel:A=>{for(let L=0;L<$d.length;L++)l[$d[L]].cancel(A)},state:r,steps:l}}const{schedule:st,cancel:Js,state:Jt,steps:Cg}=AC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0),g_=V.createContext({strict:!1}),nT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kl={};for(const t in nT)Kl[t]={isEnabled:e=>nT[t].some(n=>!!e[n])};function My(t){for(const e in t)Kl[e]={...Kl[e],...t[e]}}function h6({children:t,features:e,strict:n=!1}){const[,i]=V.useState(!Pg(e)),r=V.useRef(void 0);if(!Pg(e)){const{renderer:o,...l}=e;r.current=o,My(l)}return V.useEffect(()=>{Pg(e)&&e().then(({renderer:o,...l})=>{My(l),r.current=o,i(!0)})},[]),R.jsx(g_.Provider,{value:{renderer:r.current,strict:n},children:t})}function Pg(t){return typeof t=="function"}const d6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||d6.has(t)}let DC=t=>!zf(t);function f6(t){t&&(DC=e=>e.startsWith("on")?!zf(e):t(e))}try{f6(require("@emotion/is-prop-valid").default)}catch{}function p6(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(DC(r)||n===!0&&zf(r)||!e&&!zf(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function m6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Sp=V.createContext({});function $c(t){return typeof t=="string"||Array.isArray(t)}function Ip(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v_=["initial",...y_];function Cp(t){return Ip(t.animate)||v_.some(e=>$c(t[e]))}function MC(t){return!!(Cp(t)||t.variants)}function g6(t,e){if(Cp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||$c(n)?n:void 0,animate:$c(i)?i:void 0}}return t.inherit!==!1?e:{}}function y6(t){const{initial:e,animate:n}=g6(t,V.useContext(Sp));return V.useMemo(()=>({initial:e,animate:n}),[iT(e),iT(n)])}function iT(t){return Array.isArray(t)?t.join(" "):t}const v6=Symbol.for("motionComponentSymbol");function Tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function _6(t,e,n){return V.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Tl(n)&&(n.current=i))},[e])}const __=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w6="framerAppearId",OC="data-"+__(w6),{schedule:w_}=AC(queueMicrotask,!1),NC=V.createContext({});function E6(t,e,n,i,r){var o,l;const{visualElement:u}=V.useContext(Sp),h=V.useContext(g_),f=V.useContext(bp),m=V.useContext(d_).reducedMotion,y=V.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const _=y.current,T=V.useContext(NC);_&&!_.projection&&r&&(_.type==="html"||_.type==="svg")&&T6(y.current,n,r,T);const b=V.useRef(!1);V.useInsertionEffect(()=>{_&&b.current&&_.update(n,f)});const P=n[OC],S=V.useRef(!!P&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,P))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,P)));return kC(()=>{_&&(b.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),w_.render(_.render),S.current&&_.animationState&&_.animationState.animateChanges())}),V.useEffect(()=>{_&&(!S.current&&_.animationState&&_.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,P)}),S.current=!1))}),_}function T6(t,e,n,i){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:VC(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&Tl(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function VC(t){if(t)return t.options.allowProjection!==!1?t.projection:VC(t.parent)}function x6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var o,l;t&&My(t);function u(f,m){let y;const _={...V.useContext(d_),...f,layoutId:b6(f)},{isStatic:T}=_,b=y6(f),P=i(f,T);if(!T&&f_){S6();const S=I6(_);y=S.MeasureLayout,b.visualElement=E6(r,P,_,e,S.ProjectionNode)}return R.jsxs(Sp.Provider,{value:b,children:[y&&b.visualElement?R.jsx(y,{visualElement:b.visualElement,..._}):null,n(r,f,_6(P,b.visualElement,m),P,T,b.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(l=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&l!==void 0?l:""})`}`;const h=V.forwardRef(u);return h[v6]=r,h}function b6({layoutId:t}){const e=V.useContext(c_).id;return e&&t!==void 0?e+"-"+t:t}function S6(t,e){V.useContext(g_).strict}function I6(t){const{drag:e,layout:n}=Kl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const C6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E_(t){return typeof t!="string"||t.includes("-")?!1:!!(C6.indexOf(t)>-1||/[A-Z]/u.test(t))}function rT(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function T_(t,e,n,i){if(typeof e=="function"){const[r,o]=rT(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=rT(i);e=e(n!==void 0?n:t.custom,r,o)}return e}const Oy=t=>Array.isArray(t),P6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),k6=t=>Oy(t)?t[t.length-1]||0:t,fn=t=>!!(t&&t.getVelocity);function mf(t){const e=fn(t)?t.get():t;return P6(e)?e.toValue():e}function R6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,o){const l={latestValues:A6(i,r,o,t),renderState:e()};return n&&(l.onMount=u=>n({props:i,current:u,...l}),l.onUpdate=u=>n(u)),l}const LC=t=>(e,n)=>{const i=V.useContext(Sp),r=V.useContext(bp),o=()=>R6(t,e,i,r);return n?o():h_(o)};function A6(t,e,n,i){const r={},o=i(t,{});for(const _ in o)r[_]=mf(o[_]);let{initial:l,animate:u}=t;const h=Cp(t),f=MC(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!Ip(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const b=T_(t,_[T]);if(b){const{transitionEnd:P,transition:S,...A}=b;for(const L in A){let z=A[L];if(Array.isArray(z)){const H=m?z.length-1:0;z=z[H]}z!==null&&(r[L]=z)}for(const L in P)r[L]=P[L]}}}return r}const uu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wa=new Set(uu),FC=t=>e=>typeof e=="string"&&e.startsWith(t),jC=FC("--"),D6=FC("var(--"),x_=t=>D6(t)?M6.test(t.split("/*")[0].trim()):!1,M6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,UC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,es=(t,e,n)=>n>e?e:n<t?t:n,cu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hc={...cu,transform:t=>es(0,1,t)},Hd={...cu,default:1},dh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ps=dh("deg"),fr=dh("%"),Te=dh("px"),O6=dh("vh"),N6=dh("vw"),sT={...fr,parse:t=>fr.parse(t)/100,transform:t=>fr.transform(t*100)},V6={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},L6={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:Hd,scaleX:Hd,scaleY:Hd,scaleZ:Hd,skew:Ps,skewX:Ps,skewY:Ps,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Hc,originX:sT,originY:sT,originZ:Te},oT={...cu,transform:Math.round},b_={...V6,...L6,zIndex:oT,size:Te,fillOpacity:Hc,strokeOpacity:Hc,numOctaves:oT},F6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},j6=uu.length;function U6(t,e,n){let i="",r=!0;for(let o=0;o<j6;o++){const l=uu[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=UC(u,b_[l]);if(!h){r=!1;const m=F6[l]||l;i+=`${m}(${f}) `}n&&(e[l]=f)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function S_(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const f=e[h];if(wa.has(h)){l=!0;continue}else if(jC(h)){r[h]=f;continue}else{const m=UC(f,b_[h]);h.startsWith("origin")?(u=!0,o[h]=m):i[h]=m}}if(e.transform||(l||n?i.transform=U6(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${f} ${m}`}}const z6={offset:"stroke-dashoffset",array:"stroke-dasharray"},B6={offset:"strokeDashoffset",array:"strokeDasharray"};function $6(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?z6:B6;t[o.offset]=Te.transform(-i);const l=Te.transform(e),u=Te.transform(n);t[o.array]=`${l} ${u}`}function aT(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function H6(t,e,n){const i=aT(e,t.x,t.width),r=aT(n,t.y,t.height);return`${i} ${r}`}function I_(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},m,y){if(S_(t,f,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:T,dimensions:b}=t;_.transform&&(b&&(T.transform=_.transform),delete _.transform),b&&(r!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=H6(b,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),l!==void 0&&$6(_,l,u,h,!1)}const C_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zC=()=>({...C_(),attrs:{}}),P_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BC(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const $C=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HC(t,e,n,i){BC(t,e,void 0,i);for(const r in e.attrs)t.setAttribute($C.has(r)?r:__(r),e.attrs[r])}const Bf={};function W6(t){Object.assign(Bf,t)}function WC(t,{layout:e,layoutId:n}){return wa.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bf[t]||t==="opacity")}function k_(t,e,n){var i;const{style:r}=t,o={};for(const l in r)(fn(r[l])||e.style&&fn(e.style[l])||WC(l,t)||((i=n?.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=r[l]);return o}function qC(t,e,n){const i=k_(t,e,n);for(const r in t)if(fn(t[r])||fn(e[r])){const o=uu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}function q6(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const lT=["x","y","width","height","cx","cy","r"],G6={useVisualState:LC({scrapeMotionValuesFromProps:qC,createRenderState:zC,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in r)if(wa.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<lT.length;u++){const h=lT[u];t[h]!==e[h]&&(l=!0)}l&&st.read(()=>{q6(n,i),st.render(()=>{I_(i,r,P_(n.tagName),t.transformTemplate),HC(n,i)})})}})},K6={useVisualState:LC({scrapeMotionValuesFromProps:k_,createRenderState:C_})};function GC(t,e,n){for(const i in e)!fn(e[i])&&!WC(i,n)&&(t[i]=e[i])}function Q6({transformTemplate:t},e){return V.useMemo(()=>{const n=C_();return S_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function X6(t,e){const n=t.style||{},i={};return GC(i,n,t),Object.assign(i,Q6(t,e)),i}function Y6(t,e){const n={},i=X6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function J6(t,e,n,i){const r=V.useMemo(()=>{const o=zC();return I_(o,e,P_(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};GC(o,t.style,t),r.style={...o,...r.style}}return r}function Z6(t=!1){return(n,i,r,{latestValues:o},l)=>{const h=(E_(n)?J6:Y6)(i,o,l,n),f=p6(i,typeof n=="string",t),m=n!==V.Fragment?{...f,...h,ref:r}:{},{children:y}=i,_=V.useMemo(()=>fn(y)?y.get():y,[y]);return V.createElement(n,{...m,children:_})}}function e5(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...E_(i)?G6:K6,preloadedFeatures:t,useRender:Z6(r),createVisualElement:e,Component:i};return x6(l)}}function KC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Pp(t,e,n){const i=t.getProps();return T_(i,e,n!==void 0?n:i.custom,t)}const t5=m_(()=>window.ScrollTimeline!==void 0);class n5{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(t5()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class i5 extends n5{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function R_(t,e){return t?t[e]||t.default||t:void 0}const Ny=2e4;function QC(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ny;)e+=n,i=t.next(e);return e>=Ny?1/0:e}function A_(t){return typeof t=="function"}function uT(t,e){t.timeline=e,t.onfinish=null}const D_=t=>Array.isArray(t)&&typeof t[0]=="number",r5={linearEasing:void 0};function s5(t,e){const n=m_(t);return()=>{var i;return(i=r5[e])!==null&&i!==void 0?i:n()}}const $f=s5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),XC=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=t(Gl(0,r-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function YC(t){return!!(typeof t=="function"&&$f()||!t||typeof t=="string"&&(t in Vy||$f())||D_(t)||Array.isArray(t)&&t.every(YC))}const gc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Vy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gc([0,.65,.55,1]),circOut:gc([.55,0,1,.45]),backIn:gc([.31,.01,.66,-.59]),backOut:gc([.33,1.53,.69,.99])};function JC(t,e){if(t)return typeof t=="function"&&$f()?XC(t,e):D_(t)?gc(t):Array.isArray(t)?t.map(n=>JC(n,e)||Vy.easeOut):Vy[t]}const Di={x:!1,y:!1};function ZC(){return Di.x||Di.y}function eP(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const o=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function tP(t,e){const n=eP(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function cT(t){return e=>{e.pointerType==="touch"||ZC()||t(e)}}function o5(t,e,n={}){const[i,r,o]=tP(t,n),l=cT(u=>{const{target:h}=u,f=e(u);if(typeof f!="function"||!h)return;const m=cT(y=>{f(y),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,r)});return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const nP=(t,e)=>e?t===e?!0:nP(t,e.parentElement):!1,M_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,a5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function l5(t){return a5.has(t.tagName)||t.tabIndex!==-1}const yc=new WeakSet;function hT(t){return e=>{e.key==="Enter"&&t(e)}}function kg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const u5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=hT(()=>{if(yc.has(n))return;kg(n,"down");const r=hT(()=>{kg(n,"up")}),o=()=>kg(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function dT(t){return M_(t)&&!ZC()}function c5(t,e,n={}){const[i,r,o]=tP(t,n),l=u=>{const h=u.currentTarget;if(!dT(u)||yc.has(h))return;yc.add(h);const f=e(u),m=(T,b)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),!(!dT(T)||!yc.has(h))&&(yc.delete(h),typeof f=="function"&&f(T,{success:b}))},y=T=>{m(T,n.useGlobalTarget||nP(h,T.target))},_=T=>{m(T,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",_,r)};return i.forEach(u=>{!l5(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),u.addEventListener("focus",f=>u5(f,r),r)}),o}function h5(t){return t==="x"||t==="y"?Di[t]?null:(Di[t]=!0,()=>{Di[t]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}const iP=new Set(["width","height","top","left","right","bottom",...uu]);let gf;function d5(){gf=void 0}const pr={now:()=>(gf===void 0&&pr.set(Jt.isProcessing||l6.useManualTiming?Jt.timestamp:performance.now()),gf),set:t=>{gf=t,queueMicrotask(d5)}};function O_(t,e){t.indexOf(e)===-1&&t.push(e)}function N_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class V_{constructor(){this.subscriptions=[]}add(e){return O_(this.subscriptions,e),()=>N_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function rP(t,e){return e?t*(1e3/e):0}const fT=30,f5=t=>!isNaN(parseFloat(t));class p5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=pr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new V_);const i=this.events[e].add(n);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>fT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,fT);return rP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wc(t,e){return new p5(t,e)}function m5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wc(n))}function g5(t,e){const n=Pp(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const l in o){const u=k6(o[l]);m5(t,l,u)}}function y5(t){return!!(fn(t)&&t.add)}function Ly(t,e){const n=t.getValue("willChange");if(y5(n))return n.add(e)}function sP(t){return t.props[OC]}const oP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,v5=1e-7,_5=12;function w5(t,e,n,i,r){let o,l,u=0;do l=e+(n-e)/2,o=oP(l,i,r)-t,o>0?n=l:e=l;while(Math.abs(o)>v5&&++u<_5);return l}function fh(t,e,n,i){if(t===e&&n===i)return Gn;const r=o=>w5(o,0,1,t,n);return o=>o===0||o===1?o:oP(r(o),e,i)}const aP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lP=t=>e=>1-t(1-e),uP=fh(.33,1.53,.69,.99),L_=lP(uP),cP=aP(L_),hP=t=>(t*=2)<1?.5*L_(t):.5*(2-Math.pow(2,-10*(t-1))),F_=t=>1-Math.sin(Math.acos(t)),dP=lP(F_),fP=aP(F_),pP=t=>/^0[^.\s]+$/u.test(t);function E5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pP(t):!0}const Cc=t=>Math.round(t*1e5)/1e5,j_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function T5(t){return t==null}const x5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,U_=(t,e)=>n=>!!(typeof n=="string"&&x5.test(n)&&n.startsWith(t)||e&&!T5(n)&&Object.prototype.hasOwnProperty.call(n,e)),mP=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,l,u]=i.match(j_);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},b5=t=>es(0,255,t),Rg={...cu,transform:t=>Math.round(b5(t))},Go={test:U_("rgb","red"),parse:mP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Rg.transform(t)+", "+Rg.transform(e)+", "+Rg.transform(n)+", "+Cc(Hc.transform(i))+")"};function S5(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Fy={test:U_("#"),parse:S5,transform:Go.transform},xl={test:U_("hsl","hue"),parse:mP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+fr.transform(Cc(e))+", "+fr.transform(Cc(n))+", "+Cc(Hc.transform(i))+")"},un={test:t=>Go.test(t)||Fy.test(t)||xl.test(t),parse:t=>Go.test(t)?Go.parse(t):xl.test(t)?xl.parse(t):Fy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Go.transform(t):xl.transform(t)},I5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function C5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(j_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(I5))===null||n===void 0?void 0:n.length)||0)>0}const gP="number",yP="color",P5="var",k5="var(",pT="${}",R5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qc(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=e.replace(R5,h=>(un.test(h)?(i.color.push(o),r.push(yP),n.push(un.parse(h))):h.startsWith(k5)?(i.var.push(o),r.push(P5),n.push(h)):(i.number.push(o),r.push(gP),n.push(parseFloat(h))),++o,pT)).split(pT);return{values:n,split:u,indexes:i,types:r}}function vP(t){return qc(t).values}function _P(t){const{split:e,types:n}=qc(t),i=e.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],r[l]!==void 0){const u=n[l];u===gP?o+=Cc(r[l]):u===yP?o+=un.transform(r[l]):o+=r[l]}return o}}const A5=t=>typeof t=="number"?0:t;function D5(t){const e=vP(t);return _P(t)(e.map(A5))}const Zs={test:C5,parse:vP,createTransformer:_P,getAnimatableNone:D5},M5=new Set(["brightness","contrast","saturate","opacity"]);function O5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(j_)||[];if(!i)return t;const r=n.replace(i,"");let o=M5.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const N5=/\b([a-z-]*)\(.*?\)/gu,jy={...Zs,getAnimatableNone:t=>{const e=t.match(N5);return e?e.map(O5).join(" "):t}},V5={...b_,color:un,backgroundColor:un,outlineColor:un,fill:un,stroke:un,borderColor:un,borderTopColor:un,borderRightColor:un,borderBottomColor:un,borderLeftColor:un,filter:jy,WebkitFilter:jy},z_=t=>V5[t];function wP(t,e){let n=z_(t);return n!==jy&&(n=Zs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const L5=new Set(["auto","none","0"]);function F5(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!L5.has(o)&&qc(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=wP(n,r)}const mT=t=>t===cu||t===Te,gT=(t,e)=>parseFloat(t.split(", ")[e]),yT=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return gT(r[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?gT(o[1],t):0}},j5=new Set(["x","y","z"]),U5=uu.filter(t=>!j5.has(t));function z5(t){const e=[];return U5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:yT(4,13),y:yT(5,14)};Ql.translateX=Ql.x;Ql.translateY=Ql.y;const ea=new Set;let Uy=!1,zy=!1;function EP(){if(zy){const t=Array.from(ea).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=z5(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,l])=>{var u;(u=i.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}zy=!1,Uy=!1,ea.forEach(t=>t.complete()),ea.clear()}function TP(){ea.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zy=!0)})}function B5(){TP(),EP()}class B_{constructor(e,n,i,r,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ea.add(this),Uy||(Uy=!0,st.read(TP),st.resolveKeyframes(EP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=r?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&l===void 0&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ea.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ea.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),$5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H5(t){const e=$5.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function bP(t,e,n=1){const[i,r]=H5(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return xP(l)?parseFloat(l):l}return x_(r)?bP(r,e,n+1):r}const SP=t=>e=>e.test(t),W5={test:t=>t==="auto",parse:t=>t},IP=[cu,Te,fr,Ps,N6,O6,W5],vT=t=>IP.find(SP(t));class CP extends B_{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),x_(f))){const m=bP(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!iP.has(i)||e.length!==2)return;const[r,o]=e,l=vT(r),u=vT(o);if(l!==u)if(mT(l)&&mT(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)E5(e[r])&&i.push(r);i.length&&F5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ql[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ql[i](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const _T=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Zs.test(t)||t==="0")&&!t.startsWith("url("));function q5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G5(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=_T(r,e),u=_T(o,e);return!l||!u?!1:q5(t)||(n==="spring"||A_(n))&&i}const K5=t=>t!==null;function kp(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(K5),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const Q5=40;class PP{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=pr.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Q5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&B5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=pr.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!G5(e,i,r,o))if(l)this.options.duration=0;else{h&&h(kp(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(t,e,n)=>t+(e-t)*n;function Ag(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function X5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,l=0;if(!e)r=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;r=Ag(h,u,t+1/3),o=Ag(h,u,t),l=Ag(h,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function Hf(t,e){return n=>n>0?e:t}const Dg=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Y5=[Fy,Go,xl],J5=t=>Y5.find(e=>e.test(t));function wT(t){const e=J5(t);if(!e)return!1;let n=e.parse(t);return e===xl&&(n=X5(n)),n}const ET=(t,e)=>{const n=wT(t),i=wT(e);if(!n||!i)return Hf(t,e);const r={...n};return o=>(r.red=Dg(n.red,i.red,o),r.green=Dg(n.green,i.green,o),r.blue=Dg(n.blue,i.blue,o),r.alpha=ct(n.alpha,i.alpha,o),Go.transform(r))},Z5=(t,e)=>n=>e(t(n)),ph=(...t)=>t.reduce(Z5),By=new Set(["none","hidden"]);function e9(t,e){return By.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t9(t,e){return n=>ct(t,e,n)}function $_(t){return typeof t=="number"?t9:typeof t=="string"?x_(t)?Hf:un.test(t)?ET:r9:Array.isArray(t)?kP:typeof t=="object"?un.test(t)?ET:n9:Hf}function kP(t,e){const n=[...t],i=n.length,r=t.map((o,l)=>$_(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=r[l](o);return n}}function n9(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=$_(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function i9(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][r[l]],h=(n=t.values[u])!==null&&n!==void 0?n:0;i[o]=h,r[l]++}return i}const r9=(t,e)=>{const n=Zs.createTransformer(e),i=qc(t),r=qc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?By.has(t)&&!r.values.length||By.has(e)&&!i.values.length?e9(t,e):ph(kP(i9(i,r),r.values),n):Hf(t,e)};function RP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ct(t,e,n):$_(t)(t,e)}const s9=5;function AP(t,e,n){const i=Math.max(e-s9,0);return rP(n-t(i),e-i)}const gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function o9({duration:t=gt.duration,bounce:e=gt.bounce,velocity:n=gt.velocity,mass:i=gt.mass}){let r,o,l=1-e;l=es(gt.minDamping,gt.maxDamping,l),t=es(gt.minDuration,gt.maxDuration,Gr(t)),l<1?(r=f=>{const m=f*l,y=m*t,_=m-n,T=$y(f,l),b=Math.exp(-y);return Mg-_/T*b},o=f=>{const y=f*l*t,_=y*n+n,T=Math.pow(l,2)*Math.pow(f,2)*t,b=Math.exp(-y),P=$y(Math.pow(f,2),l);return(-r(f)+Mg>0?-1:1)*((_-T)*b)/P}):(r=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-Mg+m*y},o=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const u=5/t,h=l9(r,o,u);if(t=qr(t),isNaN(h))return{stiffness:gt.stiffness,damping:gt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:t}}}const a9=12;function l9(t,e,n){let i=n;for(let r=1;r<a9;r++)i=i-t(i)/e(i);return i}function $y(t,e){return t*Math.sqrt(1-e*e)}const u9=["duration","bounce"],c9=["stiffness","damping","mass"];function TT(t,e){return e.some(n=>t[n]!==void 0)}function h9(t){let e={velocity:gt.velocity,stiffness:gt.stiffness,damping:gt.damping,mass:gt.mass,isResolvedFromDuration:!1,...t};if(!TT(t,c9)&&TT(t,u9))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*es(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:gt.mass,stiffness:r,damping:o}}else{const n=o9(t);e={...e,...n,mass:gt.mass},e.isResolvedFromDuration=!0}return e}function DP(t=gt.visualDuration,e=gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:y,velocity:_,isResolvedFromDuration:T}=h9({...n,velocity:-Gr(n.velocity||0)}),b=_||0,P=f/(2*Math.sqrt(h*m)),S=l-o,A=Gr(Math.sqrt(h/m)),L=Math.abs(S)<5;i||(i=L?gt.restSpeed.granular:gt.restSpeed.default),r||(r=L?gt.restDelta.granular:gt.restDelta.default);let z;if(P<1){const Q=$y(A,P);z=Z=>{const D=Math.exp(-P*A*Z);return l-D*((b+P*A*S)/Q*Math.sin(Q*Z)+S*Math.cos(Q*Z))}}else if(P===1)z=Q=>l-Math.exp(-A*Q)*(S+(b+A*S)*Q);else{const Q=A*Math.sqrt(P*P-1);z=Z=>{const D=Math.exp(-P*A*Z),C=Math.min(Q*Z,300);return l-D*((b+P*A*S)*Math.sinh(C)+Q*S*Math.cosh(C))/Q}}const H={calculatedDuration:T&&y||null,next:Q=>{const Z=z(Q);if(T)u.done=Q>=y;else{let D=0;P<1&&(D=Q===0?qr(b):AP(z,Q,Z));const C=Math.abs(D)<=i,k=Math.abs(l-Z)<=r;u.done=C&&k}return u.value=u.done?l:Z,u},toString:()=>{const Q=Math.min(QC(H),Ny),Z=XC(D=>H.next(Q*D).value,Q,30);return Q+"ms "+Z}};return H}function xT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const y=t[0],_={done:!1,value:y},T=C=>u!==void 0&&C<u||h!==void 0&&C>h,b=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let P=n*e;const S=y+P,A=l===void 0?S:l(S);A!==S&&(P=A-y);const L=C=>-P*Math.exp(-C/i),z=C=>A+L(C),H=C=>{const k=L(C),N=z(C);_.done=Math.abs(k)<=f,_.value=_.done?A:N};let Q,Z;const D=C=>{T(_.value)&&(Q=C,Z=DP({keyframes:[_.value,b(_.value)],velocity:AP(z,C,_.value),damping:r,stiffness:o,restDelta:f,restSpeed:m}))};return D(0),{calculatedDuration:null,next:C=>{let k=!1;return!Z&&Q===void 0&&(k=!0,H(C),D(C)),Q!==void 0&&C>=Q?Z.next(C-Q):(!k&&H(C),_)}}}const d9=fh(.42,0,1,1),f9=fh(0,0,.58,1),MP=fh(.42,0,.58,1),p9=t=>Array.isArray(t)&&typeof t[0]!="number",m9={linear:Gn,easeIn:d9,easeInOut:MP,easeOut:f9,circIn:F_,circInOut:fP,circOut:dP,backIn:L_,backInOut:cP,backOut:uP,anticipate:hP},bT=t=>{if(D_(t)){RC(t.length===4);const[e,n,i,r]=t;return fh(e,n,i,r)}else if(typeof t=="string")return m9[t];return t};function g9(t,e,n){const i=[],r=n||RP,o=t.length-1;for(let l=0;l<o;l++){let u=r(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Gn:e;u=ph(h,u)}i.push(u)}return i}function y9(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(RC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=g9(e,i,r),h=u.length,f=m=>{if(l&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const _=Gl(t[y],t[y+1],m);return u[y](_)};return n?m=>f(es(t[0],t[o-1],m)):f}function v9(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Gl(0,e,i);t.push(ct(n,1,r))}}function _9(t){const e=[0];return v9(e,t.length-1),e}function w9(t,e){return t.map(n=>n*e)}function E9(t,e){return t.map(()=>e||MP).splice(0,t.length-1)}function Wf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=p9(i)?i.map(bT):bT(i),o={done:!1,value:e[0]},l=w9(n&&n.length===e.length?n:_9(e),t),u=y9(l,e,{ease:Array.isArray(r)?r:E9(e,r)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const T9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>st.update(e,!0),stop:()=>Js(e),now:()=>Jt.isProcessing?Jt.timestamp:pr.now()}},x9={decay:xT,inertia:xT,tween:Wf,keyframes:Wf,spring:DP},b9=t=>t/100;class H_ extends PP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,l=r?.KeyframeResolver||B_,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=this.options,u=A_(n)?n:x9[n]||Wf;let h,f;u!==Wf&&typeof e[0]!="number"&&(h=ph(b9,RP(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=QC(m));const{calculatedDuration:y}=m,_=y+r,T=_*(i+1)-r;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:_,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:m,resolvedDuration:y}=i;if(this.startTime===null)return o.next(0);const{delay:_,repeat:T,repeatType:b,repeatDelay:P,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-_*(this.speed>=0?1:-1),L=this.speed>=0?A<0:A>m;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let z=this.currentTime,H=o;if(T){const C=Math.min(this.currentTime,m)/y;let k=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&k--,k=Math.min(k,T+1),!!(k%2)&&(b==="reverse"?(N=1-N,P&&(N-=P/y)):b==="mirror"&&(H=l)),z=es(0,1,N)*y}const Q=L?{done:!1,value:h[0]}:H.next(z);u&&(Q.value=u(Q.value));let{done:Z}=Q;!L&&f!==null&&(Z=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Z);return D&&r!==void 0&&(Q.value=kp(h,this.options,r)),S&&S(Q.value),D&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Gr(e.calculatedDuration):0}get time(){return Gr(this.currentTime)}set time(e){e=qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=T9,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const S9=new Set(["opacity","clipPath","filter","transform"]);function I9(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const m=JC(u,r);return Array.isArray(m)&&(f.easing=m),t.animate(f,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const C9=m_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),qf=10,P9=2e4;function k9(t){return A_(t.type)||t.type==="spring"||!YC(t.ease)}function R9(t,e){const n=new H_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let o=0;for(;!i.done&&o<P9;)i=n.sample(o),r.push(i.value),o+=qf;return{times:void 0,keyframes:r,duration:o-qf,ease:"linear"}}const OP={anticipate:hP,backInOut:cP,circInOut:fP};function A9(t){return t in OP}class ST extends PP{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new CP(o,(l,u)=>this.onKeyframesResolved(l,u),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:o,type:l,motionValue:u,name:h,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&$f()&&A9(o)&&(o=OP[o]),k9(this.options)){const{onComplete:y,onUpdate:_,motionValue:T,element:b,...P}=this.options,S=R9(e,P);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,o=S.ease,l="keyframes"}const m=I9(u.owner.current,h,e,{...this.options,duration:i,times:r,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(uT(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(kp(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Gr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Gr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Gn;const{animation:i}=n;uT(i,e)}return Gn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:y,element:_,...T}=this.options,b=new H_({...T,keyframes:i,duration:r,type:o,ease:l,times:u,isGenerator:!0}),P=qr(this.time);f.setWithVelocity(b.sample(P-qf).value,b.sample(P).value,qf)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return C9()&&i&&S9.has(i)&&!h&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}}const D9={type:"spring",stiffness:500,damping:25,restSpeed:10},M9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O9={type:"keyframes",duration:.8},N9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V9=(t,{keyframes:e})=>e.length>2?O9:wa.has(t)?t.startsWith("scale")?M9(e[1]):D9:N9;function L9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const W_=(t,e,n,i={},r,o)=>l=>{const u=R_(i,t)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-qr(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:_=>{e.set(_),u.onUpdate&&u.onUpdate(_)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:r};L9(u)||(m={...m,...V9(t,m)}),m.duration&&(m.duration=qr(m.duration)),m.repeatDelay&&(m.repeatDelay=qr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const _=kp(m.keyframes,u);if(_!==void 0)return st.update(()=>{m.onUpdate(_),m.onComplete()}),new i5([])}return!o&&ST.supports(m)?new ST(m):new H_(m)};function F9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function NP(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const f=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const y in h){const _=t.getValue(y,(o=t.latestValues[y])!==null&&o!==void 0?o:null),T=h[y];if(T===void 0||m&&F9(m,y))continue;const b={delay:n,...R_(l||{},y)};let P=!1;if(window.MotionHandoffAnimation){const A=sP(t);if(A){const L=window.MotionHandoffAnimation(A,y,st);L!==null&&(b.startTime=L,P=!0)}}Ly(t,y),_.start(W_(y,_,T,t.shouldReduceMotion&&iP.has(y)?{type:!1}:b,t,P));const S=_.animation;S&&f.push(S)}return u&&Promise.all(f).then(()=>{st.update(()=>{u&&g5(t,u)})}),f}function Hy(t,e,n={}){var i;const r=Pp(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(NP(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:_}=o;return j9(t,e,m+f,y,_,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,m]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function j9(t,e,n=0,i=0,r=1,o){const l=[],u=(t.variantChildren.size-1)*i,h=r===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(t.variantChildren).sort(U9).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(Hy(f,e,{...o,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function U9(t,e){return t.sortNodePosition(e)}function z9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>Hy(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=Hy(t,e,n);else{const r=typeof e=="function"?Pp(t,e,n.custom):e;i=Promise.all(NP(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const B9=v_.length;function VP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<B9;n++){const i=v_[n],r=t.props[i];($c(r)||r===!1)&&(e[i]=r)}return e}const $9=[...y_].reverse(),H9=y_.length;function W9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>z9(t,n,i)))}function q9(t){let e=W9(t),n=IT(),i=!0;const r=h=>(f,m)=>{var y;const _=Pp(t,m,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(_){const{transition:T,transitionEnd:b,...P}=_;f={...f,...P,...b}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,m=VP(t.parent)||{},y=[],_=new Set;let T={},b=1/0;for(let S=0;S<H9;S++){const A=$9[S],L=n[A],z=f[A]!==void 0?f[A]:m[A],H=$c(z),Q=A===h?L.isActive:null;Q===!1&&(b=S);let Z=z===m[A]&&z!==f[A]&&H;if(Z&&i&&t.manuallyAnimateOnMount&&(Z=!1),L.protectedKeys={...T},!L.isActive&&Q===null||!z&&!L.prevProp||Ip(z)||typeof z=="boolean")continue;const D=G9(L.prevProp,z);let C=D||A===h&&L.isActive&&!Z&&H||S>b&&H,k=!1;const N=Array.isArray(z)?z:[z];let j=N.reduce(r(A),{});Q===!1&&(j={});const{prevResolvedValues:$={}}=L,O={...$,...j},ze=Se=>{C=!0,_.has(Se)&&(k=!0,_.delete(Se)),L.needsAnimating[Se]=!0;const se=t.getValue(Se);se&&(se.liveStyle=!1)};for(const Se in O){const se=j[Se],ge=$[Se];if(T.hasOwnProperty(Se))continue;let ne=!1;Oy(se)&&Oy(ge)?ne=!KC(se,ge):ne=se!==ge,ne?se!=null?ze(Se):_.add(Se):se!==void 0&&_.has(Se)?ze(Se):L.protectedKeys[Se]=!0}L.prevProp=z,L.prevResolvedValues=j,L.isActive&&(T={...T,...j}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(Z&&D)||k)&&y.push(...N.map(Se=>({animation:Se,options:{type:A}})))}if(_.size){const S={};_.forEach(A=>{const L=t.getBaseTarget(A),z=t.getValue(A);z&&(z.liveStyle=!0),S[A]=L??null}),y.push({animation:S})}let P=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(y):Promise.resolve()}function u(h,f){var m;if(n[h].isActive===f)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(_=>{var T;return(T=_.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),n[h].isActive=f;const y=l(h);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=IT(),i=!0}}}function G9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!KC(e,t):!1}function Vo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function IT(){return{animate:Vo(!0),whileInView:Vo(),whileHover:Vo(),whileTap:Vo(),whileDrag:Vo(),whileFocus:Vo(),exit:Vo()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class K9 extends ro{constructor(e){super(e),e.animationState||(e.animationState=q9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ip(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Q9=0;class X9 extends ro{constructor(){super(...arguments),this.id=Q9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LP={animation:{Feature:K9},exit:{Feature:X9}};function Gc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function mh(t){return{point:{x:t.pageX,y:t.pageY}}}const Y9=t=>e=>M_(e)&&t(e,mh(e));function Pc(t,e,n,i){return Gc(t,e,Y9(n),i)}const CT=(t,e)=>Math.abs(t-e);function J9(t,e){const n=CT(t.x,e.x),i=CT(t.y,e.y);return Math.sqrt(n**2+i**2)}class FP{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ng(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=J9(y.offset,{x:0,y:0})>=3;if(!_&&!T)return;const{point:b}=y,{timestamp:P}=Jt;this.history.push({...b,timestamp:P});const{onStart:S,onMove:A}=this.handlers;_||(S&&S(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,_)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Og(_,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(y,_)=>{this.end();const{onEnd:T,onSessionEnd:b,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ng(y.type==="pointercancel"?this.lastMoveEventInfo:Og(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,S),b&&b(y,S)},!M_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const l=mh(e),u=Og(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Jt;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Ng(u,this.history)),this.removeListeners=ph(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function Og(t,e){return e?{point:e(t.point)}:t}function PT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ng({point:t},e){return{point:t,delta:PT(t,jP(e)),offset:PT(t,Z9(e)),velocity:eF(e,.1)}}function Z9(t){return t[0]}function jP(t){return t[t.length-1]}function eF(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=jP(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>qr(e)));)n--;if(!i)return{x:0,y:0};const o=Gr(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const UP=1e-4,tF=1-UP,nF=1+UP,zP=.01,iF=0-zP,rF=0+zP;function Qn(t){return t.max-t.min}function sF(t,e,n){return Math.abs(t-e)<=n}function kT(t,e,n,i=.5){t.origin=i,t.originPoint=ct(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=ct(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tF&&t.scale<=nF||isNaN(t.scale))&&(t.scale=1),(t.translate>=iF&&t.translate<=rF||isNaN(t.translate))&&(t.translate=0)}function kc(t,e,n,i){kT(t.x,e.x,n.x,i?i.originX:void 0),kT(t.y,e.y,n.y,i?i.originY:void 0)}function RT(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function oF(t,e,n){RT(t.x,e.x,n.x),RT(t.y,e.y,n.y)}function AT(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Rc(t,e,n){AT(t.x,e.x,n.x),AT(t.y,e.y,n.y)}function aF(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ct(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ct(n,t,i.max):Math.min(t,n)),t}function DT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function lF(t,{top:e,left:n,bottom:i,right:r}){return{x:DT(t.x,n,r),y:DT(t.y,e,i)}}function MT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function uF(t,e){return{x:MT(t.x,e.x),y:MT(t.y,e.y)}}function cF(t,e){let n=.5;const i=Qn(t),r=Qn(e);return r>i?n=Gl(e.min,e.max-i,t.min):i>r&&(n=Gl(t.min,t.max-r,e.min)),es(0,1,n)}function hF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wy=.35;function dF(t=Wy){return t===!1?t=0:t===!0&&(t=Wy),{x:OT(t,"left","right"),y:OT(t,"top","bottom")}}function OT(t,e,n){return{min:NT(t,e),max:NT(t,n)}}function NT(t,e){return typeof t=="number"?t:t[e]||0}const VT=()=>({translate:0,scale:1,origin:0,originPoint:0}),bl=()=>({x:VT(),y:VT()}),LT=()=>({min:0,max:0}),Tt=()=>({x:LT(),y:LT()});function ci(t){return[t("x"),t("y")]}function BP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function fF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function pF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Vg(t){return t===void 0||t===1}function qy({scale:t,scaleX:e,scaleY:n}){return!Vg(t)||!Vg(e)||!Vg(n)}function $o(t){return qy(t)||$P(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function $P(t){return FT(t.x)||FT(t.y)}function FT(t){return t&&t!=="0%"}function Gf(t,e,n){const i=t-n,r=e*i;return n+r}function jT(t,e,n,i,r){return r!==void 0&&(t=Gf(t,r,i)),Gf(t,n,i)+e}function Gy(t,e=0,n=1,i,r){t.min=jT(t.min,e,n,i,r),t.max=jT(t.max,e,n,i,r)}function HP(t,{x:e,y:n}){Gy(t.x,e.translate,e.scale,e.originPoint),Gy(t.y,n.translate,n.scale,n.originPoint)}const UT=.999999999999,zT=1.0000000000001;function mF(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,l;for(let u=0;u<r;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Il(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,HP(t,l)),i&&$o(o.latestValues)&&Il(t,o.latestValues))}e.x<zT&&e.x>UT&&(e.x=1),e.y<zT&&e.y>UT&&(e.y=1)}function Sl(t,e){t.min=t.min+e,t.max=t.max+e}function BT(t,e,n,i,r=.5){const o=ct(t.min,t.max,r);Gy(t,e,n,o,i)}function Il(t,e){BT(t.x,e.x,e.scaleX,e.scale,e.originX),BT(t.y,e.y,e.scaleY,e.scale,e.originY)}function WP(t,e){return BP(pF(t.getBoundingClientRect(),e))}function gF(t,e,n){const i=WP(t,n),{scroll:r}=e;return r&&(Sl(i.x,r.offset.x),Sl(i.y,r.offset.y)),i}const qP=({current:t})=>t?t.ownerDocument.defaultView:null,yF=new WeakMap;class vF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mh(m).point)},o=(m,y)=>{const{drag:_,dragPropagation:T,onDragStart:b}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h5(_),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(S=>{let A=this.getAxisMotionValue(S).get()||0;if(fr.test(A)){const{projection:L}=this.visualElement;if(L&&L.layout){const z=L.layout.layoutBox[S];z&&(A=Qn(z)*(parseFloat(A)/100))}}this.originPoint[S]=A}),b&&st.postRender(()=>b(m,y)),Ly(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:b,onDrag:P}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:S}=y;if(T&&this.currentDirection===null){this.currentDirection=_F(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",y.point,S),this.updateAxis("y",y.point,S),this.visualElement.render(),P&&P(m,y)},u=(m,y)=>this.stop(m,y),h=()=>ci(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new FP(e,{onSessionStart:r,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:qP(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&st.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Wd(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=aF(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Tl(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=lF(r.layoutBox,n):this.constraints=!1,this.elastic=dF(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ci(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=hF(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Tl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=gF(i,r.root,this.visualElement.getTransformPagePoint());let l=uF(r.layout.layoutBox,o);if(n){const u=n(fF(l));this.hasMutatedConstraints=!!u,u&&(l=BP(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=ci(m=>{if(!Wd(m,n,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const _=r?200:1e6,T=r?40:1e7,b={type:"inertia",velocity:i?e[m]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,b)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Ly(this.visualElement,e),i.start(W_(e,i,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:i}=this.getProps();if(!Wd(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[n];o.set(e[n]-ct(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Tl(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ci(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=cF({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(l=>{if(!Wd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(ct(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;yF.set(this.visualElement,this);const e=this.visualElement.current,n=Pc(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Tl(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),st.read(i);const l=Gc(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(ci(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=Wy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Wd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function _F(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wF extends ro{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new vF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const $T=t=>(e,n)=>{t&&st.postRender(()=>t(e,n))};class EF extends ro{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new FP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:$T(e),onStart:$T(n),onMove:i,onEnd:(o,l)=>{delete this.session,r&&st.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=HT(t,e.target.x),i=HT(t,e.target.y);return`${n}% ${i}%`}},TF={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Zs.parse(t);if(r.length>5)return i;const o=Zs.createTransformer(t),l=typeof r[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;r[0+l]/=u,r[1+l]/=h;const f=ct(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};class xF extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;W6(bF),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),yf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,r||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||st.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),w_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function GP(t){const[e,n]=PC(),i=V.useContext(c_);return R.jsx(xF,{...t,layoutGroup:i,switchLayoutGroup:V.useContext(NC),isPresent:e,safeToRemove:n})}const bF={borderRadius:{...lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lc,borderTopRightRadius:lc,borderBottomLeftRadius:lc,borderBottomRightRadius:lc,boxShadow:TF};function SF(t,e,n){const i=fn(t)?t:Wc(t);return i.start(W_("",i,e,n)),i.animation}function IF(t){return t instanceof SVGElement&&t.tagName!=="svg"}const CF=(t,e)=>t.depth-e.depth;class PF{constructor(){this.children=[],this.isDirty=!1}add(e){O_(this.children,e),this.isDirty=!0}remove(e){N_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CF),this.isDirty=!1,this.children.forEach(e)}}function kF(t,e){const n=pr.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(Js(i),t(o-e))};return st.read(i,!0),()=>Js(i)}const KP=["TopLeft","TopRight","BottomLeft","BottomRight"],RF=KP.length,WT=t=>typeof t=="string"?parseFloat(t):t,qT=t=>typeof t=="number"||Te.test(t);function AF(t,e,n,i,r,o){r?(t.opacity=ct(0,n.opacity!==void 0?n.opacity:1,DF(i)),t.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,MF(i))):o&&(t.opacity=ct(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<RF;l++){const u=`border${KP[l]}Radius`;let h=GT(e,u),f=GT(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||qT(h)===qT(f)?(t[u]=Math.max(ct(WT(h),WT(f),i),0),(fr.test(f)||fr.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=ct(e.rotate||0,n.rotate||0,i))}function GT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DF=QP(0,.5,dP),MF=QP(.5,.95,Gn);function QP(t,e,n){return i=>i<t?0:i>e?1:n(Gl(t,e,i))}function KT(t,e){t.min=e.min,t.max=e.max}function li(t,e){KT(t.x,e.x),KT(t.y,e.y)}function QT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function XT(t,e,n,i,r){return t-=e,t=Gf(t,1/n,i),r!==void 0&&(t=Gf(t,1/r,i)),t}function OF(t,e=0,n=1,i=.5,r,o=t,l=t){if(fr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ct(o.min,o.max,i);t===o&&(u-=e),t.min=XT(t.min,e,n,u,r),t.max=XT(t.max,e,n,u,r)}function YT(t,e,[n,i,r],o,l){OF(t,e[n],e[i],e[r],e.scale,o,l)}const NF=["x","scaleX","originX"],VF=["y","scaleY","originY"];function JT(t,e,n,i){YT(t.x,e,NF,n?n.x:void 0,i?i.x:void 0),YT(t.y,e,VF,n?n.y:void 0,i?i.y:void 0)}function ZT(t){return t.translate===0&&t.scale===1}function XP(t){return ZT(t.x)&&ZT(t.y)}function ex(t,e){return t.min===e.min&&t.max===e.max}function LF(t,e){return ex(t.x,e.x)&&ex(t.y,e.y)}function tx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function YP(t,e){return tx(t.x,e.x)&&tx(t.y,e.y)}function nx(t){return Qn(t.x)/Qn(t.y)}function ix(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FF{constructor(){this.members=[]}add(e){O_(this.members,e),e.scheduleRender()}remove(e){if(N_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function jF(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:_,skewX:T,skewY:b}=n;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),_&&(i+=`rotateY(${_}deg) `),T&&(i+=`skewX(${T}deg) `),b&&(i+=`skewY(${b}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const Ho={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vc=typeof window<"u"&&window.MotionDebug!==void 0,Lg=["","X","Y","Z"],UF={visibility:"hidden"},rx=1e3;let zF=0;function Fg(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function JP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",st,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&JP(i)}function ZP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=e?.()){this.id=zF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vc&&(Ho.totalNodes=Ho.resolvedTargetDeltas=Ho.recalculatedProjection=0),this.nodes.forEach(HF),this.nodes.forEach(QF),this.nodes.forEach(XF),this.nodes.forEach(WF),vc&&window.MotionDebug.record(Ho)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new PF)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new V_),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=IF(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),t){let y;const _=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=kF(_,250),yf.hasAnimatedSinceResize&&(yf.hasAnimatedSinceResize=!1,this.nodes.forEach(ox))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeTargetChanged:T,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||m.getDefaultTransition()||tj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:A}=m.getProps(),L=!this.targetLayout||!YP(this.targetLayout,b)||T,z=!_&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||_&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,z);const H={...R_(P,"layout"),onPlay:S,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H)}else _||ox(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sx);return}this.isUpdating||this.nodes.forEach(GF),this.isUpdating=!1,this.nodes.forEach(KF),this.nodes.forEach(BF),this.nodes.forEach($F),this.clearAllSnapshots();const u=pr.now();Jt.delta=es(0,1e3/60,u-Jt.timestamp),Jt.timestamp=u,Jt.isProcessing=!0,Cg.update.process(Jt),Cg.preRender.process(Jt),Cg.render.process(Jt),Jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,w_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qF),this.sharedNodes.forEach(JF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!XP(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(u||$o(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),nj(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return Tt();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(ij))){const{scroll:m}=this.root;m&&(Sl(h.x,m.offset.x),Sl(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=Tt();if(li(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:_}=m;m!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&li(h,l),Sl(h.x,y.offset.x),Sl(h.y,y.offset.y))}return h}applyTransform(l,u=!1){const h=Tt();li(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Il(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),$o(m.latestValues)&&Il(h,m.latestValues)}return $o(this.latestValues)&&Il(h,this.latestValues),h}removeTransform(l){const u=Tt();li(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!$o(f.latestValues))continue;qy(f.latestValues)&&f.updateSnapshot();const m=Tt(),y=f.measurePageBox();li(m,y),JT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return $o(this.latestValues)&&JT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=Jt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Rc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Tt(),this.targetWithTransforms=Tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oF(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),HP(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tt(),this.relativeTargetOrigin=Tt(),Rc(this.relativeTargetOrigin,this.target,T.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vc&&Ho.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qy(this.parent.latestValues)||$P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Jt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;li(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;mF(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Tt());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QT(this.prevProjectionDelta.x,this.projectionDelta.x),QT(this.prevProjectionDelta.y,this.projectionDelta.y)),kc(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!ix(this.projectionDelta.x,this.prevProjectionDelta.x)||!ix(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),vc&&Ho.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bl(),this.projectionDelta=bl(),this.projectionDeltaWithTransform=bl()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=bl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const _=Tt(),T=h?h.source:void 0,b=this.layout?this.layout.source:void 0,P=T!==b,S=this.getStack(),A=!S||S.members.length<=1,L=!!(P&&!A&&this.options.crossfade===!0&&!this.path.some(ej));this.animationProgress=0;let z;this.mixTargetDelta=H=>{const Q=H/1e3;ax(y.x,l.x,Q),ax(y.y,l.y,Q),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rc(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZF(this.relativeTarget,this.relativeTargetOrigin,_,Q),z&&LF(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Tt()),li(z,this.relativeTarget)),P&&(this.animationValues=m,AF(m,f,this.latestValues,Q,L,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{yf.hasAnimatedSinceResize=!0,this.currentAnimation=SF(0,rx,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&ek(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Tt();const y=Qn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const _=Qn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+_}li(u,h),Il(u,m),kc(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FF),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Fg("z",l,f,this.animationValues);for(let m=0;m<Lg.length;m++)Fg(`rotate${Lg[m]}`,l,f,this.animationValues),Fg(`skew${Lg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UF;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=mf(l?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=mf(l?.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(P.transform=m?m({},""):"none",this.hasProjected=!1),P}const _=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=jF(this.projectionDeltaWithTransform,this.treeScale,_),m&&(f.transform=m(_,f.transform));const{x:T,y:b}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${b.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(u=_.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:f.opacity=y===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const P in Bf){if(_[P]===void 0)continue;const{correct:S,applyTo:A}=Bf[P],L=f.transform==="none"?_[P]:S(_[P],y);if(A){const z=A.length;for(let H=0;H<z;H++)f[A[H]]=L}else f[P]=L}return this.options.layoutId&&(f.pointerEvents=y===this?mf(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(sx),this.root.sharedNodes.clear()}}}function BF(t){t.updateLayout()}function $F(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?ci(y=>{const _=l?n.measuredBox[y]:n.layoutBox[y],T=Qn(_);_.min=i[y].min,_.max=_.min+T}):ek(o,n.layoutBox,i)&&ci(y=>{const _=l?n.measuredBox[y]:n.layoutBox[y],T=Qn(i[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=bl();kc(u,i,n.layoutBox);const h=bl();l?kc(h,t.applyTransform(r,!0),n.measuredBox):kc(h,i,n.layoutBox);const f=!XP(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const b=Tt();Rc(b,n.layoutBox,_.layoutBox);const P=Tt();Rc(P,i,T.layoutBox),YP(b,P)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=b,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function HF(t){vc&&Ho.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qF(t){t.clearSnapshot()}function sx(t){t.clearMeasurements()}function GF(t){t.isLayoutDirty=!1}function KF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ox(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function QF(t){t.resolveTargetDelta()}function XF(t){t.calcProjection()}function YF(t){t.resetSkewAndRotation()}function JF(t){t.removeLeadSnapshot()}function ax(t,e,n){t.translate=ct(e.translate,0,n),t.scale=ct(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lx(t,e,n,i){t.min=ct(e.min,n.min,i),t.max=ct(e.max,n.max,i)}function ZF(t,e,n,i){lx(t.x,e.x,n.x,i),lx(t.y,e.y,n.y,i)}function ej(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tj={duration:.45,ease:[.4,0,.1,1]},ux=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cx=ux("applewebkit/")&&!ux("chrome/")?Math.round:Gn;function hx(t){t.min=cx(t.min),t.max=cx(t.max)}function nj(t){hx(t.x),hx(t.y)}function ek(t,e,n){return t==="position"||t==="preserve-aspect"&&!sF(nx(e),nx(n),.2)}function ij(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const rj=ZP({attachResizeListener:(t,e)=>Gc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jg={current:void 0},tk=ZP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jg.current){const t=new rj({});t.mount(window),t.setOptions({layoutScroll:!0}),jg.current=t}return jg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sj={pan:{Feature:EF},drag:{Feature:wF,ProjectionNode:tk,MeasureLayout:GP}};function dx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&st.postRender(()=>o(e,mh(e)))}class oj extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=o5(e,n=>(dx(this.node,n,"Start"),i=>dx(this.node,i,"End"))))}unmount(){}}class aj extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ph(Gc(this.node.current,"focus",()=>this.onFocus()),Gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fx(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&st.postRender(()=>o(e,mh(e)))}class lj extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=c5(e,n=>(fx(this.node,n,"Start"),(i,{success:r})=>fx(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ky=new WeakMap,Ug=new WeakMap,uj=t=>{const e=Ky.get(t.target);e&&e(t)},cj=t=>{t.forEach(uj)};function hj({root:t,...e}){const n=t||document;Ug.has(n)||Ug.set(n,{});const i=Ug.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(cj,{root:t,...e})),i[r]}function dj(t,e,n){const i=hj(e);return Ky.set(t,n),i.observe(t),()=>{Ky.delete(t),i.unobserve(t)}}const fj={some:0,all:1};class pj extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:fj[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),_=f?m:y;_&&_(h)};return dj(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mj(e,n))&&this.startObserver()}unmount(){}}function mj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const nk={inView:{Feature:pj},tap:{Feature:lj},focus:{Feature:aj},hover:{Feature:oj}},gj={layout:{ProjectionNode:tk,MeasureLayout:GP}},Qy={current:null},ik={current:!1};function yj(){if(ik.current=!0,!!f_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qy.current=t.matches;t.addListener(e),e()}else Qy.current=!1}const vj=[...IP,un,Zs],_j=t=>vj.find(SP(t)),px=new WeakMap;function wj(t,e,n){for(const i in e){const r=e[i],o=n[i];if(fn(r))t.addValue(i,r);else if(fn(o))t.addValue(i,Wc(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(i);t.addValue(i,Wc(l!==void 0?l:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const mx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ej{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=B_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=pr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,st.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Cp(n),this.isVariantNode=MC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const b=_[T];h[T]!==void 0&&fn(b)&&b.set(h[T],!1)}}mount(e){this.current=e,px.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),ik.current||yj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){px.delete(this.current),this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=wa.has(e),r=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kl){const n=Kl[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<mx.length;i++){const r=mx[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=e[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=wj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Wc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(xP(r)||pP(r))?r=parseFloat(r):!_j(r)&&Zs.test(n)&&(r=wP(e,n)),this.setBaseTarget(e,fn(r)?r.get():r)),fn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const l=T_(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(r=l[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!fn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new V_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rk extends Ej{constructor(){super(...arguments),this.KeyframeResolver=CP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tj(t){return window.getComputedStyle(t)}class xj extends rk{constructor(){super(...arguments),this.type="html",this.renderInstance=BC}readValueFromInstance(e,n){if(wa.has(n)){const i=z_(n);return i&&i.default||0}else{const i=Tj(e),r=(jC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WP(e,n)}build(e,n,i){S_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return k_(e,n,i)}}class bj extends rk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wa.has(n)){const i=z_(n);return i&&i.default||0}return n=$C.has(n)?n:__(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return qC(e,n,i)}build(e,n,i){I_(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){HC(e,n,i,r)}mount(e){this.isSVGTag=P_(e.tagName),super.mount(e)}}const sk=(t,e)=>E_(t)?new bj(e):new xj(e,{allowProjection:t!==V.Fragment}),Sj=e5({...LP,...nk,...sj,...gj},sk),Ze=m6(Sj),Ij={renderer:sk,...LP,...nk},Cj={some:0,all:1};function Pj(t,e,{root:n,margin:i,amount:r="some"}={}){const o=eP(t),l=new WeakMap,u=f=>{f.forEach(m=>{const y=l.get(m.target);if(m.isIntersecting!==!!y)if(m.isIntersecting){const _=e(m);typeof _=="function"?l.set(m.target,_):h.unobserve(m.target)}else typeof y=="function"&&(y(m),l.delete(m.target))})},h=new IntersectionObserver(u,{root:n,rootMargin:i,threshold:typeof r=="number"?r:Cj[r]});return o.forEach(f=>h.observe(f)),()=>h.disconnect()}function ok(t,{root:e,margin:n,amount:i,once:r=!1}={}){const[o,l]=V.useState(!1);return V.useEffect(()=>{if(!t.current||r&&o)return;const u=()=>(l(!0),r?void 0:()=>l(!1)),h={root:e&&e.current||void 0,margin:n,amount:i};return Pj(t.current,u,h)},[e,t,n,r,i]),o}class ak extends et.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?R.jsx("div",{className:"bg-slate-100 text-slate-800 min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:R.jsxs("div",{className:"max-w-md mx-auto",children:[R.jsx("div",{className:"mb-8",children:R.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),R.jsx("h1",{className:"text-4xl font-bold mb-4 text-slate-700",children:"Oops, something went wrong!"}),R.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),R.jsxs("div",{className:"flex justify-center gap-4",children:[R.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:"Refresh Page"}),R.jsx("a",{href:"/",className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const kj=et.memo(()=>R.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[R.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-blue animate-spin-pulse-combo"}),R.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-purple animate-reverse-spin opacity-40"})]})),gx=et.memo(()=>{const t=({delay:e})=>R.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full animate-pulse-bounce",style:{animationDelay:e}});return R.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:R.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[R.jsx(t,{delay:"0s"}),R.jsx(t,{delay:"0.2s"}),R.jsx(t,{delay:"0.4s"})]})})}),Rj=({href:t,label:e,children:n,onClick:i})=>R.jsxs("a",{href:t,onClick:i,className:"group relative flex items-center justify-center p-2 rounded-full text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300","aria-label":e,children:[n,R.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-slate-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),Aj=et.memo(({isMobileMenuOpen:t,toggleMobileMenu:e,closeMobileMenu:n})=>{const i=r=>{r.preventDefault();const o=r.currentTarget.getAttribute("href"),l=document.querySelector(o);n(),l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)};return R.jsxs("header",{className:"bg-white/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-slate-200/80",children:[R.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[R.jsx(Rj,{href:"#home",label:"Home",onClick:i,children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),R.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-slate-600",children:[R.jsx("a",{href:"#about",onClick:i,className:"hover:text-blue-600 transition-colors",children:"About"}),R.jsx("a",{href:"#experience",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Experience"}),R.jsx("a",{href:"#skills",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Skills"}),R.jsx("a",{href:"#projects",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Projects"}),R.jsx("a",{href:"#contact",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Contact"})]}),R.jsx("div",{className:"md:hidden",children:R.jsx("button",{onClick:e,className:"text-slate-600 focus:outline-none p-1",children:R.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),R.jsx(p_,{children:t&&R.jsxs(Ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-lg px-6 py-4 space-y-3 text-slate-600 font-medium",children:[R.jsx("a",{href:"#about",onClick:i,className:"block py-2 hover:text-blue-600",children:"About"}),R.jsx("a",{href:"#experience",onClick:i,className:"block py-2 hover:text-blue-600",children:"Experience"}),R.jsx("a",{href:"#skills",onClick:i,className:"block py-2 hover:text-blue-600",children:"Skills"}),R.jsx("a",{href:"#projects",onClick:i,className:"block py-2 hover:text-blue-600",children:"Projects"}),R.jsx("a",{href:"#contact",onClick:i,className:"block py-2 hover:text-blue-600",children:"Contact"})]})})]})});function Rp(t,e,n,i){return new(n||(n=Promise))(function(r,o){function l(f){try{h(i.next(f))}catch(m){o(m)}}function u(f){try{h(i.throw(f))}catch(m){o(m)}}function h(f){var m;f.done?r(f.value):(m=f.value,m instanceof n?m:new n(function(y){y(m)})).then(l,u)}h((i=i.apply(t,[])).next())})}function $s(t,e){var n,i,r,o,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(h){return function(f){return function(m){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,i&&(r=2&m[0]?i.return:m[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,m[1])).done)return r;switch(i=0,r&&(m=[2&m[0],r.value]),m[0]){case 0:case 1:r=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,i=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||m[0]!==6&&m[0]!==2)){l=0;continue}if(m[0]===3&&(!r||m[1]>r[0]&&m[1]<r[3])){l.label=m[1];break}if(m[0]===6&&l.label<r[1]){l.label=r[1],r=m;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(m);break}r[2]&&l.ops.pop(),l.trys.pop();continue}m=e.call(t,l)}catch(y){m=[6,y],i=0}finally{n=r=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([h,f])}}}function Xy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oi(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),l=[];try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(u){r={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return l}function nr(t,e,n){if(arguments.length===2)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function yx(t,e,n,i,r){for(var o=[],l=5;l<arguments.length;l++)o[l-5]=arguments[l];return Rp(this,void 0,void 0,function(){var u,h,f,m,y,_;return $s(this,function(T){switch(T.label){case 0:T.trys.push([0,12,13,14]),u=Xy(o),h=u.next(),T.label=1;case 1:if(h.done)return[3,11];switch(f=h.value,typeof f){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,Dj(t,e,f,n,i,r)];case 3:return T.sent(),[3,10];case 4:return[4,lk(f)];case 5:return T.sent(),[3,10];case 6:return[4,f.apply(void 0,nr([t,e,n,i,r],Oi(o),!1))];case 7:return T.sent(),[3,10];case 8:return[4,f];case 9:T.sent(),T.label=10;case 10:return h=u.next(),[3,1];case 11:return[3,14];case 12:return m=T.sent(),y={error:m},[3,14];case 13:try{h&&!h.done&&(_=u.return)&&_.call(u)}finally{if(y)throw y.error}return[7];case 14:return[2]}})})}function Dj(t,e,n,i,r,o){return Rp(this,void 0,void 0,function(){var l,u;return $s(this,function(h){switch(h.label){case 0:return l=t.textContent||"",u=function(f,m){var y=Oi(m).slice(0);return nr(nr([],Oi(f),!1),[NaN],!1).findIndex(function(_,T){return y[T]!==_})}(l,n),[4,Mj(t,nr(nr([],Oi(Nj(l,e,u)),!1),Oi(Oj(n,e,u)),!1),i,r,o)];case 1:return h.sent(),[2]}})})}function lk(t){return Rp(this,void 0,void 0,function(){return $s(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function Mj(t,e,n,i,r){return Rp(this,void 0,void 0,function(){var o,l,u,h,f,m,y,_,T,b,P,S,A;return $s(this,function(L){switch(L.label){case 0:if(o=e,r){for(l=0,u=1;u<e.length;u++)if(h=Oi([e[u-1],e[u]],2),f=h[0],(m=h[1]).length>f.length||m===""){l=u;break}o=e.slice(l,e.length)}L.label=1;case 1:L.trys.push([1,6,7,8]),y=Xy(function(z){var H,Q,Z,D,C,k,N;return $s(this,function(j){switch(j.label){case 0:H=function($){return $s(this,function(O){switch(O.label){case 0:return[4,{op:function(ze){return requestAnimationFrame(function(){return ze.textContent=$})},opCode:function(ze){var _t=ze.textContent||"";return $===""||_t.length>$.length?"DELETE":"WRITING"}}];case 1:return O.sent(),[2]}})},j.label=1;case 1:j.trys.push([1,6,7,8]),Q=Xy(z),Z=Q.next(),j.label=2;case 2:return Z.done?[3,5]:(D=Z.value,[5,H(D)]);case 3:j.sent(),j.label=4;case 4:return Z=Q.next(),[3,2];case 5:return[3,8];case 6:return C=j.sent(),k={error:C},[3,8];case 7:try{Z&&!Z.done&&(N=Q.return)&&N.call(Q)}finally{if(k)throw k.error}return[7];case 8:return[2]}})}(o)),_=y.next(),L.label=2;case 2:return _.done?[3,5]:(T=_.value,b=T.opCode(t)==="WRITING"?n+n*(Math.random()-.5):i+i*(Math.random()-.5),T.op(t),[4,lk(b)]);case 3:L.sent(),L.label=4;case 4:return _=y.next(),[3,2];case 5:return[3,8];case 6:return P=L.sent(),S={error:P},[3,8];case 7:try{_&&!_.done&&(A=y.return)&&A.call(y)}finally{if(S)throw S.error}return[7];case 8:return[2]}})})}function Oj(t,e,n){var i,r;return n===void 0&&(n=0),$s(this,function(o){switch(o.label){case 0:i=e(t),r=i.length,o.label=1;case 1:return n<r?[4,i.slice(0,++n).join("")]:[3,3];case 2:return o.sent(),[3,1];case 3:return[2]}})}function Nj(t,e,n){var i,r;return n===void 0&&(n=0),$s(this,function(o){switch(o.label){case 0:i=e(t),r=i.length,o.label=1;case 1:return r>n?[4,i.slice(0,--r).join("")]:[3,3];case 2:return o.sent(),[3,1];case 3:return[2]}})}var Vj="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var Lj=V.memo(V.forwardRef(function(t,e){var n=t.sequence,i=t.repeat,r=t.className,o=t.speed,l=o===void 0?40:o,u=t.deletionSpeed,h=t.omitDeletionAnimation,f=h!==void 0&&h,m=t.preRenderFirstString,y=m!==void 0&&m,_=t.wrapper,T=_===void 0?"span":_,b=t.splitter,P=b===void 0?function(ne){return nr([],Oi(ne),!1)}:b,S=t.cursor,A=S===void 0||S,L=t.style,z=function(ne,B){var Y={};for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&B.indexOf(ue)<0&&(Y[ue]=ne[ue]);if(ne!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ce=0;for(ue=Object.getOwnPropertySymbols(ne);Ce<ue.length;Ce++)B.indexOf(ue[Ce])<0&&Object.prototype.propertyIsEnumerable.call(ne,ue[Ce])&&(Y[ue[Ce]]=ne[ue[Ce]])}return Y}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),H=z["aria-label"],Q=z["aria-hidden"],Z=z.role;u||(u=l);var D=new Array(2).fill(40);[l,u].forEach(function(ne,B){switch(typeof ne){case"number":D[B]=Math.abs(ne-100);break;case"object":var Y=ne.type,ue=ne.value;if(typeof ue!="number")break;Y==="keyStrokeDelayInMs"&&(D[B]=ue)}});var C,k,N,j,$,O,ze=D[0],_t=D[1],ft=function(ne,B){B===void 0&&(B=null);var Y=V.useRef(B);return V.useEffect(function(){ne&&(typeof ne=="function"?ne(Y.current):ne.current=Y.current)},[ne]),Y}(e),Se=Vj;C=r?"".concat(A?Se+" ":"").concat(r):A?Se:"",k=V.useRef(function(){var ne,B=n;i===1/0?ne=yx:typeof i=="number"&&(B=Array(1+i).fill(n).flat());var Y=ne?nr(nr([],Oi(B),!1),[ne],!1):nr([],Oi(B),!1);return yx.apply(void 0,nr([ft.current,P,ze,_t,f],Oi(Y),!1)),function(){ft.current}}),N=V.useRef(),j=V.useRef(!1),$=V.useRef(!1),O=Oi(V.useState(0),2)[1],j.current&&($.current=!0),V.useEffect(function(){return j.current||(N.current=k.current(),j.current=!0),O(function(ne){return ne+1}),function(){$.current&&N.current&&N.current()}},[]);var se=T,ge=y?n.find(function(ne){return typeof ne=="string"})||"":null;return et.createElement(se,{"aria-hidden":Q,"aria-label":H,role:Z,style:L,className:C,children:H?et.createElement("span",{"aria-hidden":"true",ref:ft,children:ge}):ge,ref:H?void 0:ft})}),function(t,e){return!0});const Ko="generated",Fj="pointerdown",jj="pointerup",Yy="pointerleave",Uj="pointerout",ua="pointermove",zj="touchstart",vx="touchend",Bj="touchmove",$j="touchcancel",Hj="resize",Wj="visibilitychange",mi="tsParticles - Error",Vs=100,Lt=.5,pn=1e3,hn={x:0,y:0,z:0},qd={a:1,b:0,c:0,d:1},Xl="random",vf="mid",mn=2,qj=Math.PI*mn,zg=60,uk="true",_x="false",Bg="canvas",wx=0,Ur=2,Ex=4,Gj=1,Tx=1,xx=1,Kj=4,ck=1,_f=255,Qo=360,Jy=100,Zy=100,bx=0,ev=0,Qj=60,Xj=0,Kf=.25,Sx=Lt+Kf,Ix=0,Yj=1,Jj=0,Zj=0,eU=1,q_=1,tU=1,Cx=1,Qf=0,hk=1,nU=0,iU=120,rU=0,sU=0,oU=1e4,aU=0,lU=1,Xf=0,dk=1,uU=1,cU=0,Px=1,hU=0,dU=0,kx=-Kf,Rx=1.5,Ax=0,fU=1,pU=0,tv=0,fk=1,mU=1,Yf=1,gU=500,Dx=50,yU=0,nv=1,pk=0,Mx=1,vU=0,Lo=255,$g=3,Hg=6,_U=1,wU=1,EU=0,TU=0,xU=0,bU=0;var Zt;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(Zt||(Zt={}));function mk(t){return typeof t=="boolean"}function eo(t){return typeof t=="string"}function to(t){return typeof t=="number"}function Cl(t){return typeof t=="object"&&t!==null}function wr(t){return Array.isArray(t)}function le(t){return t==null}class Hn{constructor(e,n,i){if(this._updateFromAngle=(r,o)=>{this.x=Math.cos(r)*o,this.y=Math.sin(r)*o},!to(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:hn.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??hn.z;else throw new Error(`${mi} Vector3d not initialized correctly`)}static get origin(){return Hn.create(hn.x,hn.y,hn.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Hn.create(e.x,e.y,e.z)}static create(e,n,i){return new Hn(e,n,i)}add(e){return Hn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Hn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Hn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Ur+this.y**Ur}mult(e){return Hn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Xf&&this.multTo(ck/e)}rotate(e){return Hn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),hn.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:hn.z}sub(e){return Hn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class qt extends Hn{constructor(e,n){super(e,n,hn.z)}static get origin(){return qt.create(hn.x,hn.y)}static clone(e){return qt.create(e.x,e.y)}static create(e,n){return new qt(e,n)}}let SU=Math.random;const gk={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function Ke(){return gi(SU(),0,1-Number.EPSILON)}function IU(t){return gk.nextFrame(t)}function CU(t){gk.cancel(t)}function gi(t,e,n){return Math.min(Math.max(t,e),n)}function Wg(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function qn(t){const e=rr(t),n=0;let i=Ap(t);return e===i&&(i=n),Ke()*(e-i)+i}function ve(t){return to(t)?t:qn(t)}function Ap(t){return to(t)?t:t.min}function rr(t){return to(t)?t:t.max}function $e(t,e){if(t===e||e===void 0&&to(t))return t;const n=Ap(t),i=rr(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:$e(n,i)}function In(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function Kn(t,e){return In(t,e).distance}function Hs(t){return t*Math.PI/180}function PU(t,e,n){if(to(t))return Hs(t);switch(t){case Zt.top:return-Math.PI*Lt;case Zt.topRight:return-Math.PI*Kf;case Zt.right:return Xj;case Zt.bottomRight:return Math.PI*Kf;case Zt.bottom:return Math.PI*Lt;case Zt.bottomLeft:return Math.PI*Sx;case Zt.left:return Math.PI;case Zt.topLeft:return-Math.PI*Sx;case Zt.inside:return Math.atan2(n.y-e.y,n.x-e.x);case Zt.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Ke()*qj}}function kU(t){const e=qt.origin;return e.length=1,e.angle=t,e}function Ox(t,e,n,i){return qt.create(t.x*(n-i)/(n+i)+e.x*mn*i/(n+i),t.y)}function RU(t){return{x:t.position?.x??Ke()*t.size.width,y:t.position?.y??Ke()*t.size.height}}function yk(t){return t?t.endsWith("%")?parseFloat(t)/Vs:parseFloat(t):1}var Xo;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Xo||(Xo={}));var Pt;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(Pt||(Pt={}));var ca;(function(t){t.none="none",t.max="max",t.min="min"})(ca||(ca={}));var Oe;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(Oe||(Oe={}));var Yl;(function(t){t.precise="precise",t.percent="percent"})(Yl||(Yl={}));var Nl;(function(t){t.max="max",t.min="min",t.random="random"})(Nl||(Nl={}));const AU={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ha(){return AU}function DU(t){const e=new Map;return(...n)=>{const i=JSON.stringify(n);if(e.has(i))return e.get(i);const r=t(...n);return e.set(i,r),r}}function Nx(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:o,velocity:l,factor:u}=t;return i.min<o.min||i.min>o.max||i.max<o.min||i.max>o.max||(n.max>=r.min&&n.max<=(r.max+r.min)*Lt&&l>Ix||n.min<=r.max&&n.min>(r.max+r.min)*Lt&&l<Ix)&&(e.velocity=l*-u,e.bounced=!0),e}function MU(t,e){const n=Xn(e,i=>t.matches(i));return wr(n)?n.some(i=>i):n}function da(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function OU(){return!da()&&typeof matchMedia<"u"}function vk(t){if(OU())return matchMedia(t)}function NU(t){if(!(da()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function VU(t){if(!(da()||typeof MutationObserver>"u"))return new MutationObserver(t)}function bt(t,e){return t===e||wr(e)&&e.indexOf(t)>-1}async function Vx(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function LU(t){return Math.floor(Ke()*t.length)}function Dp(t,e,n=!0){return t[e!==void 0&&n?e%t.length:LU(t)]}function G_(t,e,n,i,r){return FU(gh(t,i??0),e,n,r)}function FU(t,e,n,i){let r=!0;return(!i||i===Oe.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===Oe.left)&&(r=t.right>n.x),r&&(!i||i===Oe.right)&&(r=t.left<e.width+n.y),r&&(!i||i===Oe.top)&&(r=t.bottom>n.y),r}function gh(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function vn(t,...e){for(const n of e){if(n==null)continue;if(!Cl(n)){t=n;continue}const i=Array.isArray(n);i&&(Cl(t)||!t||!Array.isArray(t))?t=[]:!i&&(Cl(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const o=n,l=o[r],u=t;u[r]=Cl(l)&&Array.isArray(l)?l.map(h=>vn(u[r],h)):vn(u[r],l)}}return t}function K_(t,e){return!!Ek(e,n=>n.enable&&bt(t,n.mode))}function Q_(t,e,n){Xn(e,i=>{const r=i.mode;i.enable&&bt(t,r)&&jU(i,n)})}function jU(t,e){const n=t.selectors;Xn(n,i=>{e(i,t)})}function _k(t,e){if(!(!e||!t))return Ek(t,n=>MU(e,n.selectors))}function iv(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:qt.create(ve(t.options.bounce.horizontal.value),ve(t.options.bounce.vertical.value))}}function wk(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,o]=[t.position,e.position],{dx:l,dy:u}=In(o,r);if(n*l+i*u<0)return;const f=-Math.atan2(u,l),m=t.mass,y=e.mass,_=t.velocity.rotate(f),T=e.velocity.rotate(f),b=Ox(_,T,m,y),P=Ox(T,_,m,y),S=b.rotate(-f),A=P.rotate(-f);t.velocity.x=S.x*t.factor.x,t.velocity.y=S.y*t.factor.y,e.velocity.x=A.x*e.factor.x,e.velocity.y=A.y*e.factor.y}function UU(t,e){const n=t.getPosition(),i=t.getRadius(),r=gh(n,i),o=t.options.bounce,l=Nx({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ve(o.horizontal.value)});l.bounced&&(l.velocity!==void 0&&(t.velocity.x=l.velocity),l.position!==void 0&&(t.position.x=l.position));const u=Nx({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ve(o.vertical.value)});u.bounced&&(u.velocity!==void 0&&(t.velocity.y=u.velocity),u.position!==void 0&&(t.position.y=u.position))}function Xn(t,e){return wr(t)?t.map((i,r)=>e(i,r)):e(t,0)}function pi(t,e,n){return wr(t)?Dp(t,e,n):t}function Ek(t,e){return wr(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function Tk(t,e){const n=t.value,i=t.animation,r={delayTime:ve(i.delay)*pn,enable:i.enable,value:ve(t.value)*e,max:rr(n)*e,min:Ap(n)*e,loops:0,maxLoops:ve(i.count),time:0},o=1;if(i.enable){switch(r.decay=o-ve(i.decay),i.mode){case Xo.increase:r.status=Pt.increasing;break;case Xo.decrease:r.status=Pt.decreasing;break;case Xo.random:r.status=Ke()>=Lt?Pt.increasing:Pt.decreasing;break}const l=i.mode===Xo.auto;switch(i.startValue){case Nl.min:r.value=r.min,l&&(r.status=Pt.increasing);break;case Nl.max:r.value=r.max,l&&(r.status=Pt.decreasing);break;case Nl.random:default:r.value=qn(r),l&&(r.status=Ke()>=Lt?Pt.increasing:Pt.decreasing);break}}return r.initialValue=r.value,r}function zU(t,e){if(!(t.mode===Yl.percent)){const{mode:r,...o}=t;return o}return"x"in t?{x:t.x/Vs*e.width,y:t.y/Vs*e.height}:{width:t.width/Vs*e.width,height:t.height/Vs*e.height}}function xk(t,e){return zU(t,e)}function BU(t,e,n,i,r){switch(e){case ca.max:n>=r&&t.destroy();break;case ca.min:n<=i&&t.destroy();break}}function X_(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const m=(e.velocity??0)*r.factor,y=e.min,_=e.max,T=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case Pt.increasing:e.value>=_?(n?e.status=Pt.decreasing:e.value-=_,e.loops||(e.loops=0),e.loops++):e.value+=m;break;case Pt.decreasing:e.value<=y?(n?e.status=Pt.increasing:e.value+=_,e.loops||(e.loops=0),e.loops++):e.value-=m}e.velocity&&T!==1&&(e.velocity*=T),BU(t,i,e.value,y,_),t.destroyed||(e.value=gi(e.value,y,_))}}function $U(t){const e=document.createElement("div").style;if(!t)return e;for(const n in t){const i=t[n];if(!Object.prototype.hasOwnProperty.call(t,n)||le(i))continue;const r=t.getPropertyValue?.(i);if(!r)continue;const o=t.getPropertyPriority?.(i);o?e.setProperty?.(i,r,o):e.setProperty?.(i,r)}return e}function HU(t){const e=document.createElement("div").style,n=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const r in i){const o=i[r];e.setProperty(r,o)}return e}const WU=DU(HU);var rv;(function(t){t.darken="darken",t.enlighten="enlighten"})(rv||(rv={}));function qU(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function ji(t,e,n,i=!0){if(!e)return;const r=eo(e)?{value:e}:e;if(eo(r.value))return bk(t,r.value,n,i);if(wr(r.value))return ji(t,{value:Dp(r.value,n,i)});for(const o of t.colorManagers.values()){const l=o.handleRangeColor(r);if(l)return l}}function bk(t,e,n,i=!0){if(!e)return;const r=eo(e)?{value:e}:e;if(eo(r.value))return r.value===Xl?Ik():GU(t,r.value);if(wr(r.value))return bk(t,{value:Dp(r.value,n,i)});for(const o of t.colorManagers.values()){const l=o.handleColor(r);if(l)return l}}function Kc(t,e,n,i=!0){const r=ji(t,e,n,i);return r?Sk(r):void 0}function Sk(t){const e=t.r/_f,n=t.g/_f,i=t.b/_f,r=Math.max(e,n,i),o=Math.min(e,n,i),l={h:bx,l:(r+o)*Lt,s:ev};return r!==o&&(l.s=l.l<Lt?(r-o)/(r+o):(r-o)/(mn-r-o),l.h=e===r?(n-i)/(r-o):l.h=n===r?mn+(i-e)/(r-o):mn*mn+(e-n)/(r-o)),l.l*=Zy,l.s*=Jy,l.h*=Qj,l.h<bx&&(l.h+=Qo),l.h>=Qo&&(l.h-=Qo),l}function GU(t,e){return qU(t,e)}function Jl(t){const e=(t.h%Qo+Qo)%Qo,n=Math.max(ev,Math.min(Jy,t.s)),i=Math.max(vU,Math.min(Zy,t.l)),r=e/Qo,o=n/Jy,l=i/Zy;if(n===ev){const b=Math.round(l*Lo);return{r:b,g:b,b}}const u=(b,P,S)=>{if(S<0&&S++,S>1&&S--,S*Hg<1)return b+(P-b)*Hg*S;if(S*mn<1)return P;if(S*$g<1*mn){const z=mn/$g;return b+(P-b)*(z-S)*Hg}return b},h=l<Lt?l*(_U+o):l+o-l*o,f=mn*l-h,m=wU/$g,y=Math.min(Lo,Lo*u(f,h,r+m)),_=Math.min(Lo,Lo*u(f,h,r)),T=Math.min(Lo,Lo*u(f,h,r-m));return{r:Math.round(y),g:Math.round(_),b:Math.round(T)}}function KU(t){const e=Jl(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function Ik(t){const e=EU,n=_f+nv;return{b:Math.floor(qn($e(e,n))),g:Math.floor(qn($e(e,n))),r:Math.floor(qn($e(e,n)))}}function Kr(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??q_})`}function Qc(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??q_})`}function Y_(t,e,n,i){let r=t,o=e;return r.r===void 0&&(r=Jl(t)),o.r===void 0&&(o=Jl(e)),{b:Wg(r.b,o.b,n,i),g:Wg(r.g,o.g,n,i),r:Wg(r.r,o.r,n,i)}}function sv(t,e,n){if(n===Xl)return Ik();if(n===vf){const i=t.getFillColor()??t.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return Y_(i,r,t.getRadius(),e.getRadius());{const o=i??r;if(o)return Jl(o)}}else return n}function Ck(t,e,n,i){const r=eo(e)?e:e.value;return r===Xl?i?ji(t,{value:r}):n?Xl:vf:r===vf?vf:ji(t,{value:r})}function Lx(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function Pk(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(qg(i.h,e.h,n),qg(i.s,e.s,n),qg(i.l,e.l,n)),i}function qg(t,e,n){t.enable=e.enable,t.enable?(t.velocity=ve(e.speed)/Vs*n,t.decay=dk-ve(e.decay),t.status=Pt.increasing,t.loops=xU,t.maxLoops=ve(e.count),t.time=bU,t.delayTime=ve(e.delay)*pn,e.sync||(t.velocity*=Ke(),t.value*=Ke()),t.initialValue=t.value,t.offset=$e(e.offset)):t.velocity=TU}function Gg(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const m=t.offset?qn(t.offset):0,y=(t.velocity??0)*i.factor+m*3.6,_=t.decay??1,T=rr(e),b=Ap(e);!n||t.status===Pt.increasing?(t.value+=y,t.value>T&&(t.loops||(t.loops=0),t.loops++,n?t.status=Pt.decreasing:t.value-=T)):(t.value-=y,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=Pt.increasing)),t.velocity&&_!==1&&(t.velocity*=_),t.value=gi(t.value,b,T)}function kk(t,e){if(!t)return;const{h:n,s:i,l:r}=t,o={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&Gg(n,o.h,!1,e),i&&Gg(i,o.s,!0,e),r&&Gg(r,o.l,!0,e)}function Ac(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function QU(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(hn.x,hn.y,e.width,e.height)}function XU(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,hn.x,hn.y,e.width,e.height),t.globalAlpha=1)}function Kg(t,e){t.clearRect(hn.x,hn.y,e.width,e.height)}function YU(t){const{container:e,context:n,particle:i,delta:r,colorStyles:o,backgroundMask:l,composite:u,radius:h,opacity:f,shadow:m,transform:y}=t,_=i.getPosition(),T=i.rotation+(i.pathRotation?i.velocity.angle:yU),b={sin:Math.sin(T),cos:Math.cos(T)},P=!!T,S={a:b.cos*(y.a??qd.a),b:P?b.sin*(y.b??nv):y.b??qd.b,c:P?-b.sin*(y.c??nv):y.c??qd.c,d:b.cos*(y.d??qd.d)};n.setTransform(S.a,S.b,S.c,S.d,_.x,_.y),l&&(n.globalCompositeOperation=u);const A=i.shadowColor;m.enable&&A&&(n.shadowBlur=m.blur,n.shadowColor=Kr(A),n.shadowOffsetX=m.offset.x,n.shadowOffsetY=m.offset.y),o.fill&&(n.fillStyle=o.fill);const L=i.strokeWidth??pk;n.lineWidth=L,o.stroke&&(n.strokeStyle=o.stroke);const z={container:e,context:n,particle:i,radius:h,opacity:f,delta:r,transformData:S,strokeWidth:L};ZU(z),ez(z),JU(z),n.globalCompositeOperation="source-over",n.resetTransform()}function JU(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,transformData:u}=t;if(!i.effect)return;const h=e.effectDrawers.get(i.effect);h&&h.draw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function ZU(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,strokeWidth:u,transformData:h}=t;if(!i.shape)return;const f=e.shapeDrawers.get(i.shape);f&&(n.beginPath(),f.draw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...h}}),i.shapeClose&&n.closePath(),u>pk&&n.stroke(),i.shapeFill&&n.fill())}function ez(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,transformData:u}=t;if(!i.shape)return;const h=e.shapeDrawers.get(i.shape);h?.afterDraw&&h.afterDraw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function tz(t,e,n){e.draw&&e.draw(t,n)}function nz(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function iz(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===rv.darken?-Mx:Mx)*n}}function rz(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??Yj)*i)}function Fx(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(!r)return;const o=new Set;for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&o.add(r[l]);for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.add(e[l]);for(const l of o){const u=e.getPropertyValue(l);u?r.setProperty(l,u,n?"important":""):r.removeProperty(l)}}class sz{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=o=>{for(const l of this._postDrawUpdaters)l.afterDraw?.(o)},this._applyPreDrawUpdaters=(o,l,u,h,f,m)=>{for(const y of this._preDrawUpdaters){if(y.getColorStyles){const{fill:_,stroke:T}=y.getColorStyles(l,o,u,h);_&&(f.fill=_),T&&(f.stroke=T)}if(y.getTransformValues){const _=y.getTransformValues(l);for(const T in _)rz(m,_,T)}y.beforeDraw?.(l)}},this._applyResizePlugins=()=>{for(const o of this._resizePlugins)o.resize?.()},this._getPluginParticleColors=o=>{let l,u;for(const h of this._colorPlugins)if(!l&&h.particleFillColor&&(l=Kc(this._engine,h.particleFillColor(o))),!u&&h.particleStrokeColor&&(u=Kc(this._engine,h.particleStrokeColor(o))),l&&u)break;return[l,u]},this._initCover=async()=>{const o=this.container.actualOptions,l=o.backgroundMask.cover,u=l.color;if(u){const h=ji(this._engine,u);if(h){const f={...h,a:l.opacity};this._coverColorStyle=Kr(f,f.a)}}else await new Promise((h,f)=>{if(!l.image)return;const m=document.createElement("img");m.addEventListener("load",()=>{this._coverImage={image:m,opacity:l.opacity},h()}),m.addEventListener("error",y=>{f(y.error)}),m.src=l.image})},this._initStyle=()=>{const o=this.element,l=this.container.actualOptions;if(o){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const u in l.style){if(!u||!l.style||!Object.prototype.hasOwnProperty.call(l.style,u))continue;const h=l.style[u];h&&o.style.setProperty(u,h,"important")}}},this._initTrail=async()=>{const o=this.container.actualOptions,l=o.particles.move.trail,u=l.fill;if(!l.enable)return;const h=ck/l.length;if(u.color){const f=ji(this._engine,u.color);if(!f)return;this._trailFill={color:{...f},opacity:h}}else await new Promise((f,m)=>{if(!u.image)return;const y=document.createElement("img");y.addEventListener("load",()=>{this._trailFill={image:y,opacity:h},f()}),y.addEventListener("error",_=>{m(_.error)}),y.src=u.image})},this._paintBase=o=>{this.draw(l=>QU(l,this.size,o))},this._paintImage=(o,l)=>{this.draw(u=>XU(u,this.size,o,l))},this._repairStyle=()=>{const o=this.element;if(!o)return;this._safeMutationObserver(u=>u.disconnect()),this._initStyle(),this.initBackground();const l=this._pointerEvents;o.style.pointerEvents=l,o.setAttribute("pointer-events",l),this._safeMutationObserver(u=>{!o||!(o instanceof Node)||u.observe(o,{attributes:!0})})},this._resetOriginalStyle=()=>{const o=this.element,l=this._originalStyle;!o||!l||Fx(o,l,!0)},this._safeMutationObserver=o=>{this._mutationObserver&&o(this._mutationObserver)},this._setFullScreenStyle=()=>{const o=this.element;o&&Fx(o,WU(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>Zj&&i?i.color?this._paintBase(Kr(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{Kg(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=Jj)return;const r=e.getFillColor(),o=e.getStrokeColor()??r;let[l,u]=this._getPluginParticleColors(e);l||(l=r),u||(u=o),!(!l&&!u)&&this.draw(h=>{const f=this.container,m=f.actualOptions,y=e.options.zIndex,_=eU-e.zIndexFactor,T=_**y.opacityRate,b=e.bubble.opacity??e.opacity?.value??q_,P=e.strokeOpacity??b,S=b*T,A=P*T,L={},z={fill:l?Qc(l,S):void 0};z.stroke=u?Qc(u,A):z.fill,this._applyPreDrawUpdaters(h,e,i,S,z,L),YU({container:f,context:h,particle:e,delta:n,colorStyles:z,backgroundMask:m.backgroundMask.enable,composite:m.backgroundMask.composite,radius:i*_**y.sizeRate,opacity:S,shadow:e.options.shadow,transform:L}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>nz(r,e,n,i))}drawPlugin(e,n){this.draw(i=>tz(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=VU(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){ha().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const o=ji(this._engine,n.color);r.backgroundColor=o?Kr(o,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ko in e.dataset?e.dataset[Ko]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=$U(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=n.height*i,e.width=r.width=n.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(o=>o.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(o=>{!this.element||!(this.element instanceof Node)||o.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Kg(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,o={width:i.width*r,height:i.height*r};if(i.height===n.height&&i.width===n.width&&o.height===this.element.height&&o.width===this.element.width)return!1;const l={...n};n.height=i.height,n.width=i.width;const u=this.size;return this.element.width=u.width=o.width,this.element.height=u.height=o.height,this.container.started&&e.particles.setResizeFactor({width:n.width/l.width,height:n.height/l.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Kg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Vl;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Vl||(Vl={}));function ui(t,e,n,i,r){if(i){let o={passive:!0};mk(r)?o.capture=r:r!==void 0&&(o=r),t.addEventListener(e,n,o)}else{const o=r;t.removeEventListener(e,n,o)}}class oz{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const o=i.interactivity.mouse,l=o.position;if(!l)return;o.clickPosition={...l},o.clickTime=new Date().getTime();const u=r.interactivity.events.onClick;Xn(u.mode,h=>this.container.handleClickMode(h))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),gU)},this._handleThemeChange=n=>{const i=n,r=this.container,o=r.options,l=o.defaultThemes,u=i.matches?l.dark:l.light;o.themes.find(f=>f.name===u)?.default.auto&&r.loadTheme(u)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*pn)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,o=this.container,l=o.actualOptions,u=o.interactivity.element;if(!u)return;const h=u,f=o.canvas;f.setPointerEvents(h===f.element?"initial":"none"),(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(ui(u,ua,r.mouseMove,i),ui(u,zj,r.touchStart,i),ui(u,Bj,r.touchMove,i),l.interactivity.events.onClick.enable?(ui(u,vx,r.touchEndClick,i),ui(u,jj,r.mouseUp,i),ui(u,Fj,r.mouseDown,i)):ui(u,vx,r.touchEnd,i),ui(u,n,r.mouseLeave,i),ui(u,$j,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,o=r.actualOptions,l=o.interactivity.detectsOn,u=r.canvas.element;let h=Yy;l===Vl.window?(r.interactivity.element=window,h=Uj):l===Vl.parent&&u?r.interactivity.element=u.parentElement??u.parentNode:r.interactivity.element=u,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(h,n),document&&ui(document,Wj,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=vk("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){ui(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ui(window,Hj,i.resize,n);return}const l=r.canvas.element;this._resizeObserver&&!n?(l&&this._resizeObserver.unobserve(l),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&l&&(this._resizeObserver=new ResizeObserver(u=>{u.find(f=>f.target===l)&&this._handleWindowResize()}),this._resizeObserver.observe(l))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:o}=i.interactivity;o.inside=!0;let l=!1;const u=o.position;if(!(!u||!r.interactivity.events.onClick.enable)){for(const h of i.plugins.values())if(h.clickPositionValid&&(l=h.clickPositionValid(u),l))break;l||this._doMouseTouchClick(n),o.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=Yy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,o=i.interactivity,l=i.canvas.element;if(!o?.element)return;o.mouse.inside=!0;let u;if(n.type.startsWith("pointer")){this._canPush=!0;const f=n;if(o.element===window){if(l){const m=l.getBoundingClientRect();u={x:f.clientX-m.left,y:f.clientY-m.top}}}else if(r.interactivity.detectsOn===Vl.parent){const m=f.target,y=f.currentTarget;if(m&&y&&l){const _=m.getBoundingClientRect(),T=y.getBoundingClientRect(),b=l.getBoundingClientRect();u={x:f.offsetX+mn*_.left-(T.left+b.left),y:f.offsetY+mn*_.top-(T.top+b.top)}}else u={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY}}else f.target===l&&(u={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY})}else if(this._canPush=n.type!=="touchmove",l){const f=n,m=f.touches[f.touches.length-fk],y=l.getBoundingClientRect();u={x:m.clientX-(y.left??Qf),y:m.clientY-(y.top??Qf)}}const h=i.retina.pixelRatio;u&&(u.x*=h,u.y*=h),o.mouse.position=u,o.status=ua},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.set(o.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var Sn;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(Sn||(Sn={}));class _n{constructor(){this.value=""}static create(e,n){const i=new _n;return i.load(e),n!==void 0&&(eo(n)||wr(n)?i.load({value:n}):i.load(n)),i}load(e){le(e)||le(e.value)||(this.value=e.value)}}class az{constructor(){this.color=new _n,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){le(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class lz{constructor(){this.opacity=1}load(e){le(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class uz{constructor(){this.composite="destination-out",this.cover=new lz,this.enable=!1}load(e){if(!le(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=eo(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class cz{constructor(){this.enable=!0,this.zIndex=0}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class hz{constructor(){this.enable=!1,this.mode=[]}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Zl;(function(t){t.circle="circle",t.rectangle="rectangle"})(Zl||(Zl={}));class jx{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Zl.circle}load(e){le(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class dz{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class fz{constructor(){this.enable=!1,this.mode=[],this.parallax=new dz}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class pz{constructor(){this.delay=.5,this.enable=!0}load(e){le(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class mz{constructor(){this.onClick=new hz,this.onDiv=new jx,this.onHover=new fz,this.resize=new pz}load(e){if(le(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=Xn(n,i=>{const r=new jx;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class gz{constructor(e,n){this._engine=e,this._container=n}load(e){if(le(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class Rk{constructor(e,n){this.detectsOn=Vl.window,this.events=new mz,this.modes=new gz(e,n)}load(e){if(le(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class yz{load(e){le(e)||(e.position&&(this.position={x:e.position.x??Dx,y:e.position.y??Dx,mode:e.position.mode??Yl.percent}),e.options&&(this.options=vn({},e.options)))}}var Yo;(function(t){t.screen="screen",t.canvas="canvas"})(Yo||(Yo={}));class vz{constructor(){this.maxWidth=1/0,this.options={},this.mode=Yo.canvas}load(e){le(e)||(le(e.maxWidth)||(this.maxWidth=e.maxWidth),le(e.mode)||(e.mode===Yo.screen?this.mode=Yo.screen:this.mode=Yo.canvas),le(e.options)||(this.options=vn({},e.options)))}}var Os;(function(t){t.any="any",t.dark="dark",t.light="light"})(Os||(Os={}));class _z{constructor(){this.auto=!1,this.mode=Os.any,this.value=!1}load(e){le(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class wz{constructor(){this.name="",this.default=new _z}load(e){le(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=vn({},e.options)))}}class J_{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){le(e)||(e.count!==void 0&&(this.count=$e(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.delay!==void 0&&(this.delay=$e(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Z_ extends J_{constructor(){super(),this.mode=Xo.auto,this.startValue=Nl.random}load(e){super.load(e),!le(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Qg extends J_{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!le(e)&&e.offset!==void 0&&(this.offset=$e(e.offset))}}class Ez{constructor(){this.h=new Qg,this.s=new Qg,this.l=new Qg}load(e){le(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Xc extends _n{constructor(){super(),this.animation=new Ez}static create(e,n){const i=new Xc;return i.load(e),n!==void 0&&(eo(n)||wr(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),le(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Ll;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Ll||(Ll={}));class Tz{constructor(){this.speed=2}load(e){le(e)||e.speed!==void 0&&(this.speed=e.speed)}}class xz{constructor(){this.enable=!0,this.retries=0}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Ea{constructor(){this.value=0}load(e){le(e)||le(e.value)||(this.value=$e(e.value))}}class bz extends Ea{constructor(){super(),this.animation=new J_}load(e){if(super.load(e),le(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class Ak extends bz{constructor(){super(),this.animation=new Z_}load(e){super.load(e)}}class Ux extends Ea{constructor(){super(),this.value=1}}class Dk{constructor(){this.horizontal=new Ux,this.vertical=new Ux}load(e){le(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Sz{constructor(){this.absorb=new Tz,this.bounce=new Dk,this.enable=!1,this.maxSpeed=50,this.mode=Ll.bounce,this.overlap=new xz}load(e){le(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Iz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(le(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=vn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Cz{constructor(){this.offset=0,this.value=90}load(e){le(e)||(e.offset!==void 0&&(this.offset=$e(e.offset)),e.value!==void 0&&(this.value=$e(e.value)))}}class Pz{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!le(e)&&(e.distance!==void 0&&(this.distance=$e(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class kz{constructor(){this.x=50,this.y=50,this.mode=Yl.percent,this.radius=0}load(e){le(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class Rz{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){le(e)||(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)))}}class Az{constructor(){this.clamp=!0,this.delay=new Ea,this.enable=!1,this.options={}}load(e){le(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=vn(this.options,e.options)))}}class Dz{load(e){le(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Mz{constructor(){this.enable=!1,this.length=10,this.fill=new Dz}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Rt;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Rt||(Rt={}));class Oz{constructor(){this.default=Rt.out}load(e){le(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Nz{constructor(){this.acceleration=0,this.enable=!1}load(e){le(e)||(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=vn({},e.position)))}}class Vz{constructor(){this.angle=new Cz,this.attract=new Pz,this.center=new kz,this.decay=0,this.distance={},this.direction=Zt.none,this.drift=0,this.enable=!1,this.gravity=new Rz,this.path=new Az,this.outModes=new Oz,this.random=!1,this.size=!1,this.speed=2,this.spin=new Nz,this.straight=!1,this.trail=new Mz,this.vibrate=!1,this.warp=!1}load(e){if(le(e))return;this.angle.load(to(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=$e(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=to(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=$e(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(Cl(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=$e(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Lz extends Z_{constructor(){super(),this.destroy=ca.none,this.speed=2}load(e){super.load(e),!le(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Fz extends Ak{constructor(){super(),this.animation=new Lz,this.value=1}load(e){if(le(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class jz{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(le(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var Yc;(function(t){t.delete="delete",t.wait="wait"})(Yc||(Yc={}));class Uz{constructor(){this.mode=Yc.delete,this.value=0}load(e){le(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class zz{constructor(){this.density=new jz,this.limit=new Uz,this.value=0}load(e){le(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Bz{constructor(){this.blur=0,this.color=new _n,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){le(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=_n.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class $z{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(le(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=vn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Hz extends Z_{constructor(){super(),this.destroy=ca.none,this.speed=5}load(e){super.load(e),!le(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Wz extends Ak{constructor(){super(),this.animation=new Hz,this.value=3}load(e){if(super.load(e),le(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class zx{constructor(){this.width=0}load(e){le(e)||(e.color!==void 0&&(this.color=Xc.create(this.color,e.color)),e.width!==void 0&&(this.width=$e(e.width)),e.opacity!==void 0&&(this.opacity=$e(e.opacity)))}}class qz extends Ea{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!le(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Gz{constructor(e,n){this._engine=e,this._container=n,this.bounce=new Dk,this.collisions=new Sz,this.color=new Xc,this.color.value="#fff",this.effect=new Iz,this.groups={},this.move=new Vz,this.number=new zz,this.opacity=new Fz,this.reduceDuplicates=!1,this.shadow=new Bz,this.shape=new $z,this.size=new Wz,this.stroke=new zx,this.zIndex=new qz}load(e){if(le(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=vn(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Xc.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=vn({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=Xn(n,i=>{const r=new zx;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const o of i)o.loadOptions&&o.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const o of r)o.loadParticlesOptions&&o.loadParticlesOptions(this,e)}}}function Mk(t,...e){for(const n of e)t.load(n)}function Ok(t,e,...n){const i=new Gz(t,e);return Mk(i,...n),i}class Kz{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Os.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new az,this.backgroundMask=new uz,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new cz,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Rk(e,n),this.manualParticles=[],this.particles=Ok(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(le(e))return;e.preset!==void 0&&Xn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=$e(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=$e(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;mk(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new yz;return u.load(l),u})),this.particles.load(e.particles),this.style=vn(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const o=this._engine.interactors.get(this._container);if(o)for(const l of o)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new vz;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(h=>h.name===l.name);if(u)u.load(l);else{const h=new wz;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=this._findDefaultTheme(Os.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Os.light)?.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(o=>o.mode===Yo.screen&&screen?o.maxWidth>screen.availWidth:o.maxWidth*n>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=vk("(prefers-color-scheme: dark)"),i=n?.matches,r=this._findDefaultTheme(i?Os.dark:Os.light);r&&this.load(r.options)}}}var eu;(function(t){t.external="external",t.particles="particles"})(eu||(eu={}));class Qz{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case eu.external:this._externalInteractors.push(e);break;case eu.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var Ui;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Ui||(Ui={}));function Xz(t,e,n,i){const r=e.options[t];if(r)return vn({close:e.close,fill:e.fill},pi(r,n,i))}function Yz(t,e,n,i){const r=e.options[t];if(r)return vn({close:e.close,fill:e.fill},pi(r,n,i))}function Bx(t){if(!bt(t.outMode,t.checkModes))return;const e=t.radius*mn;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class Jz{constructor(e,n){this.container=n,this._calcPosition=(i,r,o,l=wx)=>{for(const b of i.plugins.values()){const P=b.particlePosition!==void 0?b.particlePosition(r,this):void 0;if(P)return Hn.create(P.x,P.y,o)}const u=i.canvas.size,h=RU({size:u,position:r}),f=Hn.create(h.x,h.y,o),m=this.getRadius(),y=this.options.move.outModes,_=b=>{Bx({outMode:b,checkModes:[Rt.bounce],coord:f.x,maxCoord:i.canvas.size.width,setCb:P=>f.x+=P,radius:m})},T=b=>{Bx({outMode:b,checkModes:[Rt.bounce],coord:f.y,maxCoord:i.canvas.size.height,setCb:P=>f.y+=P,radius:m})};return _(y.left??y.default),_(y.right??y.default),T(y.top??y.default),T(y.bottom??y.default),this._checkOverlap(f,l)?this._calcPosition(i,void 0,o,l+uU):f},this._calculateVelocity=()=>{const i=kU(this.direction),r=i.copy(),o=this.options.move;if(o.direction===Zt.inside||o.direction===Zt.outside)return r;const l=Hs(ve(o.angle.value)),u=Hs(ve(o.angle.offset)),h={left:u-l*Lt,right:u+l*Lt};return o.straight||(r.angle+=qn($e(h.left,h.right))),o.random&&typeof o.speed=="number"&&(r.length*=Ke()),r},this._checkOverlap=(i,r=wx)=>{const o=this.options.collisions,l=this.getRadius();if(!o.enable)return!1;const u=o.overlap;if(u.enable)return!1;const h=u.retries;if(h>=cU&&r>h)throw new Error(`${mi} particle is overlapping and can't be placed`);return!!this.container.particles.find(f=>Kn(i,f.position)<l+f.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?mn*Px:Px,o=this.roll.horizontal?Math.PI*Lt:Xf;return Math.floor(((this.roll.angle??Xf)+o)/(Math.PI/r))%mn?this.backColor?this.backColor:this.roll.alter?iz(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,o=ve(this.options.zIndex.value);this.position=this._calcPosition(r,i,gi(o,hU,r.zLayers)),this.initialPosition=this.position.copy();const l=r.canvas.size;switch(this.moveCenter={...xk(this.options.move.center,l),radius:this.options.move.center.radius??dU,mode:this.options.move.center.mode??Yl.percent},this.direction=PU(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Zt.inside:this.outType=Ui.inside;break;case Zt.outside:this.outType=Ui.outside;break}this.offset=qt.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;n.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const o of n.plugins.values())o.particleDestroyed?.(this,e);for(const o of n.particles.updaters)o.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(Sn.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const r of n.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Lx(this.color))}getMass(){return this.getRadius()**Ur*Math.PI*Lt}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Lx(this.strokeColor))}init(e,n,i,r){const o=this.container,l=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Ui.normal,this.ignoresResizeRatio=!0;const u=o.retina.pixelRatio,h=o.actualOptions,f=Ok(this._engine,o,h.particles),{reduceDuplicates:m}=f,y=f.effect.type,_=f.shape.type;this.effect=pi(y,this.id,m),this.shape=pi(_,this.id,m);const T=f.effect,b=f.shape;if(i){if(i.effect?.type){const D=i.effect.type,C=pi(D,this.id,m);C&&(this.effect=C,T.load(i.effect))}if(i.shape?.type){const D=i.shape.type,C=pi(D,this.id,m);C&&(this.shape=C,b.load(i.shape))}}if(this.effect===Xl){const D=[...this.container.effectDrawers.keys()];this.effect=D[Math.floor(Ke()*D.length)]}if(this.shape===Xl){const D=[...this.container.shapeDrawers.keys()];this.shape=D[Math.floor(Ke()*D.length)]}this.effectData=Xz(this.effect,T,this.id,m),this.shapeData=Yz(this.shape,b,this.id,m),f.load(i);const P=this.effectData;P&&f.load(P.particles);const S=this.shapeData;S&&f.load(S.particles);const A=new Rk(l,o);A.load(o.actualOptions.interactivity),A.load(f.interactivity),this.interactivity=A,this.effectFill=P?.fill??f.effect.fill,this.effectClose=P?.close??f.effect.close,this.shapeFill=S?.fill??f.shape.fill,this.shapeClose=S?.close??f.shape.close,this.options=f;const L=this.options.move.path;this.pathDelay=ve(L.delay.value)*pn,L.generator&&(this.pathGenerator=this._engine.getPathGenerator(L.generator),this.pathGenerator&&o.addPath(L.generator,this.pathGenerator)&&this.pathGenerator.init(o)),o.retina.initParticle(this),this.size=Tk(this.options.size,u),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=dk-ve(this.options.move.decay);const z=o.particles;z.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/o.zLayers,this.sides=24;let H=o.effectDrawers.get(this.effect);H||(H=this._engine.getEffectDrawer(this.effect),H&&o.effectDrawers.set(this.effect,H)),H?.loadEffect&&H.loadEffect(this);let Q=o.shapeDrawers.get(this.shape);Q||(Q=this._engine.getShapeDrawer(this.shape),Q&&o.shapeDrawers.set(this.shape,Q)),Q?.loadShape&&Q.loadShape(this);const Z=Q?.getSidesCount;Z&&(this.sides=Z(this)),this.spawning=!1,this.shadowColor=ji(this._engine,this.options.shadow.color);for(const D of z.updaters)D.init(this);for(const D of z.movers)D.init?.(this);H?.particleInit?.(o,this),Q?.particleInit?.(o,this);for(const D of o.plugins.values())D.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class Zz{constructor(e,n){this.position=e,this.particle=n}}var Fl;(function(t){t.circle="circle",t.rectangle="rectangle"})(Fl||(Fl={}));class Nk{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class gn extends Nk{constructor(e,n,i){super(e,n,Fl.circle),this.radius=i}contains(e){return Kn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},o=this.radius;if(e instanceof gn||e.type===Fl.circle){const l=e,u=o+l.radius,h=Math.sqrt(r.x**Ur+r.y**Ur);return u>h}else if(e instanceof Bi||e.type===Fl.rectangle){const l=e,{width:u,height:h}=l.size;return Math.pow(r.x-u,Ur)+Math.pow(r.y-h,Ur)<=o**Ur||r.x<=o+u&&r.y<=o+h||r.x<=u||r.y<=h}return!1}}class Bi extends Nk{constructor(e,n,i,r){super(e,n,Fl.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof gn)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,o=e.position,l=e instanceof Bi?e.size:{width:0,height:0},u=l.width,h=l.height;return o.x<r.x+n&&o.x+u>r.x&&o.y<r.y+i&&o.y+h>r.y}}class Jf{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:o,height:l}=this.rectangle.size,{capacity:u}=this;for(let h=0;h<Kj;h++){const f=h%mn;this._subs.push(new Jf(new Bi(i+o*Lt*f,r+l*Lt*(Math.round(h*Lt)-f),o*Lt,l*Lt),u))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&Kn(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new gn(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Bi(e.x,e.y,n.width,n.height),i)}}const $x=t=>{const{height:e,width:n}=t;return new Bi(kx*n,kx*e,Rx*n,Rx*e)};class e8{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,o,l,u)=>{const h=r.number;if(!r.number.density?.enable){l===void 0?this._limit=h.limit.value:(u?.number.limit?.value??h.limit.value)&&this._groupLimits.set(l,u?.number.limit?.value??h.limit.value);return}const f=this._initDensityFactor(h.density),m=h.value,y=h.limit.value>Ax?h.limit.value:m,_=Math.min(m,y)*f+o,T=Math.min(this.count,this.filter(b=>b.group===l).length);l===void 0?this._limit=h.limit.value*f:this._groupLimits.set(l,h.limit.value*f),T<_?this.push(Math.abs(_-T),void 0,r,l):T>_&&this.removeQuantity(T-_,l)},this._initDensityFactor=r=>{const o=this._container;if(!o.canvas.element||!r.enable)return mU;const l=o.canvas.element,u=o.retina.pixelRatio;return l.width*l.height/(r.height*r.width*u**Ur)},this._pushParticle=(r,o,l,u)=>{try{let h=this._pool.pop();h||(h=new Jz(this._engine,this._container)),h.init(this._nextId,r,o,l);let f=!0;return u&&(f=u(h)),f?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent(Sn.particleAdded,{container:this._container,data:{particle:h}}),h):void 0}catch(h){ha().warning(`${mi} adding particle: ${h}`)}},this._removeParticle=(r,o,l)=>{const u=this._array[r];if(!u||u.group!==o)return!1;const h=this._zArray.indexOf(u);return this._array.splice(r,Yf),this._zArray.splice(h,Yf),u.destroy(l),this._engine.dispatchEvent(Sn.particleRemoved,{container:this._container,data:{particle:u}}),this._addToPool(u),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Qz(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new Jf($x(i),Ex),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?xk(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const o=this._container.actualOptions.particles.number.limit.mode,l=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,u=this.count;if(l>Ax)switch(o){case Yc.delete:{const h=u+fU-l;h>pU&&this.removeQuantity(h);break}case Yc.wait:if(u>=l)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const r of n.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=n.particles,o=r.groups;for(const l in o){const u=o[l];for(let h=this.count,f=0;f<u.number?.value&&h<r.number.value;h++,f++)this.addParticle(void 0,u,l)}for(let l=this.count;l<r.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,i,r){for(let o=0;o<e;o++)this.addParticle(n?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=Gj,i,r){if(e<tv||e>this.count)return;let o=0;for(let l=e;o<n&&l<this.count;l++)this._removeParticle(l,i,r)&&(l--,o++)}removeQuantity(e,n){this.removeAt(tv,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=e.manualParticles.length;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const n=this._container,i=new Set;this.quadTree=new Jf($x(n.canvas.size),Ex);for(const o of n.pathGenerators.values())o.update();for(const o of n.plugins.values())o.update?.(e);const r=this._resizeFactor;for(const o of this._array){r&&!o.ignoresResizeRatio&&(o.position.x*=r.width,o.position.y*=r.height,o.initialPosition.x*=r.width,o.initialPosition.y*=r.height),o.ignoresResizeRatio=!1,this._interactionManager.reset(o);for(const l of this._container.plugins.values()){if(o.destroyed)break;l.particleUpdate?.(o,e)}for(const l of this.movers)l.isEnabled(o)&&l.move(o,e);if(o.destroyed){i.add(o);continue}this.quadTree.insert(new Zz(o.getPosition(),o))}if(i.size){const o=l=>!i.has(l);this._array=this.filter(o),this._zArray=this._zArray.filter(o);for(const l of i)this._engine.dispatchEvent(Sn.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const o of this._array){for(const l of this.updaters)l.update(o,e);!o.destroyed&&!o.spawning&&this._interactionManager.particlesInteract(o,e)}if(delete this._resizeFactor,this._needsSort){const o=this._zArray;o.sort((l,u)=>u.position.z-l.position.z||l.id-u.id),this._lastZIndex=o[o.length-fk].position.z,this._needsSort=!1}}}class t8{constructor(e){this.container=e,this.pixelRatio=Tx,this.reduceFactor=xx}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||da()?Tx:devicePixelRatio,this.reduceFactor=xx;const i=this.pixelRatio,r=e.canvas;if(r.element){const u=r.element;r.size.width=u.offsetWidth*i,r.size.height=u.offsetHeight*i}const o=n.particles,l=o.move;this.maxSpeed=ve(l.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ve(o.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,o=r.distance,l=e.retina;l.moveDrift=ve(r.drift)*i,l.moveSpeed=ve(r.speed)*i,l.sizeAnimationSpeed=ve(n.size.animation.speed)*i;const u=l.maxDistance;u.horizontal=o.horizontal!==void 0?o.horizontal*i:void 0,u.vertical=o.vertical!==void 0?o.vertical*i:void 0,l.maxSpeed=ve(r.gravity.maxSpeed)*i}}function mt(t){return t&&!t.destroyed}function n8(t,e=zg,n=!1){return{value:t,factor:n?zg/e:zg*t/pn}}function pl(t,e,...n){const i=new Kz(t,e);return Mk(i,...n),i}class i8{constructor(e,n,i){this._intersectionManager=r=>{if(!(!mt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const o of r)o.target===this.interactivity.element&&(o.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+pn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const o=n8(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(o.value),this._lastFrameTime=r,o.value>pn){this.draw(!1);return}if(this.particles.draw(o),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(o){ha().error(`${mi} in animation loop`,o)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new t8(this),this.canvas=new sz(this,this._engine),this.particles=new e8(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=pl(this._engine,this),this.actualOptions=pl(this._engine,this),this._eventListeners=new oz(this),this._intersectionObserver=NU(r=>this._intersectionManager(r)),this._engine.dispatchEvent(Sn.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&mt(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!mt(this))return;const n=this.interactivity.element;if(!n)return;const i=(y,_,T)=>{if(!mt(this))return;const b=this.retina.pixelRatio,P={x:_.x*b,y:_.y*b},S=this.particles.quadTree.queryCircle(P,T*b);e(y,S)},r=y=>{if(!mt(this))return;const _=y,T={x:_.offsetX||_.clientX,y:_.offsetY||_.clientY};i(y,T,tU)},o=()=>{mt(this)&&(f=!0,m=!1)},l=()=>{mt(this)&&(m=!0)},u=y=>{if(mt(this)){if(f&&!m){const _=y;let T=_.touches[_.touches.length-Cx];if(!T&&(T=_.changedTouches[_.changedTouches.length-Cx],!T))return;const b=this.canvas.element,P=b?b.getBoundingClientRect():void 0,S={x:T.clientX-(P?P.left:Qf),y:T.clientY-(P?P.top:Qf)};i(y,S,Math.max(T.radiusX,T.radiusY))}f=!1,m=!1}},h=()=>{mt(this)&&(f=!1,m=!1)};let f=!1,m=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",o),this._clickHandlers.set("touchmove",l),this._clickHandlers.set("touchend",u),this._clickHandlers.set("touchcancel",h);for(const[y,_]of this._clickHandlers)n.addEventListener(y,_)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!mt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(mt(this)){for(const[e,n]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,n);this._clickHandlers.clear()}}destroy(e=!0){if(mt(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const n of this.effectDrawers.values())n.destroy?.(this);for(const n of this.shapeDrawers.values())n.destroy?.(this);for(const n of this.effectDrawers.keys())this.effectDrawers.delete(n);for(const n of this.shapeDrawers.keys())this.shapeDrawers.delete(n);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const n=this._engine.items,i=n.findIndex(r=>r===this);i>=nU&&n.splice(i,hk)}this._engine.dispatchEvent(Sn.containerDestroyed,{container:this})}}draw(e){if(!mt(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=IU(r=>i(r))}async export(e,n={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}ha().error(`${mi} - Export plugin with type ${e} not found`)}handleClickMode(e){if(mt(this)){this.particles.handleClickMode(e);for(const n of this.plugins.values())n.handleClickMode?.(e)}}async init(){if(!mt(this))return;const e=this._engine.getSupportedEffects();for(const f of e){const m=this._engine.getEffectDrawer(f);m&&this.effectDrawers.set(f,m)}const n=this._engine.getSupportedShapes();for(const f of n){const m=this._engine.getShapeDrawer(f);m&&this.shapeDrawers.set(f,m)}await this.particles.initPlugins(),this._options=pl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=pl(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[f,m]of i)this.plugins.set(f,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:o,delay:l,fpsLimit:u,smooth:h}=this.actualOptions;this.zLayers=r,this._duration=ve(o)*pn,this._delay=ve(l)*pn,this._lifeTime=0,this.fpsLimit=u>rU?u:iU,this._smooth=h;for(const f of this.effectDrawers.values())await f.init?.(this);for(const f of this.shapeDrawers.values())await f.init?.(this);for(const f of this.plugins.values())await f.init?.();this._engine.dispatchEvent(Sn.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const f of this.plugins.values())f.particlesSetup?.();this._engine.dispatchEvent(Sn.particlesSetup,{container:this})}async loadTheme(e){mt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(mt(this)&&(this._drawAnimationFrame!==void 0&&(CU(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(Sn.containerPaused,{container:this})}}play(e){if(!mt(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(Sn.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(mt(this))return this.stop(),this.start()}async reset(e){if(mt(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=pl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=pl(this._engine,this,this._options),this.refresh()}async start(){!mt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(Sn.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){if(!(!mt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(Sn.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class r8{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){this._listeners.get(e)?.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,o=i.indexOf(n);o<tv||(r===Yf?this._listeners.delete(e):i.splice(o,Yf))}}async function Xg(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(o=>o(t))),e.set(t,r)),r}async function s8(t){const e=pi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(ha().error(`${mi} ${n.status} while retrieving config file`),t.fallback)}const o8=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===Bg)e=t,e.dataset[Ko]||(e.dataset[Ko]=_x);else{const i=t.getElementsByTagName(Bg);i.length?(e=i[sU],e.dataset[Ko]=_x):(e=document.createElement(Bg),e.dataset[Ko]=uk,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},a8=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[Ko]=uk,document.body.append(n),n)};class l8{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new r8,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(Sn.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(i))}async addEffect(e,n,i=!0){Xn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return Xg(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return Xg(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return Xg(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,hk);return}return i}async load(e){const n=e.id??e.element?.id??`tsparticles${Math.floor(Ke()*oU)}`,{index:i,url:r}=e,o=r?await s8({fallback:e.options,url:r,index:i}):e.options,l=pi(o,i),{items:u}=this,h=u.findIndex(_=>_.id.description===n),f=new i8(this,n,l);if(h>=aU){const _=this.item(h),T=_?lU:Xf;_&&!_.destroyed&&_.destroy(!1),u.splice(h,T,f)}else u.push(f);const m=a8(n,e.element),y=o8(m);return f.canvas.loadCanvas(y),await f.start(),f}loadOptions(e,n){this.plugins.forEach(i=>i.loadOptions?.(e,n))}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(o=>o.loadOptions?.(n,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${mi} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}function u8(){const t=new l8;return t.init(),t}class Er{constructor(e){this.type=eu.external,this.container=e}}class e0{constructor(e){this.type=eu.particles,this.container=e}}var Ni;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Ni||(Ni={}));var Hx;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(Hx||(Hx={}));var ta;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(ta||(ta={}));const t0=u8();da()||(window.tsParticles=t0);const c8=t=>{const e=t.id??"tsparticles";return V.useEffect(()=>{let n;return t0.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n?.destroy()}},[e,t,t.url,t.options]),R.jsx("div",{id:e,className:t.className})};async function h8(t){await t(t0)}const ov=.5,d8=2,Ls=0,Fi=1,Wx=60,qx=0,f8=.01,p8=Math.PI*d8;function m8(t){const e=t.initialPosition,{dx:n,dy:i}=In(e,t.position),r=Math.abs(n),o=Math.abs(i),{maxDistance:l}=t.retina,u=l.horizontal,h=l.vertical;if(!u&&!h)return;const f=(u&&r>=u)??!1,m=(h&&o>=h)??!1;if((f||m)&&!t.misplaced)t.misplaced=!!u&&r>u||!!h&&o>h,u&&(t.velocity.x=t.velocity.y*ov-t.velocity.x),h&&(t.velocity.y=t.velocity.x*ov-t.velocity.y);else if((!u||r<u)&&(!h||o<h)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const y=t.position,_=t.velocity;u&&(y.x<e.x&&_.x<Ls||y.x>e.x&&_.x>Ls)&&(_.x*=-Ke()),h&&(y.y<e.y&&_.y<Ls||y.y>e.y&&_.y>Ls)&&(_.y*=-Ke())}}function g8(t,e,n,i,r,o,l){v8(t,l);const u=t.gravity,h=u?.enable&&u.inverse?-Fi:Fi;r&&n&&(t.velocity.x+=r*l.factor/(Wx*n)),u?.enable&&n&&(t.velocity.y+=h*(u.acceleration*l.factor)/(Wx*n));const f=t.moveDecay;t.velocity.multTo(f);const m=t.velocity.mult(n);u?.enable&&i>Ls&&(!u.inverse&&m.y>=Ls&&m.y>=i||u.inverse&&m.y<=Ls&&m.y<=-i)&&(m.y=h*i,n&&(t.velocity.y=m.y/n));const y=t.options.zIndex,_=(Fi-t.zIndexFactor)**y.velocityRate;m.multTo(_),m.multTo(o);const{position:T}=t;T.addTo(m),e.vibrate&&(T.x+=Math.sin(T.x*Math.cos(T.y))*o,T.y+=Math.cos(T.y*Math.sin(T.x))*o)}function y8(t,e,n){const i=t.container;if(!t.spin)return;const r=t.spin.direction===Ni.clockwise,o={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*o.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*o.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const l=Math.max(i.canvas.size.width,i.canvas.size.height),u=l*ov;t.spin.radius>u?(t.spin.radius=u,t.spin.acceleration*=-Fi):t.spin.radius<qx&&(t.spin.radius=qx,t.spin.acceleration*=-Fi),t.spin.angle+=e*f8*(Fi-t.spin.radius/l)}function v8(t,e){const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const o=t.pathGenerator?.generate(t,e);o&&t.velocity.addTo(o),i.clamp&&(t.velocity.x=gi(t.velocity.x,-Fi,Fi),t.velocity.y=gi(t.velocity.y,-Fi,Fi)),t.lastPathTime-=t.pathDelay}function _8(t){return t.slow.inRange?t.slow.factor:Fi}function w8(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},o=.01,l={x:r.x*o*e.canvas.size.width,y:r.y*o*e.canvas.size.height},u=t.getPosition(),h=Kn(u,l),f=ve(i.acceleration);t.retina.spinAcceleration=f*e.retina.pixelRatio,t.spin={center:l,direction:t.velocity.x>=Ls?Ni.clockwise:Ni.counterClockwise,angle:Ke()*p8,radius:h,acceleration:t.retina.spinAcceleration}}const E8=2,T8=1,x8=1;class b8{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:ve(i.acceleration),inverse:i.inverse},w8(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){const i=e.options,r=i.move;if(!r.enable)return;const o=e.container,l=o.retina.pixelRatio;e.retina.moveSpeed??=ve(r.speed)*l,e.retina.moveDrift??=ve(e.options.move.drift)*l;const u=_8(e),h=o.retina.reduceFactor,f=e.retina.moveSpeed,m=e.retina.moveDrift,y=rr(i.size.value)*l,_=r.size?e.getRadius()/y:T8,T=n.factor||x8,b=f*_*u*T/E8,P=e.retina.maxSpeed??o.retina.maxSpeed;r.spin.enable?y8(e,b,h):g8(e,r,b,P,m,h,n),m8(e)}}async function S8(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new b8),e)}const I8=2,C8=Math.PI*I8,P8=0,Gx={x:0,y:0};function k8(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:P8,max:C8});const r=n.circleRange;e.arc(Gx.x,Gx.y,i,r.min,r.max,!1)}const R8=12,A8=360,Kx=0;class D8{constructor(){this.validTypes=["circle"]}draw(e){k8(e)}getSidesCount(){return R8}particleInit(e,n){const i=n.shapeData,r=i?.angle??{max:A8,min:Kx};n.circleRange=Cl(r)?{min:Hs(r.min),max:Hs(r.max)}:{min:Kx,max:Hs(r)}}}async function M8(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new D8,e)}class O8{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Kc(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=Pk(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:o}=e;return!e.destroyed&&!e.spawning&&(o?.h.value!==void 0&&n.enable||o?.s.value!==void 0&&i.enable||o?.l.value!==void 0&&r.enable)}update(e,n){kk(e.color,n)}}async function N8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new O8(n,t)),e)}var Wo;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Wo||(Wo={}));const V8=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,L8=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,Gd=16,F8=1,j8=255;class U8{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const n=e.replace(V8,(r,o,l,u,h)=>o+o+l+l+u+u+(h!==void 0?h+h:"")),i=L8.exec(n);return i?{a:i[Wo.a]!==void 0?parseInt(i[Wo.a],Gd)/j8:F8,b:parseInt(i[Wo.b],Gd),g:parseInt(i[Wo.g],Gd),r:parseInt(i[Wo.r],Gd)}:void 0}}async function z8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new U8,e)}var Pl;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Pl||(Pl={}));class B8{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Jl(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Jl({h:ve(i.h),l:ve(i.l),s:ve(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=4,o=1,l=10;return i?KU({a:i.length>r?yk(i[Pl.a]):o,h:parseInt(i[Pl.h],l),l:parseInt(i[Pl.l],l),s:parseInt(i[Pl.s],l)}):void 0}}async function $8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new B8,e)}class H8{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=Tk(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=ve(r.speed)/Vs*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||X_(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function W8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new H8(n)),e)}const Zf=0,jl=0;function q8(t){if(t.outMode!==Rt.bounce&&t.outMode!==Rt.split||t.direction!==Oe.left&&t.direction!==Oe.right)return;t.bounds.right<jl&&t.direction===Oe.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===Oe.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===Oe.right&&t.bounds.right>=t.canvasSize.width&&e>Zf||t.direction===Oe.left&&t.bounds.left<=jl&&e<Zf){const r=ve(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===Oe.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=jl&&t.direction===Oe.left&&(t.particle.position.x=i),t.outMode===Rt.split&&t.particle.destroy()}function G8(t){if(t.outMode!==Rt.bounce&&t.outMode!==Rt.split||t.direction!==Oe.bottom&&t.direction!==Oe.top)return;t.bounds.bottom<jl&&t.direction===Oe.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===Oe.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===Oe.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>Zf||t.direction===Oe.top&&t.bounds.top<=jl&&e<Zf){const r=ve(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===Oe.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=jl&&t.direction===Oe.top&&(t.particle.position.y=i),t.outMode===Rt.split&&t.particle.destroy()}class K8{constructor(e){this.container=e,this.modes=[Rt.bounce,Rt.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;let l=!1;for(const _ of o.plugins.values())if(_.particleBounce!==void 0&&(l=_.particleBounce(e,i,n)),l)break;if(l)return;const u=e.getPosition(),h=e.offset,f=e.getRadius(),m=gh(u,f),y=o.canvas.size;q8({particle:e,outMode:r,direction:n,bounds:m,canvasSize:y,offset:h,size:f}),G8({particle:e,outMode:r,direction:n,bounds:m,canvasSize:y,offset:h,size:f})}}const Kd=0;class Q8{constructor(e){this.container=e,this.modes=[Rt.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case Ui.normal:case Ui.outside:if(G_(e.position,o.canvas.size,qt.origin,e.getRadius(),n))return;break;case Ui.inside:{const{dx:l,dy:u}=In(e.position,e.moveCenter),{x:h,y:f}=e.velocity;if(h<Kd&&l>e.moveCenter.radius||f<Kd&&u>e.moveCenter.radius||h>=Kd&&l<-e.moveCenter.radius||f>=Kd&&u<-e.moveCenter.radius)return;break}}o.particles.remove(e,e.group,!0)}}const Qd=0;class X8{constructor(e){this.container=e,this.modes=[Rt.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===Oe.left||n===Oe.right))??(e.options.move.distance.vertical&&(n===Oe.top||n===Oe.bottom))))return;const o=e.options.move.gravity,l=this.container,u=l.canvas.size,h=e.getRadius();if(o.enable){const f=e.position;(!o.inverse&&f.y>u.height+h&&n===Oe.bottom||o.inverse&&f.y<-h&&n===Oe.top)&&l.particles.remove(e)}else{if(e.velocity.y>Qd&&e.position.y<=u.height+h||e.velocity.y<Qd&&e.position.y>=-h||e.velocity.x>Qd&&e.position.x<=u.width+h||e.velocity.x<Qd&&e.position.x>=-h)return;G_(e.position,l.canvas.size,qt.origin,h,n)||l.particles.remove(e)}}}const Xd=0,Yd=0;class Y8{constructor(e){this.container=e,this.modes=[Rt.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case Ui.inside:{const{x:l,y:u}=e.velocity,h=qt.origin;h.length=e.moveCenter.radius,h.angle=e.velocity.angle+Math.PI,h.addTo(qt.create(e.moveCenter));const{dx:f,dy:m}=In(e.position,h);if(l<=Xd&&f>=Yd||u<=Xd&&m>=Yd||l>=Xd&&f<=Yd||u>=Xd&&m<=Yd)return;e.position.x=Math.floor(qn({min:0,max:o.canvas.size.width})),e.position.y=Math.floor(qn({min:0,max:o.canvas.size.height}));const{dx:y,dy:_}=In(e.position,e.moveCenter);e.direction=Math.atan2(-_,-y),e.velocity.angle=e.direction;break}default:{if(G_(e.position,o.canvas.size,qt.origin,e.getRadius(),n))return;switch(e.outType){case Ui.outside:{e.position.x=Math.floor(qn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(qn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:l,dy:u}=In(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(u,l),e.velocity.angle=e.direction);break}case Ui.normal:{const l=e.options.move.warp,u=o.canvas.size,h={bottom:u.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:u.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},f=e.getRadius(),m=gh(e.position,f);n===Oe.right&&m.left>u.width+e.offset.x?(e.position.x=h.left,e.initialPosition.x=e.position.x,l||(e.position.y=Ke()*u.height,e.initialPosition.y=e.position.y)):n===Oe.left&&m.right<-e.offset.x&&(e.position.x=h.right,e.initialPosition.x=e.position.x,l||(e.position.y=Ke()*u.height,e.initialPosition.y=e.position.y)),n===Oe.bottom&&m.top>u.height+e.offset.y?(l||(e.position.x=Ke()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.top,e.initialPosition.y=e.position.y):n===Oe.top&&m.bottom<-e.offset.y&&(l||(e.position.x=Ke()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const J8=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class Z8{constructor(e){this._addUpdaterIfMissing=(n,i,r)=>{const o=n.options.move.outModes;!this.updaters.has(i)&&J8(o,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(n,i,r,o)=>{for(const l of this.updaters.values())l.update(n,o,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Rt.bounce,n=>new K8(n)),this._addUpdaterIfMissing(e,Rt.out,n=>new Y8(n)),this._addUpdaterIfMissing(e,Rt.destroy,n=>new Q8(n)),this._addUpdaterIfMissing(e,Rt.none,n=>new X8(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,Oe.bottom),this._updateOutMode(e,n,i.left??i.default,Oe.left),this._updateOutMode(e,n,i.right??i.default,Oe.right),this._updateOutMode(e,n,i.top??i.default,Oe.top)}}async function e7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new Z8(n)),e)}var kl;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(kl||(kl={}));class t7{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:ve(i.r),g:ve(i.g),b:ve(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?yk(i[kl.a]):1,b:parseInt(i[kl.b],r),g:parseInt(i[kl.g],r),r:parseInt(i[kl.r],r)}:void 0}}async function n7(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new t7,e)}const Fo=0;class i7{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Vs*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ke()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??Fo)<=Fo||(e.size.maxLoops??Fo)>Fo&&(e.size.loops??Fo)<(e.size.maxLoops??Fo))}reset(e){e.size.loops=Fo}update(e,n){this.isEnabled(e)&&X_(e,e.size,!0,e.options.size.animation.destroy,n)}}async function r7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new i7),e)}async function s7(t,e=!0){t.checkVersion("3.9.1"),await z8(t,!1),await $8(t,!1),await n7(t,!1),await S8(t,!1),await M8(t,!1),await N8(t,!1),await W8(t,!1),await e7(t,!1),await r7(t,!1),await t.refresh(e)}async function o7(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(ta.easeInQuad,n=>n**2,!1),await t.addEasing(ta.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(ta.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function a7(t,e){const{context:n,opacity:i}=t,r=.5,o=n.globalAlpha;if(!e)return;const l=e.width,u=l*r;n.globalAlpha=i,n.drawImage(e,-u,-u,l,l),n.globalAlpha=o}const Yg='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',Qx=0;class l7{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&n?.close(),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const i=this._emojiShapeDict.get(n);i&&a7(e,i)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(l=>bt(l,n.particles.shape.type)))return;const r=[Vx(Yg)],o=i.map(l=>n.particles.shape.options[l]).find(l=>!!l);o&&Xn(o,l=>{l.font&&r.push(Vx(l.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const r=n.shapeData;if(!r?.value)return;const o=pi(r.value,n.randomIndexData);if(!o)return;const l=typeof o=="string"?{font:r.font??Yg,padding:r.padding??Qx,value:o}:{font:Yg,padding:Qx,...r,...o},u=l.font,h=l.value,f=`${h}_${u}`;if(this._emojiShapeDict.has(f)){n.emojiDataKey=f;return}const m=l.padding*2,y=rr(n.size.value),_=y+m,T=_*2;let b;if(typeof OffscreenCanvas<"u"){const P=new OffscreenCanvas(T,T),S=P.getContext("2d");if(!S)return;S.font=`400 ${y*2}px ${u}`,S.textBaseline="middle",S.textAlign="center",S.fillText(h,_,_),b=P.transferToImageBitmap()}else{const P=document.createElement("canvas");P.width=T,P.height=T;const S=P.getContext("2d");if(!S)return;S.font=`400 ${y*2}px ${u}`,S.textBaseline="middle",S.textAlign="center",S.fillText(h,_,_),b=P}this._emojiShapeDict.set(f,b),n.emojiDataKey=f}}async function u7(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new l7,e)}const c7=1,h7=1,Vk=0;function Lk(t,e,n,i,r,o){const l=e.actualOptions.interactivity.modes.attract;if(!l)return;const u=e.particles.quadTree.query(r,o);for(const h of u){const{dx:f,dy:m,distance:y}=In(h.position,n),_=l.speed*l.factor,T=gi(t.getEasing(l.easing)(h7-y/i)*_,c7,l.maxSpeed),b=qt.create(y?f/y*T:_,y?m/y*T:_);h.position.subFrom(b)}}function d7(t,e,n){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,o=e.retina.attractModeDistance;if(!o||o<Vk||!r)return;Lk(t,e,r,o,new gn(r.x,r.y,o),l=>n(l))}else i.clicking===!1&&(i.particles=[])}function f7(t,e,n){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<Vk||!i||Lk(t,e,i,r,new gn(i.x,i.y,r),o=>n(o))}class p7{constructor(){this.distance=200,this.duration=.4,this.easing=ta.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const uc="attract";let m7=class extends Er{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.attract;if(!(!o||i!==uc)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const l of n.attract.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},o.duration*pn)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ua,r=n.interactivity.events,{enable:o,mode:l}=r.onHover,{enable:u,mode:h}=r.onClick;i&&o&&bt(uc,l)?f7(this._engine,this.container,f=>this.isEnabled(f)):u&&bt(uc,h)&&d7(this._engine,this.container,f=>this.isEnabled(f))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events;if((!r.position||!o.onHover.enable)&&(!r.clickPosition||!o.onClick.enable))return!1;const l=o.onHover.mode,u=o.onClick.mode;return bt(uc,l)||bt(uc,u)}loadModeOptions(e,...n){e.attract||(e.attract=new p7);for(const i of n)e.attract.load(i?.attract)}reset(){}};async function g7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new m7(t,n)),e)}const y7=2,wf=.5,v7=Math.PI*wf,Xx=2,Fk=10,_7=0;function jk(t,e,n,i,r){const o=t.particles.quadTree.query(i,r);for(const l of o)i instanceof gn?wk(iv(l),{position:e,mass:n**y7*v7,velocity:qt.origin,factor:qt.origin}):i instanceof Bi&&UU(l,gh(e,n))}function w7(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(o=>{const l=o,u=t.retina.pixelRatio,h={x:(l.offsetLeft+l.offsetWidth*wf)*u,y:(l.offsetTop+l.offsetHeight*wf)*u},f=l.offsetWidth*wf*u,m=Fk*u,y=n.type===Zl.circle?new gn(h.x,h.y,f+m):new Bi(l.offsetLeft*u-m,l.offsetTop*u-m,l.offsetWidth*u+m*Xx,l.offsetHeight*u+m*Xx);i(h,f,y)})}function E7(t,e,n,i){Q_(n,e,(r,o)=>w7(t,r,o,(l,u,h)=>jk(t,l,u,h,i)))}function T7(t,e){const n=t.retina.pixelRatio,i=Fk*n,r=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<_7||!r||jk(t,r,o,new gn(r.x,r.y,o+i),e)}class x7{constructor(){this.distance=200}load(e){le(e)||e.distance!==void 0&&(this.distance=e.distance)}}const Jd="bounce";class b7 extends Er{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===ua,o=i.onHover.enable,l=i.onHover.mode,u=i.onDiv;r&&o&&bt(Jd,l)?T7(this.container,h=>this.isEnabled(h)):E7(this.container,u,Jd,h=>this.isEnabled(h))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,l=o.onDiv;return!!r.position&&o.onHover.enable&&bt(Jd,o.onHover.mode)||K_(Jd,l)}loadModeOptions(e,...n){e.bounce||(e.bounce=new x7);for(const i of n)e.bounce.load(i?.bounce)}reset(){}}async function S7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new b7(n)),e)}class Uk{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!le(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=wr(this.color)?void 0:this.color;this.color=Xn(e.color,i=>_n.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class I7 extends Uk{constructor(){super(),this.selectors=[]}load(e){super.load(e),!le(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class C7 extends Uk{load(e){super.load(e),!le(e)&&(this.divs=Xn(e.divs,n=>{const i=new I7;return i.load(n),i}))}}var er;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(er||(er={}));function Yx(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return gi(r,t,e)}else if(e<n){const r=t-(n-e)*i;return gi(r,e,t)}}const jo="bubble",Jg=0,P7=0,k7=2,Jx=1,Zx=1,R7=0,A7=0,Zg=.5,ey=1;class D7 extends Er{constructor(e,n){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,o=i.interactivity.mouse.clickPosition,l=r.interactivity.modes.bubble;if(!l||!o)return;i.bubble||(i.bubble={});const u=i.retina.bubbleModeDistance;if(!u||u<Jg)return;const h=i.particles.quadTree.queryCircle(o,u,m=>this.isEnabled(m)),{bubble:f}=i;for(const m of h){if(!f.clicking)continue;m.bubble.inRange=!f.durationEnd;const y=m.getPosition(),_=Kn(y,o),T=(new Date().getTime()-(i.interactivity.mouse.clickTime??P7))/pn;T>l.duration&&(f.durationEnd=!0),T>l.duration*k7&&(f.clicking=!1,f.durationEnd=!1);const b={bubbleObj:{optValue:i.retina.bubbleModeSize,value:m.bubble.radius},particlesObj:{optValue:rr(m.options.size.value)*i.retina.pixelRatio,value:m.size.value},type:er.size};this._process(m,_,T,b);const P={bubbleObj:{optValue:l.opacity,value:m.bubble.opacity},particlesObj:{optValue:rr(m.options.opacity.value),value:m.opacity?.value??Jx},type:er.opacity};this._process(m,_,T,P),!f.durationEnd&&_<=u?this._hoverBubbleColor(m,_):delete m.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.bubbleModeDistance;if(!o||o<Jg||!r)return;const l=i.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u));for(const u of l){u.bubble.inRange=!0;const h=u.getPosition(),f=Kn(h,r),m=Zx-f/o;f<=o?m>=A7&&i.interactivity.status===ua&&(this._hoverBubbleSize(u,m),this._hoverBubbleOpacity(u,m),this._hoverBubbleColor(u,m)):this.reset(u),i.interactivity.status===Yy&&this.reset(u)}},this._hoverBubbleColor=(i,r,o)=>{const l=this.container.actualOptions,u=o??l.interactivity.modes.bubble;if(u){if(!i.bubble.finalColor){const h=u.color;if(!h)return;const f=pi(h);i.bubble.finalColor=Kc(this._engine,f)}if(i.bubble.finalColor)if(u.mix){i.bubble.color=void 0;const h=i.getFillColor();i.bubble.color=h?Sk(Y_(h,i.bubble.finalColor,Zx-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,o)=>{const l=this.container,u=l.actualOptions,h=o?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=i.options.opacity.value,m=i.opacity?.value??Jx,y=Yx(m,h,rr(f),r);y!==void 0&&(i.bubble.opacity=y)},this._hoverBubbleSize=(i,r,o)=>{const l=this.container,u=o?.size?o.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(u===void 0)return;const h=rr(i.options.size.value)*l.retina.pixelRatio,f=i.size.value,m=Yx(f,u,h,r);m!==void 0&&(i.bubble.radius=m)},this._process=(i,r,o,l)=>{const u=this.container,h=l.bubbleObj.optValue,f=u.actualOptions,m=f.interactivity.modes.bubble;if(!m||h===void 0)return;const y=m.duration,_=u.retina.bubbleModeDistance,T=l.particlesObj.optValue,b=l.bubbleObj.value,P=l.particlesObj.value??R7,S=l.type;if(!(!_||_<Jg||h===T))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)b&&(S===er.size&&delete i.bubble.radius,S===er.opacity&&delete i.bubble.opacity);else if(r<=_){if((b??P)!==h){const L=P-o*(P-h)/y;S===er.size&&(i.bubble.radius=L),S===er.opacity&&(i.bubble.opacity=L)}}else S===er.size&&delete i.bubble.radius,S===er.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,o)=>{const l=this.container,u=document.querySelectorAll(r),h=l.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const m=f,y=l.retina.pixelRatio,_={x:(m.offsetLeft+m.offsetWidth*Zg)*y,y:(m.offsetTop+m.offsetHeight*Zg)*y},T=m.offsetWidth*Zg*y,b=o.type===Zl.circle?new gn(_.x,_.y,T):new Bi(m.offsetLeft*y,m.offsetTop*y,m.offsetWidth*y,m.offsetHeight*y),P=l.particles.quadTree.query(b,S=>this.isEnabled(S));for(const S of P){if(!b.contains(S.getPosition()))continue;S.bubble.inRange=!0;const A=h.divs,L=_k(A,m);(!S.bubble.div||S.bubble.div!==m)&&(this.clear(S,i,!0),S.bubble.div=m),this._hoverBubbleSize(S,ey,L),this._hoverBubbleOpacity(S,ey,L),this._hoverBubbleColor(S,ey,L)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===jo&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,o=i.onClick,l=r.enable,u=r.mode,h=o.enable,f=o.mode,m=i.onDiv;l&&bt(jo,u)?this._hoverBubble():h&&bt(jo,f)?this._clickBubble():Q_(jo,m,(y,_)=>this._singleSelectorHover(e,y,_))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,{onClick:l,onDiv:u,onHover:h}=o,f=K_(jo,u);return f||h.enable&&r.position||l.enable&&r.clickPosition?bt(jo,h.mode)||bt(jo,l.mode)||f:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new C7);for(const i of n)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function M7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new D7(n,t)),e)}class O7{constructor(){this.opacity=.5}load(e){le(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class N7{constructor(){this.distance=80,this.links=new O7,this.radius=60}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const eb=0,tb=1,V7=0;function L7(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),o=e.getFillColor(),l=n.getFillColor();if(!o||!l)return;const u=e.getPosition(),h=n.getPosition(),f=Y_(o,l,e.getRadius(),n.getRadius()),m=t.createLinearGradient(u.x,u.y,h.x,h.y);return m.addColorStop(eb,Qc(o,i)),m.addColorStop(gi(r,eb,tb),Kr(f,i)),m.addColorStop(tb,Qc(l,i)),m}function F7(t,e,n,i,r){Ac(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function j7(t,e,n,i){const r=t.actualOptions,o=r.interactivity.modes.connect;if(o)return L7(e,n,i,o.links.opacity)}function U7(t,e,n){t.canvas.draw(i=>{const r=j7(t,i,e,n);if(!r)return;const o=e.getPosition(),l=n.getPosition();F7(i,e.retina.linksWidth??V7,r,o,l)})}const z7="connect",nb=0;class B7 extends Er{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:o}=e.retina;if(!r||r<nb||!o||o<nb||!i)return;const l=Math.abs(o),u=e.particles.quadTree.queryCircle(i,l,h=>this.isEnabled(h));u.forEach((h,f)=>{const m=h.getPosition(),y=1;for(const _ of u.slice(f+y)){const T=_.getPosition(),b=Math.abs(r),P=Math.abs(m.x-T.x),S=Math.abs(m.y-T.y);P<b&&S<b&&U7(e,h,_)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?bt(z7,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new N7);for(const i of n)e.connect.load(i?.connect)}reset(){}}async function $7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new B7(n)),e)}class H7{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){le(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class W7{constructor(){this.distance=100,this.links=new H7}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const q7=0;function G7(t,e,n,i,r,o){Ac(t,n,i),t.strokeStyle=Kr(r,o),t.lineWidth=e,t.stroke()}function K7(t,e,n,i,r){t.canvas.draw(o=>{const l=e.getPosition();G7(o,e.retina.linksWidth??q7,l,r,n,i)})}const Q7="grab",X7=0,Y7=0;class J7 extends Er{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ua)return;const r=e.interactivity.mouse.position;if(!r)return;const o=e.retina.grabModeDistance;if(!o||o<X7)return;const l=e.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u));for(const u of l){const h=u.getPosition(),f=Kn(h,r);if(f>o)continue;const m=i.modes.grab.links,y=m.opacity,_=y-f*y/o;if(_<=Y7)continue;const T=m.color??u.options.links?.color;if(!e.particles.grabLineColor&&T){const P=i.modes.grab.links;e.particles.grabLineColor=Ck(this._engine,T,P.blink,P.consent)}const b=sv(u,void 0,e.particles.grabLineColor);b&&K7(e,u,b,_,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&bt(Q7,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new W7);for(const i of n)e.grab.load(i?.grab)}reset(){}}async function Z7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new J7(n,t)),e)}const eB="pause";class tB extends Er{constructor(e){super(e),this.handleClickMode=n=>{if(n!==eB)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function nB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new tB(n)),e)}class iB{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(le(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=$e(n)),this.particles=Xn(e.particles,i=>vn({},i))}}const rB="push",sB=0;class oB extends Er{constructor(e){super(e),this.handleClickMode=n=>{if(n!==rB)return;const i=this.container,r=i.actualOptions,o=r.interactivity.modes.push;if(!o)return;const l=ve(o.quantity);if(l<=sB)return;const u=Dp([void 0,...o.groups]),h=u!==void 0?i.actualOptions.particles.groups[u]:void 0,f=pi(o.particles),m=vn(h,f);i.particles.push(l,i.interactivity.mouse,m,u)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new iB);for(const i of n)e.push.load(i?.push)}reset(){}}async function aB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new oB(n)),e)}class lB{constructor(){this.quantity=2}load(e){if(le(e))return;const n=e.quantity;n!==void 0&&(this.quantity=$e(n))}}const uB="remove";class cB extends Er{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==uB)return;const o=ve(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new lB);for(const i of n)e.remove.load(i?.remove)}reset(){}}async function hB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new cB(n)),e)}class zk{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=ta.easeOutQuad}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class dB extends zk{constructor(){super(),this.selectors=[]}load(e){super.load(e),!le(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class fB extends zk{load(e){super.load(e),!le(e)&&(this.divs=Xn(e.divs,n=>{const i=new dB;return i.load(n),i}))}}const Uo="repulse",pB=0,mB=6,gB=3,yB=2,vB=0,_B=0,wB=1,ty=.5;class EB extends Er{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const o=i.repulse??{particles:[]};if(o.finish||(o.count||(o.count=0),o.count++,o.count===i.particles.count&&(o.finish=!0)),o.clicking){const l=i.retina.repulseModeDistance;if(!l||l<pB)return;const u=Math.pow(l/mB,gB),h=i.interactivity.mouse.clickPosition;if(h===void 0)return;const f=new gn(h.x,h.y,u),m=i.particles.quadTree.query(f,y=>this.isEnabled(y));for(const y of m){const{dx:_,dy:T,distance:b}=In(h,y.position),P=b**yB,S=r.speed,A=-u*S/P;if(P<=u){o.particles.push(y);const L=qt.create(_,T);L.length=A,y.velocity.setTo(L)}}}else if(o.clicking===!1){for(const l of o.particles)l.velocity.setTo(l.initialVelocity);o.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.repulseModeDistance;!o||o<vB||!r||this._processRepulse(r,o,new gn(r.x,r.y,o))},this._processRepulse=(i,r,o,l)=>{const u=this.container,h=u.particles.quadTree.query(o,S=>this.isEnabled(S)),f=u.actualOptions.interactivity.modes.repulse;if(!f)return;const{easing:m,speed:y,factor:_,maxSpeed:T}=f,b=this._engine.getEasing(m),P=(l?.speed??y)*_;for(const S of h){const{dx:A,dy:L,distance:z}=In(S.position,i),H=gi(b(wB-z/r)*P,_B,T),Q=qt.create(z?A/z*H:P,z?L/z*H:P);S.position.addTo(Q)}},this._singleSelectorRepulse=(i,r)=>{const o=this.container,l=o.actualOptions.interactivity.modes.repulse;if(!l)return;const u=document.querySelectorAll(i);u.length&&u.forEach(h=>{const f=h,m=o.retina.pixelRatio,y={x:(f.offsetLeft+f.offsetWidth*ty)*m,y:(f.offsetTop+f.offsetHeight*ty)*m},_=f.offsetWidth*ty*m,T=r.type===Zl.circle?new gn(y.x,y.y,_):new Bi(f.offsetLeft*m,f.offsetTop*m,f.offsetWidth*m,f.offsetHeight*m),b=l.divs,P=_k(b,f);this._processRepulse(y,_,T,P)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.repulse;if(!o||i!==Uo)return;n.repulse||(n.repulse={particles:[]});const l=n.repulse;l.clicking=!0,l.count=0;for(const u of n.repulse.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);l.particles=[],l.finish=!1,setTimeout(()=>{n.destroyed||(l.clicking=!1)},o.duration*pn)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ua,r=n.interactivity.events,o=r.onHover,l=o.enable,u=o.mode,h=r.onClick,f=h.enable,m=h.mode,y=r.onDiv;i&&l&&bt(Uo,u)?this._hoverRepulse():f&&bt(Uo,m)?this._clickRepulse():Q_(Uo,y,(_,T)=>this._singleSelectorRepulse(_,T))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,l=o.onDiv,u=o.onHover,h=o.onClick,f=K_(Uo,l);if(!(f||u.enable&&r.position||h.enable&&r.clickPosition))return!1;const m=u.mode,y=h.mode;return bt(Uo,m)||bt(Uo,y)||f}loadModeOptions(e,...n){e.repulse||(e.repulse=new fB);for(const i of n)e.repulse.load(i?.repulse)}reset(){}}async function TB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new EB(t,n)),e)}class xB{constructor(){this.factor=3,this.radius=200}load(e){le(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const bB="slow",SB=0;class IB extends Er{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&bt(bB,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new xB);for(const i of n)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,o=n.retina.slowModeRadius,l=i.interactivity.modes.slow;if(!l||!o||o<SB||!r)return;const u=e.getPosition(),h=Kn(r,u),f=h/o,m=l.factor,{slow:y}=e;h>o||(y.inRange=!0,y.factor=f/m)}}async function CB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new IB(n)),e)}const PB=0,kB=1,RB=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function AB(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Qc(e,n);if(i.includes("fill"))return i.replace(RB,()=>r);const o=i.indexOf(">");return`${i.substring(PB,o)} fill="${r}"${i.substring(o)}`}async function Mp(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,ha().error(`${mi} loading image: ${t.source}`),e()}),n.src=t.source})}async function DB(t){if(t.type!=="svg"){await Mp(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(ha().error(`${mi} Image not found`),t.error=!0),t.loading=!1}function MB(t,e,n,i){const r=AB(t,n,i.opacity?.value??kB),o={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(l=>{const u=new Blob([r],{type:"image/svg+xml"}),h=URL||window.URL||window.webkitURL||window,f=h.createObjectURL(u),m=new Image;m.addEventListener("load",()=>{o.loaded=!0,o.element=m,l(o),h.revokeObjectURL(f)});const y=async()=>{h.revokeObjectURL(f);const _={...t,error:!1,loading:!0};await Mp(_),o.loaded=!0,o.element=_.element,l(o)};m.addEventListener("error",()=>void y()),m.src=f})}const ny=[0,4,2,1],ib=[8,8,4,2];class OB{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let o=n;--o>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let l=0;e!==i;l+=e+r,e=this.data[this.pos+l])n+=e;const o=new Uint8Array(n);e=this.data[this.pos++];for(let l=0;e!==i;e=this.data[this.pos++])for(let u=e;--u>=i;o[l++]=this.data[this.pos++]);return o}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Mi;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Mi||(Mi={}));var $r;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})($r||($r={}));const Nn={x:0,y:0},NB=0,rb=.5,VB=0,sb=0,av=0;function Bk(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function LB(t,e,n,i){switch(t.nextByte()){case $r.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const o=t.nextByte();r.GCreserved=(o&224)>>>5,r.disposalMethod=(o&28)>>>2,r.userInputDelayFlag=(o&2)===2;const l=(o&1)===1;r.delayTime=t.nextTwoBytes()*10;const u=t.nextByte();l&&i(u),t.pos++;break}case $r.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case $r.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case $r.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function FB(t,e,n,i,r,o){const l=e.frames[i(!0)];l.left=t.nextTwoBytes(),l.top=t.nextTwoBytes(),l.width=t.nextTwoBytes(),l.height=t.nextTwoBytes();const u=t.nextByte(),h=(u&128)===128,f=(u&64)===64;l.sortFlag=(u&32)===32,l.reserved=(u&24)>>>3;const m=1<<(u&7)+1;h&&(l.localColorTable=Bk(t,m));const y=A=>{const{r:L,g:z,b:H}=(h?l.localColorTable:e.globalColorTable)[A];return A!==r(null)?{r:L,g:z,b:H,a:255}:{r:L,g:z,b:H,a:n?~~((L+z+H)/3):0}},_=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(A){if(A instanceof DOMException&&A.name==="IndexSizeError")return null;throw A}})();if(_==null)throw new EvalError("GIF frame size is to large");const T=t.nextByte(),b=t.readSubBlocksBin(),P=1<<T,S=(A,L)=>{const z=A>>>3,H=A&7;return(b[z]+(b[z+1]<<8)+(b[z+2]<<16)&(1<<L)-1<<H)>>>H};if(f){for(let A=0,L=T+1,z=0,H=[[0]],Q=0;Q<4;Q++)if(ny[Q]<l.height){let Z=0,D=0,C=!1;for(;!C;){const k=A;if(A=S(z,L),z+=L+1,A===P){L=T+1,H.length=P+2;for(let N=0;N<H.length;N++)H[N]=N<P?[N]:[]}else{A>=H.length?H.push(H[k].concat(H[k][0])):k!==P&&H.push(H[k].concat(H[A][0]));for(const N of H[A]){const{r:j,g:$,b:O,a:ze}=y(N);_.data.set([j,$,O,ze],ny[Q]*l.width+ib[Q]*D+Z%(l.width*4)),Z+=4}H.length===1<<L&&L<12&&L++}Z===l.width*4*(D+1)&&(D++,ny[Q]+ib[Q]*D>=l.height&&(C=!0))}}l.image=_,l.bitmap=await createImageBitmap(_)}else{let A=0,L=T+1,z=0,H=-4,Q=!1;const Z=[[0]];for(;!Q;){const D=A;if(A=S(z,L),z+=L,A===P){L=T+1,Z.length=P+2;for(let C=0;C<Z.length;C++)Z[C]=C<P?[C]:[]}else{if(A===P+1){Q=!0;break}A>=Z.length?Z.push(Z[D].concat(Z[D][0])):D!==P&&Z.push(Z[D].concat(Z[A][0]));for(const C of Z[A]){const{r:k,g:N,b:j,a:$}=y(C);_.data.set([k,N,j,$],H+=4)}Z.length>=1<<L&&L<12&&L++}}l.image=_,l.bitmap=await createImageBitmap(_)}}async function jB(t,e,n,i,r,o){switch(t.nextByte()){case $r.EndOfFile:return!0;case $r.Image:await FB(t,e,n,i,r);break;case $r.Extension:LB(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function UB(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function zB(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},l=new OB(new Uint8ClampedArray(r));if(l.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");o.width=l.nextTwoBytes(),o.height=l.nextTwoBytes();const u=l.nextByte(),h=(u&128)===128;o.colorRes=(u&112)>>>4,o.sortFlag=(u&8)===8;const f=1<<(u&7)+1,m=l.nextByte();o.pixelAspectRatio=l.nextByte(),o.pixelAspectRatio!==0&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),h&&(o.globalColorTable=Bk(l,f));const y=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(H){if(H instanceof DOMException&&H.name==="IndexSizeError")return null;throw H}})();if(y==null)throw new Error("GIF frame size is to large");const{r:_,g:T,b}=o.globalColorTable[m];y.data.set(h?[_,T,b,255]:[0,0,0,0]);for(let H=4;H<y.data.length;H*=2)y.data.copyWithin(H,0,H);o.backgroundImage=y;let P=-1,S=!0,A=-1;const L=H=>(H&&(S=!0),P),z=H=>(H!=null&&(A=H),A);try{do S&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Mi.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),P++,A=-1,S=!1);while(!await jB(l,o,n,L,z,e));o.frames.length--;for(const H of o.frames){if(H.userInputDelayFlag&&H.delayTime===0){o.totalTime=1/0;break}o.totalTime+=H.delayTime}return o}catch(H){throw H instanceof EvalError?new Error(`error while parsing frame ${P} "${H.message}"`):H}}function BB(t){const{context:e,radius:n,particle:i,delta:r}=t,o=i.image;if(!o?.gifData||!o.gif)return;const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=l.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(Nn.x,Nn.y,l.width,l.height),i.gifLoopCount===void 0&&(i.gifLoopCount=o.gifLoopCount??av);let h=i.gifFrame??NB;const f={x:-o.gifData.width*rb,y:-o.gifData.height*rb},m=o.gifData.frames[h];if(i.gifTime===void 0&&(i.gifTime=VB),!!m.bitmap){switch(e.scale(n/o.gifData.width,n/o.gifData.height),m.disposalMethod){case Mi.UndefinedA:case Mi.UndefinedB:case Mi.UndefinedC:case Mi.UndefinedD:case Mi.Replace:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Nn.x,Nn.y,l.width,l.height);break;case Mi.Combine:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y);break;case Mi.RestoreBackground:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Nn.x,Nn.y,l.width,l.height),o.gifData.globalColorTable.length?u.putImageData(o.gifData.backgroundImage,f.x,f.y):u.putImageData(o.gifData.frames[sb].image,f.x+m.left,f.y+m.top);break;case Mi.RestorePrevious:{const y=u.getImageData(Nn.x,Nn.y,l.width,l.height);u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Nn.x,Nn.y,l.width,l.height),u.putImageData(y,Nn.x,Nn.y)}break}if(i.gifTime+=r.value,i.gifTime>m.delayTime){if(i.gifTime-=m.delayTime,++h>=o.gifData.frames.length){if(--i.gifLoopCount<=av)return;h=sb,u.clearRect(Nn.x,Nn.y,l.width,l.height)}i.gifFrame=h}e.scale(o.gifData.width/n,o.gifData.height/n)}}async function $B(t){if(t.type!=="gif"){await Mp(t);return}t.loading=!0;try{t.gifData=await zB(t.source),t.gifLoopCount=UB(t.gifData)??av,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const HB=2,WB=1,qB=12,GB=1;class KB{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${mi} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:o}=e,l=r.image,u=l?.element;if(l){if(n.globalAlpha=o,l.gif&&l.gifData)BB(e);else if(u){const h=l.ratio,f={x:-i,y:-i},m=i*HB;n.drawImage(u,f.x,f.y,m,m/h)}n.globalAlpha=WB}}getSidesCount(){return qB}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const o=n.getFillColor(),l=i.find(h=>h.name===r.name||h.source===r.src);if(!l)return;const u=r.replaceColor??l.replaceColor;if(l.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let h;l.svgData&&o?h=await MB(l,r,o,n):h={color:o,data:l,element:l.element,gif:l.gif,gifData:l.gifData,gifLoopCount:l.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:l.ratio??GB,replaceColor:u,source:r.src},h.ratio||(h.ratio=1);const f=r.fill??n.shapeFill,m=r.close??n.shapeClose,y={image:h,fill:f,close:m};n.image=y.image,n.shapeFill=y.fill,n.shapeClose=y.close})()}}class QB{constructor(){this.src="",this.gif=!1}load(e){le(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class XB{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!n?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const o=i.find(l=>l.name===r.name||l.src===r.src);if(o)o.load(r);else{const l=new QB;l.load(r),i.push(l)}}}needsPlugin(){return!0}}const YB=3;function JB(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${mi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-YB),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=$B:i=e.replaceColor?DB:Mp,await i(n)}catch{throw new Error(`${mi} ${e.name??e.src} not found`)}})}async function ZB(t,e=!0){t.checkVersion("3.9.1"),JB(t);const n=new XB(t);await t.addPlugin(n,e),await t.addShape(new KB(t),e)}class e$ extends Ea{constructor(){super(),this.sync=!1}load(e){le(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class t$ extends Ea{constructor(){super(),this.sync=!1}load(e){le(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class n${constructor(){this.count=0,this.delay=new e$,this.duration=new t$}load(e){le(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const ml=0,i$=-1,ob=0,ab=0;function r$(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=ml,i.time=ml;else return;if(i.duration===i$||t.spawning||(r?i.time=ml:i.time+=e.value,i.time<i.duration))return;if(i.time=ml,t.life.count>ob&&t.life.count--,t.life.count===ob){t.destroy();return}const o=$e(ab,n.width),l=$e(ab,n.width);t.position.x=qn(o),t.position.y=qn(l),t.spawning=!0,i.delayTime=ml,i.time=ml,t.reset();const u=t.options.life;u&&(i.delay=ve(u.delay.value)*pn,i.duration=ve(u.duration.value)*pn)}const zo=0,lb=1,ub=-1;class s${constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?ve(r.delay.value)*(r.delay.sync?lb:Ke())/n.retina.reduceFactor*pn:zo,delayTime:zo,duration:n.retina.reduceFactor?ve(r.duration.value)*(r.duration.sync?lb:Ke())/n.retina.reduceFactor*pn:zo,time:zo,count:r.count},e.life.duration<=zo&&(e.life.duration=ub),e.life.count<=zo&&(e.life.count=ub),e.life&&(e.spawning=e.life.delay>zo))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new n$);for(const i of n)e.life.load(i?.life)}update(e,n){!this.isEnabled(e)||!e.life||r$(e,n,this.container.canvas.size)}}async function o$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new s$(n)),e)}function a$(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,o=0;e.moveTo(-i,o),e.lineTo(i,o),e.lineCap=r?.cap??"butt"}const l$=1;class u${constructor(){this.validTypes=["line"]}draw(e){a$(e)}getSidesCount(){return l$}}async function c$(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new u$,e)}const cb=.5;class h${init(){}isEnabled(e){return!da()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(da()||!r.enable)return;const o=r.force,l=n.interactivity.mouse.position;if(!l)return;const u=n.canvas.size,h={x:u.width*cb,y:u.height*cb},f=r.smooth,m=e.getRadius()/o,y={x:(l.x-h.x)*m,y:(l.y-h.y)*m},{offset:_}=e;_.x+=(y.x-_.x)/f,_.y+=(y.y-_.y)/f}}async function d$(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new h$),e)}const hb=1e3,f$=1;class p$ extends e0{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=ve(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),o=n.particles.quadTree.queryCircle(r,i);for(const l of o){if(e===l||!l.options.move.attract.enable||l.destroyed||l.spawning)continue;const u=l.getPosition(),{dx:h,dy:f}=In(r,u),m=e.options.move.attract.rotate,y=h/(m.x*hb),_=f/(m.y*hb),T=l.size.value/e.size.value,b=f$/T;e.velocity.x-=y*T,e.velocity.y-=_*T,l.velocity.x+=y*b,l.velocity.y+=_*b}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function m$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new p$(n)),e)}const g$=.5,y$=10,v$=0;function db(t,e,n,i,r,o){const l=gi(t.options.collisions.absorb.speed*r.factor/y$,v$,i);t.size.value+=l*g$,n.size.value-=l,i<=o&&(n.size.value=0,n.destroy())}function _$(t,e,n,i){const r=t.getRadius(),o=e.getRadius();r===void 0&&o!==void 0?t.destroy():r!==void 0&&o===void 0?e.destroy():r!==void 0&&o!==void 0&&(r>=o?db(t,r,e,o,n,i):db(e,o,t,r,n,i))}const fb=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=ve(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function $k(t,e){wk(iv(t),iv(e)),fb(t),fb(e)}function w$(t,e){!t.unbreakable&&!e.unbreakable&&$k(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function E$(t,e,n,i){switch(t.options.collisions.mode){case Ll.absorb:{_$(t,e,n,i);break}case Ll.bounce:{$k(t,e);break}case Ll.destroy:{w$(t,e);break}}}const T$=2;class x$ extends e0{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),o=e.getRadius(),l=i.particles.quadTree.queryCircle(r,o*T$);for(const u of l){if(e===u||!u.options.collisions.enable||e.options.collisions.mode!==u.options.collisions.mode||u.destroyed||u.spawning)continue;const h=u.getPosition(),f=u.getRadius();if(Math.abs(Math.round(r.z)-Math.round(h.z))>o+f)continue;const m=Kn(r,h),y=o+f;m>y||E$(e,u,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function b$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new x$(n)),e)}const iy=2;class S$ extends gn{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:o}=e;return super.contains(e)||super.contains({x:r-n,y:o})||super.contains({x:r-n,y:o-i})||super.contains({x:r,y:o-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const o=new gn(r.x,r.y,i.radius*iy);return super.intersects(o)}else if(n.size!==void 0){const o=new Bi(r.x,r.y,n.size.width*iy,n.size.height*iy);return super.intersects(o)}return!1}}class I${constructor(){this.blur=5,this.color=new _n,this.color.value="#000",this.enable=!1}load(e){le(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=_n.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class C${constructor(){this.enable=!1,this.frequency=1}load(e){le(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class P${constructor(){this.blink=!1,this.color=new _n,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new I$,this.triangles=new C$,this.width=1,this.warp=!1}load(e){le(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=_n.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const pb=2,k$=1,Zd={x:0,y:0},R$=0;function A$(t,e,n,i,r){const{dx:o,dy:l,distance:u}=In(t,e);if(!r||u<=n)return u;const h={x:Math.abs(o),y:Math.abs(l)},f={x:Math.min(h.x,i.width-h.x),y:Math.min(h.y,i.height-h.y)};return Math.sqrt(f.x**pb+f.y**pb)}class D$ extends e0{constructor(e,n){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,o=i.options.links;let l=o.id===void 0?r.particles.linksColor:r.particles.linksColors.get(o.id);if(l)return;const u=o.color;l=Ck(this._engine,u,o.blink,o.consent),o.id===void 0?r.particles.linksColor=l:r.particles.linksColors.set(o.id,l)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<Zd.x||n.y<Zd.y||n.x>r.width||n.y>r.height)return;const o=e.options.links,l=o.opacity,u=e.retina.linksDistance??R$,h=o.warp;let f;h?f=new S$(n.x,n.y,u,r):f=new gn(n.x,n.y,u);const m=i.particles.quadTree.query(f);for(const y of m){const _=y.options.links;if(e===y||!_?.enable||o.id!==_.id||y.spawning||y.destroyed||!y.links||e.links.some(S=>S.destination===y)||y.links.some(S=>S.destination===e))continue;const T=y.getPosition();if(T.x<Zd.x||T.y<Zd.y||T.x>r.width||T.y>r.height)continue;const b=A$(n,T,u,r,h&&_.warp);if(b>u)continue;const P=(k$-b/u)*l;this._setColor(e),e.links.push({destination:y,opacity:P})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...n){e.links||(e.links=new P$);for(const i of n)e.links.load(i?.links)}reset(){}}async function M$(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new D$(n,t)),e)}function O$(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function N$(t){let e=!1;const{begin:n,end:i,engine:r,maxDistance:o,context:l,canvasSize:u,width:h,backgroundMask:f,colorLine:m,opacity:y,links:_}=t;if(Kn(n,i)<=o)Ac(l,n,i),e=!0;else if(_.warp){let b,P;const S={x:i.x-u.width,y:i.y},A=In(n,S);if(A.distance<=o){const L=n.y-A.dy/A.dx*n.x;b={x:0,y:L},P={x:u.width,y:L}}else{const L={x:i.x,y:i.y-u.height},z=In(n,L);if(z.distance<=o){const Q=-(n.y-z.dy/z.dx*n.x)/(z.dy/z.dx);b={x:Q,y:0},P={x:Q,y:u.height}}else{const H={x:i.x-u.width,y:i.y-u.height},Q=In(n,H);if(Q.distance<=o){const Z=n.y-Q.dy/Q.dx*n.x;b={x:-Z/(Q.dy/Q.dx),y:Z},P={x:b.x+u.width,y:b.y+u.height}}}}b&&P&&(Ac(l,n,b),Ac(l,i,P),e=!0)}if(!e)return;l.lineWidth=h,f.enable&&(l.globalCompositeOperation=f.composite),l.strokeStyle=Kr(m,y);const{shadow:T}=_;if(T.enable){const b=ji(r,T.color);b&&(l.shadowBlur=T.blur,l.shadowColor=Kr(b))}l.stroke()}function V$(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:o,colorTriangle:l,opacityTriangle:u}=t;O$(e,n,i,r),o.enable&&(e.globalCompositeOperation=o.composite),e.fillStyle=Kr(l,u),e.fill()}function L$(t){return t.sort((e,n)=>e-n),t.join("_")}function mb(t,e){const n=L$(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ke(),e.set(n,i)),i}const gb=0,ry=0,yb=0,F$=.5,j$=1;class U${constructor(e,n){this._drawLinkLine=(i,r)=>{const o=i.options.links;if(!o?.enable)return;const l=this._container,u=l.actualOptions,h=r.destination,f=i.getPosition(),m=h.getPosition();let y=r.opacity;l.canvas.draw(_=>{let T;const b=i.options.twinkle?.lines;if(b?.enable){const L=b.frequency,z=ji(this._engine,b.color);Ke()<L&&z&&(T=z,y=ve(b.opacity))}if(!T){const L=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;T=sv(i,h,L)}if(!T)return;const P=i.retina.linksWidth??ry,S=i.retina.linksDistance??yb,{backgroundMask:A}=u;N$({context:_,width:P,begin:f,end:m,engine:this._engine,maxDistance:S,canvasSize:l.canvas.size,links:o,backgroundMask:A,colorLine:T,opacity:y})})},this._drawLinkTriangle=(i,r,o)=>{const l=i.options.links;if(!l?.enable)return;const u=l.triangles;if(!u.enable)return;const h=this._container,f=h.actualOptions,m=r.destination,y=o.destination,_=u.opacity??(r.opacity+o.opacity)*F$;_<=gb||h.canvas.draw(T=>{const b=i.getPosition(),P=m.getPosition(),S=y.getPosition(),A=i.retina.linksDistance??yb;if(Kn(b,P)>A||Kn(S,P)>A||Kn(S,b)>A)return;let L=ji(this._engine,u.color);if(!L){const z=l.id!==void 0?h.particles.linksColors.get(l.id):h.particles.linksColor;L=sv(i,m,z)}L&&V$({context:T,pos1:b,pos2:P,pos3:S,backgroundMask:f.backgroundMask,colorTriangle:L,opacityTriangle:_})})},this._drawTriangles=(i,r,o,l)=>{const u=o.destination;if(!(i.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const m=this._getLinkFrequency(u,f.destination);return u.options.links&&m<=u.options.links.frequency&&l.findIndex(_=>_.destination===f.destination)>=0});if(h?.length)for(const f of h){const m=f.destination;this._getTriangleFrequency(r,u,m)>i.links.triangles.frequency||this._drawLinkTriangle(r,o,f)}},this._getLinkFrequency=(i,r)=>mb([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,o)=>mb([i,r,o],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i?.length)return;const o=i.filter(l=>r.links&&(r.links.frequency>=j$||this._getLinkFrequency(n,l.destination)<=r.links.frequency));for(const l of o)this._drawTriangles(r,n,l,o),l.opacity>gb&&(n.retina.linksWidth??ry)>ry&&this._drawLinkLine(n,l)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:o}=e.options.links;i.linksDistance=r*n,i.linksWidth=o*n}particleDestroyed(e){e.links=[]}}class z${constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new U$(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function B$(t,e=!0){const n=new z$(t);await t.addPlugin(n,e)}async function $$(t,e=!0){t.checkVersion("3.9.1"),await M$(t,e),await B$(t,e)}const H$=180,ef={x:0,y:0},W$=2;function q$(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,o=n.count.numerator/n.count.denominator,l=H$*(o-W$)/o,u=Math.PI-Hs(l);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(ef.x,ef.y);for(let h=0;h<r;h++)i.lineTo(n.length,ef.y),i.translate(n.length,ef.y),i.rotate(u)}}const G$=5;class Hk{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),o=this.getSidesData(n,i);q$(e,r,o)}getSidesCount(e){const n=e.shapeData;return Math.round(ve(n?.sides??G$))}}const vb=3.5,_b=2.66,K$=3;class Q$ extends Hk{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/vb),y:-n/(_b/vb)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*_b/(i/K$)}}}const X$=1.66,Y$=3,J$=2;class Z$ extends Hk{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/X$}}getSidesCount(){return Y$}getSidesData(e,n){const i=n*J$;return{count:{denominator:2,numerator:3},length:i}}}async function eH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Q$,e)}async function tH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Z$,e)}async function nH(t,e=!0){t.checkVersion("3.9.1"),await eH(t,e),await tH(t,e)}class iH{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class rH extends Ea{constructor(){super(),this.animation=new iH,this.direction=Ni.clockwise,this.path=!1,this.value=0}load(e){le(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const Wk=2,sH=Math.PI*Wk,oH=1,aH=360;class lH{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Hs(ve(n.value)),min:0,max:sH},e.pathRotation=n.path;let i=n.direction;switch(i===Ni.random&&(i=Math.floor(Ke()*Wk)>0?Ni.counterClockwise:Ni.clockwise),i){case Ni.counterClockwise:case"counterClockwise":e.rotate.status=Pt.decreasing;break;case Ni.clockwise:e.rotate.status=Pt.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=oH-ve(r.decay),e.rotate.velocity=ve(r.speed)/aH*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ke())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new rH);for(const i of n)e.rotate.load(i?.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(X_(e,e.rotate,!1,ca.none,n),e.rotation=e.rotate.value))}}async function uH(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new lH(n)),e)}const cH=2,hH=Math.sqrt(cH),dH=2;function fH(t){const{context:e,radius:n}=t,i=n/hH,r=i*dH;e.rect(-i,-i,r,r)}const pH=4;class mH{constructor(){this.validTypes=["edge","square"]}draw(e){fH(e)}getSidesCount(){return pH}}async function gH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new mH,e)}const yH=2,gl={x:0,y:0};function vH(t){const{context:e,particle:n,radius:i}=t,r=n.sides,o=n.starInset??yH;e.moveTo(gl.x,gl.y-i);for(let l=0;l<r;l++)e.rotate(Math.PI/r),e.lineTo(gl.x,gl.y-i*o),e.rotate(Math.PI/r),e.lineTo(gl.x,gl.y-i)}const _H=2,wH=5;class EH{constructor(){this.validTypes=["star"]}draw(e){vH(e)}getSidesCount(e){const n=e.shapeData;return Math.round(ve(n?.sides??wH))}particleInit(e,n){const i=n.shapeData;n.starInset=ve(i?.inset??_H)}}async function TH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new EH,e)}const xH=1;class bH{constructor(e,n){this._container=e,this._engine=n}init(e){const n=this._container,i=e.options,r=pi(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ve(r.width)*n.retina.pixelRatio,e.strokeOpacity=ve(r.opacity??xH),e.strokeAnimation=r.color?.animation;const o=Kc(this._engine,r.color)??e.getFillColor();o&&(e.strokeColor=Pk(o,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&kk(e.strokeColor,n)}}async function SH(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new bH(n,t)),e)}async function IH(t,e=!0){t.checkVersion("3.9.1"),await d$(t,!1),await g7(t,!1),await S7(t,!1),await M7(t,!1),await $7(t,!1),await Z7(t,!1),await nB(t,!1),await aB(t,!1),await hB(t,!1),await TB(t,!1),await CB(t,!1),await m$(t,!1),await b$(t,!1),await $$(t,!1),await o7(t,!1),await u7(t,!1),await ZB(t,!1),await c$(t,!1),await nH(t,!1),await gH(t,!1),await TH(t,!1),await o$(t,!1),await uH(t,!1),await SH(t,!1),await s7(t,e)}var qk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wb=et.createContext&&et.createContext(qk),CH=["attr","size","title"];function PH(t,e){if(t==null)return{};var n=kH(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function kH(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ep.apply(this,arguments)}function Eb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function tp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eb(Object(n),!0).forEach(function(i){RH(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function RH(t,e,n){return e=AH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=DH(t,"string");return typeof e=="symbol"?e:e+""}function DH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gk(t){return t&&t.map((e,n)=>et.createElement(e.tag,tp({key:n},e.attr),Gk(e.child)))}function Yn(t){return e=>et.createElement(MH,ep({attr:tp({},t.attr)},e),Gk(t.child))}function MH(t){var e=n=>{var{attr:i,size:r,title:o}=t,l=PH(t,CH),u=r||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),et.createElement("svg",ep({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:tp(tp({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&et.createElement("title",null,o),t.children)};return wb!==void 0?et.createElement(wb.Consumer,null,n=>e(n)):e(qk)}function OH(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function NH(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function VH(t){return Yn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function LH(t){return Yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function FH(t){return Yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function jH(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function UH(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function zH(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function BH(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function $H(t){return Yn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function HH(t){return Yn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function WH(t){return Yn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const qH="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",GH=et.memo(()=>{const[t,e]=V.useState(!1);V.useEffect(()=>{h8(async o=>{await IH(o)}).then(()=>e(!0)).catch(o=>{console.error("Particles initialization failed:",o)})},[]);const n=V.useMemo(()=>({background:{color:{value:"transparent"}},fpsLimit:120,interactivity:{events:{onHover:{enable:!0,mode:"grab"},resize:!0},modes:{grab:{distance:200,links:{opacity:.8}}}},particles:{color:{value:"#a1a1aa"},links:{color:"#a1a1aa",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:100},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:3}}},detectRetina:!0}),[]),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return R.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-slate-50",children:[t&&R.jsx(c8,{id:"tsparticles",options:n,className:"absolute top-0 left-0 w-full h-full z-0"}),R.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[R.jsxs(Ze.div,{variants:i,initial:"hidden",animate:"visible",className:"md:col-span-3",children:[R.jsxs(Ze.h1,{variants:r,className:"text-5xl md:text-7xl font-extrabold text-slate-800 mb-4",children:[R.jsx("span",{className:"block mb-2 text-xl font-medium text-slate-500",children:"Hello, I'm"}),"Costas Pinto"]}),R.jsx(Ze.div,{variants:r,children:R.jsx(Lj,{sequence:["AI Innovator",2e3,"Full-Stack Developer",2e3,"Data Scientist",2e3,"Problem Solver",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-800 h-10",repeat:1/0})}),R.jsx(Ze.p,{variants:r,className:"max-w-xl text-slate-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),R.jsxs(Ze.div,{variants:r,className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[R.jsxs(Ze.a,{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.95},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-800 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all",children:[R.jsx(BH,{}),"Download CV"]}),R.jsxs("div",{className:"flex gap-4",children:[R.jsx(Ze.a,{whileHover:{y:-3},href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-blue-600 transition-colors",children:R.jsx(FH,{size:32})}),R.jsx(Ze.a,{whileHover:{y:-3},href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-slate-800 transition-colors",children:R.jsx(VH,{size:32})})]})]})]}),R.jsx(Ze.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,y:[0,-15,0]},transition:{opacity:{duration:.8,delay:.4},scale:{duration:.8,delay:.4,type:"spring"},y:{duration:2.5,repeat:1/0,ease:"easeInOut"}},className:"md:col-span-2 flex justify-center items-center",children:R.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px]",children:[R.jsx(Ze.div,{animate:{rotate:360,scale:[1,1.05,1]},transition:{rotate:{duration:40,repeat:1/0,ease:"linear"},scale:{duration:5,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-indigo-200 to-blue-300 rounded-full opacity-50 blur-3xl"}),R.jsx("div",{className:"relative z-10 flex justify-center items-center h-full",children:R.jsx("img",{loading:"lazy",src:qH,onError:o=>{o.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain"})})]})})]})]})}),so=et.memo(({children:t,id:e,className:n=""})=>{const i=V.useRef(null),r=ok(i,{once:!0,amount:.2}),o={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return R.jsx(Ze.section,{id:e,ref:i,variants:o,initial:"hidden",animate:r?"visible":"hidden",className:`py-16 md:py-20 ${n}`,children:t})}),oo=et.memo(()=>{const t=V.useRef(null),e=ok(t,{once:!0,amount:.5}),n={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return R.jsx("div",{ref:t,className:"h-1 w-24 mx-auto my-8",children:R.jsx(Ze.div,{className:"h-full bg-gradient-to-r from-blue-600 to-blue-800 rounded-full",style:{transformOrigin:"center"},variants:n,initial:"hidden",animate:e?"visible":"hidden"})})}),KH=et.memo(()=>R.jsxs(so,{id:"about",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"About Me"}),R.jsx(oo,{}),R.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("p",{className:"text-lg leading-relaxed text-slate-600 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),QH=et.memo(({date:t,title:e,company:n,details:i})=>R.jsxs(Ze.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-indigo-200",children:[R.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full border-4 border-white"}),R.jsx("p",{className:"text-slate-500 mb-1 font-medium",children:t}),R.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),R.jsx("p",{className:"text-lg text-blue-600 font-semibold mb-3",children:n}),R.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:i.map((r,o)=>R.jsx("li",{children:r},o))})]})),XH=et.memo(()=>{const t=[{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return R.jsxs(so,{id:"experience",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Experience"}),R.jsx(oo,{}),R.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:t.map((e,n)=>R.jsx(QH,{...e},n))})]})}),YH=et.memo(()=>{const[t,e]=V.useState("Programming Languages"),n=l=>{e(u=>u===l?null:l)},i={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return R.jsxs(so,{id:"skills",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Skills"}),R.jsx(oo,{}),R.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("div",{className:"space-y-2",children:Object.entries(i).map(([l,u])=>R.jsxs("div",{className:"border-b border-slate-300/50 last:border-b-0",children:[R.jsxs("button",{onClick:()=>n(l),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-slate-700 focus:outline-none",children:[R.jsx("span",{children:l}),R.jsx(Ze.span,{animate:{rotate:t===l?180:0},children:R.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),R.jsx(p_,{children:t===l&&R.jsx(Ze.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:R.jsx(Ze.div,{variants:r,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:u.map(h=>R.jsxs(Ze.div,{variants:o,children:[R.jsx("p",{className:"text-lg font-medium text-slate-600 mb-1",children:h.name}),R.jsx("div",{className:"bg-slate-300 w-full rounded-full h-2.5",children:R.jsx(Ze.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-blue-700",initial:{width:0},animate:{width:`${h.level}%`},transition:{duration:1,ease:"easeOut"}})})]},h.name))})})})]},l))})})]})}),JH=et.memo(()=>R.jsxs(so,{id:"achievements",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Key Achievements"}),R.jsx(oo,{}),R.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("ul",{className:"space-y-4 text-lg text-slate-600",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong> – empowering students through digital education."}].map(t=>R.jsxs("li",{className:"flex items-start",children:[R.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:"✓"}),R.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}})]},t.id))})})]})),ZH=et.memo(({year:t,title:e,details:n,icon:i})=>R.jsxs(Ze.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[R.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center shadow-md",children:i}),R.jsx("p",{className:"text-blue-600 mb-1 font-semibold",children:t}),R.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),R.jsx("p",{className:"text-slate-600 mt-1",children:n})]})),eW=et.memo(()=>{const t=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:R.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:R.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:R.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return R.jsxs(so,{id:"journey",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Learning Journey"}),R.jsx(oo,{}),R.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:R.jsx("div",{className:"space-y-12",children:t.map(e=>R.jsx(ZH,{...e},e.title))})})]})}),tW=V.memo(({projects:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return R.jsxs(so,{id:"projects",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Projects"}),R.jsx(oo,{}),R.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:t.length>0?R.jsx(Ze.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(i=>R.jsxs(Ze.div,{variants:n,className:"relative p-6 flex flex-col rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1 overflow-hidden",children:[R.jsx("img",{loading:"lazy",src:i.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:i.title,className:"rounded-lg mb-4 aspect-video object-cover border border-slate-200/50"}),R.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:i.title}),R.jsx("p",{className:"text-slate-600 flex-grow mb-4",children:i.description}),R.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tags?.map(r=>R.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-1 rounded-full",children:r},r))}),i.projectLink&&R.jsx("a",{href:i.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-600 rounded-full py-2 px-4 hover:bg-blue-600 hover:text-white transition-all duration-300 z-10",children:"View Project"})]},i.id))}):R.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:R.jsx("p",{className:"text-center text-slate-500 text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),nW=({url:t,onClose:e})=>R.jsx(p_,{children:t&&R.jsx(Ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:R.jsxs(Ze.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:n=>n.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[R.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[R.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Certificate Viewer"}),R.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 transition-colors p-1 rounded-full hover:bg-slate-100","aria-label":"Close",children:R.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),R.jsx("div",{className:"flex-grow p-2 bg-slate-50",children:R.jsx("iframe",{src:t,title:"Certificate PDF Viewer",className:"w-full h-full border-none"})})]})})}),iW=et.memo(({licensesPdfUrl:t,internshipsPdfUrl:e})=>{const[n,i]=V.useState(null),r="inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-600 to-blue-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return R.jsxs(R.Fragment,{children:[R.jsxs(so,{id:"certifications",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Certificates"}),R.jsx(oo,{}),R.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[R.jsx(Ze.button,{onClick:()=>i(t),disabled:!t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:r,children:"View Licenses & Certs"}),R.jsx(Ze.button,{onClick:()=>i(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:r,children:"View Internship Certs"})]})]}),R.jsx(nW,{url:n,onClose:()=>i(null)})]})});function rW(t){return Yn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(t)}const sW=et.memo(()=>{const[t,e]=V.useState({submitting:!1,succeeded:!1,error:null}),[n,i]=V.useState(null),r=V.useCallback(async u=>{u.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const h=u.target,f=new FormData(h);try{const m=await fetch(h.action,{method:h.method,body:f,headers:{Accept:"application/json"}});if(m.ok)e({submitting:!1,succeeded:!0,error:null}),h.reset(),setTimeout(()=>e(y=>({...y,succeeded:!1})),5e3);else{const _=(await m.json()).errors?.map(T=>T.message).join(", ")||"An unknown error occurred.";throw new Error(_)}}catch(m){e({submitting:!1,succeeded:!1,error:m.message}),setTimeout(()=>e(y=>({...y,error:null})),5e3)}},[]),o=V.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{i("Email copied to clipboard!"),setTimeout(()=>i(null),3e3)}).catch(h=>{console.error("Clipboard copy failed:",h),i("Could not copy email."),setTimeout(()=>i(null),3e3)})},[]),l=[{name:"Instagram",icon:R.jsx(LH,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:R.jsx(OH,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:R.jsx(jH,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:R.jsx(NH,{}),url:"https://facebook.com/costaspinto"}];return R.jsxs(so,{id:"contact",className:"bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans !py-0",children:[R.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[R.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Let’s Get Connected!"}),R.jsx(oo,{}),R.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[R.jsxs("div",{className:"flex-1 space-y-10",children:[R.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),R.jsxs("div",{children:[R.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),R.jsx("div",{className:"flex items-center gap-4",children:l.map(u=>R.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:u.icon},u.name))})]})]}),R.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-white/30",children:R.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:r,className:"space-y-6",children:[R.jsxs("div",{className:"relative",children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Name *"}),R.jsx(WH,{className:"absolute left-3 top-10 text-slate-400"}),R.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{className:"relative",children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Email *"}),R.jsx($H,{className:"absolute left-3 top-10 text-slate-400"}),R.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{className:"relative",children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Service you are looking for *"}),R.jsx(zH,{className:"absolute left-3 top-10 text-slate-400"}),R.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Message"}),R.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),R.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.submitting,children:t.submitting?"Submitting...":"Submit"}),t.succeeded&&R.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[R.jsx(UH,{})," Thanks for your message! I'll get back to you soon."]}),t.error&&R.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[R.jsx(HH,{})," Error: ",t.error]})]})})]})]}),R.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:R.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[R.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),R.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and let’s explore how we can collaborate."})]}),R.jsxs("div",{className:"flex gap-4 relative",children:[R.jsxs("button",{onClick:o,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[R.jsx(rW,{})," COPY EMAIL"]}),n&&R.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:n})]})]}),R.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[R.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),R.jsxs("nav",{className:"flex gap-6",children:[R.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),R.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"}),R.jsx("a",{href:"#portfolio",className:"hover:text-blue-500 transition",children:"Portfolio"})]}),R.jsx("div",{className:"flex items-center gap-4",children:l.map(u=>R.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:u.icon},u.name))})]}),R.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})})]})}),oW=V.lazy(()=>dA(()=>import("./AdminPanel-B1UYO-ko.js"),[])),Kk={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"};Object.entries(Kk).forEach(([t,e])=>{e||console.error(`❌ Missing Firebase environment variable: ${t}. Please check your .env file.`)});let tf,_c,Qk,Xk;try{tf=Xb(Kk),_c=vN(tf),Qk=WL(tf),Xk=e6(tf)}catch(t){console.error("🔥 Firebase initialization failed:",t)}const aW=(t=768)=>{const[e,n]=V.useState(()=>typeof window<"u"?window.innerWidth<t:!1);return V.useEffect(()=>{if(typeof window>"u")return;const i=()=>n(window.innerWidth<t);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t]),e},lW=({projects:t=[],licensesPdfUrl:e="",internshipsPdfUrl:n="",isMobile:i})=>{const[r,o]=V.useState(!1),l=V.useCallback(()=>o(!1),[]),u=V.useCallback(()=>o(h=>!h),[]);return R.jsxs(R.Fragment,{children:[R.jsx(Aj,{isMobileMenuOpen:r,closeMobileMenu:l,toggleMobileMenu:u}),R.jsxs("main",{className:"relative z-10",children:[R.jsx(GH,{}),R.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[R.jsx(KH,{}),R.jsx(XH,{}),R.jsx(YH,{}),R.jsx(JH,{}),R.jsx(eW,{}),R.jsx(tW,{projects:t,isMobile:i}),R.jsx(iW,{licensesPdfUrl:e,internshipsPdfUrl:n})]})]}),R.jsx(sW,{})]})};function uW(){const[t,e]=V.useState({projects:[],licensesPdfUrl:"",internshipsPdfUrl:""}),[n,i]=V.useState(!0),[r,o]=V.useState(null),l=aW(),u=V.useCallback(async()=>{if(!_c){o("Firebase is not initialized. Check your .env settings."),i(!1);return}try{const f=(await ON(yN(_c,"projects"))).docs.map(T=>({id:T.id,...T.data()})),m=EI(_c,"portfolioAssets","main"),y=await MN(m),_=y.exists()?y.data():{};e({projects:f,licensesPdfUrl:_.licensesPdfUrl||"",internshipsPdfUrl:_.internshipsPdfUrl||""})}catch(h){console.error("❌ Firebase fetch error:",h),o("Failed to load portfolio data. Please try again later.")}finally{i(!1)}},[]);return V.useEffect(()=>{u()},[u]),n?R.jsx(gx,{}):r?R.jsx("div",{className:"text-center mt-20 p-4",children:R.jsx("h2",{className:"text-red-600 text-xl font-bold",children:r})}):R.jsxs(h6,{features:Ij,children:[R.jsx(kj,{}),R.jsx("div",{className:"relative text-slate-800 font-sans overflow-x-hidden",children:R.jsx(ak,{children:R.jsx(I2,{basename:"/Costas_Portfolio/",children:R.jsx(V.Suspense,{fallback:R.jsx(gx,{}),children:R.jsxs(i2,{children:[R.jsx(oy,{path:"/",element:R.jsx(lW,{projects:t.projects,licensesPdfUrl:t.licensesPdfUrl,internshipsPdfUrl:t.internshipsPdfUrl,isMobile:l})}),R.jsx(oy,{path:"/admin",element:R.jsx(oW,{db:_c,auth:Qk,storage:Xk})})]})})})})})]})}const cW=document.getElementById("root");uA.createRoot(cW).render(R.jsx(et.StrictMode,{children:R.jsx(ak,{children:R.jsx(uW,{})})}));export{p_ as A,gx as L,yW as a,fW as b,yN as c,pW as d,dW as e,EI as f,ON as g,wW as h,_W as i,R as j,Ze as m,gW as o,V as r,mW as s,vW as u};
