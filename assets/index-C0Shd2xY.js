(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function dw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var mf={exports:{}},cl={},gf={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function vI(){if(pv)return Re;pv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,U={};function b(O,K,ge){this.props=O,this.context=K,this.refs=U,this.updater=ge||C}b.prototype.isReactComponent={},b.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},b.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=b.prototype;function G(O,K,ge){this.props=O,this.context=K,this.refs=U,this.updater=ge||C}var J=G.prototype=new W;J.constructor=G,L(J,b.prototype),J.isPureReactComponent=!0;var se=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function I(O,K,ge){var Ce,xe={},be=null,je=null;if(K!=null)for(Ce in K.ref!==void 0&&(je=K.ref),K.key!==void 0&&(be=""+K.key),K)ie.call(K,Ce)&&!V.hasOwnProperty(Ce)&&(xe[Ce]=K[Ce]);var Ue=arguments.length-2;if(Ue===1)xe.children=ge;else if(1<Ue){for(var He=Array(Ue),It=0;It<Ue;It++)He[It]=arguments[It+2];xe.children=He}if(O&&O.defaultProps)for(Ce in Ue=O.defaultProps,Ue)xe[Ce]===void 0&&(xe[Ce]=Ue[Ce]);return{$$typeof:n,type:O,key:be,ref:je,props:xe,_owner:ue.current}}function x(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function M(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return K[ge]})}var F=/\/+/g;function R(O,K){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):K.toString(36)}function Je(O,K,ge,Ce,xe){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(be){case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case n:case e:je=!0}}if(je)return je=O,xe=xe(je),O=Ce===""?"."+R(je,0):Ce,se(xe)?(ge="",O!=null&&(ge=O.replace(F,"$&/")+"/"),Je(xe,K,ge,"",function(It){return It})):xe!=null&&(N(xe)&&(xe=x(xe,ge+(!xe.key||je&&je.key===xe.key?"":(""+xe.key).replace(F,"$&/")+"/")+O)),K.push(xe)),1;if(je=0,Ce=Ce===""?".":Ce+":",se(O))for(var Ue=0;Ue<O.length;Ue++){be=O[Ue];var He=Ce+R(be,Ue);je+=Je(be,K,ge,He,xe)}else if(He=E(O),typeof He=="function")for(O=He.call(O),Ue=0;!(be=O.next()).done;)be=be.value,He=Ce+R(be,Ue++),je+=Je(be,K,ge,He,xe);else if(be==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return je}function Vt(O,K,ge){if(O==null)return O;var Ce=[],xe=0;return Je(O,Ce,"","",function(be){return K.call(ge,be,xe++)}),Ce}function Nt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ae={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ue};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Vt,forEach:function(O,K,ge){Vt(O,function(){K.apply(this,arguments)},ge)},count:function(O){var K=0;return Vt(O,function(){K++}),K},toArray:function(O){return Vt(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=b,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=oe,Re.cloneElement=function(O,K,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Ce=L({},O.props),xe=O.key,be=O.ref,je=O._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,je=ue.current),K.key!==void 0&&(xe=""+K.key),O.type&&O.type.defaultProps)var Ue=O.type.defaultProps;for(He in K)ie.call(K,He)&&!V.hasOwnProperty(He)&&(Ce[He]=K[He]===void 0&&Ue!==void 0?Ue[He]:K[He])}var He=arguments.length-2;if(He===1)Ce.children=ge;else if(1<He){Ue=Array(He);for(var It=0;It<He;It++)Ue[It]=arguments[It+2];Ce.children=Ue}return{$$typeof:n,type:O.type,key:xe,ref:be,props:Ce,_owner:je}},Re.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:l,_context:O},O.Consumer=O},Re.createElement=I,Re.createFactory=function(O){var K=I.bind(null,O);return K.type=O,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:d,render:O}},Re.isValidElement=N,Re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Nt}},Re.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},Re.startTransition=function(O){var K=ne.transition;ne.transition={};try{O()}finally{ne.transition=K}},Re.unstable_act=oe,Re.useCallback=function(O,K){return Ae.current.useCallback(O,K)},Re.useContext=function(O){return Ae.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return Ae.current.useDeferredValue(O)},Re.useEffect=function(O,K){return Ae.current.useEffect(O,K)},Re.useId=function(){return Ae.current.useId()},Re.useImperativeHandle=function(O,K,ge){return Ae.current.useImperativeHandle(O,K,ge)},Re.useInsertionEffect=function(O,K){return Ae.current.useInsertionEffect(O,K)},Re.useLayoutEffect=function(O,K){return Ae.current.useLayoutEffect(O,K)},Re.useMemo=function(O,K){return Ae.current.useMemo(O,K)},Re.useReducer=function(O,K,ge){return Ae.current.useReducer(O,K,ge)},Re.useRef=function(O){return Ae.current.useRef(O)},Re.useState=function(O){return Ae.current.useState(O)},Re.useSyncExternalStore=function(O,K,ge){return Ae.current.useSyncExternalStore(O,K,ge)},Re.useTransition=function(){return Ae.current.useTransition()},Re.version="18.3.1",Re}var mv;function Mp(){return mv||(mv=1,gf.exports=vI()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function _I(){if(gv)return cl;gv=1;var n=Mp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},E=null,C=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)r.call(f,v)&&!l.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:C,props:w,_owner:o.current}}return cl.Fragment=t,cl.jsx=u,cl.jsxs=u,cl}var yv;function wI(){return yv||(yv=1,mf.exports=_I()),mf.exports}var P=wI(),te=Mp();const kt=dw(te);var yc={},yf={exports:{}},cn={},vf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function TI(){return vv||(vv=1,function(n){function e(ne,me){var oe=ne.length;ne.push(me);e:for(;0<oe;){var O=oe-1>>>1,K=ne[O];if(0<o(K,me))ne[O]=me,ne[oe]=K,oe=O;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],oe=ne.pop();if(oe!==me){ne[0]=oe;e:for(var O=0,K=ne.length,ge=K>>>1;O<ge;){var Ce=2*(O+1)-1,xe=ne[Ce],be=Ce+1,je=ne[be];if(0>o(xe,oe))be<K&&0>o(je,xe)?(ne[O]=je,ne[be]=oe,O=be):(ne[O]=xe,ne[Ce]=oe,O=Ce);else if(be<K&&0>o(je,oe))ne[O]=je,ne[be]=oe,O=be;else break e}}return me}function o(ne,me){var oe=ne.sortIndex-me.sortIndex;return oe!==0?oe:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,E=3,C=!1,L=!1,U=!1,b=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ne){for(var me=t(m);me!==null;){if(me.callback===null)r(m);else if(me.startTime<=ne)r(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function se(ne){if(U=!1,J(ne),!L)if(t(f)!==null)L=!0,Nt(ie);else{var me=t(m);me!==null&&Ae(se,me.startTime-ne)}}function ie(ne,me){L=!1,U&&(U=!1,W(I),I=-1),C=!0;var oe=E;try{for(J(me),w=t(f);w!==null&&(!(w.expirationTime>me)||ne&&!M());){var O=w.callback;if(typeof O=="function"){w.callback=null,E=w.priorityLevel;var K=O(w.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(f)&&r(f),J(me)}else r(f);w=t(f)}if(w!==null)var ge=!0;else{var Ce=t(m);Ce!==null&&Ae(se,Ce.startTime-me),ge=!1}return ge}finally{w=null,E=oe,C=!1}}var ue=!1,V=null,I=-1,x=5,N=-1;function M(){return!(n.unstable_now()-N<x)}function F(){if(V!==null){var ne=n.unstable_now();N=ne;var me=!0;try{me=V(!0,ne)}finally{me?R():(ue=!1,V=null)}}else ue=!1}var R;if(typeof G=="function")R=function(){G(F)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Vt=Je.port2;Je.port1.onmessage=F,R=function(){Vt.postMessage(null)}}else R=function(){b(F,0)};function Nt(ne){V=ne,ue||(ue=!0,R())}function Ae(ne,me){I=b(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){L||C||(L=!0,Nt(ie))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var oe=E;E=me;try{return ne()}finally{E=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=E;E=ne;try{return me()}finally{E=oe}},n.unstable_scheduleCallback=function(ne,me,oe){var O=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,ne={id:v++,callback:me,priorityLevel:ne,startTime:oe,expirationTime:K,sortIndex:-1},oe>O?(ne.sortIndex=oe,e(m,ne),t(f)===null&&ne===t(m)&&(U?(W(I),I=-1):U=!0,Ae(se,oe-O))):(ne.sortIndex=K,e(f,ne),L||C||(L=!0,Nt(ie))),ne},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ne){var me=E;return function(){var oe=E;E=me;try{return ne.apply(this,arguments)}finally{E=oe}}}}(_f)),_f}var _v;function EI(){return _v||(_v=1,vf.exports=TI()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function SI(){if(wv)return cn;wv=1;var n=Mp(),e=EI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function C(i,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function L(i,s,a,h){if(s===null||typeof s>"u"||C(i,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function U(i,s,a,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new U(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];b[s]=new U(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new U(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new U(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new U(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new U(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new U(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new U(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new U(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,G);b[s]=new U(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,G);b[s]=new U(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,G);b[s]=new U(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new U(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new U(i,1,!1,i.toLowerCase(),null,!0,!0)});function J(i,s,a,h){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,a,p,h)&&(a=null),h||p===null?E(s)&&(a===null?i.removeAttribute(s):i.setAttribute(s,""+a)):p.mustUseProperty?i[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,h=p.attributeNamespace,a===null?i.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?i.setAttributeNS(h,s,a):i.setAttribute(s,a))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,O;function K(i){if(O===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+i}var ge=!1;function Ce(i,s){if(!i||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,A=y.length-1;1<=T&&0<=A&&p[T]!==y[A];)A--;for(;1<=T&&0<=A;T--,A--)if(p[T]!==y[A]){if(T!==1||A!==1)do if(T--,A--,0>A||p[T]!==y[A]){var k=`
`+p[T].replace(" at new "," at ");return i.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",i.displayName)),k}while(1<=T&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(i=i?i.displayName||i.name:"")?K(i):""}function xe(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case V:return"Fragment";case ue:return"Portal";case x:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Je:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case F:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Vt:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case Nt:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function je(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function It(i){var s=He(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Sr(i){i._valueTracker||(i._valueTracker=It(i))}function Bs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==a?(s.setValue(i),!0):!1}function ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Xi(i,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??i._wrapperState.initialChecked})}function zs(i,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Ue(s.value!=null?s.value:a),i._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ga(i,s){s=s.checked,s!=null&&J(i,"checked",s,!1)}function ya(i,s){ga(i,s);var a=Ue(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+a):i.value!==""+a&&(i.value=""+a);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?$s(i,s.type,a):s.hasOwnProperty("defaultValue")&&$s(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function nu(i,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,a||s===i.value||(i.value=s),i.defaultValue=s}a=i.name,a!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,a!==""&&(i.name=a)}function $s(i,s,a){(s!=="number"||ei(i.ownerDocument)!==i)&&(a==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+a&&(i.defaultValue=""+a))}var Ir=Array.isArray;function Ar(i,s,a,h){if(i=i.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<i.length;a++)p=s.hasOwnProperty("$"+i[a].value),i[a].selected!==p&&(i[a].selected=p),p&&h&&(i[a].defaultSelected=!0)}else{for(a=""+Ue(a),s=null,p=0;p<i.length;p++){if(i[p].value===a){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function va(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Hs(i,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Ir(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}i._wrapperState={initialValue:Ue(a)}}function Ws(i,s){var a=Ue(s.value),h=Ue(s.defaultValue);a!=null&&(a=""+a,a!==i.value&&(i.value=a),s.defaultValue==null&&i.defaultValue!==a&&(i.defaultValue=a)),h!=null&&(i.defaultValue=""+h)}function _a(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function gt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?gt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Pr,wa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,a,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ti(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ji=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(i){Ji.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Yi[s]=Yi[i]})});function Ta(i,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Yi.hasOwnProperty(i)&&Yi[i]?(""+s).trim():s+"px"}function Ea(i,s){i=i.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=Ta(a,s[a],h);a==="float"&&(a="cssFloat"),h?i.setProperty(a,p):i[a]=p}}var Sa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ia(i,s){if(s){if(Sa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Aa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ks=null,Sn=null,er=null;function Gs(i){if(i=Qa(i)){if(typeof Ks!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Nu(s),Ks(i.stateNode,i.type,s))}}function tr(i){Sn?er?er.push(i):er=[i]:Sn=i}function Pa(){if(Sn){var i=Sn,s=er;if(er=Sn=null,Gs(i),s)for(i=0;i<s.length;i++)Gs(s[i])}}function es(i,s){return i(s)}function Ca(){}var Cr=!1;function xa(i,s,a){if(Cr)return i(s,a);Cr=!0;try{return es(i,s,a)}finally{Cr=!1,(Sn!==null||er!==null)&&(Ca(),Pa())}}function lt(i,s){var a=i.stateNode;if(a===null)return null;var h=Nu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Qs=!1;if(d)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Qs=!1}function ts(i,s,a,h,p,y,T,A,k){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(Y){this.onError(Y)}}var ns=!1,Xs=null,On=!1,Ra=null,zh={onError:function(i){ns=!0,Xs=i}};function Ys(i,s,a,h,p,y,T,A,k){ns=!1,Xs=null,ts.apply(zh,arguments)}function ru(i,s,a,h,p,y,T,A,k){if(Ys.apply(this,arguments),ns){if(ns){var $=Xs;ns=!1,Xs=null}else throw Error(t(198));On||(On=!0,Ra=$)}}function Fn(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function rs(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function jn(i){if(Fn(i)!==i)throw Error(t(188))}function iu(i){var s=i.alternate;if(!s){if(s=Fn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var a=i,h=s;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return jn(p),i;if(y===h)return jn(p),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=p,h=y;else{for(var T=!1,A=p.child;A;){if(A===a){T=!0,a=p,h=y;break}if(A===h){T=!0,h=p,a=y;break}A=A.sibling}if(!T){for(A=y.child;A;){if(A===a){T=!0,a=y,h=p;break}if(A===h){T=!0,h=y,a=p;break}A=A.sibling}if(!T)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?i:s}function ka(i){return i=iu(i),i!==null?Js(i):null}function Js(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Js(i);if(s!==null)return s;i=i.sibling}return null}var Zs=e.unstable_scheduleCallback,Va=e.unstable_cancelCallback,su=e.unstable_shouldYield,$h=e.unstable_requestPaint,We=e.unstable_now,ou=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Na=e.unstable_LowPriority,au=e.unstable_IdlePriority,ss=null,fn=null;function lu(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ss,i,void 0,(i.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:cu,Da=Math.log,uu=Math.LN2;function cu(i){return i>>>=0,i===0?32:31-(Da(i)/uu|0)|0}var eo=64,to=4194304;function ri(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function os(i,s){var a=i.pendingLanes;if(a===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=a&268435455;if(T!==0){var A=T&~p;A!==0?h=ri(A):(y&=T,y!==0&&(h=ri(y)))}else T=a&~p,T!==0?h=ri(T):y!==0&&(h=ri(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)a=31-Yt(s),p=1<<a,h|=i[a],s&=~p;return h}function Hh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(i,s){for(var a=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Yt(y),A=1<<T,k=p[T];k===-1?((A&a)===0||(A&h)!==0)&&(p[T]=Hh(A,s)):k<=s&&(i.expiredLanes|=A),y&=~A}}function pn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function as(){var i=eo;return eo<<=1,(eo&4194240)===0&&(eo=64),i}function ii(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function si(i,s,a){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Yt(s),i[s]=a}function $e(i,s){var a=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<a;){var p=31-Yt(a),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,a&=~y}}function oi(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var h=31-Yt(a),p=1<<h;p&s|i[h]&s&&(i[h]|=s),a&=~p}}var De=0;function ai(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var hu,no,du,fu,pu,ba=!1,nr=[],Dt=null,Un=null,Bn=null,li=new Map,An=new Map,rr=[],Wh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(i,s){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function nn(i,s,a,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Qa(s),s!==null&&no(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function qh(i,s,a,h,p){switch(s){case"focusin":return Dt=nn(Dt,i,s,a,h,p),!0;case"dragenter":return Un=nn(Un,i,s,a,h,p),!0;case"mouseover":return Bn=nn(Bn,i,s,a,h,p),!0;case"pointerover":var y=p.pointerId;return li.set(y,nn(li.get(y)||null,i,s,a,h,p)),!0;case"gotpointercapture":return y=p.pointerId,An.set(y,nn(An.get(y)||null,i,s,a,h,p)),!0}return!1}function gu(i){var s=ds(i.target);if(s!==null){var a=Fn(s);if(a!==null){if(s=a.tag,s===13){if(s=rs(a),s!==null){i.blockedOn=s,pu(i.priority,function(){du(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Rr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=ro(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(a===null){a=i.nativeEvent;var h=new a.constructor(a.type,a);Zi=h,a.target.dispatchEvent(h),Zi=null}else return s=Qa(a),s!==null&&no(s),i.blockedOn=a,!1;s.shift()}return!0}function ls(i,s,a){Rr(i)&&a.delete(s)}function yu(){ba=!1,Dt!==null&&Rr(Dt)&&(Dt=null),Un!==null&&Rr(Un)&&(Un=null),Bn!==null&&Rr(Bn)&&(Bn=null),li.forEach(ls),An.forEach(ls)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,ba||(ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yu)))}function $n(i){function s(p){return zn(p,i)}if(0<nr.length){zn(nr[0],i);for(var a=1;a<nr.length;a++){var h=nr[a];h.blockedOn===i&&(h.blockedOn=null)}}for(Dt!==null&&zn(Dt,i),Un!==null&&zn(Un,i),Bn!==null&&zn(Bn,i),li.forEach(s),An.forEach(s),a=0;a<rr.length;a++)h=rr[a],h.blockedOn===i&&(h.blockedOn=null);for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)gu(a),a.blockedOn===null&&rr.shift()}var kr=se.ReactCurrentBatchConfig,ui=!0;function Ze(i,s,a,h){var p=De,y=kr.transition;kr.transition=null;try{De=1,Ma(i,s,a,h)}finally{De=p,kr.transition=y}}function Kh(i,s,a,h){var p=De,y=kr.transition;kr.transition=null;try{De=4,Ma(i,s,a,h)}finally{De=p,kr.transition=y}}function Ma(i,s,a,h){if(ui){var p=ro(i,s,a,h);if(p===null)id(i,s,h,us,a),mu(i,h);else if(qh(p,i,s,a,h))h.stopPropagation();else if(mu(i,h),s&4&&-1<Wh.indexOf(i)){for(;p!==null;){var y=Qa(p);if(y!==null&&hu(y),y=ro(i,s,a,h),y===null&&id(i,s,h,us,a),y===p)break;p=y}p!==null&&h.stopPropagation()}else id(i,s,h,null,a)}}var us=null;function ro(i,s,a,h){if(us=null,i=qs(h),i=ds(i),i!==null)if(s=Fn(i),s===null)i=null;else if(a=s.tag,a===13){if(i=rs(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return us=i,null}function La(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ou()){case is:return 1;case ni:return 4;case In:case Na:return 16;case au:return 536870912;default:return 16}default:return 16}}var mn=null,io=null,rn=null;function Oa(){if(rn)return rn;var i,s=io,a=s.length,h,p="value"in mn?mn.value:mn.textContent,y=p.length;for(i=0;i<a&&s[i]===p[i];i++);var T=a-i;for(h=1;h<=T&&s[a-h]===p[y-h];h++);return rn=p.slice(i,1<h?1-h:void 0)}function so(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ir(){return!0}function Fa(){return!1}function bt(i){function s(a,h,p,y,T){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(a=i[A],this[A]=a?a(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ir:Fa,this.isPropagationStopped=Fa,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=bt(Hn),sr=oe({},Hn,{view:0,detail:0}),Gh=bt(sr),ao,Vr,ci,cs=oe({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ci&&(ci&&i.type==="mousemove"?(ao=i.screenX-ci.screenX,Vr=i.screenY-ci.screenY):Vr=ao=0,ci=i),ao)},movementY:function(i){return"movementY"in i?i.movementY:Vr}}),lo=bt(cs),ja=oe({},cs,{dataTransfer:0}),vu=bt(ja),uo=oe({},sr,{relatedTarget:0}),co=bt(uo),_u=oe({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Nr=bt(_u),wu=oe({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Tu=bt(wu),Eu=oe({},Hn,{data:0}),Ua=bt(Eu),ho={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Su[i])?!!s[i]:!1}function or(){return Iu}var c=oe({},sr,{key:function(i){if(i.key){var s=ho[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=so(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(i){return i.type==="keypress"?so(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?so(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=bt(c),_=oe({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=bt(_),j=oe({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),H=bt(j),re=oe({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=bt(re),vt=oe({},cs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=bt(vt),At=[9,13,27,32],dt=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var gn=d&&"TextEvent"in window&&!Pn,hs=d&&(!dt||Pn&&8<Pn&&11>=Pn),fo=" ",lg=!1;function ug(i,s){switch(i){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var po=!1;function mS(i,s){switch(i){case"compositionend":return cg(s);case"keypress":return s.which!==32?null:(lg=!0,fo);case"textInput":return i=s.data,i===fo&&lg?null:i;default:return null}}function gS(i,s){if(po)return i==="compositionend"||!dt&&ug(i,s)?(i=Oa(),rn=io=mn=null,po=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hs&&s.locale!=="ko"?null:s.data;default:return null}}var yS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!yS[i.type]:s==="textarea"}function dg(i,s,a,h){tr(h),s=Ru(s,"onChange"),0<s.length&&(a=new oo("onChange","change",null,a,h),i.push({event:a,listeners:s}))}var Ba=null,za=null;function vS(i){kg(i,0)}function Au(i){var s=_o(i);if(Bs(s))return i}function _S(i,s){if(i==="change")return s}var fg=!1;if(d){var Qh;if(d){var Xh="oninput"in document;if(!Xh){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Xh=typeof pg.oninput=="function"}Qh=Xh}else Qh=!1;fg=Qh&&(!document.documentMode||9<document.documentMode)}function mg(){Ba&&(Ba.detachEvent("onpropertychange",gg),za=Ba=null)}function gg(i){if(i.propertyName==="value"&&Au(za)){var s=[];dg(s,za,i,qs(i)),xa(vS,s)}}function wS(i,s,a){i==="focusin"?(mg(),Ba=s,za=a,Ba.attachEvent("onpropertychange",gg)):i==="focusout"&&mg()}function TS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Au(za)}function ES(i,s){if(i==="click")return Au(s)}function SS(i,s){if(i==="input"||i==="change")return Au(s)}function IS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:IS;function $a(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!f.call(s,p)||!Wn(i[p],s[p]))return!1}return!0}function yg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vg(i,s){var a=yg(i);i=0;for(var h;a;){if(a.nodeType===3){if(h=i+a.textContent.length,i<=s&&h>=s)return{node:a,offset:s-i};i=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yg(a)}}function _g(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?_g(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function wg(){for(var i=window,s=ei();s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=ei(i.document)}return s}function Yh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function AS(i){var s=wg(),a=i.focusedElem,h=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&_g(a.ownerDocument.documentElement,a)){if(h!==null&&Yh(a)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(i,a.value.length);else if(i=(s=a.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=a.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=vg(a,y);var T=vg(a,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=a;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)i=s[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var PS=d&&"documentMode"in document&&11>=document.documentMode,mo=null,Jh=null,Ha=null,Zh=!1;function Tg(i,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Zh||mo==null||mo!==ei(h)||(h=mo,"selectionStart"in h&&Yh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ha&&$a(Ha,h)||(Ha=h,h=Ru(Jh,"onSelect"),0<h.length&&(s=new oo("onSelect","select",null,s,a),i.push({event:s,listeners:h}),s.target=mo)))}function Pu(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var go={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},ed={},Eg={};d&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Cu(i){if(ed[i])return ed[i];if(!go[i])return i;var s=go[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in Eg)return ed[i]=s[a];return i}var Sg=Cu("animationend"),Ig=Cu("animationiteration"),Ag=Cu("animationstart"),Pg=Cu("transitionend"),Cg=new Map,xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(i,s){Cg.set(i,s),l(s,[i])}for(var td=0;td<xg.length;td++){var nd=xg[td],CS=nd.toLowerCase(),xS=nd[0].toUpperCase()+nd.slice(1);hi(CS,"on"+xS)}hi(Sg,"onAnimationEnd"),hi(Ig,"onAnimationIteration"),hi(Ag,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Pg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wa));function Rg(i,s,a){var h=i.type||"unknown-event";i.currentTarget=a,ru(h,s,void 0,i),i.currentTarget=null}function kg(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var h=i[a],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var A=h[T],k=A.instance,$=A.currentTarget;if(A=A.listener,k!==y&&p.isPropagationStopped())break e;Rg(p,A,$),y=k}else for(T=0;T<h.length;T++){if(A=h[T],k=A.instance,$=A.currentTarget,A=A.listener,k!==y&&p.isPropagationStopped())break e;Rg(p,A,$),y=k}}}if(On)throw i=Ra,On=!1,Ra=null,i}function Ke(i,s){var a=s[cd];a===void 0&&(a=s[cd]=new Set);var h=i+"__bubble";a.has(h)||(Vg(s,i,2,!1),a.add(h))}function rd(i,s,a){var h=0;s&&(h|=4),Vg(a,i,h,s)}var xu="_reactListening"+Math.random().toString(36).slice(2);function qa(i){if(!i[xu]){i[xu]=!0,r.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||rd(a,!1,i),rd(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xu]||(s[xu]=!0,rd("selectionchange",!1,s))}}function Vg(i,s,a,h){switch(La(s)){case 1:var p=Ze;break;case 4:p=Kh;break;default:p=Ma}a=p.bind(null,s,a,i),p=void 0,!Qs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,a,{capture:!0,passive:p}):i.addEventListener(s,a,!0):p!==void 0?i.addEventListener(s,a,{passive:p}):i.addEventListener(s,a,!1)}function id(i,s,a,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var A=h.stateNode.containerInfo;if(A===p||A.nodeType===8&&A.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var k=T.tag;if((k===3||k===4)&&(k=T.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;T=T.return}for(;A!==null;){if(T=ds(A),T===null)return;if(k=T.tag,k===5||k===6){h=y=T;continue e}A=A.parentNode}}h=h.return}xa(function(){var $=y,Y=qs(a),Z=[];e:{var X=Cg.get(i);if(X!==void 0){var ae=oo,he=i;switch(i){case"keypress":if(so(a)===0)break e;case"keydown":case"keyup":ae=g;break;case"focusin":he="focus",ae=co;break;case"focusout":he="blur",ae=co;break;case"beforeblur":case"afterblur":ae=co;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=H;break;case Sg:case Ig:case Ag:ae=Nr;break;case Pg:ae=ze;break;case"scroll":ae=Gh;break;case"wheel":ae=Me;break;case"copy":case"cut":case"paste":ae=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=S}var de=(s&4)!==0,ut=!de&&i==="scroll",B=de?X!==null?X+"Capture":null:X;de=[];for(var D=$,z;D!==null;){z=D;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,B!==null&&(ee=lt(D,B),ee!=null&&de.push(Ka(D,ee,z)))),ut)break;D=D.return}0<de.length&&(X=new ae(X,he,null,a,Y),Z.push({event:X,listeners:de}))}}if((s&7)===0){e:{if(X=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",X&&a!==Zi&&(he=a.relatedTarget||a.fromElement)&&(ds(he)||he[Dr]))break e;if((ae||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=$,he=he?ds(he):null,he!==null&&(ut=Fn(he),he!==ut||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(de=lo,ee="onMouseLeave",B="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(de=S,ee="onPointerLeave",B="onPointerEnter",D="pointer"),ut=ae==null?X:_o(ae),z=he==null?X:_o(he),X=new de(ee,D+"leave",ae,a,Y),X.target=ut,X.relatedTarget=z,ee=null,ds(Y)===$&&(de=new de(B,D+"enter",he,a,Y),de.target=z,de.relatedTarget=ut,ee=de),ut=ee,ae&&he)t:{for(de=ae,B=he,D=0,z=de;z;z=yo(z))D++;for(z=0,ee=B;ee;ee=yo(ee))z++;for(;0<D-z;)de=yo(de),D--;for(;0<z-D;)B=yo(B),z--;for(;D--;){if(de===B||B!==null&&de===B.alternate)break t;de=yo(de),B=yo(B)}de=null}else de=null;ae!==null&&Ng(Z,X,ae,de,!1),he!==null&&ut!==null&&Ng(Z,ut,he,de,!0)}}e:{if(X=$?_o($):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var pe=_S;else if(hg(X))if(fg)pe=SS;else{pe=TS;var ve=wS}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=ES);if(pe&&(pe=pe(i,$))){dg(Z,pe,a,Y);break e}ve&&ve(i,X,$),i==="focusout"&&(ve=X._wrapperState)&&ve.controlled&&X.type==="number"&&$s(X,"number",X.value)}switch(ve=$?_o($):window,i){case"focusin":(hg(ve)||ve.contentEditable==="true")&&(mo=ve,Jh=$,Ha=null);break;case"focusout":Ha=Jh=mo=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Tg(Z,a,Y);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Tg(Z,a,Y)}var _e;if(dt)e:{switch(i){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else po?ug(i,a)&&(Ee="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(hs&&a.locale!=="ko"&&(po||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&po&&(_e=Oa()):(mn=Y,io="value"in mn?mn.value:mn.textContent,po=!0)),ve=Ru($,Ee),0<ve.length&&(Ee=new Ua(Ee,i,null,a,Y),Z.push({event:Ee,listeners:ve}),_e?Ee.data=_e:(_e=cg(a),_e!==null&&(Ee.data=_e)))),(_e=gn?mS(i,a):gS(i,a))&&($=Ru($,"onBeforeInput"),0<$.length&&(Y=new Ua("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:$}),Y.data=_e))}kg(Z,s)})}function Ka(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Ru(i,s){for(var a=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=lt(i,a),y!=null&&h.unshift(Ka(i,y,p)),y=lt(i,s),y!=null&&h.push(Ka(i,y,p))),i=i.return}return h}function yo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ng(i,s,a,h,p){for(var y=s._reactName,T=[];a!==null&&a!==h;){var A=a,k=A.alternate,$=A.stateNode;if(k!==null&&k===h)break;A.tag===5&&$!==null&&(A=$,p?(k=lt(a,y),k!=null&&T.unshift(Ka(a,k,A))):p||(k=lt(a,y),k!=null&&T.push(Ka(a,k,A)))),a=a.return}T.length!==0&&i.push({event:s,listeners:T})}var kS=/\r\n?/g,VS=/\u0000|\uFFFD/g;function Dg(i){return(typeof i=="string"?i:""+i).replace(kS,`
`).replace(VS,"")}function ku(i,s,a){if(s=Dg(s),Dg(i)!==s&&a)throw Error(t(425))}function Vu(){}var sd=null,od=null;function ad(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ld=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(i){return bg.resolve(null).then(i).catch(bS)}:ld;function bS(i){setTimeout(function(){throw i})}function ud(i,s){var a=s,h=0;do{var p=a.nextSibling;if(i.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){i.removeChild(p),$n(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);$n(s)}function di(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Mg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}var vo=Math.random().toString(36).slice(2),ar="__reactFiber$"+vo,Ga="__reactProps$"+vo,Dr="__reactContainer$"+vo,cd="__reactEvents$"+vo,MS="__reactListeners$"+vo,LS="__reactHandles$"+vo;function ds(i){var s=i[ar];if(s)return s;for(var a=i.parentNode;a;){if(s=a[Dr]||a[ar]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Mg(i);i!==null;){if(a=i[ar])return a;i=Mg(i)}return s}i=a,a=i.parentNode}return null}function Qa(i){return i=i[ar]||i[Dr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function _o(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Nu(i){return i[Ga]||null}var hd=[],wo=-1;function fi(i){return{current:i}}function Ge(i){0>wo||(i.current=hd[wo],hd[wo]=null,wo--)}function qe(i,s){wo++,hd[wo]=i.current,i.current=s}var pi={},Bt=fi(pi),sn=fi(!1),fs=pi;function To(i,s){var a=i.type.contextTypes;if(!a)return pi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function on(i){return i=i.childContextTypes,i!=null}function Du(){Ge(sn),Ge(Bt)}function Lg(i,s,a){if(Bt.current!==pi)throw Error(t(168));qe(Bt,s),qe(sn,a)}function Og(i,s,a){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,je(i)||"Unknown",p));return oe({},a,h)}function bu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pi,fs=Bt.current,qe(Bt,i),qe(sn,sn.current),!0}function Fg(i,s,a){var h=i.stateNode;if(!h)throw Error(t(169));a?(i=Og(i,s,fs),h.__reactInternalMemoizedMergedChildContext=i,Ge(sn),Ge(Bt),qe(Bt,i)):Ge(sn),qe(sn,a)}var br=null,Mu=!1,dd=!1;function jg(i){br===null?br=[i]:br.push(i)}function OS(i){Mu=!0,jg(i)}function mi(){if(!dd&&br!==null){dd=!0;var i=0,s=De;try{var a=br;for(De=1;i<a.length;i++){var h=a[i];do h=h(!0);while(h!==null)}br=null,Mu=!1}catch(p){throw br!==null&&(br=br.slice(i+1)),Zs(is,mi),p}finally{De=s,dd=!1}}return null}var Eo=[],So=0,Lu=null,Ou=0,Cn=[],xn=0,ps=null,Mr=1,Lr="";function ms(i,s){Eo[So++]=Ou,Eo[So++]=Lu,Lu=i,Ou=s}function Ug(i,s,a){Cn[xn++]=Mr,Cn[xn++]=Lr,Cn[xn++]=ps,ps=i;var h=Mr;i=Lr;var p=32-Yt(h)-1;h&=~(1<<p),a+=1;var y=32-Yt(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Mr=1<<32-Yt(s)+p|a<<p|h,Lr=y+i}else Mr=1<<y|a<<p|h,Lr=i}function fd(i){i.return!==null&&(ms(i,1),Ug(i,1,0))}function pd(i){for(;i===Lu;)Lu=Eo[--So],Eo[So]=null,Ou=Eo[--So],Eo[So]=null;for(;i===ps;)ps=Cn[--xn],Cn[xn]=null,Lr=Cn[--xn],Cn[xn]=null,Mr=Cn[--xn],Cn[xn]=null}var yn=null,vn=null,et=!1,qn=null;function Bg(i,s){var a=Nn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=i,s=i.deletions,s===null?(i.deletions=[a],i.flags|=16):s.push(a)}function zg(i,s){switch(i.tag){case 5:var a=i.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,yn=i,vn=di(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,yn=i,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ps!==null?{id:Mr,overflow:Lr}:null,i.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Nn(18,null,null,0),a.stateNode=s,a.return=i,i.child=a,yn=i,vn=null,!0):!1;default:return!1}}function md(i){return(i.mode&1)!==0&&(i.flags&128)===0}function gd(i){if(et){var s=vn;if(s){var a=s;if(!zg(i,s)){if(md(i))throw Error(t(418));s=di(a.nextSibling);var h=yn;s&&zg(i,s)?Bg(h,a):(i.flags=i.flags&-4097|2,et=!1,yn=i)}}else{if(md(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,yn=i}}}function $g(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function Fu(i){if(i!==yn)return!1;if(!et)return $g(i),et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ad(i.type,i.memoizedProps)),s&&(s=vn)){if(md(i))throw Hg(),Error(t(418));for(;s;)Bg(i,s),s=di(s.nextSibling)}if($g(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"){if(s===0){vn=di(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}i=i.nextSibling}vn=null}}else vn=yn?di(i.stateNode.nextSibling):null;return!0}function Hg(){for(var i=vn;i;)i=di(i.nextSibling)}function Io(){vn=yn=null,et=!1}function yd(i){qn===null?qn=[i]:qn.push(i)}var FS=se.ReactCurrentBatchConfig;function Xa(i,s,a){if(i=a.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var A=p.refs;T===null?delete A[y]:A[y]=T},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,i))}return i}function ju(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Wg(i){var s=i._init;return s(i._payload)}function qg(i){function s(B,D){if(i){var z=B.deletions;z===null?(B.deletions=[D],B.flags|=16):z.push(D)}}function a(B,D){if(!i)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function p(B,D){return B=Si(B,D),B.index=0,B.sibling=null,B}function y(B,D,z){return B.index=z,i?(z=B.alternate,z!==null?(z=z.index,z<D?(B.flags|=2,D):z):(B.flags|=2,D)):(B.flags|=1048576,D)}function T(B){return i&&B.alternate===null&&(B.flags|=2),B}function A(B,D,z,ee){return D===null||D.tag!==6?(D=uf(z,B.mode,ee),D.return=B,D):(D=p(D,z),D.return=B,D)}function k(B,D,z,ee){var pe=z.type;return pe===V?Y(B,D,z.props.children,ee,z.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Nt&&Wg(pe)===D.type)?(ee=p(D,z.props),ee.ref=Xa(B,D,z),ee.return=B,ee):(ee=uc(z.type,z.key,z.props,null,B.mode,ee),ee.ref=Xa(B,D,z),ee.return=B,ee)}function $(B,D,z,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=cf(z,B.mode,ee),D.return=B,D):(D=p(D,z.children||[]),D.return=B,D)}function Y(B,D,z,ee,pe){return D===null||D.tag!==7?(D=Ss(z,B.mode,ee,pe),D.return=B,D):(D=p(D,z),D.return=B,D)}function Z(B,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=uf(""+D,B.mode,z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ie:return z=uc(D.type,D.key,D.props,null,B.mode,z),z.ref=Xa(B,null,D),z.return=B,z;case ue:return D=cf(D,B.mode,z),D.return=B,D;case Nt:var ee=D._init;return Z(B,ee(D._payload),z)}if(Ir(D)||me(D))return D=Ss(D,B.mode,z,null),D.return=B,D;ju(B,D)}return null}function X(B,D,z,ee){var pe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:A(B,D,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:return z.key===pe?k(B,D,z,ee):null;case ue:return z.key===pe?$(B,D,z,ee):null;case Nt:return pe=z._init,X(B,D,pe(z._payload),ee)}if(Ir(z)||me(z))return pe!==null?null:Y(B,D,z,ee,null);ju(B,z)}return null}function ae(B,D,z,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return B=B.get(z)||null,A(D,B,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ie:return B=B.get(ee.key===null?z:ee.key)||null,k(D,B,ee,pe);case ue:return B=B.get(ee.key===null?z:ee.key)||null,$(D,B,ee,pe);case Nt:var ve=ee._init;return ae(B,D,z,ve(ee._payload),pe)}if(Ir(ee)||me(ee))return B=B.get(z)||null,Y(D,B,ee,pe,null);ju(D,ee)}return null}function he(B,D,z,ee){for(var pe=null,ve=null,_e=D,Ee=D=0,xt=null;_e!==null&&Ee<z.length;Ee++){_e.index>Ee?(xt=_e,_e=null):xt=_e.sibling;var Fe=X(B,_e,z[Ee],ee);if(Fe===null){_e===null&&(_e=xt);break}i&&_e&&Fe.alternate===null&&s(B,_e),D=y(Fe,D,Ee),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe,_e=xt}if(Ee===z.length)return a(B,_e),et&&ms(B,Ee),pe;if(_e===null){for(;Ee<z.length;Ee++)_e=Z(B,z[Ee],ee),_e!==null&&(D=y(_e,D,Ee),ve===null?pe=_e:ve.sibling=_e,ve=_e);return et&&ms(B,Ee),pe}for(_e=h(B,_e);Ee<z.length;Ee++)xt=ae(_e,B,Ee,z[Ee],ee),xt!==null&&(i&&xt.alternate!==null&&_e.delete(xt.key===null?Ee:xt.key),D=y(xt,D,Ee),ve===null?pe=xt:ve.sibling=xt,ve=xt);return i&&_e.forEach(function(Ii){return s(B,Ii)}),et&&ms(B,Ee),pe}function de(B,D,z,ee){var pe=me(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ve=pe=null,_e=D,Ee=D=0,xt=null,Fe=z.next();_e!==null&&!Fe.done;Ee++,Fe=z.next()){_e.index>Ee?(xt=_e,_e=null):xt=_e.sibling;var Ii=X(B,_e,Fe.value,ee);if(Ii===null){_e===null&&(_e=xt);break}i&&_e&&Ii.alternate===null&&s(B,_e),D=y(Ii,D,Ee),ve===null?pe=Ii:ve.sibling=Ii,ve=Ii,_e=xt}if(Fe.done)return a(B,_e),et&&ms(B,Ee),pe;if(_e===null){for(;!Fe.done;Ee++,Fe=z.next())Fe=Z(B,Fe.value,ee),Fe!==null&&(D=y(Fe,D,Ee),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe);return et&&ms(B,Ee),pe}for(_e=h(B,_e);!Fe.done;Ee++,Fe=z.next())Fe=ae(_e,B,Ee,Fe.value,ee),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ee:Fe.key),D=y(Fe,D,Ee),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(yI){return s(B,yI)}),et&&ms(B,Ee),pe}function ut(B,D,z,ee){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:e:{for(var pe=z.key,ve=D;ve!==null;){if(ve.key===pe){if(pe=z.type,pe===V){if(ve.tag===7){a(B,ve.sibling),D=p(ve,z.props.children),D.return=B,B=D;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Nt&&Wg(pe)===ve.type){a(B,ve.sibling),D=p(ve,z.props),D.ref=Xa(B,ve,z),D.return=B,B=D;break e}a(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===V?(D=Ss(z.props.children,B.mode,ee,z.key),D.return=B,B=D):(ee=uc(z.type,z.key,z.props,null,B.mode,ee),ee.ref=Xa(B,D,z),ee.return=B,B=ee)}return T(B);case ue:e:{for(ve=z.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(B,D.sibling),D=p(D,z.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=cf(z,B.mode,ee),D.return=B,B=D}return T(B);case Nt:return ve=z._init,ut(B,D,ve(z._payload),ee)}if(Ir(z))return he(B,D,z,ee);if(me(z))return de(B,D,z,ee);ju(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(B,D.sibling),D=p(D,z),D.return=B,B=D):(a(B,D),D=uf(z,B.mode,ee),D.return=B,B=D),T(B)):a(B,D)}return ut}var Ao=qg(!0),Kg=qg(!1),Uu=fi(null),Bu=null,Po=null,vd=null;function _d(){vd=Po=Bu=null}function wd(i){var s=Uu.current;Ge(Uu),i._currentValue=s}function Td(i,s,a){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===a)break;i=i.return}}function Co(i,s){Bu=i,vd=Po=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(an=!0),i.firstContext=null)}function Rn(i){var s=i._currentValue;if(vd!==i)if(i={context:i,memoizedValue:s,next:null},Po===null){if(Bu===null)throw Error(t(308));Po=i,Bu.dependencies={lanes:0,firstContext:i}}else Po=Po.next=i;return s}var gs=null;function Ed(i){gs===null?gs=[i]:gs.push(i)}function Gg(i,s,a,h){var p=s.interleaved;return p===null?(a.next=a,Ed(s)):(a.next=p.next,p.next=a),s.interleaved=a,Or(i,h)}function Or(i,s){i.lanes|=s;var a=i.alternate;for(a!==null&&(a.lanes|=s),a=i,i=i.return;i!==null;)i.childLanes|=s,a=i.alternate,a!==null&&(a.childLanes|=s),a=i,i=i.return;return a.tag===3?a.stateNode:null}var gi=!1;function Sd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Fr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(i,s,a){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Or(i,a)}return p=h.interleaved,p===null?(s.next=s,Ed(h)):(s.next=p.next,p.next=s),h.interleaved=s,Or(i,a)}function zu(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,a|=h,s.lanes=a,oi(i,a)}}function Xg(i,s){var a=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var T={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=T:y=y.next=T,a=a.next}while(a!==null);y===null?p=y=s:y=y.next=s}else p=y=s;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}function $u(i,s,a,h){var p=i.updateQueue;gi=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var k=A,$=k.next;k.next=null,T===null?y=$:T.next=$,T=k;var Y=i.alternate;Y!==null&&(Y=Y.updateQueue,A=Y.lastBaseUpdate,A!==T&&(A===null?Y.firstBaseUpdate=$:A.next=$,Y.lastBaseUpdate=k))}if(y!==null){var Z=p.baseState;T=0,Y=$=k=null,A=y;do{var X=A.lane,ae=A.eventTime;if((h&X)===X){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var he=i,de=A;switch(X=s,ae=a,de.tag){case 1:if(he=de.payload,typeof he=="function"){Z=he.call(ae,Z,X);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,X=typeof he=="function"?he.call(ae,Z,X):he,X==null)break e;Z=oe({},Z,X);break e;case 2:gi=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,X=p.effects,X===null?p.effects=[A]:X.push(A))}else ae={eventTime:ae,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Y===null?($=Y=ae,k=Z):Y=Y.next=ae,T|=X;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;X=A,A=X.next,X.next=null,p.lastBaseUpdate=X,p.shared.pending=null}}while(!0);if(Y===null&&(k=Z),p.baseState=k,p.firstBaseUpdate=$,p.lastBaseUpdate=Y,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);_s|=T,i.lanes=T,i.memoizedState=Z}}function Yg(i,s,a){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Ya={},lr=fi(Ya),Ja=fi(Ya),Za=fi(Ya);function ys(i){if(i===Ya)throw Error(t(174));return i}function Id(i,s){switch(qe(Za,s),qe(Ja,i),qe(lr,Ya),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=yt(s,i)}Ge(lr),qe(lr,s)}function xo(){Ge(lr),Ge(Ja),Ge(Za)}function Jg(i){ys(Za.current);var s=ys(lr.current),a=yt(s,i.type);s!==a&&(qe(Ja,i),qe(lr,a))}function Ad(i){Ja.current===i&&(Ge(lr),Ge(Ja))}var tt=fi(0);function Hu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pd=[];function Cd(){for(var i=0;i<Pd.length;i++)Pd[i]._workInProgressVersionPrimary=null;Pd.length=0}var Wu=se.ReactCurrentDispatcher,xd=se.ReactCurrentBatchConfig,vs=0,nt=null,_t=null,Pt=null,qu=!1,el=!1,tl=0,jS=0;function zt(){throw Error(t(321))}function Rd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Wn(i[a],s[a]))return!1;return!0}function kd(i,s,a,h,p,y){if(vs=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Wu.current=i===null||i.memoizedState===null?$S:HS,i=a(h,p),el){y=0;do{if(el=!1,tl=0,25<=y)throw Error(t(301));y+=1,Pt=_t=null,s.updateQueue=null,Wu.current=WS,i=a(h,p)}while(el)}if(Wu.current=Qu,s=_t!==null&&_t.next!==null,vs=0,Pt=_t=nt=null,qu=!1,s)throw Error(t(300));return i}function Vd(){var i=tl!==0;return tl=0,i}function ur(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?nt.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function kn(){if(_t===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var s=Pt===null?nt.memoizedState:Pt.next;if(s!==null)Pt=s,_t=i;else{if(i===null)throw Error(t(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Pt===null?nt.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function nl(i,s){return typeof s=="function"?s(i):s}function Nd(i){var s=kn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=i;var h=_t,p=h.baseQueue,y=a.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,h=h.baseState;var A=T=null,k=null,$=y;do{var Y=$.lane;if((vs&Y)===Y)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var Z={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(A=k=Z,T=h):k=k.next=Z,nt.lanes|=Y,_s|=Y}$=$.next}while($!==null&&$!==y);k===null?T=h:k.next=A,Wn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=k,a.lastRenderedState=h}if(i=a.interleaved,i!==null){p=i;do y=p.lane,nt.lanes|=y,_s|=y,p=p.next;while(p!==i)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Dd(i){var s=kn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=i;var h=a.dispatch,p=a.pending,y=s.memoizedState;if(p!==null){a.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);Wn(y,s.memoizedState)||(an=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Zg(){}function ey(i,s){var a=nt,h=kn(),p=s(),y=!Wn(h.memoizedState,p);if(y&&(h.memoizedState=p,an=!0),h=h.queue,bd(ry.bind(null,a,h,i),[i]),h.getSnapshot!==s||y||Pt!==null&&Pt.memoizedState.tag&1){if(a.flags|=2048,rl(9,ny.bind(null,a,h,p,s),void 0,null),Ct===null)throw Error(t(349));(vs&30)!==0||ty(a,s,p)}return p}function ty(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ny(i,s,a,h){s.value=a,s.getSnapshot=h,iy(s)&&sy(i)}function ry(i,s,a){return a(function(){iy(s)&&sy(i)})}function iy(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Wn(i,a)}catch{return!0}}function sy(i){var s=Or(i,1);s!==null&&Xn(s,i,1,-1)}function oy(i){var s=ur();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nl,lastRenderedState:i},s.queue=i,i=i.dispatch=zS.bind(null,nt,i),[s.memoizedState,i]}function rl(i,s,a,h){return i={tag:i,create:s,destroy:a,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=i.next=i):(a=s.lastEffect,a===null?s.lastEffect=i.next=i:(h=a.next,a.next=i,i.next=h,s.lastEffect=i)),i}function ay(){return kn().memoizedState}function Ku(i,s,a,h){var p=ur();nt.flags|=i,p.memoizedState=rl(1|s,a,void 0,h===void 0?null:h)}function Gu(i,s,a,h){var p=kn();h=h===void 0?null:h;var y=void 0;if(_t!==null){var T=_t.memoizedState;if(y=T.destroy,h!==null&&Rd(h,T.deps)){p.memoizedState=rl(s,a,y,h);return}}nt.flags|=i,p.memoizedState=rl(1|s,a,y,h)}function ly(i,s){return Ku(8390656,8,i,s)}function bd(i,s){return Gu(2048,8,i,s)}function uy(i,s){return Gu(4,2,i,s)}function cy(i,s){return Gu(4,4,i,s)}function hy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function dy(i,s,a){return a=a!=null?a.concat([i]):null,Gu(4,4,hy.bind(null,s,i),a)}function Md(){}function fy(i,s){var a=kn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Rd(s,h[1])?h[0]:(a.memoizedState=[i,s],i)}function py(i,s){var a=kn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Rd(s,h[1])?h[0]:(i=i(),a.memoizedState=[i,s],i)}function my(i,s,a){return(vs&21)===0?(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=a):(Wn(a,s)||(a=as(),nt.lanes|=a,_s|=a,i.baseState=!0),s)}function US(i,s){var a=De;De=a!==0&&4>a?a:4,i(!0);var h=xd.transition;xd.transition={};try{i(!1),s()}finally{De=a,xd.transition=h}}function gy(){return kn().memoizedState}function BS(i,s,a){var h=Ti(i);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},yy(i))vy(s,a);else if(a=Gg(i,s,a,h),a!==null){var p=en();Xn(a,i,h,p),_y(a,s,h)}}function zS(i,s,a){var h=Ti(i),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(yy(i))vy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,A=y(T,a);if(p.hasEagerState=!0,p.eagerState=A,Wn(A,T)){var k=s.interleaved;k===null?(p.next=p,Ed(s)):(p.next=k.next,k.next=p),s.interleaved=p;return}}catch{}finally{}a=Gg(i,s,p,h),a!==null&&(p=en(),Xn(a,i,h,p),_y(a,s,h))}}function yy(i){var s=i.alternate;return i===nt||s!==null&&s===nt}function vy(i,s){el=qu=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function _y(i,s,a){if((a&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,a|=h,s.lanes=a,oi(i,a)}}var Qu={readContext:Rn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},$S={readContext:Rn,useCallback:function(i,s){return ur().memoizedState=[i,s===void 0?null:s],i},useContext:Rn,useEffect:ly,useImperativeHandle:function(i,s,a){return a=a!=null?a.concat([i]):null,Ku(4194308,4,hy.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Ku(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ku(4,2,i,s)},useMemo:function(i,s){var a=ur();return s=s===void 0?null:s,i=i(),a.memoizedState=[i,s],i},useReducer:function(i,s,a){var h=ur();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=BS.bind(null,nt,i),[h.memoizedState,i]},useRef:function(i){var s=ur();return i={current:i},s.memoizedState=i},useState:oy,useDebugValue:Md,useDeferredValue:function(i){return ur().memoizedState=i},useTransition:function(){var i=oy(!1),s=i[0];return i=US.bind(null,i[1]),ur().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,a){var h=nt,p=ur();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ct===null)throw Error(t(349));(vs&30)!==0||ty(h,s,a)}p.memoizedState=a;var y={value:a,getSnapshot:s};return p.queue=y,ly(ry.bind(null,h,y,i),[i]),h.flags|=2048,rl(9,ny.bind(null,h,y,a,s),void 0,null),a},useId:function(){var i=ur(),s=Ct.identifierPrefix;if(et){var a=Lr,h=Mr;a=(h&~(1<<32-Yt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=tl++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=jS++,s=":"+s+"r"+a.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},HS={readContext:Rn,useCallback:fy,useContext:Rn,useEffect:bd,useImperativeHandle:dy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:Nd,useRef:ay,useState:function(){return Nd(nl)},useDebugValue:Md,useDeferredValue:function(i){var s=kn();return my(s,_t.memoizedState,i)},useTransition:function(){var i=Nd(nl)[0],s=kn().memoizedState;return[i,s]},useMutableSource:Zg,useSyncExternalStore:ey,useId:gy,unstable_isNewReconciler:!1},WS={readContext:Rn,useCallback:fy,useContext:Rn,useEffect:bd,useImperativeHandle:dy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:py,useReducer:Dd,useRef:ay,useState:function(){return Dd(nl)},useDebugValue:Md,useDeferredValue:function(i){var s=kn();return _t===null?s.memoizedState=i:my(s,_t.memoizedState,i)},useTransition:function(){var i=Dd(nl)[0],s=kn().memoizedState;return[i,s]},useMutableSource:Zg,useSyncExternalStore:ey,useId:gy,unstable_isNewReconciler:!1};function Kn(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var a in i)s[a]===void 0&&(s[a]=i[a]);return s}return s}function Ld(i,s,a,h){s=i.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Xu={isMounted:function(i){return(i=i._reactInternals)?Fn(i)===i:!1},enqueueSetState:function(i,s,a){i=i._reactInternals;var h=en(),p=Ti(i),y=Fr(h,p);y.payload=s,a!=null&&(y.callback=a),s=yi(i,y,p),s!==null&&(Xn(s,i,p,h),zu(s,i,p))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var h=en(),p=Ti(i),y=Fr(h,p);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=yi(i,y,p),s!==null&&(Xn(s,i,p,h),zu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=en(),h=Ti(i),p=Fr(a,h);p.tag=2,s!=null&&(p.callback=s),s=yi(i,p,h),s!==null&&(Xn(s,i,h,a),zu(s,i,h))}};function wy(i,s,a,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!$a(a,h)||!$a(p,y):!0}function Ty(i,s,a){var h=!1,p=pi,y=s.contextType;return typeof y=="object"&&y!==null?y=Rn(y):(p=on(s)?fs:Bt.current,h=s.contextTypes,y=(h=h!=null)?To(i,p):pi),s=new s(a,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xu,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function Ey(i,s,a,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==i&&Xu.enqueueReplaceState(s,s.state,null)}function Od(i,s,a,h){var p=i.stateNode;p.props=a,p.state=i.memoizedState,p.refs={},Sd(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Rn(y):(y=on(s)?fs:Bt.current,p.context=To(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Ld(i,s,y,a),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Xu.enqueueReplaceState(p,p.state,null),$u(i,a,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Ro(i,s){try{var a="",h=s;do a+=xe(h),h=h.return;while(h);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function Fd(i,s,a){return{value:i,source:null,stack:a??null,digest:s??null}}function jd(i,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var qS=typeof WeakMap=="function"?WeakMap:Map;function Sy(i,s,a){a=Fr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){rc||(rc=!0,ef=h),jd(i,s)},a}function Iy(i,s,a){a=Fr(-1,a),a.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;a.payload=function(){return h(p)},a.callback=function(){jd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){jd(i,s),typeof h!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),a}function Ay(i,s,a){var h=i.pingCache;if(h===null){h=i.pingCache=new qS;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(a)||(p.add(a),i=oI.bind(null,i,s,a),s.then(i,i))}function Py(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Cy(i,s,a,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Fr(-1,1),s.tag=2,yi(a,s,1))),a.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var KS=se.ReactCurrentOwner,an=!1;function Zt(i,s,a,h){s.child=i===null?Kg(s,null,a,h):Ao(s,i.child,a,h)}function xy(i,s,a,h,p){a=a.render;var y=s.ref;return Co(s,p),h=kd(i,s,a,h,y,p),a=Vd(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,jr(i,s,p)):(et&&a&&fd(s),s.flags|=1,Zt(i,s,h,p),s.child)}function Ry(i,s,a,h,p){if(i===null){var y=a.type;return typeof y=="function"&&!lf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,ky(i,s,y,h,p)):(i=uc(a.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(a=a.compare,a=a!==null?a:$a,a(T,h)&&i.ref===s.ref)return jr(i,s,p)}return s.flags|=1,i=Si(y,h),i.ref=s.ref,i.return=s,s.child=i}function ky(i,s,a,h,p){if(i!==null){var y=i.memoizedProps;if($a(y,h)&&i.ref===s.ref)if(an=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(an=!0);else return s.lanes=i.lanes,jr(i,s,p)}return Ud(i,s,a,h,p)}function Vy(i,s,a){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Vo,_n),_n|=a;else{if((a&1073741824)===0)return i=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,qe(Vo,_n),_n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,qe(Vo,_n),_n|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,qe(Vo,_n),_n|=h;return Zt(i,s,p,a),s.child}function Ny(i,s){var a=s.ref;(i===null&&a!==null||i!==null&&i.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ud(i,s,a,h,p){var y=on(a)?fs:Bt.current;return y=To(s,y),Co(s,p),a=kd(i,s,a,h,y,p),h=Vd(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,jr(i,s,p)):(et&&h&&fd(s),s.flags|=1,Zt(i,s,a,p),s.child)}function Dy(i,s,a,h,p){if(on(a)){var y=!0;bu(s)}else y=!1;if(Co(s,p),s.stateNode===null)Ju(i,s),Ty(s,a,h),Od(s,a,h,p),h=!0;else if(i===null){var T=s.stateNode,A=s.memoizedProps;T.props=A;var k=T.context,$=a.contextType;typeof $=="object"&&$!==null?$=Rn($):($=on(a)?fs:Bt.current,$=To(s,$));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof T.getSnapshotBeforeUpdate=="function";Z||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==h||k!==$)&&Ey(s,T,h,$),gi=!1;var X=s.memoizedState;T.state=X,$u(s,h,T,p),k=s.memoizedState,A!==h||X!==k||sn.current||gi?(typeof Y=="function"&&(Ld(s,a,Y,h),k=s.memoizedState),(A=gi||wy(s,a,A,h,X,k,$))?(Z||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),T.props=h,T.state=k,T.context=$,h=A):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,Qg(i,s),A=s.memoizedProps,$=s.type===s.elementType?A:Kn(s.type,A),T.props=$,Z=s.pendingProps,X=T.context,k=a.contextType,typeof k=="object"&&k!==null?k=Rn(k):(k=on(a)?fs:Bt.current,k=To(s,k));var ae=a.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(A!==Z||X!==k)&&Ey(s,T,h,k),gi=!1,X=s.memoizedState,T.state=X,$u(s,h,T,p);var he=s.memoizedState;A!==Z||X!==he||sn.current||gi?(typeof ae=="function"&&(Ld(s,a,ae,h),he=s.memoizedState),($=gi||wy(s,a,$,h,X,he,k)||!1)?(Y||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,he,k),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,he,k)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),T.props=h,T.state=he,T.context=k,h=$):(typeof T.componentDidUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),h=!1)}return Bd(i,s,a,h,y,p)}function Bd(i,s,a,h,p,y){Ny(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&Fg(s,a,!1),jr(i,s,y);h=s.stateNode,KS.current=s;var A=T&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=Ao(s,i.child,null,y),s.child=Ao(s,null,A,y)):Zt(i,s,A,y),s.memoizedState=h.state,p&&Fg(s,a,!0),s.child}function by(i){var s=i.stateNode;s.pendingContext?Lg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Lg(i,s.context,!1),Id(i,s.containerInfo)}function My(i,s,a,h,p){return Io(),yd(p),s.flags|=256,Zt(i,s,a,h),s.child}var zd={dehydrated:null,treeContext:null,retryLane:0};function $d(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ly(i,s,a){var h=s.pendingProps,p=tt.current,y=!1,T=(s.flags&128)!==0,A;if((A=T)||(A=i!==null&&i.memoizedState===null?!1:(p&2)!==0),A?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),qe(tt,p&1),i===null)return gd(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=cc(T,h,0,null),i=Ss(i,h,a,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=$d(a),s.memoizedState=zd,i):Hd(s,T));if(p=i.memoizedState,p!==null&&(A=p.dehydrated,A!==null))return GS(i,s,T,h,A,p,a);if(y){y=h.fallback,T=s.mode,p=i.child,A=p.sibling;var k={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=Si(p,k),h.subtreeFlags=p.subtreeFlags&14680064),A!==null?y=Si(A,y):(y=Ss(y,T,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=i.child.memoizedState,T=T===null?$d(a):{baseLanes:T.baseLanes|a,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~a,s.memoizedState=zd,h}return y=i.child,i=y.sibling,h=Si(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,i!==null&&(a=s.deletions,a===null?(s.deletions=[i],s.flags|=16):a.push(i)),s.child=h,s.memoizedState=null,h}function Hd(i,s){return s=cc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Yu(i,s,a,h){return h!==null&&yd(h),Ao(s,i.child,null,a),i=Hd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function GS(i,s,a,h,p,y,T){if(a)return s.flags&256?(s.flags&=-257,h=Fd(Error(t(422))),Yu(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=cc({mode:"visible",children:h.children},p,0,null),y=Ss(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Ao(s,i.child,null,T),s.child.memoizedState=$d(T),s.memoizedState=zd,y);if((s.mode&1)===0)return Yu(i,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(t(419)),h=Fd(y,h,void 0),Yu(i,s,T,h)}if(A=(T&i.childLanes)!==0,an||A){if(h=Ct,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Or(i,p),Xn(h,i,p,-1))}return af(),h=Fd(Error(t(421))),Yu(i,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=aI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,vn=di(p.nextSibling),yn=s,et=!0,qn=null,i!==null&&(Cn[xn++]=Mr,Cn[xn++]=Lr,Cn[xn++]=ps,Mr=i.id,Lr=i.overflow,ps=s),s=Hd(s,h.children),s.flags|=4096,s)}function Oy(i,s,a){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Td(i.return,s,a)}function Wd(i,s,a,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=p)}function Fy(i,s,a){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Zt(i,s,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Oy(i,a,s);else if(i.tag===19)Oy(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(qe(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)i=a.alternate,i!==null&&Hu(i)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Wd(s,!1,p,a,y);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Hu(i)===null){s.child=p;break}i=p.sibling,p.sibling=a,a=p,p=i}Wd(s,!0,a,null,y);break;case"together":Wd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ju(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function jr(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),_s|=s.lanes,(a&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,a=Si(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Si(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function QS(i,s,a){switch(s.tag){case 3:by(s),Io();break;case 5:Jg(s);break;case 1:on(s.type)&&bu(s);break;case 4:Id(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;qe(Uu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(tt,tt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?Ly(i,s,a):(qe(tt,tt.current&1),i=jr(i,s,a),i!==null?i.sibling:null);qe(tt,tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Fy(i,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Vy(i,s,a)}return jr(i,s,a)}var jy,qd,Uy,By;jy=function(i,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},qd=function(){},Uy=function(i,s,a,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,ys(lr.current);var y=null;switch(a){case"input":p=Xi(i,p),h=Xi(i,h),y=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":p=va(i,p),h=va(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Vu)}Ia(a,h);var T;a=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var A=p[$];for(T in A)A.hasOwnProperty(T)&&(a||(a={}),a[T]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var k=h[$];if(A=p?.[$],h.hasOwnProperty($)&&k!==A&&(k!=null||A!=null))if($==="style")if(A){for(T in A)!A.hasOwnProperty(T)||k&&k.hasOwnProperty(T)||(a||(a={}),a[T]="");for(T in k)k.hasOwnProperty(T)&&A[T]!==k[T]&&(a||(a={}),a[T]=k[T])}else a||(y||(y=[]),y.push($,a)),a=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,A=A?A.__html:void 0,k!=null&&A!==k&&(y=y||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ke("scroll",i),y||A===k||(y=[])):(y=y||[]).push($,k))}a&&(y=y||[]).push("style",a);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},By=function(i,s,a,h){a!==h&&(s.flags|=4)};function il(i,s){if(!et)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,h=0;if(s)for(var p=i.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=a,s}function XS(i,s,a){var h=s.pendingProps;switch(pd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return on(s.type)&&Du(),$t(s),null;case 3:return h=s.stateNode,xo(),Ge(sn),Ge(Bt),Cd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Fu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(rf(qn),qn=null))),qd(i,s),$t(s),null;case 5:Ad(s);var p=ys(Za.current);if(a=s.type,i!==null&&s.stateNode!=null)Uy(i,s,a,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(i=ys(lr.current),Fu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[ar]=s,h[Ga]=y,i=(s.mode&1)!==0,a){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(p=0;p<Wa.length;p++)Ke(Wa[p],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":zs(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Hs(h,y),Ke("invalid",h)}Ia(a,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var A=y[T];T==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&ku(h.textContent,A,i),p=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&ku(h.textContent,A,i),p=["children",""+A]):o.hasOwnProperty(T)&&A!=null&&T==="onScroll"&&Ke("scroll",h)}switch(a){case"input":Sr(h),nu(h,y,!0);break;case"textarea":Sr(h),_a(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Vu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=gt(a)),i==="http://www.w3.org/1999/xhtml"?a==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(a,{is:h.is}):(i=T.createElement(a),a==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,a),i[ar]=s,i[Ga]=h,jy(i,s,!1,!1),s.stateNode=i;e:{switch(T=Aa(a,h),a){case"dialog":Ke("cancel",i),Ke("close",i),p=h;break;case"iframe":case"object":case"embed":Ke("load",i),p=h;break;case"video":case"audio":for(p=0;p<Wa.length;p++)Ke(Wa[p],i);p=h;break;case"source":Ke("error",i),p=h;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),p=h;break;case"details":Ke("toggle",i),p=h;break;case"input":zs(i,h),p=Xi(i,h),Ke("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Ke("invalid",i);break;case"textarea":Hs(i,h),p=va(i,h),Ke("invalid",i);break;default:p=h}Ia(a,p),A=p;for(y in A)if(A.hasOwnProperty(y)){var k=A[y];y==="style"?Ea(i,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&wa(i,k)):y==="children"?typeof k=="string"?(a!=="textarea"||k!=="")&&ti(i,k):typeof k=="number"&&ti(i,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&Ke("scroll",i):k!=null&&J(i,y,k,T))}switch(a){case"input":Sr(i),nu(i,h,!1);break;case"textarea":Sr(i),_a(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Ar(i,!!h.multiple,y,!1):h.defaultValue!=null&&Ar(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Vu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(i&&s.stateNode!=null)By(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=ys(Za.current),ys(lr.current),Fu(s)){if(h=s.stateNode,a=s.memoizedProps,h[ar]=s,(y=h.nodeValue!==a)&&(i=yn,i!==null))switch(i.tag){case 3:ku(h.nodeValue,a,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,a,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ar]=s,s.stateNode=h}return $t(s),null;case 13:if(Ge(tt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Hg(),Io(),s.flags|=98560,y=!1;else if(y=Fu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ar]=s}else Io(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else qn!==null&&(rf(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(tt.current&1)!==0?wt===0&&(wt=3):af())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return xo(),qd(i,s),i===null&&qa(s.stateNode.containerInfo),$t(s),null;case 10:return wd(s.type._context),$t(s),null;case 17:return on(s.type)&&Du(),$t(s),null;case 19:if(Ge(tt),y=s.memoizedState,y===null)return $t(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)il(y,!1);else{if(wt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=Hu(i),T!==null){for(s.flags|=128,il(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return qe(tt,tt.current&1|2),s.child}i=i.sibling}y.tail!==null&&We()>No&&(s.flags|=128,h=!0,il(y,!1),s.lanes=4194304)}else{if(!h)if(i=Hu(T),i!==null){if(s.flags|=128,h=!0,a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),il(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!et)return $t(s),null}else 2*We()-y.renderingStartTime>No&&a!==1073741824&&(s.flags|=128,h=!0,il(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(a=y.last,a!==null?a.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,a=tt.current,qe(tt,h?a&1|2:a&1),s):($t(s),null);case 22:case 23:return of(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(_n&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function YS(i,s){switch(pd(s),s.tag){case 1:return on(s.type)&&Du(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return xo(),Ge(sn),Ge(Bt),Cd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Ad(s),null;case 13:if(Ge(tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Io()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ge(tt),null;case 4:return xo(),null;case 10:return wd(s.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var Zu=!1,Ht=!1,JS=typeof WeakSet=="function"?WeakSet:Set,ce=null;function ko(i,s){var a=i.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ot(i,s,h)}else a.current=null}function Kd(i,s,a){try{a()}catch(h){ot(i,s,h)}}var zy=!1;function ZS(i,s){if(sd=ui,i=wg(),Yh(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var T=0,A=-1,k=-1,$=0,Y=0,Z=i,X=null;t:for(;;){for(var ae;Z!==a||p!==0&&Z.nodeType!==3||(A=T+p),Z!==y||h!==0&&Z.nodeType!==3||(k=T+h),Z.nodeType===3&&(T+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)X=Z,Z=ae;for(;;){if(Z===i)break t;if(X===a&&++$===p&&(A=T),X===y&&++Y===h&&(k=T),(ae=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ae}a=A===-1||k===-1?null:{start:A,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:i,selectionRange:a},ui=!1,ce=s;ce!==null;)if(s=ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ce=i;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ut=he.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?de:Kn(s.type,de),ut);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){ot(s,s.return,ee)}if(i=s.sibling,i!==null){i.return=s.return,ce=i;break}ce=s.return}return he=zy,zy=!1,he}function sl(i,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Kd(s,a,y)}p=p.next}while(p!==h)}}function ec(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&i)===i){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Gd(i){var s=i.ref;if(s!==null){var a=i.stateNode;switch(i.tag){case 5:i=a;break;default:i=a}typeof s=="function"?s(i):s.current=i}}function $y(i){var s=i.alternate;s!==null&&(i.alternate=null,$y(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ar],delete s[Ga],delete s[cd],delete s[MS],delete s[LS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Hy(i){return i.tag===5||i.tag===3||i.tag===4}function Wy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Hy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Qd(i,s,a){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(i,s):a.insertBefore(i,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(i,a)):(s=a,s.appendChild(i)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Vu));else if(h!==4&&(i=i.child,i!==null))for(Qd(i,s,a),i=i.sibling;i!==null;)Qd(i,s,a),i=i.sibling}function Xd(i,s,a){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Xd(i,s,a),i=i.sibling;i!==null;)Xd(i,s,a),i=i.sibling}var Mt=null,Gn=!1;function vi(i,s,a){for(a=a.child;a!==null;)qy(i,s,a),a=a.sibling}function qy(i,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ss,a)}catch{}switch(a.tag){case 5:Ht||ko(a,s);case 6:var h=Mt,p=Gn;Mt=null,vi(i,s,a),Mt=h,Gn=p,Mt!==null&&(Gn?(i=Mt,a=a.stateNode,i.nodeType===8?i.parentNode.removeChild(a):i.removeChild(a)):Mt.removeChild(a.stateNode));break;case 18:Mt!==null&&(Gn?(i=Mt,a=a.stateNode,i.nodeType===8?ud(i.parentNode,a):i.nodeType===1&&ud(i,a),$n(i)):ud(Mt,a.stateNode));break;case 4:h=Mt,p=Gn,Mt=a.stateNode.containerInfo,Gn=!0,vi(i,s,a),Mt=h,Gn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Kd(a,s,T),p=p.next}while(p!==h)}vi(i,s,a);break;case 1:if(!Ht&&(ko(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(A){ot(a,s,A)}vi(i,s,a);break;case 21:vi(i,s,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,vi(i,s,a),Ht=h):vi(i,s,a);break;default:vi(i,s,a)}}function Ky(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var a=i.stateNode;a===null&&(a=i.stateNode=new JS),s.forEach(function(h){var p=lI.bind(null,i,h);a.has(h)||(a.add(h),h.then(p,p))})}}function Qn(i,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var y=i,T=s,A=T;e:for(;A!==null;){switch(A.tag){case 5:Mt=A.stateNode,Gn=!1;break e;case 3:Mt=A.stateNode.containerInfo,Gn=!0;break e;case 4:Mt=A.stateNode.containerInfo,Gn=!0;break e}A=A.return}if(Mt===null)throw Error(t(160));qy(y,T,p),Mt=null,Gn=!1;var k=p.alternate;k!==null&&(k.return=null),p.return=null}catch($){ot(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Gy(s,i),s=s.sibling}function Gy(i,s){var a=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),cr(i),h&4){try{sl(3,i,i.return),ec(3,i)}catch(de){ot(i,i.return,de)}try{sl(5,i,i.return)}catch(de){ot(i,i.return,de)}}break;case 1:Qn(s,i),cr(i),h&512&&a!==null&&ko(a,a.return);break;case 5:if(Qn(s,i),cr(i),h&512&&a!==null&&ko(a,a.return),i.flags&32){var p=i.stateNode;try{ti(p,"")}catch(de){ot(i,i.return,de)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=a!==null?a.memoizedProps:y,A=i.type,k=i.updateQueue;if(i.updateQueue=null,k!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&ga(p,y),Aa(A,T);var $=Aa(A,y);for(T=0;T<k.length;T+=2){var Y=k[T],Z=k[T+1];Y==="style"?Ea(p,Z):Y==="dangerouslySetInnerHTML"?wa(p,Z):Y==="children"?ti(p,Z):J(p,Y,Z,$)}switch(A){case"input":ya(p,y);break;case"textarea":Ws(p,y);break;case"select":var X=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?Ar(p,!!y.multiple,ae,!1):X!==!!y.multiple&&(y.defaultValue!=null?Ar(p,!!y.multiple,y.defaultValue,!0):Ar(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ga]=y}catch(de){ot(i,i.return,de)}}break;case 6:if(Qn(s,i),cr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(de){ot(i,i.return,de)}}break;case 3:if(Qn(s,i),cr(i),h&4&&a!==null&&a.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(de){ot(i,i.return,de)}break;case 4:Qn(s,i),cr(i);break;case 13:Qn(s,i),cr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Zd=We())),h&4&&Ky(i);break;case 22:if(Y=a!==null&&a.memoizedState!==null,i.mode&1?(Ht=($=Ht)||Y,Qn(s,i),Ht=$):Qn(s,i),cr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Y&&(i.mode&1)!==0)for(ce=i,Y=i.child;Y!==null;){for(Z=ce=Y;ce!==null;){switch(X=ce,ae=X.child,X.tag){case 0:case 11:case 14:case 15:sl(4,X,X.return);break;case 1:ko(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){ot(h,a,de)}}break;case 5:ko(X,X.return);break;case 22:if(X.memoizedState!==null){Yy(Z);continue}}ae!==null?(ae.return=X,ce=ae):Yy(Z)}Y=Y.sibling}e:for(Y=null,Z=i;;){if(Z.tag===5){if(Y===null){Y=Z;try{p=Z.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=Z.stateNode,k=Z.memoizedProps.style,T=k!=null&&k.hasOwnProperty("display")?k.display:null,A.style.display=Ta("display",T))}catch(de){ot(i,i.return,de)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(de){ot(i,i.return,de)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Qn(s,i),cr(i),h&4&&Ky(i);break;case 21:break;default:Qn(s,i),cr(i)}}function cr(i){var s=i.flags;if(s&2){try{e:{for(var a=i.return;a!==null;){if(Hy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ti(p,""),h.flags&=-33);var y=Wy(i);Xd(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,A=Wy(i);Qd(i,A,T);break;default:throw Error(t(161))}}catch(k){ot(i,i.return,k)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function eI(i,s,a){ce=i,Qy(i)}function Qy(i,s,a){for(var h=(i.mode&1)!==0;ce!==null;){var p=ce,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Zu;if(!T){var A=p.alternate,k=A!==null&&A.memoizedState!==null||Ht;A=Zu;var $=Ht;if(Zu=T,(Ht=k)&&!$)for(ce=p;ce!==null;)T=ce,k=T.child,T.tag===22&&T.memoizedState!==null?Jy(p):k!==null?(k.return=T,ce=k):Jy(p);for(;y!==null;)ce=y,Qy(y),y=y.sibling;ce=p,Zu=A,Ht=$}Xy(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ce=y):Xy(i)}}function Xy(i){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ht||ec(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:Kn(s.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Yg(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Yg(s,T,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&a.focus();break;case"img":k.src&&(a.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&$n(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Gd(s)}catch(X){ot(s,s.return,X)}}if(s===i){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Yy(i){for(;ce!==null;){var s=ce;if(s===i){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function Jy(i){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{ec(4,s)}catch(k){ot(s,a,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(k){ot(s,p,k)}}var y=s.return;try{Gd(s)}catch(k){ot(s,y,k)}break;case 5:var T=s.return;try{Gd(s)}catch(k){ot(s,T,k)}}}catch(k){ot(s,s.return,k)}if(s===i){ce=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ce=A;break}ce=s.return}}var tI=Math.ceil,tc=se.ReactCurrentDispatcher,Yd=se.ReactCurrentOwner,Vn=se.ReactCurrentBatchConfig,Oe=0,Ct=null,ft=null,Lt=0,_n=0,Vo=fi(0),wt=0,ol=null,_s=0,nc=0,Jd=0,al=null,ln=null,Zd=0,No=1/0,Ur=null,rc=!1,ef=null,_i=null,ic=!1,wi=null,sc=0,ll=0,tf=null,oc=-1,ac=0;function en(){return(Oe&6)!==0?We():oc!==-1?oc:oc=We()}function Ti(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Lt!==0?Lt&-Lt:FS.transition!==null?(ac===0&&(ac=as()),ac):(i=De,i!==0||(i=window.event,i=i===void 0?16:La(i.type)),i)}function Xn(i,s,a,h){if(50<ll)throw ll=0,tf=null,Error(t(185));si(i,a,h),((Oe&2)===0||i!==Ct)&&(i===Ct&&((Oe&2)===0&&(nc|=a),wt===4&&Ei(i,Lt)),un(i,h),a===1&&Oe===0&&(s.mode&1)===0&&(No=We()+500,Mu&&mi()))}function un(i,s){var a=i.callbackNode;xr(i,s);var h=os(i,i===Ct?Lt:0);if(h===0)a!==null&&Va(a),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(a!=null&&Va(a),s===1)i.tag===0?OS(ev.bind(null,i)):jg(ev.bind(null,i)),DS(function(){(Oe&6)===0&&mi()}),a=null;else{switch(ai(h)){case 1:a=is;break;case 4:a=ni;break;case 16:a=In;break;case 536870912:a=au;break;default:a=In}a=lv(a,Zy.bind(null,i))}i.callbackPriority=s,i.callbackNode=a}}function Zy(i,s){if(oc=-1,ac=0,(Oe&6)!==0)throw Error(t(327));var a=i.callbackNode;if(Do()&&i.callbackNode!==a)return null;var h=os(i,i===Ct?Lt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=lc(i,h);else{s=h;var p=Oe;Oe|=2;var y=nv();(Ct!==i||Lt!==s)&&(Ur=null,No=We()+500,Ts(i,s));do try{iI();break}catch(A){tv(i,A)}while(!0);_d(),tc.current=y,Oe=p,ft!==null?s=0:(Ct=null,Lt=0,s=wt)}if(s!==0){if(s===2&&(p=pn(i),p!==0&&(h=p,s=nf(i,p))),s===1)throw a=ol,Ts(i,0),Ei(i,h),un(i,We()),a;if(s===6)Ei(i,h);else{if(p=i.current.alternate,(h&30)===0&&!nI(p)&&(s=lc(i,h),s===2&&(y=pn(i),y!==0&&(h=y,s=nf(i,y))),s===1))throw a=ol,Ts(i,0),Ei(i,h),un(i,We()),a;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Es(i,ln,Ur);break;case 3:if(Ei(i,h),(h&130023424)===h&&(s=Zd+500-We(),10<s)){if(os(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){en(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=ld(Es.bind(null,i,ln,Ur),s);break}Es(i,ln,Ur);break;case 4:if(Ei(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var T=31-Yt(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*tI(h/1960))-h,10<h){i.timeoutHandle=ld(Es.bind(null,i,ln,Ur),h);break}Es(i,ln,Ur);break;case 5:Es(i,ln,Ur);break;default:throw Error(t(329))}}}return un(i,We()),i.callbackNode===a?Zy.bind(null,i):null}function nf(i,s){var a=al;return i.current.memoizedState.isDehydrated&&(Ts(i,s).flags|=256),i=lc(i,s),i!==2&&(s=ln,ln=a,s!==null&&rf(s)),i}function rf(i){ln===null?ln=i:ln.push.apply(ln,i)}function nI(i){for(var s=i;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],y=p.getSnapshot;p=p.value;try{if(!Wn(y(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(i,s){for(s&=~Jd,s&=~nc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var a=31-Yt(s),h=1<<a;i[a]=-1,s&=~h}}function ev(i){if((Oe&6)!==0)throw Error(t(327));Do();var s=os(i,0);if((s&1)===0)return un(i,We()),null;var a=lc(i,s);if(i.tag!==0&&a===2){var h=pn(i);h!==0&&(s=h,a=nf(i,h))}if(a===1)throw a=ol,Ts(i,0),Ei(i,s),un(i,We()),a;if(a===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Es(i,ln,Ur),un(i,We()),null}function sf(i,s){var a=Oe;Oe|=1;try{return i(s)}finally{Oe=a,Oe===0&&(No=We()+500,Mu&&mi())}}function ws(i){wi!==null&&wi.tag===0&&(Oe&6)===0&&Do();var s=Oe;Oe|=1;var a=Vn.transition,h=De;try{if(Vn.transition=null,De=1,i)return i()}finally{De=h,Vn.transition=a,Oe=s,(Oe&6)===0&&mi()}}function of(){_n=Vo.current,Ge(Vo)}function Ts(i,s){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;if(a!==-1&&(i.timeoutHandle=-1,NS(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(pd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Du();break;case 3:xo(),Ge(sn),Ge(Bt),Cd();break;case 5:Ad(h);break;case 4:xo();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:wd(h.type._context);break;case 22:case 23:of()}a=a.return}if(Ct=i,ft=i=Si(i.current,null),Lt=_n=s,wt=0,ol=null,Jd=nc=_s=0,ln=al=null,gs!==null){for(s=0;s<gs.length;s++)if(a=gs[s],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,y=a.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}a.pending=h}gs=null}return i}function tv(i,s){do{var a=ft;try{if(_d(),Wu.current=Qu,qu){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}qu=!1}if(vs=0,Pt=_t=nt=null,el=!1,tl=0,Yd.current=null,a===null||a.return===null){wt=1,ol=s,ft=null;break}e:{var y=i,T=a.return,A=a,k=s;if(s=Lt,A.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,Y=A,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=Py(T);if(ae!==null){ae.flags&=-257,Cy(ae,T,A,y,s),ae.mode&1&&Ay(y,$,s),s=ae,k=$;var he=s.updateQueue;if(he===null){var de=new Set;de.add(k),s.updateQueue=de}else he.add(k);break e}else{if((s&1)===0){Ay(y,$,s),af();break e}k=Error(t(426))}}else if(et&&A.mode&1){var ut=Py(T);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),Cy(ut,T,A,y,s),yd(Ro(k,A));break e}}y=k=Ro(k,A),wt!==4&&(wt=2),al===null?al=[y]:al.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Sy(y,k,s);Xg(y,B);break e;case 1:A=k;var D=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(_i===null||!_i.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ee=Iy(y,A,s);Xg(y,ee);break e}}y=y.return}while(y!==null)}iv(a)}catch(pe){s=pe,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function nv(){var i=tc.current;return tc.current=Qu,i===null?Qu:i}function af(){(wt===0||wt===3||wt===2)&&(wt=4),Ct===null||(_s&268435455)===0&&(nc&268435455)===0||Ei(Ct,Lt)}function lc(i,s){var a=Oe;Oe|=2;var h=nv();(Ct!==i||Lt!==s)&&(Ur=null,Ts(i,s));do try{rI();break}catch(p){tv(i,p)}while(!0);if(_d(),Oe=a,tc.current=h,ft!==null)throw Error(t(261));return Ct=null,Lt=0,wt}function rI(){for(;ft!==null;)rv(ft)}function iI(){for(;ft!==null&&!su();)rv(ft)}function rv(i){var s=av(i.alternate,i,_n);i.memoizedProps=i.pendingProps,s===null?iv(i):ft=s,Yd.current=null}function iv(i){var s=i;do{var a=s.alternate;if(i=s.return,(s.flags&32768)===0){if(a=XS(a,s,_n),a!==null){ft=a;return}}else{if(a=YS(a,s),a!==null){a.flags&=32767,ft=a;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{wt=6,ft=null;return}}if(s=s.sibling,s!==null){ft=s;return}ft=s=i}while(s!==null);wt===0&&(wt=5)}function Es(i,s,a){var h=De,p=Vn.transition;try{Vn.transition=null,De=1,sI(i,s,a,h)}finally{Vn.transition=p,De=h}return null}function sI(i,s,a,h){do Do();while(wi!==null);if((Oe&6)!==0)throw Error(t(327));a=i.finishedWork;var p=i.finishedLanes;if(a===null)return null;if(i.finishedWork=null,i.finishedLanes=0,a===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=a.lanes|a.childLanes;if($e(i,y),i===Ct&&(ft=Ct=null,Lt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ic||(ic=!0,lv(In,function(){return Do(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Vn.transition,Vn.transition=null;var T=De;De=1;var A=Oe;Oe|=4,Yd.current=null,ZS(i,a),Gy(a,i),AS(od),ui=!!sd,od=sd=null,i.current=a,eI(a),$h(),Oe=A,De=T,Vn.transition=y}else i.current=a;if(ic&&(ic=!1,wi=i,sc=p),y=i.pendingLanes,y===0&&(_i=null),lu(a.stateNode),un(i,We()),s!==null)for(h=i.onRecoverableError,a=0;a<s.length;a++)p=s[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(rc)throw rc=!1,i=ef,ef=null,i;return(sc&1)!==0&&i.tag!==0&&Do(),y=i.pendingLanes,(y&1)!==0?i===tf?ll++:(ll=0,tf=i):ll=0,mi(),null}function Do(){if(wi!==null){var i=ai(sc),s=Vn.transition,a=De;try{if(Vn.transition=null,De=16>i?16:i,wi===null)var h=!1;else{if(i=wi,wi=null,sc=0,(Oe&6)!==0)throw Error(t(331));var p=Oe;for(Oe|=4,ce=i.current;ce!==null;){var y=ce,T=y.child;if((ce.flags&16)!==0){var A=y.deletions;if(A!==null){for(var k=0;k<A.length;k++){var $=A[k];for(ce=$;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:sl(8,Y,y)}var Z=Y.child;if(Z!==null)Z.return=Y,ce=Z;else for(;ce!==null;){Y=ce;var X=Y.sibling,ae=Y.return;if($y(Y),Y===$){ce=null;break}if(X!==null){X.return=ae,ce=X;break}ce=ae}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ut=de.sibling;de.sibling=null,de=ut}while(de!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ce=T;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:sl(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ce=B;break e}ce=y.return}}var D=i.current;for(ce=D;ce!==null;){T=ce;var z=T.child;if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,ce=z;else e:for(T=D;ce!==null;){if(A=ce,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:ec(9,A)}}catch(pe){ot(A,A.return,pe)}if(A===T){ce=null;break e}var ee=A.sibling;if(ee!==null){ee.return=A.return,ce=ee;break e}ce=A.return}}if(Oe=p,mi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ss,i)}catch{}h=!0}return h}finally{De=a,Vn.transition=s}}return!1}function sv(i,s,a){s=Ro(a,s),s=Sy(i,s,1),i=yi(i,s,1),s=en(),i!==null&&(si(i,1,s),un(i,s))}function ot(i,s,a){if(i.tag===3)sv(i,i,a);else for(;s!==null;){if(s.tag===3){sv(s,i,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_i===null||!_i.has(h))){i=Ro(a,i),i=Iy(s,i,1),s=yi(s,i,1),i=en(),s!==null&&(si(s,1,i),un(s,i));break}}s=s.return}}function oI(i,s,a){var h=i.pingCache;h!==null&&h.delete(s),s=en(),i.pingedLanes|=i.suspendedLanes&a,Ct===i&&(Lt&a)===a&&(wt===4||wt===3&&(Lt&130023424)===Lt&&500>We()-Zd?Ts(i,0):Jd|=a),un(i,s)}function ov(i,s){s===0&&((i.mode&1)===0?s=1:(s=to,to<<=1,(to&130023424)===0&&(to=4194304)));var a=en();i=Or(i,s),i!==null&&(si(i,s,a),un(i,a))}function aI(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),ov(i,a)}function lI(i,s){var a=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),ov(i,a)}var av;av=function(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((i.lanes&a)===0&&(s.flags&128)===0)return an=!1,QS(i,s,a);an=(i.flags&131072)!==0}else an=!1,et&&(s.flags&1048576)!==0&&Ug(s,Ou,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ju(i,s),i=s.pendingProps;var p=To(s,Bt.current);Co(s,a),p=kd(null,s,h,i,p,a);var y=Vd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(y=!0,bu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Sd(s),p.updater=Xu,s.stateNode=p,p._reactInternals=s,Od(s,h,i,a),s=Bd(null,s,h,!0,y,a)):(s.tag=0,et&&y&&fd(s),Zt(null,s,p,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Ju(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=cI(h),i=Kn(h,i),p){case 0:s=Ud(null,s,h,i,a);break e;case 1:s=Dy(null,s,h,i,a);break e;case 11:s=xy(null,s,h,i,a);break e;case 14:s=Ry(null,s,h,Kn(h.type,i),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Ud(i,s,h,p,a);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Dy(i,s,h,p,a);case 3:e:{if(by(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Qg(i,s),$u(s,h,null,a);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Ro(Error(t(423)),s),s=My(i,s,h,a,p);break e}else if(h!==p){p=Ro(Error(t(424)),s),s=My(i,s,h,a,p);break e}else for(vn=di(s.stateNode.containerInfo.firstChild),yn=s,et=!0,qn=null,a=Kg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),h===p){s=jr(i,s,a);break e}Zt(i,s,h,a)}s=s.child}return s;case 5:return Jg(s),i===null&&gd(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,ad(h,p)?T=null:y!==null&&ad(h,y)&&(s.flags|=32),Ny(i,s),Zt(i,s,T,a),s.child;case 6:return i===null&&gd(s),null;case 13:return Ly(i,s,a);case 4:return Id(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Ao(s,null,h,a):Zt(i,s,h,a),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),xy(i,s,h,p,a);case 7:return Zt(i,s,s.pendingProps,a),s.child;case 8:return Zt(i,s,s.pendingProps.children,a),s.child;case 12:return Zt(i,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,qe(Uu,h._currentValue),h._currentValue=T,y!==null)if(Wn(y.value,T)){if(y.children===p.children&&!sn.current){s=jr(i,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var A=y.dependencies;if(A!==null){T=y.child;for(var k=A.firstContext;k!==null;){if(k.context===h){if(y.tag===1){k=Fr(-1,a&-a),k.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?k.next=k:(k.next=Y.next,Y.next=k),$.pending=k}}y.lanes|=a,k=y.alternate,k!==null&&(k.lanes|=a),Td(y.return,a,s),A.lanes|=a;break}k=k.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=a,A=T.alternate,A!==null&&(A.lanes|=a),Td(T,a,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Zt(i,s,p.children,a),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,Co(s,a),p=Rn(p),h=h(p),s.flags|=1,Zt(i,s,h,a),s.child;case 14:return h=s.type,p=Kn(h,s.pendingProps),p=Kn(h.type,p),Ry(i,s,h,p,a);case 15:return ky(i,s,s.type,s.pendingProps,a);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Ju(i,s),s.tag=1,on(h)?(i=!0,bu(s)):i=!1,Co(s,a),Ty(s,h,p),Od(s,h,p,a),Bd(null,s,h,!0,i,a);case 19:return Fy(i,s,a);case 22:return Vy(i,s,a)}throw Error(t(156,s.tag))};function lv(i,s){return Zs(i,s)}function uI(i,s,a,h){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,a,h){return new uI(i,s,a,h)}function lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function cI(i){if(typeof i=="function")return lf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===Vt)return 14}return 2}function Si(i,s){var a=i.alternate;return a===null?(a=Nn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&14680064,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a}function uc(i,s,a,h,p,y){var T=2;if(h=i,typeof i=="function")lf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case V:return Ss(a.children,p,y,s);case I:T=8,p|=8;break;case x:return i=Nn(12,a,s,p|2),i.elementType=x,i.lanes=y,i;case R:return i=Nn(13,a,s,p),i.elementType=R,i.lanes=y,i;case Je:return i=Nn(19,a,s,p),i.elementType=Je,i.lanes=y,i;case Ae:return cc(a,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:T=10;break e;case M:T=9;break e;case F:T=11;break e;case Vt:T=14;break e;case Nt:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Nn(T,a,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ss(i,s,a,h){return i=Nn(7,i,h,s),i.lanes=a,i}function cc(i,s,a,h){return i=Nn(22,i,h,s),i.elementType=Ae,i.lanes=a,i.stateNode={isHidden:!1},i}function uf(i,s,a){return i=Nn(6,i,null,s),i.lanes=a,i}function cf(i,s,a){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function hI(i,s,a,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function hf(i,s,a,h,p,y,T,A,k){return i=new hI(i,s,a,A,k),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Nn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(y),i}function dI(i,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:h==null?null:""+h,children:i,containerInfo:s,implementation:a}}function uv(i){if(!i)return pi;i=i._reactInternals;e:{if(Fn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var a=i.type;if(on(a))return Og(i,a,s)}return s}function cv(i,s,a,h,p,y,T,A,k){return i=hf(a,h,!0,i,p,y,T,A,k),i.context=uv(null),a=i.current,h=en(),p=Ti(a),y=Fr(h,p),y.callback=s??null,yi(a,y,p),i.current.lanes=p,si(i,p,h),un(i,h),i}function hc(i,s,a,h){var p=s.current,y=en(),T=Ti(p);return a=uv(a),s.context===null?s.context=a:s.pendingContext=a,s=Fr(y,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=yi(p,s,T),i!==null&&(Xn(i,p,T,y),zu(i,p,T)),T}function dc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function df(i,s){hv(i,s),(i=i.alternate)&&hv(i,s)}function fI(){return null}var dv=typeof reportError=="function"?reportError:function(i){console.error(i)};function ff(i){this._internalRoot=i}fc.prototype.render=ff.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));hc(i,s,null,null)},fc.prototype.unmount=ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ws(function(){hc(null,i,null,null)}),s[Dr]=null}};function fc(i){this._internalRoot=i}fc.prototype.unstable_scheduleHydration=function(i){if(i){var s=fu();i={blockedOn:null,target:i,priority:s};for(var a=0;a<rr.length&&s!==0&&s<rr[a].priority;a++);rr.splice(a,0,i),a===0&&gu(i)}};function pf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function fv(){}function pI(i,s,a,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=dc(T);y.call($)}}var T=cv(s,h,i,0,null,!1,!1,"",fv);return i._reactRootContainer=T,i[Dr]=T.current,qa(i.nodeType===8?i.parentNode:i),ws(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var A=h;h=function(){var $=dc(k);A.call($)}}var k=hf(i,0,!1,null,null,!1,!1,"",fv);return i._reactRootContainer=k,i[Dr]=k.current,qa(i.nodeType===8?i.parentNode:i),ws(function(){hc(s,k,a,h)}),k}function mc(i,s,a,h,p){var y=a._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var A=p;p=function(){var k=dc(T);A.call(k)}}hc(s,T,i,p)}else T=pI(a,s,i,p,h);return dc(T)}hu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var a=ri(s.pendingLanes);a!==0&&(oi(s,a|1),un(s,We()),(Oe&6)===0&&(No=We()+500,mi()))}break;case 13:ws(function(){var h=Or(i,1);if(h!==null){var p=en();Xn(h,i,1,p)}}),df(i,1)}},no=function(i){if(i.tag===13){var s=Or(i,134217728);if(s!==null){var a=en();Xn(s,i,134217728,a)}df(i,134217728)}},du=function(i){if(i.tag===13){var s=Ti(i),a=Or(i,s);if(a!==null){var h=en();Xn(a,i,s,h)}df(i,s)}},fu=function(){return De},pu=function(i,s){var a=De;try{return De=i,s()}finally{De=a}},Ks=function(i,s,a){switch(s){case"input":if(ya(i,a),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==i&&h.form===i.form){var p=Nu(h);if(!p)throw Error(t(90));Bs(h),ya(h,p)}}}break;case"textarea":Ws(i,a);break;case"select":s=a.value,s!=null&&Ar(i,!!a.multiple,s,!1)}},es=sf,Ca=ws;var mI={usingClientEntryPoint:!1,Events:[Qa,_o,Nu,tr,Pa,sf]},ul={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gI={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ka(i),i===null?null:i.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||fI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gc.isDisabled&&gc.supportsFiber)try{ss=gc.inject(gI),fn=gc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mI,cn.createPortal=function(i,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(s))throw Error(t(200));return dI(i,s,null,a)},cn.createRoot=function(i,s){if(!pf(i))throw Error(t(299));var a=!1,h="",p=dv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=hf(i,1,!1,null,null,a,!1,h,p),i[Dr]=s.current,qa(i.nodeType===8?i.parentNode:i),new ff(s)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ka(s),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return ws(i)},cn.hydrate=function(i,s,a){if(!pc(s))throw Error(t(200));return mc(null,i,s,!0,a)},cn.hydrateRoot=function(i,s,a){if(!pf(i))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,p=!1,y="",T=dv;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),s=cv(s,null,i,1,a??null,p,!1,y,T),i[Dr]=s.current,qa(i),h)for(i=0;i<h.length;i++)a=h[i],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new fc(s)},cn.render=function(i,s,a){if(!pc(s))throw Error(t(200));return mc(null,i,s,!1,a)},cn.unmountComponentAtNode=function(i){if(!pc(i))throw Error(t(40));return i._reactRootContainer?(ws(function(){mc(null,null,i,!1,function(){i._reactRootContainer=null,i[Dr]=null})}),!0):!1},cn.unstable_batchedUpdates=sf,cn.unstable_renderSubtreeIntoContainer=function(i,s,a,h){if(!pc(a))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return mc(i,s,a,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Tv;function II(){if(Tv)return yf.exports;Tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yf.exports=SI(),yf.exports}var Ev;function AI(){if(Ev)return yc;Ev=1;var n=II();return yc.createRoot=n.createRoot,yc.hydrateRoot=n.hydrateRoot,yc}var PI=AI();const CI=dw(PI),xI="modulepreload",RI=function(n){return"/Costas_Portfolio/"+n},Sv={},kI=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=RI(m),m in Sv)return;Sv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":xI,v||(E.as="script"),E.crossOrigin="",E.href=m,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((C,L)=>{E.addEventListener("load",C),E.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},VI=()=>{};var Iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[r++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},pw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=l>>2,w=(l&3)<<4|d>>4;let E=(d&15)<<2|m>>6,C=m&63;f||(C=64,u||(E=64)),r.push(t[v],t[w],t[E],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||m==null||w==null)throw new DI;const E=l<<2|d>>4;if(r.push(E),m!==64){const C=d<<4&240|m>>2;if(r.push(C),w!==64){const L=m<<6&192|w;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class DI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bI=function(n){const e=fw(n);return pw.encodeByteArray(e,!0)},zc=function(n){return bI(n).replace(/\./g,"")},mw=function(n){try{return pw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=()=>MI().__FIREBASE_DEFAULTS__,OI=()=>{if(typeof process>"u"||typeof Iv>"u")return;const n=Iv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mw(n[1]);return e&&JSON.parse(e)},mh=()=>{try{return VI()||LI()||OI()||FI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gw=n=>mh()?.emulatorHosts?.[n],jI=n=>{const e=gw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yw=()=>mh()?.config,vw=n=>mh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _w(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[zc(JSON.stringify(t)),zc(JSON.stringify(u)),""].join(".")}const _l={};function zI(){const n={prod:[],emulator:[]};for(const e of Object.keys(_l))_l[e]?n.emulator.push(e):n.prod.push(e);return n}function $I(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Av=!1;function ww(n,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||_l[n]===e||_l[n]||Av)return;_l[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=zI().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Av=!0,u()},E}function v(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=$I(r),C=t("text"),L=document.getElementById(C)||document.createElement("span"),U=t("learnmore"),b=document.getElementById(U)||document.createElement("a"),W=t("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const J=E.element;d(J),v(b,U);const se=m();f(G,W),J.append(G,L,b,se),document.body.appendChild(J)}l?(L.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function WI(){const n=mh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QI(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function XI(){return!WI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="FirebaseError";class Zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=ZI,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?eA(l,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Zr(o,d,r)}}function eA(n,e){return n.replace(tA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const tA=/\{\$([^}]+)}/g;function nA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ds(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const l=n[o],u=e[o];if(Pv(l)&&Pv(u)){if(!Ds(l,u))return!1}else if(l!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Pv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rA(n,e){const t=new iA(n,e);return t.subscribe.bind(t)}class iA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");sA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=wf),o.error===void 0&&(o.error=wf),o.complete===void 0&&(o.complete=wf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class bs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new UI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lA(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});r.resolve(l)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const l=this.instances.get(r);return l&&e(l,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(n){return n===As?void 0:n}function lA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const cA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},hA=ke.INFO,dA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},fA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=dA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lp{constructor(e){this.name=e,this._logLevel=hA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const pA=(n,e)=>e.some(t=>n instanceof t);let Cv,xv;function mA(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tw=new WeakMap,qf=new WeakMap,Ew=new WeakMap,Tf=new WeakMap,Op=new WeakMap;function yA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(Ni(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Tw.set(t,n)}).catch(()=>{}),Op.set(e,n),e}function vA(n){if(qf.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});qf.set(n,e)}let Kf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return qf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ew.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _A(n){Kf=n(Kf)}function wA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ef(this),e,...t);return Ew.set(r,e.sort?e.sort():[e]),Ni(r)}:gA().includes(n)?function(...e){return n.apply(Ef(this),e),Ni(Tw.get(this))}:function(...e){return Ni(n.apply(Ef(this),e))}}function TA(n){return typeof n=="function"?wA(n):(n instanceof IDBTransaction&&vA(n),pA(n,mA())?new Proxy(n,Kf):n)}function Ni(n){if(n instanceof IDBRequest)return yA(n);if(Tf.has(n))return Tf.get(n);const e=TA(n);return e!==n&&(Tf.set(n,e),Op.set(e,n)),e}const Ef=n=>Op.get(n);function EA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),d=Ni(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ni(u.result),f.oldVersion,f.newVersion,Ni(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const SA=["get","getKey","getAll","getAllKeys","count"],IA=["put","add","delete","clear"],Sf=new Map;function Rv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=IA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(t)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Sf.set(e,l),l}_A(n=>({...n,get:(e,t,r)=>Rv(e,t)||n.get(e,t,r),has:(e,t)=>!!Rv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function PA(n){return n.getComponent()?.type==="VERSION"}const Gf="@firebase/app",kv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Lp("@firebase/app"),CA="@firebase/app-compat",xA="@firebase/analytics-compat",RA="@firebase/analytics",kA="@firebase/app-check-compat",VA="@firebase/app-check",NA="@firebase/auth",DA="@firebase/auth-compat",bA="@firebase/database",MA="@firebase/data-connect",LA="@firebase/database-compat",OA="@firebase/functions",FA="@firebase/functions-compat",jA="@firebase/installations",UA="@firebase/installations-compat",BA="@firebase/messaging",zA="@firebase/messaging-compat",$A="@firebase/performance",HA="@firebase/performance-compat",WA="@firebase/remote-config",qA="@firebase/remote-config-compat",KA="@firebase/storage",GA="@firebase/storage-compat",QA="@firebase/firestore",XA="@firebase/ai",YA="@firebase/firestore-compat",JA="firebase",ZA="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",eP={[Gf]:"fire-core",[CA]:"fire-core-compat",[RA]:"fire-analytics",[xA]:"fire-analytics-compat",[VA]:"fire-app-check",[kA]:"fire-app-check-compat",[NA]:"fire-auth",[DA]:"fire-auth-compat",[bA]:"fire-rtdb",[MA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[OA]:"fire-fn",[FA]:"fire-fn-compat",[jA]:"fire-iid",[UA]:"fire-iid-compat",[BA]:"fire-fcm",[zA]:"fire-fcm-compat",[$A]:"fire-perf",[HA]:"fire-perf-compat",[WA]:"fire-rc",[qA]:"fire-rc-compat",[KA]:"fire-gcs",[GA]:"fire-gcs-compat",[QA]:"fire-fst",[YA]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[JA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,tP=new Map,Xf=new Map;function Vv(n,e){try{n.container.addComponent(e)}catch(t){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Qo(n){const e=n.name;if(Xf.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,n);for(const t of $c.values())Vv(t,n);for(const t of tP.values())Vv(t,n);return!0}function Fp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new zl("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=ZA;function Sw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(t||(t=yw()),!t)throw Di.create("no-options");const l=$c.get(o);if(l){if(Ds(t,l.options)&&Ds(r,l.config))return l;throw Di.create("duplicate-app",{appName:o})}const u=new uA(o);for(const f of Xf.values())u.addComponent(f);const d=new rP(t,r,u);return $c.set(o,d),d}function Iw(n=Qf){const e=$c.get(n);if(!e&&n===Qf&&yw())return Sw();if(!e)throw Di.create("no-app",{appName:n});return e}function bi(n,e,t){let r=eP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(u.join(" "));return}Qo(new bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",sP=1,Rl="firebase-heartbeat-store";let If=null;function Aw(){return If||(If=EA(iP,sP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),If}async function oP(n){try{const t=(await Aw()).transaction(Rl),r=await t.objectStore(Rl).get(Pw(n));return await t.done,r}catch(e){if(e instanceof Zr)qr.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e?.message});qr.warn(t.message)}}}async function Nv(n,e){try{const r=(await Aw()).transaction(Rl,"readwrite");await r.objectStore(Rl).put(e,Pw(n)),await r.done}catch(t){if(t instanceof Zr)qr.warn(t.message);else{const r=Di.create("idb-set",{originalErrorMessage:t?.message});qr.warn(r.message)}}}function Pw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP=1024,lP=30;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>lP){const o=dP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){qr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dv(),{heartbeatsToSend:t,unsentEntries:r}=cP(this._heartbeatsCache.heartbeats),o=zc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return qr.warn(e),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function cP(n,e=aP){const t=[];let r=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),bv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),bv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bv(n){return zc(JSON.stringify({version:2,heartbeats:n})).length}function dP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(n){Qo(new bs("platform-logger",e=>new AA(e),"PRIVATE")),Qo(new bs("heartbeat",e=>new uP(e),"PRIVATE")),bi(Gf,kv,n),bi(Gf,kv,"esm2020"),bi("fire-js","")}fP("");var pP="firebase",mP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(pP,mP,"app");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,Cw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function x(){}x.prototype=I.prototype,V.D=I.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(N,M,F){for(var R=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)R[Je-2]=arguments[Je];return I.prototype[M].apply(N,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,x){x||(x=0);var N=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)N[M]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(M=0;16>M;++M)N[M]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=V.g[0],x=V.g[1],M=V.g[2];var F=V.g[3],R=I+(F^x&(M^F))+N[0]+3614090360&4294967295;I=x+(R<<7&4294967295|R>>>25),R=F+(M^I&(x^M))+N[1]+3905402710&4294967295,F=I+(R<<12&4294967295|R>>>20),R=M+(x^F&(I^x))+N[2]+606105819&4294967295,M=F+(R<<17&4294967295|R>>>15),R=x+(I^M&(F^I))+N[3]+3250441966&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(F^x&(M^F))+N[4]+4118548399&4294967295,I=x+(R<<7&4294967295|R>>>25),R=F+(M^I&(x^M))+N[5]+1200080426&4294967295,F=I+(R<<12&4294967295|R>>>20),R=M+(x^F&(I^x))+N[6]+2821735955&4294967295,M=F+(R<<17&4294967295|R>>>15),R=x+(I^M&(F^I))+N[7]+4249261313&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(F^x&(M^F))+N[8]+1770035416&4294967295,I=x+(R<<7&4294967295|R>>>25),R=F+(M^I&(x^M))+N[9]+2336552879&4294967295,F=I+(R<<12&4294967295|R>>>20),R=M+(x^F&(I^x))+N[10]+4294925233&4294967295,M=F+(R<<17&4294967295|R>>>15),R=x+(I^M&(F^I))+N[11]+2304563134&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(F^x&(M^F))+N[12]+1804603682&4294967295,I=x+(R<<7&4294967295|R>>>25),R=F+(M^I&(x^M))+N[13]+4254626195&4294967295,F=I+(R<<12&4294967295|R>>>20),R=M+(x^F&(I^x))+N[14]+2792965006&4294967295,M=F+(R<<17&4294967295|R>>>15),R=x+(I^M&(F^I))+N[15]+1236535329&4294967295,x=M+(R<<22&4294967295|R>>>10),R=I+(M^F&(x^M))+N[1]+4129170786&4294967295,I=x+(R<<5&4294967295|R>>>27),R=F+(x^M&(I^x))+N[6]+3225465664&4294967295,F=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(F^I))+N[11]+643717713&4294967295,M=F+(R<<14&4294967295|R>>>18),R=x+(F^I&(M^F))+N[0]+3921069994&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(M^F&(x^M))+N[5]+3593408605&4294967295,I=x+(R<<5&4294967295|R>>>27),R=F+(x^M&(I^x))+N[10]+38016083&4294967295,F=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(F^I))+N[15]+3634488961&4294967295,M=F+(R<<14&4294967295|R>>>18),R=x+(F^I&(M^F))+N[4]+3889429448&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(M^F&(x^M))+N[9]+568446438&4294967295,I=x+(R<<5&4294967295|R>>>27),R=F+(x^M&(I^x))+N[14]+3275163606&4294967295,F=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(F^I))+N[3]+4107603335&4294967295,M=F+(R<<14&4294967295|R>>>18),R=x+(F^I&(M^F))+N[8]+1163531501&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(M^F&(x^M))+N[13]+2850285829&4294967295,I=x+(R<<5&4294967295|R>>>27),R=F+(x^M&(I^x))+N[2]+4243563512&4294967295,F=I+(R<<9&4294967295|R>>>23),R=M+(I^x&(F^I))+N[7]+1735328473&4294967295,M=F+(R<<14&4294967295|R>>>18),R=x+(F^I&(M^F))+N[12]+2368359562&4294967295,x=M+(R<<20&4294967295|R>>>12),R=I+(x^M^F)+N[5]+4294588738&4294967295,I=x+(R<<4&4294967295|R>>>28),R=F+(I^x^M)+N[8]+2272392833&4294967295,F=I+(R<<11&4294967295|R>>>21),R=M+(F^I^x)+N[11]+1839030562&4294967295,M=F+(R<<16&4294967295|R>>>16),R=x+(M^F^I)+N[14]+4259657740&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(x^M^F)+N[1]+2763975236&4294967295,I=x+(R<<4&4294967295|R>>>28),R=F+(I^x^M)+N[4]+1272893353&4294967295,F=I+(R<<11&4294967295|R>>>21),R=M+(F^I^x)+N[7]+4139469664&4294967295,M=F+(R<<16&4294967295|R>>>16),R=x+(M^F^I)+N[10]+3200236656&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(x^M^F)+N[13]+681279174&4294967295,I=x+(R<<4&4294967295|R>>>28),R=F+(I^x^M)+N[0]+3936430074&4294967295,F=I+(R<<11&4294967295|R>>>21),R=M+(F^I^x)+N[3]+3572445317&4294967295,M=F+(R<<16&4294967295|R>>>16),R=x+(M^F^I)+N[6]+76029189&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(x^M^F)+N[9]+3654602809&4294967295,I=x+(R<<4&4294967295|R>>>28),R=F+(I^x^M)+N[12]+3873151461&4294967295,F=I+(R<<11&4294967295|R>>>21),R=M+(F^I^x)+N[15]+530742520&4294967295,M=F+(R<<16&4294967295|R>>>16),R=x+(M^F^I)+N[2]+3299628645&4294967295,x=M+(R<<23&4294967295|R>>>9),R=I+(M^(x|~F))+N[0]+4096336452&4294967295,I=x+(R<<6&4294967295|R>>>26),R=F+(x^(I|~M))+N[7]+1126891415&4294967295,F=I+(R<<10&4294967295|R>>>22),R=M+(I^(F|~x))+N[14]+2878612391&4294967295,M=F+(R<<15&4294967295|R>>>17),R=x+(F^(M|~I))+N[5]+4237533241&4294967295,x=M+(R<<21&4294967295|R>>>11),R=I+(M^(x|~F))+N[12]+1700485571&4294967295,I=x+(R<<6&4294967295|R>>>26),R=F+(x^(I|~M))+N[3]+2399980690&4294967295,F=I+(R<<10&4294967295|R>>>22),R=M+(I^(F|~x))+N[10]+4293915773&4294967295,M=F+(R<<15&4294967295|R>>>17),R=x+(F^(M|~I))+N[1]+2240044497&4294967295,x=M+(R<<21&4294967295|R>>>11),R=I+(M^(x|~F))+N[8]+1873313359&4294967295,I=x+(R<<6&4294967295|R>>>26),R=F+(x^(I|~M))+N[15]+4264355552&4294967295,F=I+(R<<10&4294967295|R>>>22),R=M+(I^(F|~x))+N[6]+2734768916&4294967295,M=F+(R<<15&4294967295|R>>>17),R=x+(F^(M|~I))+N[13]+1309151649&4294967295,x=M+(R<<21&4294967295|R>>>11),R=I+(M^(x|~F))+N[4]+4149444226&4294967295,I=x+(R<<6&4294967295|R>>>26),R=F+(x^(I|~M))+N[11]+3174756917&4294967295,F=I+(R<<10&4294967295|R>>>22),R=M+(I^(F|~x))+N[2]+718787259&4294967295,M=F+(R<<15&4294967295|R>>>17),R=x+(F^(M|~I))+N[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+F&4294967295}r.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var x=I-this.blockSize,N=this.B,M=this.h,F=0;F<I;){if(M==0)for(;F<=x;)o(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<I;)if(N[M++]=V.charCodeAt(F++),M==this.blockSize){o(this,N),M=0;break}}else for(;F<I;)if(N[M++]=V[F++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var x=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=x&255,x/=256;for(this.u(V),V=Array(16),I=x=0;4>I;++I)for(var N=0;32>N;N+=8)V[x++]=this.g[I]>>>N&255;return V};function l(V,I){var x=d;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=I(V)}function u(V,I){this.h=I;for(var x=[],N=!0,M=V.length-1;0<=M;M--){var F=V[M]|0;N&&F==I||(x[M]=F,N=!1)}this.g=x}var d={};function f(V){return-128<=V&&128>V?l(V,function(I){return new u([I|0],0>I?-1:0)}):new u([V|0],0>V?-1:0)}function m(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return b(m(-V));for(var I=[],x=1,N=0;V>=x;N++)I[N]=V/x|0,x*=4294967296;return new u(I,0)}function v(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return b(v(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(I,8)),N=w,M=0;M<V.length;M+=8){var F=Math.min(8,V.length-M),R=parseInt(V.substring(M,M+F),I);8>F?(F=m(Math.pow(I,F)),N=N.j(F).add(m(R))):(N=N.j(x),N=N.add(m(R)))}return N}var w=f(0),E=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(U(this))return-b(this).m();for(var V=0,I=1,x=0;x<this.g.length;x++){var N=this.i(x);V+=(0<=N?N:4294967296+N)*I,I*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(U(this))return"-"+b(this).toString(V);for(var I=m(Math.pow(V,6)),x=this,N="";;){var M=se(x,I).g;x=W(x,M.j(I));var F=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=M,L(x))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function U(V){return V.h==-1}n.l=function(V){return V=W(this,V),U(V)?-1:L(V)?0:1};function b(V){for(var I=V.g.length,x=[],N=0;N<I;N++)x[N]=~V.g[N];return new u(x,~V.h).add(E)}n.abs=function(){return U(this)?b(this):this},n.add=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],N=0,M=0;M<=I;M++){var F=N+(this.i(M)&65535)+(V.i(M)&65535),R=(F>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);N=R>>>16,F&=65535,R&=65535,x[M]=R<<16|F}return new u(x,x[x.length-1]&-2147483648?-1:0)};function W(V,I){return V.add(b(I))}n.j=function(V){if(L(this)||L(V))return w;if(U(this))return U(V)?b(this).j(b(V)):b(b(this).j(V));if(U(V))return b(this.j(b(V)));if(0>this.l(C)&&0>V.l(C))return m(this.m()*V.m());for(var I=this.g.length+V.g.length,x=[],N=0;N<2*I;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<V.g.length;M++){var F=this.i(N)>>>16,R=this.i(N)&65535,Je=V.i(M)>>>16,Vt=V.i(M)&65535;x[2*N+2*M]+=R*Vt,G(x,2*N+2*M),x[2*N+2*M+1]+=F*Vt,G(x,2*N+2*M+1),x[2*N+2*M+1]+=R*Je,G(x,2*N+2*M+1),x[2*N+2*M+2]+=F*Je,G(x,2*N+2*M+2)}for(N=0;N<I;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=I;N<2*I;N++)x[N]=0;return new u(x,0)};function G(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function J(V,I){this.g=V,this.h=I}function se(V,I){if(L(I))throw Error("division by zero");if(L(V))return new J(w,w);if(U(V))return I=se(b(V),I),new J(b(I.g),b(I.h));if(U(I))return I=se(V,b(I)),new J(b(I.g),I.h);if(30<V.g.length){if(U(V)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var x=E,N=I;0>=N.l(V);)x=ie(x),N=ie(N);var M=ue(x,1),F=ue(N,1);for(N=ue(N,2),x=ue(x,2);!L(N);){var R=F.add(N);0>=R.l(V)&&(M=M.add(x),F=R),N=ue(N,1),x=ue(x,1)}return I=W(V,M.j(I)),new J(M,I)}for(M=w;0<=V.l(I);){for(x=Math.max(1,Math.floor(V.m()/I.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=m(x),R=F.j(I);U(R)||0<R.l(V);)x-=N,F=m(x),R=F.j(I);L(F)&&(F=E),M=M.add(F),V=W(V,R)}return new J(M,V)}n.A=function(V){return se(this,V).h},n.and=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],N=0;N<I;N++)x[N]=this.i(N)&V.i(N);return new u(x,this.h&V.h)},n.or=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],N=0;N<I;N++)x[N]=this.i(N)|V.i(N);return new u(x,this.h|V.h)},n.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],N=0;N<I;N++)x[N]=this.i(N)^V.i(N);return new u(x,this.h^V.h)};function ie(V){for(var I=V.g.length+1,x=[],N=0;N<I;N++)x[N]=V.i(N)<<1|V.i(N-1)>>>31;return new u(x,V.h)}function ue(V,I){var x=I>>5;I%=32;for(var N=V.g.length-x,M=[],F=0;F<N;F++)M[F]=0<I?V.i(F+x)>>>I|V.i(F+x+1)<<32-I:V.i(F+x);return new u(M,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Cw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Mi=u}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xw,dl,Rw,Rc,Yf,kw,Vw,Nw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break e;_=_[j]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function l(c,g){c instanceof String&&(c+="");var _=0,S=!1,j={next:function(){if(!S&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return l(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,j,H){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return g.prototype[j].apply(S,re)}}function U(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function b(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const j=c.length||0,H=S.length||0;c.length=j+H;for(let re=0;re<H;re++)c[j+re]=S[re]}else c.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ue(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let H=0;H<x.length;H++)_=x[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function F(c){d.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,_){const S=Vt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Vt=new W(()=>new Nt,c=>c.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ne=!1,me=new Je,oe=()=>{const c=d.Promise.resolve(void 0);Ae=()=>{c.then(O)}};var O=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){F(_)}var g=Vt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function xe(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{se(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}L(xe,ge);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,_,S,j){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=j,this.key=++Ue,this.da=this.fa=!1}function It(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Sr(c){this.src=c,this.g={},this.h=0}Sr.prototype.add=function(c,g,_,S,j){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var re=ei(c,g,S,j);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new He(g,this.src,H,!!S,j),g.fa=_,c.push(g)),g};function Bs(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=j)&&Array.prototype.splice.call(S,j,1),H&&(It(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ei(c,g,_,S){for(var j=0;j<c.length;++j){var H=c[j];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return j}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),zs={};function ga(c,g,_,S,j){if(Array.isArray(g)){for(var H=0;H<g.length;H++)ga(c,g[H],_,S,j);return null}return _=_a(_),c&&c[je]?c.K(g,_,m(S)?!!S.capture:!1,j):ya(c,g,_,!1,S,j)}function ya(c,g,_,S,j,H){if(!g)throw Error("Invalid event type");var re=m(j)?!!j.capture:!!j,ze=Hs(c);if(ze||(c[Xi]=ze=new Sr(c)),_=ze.add(g,_,S,re,H),_.proxy)return _;if(S=nu(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ce||(j=re),j===void 0&&(j=!1),c.addEventListener(g.toString(),S,j);else if(c.attachEvent)c.attachEvent(Ar(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nu(){function c(_){return g.call(c.src,c.listener,_)}const g=va;return c}function $s(c,g,_,S,j){if(Array.isArray(g))for(var H=0;H<g.length;H++)$s(c,g[H],_,S,j);else S=m(S)?!!S.capture:!!S,_=_a(_),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=ei(H,_,S,j),-1<_&&(It(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=Hs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ei(g,_,S,j)),(_=-1<c?g[c]:null)&&Ir(_))}function Ir(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])Bs(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Ar(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Hs(g))?(Bs(_,c),_.h==0&&(_.src=null,g[Xi]=null)):It(c)}}}function Ar(c){return c in zs?zs[c]:zs[c]="on"+c}function va(c,g){if(c.da)c=!0;else{g=new xe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ir(c),c=_.call(S,g)}return c}function Hs(c){return c=c[Xi],c instanceof Sr?c:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function _a(c){return typeof c=="function"?c:(c[Ws]||(c[Ws]=function(g){return c.handleEvent(g)}),c[Ws])}function gt(){K.call(this),this.i=new Sr(this),this.M=this,this.F=null}L(gt,K),gt.prototype[je]=!0,gt.prototype.removeEventListener=function(c,g,_,S){$s(this,c,g,_,S)};function yt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var j=g;g=new ge(S,c),N(g,j)}if(j=!0,_)for(var H=_.length-1;0<=H;H--){var re=g.g=_[H];j=Pr(re,S,!0,g)&&j}if(re=g.g=c,j=Pr(re,S,!0,g)&&j,j=Pr(re,S,!1,g)&&j,_)for(H=0;H<_.length;H++)re=g.g=_[H],j=Pr(re,S,!1,g)&&j}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)It(_[S]);delete c.g[g],c.h--}}this.F=null},gt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},gt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Pr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,H=0;H<g.length;++H){var re=g[H];if(re&&!re.da&&re.capture==_){var ze=re.listener,vt=re.ha||re.src;re.fa&&Bs(c.i,re),j=ze.call(vt,S)!==!1&&j}}return j&&!S.defaultPrevented}function wa(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ti(c){c.g=wa(()=>{c.g=null,c.i&&(c.i=!1,ti(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Yi extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(c){K.call(this),this.h=c,this.g={}}L(Ji,K);var Ta=[];function Ea(c){ue(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ir(g)},c),c.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),Ea(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sa=d.JSON.stringify,Ia=d.JSON.parse,Aa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Zi(){}Zi.prototype.h=null;function qs(c){return c.h||(c.h=c.i())}function Ks(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){ge.call(this,"d")}L(er,ge);function Gs(){ge.call(this,"c")}L(Gs,ge);var tr={},Pa=null;function es(){return Pa=Pa||new gt}tr.La="serverreachability";function Ca(c){ge.call(this,tr.La,c)}L(Ca,ge);function Cr(c){const g=es();yt(g,new Ca(g))}tr.STAT_EVENT="statevent";function xa(c,g){ge.call(this,tr.STAT_EVENT,c),this.stat=g}L(xa,ge);function lt(c){const g=es();yt(g,new xa(g,c))}tr.Ma="timingevent";function Qs(c,g){ge.call(this,tr.Ma,c),this.size=g}L(Qs,ge);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function ns(c,g,_,S,j,H){c.info(function(){if(c.g)if(H)for(var re="",ze=H.split("&"),vt=0;vt<ze.length;vt++){var Me=ze[vt].split("=");if(1<Me.length){var At=Me[0];Me=Me[1];var dt=At.split("_");re=2<=dt.length&&dt[1]=="type"?re+(At+"="+Me+"&"):re+(At+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+_+`
`+re})}function Xs(c,g,_,S,j,H,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+_+`
`+H+" "+re})}function On(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+zh(c,_)+(S?" "+S:"")})}function Ra(c,g){c.info(function(){return"TIMEOUT: "+g})}ts.prototype.info=function(){};function zh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var H=j[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return Sa(_)}catch{return g}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ru={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fn;function rs(){}L(rs,Zi),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},Fn=new rs;function jn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var ka={},Js={};function Zs(c,g,_){c.L=1,c.v=oi(pn(g)),c.m=_,c.P=!0,Va(c,null)}function Va(c,g){c.F=Date.now(),We(c),c.A=pn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),li(_.i,"t",S),c.C=0,_=c.j.J,c.h=new iu,c.g=Eu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Yi(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ta[0]=j.toString()),j=Ta);for(var H=0;H<j.length;H++){var re=ga(_,j[H],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Cr(),ns(c.i,c.u,c.A,c.l,c.R,c.m)}jn.prototype.ca=function(c){c=c.target;const g=this.M;g&&rn(c)==3?g.j():this.Y(c)},jn.prototype.Y=function(c){try{if(c==this.g)e:{const dt=rn(this.g);var g=this.g.Ba();const Pn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||Oa(this.g)))){this.J||dt!=4||g==7||(g==8||0>=Pn?Cr(3):Cr(2)),is(this);var _=this.g.Z();this.X=_;t:if(su(this)){var S=Oa(this.g);c="";var j=S.length,H=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ni(this);var re="";break t}this.h.i=new d.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(H&&g==j-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Xs(this.i,this.u,this.A,this.l,this.R,dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,vt=this.g;if((ze=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ze)){var Me=ze;break t}}Me=null}if(_=Me)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,_);else{this.o=!1,this.s=3,lt(12),In(this),ni(this);break e}}if(this.P){_=!0;let gn;for(;!this.J&&this.C<re.length;)if(gn=$h(this,re),gn==Js){dt==4&&(this.s=4,lt(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==ka){this.s=4,lt(15),On(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,gn,null),Na(this,gn);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||re.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,re,"[Invalid Chunked Response]"),In(this),ni(this);else if(0<re.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ja(At),At.M=!0,lt(11))}}else On(this.i,this.l,re,null),Na(this,re);dt==4&&In(this),this.o&&!this.J&&(dt==4?co(this.j,this):(this.o=!1,We(this)))}else so(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),In(this),ni(this)}}}catch{}finally{}};function su(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $h(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?Js:(_=Number(g.substring(_,S)),isNaN(_)?ka:(S+=1,S+_>g.length?Js:(g=g.slice(S,S+_),c.C=S+_,g)))}jn.prototype.cancel=function(){this.J=!0,In(this)};function We(c){c.S=Date.now()+c.I,ou(c,c.I)}function ou(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(E(c.ba,c),g)}function is(c){c.B&&(d.clearTimeout(c.B),c.B=null)}jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ra(this.i,this.A),this.L!=2&&(Cr(),lt(17)),In(this),this.s=2,ni(this)):ou(this,this.S-c)};function ni(c){c.j.G==0||c.J||co(c.j,c)}function In(c){is(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Ea(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Na(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Yt(_.h,c))){if(!c.K&&Yt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)uo(_),Hn(_);else break e;lo(_),lt(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(E(_.Za,_),6e3));if(1>=lu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Nr(_,11)}else if((c.K||_.g==c)&&uo(_),!G(g))for(j=_.Da.g.parse(g),g=0;g<j.length;g++){let Me=j[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const At=Me[3];At!=null&&(_.la=At,_.j.info("VER="+_.la));const dt=Me[4];dt!=null&&(_.Aa=dt,_.j.info("SVER="+_.Aa));const Pn=Me[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(S=1.5*Pn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const gn=c.g;if(gn){const hs=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var H=S.h;H.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Da(H,H.h),H.h=null))}if(S.D){const fo=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(S.ya=fo,$e(S.I,S.D,fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=c;if(S.qa=Tu(S,S.J?S.ia:null,S.W),re.K){uu(S.h,re);var ze=re,vt=S.L;vt&&(ze.I=vt),ze.B&&(is(ze),We(ze)),S.g=re}else cs(S);0<_.i.length&&sr(_)}else Me[0]!="stop"&&Me[0]!="close"||Nr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Nr(_,7):bt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Cr(4)}catch{}}var au=class{constructor(c,g){this.g=c,this.map=g}};function ss(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function lu(c){return c.h?1:c.g?c.g.size:0}function Yt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Da(c,g){c.g?c.g.add(g):c.h=g}function uu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ss.prototype.cancel=function(){if(this.i=cu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return U(c.i)}function eo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function to(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function ri(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=to(c),S=eo(c),j=S.length,H=0;H<j;H++)g.call(void 0,S[H],_&&_[H],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),j=null;if(0<=S){var H=c[_].substring(0,S);j=c[_].substring(S+1)}else H=c[_];g(H,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,as(this,c.j),this.o=c.o,this.g=c.g,ii(this,c.s),this.l=c.l;var g=c.i,_=new nr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),si(this,_),this.m=c.m}else c&&(g=String(c).match(os))?(this.h=!1,as(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),ii(this,g[4]),this.l=De(g[5]||"",!0),si(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}xr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ai(g,no,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ai(g,no,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ai(_,_.charAt(0)=="/"?fu:du,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ai(_,ba)),c.join("")};function pn(c){return new xr(c)}function as(c,g,_){c.j=_?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ii(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function si(c,g,_){g instanceof nr?(c.i=g,rr(c.i,c.h)):(_||(g=ai(g,pu)),c.i=new nr(g,c.h))}function $e(c,g,_){c.i.set(g,_)}function oi(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ai(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,hu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var no=/[#\/\?@]/g,du=/[#\?:]/g,fu=/[#\?]/g,pu=/[#\?@]/g,ba=/#/g;function nr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&Hh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=nr.prototype,n.add=function(c,g){Dt(this),this.i=null,c=An(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Un(c,g){Dt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Dt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Dt(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(g,j,S,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const j=c[S];for(let H=0;H<j.length;H++)_.push(g[S])}return _},n.V=function(c){Dt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Dt(this),this.i=null,c=An(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function li(c,g,_){Un(c,g),0<_.length&&(c.i=null,c.g.set(An(c,g),U(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var j=H;re[S]!==""&&(j+="="+encodeURIComponent(String(re[S]))),c.push(j)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function rr(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(Un(this,S),li(this,j,_))},c)),c.j=g}function Wh(c,g){const _=new ts;if(d.Image){const S=new Image;S.onload=C(nn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=C(nn,_,"TestLoadImage: error",!1,g,S),S.onabort=C(nn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=C(nn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function mu(c,g){const _=new ts,S=new AbortController,j=setTimeout(()=>{S.abort(),nn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(j),H.ok?nn(_,"TestPingServer: ok",!0,g):nn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),nn(_,"TestPingServer: error",!1,g)})}function nn(c,g,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function qh(){this.g=new Aa}function gu(c,g,_){const S=_||"";try{ri(c,function(j,H){let re=j;m(j)&&(re=Sa(j)),g.push(S+H+"="+encodeURIComponent(re))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function Rr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Rr,Zi),Rr.prototype.g=function(){return new ls(this.l,this.j)},Rr.prototype.i=function(c){return function(){return c}}({});function ls(c,g){gt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ls,gt),n=ls.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function yu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&yu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kr(c){let g="";return ue(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ui(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=kr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,g,_))}function Ze(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ze,gt);var Kh=/^https?$/i,Ma=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fn.g(),this.v=this.o?qs(this.o):qs(Fn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){us(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ma,g,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{io(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){us(this,H)}};function us(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ro(c),mn(c)}function ro(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},n.bb=function(){La(this)};function La(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)wa(c.Ea,0,c);else if(yt(c,"readystatechange"),rn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=re===0){var j=String(c.D).match(os)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!Kh.test(j?j.toLowerCase():"")}_=S}if(_)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var H=2<rn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",ro(c)}}finally{mn(c)}}}}function mn(c,g){if(c.g){io(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||yt(c,"ready");try{_.onreadystatechange=S}catch{}}}function io(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ia(g)}};function Oa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function so(c){const g={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(G(c[S]))continue;var _=M(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[j]||[];g[j]=H,H.push(_)}V(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Fa(c){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,c),this.cb=ir("retryDelaySeedMs",1e4,c),this.Wa=ir("forwardChannelMaxRetries",2,c),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(c&&c.concurrentRequestLimit),this.Da=new qh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Fa.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){lt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),sr(this)};function bt(c){if(oo(c),c.G==3){var g=c.U++,_=pn(c.I);if($e(_,"SID",c.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),Vr(c,_),g=new jn(c,c.j,g),g.L=2,g.v=oi(pn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Eu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}wu(c)}function Hn(c){c.g&&(ja(c),c.g.cancel(),c.g=null)}function oo(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),uo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function sr(c){if(!fn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ae||oe(),ne||(Ae(),ne=!0),me.add(g,c),c.B=0}}function Gh(c,g){return lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(E(c.Ga,c,g),_u(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new jn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=I(H),N(H,this.S)):H=this.S),this.m!==null||this.O||(j.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ci(this,j,g),_=pn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Vr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(kr(H)))+"&"+g:this.m&&ui(_,this.m,H)),Da(this.h,j),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),j.T=!0,Zs(j,_,null)):Zs(j,_,g),this.G=2}}else this.G==3&&(c?ao(this,c):this.i.length==0||fn(this.h)||ao(this))};function ao(c,g){var _;g?_=g.l:_=c.U++;const S=pn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),Vr(c,S),c.m&&c.o&&ui(S,c.m,c.o),_=new jn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ci(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Da(c.h,_),Zs(_,S,g)}function Vr(c,g){c.H&&ue(c.H,function(_,S){$e(g,S,_)}),c.l&&ri({},function(_,S){$e(g,S,_)})}function ci(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var j=c.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=j[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let ze=!0;for(let vt=0;vt<_;vt++){let Me=j[vt].g;const At=j[vt].map;if(Me-=H,0>Me)H=Math.max(0,j[vt].g-100),ze=!1;else try{gu(At,re,"req"+Me+"_")}catch{S&&S(At)}}if(ze){S=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function cs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ae||oe(),ne||(Ae(),ne=!0),me.add(g,c),c.v=0}}function lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(E(c.Fa,c),_u(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,vu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Hn(this),vu(this))};function ja(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function vu(c){c.g=new jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=pn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),Vr(c,g),c.m&&c.o&&ui(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=oi(pn(g)),_.m=null,_.P=!0,Va(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),lo(this),lt(19))};function uo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function co(c,g){var _=null;if(c.g==g){uo(c),ja(c),c.g=null;var S=2}else if(Yt(c.h,g))_=g.D,uu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;S=es(),yt(S,new Qs(S,_)),sr(c)}else cs(c);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&Gh(c,g)||S==2&&lo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),j){case 1:Nr(c,5);break;case 4:Nr(c,10);break;case 3:Nr(c,6);break;default:Nr(c,2)}}}function _u(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Nr(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const j=!S;S=new xr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||as(S,"https"),oi(S),j?Wh(S.toString(),_):mu(S.toString(),_)}else lt(2);c.G=0,c.l&&c.l.sa(g),wu(c),oo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const g=cu(c.h);(g.length!=0||c.i.length!=0)&&(b(c.ka,g),b(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function Tu(c,g,_){var S=_ instanceof xr?pn(_):new xr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ii(S,S.s);else{var j=d.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var H=new xr(null);S&&as(H,S),g&&(H.g=g),j&&ii(H,j),_&&(H.l=_),S=H}return _=c.D,g=c.ya,_&&g&&$e(S,_,g),$e(S,"VER",c.la),Vr(c,S),S}function Eu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ze(new Rr({eb:_})):new Ze(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ua(){}n=Ua.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ho(){}ho.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){gt.call(this),this.g=new Fa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!G(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new or(this)}L(Jt,gt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){bt(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Sa(c),c=_);g.i.push(new au(g.Ya++,c)),g.G==3&&sr(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Jt.aa.N.call(this)};function Su(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(Su,er);function Iu(){Gs.call(this),this.status=1}L(Iu,Gs);function or(c){this.g=c}L(or,Ua),or.prototype.ua=function(){yt(this.g,"a")},or.prototype.ta=function(c){yt(this.g,new Su(c))},or.prototype.sa=function(c){yt(this.g,new Iu)},or.prototype.ra=function(){yt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Nw=function(){return new ho},Vw=function(){return es()},kw=tr,Yf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,Rc=Ys,ru.COMPLETE="complete",Rw=ru,Ks.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,dl=Ks,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,xw=Ze}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const Lv="@firebase/firestore",Ov="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Lp("@firebase/firestore");function bo(){return Ms.logLevel}function le(n,...e){if(Ms.logLevel<=ke.DEBUG){const t=e.map(jp);Ms.debug(`Firestore (${la}): ${n}`,...t)}}function Kr(n,...e){if(Ms.logLevel<=ke.ERROR){const t=e.map(jp);Ms.error(`Firestore (${la}): ${n}`,...t)}}function Xo(n,...e){if(Ms.logLevel<=ke.WARN){const t=e.map(jp);Ms.warn(`Firestore (${la}): ${n}`,...t)}}function jp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Dw(n,r,t)}function Dw(n,e,t){let r=`FIRESTORE (${la}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Kr(r),new Error(r)}function Be(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Dw(e,o,r)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class yP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class vP{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let l=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $r,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $r)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new bw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class _P{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new _P(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const r=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=EP(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+=e.charAt(o[l]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Jf(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),l=e.charAt(r);if(o!==l)return Af(o)===Af(l)?Ve(o,l):Af(o)?1:-1}return Ve(n.length,e.length)}const SP=55296,IP=57343;function Af(n){const e=n.charCodeAt(0);return e>=SP&&e<=IP}function Yo(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="__name__";class hr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=hr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const r=hr.isNumericId(e),o=hr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?hr.extractNumericId(e).compare(hr.extractNumericId(t)):Jf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class Qe extends hr{construct(e,t,r){return new Qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const AP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends hr{construct(e,t,r){return new jt(e,t,r)}static isValidIdentifier(e){return AP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jv}static keyField(){return new jt([jv])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(r.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(l(),o++)}if(l(),u)throw new fe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(n,e,t){if(!t)throw new fe(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function PP(n,e,t,r){if(e===!0&&r===!0)throw new fe(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Uv(n){if(!ye.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bv(n){if(ye.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Bp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bp(n);throw new fe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hl(n,e){if(!Lw(n))throw new fe(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new fe(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=-62135596800,$v=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$v);return new Xe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<zv)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:mt("string",Xe._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Xe(0,0))}static max(){return new Ie(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function CP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new Oi(o,ye.empty(),e)}function xP(n){return new Oi(n.readTime,n.key,kl)}class Oi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oi(Ie.min(),ye.empty(),kl)}static max(){return new Oi(Ie.max(),ye.empty(),kl)}}function RP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ua(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==kP)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let o=0,l=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++l,u&&l===o&&t()},f=>r(f))}),u=!0,l===o&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(o=>o?q.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new q((r,o)=>{const l=e.length,u=new Array(l);let d=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===l&&r(u)},v=>o(v))}})}static doWhile(e,t){return new q((r,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):r()};l()})}}function NP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ca(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function yh(n){return n==null}function Hc(n){return n===0&&1/n==-1/0}function DP(n){return typeof n=="number"&&Number.isInteger(n)&&!Hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="";function bP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hv(e)),e=MP(n.get(t),e);return Hv(e)}function MP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case Ow:t+="";break;default:t+=l}}return t}function Hv(n){return n+Ow+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Ft(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,l){return this}insert(e,t,r){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new wn([])}unionWith(e){let t=new St(jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jw("Invalid base64 string: "+l):l}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const LP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=LP.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}function ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ji(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="server_timestamp",Bw="__type__",zw="__previous_value__",$w="__local_write_time__";function $p(n){return(n?.mapValue?.fields||{})[Bw]?.stringValue===Uw}function vh(n){const e=n.mapValue.fields[zw];return $p(e)?vh(e):e}function Vl(n){const e=Fi(n.mapValue.fields[$w].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t,r,o,l,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const Wc="(default)";class Nl{constructor(e,t){this.projectId=e,this.database=t||Wc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="__type__",FP="__max__",wc={mapValue:{}},Ww="__vector__",qc="value";function Ui(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$p(n)?4:UP(n)?9007199254740991:jP(n)?10:11:Te(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Ui(n);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vl(n).isEqual(Vl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Fi(o.timestampValue),d=Fi(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return ji(o.bytesValue).isEqual(ji(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ht(o.geoPointValue.latitude)===ht(l.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ht(o.integerValue)===ht(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=ht(o.doubleValue),d=ht(l.doubleValue);return u===d?Hc(u)===Hc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Yo(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Wv(u)!==Wv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Tr(u[f],d[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function Dl(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function Jo(n,e){if(n===e)return 0;const t=Ui(n),r=Ui(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,u){const d=ht(l.integerValue||l.doubleValue),f=ht(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Kv(n.timestampValue,e.timestampValue);case 4:return Kv(Vl(n),Vl(e));case 5:return Jf(n.stringValue,e.stringValue);case 6:return function(l,u){const d=ji(l),f=ji(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ve(d[m],f[m]);if(v!==0)return v}return Ve(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const d=Ve(ht(l.latitude),ht(u.latitude));return d!==0?d:Ve(ht(l.longitude),ht(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Gv(n.arrayValue,e.arrayValue);case 10:return function(l,u){const d=l.fields||{},f=u.fields||{},m=d[qc]?.arrayValue,v=f[qc]?.arrayValue,w=Ve(m?.values?.length||0,v?.values?.length||0);return w!==0?w:Gv(m,v)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===wc.mapValue&&u===wc.mapValue)return 0;if(l===wc.mapValue)return 1;if(u===wc.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=Jf(f[w],v[w]);if(E!==0)return E;const C=Jo(d[f[w]],m[v[w]]);if(C!==0)return C}return Ve(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function Kv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Fi(n),r=Fi(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function Gv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const l=Jo(t[o],r[o]);if(l)return l}return Ve(t.length,r.length)}function Zo(n){return Zf(n)}function Zf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ji(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const l of t.values||[])o?o=!1:r+=",",r+=Zf(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${Zf(t.fields[u])}`;return o+"}"}(n.mapValue):Te(61005,{value:n})}function kc(n){switch(Ui(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(n);return e?16+kc(e):16;case 5:return 2*n.stringValue.length;case 6:return ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,l)=>o+kc(l),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Wi(r.fields,(l,u)=>{o+=l.length+kc(u)}),o}(n.mapValue);default:throw Te(13486,{value:n})}}function ep(n){return!!n&&"integerValue"in n}function Hp(n){return!!n&&"arrayValue"in n}function Qv(n){return!!n&&"nullValue"in n}function Xv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function jP(n){return(n?.mapValue?.fields||{})[Hw]?.stringValue===Ww}function wl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return{...n}}function UP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===FP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=jt.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=wl(u):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Wi(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new dn(wl(this.value))}}function qw(n){const e=[];return Wi(n.fields,(t,r)=>{const o=new jt([t]);if(Vc(r)){const l=qw(r.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,o,l,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ie.min(),Ie.min(),Ie.min(),dn.empty(),0)}static newFoundDocument(e,t,r,o){return new Gt(e,1,t,Ie.min(),r,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ie.min(),Ie.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ie.min(),Ie.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,t){this.position=e,this.inclusive=t}}function Yv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=Jo(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,t="asc"){this.field=e,this.dir=t}}function BP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class Tt extends Kw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $P(e,t,r):t==="array-contains"?new qP(e,r):t==="in"?new KP(e,r):t==="not-in"?new GP(e,r):t==="array-contains-any"?new QP(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new HP(e,r):new WP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&Ui(this.value)===Ui(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends Kw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Er(e,t)}matches(e){return Gw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gw(n){return n.op==="and"}function Qw(n){return zP(n)&&Gw(n)}function zP(n){for(const e of n.filters)if(e instanceof Er)return!1;return!0}function tp(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Zo(n.value);if(Qw(n))return n.filters.map(e=>tp(e)).join(",");{const e=n.filters.map(t=>tp(t)).join(",");return`${n.op}(${e})`}}function Xw(n,e){return n instanceof Tt?function(r,o){return o instanceof Tt&&r.op===o.op&&r.field.isEqual(o.field)&&Tr(r.value,o.value)}(n,e):n instanceof Er?function(r,o){return o instanceof Er&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((l,u,d)=>l&&Xw(u,o.filters[d]),!0):!1}(n,e):void Te(19439)}function Yw(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`}(n):n instanceof Er?function(t){return t.op.toString()+" {"+t.getFilters().map(Yw).join(" ,")+"}"}(n):"Filter"}class $P extends Tt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class HP extends Tt{constructor(e,t){super(e,"in",t),this.keys=Jw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WP extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=Jw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jw(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class qP extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hp(t)&&Dl(t.arrayValue,this.value)}}class KP extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dl(this.value.arrayValue,t)}}class GP extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dl(this.value.arrayValue,t)}}class QP extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t=null,r=[],o=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=u,this.endAt=d,this.Te=null}}function Zv(n,e=null,t=[],r=[],o=null,l=null,u=null){return new XP(n,e,t,r,o,l,u)}function Wp(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),yh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Zo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Zo(r)).join(",")),e.Te=t}return e.Te}function qp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!BP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Xw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jv(n.startAt,e.startAt)&&Jv(n.endAt,e.endAt)}function np(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,t=null,r=[],o=[],l=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function YP(n,e,t,r,o,l,u,d){return new _h(n,e,t,r,o,l,u,d)}function Kp(n){return new _h(n)}function e_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function JP(n){return n.collectionGroup!==null}function Tl(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new St(jt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Gc(l,r))}),t.has(jt.keyField().canonicalString())||e.Ie.push(new Gc(jt.keyField(),r))}return e.Ie}function fr(n){const e=Pe(n);return e.Ee||(e.Ee=ZP(e,Tl(n))),e.Ee}function ZP(n,e){if(n.limitType==="F")return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Gc(o.field,l)});const t=n.endAt?new Kc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Kc(n.startAt.position,n.startAt.inclusive):null;return Zv(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function rp(n,e,t){return new _h(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wh(n,e){return qp(fr(n),fr(e))&&n.limitType===e.limitType}function Zw(n){return`${Wp(fr(n))}|lt:${n.limitType}`}function Mo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Yw(o)).join(", ")}]`),yh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Zo(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Zo(o)).join(",")),`Target(${r})`}(fr(n))}; limitType=${n.limitType})`}function Th(n,e){return e.isFoundDocument()&&function(r,o){const l=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,o){for(const l of Tl(r))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const l of r.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=Yv(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Tl(r),o)||r.endAt&&!function(u,d,f){const m=Yv(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Tl(r),o))}(n,e)}function eC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eT(n){return(e,t)=>{let r=!1;for(const o of Tl(n)){const l=tC(o,e,t);if(l!==0)return l;r=r||o.field.isKeyField()}return 0}}function tC(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,u,d){const f=u.data.field(l),m=d.data.field(l);return f!==null&&m!==null?Jo(f,m):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,l]of r)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return Fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=new st(ye.comparator);function Qr(){return nC}const tT=new st(ye.comparator);function fl(...n){let e=tT;for(const t of n)e=e.insert(t.key,t);return e}function nT(n){let e=tT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xs(){return El()}function rT(){return El()}function El(){return new Fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const rC=new st(ye.comparator),iC=new St(ye.comparator);function Ne(...n){let e=iC;for(const t of n)e=e.add(t);return e}const sC=new St(Ve);function oC(){return sC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(e)?"-0":e}}function iT(n){return{integerValue:""+n}}function aC(n,e){return DP(e)?iT(e):Gp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function lC(n,e,t){return n instanceof Qc?function(o,l){const u={fields:{[Bw]:{stringValue:Uw},[$w]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&$p(l)&&(l=vh(l)),l&&(u.fields[zw]=l),{mapValue:u}}(t,e):n instanceof bl?oT(n,e):n instanceof Ml?aT(n,e):function(o,l){const u=sT(o,l),d=t_(u)+t_(o.Ae);return ep(u)&&ep(o.Ae)?iT(d):Gp(o.serializer,d)}(n,e)}function uC(n,e,t){return n instanceof bl?oT(n,e):n instanceof Ml?aT(n,e):t}function sT(n,e){return n instanceof Xc?function(r){return ep(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Qc extends Eh{}class bl extends Eh{constructor(e){super(),this.elements=e}}function oT(n,e){const t=lT(e);for(const r of n.elements)t.some(o=>Tr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ml extends Eh{constructor(e){super(),this.elements=e}}function aT(n,e){let t=lT(e);for(const r of n.elements)t=t.filter(o=>!Tr(o,r));return{arrayValue:{values:t}}}class Xc extends Eh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function t_(n){return ht(n.integerValue||n.doubleValue)}function lT(n){return Hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cC(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof bl&&o instanceof bl||r instanceof Ml&&o instanceof Ml?Yo(r.elements,o.elements,Tr):r instanceof Xc&&o instanceof Xc?Tr(r.Ae,o.Ae):r instanceof Qc&&o instanceof Qc}(n.transform,e.transform)}class hC{constructor(e,t){this.version=e,this.transformResults=t}}class Zn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Sh{}function uT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Qp(n.key,Zn.none()):new Wl(n.key,n.data,Zn.none());{const t=n.data,r=dn.empty();let o=new St(jt.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),o=o.add(l)}return new qi(n.key,r,new wn(o.toArray()),Zn.none())}}function dC(n,e,t){n instanceof Wl?function(o,l,u){const d=o.value.clone(),f=r_(o.fieldTransforms,l,u.transformResults);d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof qi?function(o,l,u){if(!Nc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const d=r_(o.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(cT(o)),f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Sl(n,e,t,r){return n instanceof Wl?function(l,u,d,f){if(!Nc(l.precondition,u))return d;const m=l.value.clone(),v=i_(l.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof qi?function(l,u,d,f){if(!Nc(l.precondition,u))return d;const m=i_(l.fieldTransforms,f,u),v=u.data;return v.setAll(cT(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(l,u,d){return Nc(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function fC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=sT(r.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(r.field,l))}return t||null}function n_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Yo(r,o,(l,u)=>cC(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Wl extends Sh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class qi extends Sh{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function r_(n,e,t){const r=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,d=e.data.field(l.field);r.set(l.field,uC(u,d,t[o]))}return r}function i_(n,e,t){const r=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);r.set(o.field,lC(l,u,e))}return r}class Qp extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pC extends Sh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&dC(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Sl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=rT();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(o.key)?null:d;const f=uT(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,(t,r)=>n_(t,r))&&Yo(this.baseMutations,e.baseMutations,(t,r)=>n_(t,r))}}class Xp{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return rC}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,r[u].version);return new Xp(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Le;function vC(n){switch(n){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function hT(n){if(n===void 0)return Kr("GRPC error has no .code"),Q.UNKNOWN;switch(n){case pt.OK:return Q.OK;case pt.CANCELLED:return Q.CANCELLED;case pt.UNKNOWN:return Q.UNKNOWN;case pt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case pt.INTERNAL:return Q.INTERNAL;case pt.UNAVAILABLE:return Q.UNAVAILABLE;case pt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case pt.NOT_FOUND:return Q.NOT_FOUND;case pt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case pt.ABORTED:return Q.ABORTED;case pt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case pt.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:n})}}(Le=pt||(pt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Mi([4294967295,4294967295],0);function s_(n){const e=_C().encode(n),t=new Cw;return t.update(e),new Uint8Array(t.digest())}function o_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Mi([t,r],0),new Mi([o,l],0)]}class Yp{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new pl(`Invalid padding: ${t}`);if(r<0)throw new pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new pl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new pl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Mi.fromNumber(r)));return o.compare(wC)===1&&(o=new Mi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=s_(e),[r,o]=o_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Yp(l,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=s_(e),[r,o]=o_(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ih(Ie.min(),o,new st(Ve),Qr(),Ne())}}class ql{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ql(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class dT{constructor(e,t){this.targetId=e,this.Ce=t}}class fT{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class a_{constructor(){this.ve=0,this.Fe=l_(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),r=Ne();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:l})}}),new ql(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=l_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class TC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Qr(),this.Je=Tc(),this.He=Tc(),this.Ye=new st(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(np(l))if(r===0){const u=new ye(l.path);this.et(t,u,Gt.newNoDocument(u,Ie.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=t;let u,d;try{u=ji(r).toUint8Array()}catch(f){if(f instanceof jw)return Xo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Yp(u,o,l)}catch(f){return Xo(f instanceof pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(l=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const d=this.ot(u);if(d){if(l.current&&np(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gt.newNoDocument(f,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let r=Ne();this.He.forEach((l,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const o=new Ih(e,t,this.Ye,this.je,r);return this.je=Qr(),this.Je=Tc(),this.He=Tc(),this.Ye=new st(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new a_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new St(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new St(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new a_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Tc(){return new st(ye.comparator)}function l_(){return new st(ye.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},SC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IC={and:"AND",or:"OR"};class AC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(n,e){return n.useProto3Json||yh(e)?e:{value:e}}function Yc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PC(n,e){return Yc(n,e.toTimestamp())}function pr(n){return Be(!!n,49232),Ie.fromTimestamp(function(t){const r=Fi(t);return new Xe(r.seconds,r.nanos)}(n))}function Jp(n,e){return sp(n,e).canonicalString()}function sp(n,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mT(n){const e=Qe.fromString(n);return Be(wT(e),10190,{key:e.toString()}),e}function op(n,e){return Jp(n.databaseId,e.path)}function Pf(n,e){const t=mT(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(yT(t))}function gT(n,e){return Jp(n.databaseId,e)}function CC(n){const e=mT(n);return e.length===4?Qe.emptyPath():yT(e)}function ap(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yT(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function u_(n,e,t){return{name:op(n,e),fields:t.value.mapValue.fields}}function xC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(Be(v===void 0||typeof v=="string",58123),Ut.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?Q.UNKNOWN:hT(m.code);return new fe(v,m.message||"")}(u);t=new fT(r,o,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Pf(n,r.document.name),l=pr(r.document.updateTime),u=r.document.createTime?pr(r.document.createTime):Ie.min(),d=new dn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(o,l,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Dc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Pf(n,r.document),l=r.readTime?pr(r.readTime):Ie.min(),u=Gt.newNoDocument(o,l),d=r.removedTargetIds||[];t=new Dc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Pf(n,r.document),l=r.removedTargetIds||[];t=new Dc([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:l}=r,u=new yC(o,l),d=r.targetId;t=new dT(d,u)}}return t}function RC(n,e){let t;if(e instanceof Wl)t={update:u_(n,e.key,e.value)};else if(e instanceof Qp)t={delete:op(n,e.key)};else if(e instanceof qi)t={update:u_(n,e.key,e.data),updateMask:FC(e.fieldMask)};else{if(!(e instanceof pC))return Te(16599,{Vt:e.type});t={verify:op(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const d=u.transform;if(d instanceof Qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ml)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Xc)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:PC(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(n,e.precondition)),t}function kC(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,l){let u=o.updateTime?pr(o.updateTime):pr(l);return u.isEqual(Ie.min())&&(u=pr(l)),new hC(u,o.transformResults||[])}(t,e))):[]}function VC(n,e){return{documents:[gT(n,e.path)]}}function NC(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=gT(n,o);const l=function(m){if(m.length!==0)return _T(Er.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:Lo(E.field),direction:MC(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=ip(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function DC(n){let e=CC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Be(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const E=vT(w);return E instanceof Er&&Qw(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(L){return new Gc(Oo(L.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(w){let E;return E=typeof w=="object"?w.value:w,yh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,C=w.values||[];return new Kc(C,E)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const E=!w.before,C=w.values||[];return new Kc(C,E)}(t.endAt)),YP(e,o,u,l,d,"F",f,m)}function bC(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function vT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Oo(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Oo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Oo(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Oo(t.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(Oo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Er.create(t.compositeFilter.filters.map(r=>vT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function MC(n){return EC[n]}function LC(n){return SC[n]}function OC(n){return IC[n]}function Lo(n){return{fieldPath:n.canonicalString()}}function Oo(n){return jt.fromServerFormat(n.fieldPath)}function _T(n){return n instanceof Tt?function(t){if(t.op==="=="){if(Xv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Qv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Qv(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:LC(t.op),value:t.value}}}(n):n instanceof Er?function(t){const r=t.getFilters().map(o=>_T(o));return r.length===1?r[0]:{compositeFilter:{op:OC(t.op),filters:r}}}(n):Te(54877,{filter:n})}function FC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,t,r,o,l=Ie.min(),u=Ie.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.yt=e}}function UC(n){const e=DC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Cn=new zC}addToCollectionParentIndex(e,t){return this.Cn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Oi.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class zC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new St(Qe.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new St(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TT=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(TT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ea(0)}static cr(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="LruGarbageCollector",$C=1048576;function d_([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class HC{constructor(e){this.Ir=e,this.buffer=new St(d_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();d_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class WC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(h_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ca(t)?le(h_,"Ignoring IndexedDB error during garbage collection: ",t):await ua(t)}await this.Vr(3e5)})}}class qC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return q.resolve(gh.ce);const r=new HC(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(c_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),c_):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,l,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(l=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),bo()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function KC(n,e){return new qC(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Sl(r.mutation,o,wn.empty(),Xe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const o=xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let u=fl();return l.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=xs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let l=Qr();const u=El(),d=function(){return El()}();return t.forEach((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof qi)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Sl(v.mutation,m,v.mutation.getFieldMask(),Xe.now())):u.set(m.key,wn.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>d.set(m,new QC(v,u.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const r=El();let o=new st((u,d)=>u-d),l=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||wn.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||Ne()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=rT();v.forEach(E=>{if(!l.has(E)){const C=uT(t.get(E),r.get(E));C!==null&&w.set(E,C),l=l.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):JP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):q.resolve(xs());let d=kl,f=l;return u.next(m=>q.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(v)?q.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,Ne())).next(v=>({batchId:d,changes:nT(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let o=fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const l=t.collectionGroup;let u=fl();return this.indexManager.getCollectionParents(e,l).next(d=>q.forEach(d,f=>{const m=function(w,E){return new _h(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,o))).next(u=>{l.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Gt.newInvalidDocument(v)))});let d=fl();return u.forEach((f,m)=>{const v=l.get(f);v!==void 0&&Sl(v.mutation,m,wn.empty(),Xe.now()),Th(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:pr(o.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:UC(o.bundledQuery),readTime:pr(o.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.overlays=new st(ye.comparator),this.qr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=xs();return q.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.St(e,t,l)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const o=xs(),l=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>r&&o.set(f.getKey(),f)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new st((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=l.get(m.largestBatchId);v===null&&(v=xs(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=xs(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return q.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new gC(t,r));let l=this.qr.get(t);l===void 0&&(l=Ne(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Qr=new St(Rt.$r),this.Ur=new St(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Rt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Qe([])),r=new Rt(t,e),o=new Rt(t,e+1),l=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Qe([])),r=new Rt(t,e),o=new Rt(t,e+1);let l=Ne();return this.Ur.forEachInRange([r,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Rt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new St(Rt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new mC(l,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Rt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return q.resolve(u)}lookupMutationBatch(e,t){return q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),l=o<0?0:o;return q.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?zp:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),o=new Rt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,o],u=>{const d=this.Xr(u.Yr);l.push(d)}),q.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new St(Ve);return t.forEach(o=>{const l=new Rt(o,0),u=new Rt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],d=>{r=r.add(d.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const u=new Rt(new ye(l),0);let d=new St(Ve);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)},u),q.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(t.mutations,o=>{const l=new Rt(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Rt(t,0),o=this.Zr.firstAfterOrEqual(r);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.ri=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Gt.newInvalidDocument(o))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=Qr();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||RP(xP(v),r)<=0||(o.has(v.key)||Th(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return q.resolve(l)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ii(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nx(this)}getSize(e){return q.resolve(this.size)}}class nx extends GC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.persistence=e,this.si=new Fs(t=>Wp(t),qp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=ea.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ea(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Pr(t),q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),q.waitFor(l).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),q.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new ZC,this.referenceDelegate=e(this),this.Pi=new rx(this),this.indexManager=new BC,this.remoteDocumentCache=function(o){return new tx(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new jC(t),this.Ii=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new JC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new ex(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const o=new ix(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class ix extends VP{constructor(e){super(),this.currentSequenceNumber=e}}class em{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new em(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const o=ye.fromPath(r);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return q.or([()=>q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jc{constructor(e,t){this.persistence=e,this.pi=new Fs(r=>bP(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=KC(this,t)}static mi(e,t){return new Jc(e,t)}Ei(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return q.forEach(this.pi,(r,o)=>this.br(e,r,o).next(l=>l?q.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(r++,l.removeEntry(u,Ie.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kc(e.data.value)),t}br(e,t,r){return q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return q.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ne(),o=Ne();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new tm(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return XI()?8:NP(Xt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,o,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new sx;return this.Ss(e,t,u).next(d=>{if(l.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>l.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(bo()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Mo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(bo()<=ke.DEBUG&&le("QueryEngine","Query:",Mo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(bo()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Mo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):q.resolve())}ys(e,t){if(e_(t))return q.resolve(null);let r=fr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=rp(t,null,"F"),r=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Ne(...l);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,rp(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,o){return e_(t)||o.isEqual(Ie.min())?q.resolve(null):this.ps.getDocuments(e,r).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,o)?q.resolve(null):(bo()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(t)),this.vs(e,u,t,CP(o,kl)).next(d=>d))})}Ds(e,t){let r=new St(eT(e));return t.forEach((o,l)=>{Th(e,l)&&(r=r.add(l))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,r){return bo()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Mo(t)),this.ps.getDocumentsMatchingQuery(e,t,Oi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="LocalStore",ax=3e8;class lx{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new st(Ve),this.xs=new Fs(l=>Wp(l),qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new XC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ux(n,e,t,r){return new lx(n,e,t,r)}async function ST(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],d=[];let f=Ne();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of l){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:d}))})})}function cx(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const w=m.batch,E=w.keys();let C=q.resolve();return E.forEach(L=>{C=C.next(()=>v.getEntry(f,L)).next(U=>{const b=m.docVersions.get(L);Be(b!==null,48541),U.version.compareTo(b)<0&&(w.applyToRemoteDocument(U,m),U.isValidDocument()&&(U.setReadTime(m.commitVersion),v.addEntry(U)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Ne();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function IT(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function hx(n,e){const t=Pe(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w)));let C=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Ut.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(w,C),function(U,b,W){return U.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=ax?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(E,C,v)&&d.push(t.Pi.updateTargetData(l,C))});let f=Qr(),m=Ne();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(dx(l,u,e.documentUpdates).next(v=>{f=v.ks,m=v.qs})),!r.isEqual(Ie.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(v)}return q.waitFor(d).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(t.Ms=o,l))}function dx(n,e,t){let r=Ne(),o=Ne();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let u=Qr();return t.forEach((d,f)=>{const m=l.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le(nm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{ks:u,qs:o}})}function fx(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function px(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(l=>l?(o=l,q.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new Vi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function lp(n,e,t){const r=Pe(n),o=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!ca(u))throw u;le(nm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function f_(n,e,t){const r=Pe(n);let o=Ie.min(),l=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=Pe(f),E=w.xs.get(v);return E!==void 0?q.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(r,u,fr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{l=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Ie.min(),t?l:Ne())).next(d=>(mx(r,eC(e),d),{documents:d,Qs:l})))}function mx(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Os.set(e,r)}class p_{constructor(){this.activeTargetIds=oC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gx{constructor(){this.Mo=new p_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="ConnectivityMonitor";class g_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(m_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(m_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function up(){return Ec===null?Ec=function(){return 268435456+Math.round(2147483648*Math.random())}():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RestConnection",vx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _x{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,l){const u=up(),d=this.zo(e,t.toUriEncodedString());le(Cf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,l);const{host:m}=new URL(d),v=oa(m);return this.Jo(e,d,f,r,v).then(w=>(le(Cf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Xo(Cf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,t,r,o,l,u){return this.Go(e,t,r,o,l)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+la}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const r=vx[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Tx extends _x{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,l){const u=up();return new Promise((d,f)=>{const m=new xw;m.setWithCredentials(!0),m.listenOnce(Rw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Rc.NO_ERROR:const w=m.getResponseJson();le(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Rc.TIMEOUT:le(Wt,`RPC '${e}' ${u} timed out`),f(new fe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const E=m.getStatus();if(le(Wt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const U=function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(G)>=0?G:Q.UNKNOWN}(L.status);f(new fe(U,L.message))}else f(new fe(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new fe(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(Wt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);le(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}T_(e,t,r){const o=up(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Nw(),d=Vw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=l.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let E=!1,C=!1;const L=new wx({Yo:b=>{C?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(E||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,b),w.send(b))},Zo:()=>w.close()}),U=(b,W,G)=>{b.listen(W,J=>{try{G(J)}catch(se){setTimeout(()=>{throw se},0)}})};return U(w,dl.EventType.OPEN,()=>{C||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),L.o_())}),U(w,dl.EventType.CLOSE,()=>{C||(C=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(w))}),U(w,dl.EventType.ERROR,b=>{C||(C=!0,Xo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),L.a_(new fe(Q.UNAVAILABLE,"The operation could not be completed")))}),U(w,dl.EventType.MESSAGE,b=>{if(!C){const W=b.data[0];Be(!!W,16349);const G=W,J=G?.error||G[0]?.error;if(J){le(Wt,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let ie=function(I){const x=pt[I];if(x!==void 0)return hT(x)}(se),ue=J.message;ie===void 0&&(ie=Q.INTERNAL,ue="Unknown error status: "+se+" with message "+J.message),C=!0,L.a_(new fe(ie,ue)),w.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,W),L.u_(W)}}),U(d,kw.STAT_EVENT,b=>{b.stat===Yf.PROXY?le(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===Yf.NOPROXY&&le(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function xf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(n){return new AC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,t,r=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="PersistentStream";class PT{constructor(e,t,r,o,l,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new fe(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(y_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(y_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ex extends PT{constructor(e,t,r,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=xC(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ie.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?pr(u.readTime):Ie.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=ap(this.serializer),t.addTarget=function(l,u){let d;const f=u.target;if(d=np(f)?{documents:VC(l,f)}:{query:NC(l,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=pT(l,u.resumeToken);const m=ip(l,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=Yc(l,u.snapshotVersion.toTimestamp());const m=ip(l,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=bC(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.q_(t)}}class Sx extends PT{constructor(e,t,r,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=kC(e.writeResults,e.commitTime),r=pr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=ap(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>RC(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{}class Ax extends Ix{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,sp(t,r),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(Q.UNKNOWN,l.toString())})}Ho(e,t,r,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,sp(t,r),o,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Q.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Px{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class Cx{constructor(e,t,r,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{js(this)&&(le(Ls,"Restarting streams for network reachability change."),await async function(f){const m=Pe(f);m.Ea.add(4),await Kl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Ph(m)}(this))})}),this.Ra=new Px(r,o)}}async function Ph(n){if(js(n))for(const e of n.da)await e(!0)}async function Kl(n){for(const e of n.da)await e(!1)}function CT(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),om(t)?sm(t):ha(t).O_()&&im(t,e))}function rm(n,e){const t=Pe(n),r=ha(t);t.Ia.delete(e),r.O_()&&xT(t,e),t.Ia.size===0&&(r.O_()?r.L_():js(t)&&t.Ra.set("Unknown"))}function im(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ha(n).Y_(e)}function xT(n,e){n.Va.Ue(e),ha(n).Z_(e)}function sm(n){n.Va=new TC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ha(n).start(),n.Ra.ua()}function om(n){return js(n)&&!ha(n).x_()&&n.Ia.size>0}function js(n){return Pe(n).Ea.size===0}function RT(n){n.Va=void 0}async function xx(n){n.Ra.set("Online")}async function Rx(n){n.Ia.forEach((e,t)=>{im(n,e)})}async function kx(n,e){RT(n),om(n)?(n.Ra.ha(e),sm(n)):n.Ra.set("Unknown")}async function Vx(n,e,t){if(n.Ra.set("Online"),e instanceof fT&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const d of l.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(r){le(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zc(n,r)}else if(e instanceof Dc?n.Va.Ze(e):e instanceof dT?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await IT(n.localStore);t.compareTo(r)>=0&&await function(l,u){const d=l.Va.Tt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=l.Ia.get(f);if(!v)return;l.Ia.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),xT(l,f);const w=new Vi(v.target,f,m,v.sequenceNumber);im(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){le(Ls,"Failed to raise snapshot:",r),await Zc(n,r)}}async function Zc(n,e,t){if(!ca(e))throw e;n.Ea.add(1),await Kl(n),n.Ra.set("Offline"),t||(t=()=>IT(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Ls,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ph(n)})}function kT(n,e){return e().catch(t=>Zc(n,t,e))}async function Ch(n){const e=Pe(n),t=Bi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zp;for(;Nx(e);)try{const o=await fx(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,Dx(e,o)}catch(o){await Zc(e,o)}VT(e)&&NT(e)}function Nx(n){return js(n)&&n.Ta.length<10}function Dx(n,e){n.Ta.push(e);const t=Bi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function VT(n){return js(n)&&!Bi(n).x_()&&n.Ta.length>0}function NT(n){Bi(n).start()}async function bx(n){Bi(n).ra()}async function Mx(n){const e=Bi(n);for(const t of n.Ta)e.ea(t.mutations)}async function Lx(n,e,t){const r=n.Ta.shift(),o=Xp.from(r,e,t);await kT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ch(n)}async function Ox(n,e){e&&Bi(n).X_&&await async function(r,o){if(function(u){return vC(u)&&u!==Q.ABORTED}(o.code)){const l=r.Ta.shift();Bi(r).B_(),await kT(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Ch(r)}}(n,e),VT(n)&&NT(n)}async function v_(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),le(Ls,"RemoteStore received new credentials");const r=js(t);t.Ea.add(3),await Kl(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ph(t)}async function Fx(n,e){const t=Pe(n);e?(t.Ea.delete(2),await Ph(t)):e||(t.Ea.add(2),await Kl(t),t.Ra.set("Unknown"))}function ha(n){return n.ma||(n.ma=function(t,r,o){const l=Pe(t);return l.sa(),new Ex(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:xx.bind(null,n),t_:Rx.bind(null,n),r_:kx.bind(null,n),H_:Vx.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),om(n)?sm(n):n.Ra.set("Unknown")):(await n.ma.stop(),RT(n))})),n.ma}function Bi(n){return n.fa||(n.fa=function(t,r,o){const l=Pe(t);return l.sa(),new Sx(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:bx.bind(null,n),r_:Ox.bind(null,n),ta:Mx.bind(null,n),na:Lx.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Ch(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Ls,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,l){const u=Date.now()+r,d=new am(e,t,u,o,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lm(n,e){if(Kr("AsyncQueue",`${e}: ${n}`),ca(n))return new fe(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{static emptySet(e){return new Ho(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=fl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(){this.ga=new st(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ta{constructor(e,t,r,o,l,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,l){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ta(e,t,Ho.emptySet(t),u,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Ux{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Pe(t),l=o.queries;o.queries=w_(),l.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new fe(Q.ABORTED,"Firestore shutting down"))}}function w_(){return new Fs(n=>Zw(n),wh)}async function DT(n,e){const t=Pe(n);let r=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(r=2):(l=new jx,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=lm(u,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&um(t)}async function bT(n,e){const t=Pe(n),r=e.query;let o=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Bx(n,e){const t=Pe(n);let r=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&um(t)}function zx(n,e,t){const r=Pe(n),o=r.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);r.queries.delete(e)}function um(n){n.Ca.forEach(e=>{e.next()})}var cp,T_;(T_=cp||(cp={})).Ma="default",T_.Cache="cache";class MT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ta(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.key=e}}class OT{constructor(e){this.key=e}}class $x{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=eT(e),this.tu=new Ho(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new __,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),C=Th(this.query,w)?w:null,L=!!E&&this.mutatedKeys.has(E.key),U=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let b=!1;E&&C?E.data.isEqual(C.data)?L!==U&&(r.track({type:3,doc:C}),b=!0):this.su(E,C)||(r.track({type:2,doc:C}),b=!0,(f&&this.eu(C,f)>0||m&&this.eu(C,m)<0)&&(d=!0)):!E&&C?(r.track({type:0,doc:C}),b=!0):E&&!C&&(r.track({type:1,doc:E}),b=!0,(f||m)&&(d=!0)),b&&(C?(u=u.add(C),l=U?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(C,L){const U=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:b})}};return U(C)-U(L)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ta(this.query,e.tu,l,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new __,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new OT(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new LT(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cm="SyncEngine";class Hx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Wx{constructor(e){this.key=e,this.hu=!1}}class qx{constructor(e,t,r,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Fs(d=>Zw(d),wh),this.Iu=new Map,this.Eu=new Set,this.du=new st(ye.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Kx(n,e,t=!0){const r=$T(n);let o;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await FT(r,e,t,!0),o}async function Gx(n,e){const t=$T(n);await FT(t,e,!0,!1)}async function FT(n,e,t,r){const o=await px(n.localStore,fr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await Qx(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&CT(n.remoteStore,o),d}async function Qx(n,e,t,r,o){n.pu=(w,E,C)=>async function(U,b,W,G){let J=b.view.ru(W);J.Cs&&(J=await f_(U.localStore,b.query,!1).then(({documents:V})=>b.view.ru(V,J)));const se=G&&G.targetChanges.get(b.targetId),ie=G&&G.targetMismatches.get(b.targetId)!=null,ue=b.view.applyChanges(J,U.isPrimaryClient,se,ie);return S_(U,b.targetId,ue.au),ue.snapshot}(n,w,E,C);const l=await f_(n.localStore,e,!0),u=new $x(e,l.Qs),d=u.ru(l.documents),f=ql.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);S_(n,t,m.au);const v=new Hx(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function Xx(n,e,t){const r=Pe(n),o=r.Tu.get(e),l=r.Iu.get(o.targetId);if(l.length>1)return r.Iu.set(o.targetId,l.filter(u=>!wh(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&rm(r.remoteStore,o.targetId),hp(r,o.targetId)}).catch(ua)):(hp(r,o.targetId),await lp(r.localStore,o.targetId,!0))}async function Yx(n,e){const t=Pe(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),rm(t.remoteStore,r.targetId))}async function Jx(n,e,t){const r=sR(n);try{const o=await function(u,d){const f=Pe(u),m=Xe.now(),v=d.reduce((C,L)=>C.add(L.key),Ne());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let L=Qr(),U=Ne();return f.Ns.getEntries(C,v).next(b=>{L=b,L.forEach((W,G)=>{G.isValidDocument()||(U=U.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,L)).next(b=>{w=b;const W=[];for(const G of d){const J=fC(G,w.get(G.key).overlayedDocument);J!=null&&W.push(new qi(G.key,J,qw(J.value.mapValue),Zn.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,W,d)}).next(b=>{E=b;const W=b.applyToLocalDocumentSet(w,U);return f.documentOverlayCache.saveOverlays(C,b.batchId,W)})}).then(()=>({batchId:E.batchId,changes:nT(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new st(Ve)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await Gl(r,o.changes),await Ch(r.remoteStore)}catch(o){const l=lm(o,"Failed to persist write");t.reject(l)}}async function jT(n,e){const t=Pe(n);try{const r=await hx(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Au.get(l);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Be(u.hu,14607):o.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))}),await Gl(t,r,e)}catch(r){await ua(r)}}function E_(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((l,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Pe(u);f.onlineState=d;let m=!1;f.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(d)&&(m=!0)}),m&&um(f)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Zx(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),l=o&&o.key;if(l){let u=new st(ye.comparator);u=u.insert(l,Gt.newNoDocument(l,Ie.min()));const d=Ne().add(l),f=new Ih(Ie.min(),new Map,new st(Ve),u,d);await jT(r,f),r.du=r.du.remove(l),r.Au.delete(e),hm(r)}else await lp(r.localStore,e,!1).then(()=>hp(r,e,t)).catch(ua)}async function eR(n,e){const t=Pe(n),r=e.batch.batchId;try{const o=await cx(t.localStore,e);BT(t,r,null),UT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(t,o)}catch(o){await ua(o)}}async function tR(n,e,t){const r=Pe(n);try{const o=await function(u,d){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(Be(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);BT(r,e,t),UT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gl(r,o)}catch(o){await ua(o)}}function UT(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function BT(n,e,t){const r=Pe(n);let o=r.Vu[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function hp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||zT(n,r)})}function zT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(rm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),hm(n))}function S_(n,e,t){for(const r of t)r instanceof LT?(n.Ru.addReference(r.key,e),nR(n,r)):r instanceof OT?(le(cm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||zT(n,r.key)):Te(19791,{wu:r})}function nR(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(le(cm,"New document in limbo: "+t),n.Eu.add(r),hm(n))}function hm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Qe.fromString(e)),r=n.fu.next();n.Au.set(r,new Wx(t)),n.du=n.du.insert(t,r),CT(n.remoteStore,new Vi(fr(Kp(t.path)),r,"TargetPurposeLimboResolution",gh.ce))}}async function Gl(n,e,t){const r=Pe(n),o=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,f)=>{u.push(r.pu(f,e,t).then(m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=tm.As(f.targetId,m);l.push(v)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(f,m){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>q.forEach(m,E=>q.forEach(E.Es,C=>v.persistence.referenceDelegate.addReference(w,E.targetId,C)).next(()=>q.forEach(E.ds,C=>v.persistence.referenceDelegate.removeReference(w,E.targetId,C)))))}catch(w){if(!ca(w))throw w;le(nm,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const C=v.Ms.get(E),L=C.snapshotVersion,U=C.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(E,U)}}}(r.localStore,l))}async function rR(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){le(cm,"User change. New user:",e.toKey());const r=await ST(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(d=>{d.forEach(f=>{f.reject(new fe(Q.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gl(t,r.Ls)}}function iR(n,e){const t=Pe(n),r=t.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let o=Ne();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function $T(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zx.bind(null,e),e.Pu.H_=Bx.bind(null,e.eventManager),e.Pu.yu=zx.bind(null,e.eventManager),e}function sR(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tR.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ux(this.persistence,new ox,e.initialUser,this.serializer)}Cu(e){return new ET(em.mi,this.serializer)}Du(e){return new gx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class oR extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WC(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new ET(r=>Jc.mi(r,t),this.serializer)}}class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rR.bind(null,this.syncEngine),await Fx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ux}()}createDatastore(e){const t=Ah(e.databaseInfo.databaseId),r=function(l){return new Tx(l)}(e.databaseInfo);return function(l,u,d,f){return new Ax(l,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,l,u,d){return new Cx(r,o,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>E_(this.syncEngine,t,0),function(){return g_.v()?new g_:new yx}())}createSyncEngine(e,t){return function(o,l,u,d,f,m,v){const w=new qx(o,l,u,d,f,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Pe(t);le(Ls,"RemoteStore shutting down."),r.Ea.add(5),await Kl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi="FirestoreClient";class aR{constructor(e,t,r,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{le(zi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le(zi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=lm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rf(n,e){n.asyncQueue.verifyOperationInProgress(),le(zi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await ST(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function I_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await lR(n);le(zi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>v_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>v_(e.remoteStore,o)),n._onlineComponents=e}async function lR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(zi,"Using user provided OfflineComponentProvider");try{await Rf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await Rf(n,new eh)}}else le(zi,"Using default OfflineComponentProvider"),await Rf(n,new oR(void 0));return n._offlineComponents}async function WT(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(zi,"Using user provided OnlineComponentProvider"),await I_(n,n._uninitializedComponentsProvider._online)):(le(zi,"Using default OnlineComponentProvider"),await I_(n,new dp))),n._onlineComponents}function uR(n){return WT(n).then(e=>e.syncEngine)}async function qT(n){const e=await WT(n),t=e.eventManager;return t.onListen=Kx.bind(null,e.syncEngine),t.onUnlisten=Xx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Gx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Yx.bind(null,e.syncEngine),t}function cR(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,f,m){const v=new HT({next:E=>{v.Nu(),u.enqueueAndForget(()=>bT(l,w));const C=E.docs.has(d);!C&&E.fromCache?m.reject(new fe(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&f&&f.source==="server"?m.reject(new fe(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new MT(Kp(d.path),v,{includeMetadataChanges:!0,qa:!0});return DT(l,w)}(await qT(n),n.asyncQueue,e,t,r)),r.promise}function hR(n,e,t={}){const r=new $r;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,f,m){const v=new HT({next:E=>{v.Nu(),u.enqueueAndForget(()=>bT(l,w)),E.fromCache&&f.source==="server"?m.reject(new fe(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new MT(d,v,{includeMetadataChanges:!0,qa:!0});return DT(l,w)}(await qT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firestore.googleapis.com",P_=!0;class C_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GT,this.ssl=P_}else this.host=e.host,this.ssl=e.ssl??P_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$C)throw new fe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}PP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gP;switch(r.type){case"firstParty":return new wP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=A_.get(t);r&&(le("ComponentProvider","Removing Datastore"),A_.delete(t),r.terminate())}(this),Promise.resolve()}}function dR(n,e,t,r={}){n=Gr(n,xh);const o=oa(e),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(_w(`https://${d}`),ww("Firestore",!0)),l.host!==GT&&l.host!==d&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:d,ssl:o,emulatorOptions:r};if(!Ds(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Kt.MOCK_USER;else{m=BI(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Kt(w)}n._authCredentials=new yP(new bw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rh(this.firestore,e,this._query)}}class Et{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Hl(t,Et._jsonSchema))return new Et(e,r||null,new ye(Qe.fromString(t.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:mt("string",Et._jsonSchemaVersion),referencePath:mt("string")};class Li extends Rh{constructor(e,t,r){super(e,t,Kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ye(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function fR(n,e,...t){if(n=tn(n),Mw("collection","path",e),n instanceof xh){const r=Qe.fromString(e,...t);return Bv(r),new Li(n,null,r)}{if(!(n instanceof Et||n instanceof Li))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return Bv(r),new Li(n.firestore,null,r)}}function fp(n,e,...t){if(n=tn(n),arguments.length===1&&(e=Up.newId()),Mw("doc","path",e),n instanceof xh){const r=Qe.fromString(e,...t);return Uv(r),new Et(n,null,new ye(r))}{if(!(n instanceof Et||n instanceof Li))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return Uv(r),new Et(n.firestore,n instanceof Li?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class R_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AT(this,"async_queue_retry"),this._c=()=>{const r=xf();r&&le(x_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=xf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ca(e))throw e;le(x_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",k_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=am.createAndSchedule(this,e,t,r,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function k_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class da extends xh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new R_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R_(e),this._firestoreClient=void 0,await e}}}function pR(n,e){const t=typeof n=="object"?n:Iw(),r=typeof n=="string"?n:Wc,o=Fp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const l=jI("firestore");l&&dR(o,...l)}return o}function dm(n){if(n._terminated)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mR(n),n._firestoreClient}function mR(n){const e=n._freezeSettings(),t=function(o,l,u,d){return new OP(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new aR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ut.fromBase64String(e))}catch(t){throw new fe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:mt("string",Mn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:mt("string",mr._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new gr(e.vectorValues);throw new fe(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:mt("string",gr._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=/^__.*__$/;class yR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class QT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class pm{constructor(e,t,r,o,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new pm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XT(this.Ac)&&gR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class vR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ah(e)}Cc(e,t,r,o=!1){return new pm({Ac:e,methodName:t,Dc:r,path:jt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function YT(n){const e=n._freezeSettings(),t=Ah(n._databaseId);return new vR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _R(n,e,t,r,o,l={}){const u=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);mm("Data must be an object, but it was:",u,r);const d=JT(r,u);let f,m;if(l.merge)f=new wn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const E=pp(e,w,t);if(!u.contains(E))throw new fe(Q.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);eE(v,E)||v.push(E)}f=new wn(v),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new yR(new dn(d),f,m)}class Vh extends fm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function wR(n,e,t,r){const o=n.Cc(1,e,t);mm("Data must be an object, but it was:",o,r);const l=[],u=dn.empty();Wi(r,(f,m)=>{const v=gm(e,f,t);m=tn(m);const w=o.yc(v);if(m instanceof Vh)l.push(v);else{const E=Nh(m,w);E!=null&&(l.push(v),u.set(v,E))}});const d=new wn(l);return new QT(u,d,o.fieldTransforms)}function TR(n,e,t,r,o,l){const u=n.Cc(1,e,t),d=[pp(e,r,t)],f=[o];if(l.length%2!=0)throw new fe(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)d.push(pp(e,l[E])),f.push(l[E+1]);const m=[],v=dn.empty();for(let E=d.length-1;E>=0;--E)if(!eE(m,d[E])){const C=d[E];let L=f[E];L=tn(L);const U=u.yc(C);if(L instanceof Vh)m.push(C);else{const b=Nh(L,U);b!=null&&(m.push(C),v.set(C,b))}}const w=new wn(m);return new QT(v,w,u.fieldTransforms)}function Nh(n,e){if(ZT(n=tn(n)))return mm("Unsupported field value:",e,n),JT(n,e);if(n instanceof fm)return function(r,o){if(!XT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const l=[];let u=0;for(const d of r){let f=Nh(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}}(n,e)}return function(r,o){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Xe.fromDate(r);return{timestampValue:Yc(o.serializer,l)}}if(r instanceof Xe){const l=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,l)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:pT(o.serializer,r._byteString)};if(r instanceof Et){const l=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Jp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof gr)return function(u,d){return{mapValue:{fields:{[Hw]:{stringValue:Ww},[qc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return Gp(d.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Bp(r)}`)}(n,e)}function JT(n,e){const t={};return Fw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(r,o)=>{const l=Nh(o,e.mc(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function ZT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof mr||n instanceof Mn||n instanceof Et||n instanceof fm||n instanceof gr)}function mm(n,e,t){if(!ZT(t)||!Lw(t)){const r=Bp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function pp(n,e,t){if((e=tn(e))instanceof kh)return e._internalPath;if(typeof e=="string")return gm(n,e);throw th("Field path arguments must be of type string or ",n,!1,void 0,t)}const ER=new RegExp("[~\\*/\\[\\]]");function gm(n,e,t){if(e.search(ER)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kh(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function th(n,e,t,r,o){const l=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new fe(Q.INVALID_ARGUMENT,d+n+f)}function eE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class SR extends tE{data(){return super.data()}}function nE(n,e){return typeof e=="string"?gm(n,e):e instanceof kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AR{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Wi(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertVectorValue(e){const t=e.fields?.[qc].arrayValue?.values?.map(r=>ht(r.doubleValue));return new gr(t)}convertGeoPoint(e){return new mr(ht(e.latitude),ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=vh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qe.fromString(e);Be(wT(r),9688,{name:e});const o=new Nl(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return o.isEqual(t)||Kr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends tE{constructor(e,t,r,o,l,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ks._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:mt("string",ks._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class bc extends ks{data(e={}){return super.data(e)}}class Wo{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ml(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bc(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ml(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const f=new bc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ml(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:CR(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function CR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(n){n=Gr(n,Et);const e=Gr(n.firestore,da);return cR(dm(e),n._key).then(t=>RR(e,n,t))}Wo._jsonSchemaVersion="firestore/querySnapshot/1.0",Wo._jsonSchema={type:mt("string",Wo._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class rE extends AR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,t)}}function xR(n){n=Gr(n,Rh);const e=Gr(n.firestore,da),t=dm(e),r=new rE(e);return IR(n._query),hR(t,n._query).then(o=>new Wo(e,r,n,o))}function E4(n,e,t,...r){n=Gr(n,Et);const o=Gr(n.firestore,da),l=YT(o);let u;return u=typeof(e=tn(e))=="string"||e instanceof kh?TR(l,"updateDoc",n._key,e,t,r):wR(l,"updateDoc",n._key,e),ym(o,[u.toMutation(n._key,Zn.exists(!0))])}function S4(n){return ym(Gr(n.firestore,da),[new Qp(n._key,Zn.none())])}function I4(n,e){const t=Gr(n.firestore,da),r=fp(n),o=PR(n.converter,e);return ym(t,[_R(YT(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function ym(n,e){return function(r,o){const l=new $r;return r.asyncQueue.enqueueAndForget(async()=>Jx(await uR(r),o,l)),l.promise}(dm(n),e)}function RR(n,e,t){const r=t.docs.get(e._key),o=new rE(n);return new ks(n,o,e._key,r,new ml(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){la=o})(aa),Qo(new bs("firestore",(r,{instanceIdentifier:o,options:l})=>{const u=r.getProvider("app").getImmediate(),d=new da(new vP(r.getProvider("auth-internal")),new TP(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(m.options.projectId,v)}(u,o),u);return l={useFetchStreams:t,...l},d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),bi(Lv,Ov,e),bi(Lv,Ov,"esm2020")})();function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kR=iE,sE=new zl("auth","Firebase",iE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Lp("@firebase/auth");function VR(n,...e){nh.logLevel<=ke.WARN&&nh.warn(`Auth (${aa}): ${n}`,...e)}function Mc(n,...e){nh.logLevel<=ke.ERROR&&nh.error(`Auth (${aa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(n,...e){throw vm(n,...e)}function yr(n,...e){return vm(n,...e)}function oE(n,e,t){const r={...kR(),[e]:t};return new zl("auth","Firebase",r).create(e,{appName:n.name})}function Vs(n){return oE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return sE.create(n,...e)}function Se(n,e,...t){if(!n)throw vm(e,...t)}function Br(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Mc(e),new Error(e)}function Yr(n,e){n||Br(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){return typeof self<"u"&&self.location?.href||""}function NR(){return N_()==="http:"||N_()==="https:"}function N_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NR()||KI()||"connection"in navigator)?navigator.onLine:!0}function bR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,t){this.shortDelay=e,this.longDelay=t,Yr(t>e,"Short delay should be less than long delay!"),this.isMobile=HI()||GI()}get(){return DR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(n,e){Yr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OR=new Ql(3e4,6e4);function wm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function fa(n,e,t,r,o={}){return lE(n,o,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const d=$l({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...l};return qI()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&oa(n.emulatorConfig.host)&&(m.credentials="include"),aE.fetch()(await uE(n,n.config.apiHost,t,d),m)})}async function lE(n,e,t){n._canInitEmulator=!1;const r={...MR,...e};try{const o=new jR(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Sc(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const d=l.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Sc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Sc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw oE(n,v,m);Xr(n,v)}}catch(o){if(o instanceof Zr)throw o;Xr(n,"network-request-failed",{message:String(o)})}}async function FR(n,e,t,r,o={}){const l=await fa(n,e,t,r,o);return"mfaPendingCredential"in l&&Xr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function uE(n,e,t,r){const o=`${e}${t}?${r}`,l=n,u=l.config.emulator?_m(n.config,o):`${n.config.apiScheme}://${o}`;return LR.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class jR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),OR.get())})}}function Sc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=yr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(n,e){return fa(n,"POST","/v1/accounts:delete",e)}async function rh(n,e){return fa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BR(n,e=!1){const t=tn(n),r=await t.getIdToken(e),o=Tm(r);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:r,authTime:Il(kf(o.auth_time)),issuedAtTime:Il(kf(o.iat)),expirationTime:Il(kf(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function kf(n){return Number(n)*1e3}function Tm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=mw(t);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D_(n){const e=Tm(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zr&&zR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(n){const e=n.auth,t=await n.getIdToken(),r=await Ll(n,rh(e,{idToken:t}));Se(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?cE(o.providerUserInfo):[],u=WR(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function HR(n){const e=tn(n);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function cE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(n,e){const t=await lE(n,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,u=await uE(n,o,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&oa(n.emulatorConfig.host)&&(f.credentials="include"),aE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function KR(n,e){return fa(n,"POST","/v2/accounts:revokeToken",wm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=D_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:l}=await qR(e,t);this.updateTokensAndExpiration(r,o,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:l}=t,u=new qo;return r&&(Se(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Se(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Se(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new $R(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return BR(this,e)}reload(){return HR(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await Ll(this,UR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:C,providerData:L,stsTokenManager:U}=t;Se(w&&U,e,"internal-error");const b=qo.fromJSON(this.name,U);Se(typeof w=="string",e,"internal-error"),Ai(r,e.name),Ai(o,e.name),Se(typeof E=="boolean",e,"internal-error"),Se(typeof C=="boolean",e,"internal-error"),Ai(l,e.name),Ai(u,e.name),Ai(d,e.name),Ai(f,e.name),Ai(m,e.name),Ai(v,e.name);const W=new Jn({uid:w,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:l,tenantId:d,stsTokenManager:b,createdAt:m,lastLoginAt:v});return L&&Array.isArray(L)&&(W.providerData=L.map(G=>({...G}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,t,r=!1){const o=new qo;o.updateFromServerResponse(t);const l=new Jn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ih(l),l}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?cE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,d=new qo;d.updateFromIdToken(r);const f=new Jn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=new Map;function zr(n){Yr(n instanceof Function,"Expected a class definition");let e=b_.get(n);return e?(Yr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,b_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hE.type="NONE";const M_=hE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(n,e,t){return`firebase:${n}:${e}:${t}`}class Ko{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:l}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,l),this.fullPersistenceKey=Lc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rh(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ko(zr(M_),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||zr(M_);const u=Lc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const E=await rh(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Jn._fromGetAccountInfoResponse(e,E,v)}else w=Jn._fromJSON(e,v);m!==l&&(d=w),l=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Ko(l,e,r):(l=f[0],d&&await l._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Ko(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yE(e))return"Blackberry";if(vE(e))return"Webos";if(fE(e))return"Safari";if((e.includes("chrome/")||pE(e))&&!e.includes("edge/"))return"Chrome";if(gE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function dE(n=Xt()){return/firefox\//i.test(n)}function fE(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pE(n=Xt()){return/crios\//i.test(n)}function mE(n=Xt()){return/iemobile/i.test(n)}function gE(n=Xt()){return/android/i.test(n)}function yE(n=Xt()){return/blackberry/i.test(n)}function vE(n=Xt()){return/webos/i.test(n)}function Em(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function GR(n=Xt()){return Em(n)&&!!window.navigator?.standalone}function QR(){return QI()&&document.documentMode===10}function _E(n=Xt()){return Em(n)||gE(n)||vE(n)||yE(n)||/windows phone/i.test(n)||mE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e=[]){let t;switch(n){case"Browser":t=L_(Xt());break;case"Worker":t=`${L_(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${aa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,d)=>{try{const f=e(l);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(n,e={}){return fa(n,"GET","/v2/passwordPolicy",wm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=6;class ZR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??JR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new XR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ko.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rh(this,{idToken:e}),r=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(Vs(this));const t=e?tn(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YR(this),t=new ZR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await KR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Ko.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&VR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Sm(n){return tn(n)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=rA(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tk(n){Im=n}function nk(n){return Im.loadJS(n)}function rk(){return Im.gapiScript}function ik(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n,e){const t=Fp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ds(l,e??{}))return o;Xr(o,"already-initialized")}return t.initialize({options:e})}function ok(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ak(n,e,t){const r=Sm(n);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,l=TE(e),{host:u,port:d}=lk(e),f=d===null?"":`:${d}`,m={url:`${l}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(Ds(m,r.config.emulator)&&Ds(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,oa(u)?(_w(`${l}//${u}${f}`),ww("Auth",!0)):uk()}function TE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function lk(n){const e=TE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const l=o[1];return{host:l,port:F_(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:F_(u)}}}function F_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function uk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Br("not implemented")}_getIdTokenResponse(e){return Br("not implemented")}_linkToIdToken(e,t){return Br("not implemented")}_getReauthenticationResolver(e){return Br("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Go(n,e){return FR(n,"POST","/v1/accounts:signInWithIdp",wm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="http://localhost";class Os extends EE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...l}=t;if(!r||!o)return null;const u=new Os(r,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Go(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Go(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Go(e,t)}buildRequest(){const e={requestUri:ck,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=$l(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends SE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends Xl{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return xi.credential(t,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Xl{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Xl{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const l=await Jn._fromIdTokenResponse(e,r,o),u=j_(r);return new na({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=j_(r);return new na({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function j_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends Zr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new sh(e,t,r,o)}}function IE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(n,l,e,r):l})}async function hk(n,e,t=!1){const r=await Ll(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return na._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(n,e,t=!1){const{auth:r}=n;if(dr(r.app))return Promise.reject(Vs(r));const o="reauthenticate";try{const l=await Ll(n,IE(r,o,e,n),t);Se(l.idToken,r,"internal-error");const u=Tm(l.idToken);Se(u,r,"internal-error");const{sub:d}=u;return Se(n.uid===d,r,"user-mismatch"),na._forOperation(n,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Xr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e,t=!1){if(dr(n.app))return Promise.reject(Vs(n));const r="signIn",o=await IE(n,r,e),l=await na._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(l.user),l}function pk(n,e,t,r){return tn(n).onIdTokenChanged(e,t,r)}function mk(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function A4(n,e,t,r){return tn(n).onAuthStateChanged(e,t,r)}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=1e3,yk=10;class PE extends AE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_E(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);QR()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yk):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PE.type="LOCAL";const vk=PE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends AE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CE.type="SESSION";const xE=CE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Dh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,l)),f=await _k(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((d,f)=>{const m=Am("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(E.data.response);break;default:clearTimeout(v),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function Tk(n){vr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function Ek(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sk(){return navigator?.serviceWorker?.controller||null}function Ik(){return RE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="firebaseLocalStorageDb",Ak=1,ah="firebaseLocalStorage",VE="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function bh(n,e){return n.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function Pk(){const n=indexedDB.deleteDatabase(kE);return new Yl(n).toPromise()}function yp(){const n=indexedDB.open(kE,Ak);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ah,{keyPath:VE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await Pk(),e(await yp()))})})}async function U_(n,e,t){const r=bh(n,!0).put({[VE]:e,value:t});return new Yl(r).toPromise()}async function Ck(n,e){const t=bh(n,!1).get(e),r=await new Yl(t).toPromise();return r===void 0?null:r.value}function B_(n,e){const t=bh(n,!0).delete(e);return new Yl(t).toPromise()}const xk=800,Rk=3;class NE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Rk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(Ik()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ek(),!this.activeServiceWorker)return;this.sender=new wk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Sk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await U_(e,oh,"1"),await B_(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>U_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Ck(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>B_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=bh(o,!1).getAll();return new Yl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NE.type="LOCAL";const kk=NE;new Ql(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(n,e){return e?zr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends EE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Nk(n){return fk(n.auth,new Pm(n),n.bypassAuthState)}function Dk(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),dk(t,new Pm(n),n.bypassAuthState)}async function bk(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),hk(t,new Pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,t,r,o,l=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:l,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Nk;case"linkViaPopup":case"linkViaRedirect":return bk;case"reauthViaPopup":case"reauthViaRedirect":return Dk;default:Xr(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new Ql(2e3,1e4);class Fo extends DE{constructor(e,t,r,o,l){super(e,t,o,l),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=Am();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mk.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="pendingRedirect",Oc=new Map;class Ok extends DE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Oc.get(this.auth._key());if(!e){try{const r=await Fk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Oc.set(this.auth._key(),e)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Fk(n,e){const t=Bk(e),r=Uk(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function jk(n,e){Oc.set(n._key(),e)}function Uk(n){return zr(n._redirectPersistence)}function Bk(n){return Lc(Lk,n.config.apiKey,n.name)}async function zk(n,e,t=!1){if(dr(n.app))return Promise.reject(Vs(n));const r=Sm(n),o=Vk(r,e),u=await new Ok(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=600*1e3;class Hk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!bE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(yr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$k&&this.cachedEventUids.clear(),this.cachedEventUids.has(z_(e))}saveEventToCache(e){this.cachedEventUids.add(z_(e)),this.lastProcessedEventTime=Date.now()}}function z_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Wk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e={}){return fa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gk=/^https?/;async function Qk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qk(n);for(const t of e)try{if(Xk(t))return}catch{}Xr(n,"unauthorized-domain")}function Xk(n){const e=mp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Gk.test(t))return!1;if(Kk.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=new Ql(3e4,6e4);function $_(){const n=vr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Jk(n){return new Promise((e,t)=>{function r(){$_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$_(),t(yr(n,"network-request-failed"))},timeout:Yk.get()})}if(vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vr().gapi?.load)r();else{const o=ik("iframefcb");return vr()[o]=()=>{gapi.load?r():t(yr(n,"network-request-failed"))},nk(`${rk()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function Zk(n){return Fc=Fc||Jk(n),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Ql(5e3,15e3),t2="__/auth/iframe",n2="emulator/auth/iframe",r2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?_m(e,n2):`https://${n.config.authDomain}/${t2}`,r={apiKey:e.apiKey,appName:n.name,v:aa},o=i2.get(n.config.apiHost);o&&(r.eid=o);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${$l(r).slice(1)}`}async function o2(n){const e=await Zk(n),t=vr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:s2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r2,dontclear:!0},r=>new Promise(async(o,l)=>{await r.restyle({setHideOnLeave:!1});const u=yr(n,"network-request-failed"),d=vr().setTimeout(()=>{l(u)},e2.get());function f(){vr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l2=500,u2=600,c2="_blank",h2="http://localhost";class H_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function d2(n,e,t,r=l2,o=u2){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...a2,width:r.toString(),height:o.toString(),top:l,left:u},m=Xt().toLowerCase();t&&(d=pE(m)?c2:t),dE(m)&&(e=e||h2,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[C,L])=>`${E}${C}=${L},`,"");if(GR(m)&&d!=="_self")return f2(e||"",d),new H_(null);const w=window.open(e||"",d,v);Se(w,n,"popup-blocked");try{w.focus()}catch{}return new H_(w)}function f2(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="__/auth/handler",m2="emulator/auth/handler",g2=encodeURIComponent("fac");async function W_(n,e,t,r,o,l){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:aa,eventId:o};if(e instanceof SE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",nA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof Xl){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${g2}=${encodeURIComponent(f)}`:"";return`${y2(n)}?${$l(d).slice(1)}${m}`}function y2({config:n}){return n.emulator?_m(n,m2):`https://${n.authDomain}/${p2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="webStorageSupport";class v2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=zk,this._overrideRedirectResult=jk}async _openPopup(e,t,r,o){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await W_(e,t,r,mp(),o);return d2(e,l,Am())}async _openRedirect(e,t,r,o){await this._originValidation(e);const l=await W_(e,t,r,mp(),o);return Tk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Yr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await o2(e),r=new Hk(e);return t.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vf,{type:Vf},o=>{const l=o?.[0]?.[Vf];l!==void 0&&t(!!l),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Qk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _E()||fE()||Em()}}const _2=v2;var q_="@firebase/auth",K_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E2(n){Qo(new bs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Se(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(n)},m=new ek(r,o,l,f);return ok(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qo(new bs("auth-internal",e=>{const t=Sm(e.getProvider("auth").getImmediate());return(r=>new w2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(q_,K_,T2(n)),bi(q_,K_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=300,I2=vw("authIdTokenMaxAge")||S2;let G_=null;const A2=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>I2)return;const o=t?.token;G_!==o&&(G_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P2(n=Iw()){const e=Fp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=sk(n,{popupRedirectResolver:_2,persistence:[kk,vk,xE]}),r=vw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=A2(l.toString());mk(t,u,()=>u(t.currentUser)),pk(t,d=>u(d))}}const o=gw("auth");return o&&ak(t,`http://${o}`),t}function C2(){return document.getElementsByTagName("head")?.[0]??document}tk({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const l=yr("internal-error");l.customData=o,t(l)},r.type="text/javascript",r.charset="UTF-8",C2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E2("Browser");const Cm=te.createContext({});function xm(n){const e=te.useRef(null);return e.current===null&&(e.current=n()),e.current}const Mh=te.createContext(null),Rm=te.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class x2 extends te.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function R2({children:n,isPresent:e}){const t=te.useId(),r=te.useRef(null),o=te.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=te.useContext(Rm);return te.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m}=o.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),P.jsx(x2,{isPresent:e,childRef:r,sizeRef:o,children:te.cloneElement(n,{ref:r})})}const k2=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:l,mode:u})=>{const d=xm(V2),f=te.useId(),m=te.useCallback(w=>{d.set(w,!0);for(const E of d.values())if(!E)return;r&&r()},[d,r]),v=te.useMemo(()=>({id:f,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(d.set(w,!1),()=>d.delete(w))}),l?[Math.random(),m]:[t,m]);return te.useMemo(()=>{d.forEach((w,E)=>d.set(E,!1))},[t]),te.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=P.jsx(R2,{isPresent:t,children:n})),P.jsx(Mh.Provider,{value:v,children:n})};function V2(){return new Map}function ME(n=!0){const e=te.useContext(Mh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,l=te.useId();te.useEffect(()=>{n&&o(l)},[n]);const u=te.useCallback(()=>n&&r&&r(l),[l,r,n]);return!t&&r?[!1,u]:[!0]}const Ic=n=>n.key||"";function Q_(n){const e=[];return te.Children.forEach(n,t=>{te.isValidElement(t)&&e.push(t)}),e}const km=typeof window<"u",LE=km?te.useLayoutEffect:te.useEffect,Lh=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1})=>{const[d,f]=ME(u),m=te.useMemo(()=>Q_(n),[n]),v=u&&!d?[]:m.map(Ic),w=te.useRef(!0),E=te.useRef(m),C=xm(()=>new Map),[L,U]=te.useState(m),[b,W]=te.useState(m);LE(()=>{w.current=!1,E.current=m;for(let se=0;se<b.length;se++){const ie=Ic(b[se]);v.includes(ie)?C.delete(ie):C.get(ie)!==!0&&C.set(ie,!1)}},[b,v.length,v.join("-")]);const G=[];if(m!==L){let se=[...m];for(let ie=0;ie<b.length;ie++){const ue=b[ie],V=Ic(ue);v.includes(V)||(se.splice(ie,0,ue),G.push(ue))}l==="wait"&&G.length&&(se=G),W(Q_(se)),U(m);return}const{forceRender:J}=te.useContext(Cm);return P.jsx(P.Fragment,{children:b.map(se=>{const ie=Ic(se),ue=u&&!d?!1:m===b||v.includes(ie),V=()=>{if(C.has(ie))C.set(ie,!0);else return;let I=!0;C.forEach(x=>{x||(I=!1)}),I&&(J?.(),W(E.current),u&&f?.(),r&&r())};return P.jsx(k2,{isPresent:ue,initial:!w.current||t?void 0:!1,custom:ue?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:ue?void 0:V,children:se},ie)})})},Tn=n=>n;let OE=Tn;function Vm(n){let e;return()=>(e===void 0&&(e=n()),e)}const ra=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Hr=n=>n*1e3,Wr=n=>n/1e3,N2={useManualTiming:!1};function D2(n){let e=new Set,t=new Set,r=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){l.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,v=!1,w=!1)=>{const C=w&&r?e:t;return v&&l.add(m),C.has(m)||C.add(m),m},cancel:m=>{t.delete(m),l.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const Ac=["read","resolveKeyframes","update","preRender","render","postRender"],b2=40;function FE(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,u=Ac.reduce((W,G)=>(W[G]=D2(l),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:v,render:w,postRender:E}=u,C=()=>{const W=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,b2),1),o.timestamp=W,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),v.process(o),w.process(o),E.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(C))},L=()=>{t=!0,r=!0,o.isProcessing||n(C)};return{schedule:Ac.reduce((W,G)=>{const J=u[G];return W[G]=(se,ie=!1,ue=!1)=>(t||L(),J.schedule(se,ie,ue)),W},{}),cancel:W=>{for(let G=0;G<Ac.length;G++)u[Ac[G]].cancel(W)},state:o,steps:u}}const{schedule:Ye,cancel:$i,state:Ot,steps:Nf}=FE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tn,!0),Nm=te.createContext({strict:!1}),X_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ia={};for(const n in X_)ia[n]={isEnabled:e=>X_[n].some(t=>!!e[t])};function vp(n){for(const e in n)ia[e]={...ia[e],...n[e]}}function M2({children:n,features:e,strict:t=!1}){const[,r]=te.useState(!Df(e)),o=te.useRef(void 0);if(!Df(e)){const{renderer:l,...u}=e;o.current=l,vp(u)}return te.useEffect(()=>{Df(e)&&e().then(({renderer:l,...u})=>{vp(u),o.current=l,r(!0)})},[]),P.jsx(Nm.Provider,{value:{renderer:o.current,strict:t},children:n})}function Df(n){return typeof n=="function"}const L2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function lh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||L2.has(n)}let jE=n=>!lh(n);function O2(n){n&&(jE=e=>e.startsWith("on")?!lh(e):n(e))}try{O2(require("@emotion/is-prop-valid").default)}catch{}function F2(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(jE(o)||t===!0&&lh(o)||!e&&!lh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function j2(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Oh=te.createContext({});function Ol(n){return typeof n=="string"||Array.isArray(n)}function Fh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bm=["initial",...Dm];function jh(n){return Fh(n.animate)||bm.some(e=>Ol(n[e]))}function UE(n){return!!(jh(n)||n.variants)}function U2(n,e){if(jh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Ol(t)?t:void 0,animate:Ol(r)?r:void 0}}return n.inherit!==!1?e:{}}function B2(n){const{initial:e,animate:t}=U2(n,te.useContext(Oh));return te.useMemo(()=>({initial:e,animate:t}),[Y_(e),Y_(t)])}function Y_(n){return Array.isArray(n)?n.join(" "):n}const z2=Symbol.for("motionComponentSymbol");function jo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function $2(n,e,t){return te.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):jo(t)&&(t.current=r))},[e])}const Mm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H2="framerAppearId",BE="data-"+Mm(H2),{schedule:Lm}=FE(queueMicrotask,!1),zE=te.createContext({});function W2(n,e,t,r,o){var l,u;const{visualElement:d}=te.useContext(Oh),f=te.useContext(Nm),m=te.useContext(Mh),v=te.useContext(Rm).reducedMotion,w=te.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const E=w.current,C=te.useContext(zE);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&q2(w.current,t,o,C);const L=te.useRef(!1);te.useInsertionEffect(()=>{E&&L.current&&E.update(t,m)});const U=t[BE],b=te.useRef(!!U&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,U))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,U)));return LE(()=>{E&&(L.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Lm.render(E.render),b.current&&E.animationState&&E.animationState.animateChanges())}),te.useEffect(()=>{E&&(!b.current&&E.animationState&&E.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,U)}),b.current=!1))}),E}function q2(n,e,t,r){const{layoutId:o,layout:l,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:$E(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||d&&jo(d),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function $E(n){if(n)return n.options.allowProjection!==!1?n.projection:$E(n.parent)}function K2({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){var l,u;n&&vp(n);function d(m,v){let w;const E={...te.useContext(Rm),...m,layoutId:G2(m)},{isStatic:C}=E,L=B2(m),U=r(m,C);if(!C&&km){Q2();const b=X2(E);w=b.MeasureLayout,L.visualElement=W2(o,U,E,e,b.ProjectionNode)}return P.jsxs(Oh.Provider,{value:L,children:[w&&L.visualElement?P.jsx(w,{visualElement:L.visualElement,...E}):null,t(o,m,$2(U,L.visualElement,v),U,C,L.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&u!==void 0?u:""})`}`;const f=te.forwardRef(d);return f[z2]=o,f}function G2({layoutId:n}){const e=te.useContext(Cm).id;return e&&n!==void 0?e+"-"+n:n}function Q2(n,e){te.useContext(Nm).strict}function X2(n){const{drag:e,layout:t}=ia;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Y2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Om(n){return typeof n!="string"||n.includes("-")?!1:!!(Y2.indexOf(n)>-1||/[A-Z]/u.test(n))}function J_(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Fm(n,e,t,r){if(typeof e=="function"){const[o,l]=J_(r);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=J_(r);e=e(t!==void 0?t:n.custom,o,l)}return e}const _p=n=>Array.isArray(n),J2=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Z2=n=>_p(n)?n[n.length-1]||0:n,Qt=n=>!!(n&&n.getVelocity);function jc(n){const e=Qt(n)?n.get():n;return J2(e)?e.toValue():e}function eV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,o,l){const u={latestValues:tV(r,o,l,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const HE=n=>(e,t)=>{const r=te.useContext(Oh),o=te.useContext(Mh),l=()=>eV(n,e,r,o);return t?l():xm(l)};function tV(n,e,t,r){const o={},l=r(n,{});for(const E in l)o[E]=jc(l[E]);let{initial:u,animate:d}=n;const f=jh(n),m=UE(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?d:u;if(w&&typeof w!="boolean"&&!Fh(w)){const E=Array.isArray(w)?w:[w];for(let C=0;C<E.length;C++){const L=Fm(n,E[C]);if(L){const{transitionEnd:U,transition:b,...W}=L;for(const G in W){let J=W[G];if(Array.isArray(J)){const se=v?J.length-1:0;J=J[se]}J!==null&&(o[G]=J)}for(const G in U)o[G]=U[G]}}}return o}const pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Us=new Set(pa),WE=n=>e=>typeof e=="string"&&e.startsWith(n),qE=WE("--"),nV=WE("var(--"),jm=n=>nV(n)?rV.test(n.split("/*")[0].trim()):!1,rV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Jr=(n,e,t)=>t>e?e:t<n?n:t,ma={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Fl={...ma,transform:n=>Jr(0,1,n)},Pc={...ma,default:1},Jl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Pi=Jl("deg"),_r=Jl("%"),we=Jl("px"),iV=Jl("vh"),sV=Jl("vw"),Z_={..._r,parse:n=>_r.parse(n)/100,transform:n=>_r.transform(n*100)},oV={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},aV={rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:Pc,scaleX:Pc,scaleY:Pc,scaleZ:Pc,skew:Pi,skewX:Pi,skewY:Pi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Fl,originX:Z_,originY:Z_,originZ:we},e0={...ma,transform:Math.round},Um={...oV,...aV,zIndex:e0,size:we,fillOpacity:Fl,strokeOpacity:Fl,numOctaves:e0},lV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uV=pa.length;function cV(n,e,t){let r="",o=!0;for(let l=0;l<uV;l++){const u=pa[l],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=KE(d,Um[u]);if(!f){o=!1;const v=lV[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Bm(n,e,t){const{style:r,vars:o,transformOrigin:l}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if(Us.has(f)){u=!0;continue}else if(qE(f)){o[f]=m;continue}else{const v=KE(m,Um[f]);f.startsWith("origin")?(d=!0,l[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=cV(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:v=0}=l;r.transformOrigin=`${f} ${m} ${v}`}}const hV={offset:"stroke-dashoffset",array:"stroke-dasharray"},dV={offset:"strokeDashoffset",array:"strokeDasharray"};function fV(n,e,t=1,r=0,o=!0){n.pathLength=1;const l=o?hV:dV;n[l.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[l.array]=`${u} ${d}`}function t0(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function pV(n,e,t){const r=t0(e,n.x,n.width),o=t0(t,n.y,n.height);return`${r} ${o}`}function zm(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},v,w){if(Bm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:C,dimensions:L}=n;E.transform&&(L&&(C.transform=E.transform),delete E.transform),L&&(o!==void 0||l!==void 0||C.transform)&&(C.transformOrigin=pV(L,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),u!==void 0&&fV(E,u,d,f,!1)}const $m=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GE=()=>({...$m(),attrs:{}}),Hm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function QE(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const l in t)n.style.setProperty(l,t[l])}const XE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YE(n,e,t,r){QE(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(XE.has(o)?o:Mm(o),e.attrs[o])}const uh={};function mV(n){Object.assign(uh,n)}function JE(n,{layout:e,layoutId:t}){return Us.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!uh[n]||n==="opacity")}function Wm(n,e,t){var r;const{style:o}=n,l={};for(const u in o)(Qt(o[u])||e.style&&Qt(e.style[u])||JE(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[u]=o[u]);return l}function ZE(n,e,t){const r=Wm(n,e,t);for(const o in n)if(Qt(n[o])||Qt(e[o])){const l=pa.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[l]=n[o]}return r}function gV(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const n0=["x","y","width","height","cx","cy","r"],yV={useVisualState:HE({scrapeMotionValuesFromProps:ZE,createRenderState:GE,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const d in o)if(Us.has(d)){l=!0;break}}if(!l)return;let u=!e;if(e)for(let d=0;d<n0.length;d++){const f=n0[d];n[f]!==e[f]&&(u=!0)}u&&Ye.read(()=>{gV(t,r),Ye.render(()=>{zm(r,o,Hm(t.tagName),n.transformTemplate),YE(t,r)})})}})},vV={useVisualState:HE({scrapeMotionValuesFromProps:Wm,createRenderState:$m})};function e1(n,e,t){for(const r in e)!Qt(e[r])&&!JE(r,t)&&(n[r]=e[r])}function _V({transformTemplate:n},e){return te.useMemo(()=>{const t=$m();return Bm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function wV(n,e){const t=n.style||{},r={};return e1(r,t,n),Object.assign(r,_V(n,e)),r}function TV(n,e){const t={},r=wV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function EV(n,e,t,r){const o=te.useMemo(()=>{const l=GE();return zm(l,e,Hm(r),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};e1(l,n.style,n),o.style={...l,...o.style}}return o}function SV(n=!1){return(t,r,o,{latestValues:l},u)=>{const f=(Om(t)?EV:TV)(r,l,u,t),m=F2(r,typeof t=="string",n),v=t!==te.Fragment?{...m,...f,ref:o}:{},{children:w}=r,E=te.useMemo(()=>Qt(w)?w.get():w,[w]);return te.createElement(t,{...v,children:E})}}function IV(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Om(r)?yV:vV,preloadedFeatures:n,useRender:SV(o),createVisualElement:e,Component:r};return K2(u)}}function t1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Uh(n,e,t){const r=n.getProps();return Fm(r,e,t!==void 0?t:r.custom,n)}const AV=Vm(()=>window.ScrollTimeline!==void 0);class PV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(o=>{if(AV()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{r.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class CV extends PV{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function qm(n,e){return n?n[e]||n.default||n:void 0}const wp=2e4;function n1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<wp;)e+=t,r=n.next(e);return e>=wp?1/0:e}function Km(n){return typeof n=="function"}function r0(n,e){n.timeline=e,n.onfinish=null}const Gm=n=>Array.isArray(n)&&typeof n[0]=="number",xV={linearEasing:void 0};function RV(n,e){const t=Vm(n);return()=>{var r;return(r=xV[e])!==null&&r!==void 0?r:t()}}const ch=RV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),r1=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)r+=n(ra(0,o-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function i1(n){return!!(typeof n=="function"&&ch()||!n||typeof n=="string"&&(n in Tp||ch())||Gm(n)||Array.isArray(n)&&n.every(i1))}const gl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Tp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gl([0,.65,.55,1]),circOut:gl([.55,0,1,.45]),backIn:gl([.31,.01,.66,-.59]),backOut:gl([.33,1.53,.69,.99])};function s1(n,e){if(n)return typeof n=="function"&&ch()?r1(n,e):Gm(n)?gl(n):Array.isArray(n)?n.map(t=>s1(t,e)||Tp.easeOut):Tp[n]}const Yn={x:!1,y:!1};function o1(){return Yn.x||Yn.y}function a1(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function l1(n,e){const t=a1(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function i0(n){return e=>{e.pointerType==="touch"||o1()||n(e)}}function kV(n,e,t={}){const[r,o,l]=l1(n,t),u=i0(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const v=i0(w=>{m(w),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,o)});return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),l}const u1=(n,e)=>e?n===e?!0:u1(n,e.parentElement):!1,Qm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,VV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NV(n){return VV.has(n.tagName)||n.tabIndex!==-1}const yl=new WeakSet;function s0(n){return e=>{e.key==="Enter"&&n(e)}}function bf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const DV=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=s0(()=>{if(yl.has(t))return;bf(t,"down");const o=s0(()=>{bf(t,"up")}),l=()=>bf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function o0(n){return Qm(n)&&!o1()}function bV(n,e,t={}){const[r,o,l]=l1(n,t),u=d=>{const f=d.currentTarget;if(!o0(d)||yl.has(f))return;yl.add(f);const m=e(d),v=(C,L)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),!(!o0(C)||!yl.has(f))&&(yl.delete(f),typeof m=="function"&&m(C,{success:L}))},w=C=>{v(C,t.useGlobalTarget||u1(f,C.target))},E=C=>{v(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",E,o)};return r.forEach(d=>{!NV(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",m=>DV(m,o),o)}),l}function MV(n){return n==="x"||n==="y"?Yn[n]?null:(Yn[n]=!0,()=>{Yn[n]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}const c1=new Set(["width","height","top","left","right","bottom",...pa]);let Uc;function LV(){Uc=void 0}const wr={now:()=>(Uc===void 0&&wr.set(Ot.isProcessing||N2.useManualTiming?Ot.timestamp:performance.now()),Uc),set:n=>{Uc=n,queueMicrotask(LV)}};function Xm(n,e){n.indexOf(e)===-1&&n.push(e)}function Ym(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Jm{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Ym(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function h1(n,e){return e?n*(1e3/e):0}const a0=30,OV=n=>!isNaN(parseFloat(n));class FV{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const l=wr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=wr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=OV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Jm);const r=this.events[e].add(t);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>a0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,a0);return h1(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(n,e){return new FV(n,e)}function jV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,jl(t))}function UV(n,e){const t=Uh(n,e);let{transitionEnd:r={},transition:o={},...l}=t||{};l={...l,...r};for(const u in l){const d=Z2(l[u]);jV(n,u,d)}}function BV(n){return!!(Qt(n)&&n.add)}function Ep(n,e){const t=n.getValue("willChange");if(BV(t))return t.add(e)}function d1(n){return n.props[BE]}const f1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,zV=1e-7,$V=12;function HV(n,e,t,r,o){let l,u,d=0;do u=e+(t-e)/2,l=f1(u,r,o)-n,l>0?t=u:e=u;while(Math.abs(l)>zV&&++d<$V);return u}function Zl(n,e,t,r){if(n===e&&t===r)return Tn;const o=l=>HV(l,0,1,n,t);return l=>l===0||l===1?l:f1(o(l),e,r)}const p1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,m1=n=>e=>1-n(1-e),g1=Zl(.33,1.53,.69,.99),Zm=m1(g1),y1=p1(Zm),v1=n=>(n*=2)<1?.5*Zm(n):.5*(2-Math.pow(2,-10*(n-1))),eg=n=>1-Math.sin(Math.acos(n)),_1=m1(eg),w1=p1(eg),T1=n=>/^0[^.\s]+$/u.test(n);function WV(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||T1(n):!0}const Al=n=>Math.round(n*1e5)/1e5,tg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qV(n){return n==null}const KV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ng=(n,e)=>t=>!!(typeof t=="string"&&KV.test(t)&&t.startsWith(n)||e&&!qV(t)&&Object.prototype.hasOwnProperty.call(t,e)),E1=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,l,u,d]=r.match(tg);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},GV=n=>Jr(0,255,n),Mf={...ma,transform:n=>Math.round(GV(n))},Rs={test:ng("rgb","red"),parse:E1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Mf.transform(n)+", "+Mf.transform(e)+", "+Mf.transform(t)+", "+Al(Fl.transform(r))+")"};function QV(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Sp={test:ng("#"),parse:QV,transform:Rs.transform},Uo={test:ng("hsl","hue"),parse:E1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+_r.transform(Al(e))+", "+_r.transform(Al(t))+", "+Al(Fl.transform(r))+")"},qt={test:n=>Rs.test(n)||Sp.test(n)||Uo.test(n),parse:n=>Rs.test(n)?Rs.parse(n):Uo.test(n)?Uo.parse(n):Sp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Rs.transform(n):Uo.transform(n)},XV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YV(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(tg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(XV))===null||t===void 0?void 0:t.length)||0)>0}const S1="number",I1="color",JV="var",ZV="var(",l0="${}",eN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ul(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(eN,f=>(qt.test(f)?(r.color.push(l),o.push(I1),t.push(qt.parse(f))):f.startsWith(ZV)?(r.var.push(l),o.push(JV),t.push(f)):(r.number.push(l),o.push(S1),t.push(parseFloat(f))),++l,l0)).split(l0);return{values:t,split:d,indexes:r,types:o}}function A1(n){return Ul(n).values}function P1(n){const{split:e,types:t}=Ul(n),r=e.length;return o=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],o[u]!==void 0){const d=t[u];d===S1?l+=Al(o[u]):d===I1?l+=qt.transform(o[u]):l+=o[u]}return l}}const tN=n=>typeof n=="number"?0:n;function nN(n){const e=A1(n);return P1(n)(e.map(tN))}const Hi={test:YV,parse:A1,createTransformer:P1,getAnimatableNone:nN},rN=new Set(["brightness","contrast","saturate","opacity"]);function iN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(tg)||[];if(!r)return n;const o=t.replace(r,"");let l=rN.has(e)?1:0;return r!==t&&(l*=100),e+"("+l+o+")"}const sN=/\b([a-z-]*)\(.*?\)/gu,Ip={...Hi,getAnimatableNone:n=>{const e=n.match(sN);return e?e.map(iN).join(" "):n}},oN={...Um,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Ip,WebkitFilter:Ip},rg=n=>oN[n];function C1(n,e){let t=rg(n);return t!==Ip&&(t=Hi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const aN=new Set(["auto","none","0"]);function lN(n,e,t){let r=0,o;for(;r<n.length&&!o;){const l=n[r];typeof l=="string"&&!aN.has(l)&&Ul(l).values.length&&(o=n[r]),r++}if(o&&t)for(const l of e)n[l]=C1(t,o)}const u0=n=>n===ma||n===we,c0=(n,e)=>parseFloat(n.split(", ")[e]),h0=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return c0(o[1],e);{const l=r.match(/^matrix\((.+)\)$/u);return l?c0(l[1],n):0}},uN=new Set(["x","y","z"]),cN=pa.filter(n=>!uN.has(n));function hN(n){const e=[];return cN.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const sa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:h0(4,13),y:h0(5,14)};sa.translateX=sa.x;sa.translateY=sa.y;const Ns=new Set;let Ap=!1,Pp=!1;function x1(){if(Pp){const n=Array.from(Ns).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=hN(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([l,u])=>{var d;(d=r.getValue(l))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Pp=!1,Ap=!1,Ns.forEach(n=>n.complete()),Ns.clear()}function R1(){Ns.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Pp=!0)})}function dN(){R1(),x1()}class ig{constructor(e,t,r,o,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ns.add(this),Ap||(Ap=!0,Ye.read(R1),Ye.resolveKeyframes(x1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const u=o?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ns.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ns.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const k1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),fN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pN(n){const e=fN.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function V1(n,e,t=1){const[r,o]=pN(n);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return k1(u)?parseFloat(u):u}return jm(o)?V1(o,e,t+1):o}const N1=n=>e=>e.test(n),mN={test:n=>n==="auto",parse:n=>n},D1=[ma,we,_r,Pi,sV,iV,mN],d0=n=>D1.find(N1(n));class b1 extends ig{constructor(e,t,r,o,l){super(e,t,r,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),jm(m))){const v=V1(m,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!c1.has(r)||e.length!==2)return;const[o,l]=e,u=d0(o),d=d0(l);if(u!==d)if(u0(u)&&u0(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)WV(e[o])&&r.push(o);r.length&&lN(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(r);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const f0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Hi.test(n)||n==="0")&&!n.startsWith("url("));function gN(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function yN(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],u=f0(o,e),d=f0(l,e);return!u||!d?!1:gN(n)||(t==="spring"||Km(t))&&r}const vN=n=>n!==null;function Bh(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(vN),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||r===void 0?o[l]:r}const _N=40;class M1{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=wr.now(),this.options={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:l,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_N?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&dN(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=wr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:l,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!yN(e,r,o,l))if(u)this.options.duration=0;else{f&&f(Bh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(n,e,t)=>n+(e-n)*t;function Lf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function wN({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Lf(f,d,n+1/3),l=Lf(f,d,n),u=Lf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function hh(n,e){return t=>t>0?e:n}const Of=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},TN=[Sp,Rs,Uo],EN=n=>TN.find(e=>e.test(n));function p0(n){const e=EN(n);if(!e)return!1;let t=e.parse(n);return e===Uo&&(t=wN(t)),t}const m0=(n,e)=>{const t=p0(n),r=p0(e);if(!t||!r)return hh(n,e);const o={...t};return l=>(o.red=Of(t.red,r.red,l),o.green=Of(t.green,r.green,l),o.blue=Of(t.blue,r.blue,l),o.alpha=rt(t.alpha,r.alpha,l),Rs.transform(o))},SN=(n,e)=>t=>e(n(t)),eu=(...n)=>n.reduce(SN),Cp=new Set(["none","hidden"]);function IN(n,e){return Cp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function AN(n,e){return t=>rt(n,e,t)}function sg(n){return typeof n=="number"?AN:typeof n=="string"?jm(n)?hh:qt.test(n)?m0:xN:Array.isArray(n)?L1:typeof n=="object"?qt.test(n)?m0:PN:hh}function L1(n,e){const t=[...n],r=t.length,o=n.map((l,u)=>sg(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)t[u]=o[u](l);return t}}function PN(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=sg(n[o])(n[o],e[o]));return o=>{for(const l in r)t[l]=r[l](o);return t}}function CN(n,e){var t;const r=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const u=e.types[l],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[l]=f,o[u]++}return r}const xN=(n,e)=>{const t=Hi.createTransformer(e),r=Ul(n),o=Ul(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Cp.has(n)&&!o.values.length||Cp.has(e)&&!r.values.length?IN(n,e):eu(L1(CN(r,o),o.values),t):hh(n,e)};function O1(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):sg(n)(n,e)}const RN=5;function F1(n,e,t){const r=Math.max(e-RN,0);return h1(t-n(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ff=.001;function kN({duration:n=at.duration,bounce:e=at.bounce,velocity:t=at.velocity,mass:r=at.mass}){let o,l,u=1-e;u=Jr(at.minDamping,at.maxDamping,u),n=Jr(at.minDuration,at.maxDuration,Wr(n)),u<1?(o=m=>{const v=m*u,w=v*n,E=v-t,C=xp(m,u),L=Math.exp(-w);return Ff-E/C*L},l=m=>{const w=m*u*n,E=w*t+t,C=Math.pow(u,2)*Math.pow(m,2)*n,L=Math.exp(-w),U=xp(Math.pow(m,2),u);return(-o(m)+Ff>0?-1:1)*((E-C)*L)/U}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-Ff+v*w},l=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const d=5/n,f=NN(o,l,d);if(n=Hr(n),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const VN=12;function NN(n,e,t){let r=t;for(let o=1;o<VN;o++)r=r-n(r)/e(r);return r}function xp(n,e){return n*Math.sqrt(1-e*e)}const DN=["duration","bounce"],bN=["stiffness","damping","mass"];function g0(n,e){return e.some(t=>n[t]!==void 0)}function MN(n){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...n};if(!g0(n,bN)&&g0(n,DN))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,l=2*Jr(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:l}}else{const t=kN(n);e={...e,...t,mass:at.mass},e.isResolvedFromDuration=!0}return e}function j1(n=at.visualDuration,e=at.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const l=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:v,duration:w,velocity:E,isResolvedFromDuration:C}=MN({...t,velocity:-Wr(t.velocity||0)}),L=E||0,U=m/(2*Math.sqrt(f*v)),b=u-l,W=Wr(Math.sqrt(f/v)),G=Math.abs(b)<5;r||(r=G?at.restSpeed.granular:at.restSpeed.default),o||(o=G?at.restDelta.granular:at.restDelta.default);let J;if(U<1){const ie=xp(W,U);J=ue=>{const V=Math.exp(-U*W*ue);return u-V*((L+U*W*b)/ie*Math.sin(ie*ue)+b*Math.cos(ie*ue))}}else if(U===1)J=ie=>u-Math.exp(-W*ie)*(b+(L+W*b)*ie);else{const ie=W*Math.sqrt(U*U-1);J=ue=>{const V=Math.exp(-U*W*ue),I=Math.min(ie*ue,300);return u-V*((L+U*W*b)*Math.sinh(I)+ie*b*Math.cosh(I))/ie}}const se={calculatedDuration:C&&w||null,next:ie=>{const ue=J(ie);if(C)d.done=ie>=w;else{let V=0;U<1&&(V=ie===0?Hr(L):F1(J,ie,ue));const I=Math.abs(V)<=r,x=Math.abs(u-ue)<=o;d.done=I&&x}return d.value=d.done?u:ue,d},toString:()=>{const ie=Math.min(n1(se),wp),ue=r1(V=>se.next(ie*V).value,ie,30);return ie+"ms "+ue}};return se}function y0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:v}){const w=n[0],E={done:!1,value:w},C=I=>d!==void 0&&I<d||f!==void 0&&I>f,L=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let U=t*e;const b=w+U,W=u===void 0?b:u(b);W!==b&&(U=W-w);const G=I=>-U*Math.exp(-I/r),J=I=>W+G(I),se=I=>{const x=G(I),N=J(I);E.done=Math.abs(x)<=m,E.value=E.done?W:N};let ie,ue;const V=I=>{C(E.value)&&(ie=I,ue=j1({keyframes:[E.value,L(E.value)],velocity:F1(J,I,E.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return V(0),{calculatedDuration:null,next:I=>{let x=!1;return!ue&&ie===void 0&&(x=!0,se(I),V(I)),ie!==void 0&&I>=ie?ue.next(I-ie):(!x&&se(I),E)}}}const LN=Zl(.42,0,1,1),ON=Zl(0,0,.58,1),U1=Zl(.42,0,.58,1),FN=n=>Array.isArray(n)&&typeof n[0]!="number",jN={linear:Tn,easeIn:LN,easeInOut:U1,easeOut:ON,circIn:eg,circInOut:w1,circOut:_1,backIn:Zm,backInOut:y1,backOut:g1,anticipate:v1},v0=n=>{if(Gm(n)){OE(n.length===4);const[e,t,r,o]=n;return Zl(e,t,r,o)}else if(typeof n=="string")return jN[n];return n};function UN(n,e,t){const r=[],o=t||O1,l=n.length-1;for(let u=0;u<l;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Tn:e;d=eu(f,d)}r.push(d)}return r}function BN(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const l=n.length;if(OE(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=UN(e,r,o),f=d.length,m=v=>{if(u&&v<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const E=ra(n[w],n[w+1],v);return d[w](E)};return t?v=>m(Jr(n[0],n[l-1],v)):m}function zN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=ra(0,e,r);n.push(rt(t,1,o))}}function $N(n){const e=[0];return zN(e,n.length-1),e}function HN(n,e){return n.map(t=>t*e)}function WN(n,e){return n.map(()=>e||U1).splice(0,n.length-1)}function dh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=FN(r)?r.map(v0):v0(r),l={done:!1,value:e[0]},u=HN(t&&t.length===e.length?t:$N(e),n),d=BN(u,e,{ease:Array.isArray(o)?o:WN(e,o)});return{calculatedDuration:n,next:f=>(l.value=d(f),l.done=f>=n,l)}}const qN=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ye.update(e,!0),stop:()=>$i(e),now:()=>Ot.isProcessing?Ot.timestamp:wr.now()}},KN={decay:y0,inertia:y0,tween:dh,keyframes:dh,spring:j1},GN=n=>n/100;class og extends M1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:o,keyframes:l}=this.options,u=o?.KeyframeResolver||ig,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(l,d,t,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=this.options,d=Km(t)?t:KN[t]||dh;let f,m;d!==dh&&typeof e[0]!="number"&&(f=eu(GN,O1(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});l==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=n1(v));const{calculatedDuration:w}=v,E=w+o,C=E*(r+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:E,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return l.next(0);const{delay:E,repeat:C,repeatType:L,repeatDelay:U,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-E*(this.speed>=0?1:-1),G=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let J=this.currentTime,se=l;if(C){const I=Math.min(this.currentTime,v)/w;let x=Math.floor(I),N=I%1;!N&&I>=1&&(N=1),N===1&&x--,x=Math.min(x,C+1),!!(x%2)&&(L==="reverse"?(N=1-N,U&&(N-=U/w)):L==="mirror"&&(se=u)),J=Jr(0,1,N)*w}const ie=G?{done:!1,value:f[0]}:se.next(J);d&&(ie.value=d(ie.value));let{done:ue}=ie;!G&&m!==null&&(ue=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return V&&o!==void 0&&(ie.value=Bh(f,this.options,o)),b&&b(ie.value),V&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?Wr(e.calculatedDuration):0}get time(){return Wr(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=qN,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const QN=new Set(["opacity","clipPath","filter","transform"]);function XN(n,e,t,{delay:r=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const v=s1(d,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const YN=Vm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fh=10,JN=2e4;function ZN(n){return Km(n.type)||n.type==="spring"||!i1(n.ease)}function eD(n,e){const t=new og({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let l=0;for(;!r.done&&l<JN;)r=t.sample(l),o.push(r.value),l+=fh;return{times:void 0,keyframes:o,duration:l-fh,ease:"linear"}}const B1={anticipate:v1,backInOut:y1,circInOut:w1};function tD(n){return n in B1}class _0 extends M1{constructor(e){super(e);const{name:t,motionValue:r,element:o,keyframes:l}=this.options;this.resolver=new b1(l,(u,d)=>this.onKeyframesResolved(u,d),t,r,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:o,ease:l,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof l=="string"&&ch()&&tD(l)&&(l=B1[l]),ZN(this.options)){const{onComplete:w,onUpdate:E,motionValue:C,element:L,...U}=this.options,b=eD(e,U);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,o=b.times,l=b.ease,u="keyframes"}const v=XN(d.owner.current,f,e,{...this.options,duration:r,times:o,ease:l});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(r0(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;d.set(Bh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:u,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Wr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Wr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Hr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Tn;const{animation:r}=t;r0(r,e)}return Tn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:o,type:l,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:E,...C}=this.options,L=new og({...C,keyframes:r,duration:o,type:l,ease:u,times:d,isGenerator:!0}),U=Hr(this.time);m.setWithVelocity(L.sample(U-fh).value,L.sample(U).value,fh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:l,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return YN()&&r&&QN.has(r)&&!f&&!m&&!o&&l!=="mirror"&&u!==0&&d!=="inertia"}}const nD={type:"spring",stiffness:500,damping:25,restSpeed:10},rD=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),iD={type:"keyframes",duration:.8},sD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oD=(n,{keyframes:e})=>e.length>2?iD:Us.has(n)?n.startsWith("scale")?rD(e[1]):nD:sD;function aD({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const ag=(n,e,t,r={},o,l)=>u=>{const d=qm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Hr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:l?void 0:o};aD(d)||(v={...v,...oD(n,v)}),v.duration&&(v.duration=Hr(v.duration)),v.repeatDelay&&(v.repeatDelay=Hr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const E=Bh(v.keyframes,d);if(E!==void 0)return Ye.update(()=>{v.onUpdate(E),v.onComplete()}),new CV([])}return!l&&_0.supports(v)?new _0(v):new og(v)};function lD({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function z1(n,e,{delay:t=0,transitionOverride:r,type:o}={}){var l;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in f){const E=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),C=f[w];if(C===void 0||v&&lD(v,w))continue;const L={delay:t,...qm(u||{},w)};let U=!1;if(window.MotionHandoffAnimation){const W=d1(n);if(W){const G=window.MotionHandoffAnimation(W,w,Ye);G!==null&&(L.startTime=G,U=!0)}}Ep(n,w),E.start(ag(w,E,C,n.shouldReduceMotion&&c1.has(w)?{type:!1}:L,n,U));const b=E.animation;b&&m.push(b)}return d&&Promise.all(m).then(()=>{Ye.update(()=>{d&&UV(n,d)})}),m}function Rp(n,e,t={}){var r;const o=Uh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const u=o?()=>Promise.all(z1(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:E}=l;return uD(n,e,v+m,w,E,t)}:()=>Promise.resolve(),{when:f}=l;if(f){const[m,v]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(t.delay)])}function uD(n,e,t=0,r=0,o=1,l){const u=[],d=(n.variantChildren.size-1)*r,f=o===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(cD).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(Rp(m,e,{...l,delay:t+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function cD(n,e){return n.sortNodePosition(e)}function hD(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(l=>Rp(n,l,t));r=Promise.all(o)}else if(typeof e=="string")r=Rp(n,e,t);else{const o=typeof e=="function"?Uh(n,e,t.custom):e;r=Promise.all(z1(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const dD=bm.length;function $1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?$1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<dD;t++){const r=bm[t],o=n.props[r];(Ol(o)||o===!1)&&(e[r]=o)}return e}const fD=[...Dm].reverse(),pD=Dm.length;function mD(n){return e=>Promise.all(e.map(({animation:t,options:r})=>hD(n,t,r)))}function gD(n){let e=mD(n),t=w0(),r=!0;const o=f=>(m,v)=>{var w;const E=Uh(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:C,transitionEnd:L,...U}=E;m={...m,...U,...L}}return m};function l(f){e=f(n)}function u(f){const{props:m}=n,v=$1(n.parent)||{},w=[],E=new Set;let C={},L=1/0;for(let b=0;b<pD;b++){const W=fD[b],G=t[W],J=m[W]!==void 0?m[W]:v[W],se=Ol(J),ie=W===f?G.isActive:null;ie===!1&&(L=b);let ue=J===v[W]&&J!==m[W]&&se;if(ue&&r&&n.manuallyAnimateOnMount&&(ue=!1),G.protectedKeys={...C},!G.isActive&&ie===null||!J&&!G.prevProp||Fh(J)||typeof J=="boolean")continue;const V=yD(G.prevProp,J);let I=V||W===f&&G.isActive&&!ue&&se||b>L&&se,x=!1;const N=Array.isArray(J)?J:[J];let M=N.reduce(o(W),{});ie===!1&&(M={});const{prevResolvedValues:F={}}=G,R={...F,...M},Je=Ae=>{I=!0,E.has(Ae)&&(x=!0,E.delete(Ae)),G.needsAnimating[Ae]=!0;const ne=n.getValue(Ae);ne&&(ne.liveStyle=!1)};for(const Ae in R){const ne=M[Ae],me=F[Ae];if(C.hasOwnProperty(Ae))continue;let oe=!1;_p(ne)&&_p(me)?oe=!t1(ne,me):oe=ne!==me,oe?ne!=null?Je(Ae):E.add(Ae):ne!==void 0&&E.has(Ae)?Je(Ae):G.protectedKeys[Ae]=!0}G.prevProp=J,G.prevResolvedValues=M,G.isActive&&(C={...C,...M}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(ue&&V)||x)&&w.push(...N.map(Ae=>({animation:Ae,options:{type:W}})))}if(E.size){const b={};E.forEach(W=>{const G=n.getBaseTarget(W),J=n.getValue(W);J&&(J.liveStyle=!0),b[W]=G??null}),w.push({animation:b})}let U=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(U=!1),r=!1,U?e(w):Promise.resolve()}function d(f,m){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(E=>{var C;return(C=E.animationState)===null||C===void 0?void 0:C.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const E in t)t[E].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>t,reset:()=>{t=w0(),r=!0}}}function yD(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!t1(e,n):!1}function Is(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function w0(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class vD extends Ki{constructor(e){super(e),e.animationState||(e.animationState=gD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Fh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let _D=0;class wD extends Ki{constructor(){super(...arguments),this.id=_D++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const H1={animation:{Feature:vD},exit:{Feature:wD}};function Bl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function tu(n){return{point:{x:n.pageX,y:n.pageY}}}const TD=n=>e=>Qm(e)&&n(e,tu(e));function Pl(n,e,t,r){return Bl(n,e,TD(t),r)}const T0=(n,e)=>Math.abs(n-e);function ED(n,e){const t=T0(n.x,e.x),r=T0(n.y,e.y);return Math.sqrt(t**2+r**2)}class W1{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Uf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,C=ED(w.offset,{x:0,y:0})>=3;if(!E&&!C)return;const{point:L}=w,{timestamp:U}=Ot;this.history.push({...L,timestamp:U});const{onStart:b,onMove:W}=this.handlers;E||(b&&b(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=jf(E,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:C,onSessionEnd:L,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Uf(w.type==="pointercancel"?this.lastMoveEventInfo:jf(E,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,b),L&&L(w,b)},!Qm(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=tu(e),d=jf(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Ot;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Uf(d,this.history)),this.removeListeners=eu(Pl(this.contextWindow,"pointermove",this.handlePointerMove),Pl(this.contextWindow,"pointerup",this.handlePointerUp),Pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$i(this.updatePoint)}}function jf(n,e){return e?{point:e(n.point)}:n}function E0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Uf({point:n},e){return{point:n,delta:E0(n,q1(e)),offset:E0(n,SD(e)),velocity:ID(e,.1)}}function SD(n){return n[0]}function q1(n){return n[n.length-1]}function ID(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=q1(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>Hr(e)));)t--;if(!r)return{x:0,y:0};const l=Wr(o.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-r.x)/l,y:(o.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const K1=1e-4,AD=1-K1,PD=1+K1,G1=.01,CD=0-G1,xD=0+G1;function En(n){return n.max-n.min}function RD(n,e,t){return Math.abs(n-e)<=t}function S0(n,e,t,r=.5){n.origin=r,n.originPoint=rt(e.min,e.max,n.origin),n.scale=En(t)/En(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=AD&&n.scale<=PD||isNaN(n.scale))&&(n.scale=1),(n.translate>=CD&&n.translate<=xD||isNaN(n.translate))&&(n.translate=0)}function Cl(n,e,t,r){S0(n.x,e.x,t.x,r?r.originX:void 0),S0(n.y,e.y,t.y,r?r.originY:void 0)}function I0(n,e,t){n.min=t.min+e.min,n.max=n.min+En(e)}function kD(n,e,t){I0(n.x,e.x,t.x),I0(n.y,e.y,t.y)}function A0(n,e,t){n.min=e.min-t.min,n.max=n.min+En(e)}function xl(n,e,t){A0(n.x,e.x,t.x),A0(n.y,e.y,t.y)}function VD(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rt(t,n,r.max):Math.min(n,t)),n}function P0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function ND(n,{top:e,left:t,bottom:r,right:o}){return{x:P0(n.x,t,o),y:P0(n.y,e,r)}}function C0(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function DD(n,e){return{x:C0(n.x,e.x),y:C0(n.y,e.y)}}function bD(n,e){let t=.5;const r=En(n),o=En(e);return o>r?t=ra(e.min,e.max-r,n.min):r>o&&(t=ra(n.min,n.max-o,e.min)),Jr(0,1,t)}function MD(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const kp=.35;function LD(n=kp){return n===!1?n=0:n===!0&&(n=kp),{x:x0(n,"left","right"),y:x0(n,"top","bottom")}}function x0(n,e,t){return{min:R0(n,e),max:R0(n,t)}}function R0(n,e){return typeof n=="number"?n:n[e]||0}const k0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:k0(),y:k0()}),V0=()=>({min:0,max:0}),ct=()=>({x:V0(),y:V0()});function bn(n){return[n("x"),n("y")]}function Q1({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function OD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function FD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Bf(n){return n===void 0||n===1}function Vp({scale:n,scaleX:e,scaleY:t}){return!Bf(n)||!Bf(e)||!Bf(t)}function Ps(n){return Vp(n)||X1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function X1(n){return N0(n.x)||N0(n.y)}function N0(n){return n&&n!=="0%"}function ph(n,e,t){const r=n-t,o=e*r;return t+o}function D0(n,e,t,r,o){return o!==void 0&&(n=ph(n,o,r)),ph(n,t,r)+e}function Np(n,e=0,t=1,r,o){n.min=D0(n.min,e,t,r,o),n.max=D0(n.max,e,t,r,o)}function Y1(n,{x:e,y:t}){Np(n.x,e.translate,e.scale,e.originPoint),Np(n.y,t.translate,t.scale,t.originPoint)}const b0=.999999999999,M0=1.0000000000001;function jD(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=t[d],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&$o(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Y1(n,u)),r&&Ps(l.latestValues)&&$o(n,l.latestValues))}e.x<M0&&e.x>b0&&(e.x=1),e.y<M0&&e.y>b0&&(e.y=1)}function zo(n,e){n.min=n.min+e,n.max=n.max+e}function L0(n,e,t,r,o=.5){const l=rt(n.min,n.max,o);Np(n,e,t,l,r)}function $o(n,e){L0(n.x,e.x,e.scaleX,e.scale,e.originX),L0(n.y,e.y,e.scaleY,e.scale,e.originY)}function J1(n,e){return Q1(FD(n.getBoundingClientRect(),e))}function UD(n,e,t){const r=J1(n,t),{scroll:o}=e;return o&&(zo(r.x,o.offset.x),zo(r.y,o.offset.y)),r}const Z1=({current:n})=>n?n.ownerDocument.defaultView:null,BD=new WeakMap;class zD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(tu(v).point)},l=(v,w)=>{const{drag:E,dragPropagation:C,onDragStart:L}=this.getProps();if(E&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=MV(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(b=>{let W=this.getAxisMotionValue(b).get()||0;if(_r.test(W)){const{projection:G}=this.visualElement;if(G&&G.layout){const J=G.layout.layoutBox[b];J&&(W=En(J)*(parseFloat(W)/100))}}this.originPoint[b]=W}),L&&Ye.postRender(()=>L(v,w)),Ep(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:E,dragDirectionLock:C,onDirectionLock:L,onDrag:U}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:b}=w;if(C&&this.currentDirection===null){this.currentDirection=$D(b),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",w.point,b),this.updateAxis("y",w.point,b),this.visualElement.render(),U&&U(v,w)},d=(v,w)=>this.stop(v,w),f=()=>bn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new W1(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Z1(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ye.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Cc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=VD(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&jo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=ND(o.layoutBox,t):this.constraints=!1,this.elastic=LD(r),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=MD(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!jo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=UD(r,o.root,this.visualElement.getTransformPagePoint());let u=DD(o.layout.layoutBox,l);if(t){const d=t(OD(u));this.hasMutatedConstraints=!!d,d&&(u=Q1(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=bn(v=>{if(!Cc(v,t,this.currentDirection))return;let w=f&&f[v]||{};u&&(w={min:0,max:0});const E=o?200:1e6,C=o?40:1e7,L={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,L)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Ep(this.visualElement,e),r.start(ag(e,r,0,t,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(t=>{const{drag:r}=this.getProps();if(!Cc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];l.set(e[t]-rt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!jo(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=bD({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(u=>{if(!Cc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(rt(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;BD.set(this.visualElement,this);const e=this.visualElement.current,t=Pl(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();jo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ye.read(r);const u=Bl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(bn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=kp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Cc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function $D(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class HD extends Ki{constructor(e){super(e),this.removeGroupControls=Tn,this.removeListeners=Tn,this.controls=new zD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const O0=n=>(e,t)=>{n&&Ye.postRender(()=>n(e,t))};class WD extends Ki{constructor(){super(...arguments),this.removePointerDownListener=Tn}onPointerDown(e){this.session=new W1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Z1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:O0(e),onStart:O0(t),onMove:r,onEnd:(l,u)=>{delete this.session,o&&Ye.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Pl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function F0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const hl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=F0(n,e.target.x),r=F0(n,e.target.y);return`${t}% ${r}%`}},qD={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Hi.parse(n);if(o.length>5)return r;const l=Hi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=rt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};class KD extends te.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:l}=e;mV(GD),l&&(t.group&&t.group.add(l),r&&r.register&&o&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:l}=this.props,u=r.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ye.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eS(n){const[e,t]=ME(),r=te.useContext(Cm);return P.jsx(KD,{...n,layoutGroup:r,switchLayoutGroup:te.useContext(zE),isPresent:e,safeToRemove:t})}const GD={borderRadius:{...hl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hl,borderTopRightRadius:hl,borderBottomLeftRadius:hl,borderBottomRightRadius:hl,boxShadow:qD};function QD(n,e,t){const r=Qt(n)?n:jl(n);return r.start(ag("",r,e,t)),r.animation}function XD(n){return n instanceof SVGElement&&n.tagName!=="svg"}const YD=(n,e)=>n.depth-e.depth;class JD{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Ym(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YD),this.isDirty=!1,this.children.forEach(e)}}function ZD(n,e){const t=wr.now(),r=({timestamp:o})=>{const l=o-t;l>=e&&($i(r),n(l-e))};return Ye.read(r,!0),()=>$i(r)}const tS=["TopLeft","TopRight","BottomLeft","BottomRight"],eb=tS.length,j0=n=>typeof n=="string"?parseFloat(n):n,U0=n=>typeof n=="number"||we.test(n);function tb(n,e,t,r,o,l){o?(n.opacity=rt(0,t.opacity!==void 0?t.opacity:1,nb(r)),n.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,rb(r))):l&&(n.opacity=rt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<eb;u++){const d=`border${tS[u]}Radius`;let f=B0(e,d),m=B0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||U0(f)===U0(m)?(n[d]=Math.max(rt(j0(f),j0(m),r),0),(_r.test(m)||_r.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,r))}function B0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const nb=nS(0,.5,_1),rb=nS(.5,.95,Tn);function nS(n,e,t){return r=>r<n?0:r>e?1:t(ra(n,e,r))}function z0(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){z0(n.x,e.x),z0(n.y,e.y)}function $0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function H0(n,e,t,r,o){return n-=e,n=ph(n,1/t,r),o!==void 0&&(n=ph(n,1/o,r)),n}function ib(n,e=0,t=1,r=.5,o,l=n,u=n){if(_r.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=rt(l.min,l.max,r);n===l&&(d-=e),n.min=H0(n.min,e,t,d,o),n.max=H0(n.max,e,t,d,o)}function W0(n,e,[t,r,o],l,u){ib(n,e[t],e[r],e[o],e.scale,l,u)}const sb=["x","scaleX","originX"],ob=["y","scaleY","originY"];function q0(n,e,t,r){W0(n.x,e,sb,t?t.x:void 0,r?r.x:void 0),W0(n.y,e,ob,t?t.y:void 0,r?r.y:void 0)}function K0(n){return n.translate===0&&n.scale===1}function rS(n){return K0(n.x)&&K0(n.y)}function G0(n,e){return n.min===e.min&&n.max===e.max}function ab(n,e){return G0(n.x,e.x)&&G0(n.y,e.y)}function Q0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function iS(n,e){return Q0(n.x,e.x)&&Q0(n.y,e.y)}function X0(n){return En(n.x)/En(n.y)}function Y0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class lb{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Ym(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ub(n,e,t){let r="";const o=n.x.translate/e.x,l=n.y.translate/e.y,u=t?.z||0;if((o||l||u)&&(r=`translate3d(${o}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:E,skewX:C,skewY:L}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),C&&(r+=`skewX(${C}deg) `),L&&(r+=`skewY(${L}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Cs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},vl=typeof window<"u"&&window.MotionDebug!==void 0,zf=["","X","Y","Z"],cb={visibility:"hidden"},J0=1e3;let hb=0;function $f(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function sS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=d1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ye,!(o||l))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&sS(r)}function oS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=hb++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vl&&(Cs.totalNodes=Cs.resolvedTargetDeltas=Cs.recalculatedProjection=0),this.nodes.forEach(pb),this.nodes.forEach(_b),this.nodes.forEach(wb),this.nodes.forEach(mb),vl&&window.MotionDebug.record(Cs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new JD)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Jm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XD(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=ZD(E,250),Bc.hasAnimatedSinceResize&&(Bc.hasAnimatedSinceResize=!1,this.nodes.forEach(ew))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeTargetChanged:C,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const U=this.options.transition||v.getDefaultTransition()||Ab,{onLayoutAnimationStart:b,onLayoutAnimationComplete:W}=v.getProps(),G=!this.targetLayout||!iS(this.targetLayout,L)||C,J=!E&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||J||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,J);const se={...qm(U,"layout"),onPlay:b,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(se.delay=0,se.type=!1),this.startAnimation(se)}else E||ew(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Tb),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Z0);return}this.isUpdating||this.nodes.forEach(yb),this.isUpdating=!1,this.nodes.forEach(vb),this.nodes.forEach(db),this.nodes.forEach(fb),this.clearAllSnapshots();const d=wr.now();Ot.delta=Jr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,Nf.update.process(Ot),Nf.preRender.process(Ot),Nf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(gb),this.sharedNodes.forEach(Eb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!rS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||Ps(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),Pb(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ct();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(Cb))){const{scroll:v}=this.root;v&&(zo(f.x,v.offset.x),zo(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=ct();if(Dn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:E}=v;v!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&Dn(f,u),zo(f.x,w.offset.x),zo(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=ct();Dn(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&$o(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ps(v.latestValues)&&$o(f,v.latestValues)}return Ps(this.latestValues)&&$o(f,this.latestValues),f}removeTransform(u){const d=ct();Dn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ps(m.latestValues))continue;Vp(m.latestValues)&&m.updateSnapshot();const v=ct(),w=m.measurePageBox();Dn(v,w),q0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Ps(this.latestValues)&&q0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),xl(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),Y1(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),xl(this.relativeTargetOrigin,this.target,C.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vl&&Cs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Vp(this.parent.latestValues)||X1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Dn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,C=this.treeScale.y;jD(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ct());const{target:L}=d;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($0(this.prevProjectionDelta.x,this.projectionDelta.x),$0(this.prevProjectionDelta.y,this.projectionDelta.y)),Cl(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==C||!Y0(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L)),vl&&Cs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bo(),this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},w=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=ct(),C=f?f.source:void 0,L=this.layout?this.layout.source:void 0,U=C!==L,b=this.getStack(),W=!b||b.members.length<=1,G=!!(U&&!W&&this.options.crossfade===!0&&!this.path.some(Ib));this.animationProgress=0;let J;this.mixTargetDelta=se=>{const ie=se/1e3;tw(w.x,u.x,ie),tw(w.y,u.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Sb(this.relativeTarget,this.relativeTargetOrigin,E,ie),J&&ab(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=ct()),Dn(J,this.relativeTarget)),U&&(this.animationValues=v,tb(v,m,this.latestValues,ie,G,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Bc.hasAnimatedSinceResize=!0,this.currentAnimation=QD(0,J0,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:v}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&aS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||ct();const w=En(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=En(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Dn(d,f),$o(d,v),Cl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new lb),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&$f("z",u,m,this.animationValues);for(let v=0;v<zf.length;v++)$f(`rotate${zf[v]}`,u,m,this.animationValues),$f(`skew${zf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return cb;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=jc(u?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const U={};return this.options.layoutId&&(U.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,U.pointerEvents=jc(u?.pointerEvents)||""),this.hasProjected&&!Ps(this.latestValues)&&(U.transform=v?v({},""):"none",this.hasProjected=!1),U}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=ub(this.projectionDeltaWithTransform,this.treeScale,E),v&&(m.transform=v(E,m.transform));const{x:C,y:L}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${L.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:m.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const U in uh){if(E[U]===void 0)continue;const{correct:b,applyTo:W}=uh[U],G=m.transform==="none"?E[U]:b(E[U],w);if(W){const J=W.length;for(let se=0;se<J;se++)m[W[se]]=G}else m[U]=G}return this.options.layoutId&&(m.pointerEvents=w===this?jc(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(Z0),this.root.sharedNodes.clear()}}}function db(n){n.updateLayout()}function fb(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?bn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],C=En(E);E.min=r[w].min,E.max=E.min+C}):aS(l,t.layoutBox,r)&&bn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],C=En(r[w]);E.max=E.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+C)});const d=Bo();Cl(d,r,t.layoutBox);const f=Bo();u?Cl(f,n.applyTransform(o,!0),t.measuredBox):Cl(f,r,t.layoutBox);const m=!rS(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:C}=w;if(E&&C){const L=ct();xl(L,t.layoutBox,E.layoutBox);const U=ct();xl(U,r,C.layoutBox),iS(L,U)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=U,n.relativeTargetOrigin=L,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function pb(n){vl&&Cs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function mb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function gb(n){n.clearSnapshot()}function Z0(n){n.clearMeasurements()}function yb(n){n.isLayoutDirty=!1}function vb(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ew(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function _b(n){n.resolveTargetDelta()}function wb(n){n.calcProjection()}function Tb(n){n.resetSkewAndRotation()}function Eb(n){n.removeLeadSnapshot()}function tw(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function nw(n,e,t,r){n.min=rt(e.min,t.min,r),n.max=rt(e.max,t.max,r)}function Sb(n,e,t,r){nw(n.x,e.x,t.x,r),nw(n.y,e.y,t.y,r)}function Ib(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Ab={duration:.45,ease:[.4,0,.1,1]},rw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),iw=rw("applewebkit/")&&!rw("chrome/")?Math.round:Tn;function sw(n){n.min=iw(n.min),n.max=iw(n.max)}function Pb(n){sw(n.x),sw(n.y)}function aS(n,e,t){return n==="position"||n==="preserve-aspect"&&!RD(X0(e),X0(t),.2)}function Cb(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const xb=oS({attachResizeListener:(n,e)=>Bl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hf={current:void 0},lS=oS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Hf.current){const n=new xb({});n.mount(window),n.setOptions({layoutScroll:!0}),Hf.current=n}return Hf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Rb={pan:{Feature:WD},drag:{Feature:HD,ProjectionNode:lS,MeasureLayout:eS}};function ow(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=r[o];l&&Ye.postRender(()=>l(e,tu(e)))}class kb extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=kV(e,t=>(ow(this.node,t,"Start"),r=>ow(this.node,r,"End"))))}unmount(){}}class Vb extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eu(Bl(this.node.current,"focus",()=>this.onFocus()),Bl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=r[o];l&&Ye.postRender(()=>l(e,tu(e)))}class Nb extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=bV(e,t=>(aw(this.node,t,"Start"),(r,{success:o})=>aw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dp=new WeakMap,Wf=new WeakMap,Db=n=>{const e=Dp.get(n.target);e&&e(n)},bb=n=>{n.forEach(Db)};function Mb({root:n,...e}){const t=n||document;Wf.has(t)||Wf.set(t,{});const r=Wf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(bb,{root:n,...e})),r[o]}function Lb(n,e,t){const r=Mb(e);return Dp.set(n,t),r.observe(n),()=>{Dp.delete(n),r.unobserve(n)}}const Ob={some:0,all:1};class Fb extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Ob[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),E=m?v:w;E&&E(f)};return Lb(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(jb(e,t))&&this.startObserver()}unmount(){}}function jb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const uS={inView:{Feature:Fb},tap:{Feature:Nb},focus:{Feature:Vb},hover:{Feature:kb}},Ub={layout:{ProjectionNode:lS,MeasureLayout:eS}},bp={current:null},cS={current:!1};function Bb(){if(cS.current=!0,!!km)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>bp.current=n.matches;n.addListener(e),e()}else bp.current=!1}const zb=[...D1,qt,Hi],$b=n=>zb.find(N1(n)),lw=new WeakMap;function Hb(n,e,t){for(const r in e){const o=e[r],l=t[r];if(Qt(o))n.addValue(r,o);else if(Qt(l))n.addValue(r,jl(o,{owner:n}));else if(l!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,jl(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const uw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wb{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ig,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=wr.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Ye.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=jh(t),this.isVariantNode=UE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in E){const L=E[C];f[C]!==void 0&&Qt(L)&&L.set(f[C],!1)}}mount(e){this.current=e,lw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),cS.current||Bb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){lw.delete(this.current),this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Us.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ia){const t=ia[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<uw.length;r++){const o=uw[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=e[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Hb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=jl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(k1(o)||T1(o))?o=parseFloat(o):!$b(o)&&Hi.test(t)&&(o=C1(e,t)),this.setBaseTarget(e,Qt(o)?o.get():o)),Qt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=Fm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Qt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Jm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class hS extends Wb{constructor(){super(...arguments),this.KeyframeResolver=b1}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function qb(n){return window.getComputedStyle(n)}class Kb extends hS{constructor(){super(...arguments),this.type="html",this.renderInstance=QE}readValueFromInstance(e,t){if(Us.has(t)){const r=rg(t);return r&&r.default||0}else{const r=qb(e),o=(qE(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return J1(e,t)}build(e,t,r){Bm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Wm(e,t,r)}}class Gb extends hS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Us.has(t)){const r=rg(t);return r&&r.default||0}return t=XE.has(t)?t:Mm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return ZE(e,t,r)}build(e,t,r){zm(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,o){YE(e,t,r,o)}mount(e){this.isSVGTag=Hm(e.tagName),super.mount(e)}}const dS=(n,e)=>Om(n)?new Gb(e):new Kb(e,{allowProjection:n!==te.Fragment}),Qb=IV({...H1,...uS,...Rb,...Ub},dS),it=j2(Qb),Xb={renderer:dS,...H1,...uS},Yb={some:0,all:1};function Jb(n,e,{root:t,margin:r,amount:o="some"}={}){const l=a1(n),u=new WeakMap,d=m=>{m.forEach(v=>{const w=u.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const E=e(v);typeof E=="function"?u.set(v.target,E):f.unobserve(v.target)}else typeof w=="function"&&(w(v),u.delete(v.target))})},f=new IntersectionObserver(d,{root:t,rootMargin:r,threshold:typeof o=="number"?o:Yb[o]});return l.forEach(m=>f.observe(m)),()=>f.disconnect()}function fS(n,{root:e,margin:t,amount:r,once:o=!1}={}){const[l,u]=te.useState(!1);return te.useEffect(()=>{if(!n.current||o&&l)return;const d=()=>(u(!0),o?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:t,amount:r};return Jb(n.current,d,f)},[e,n,t,o,r]),l}const Zb=kt.memo(()=>P.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[P.jsx("style",{children:`
            /* * Defines the keyframes for the rotation animation.
             * It smoothly rotates the element 360 degrees.
             */
            @keyframes move {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }

            /* * Styles the element that will be animated. It's made oversized
             * (150vmax) to ensure it covers the screen even on large displays.
             * The background is composed of two soft radial gradients to create
             * an abstract, nebula-like effect.
             */
            .gradient-bg {
                width: 150vmax;
                height: 150vmax;
                position: absolute;
                top: 50%;
                left: 50%;
                background: radial-gradient(circle, rgba(37, 99, 235, 0.15), transparent 50%),
                            radial-gradient(circle, rgba(29, 78, 216, 0.1), transparent 60%);
                animation: move 25s linear infinite;
                opacity: 0.5;
            }
        `}),P.jsx("div",{className:"gradient-bg"})]})),cw=kt.memo(()=>P.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:P.jsxs("div",{className:"relative w-24 h-24",children:[P.jsx("style",{children:`
          /* Defines the main spinning animation for the rings */
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          /* Defines the pulsing animation for the central dot */
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
          }

          /* Base styles for the orbiting rings */
          .orb {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #2563eb; /* Primary blue color */
            animation: spin 1.5s linear infinite;
          }

          /* Second ring with a delayed animation and different color */
          .orb-2 {
            animation-delay: -0.5s;
            border-top-color: #1e3a8a; /* Darker blue */
          }

          /* Third ring with another delay and color for a layered effect */
          .orb-3 {
            animation-delay: -1s;
            border-top-color: #60a5fa; /* Lighter blue */
          }

          /* The central pulsing dot */
          .dot {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #2563eb;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            margin: -5px 0 0 -5px; /* Center the dot perfectly */
            animation: pulse 1.5s ease-in-out infinite;
          }
        `}),P.jsx("div",{className:"orb"}),P.jsx("div",{className:"orb orb-2"}),P.jsx("div",{className:"orb orb-3"}),P.jsx("div",{className:"dot"})]})})),Gi=kt.memo(()=>{const n=te.useRef(null),e=fS(n,{once:!0,amount:.5});return P.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:P.jsx(it.div,{className:"h-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})}),e4=({href:n,label:e,children:t,onClick:r})=>P.jsxs("a",{href:n,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-gray-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300",children:[t,P.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-gray-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 group-hover:translate-x-0 translate-x-2 transition-all duration-300 pointer-events-none",children:e})]}),t4=kt.memo(({isMobileMenuOpen:n,toggleMobileMenu:e,closeMobileMenu:t})=>{const r=o=>{o.preventDefault();const l=o.currentTarget.getAttribute("href"),u=document.querySelector(l);t(),u&&setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"start"})},100)};return P.jsxs("header",{className:"bg-white/70 backdrop-blur-md fixed top-0 w-full z-50 border-b border-gray-200/80",children:[P.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[P.jsx(e4,{href:"#home",label:"Home",onClick:r,children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),P.jsxs("div",{className:"hidden md:flex space-x-4 items-center font-medium text-[#4b5563]",children:[P.jsx("a",{href:"#about",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"About"}),P.jsx("a",{href:"#experience",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Experience"}),P.jsx("a",{href:"#skills",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Skills"}),P.jsx("a",{href:"#projects",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Projects"}),P.jsx("a",{href:"#contact",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Contact"})]}),P.jsx("div",{className:"md:hidden",children:P.jsx("button",{onClick:e,className:"text-[#4b5563] focus:outline-none",children:P.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),P.jsx(Lh,{children:n&&P.jsxs(it.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-md px-6 py-4 space-y-3 text-[#4b5563] font-medium",children:[P.jsx("a",{href:"#about",onClick:r,className:"block hover:text-[#2563eb]",children:"About"}),P.jsx("a",{href:"#experience",onClick:r,className:"block hover:text-[#2563eb]",children:"Experience"}),P.jsx("a",{href:"#skills",onClick:r,className:"block hover:text-[#2563eb]",children:"Skills"}),P.jsx("a",{href:"#projects",onClick:r,className:"block hover:text-[#2563eb]",children:"Projects"}),P.jsx("a",{href:"#contact",onClick:r,className:"block hover:text-[#2563eb]",children:"Contact"})]})})]})}),Qi=kt.memo(({children:n,id:e,className:t=""})=>{const r=te.useRef(null),o=fS(r,{once:!0,amount:.2});return P.jsx(it.section,{id:e,ref:r,initial:{opacity:0,y:50},animate:{opacity:o?1:0,y:o?0:50},transition:{duration:.8,ease:"easeOut"},className:`py-12 md:py-16 ${t}`,children:n})}),n4=kt.memo(()=>P.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden",children:P.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[P.jsxs(it.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[P.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-[#334155] mb-4",children:[P.jsx("span",{className:"block mb-2 text-xl font-normal text-[#64748b]",children:"Hello, I'm"})," Costas Pinto"]}),P.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] h-10",children:"AI Innovator"}),P.jsx("p",{className:"max-w-xl text-[#4b5563] leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),P.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[P.jsxs(it.a,{href:"/assets/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-[#2563eb]/20 transition-all hover:shadow-xl",children:[P.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:P.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#2563eb] transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),P.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#334155] transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),P.jsx(it.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:P.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[P.jsx(it.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-[#2563eb]/20 via-[#1e3a8a]/20 to-[#2563eb]/30 rounded-full opacity-40 blur-3xl"}),P.jsx("div",{className:"relative z-10 flex justify-center items-center",children:P.jsx("img",{loading:"lazy",src:"/assets/Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})})),r4=kt.memo(()=>P.jsxs(Qi,{id:"about",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"About Me"}),P.jsx(Gi,{}),P.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[P.jsx("div",{className:"glow-effect"}),P.jsx("p",{className:"text-lg leading-relaxed text-[#4b5563] text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})]})]})),hw=kt.memo(({date:n,title:e,company:t,details:r})=>P.jsxs(it.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-[#a5b4fc]",children:[P.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-[#2563eb] to-[#1e3a8a] rounded-full border-4 border-white"}),P.jsx("p",{className:"text-[#64748b] mb-1 font-medium",children:n}),P.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),P.jsx("p",{className:"text-lg text-[#2563eb] font-semibold mb-3",children:t}),P.jsx("ul",{className:"list-disc list-inside text-[#4b5563] space-y-2",children:r.map((o,l)=>P.jsx("li",{children:o},l))})]})),i4=kt.memo(()=>P.jsxs(Qi,{id:"experience",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Experience"}),P.jsx(Gi,{}),P.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[P.jsx(hw,{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]}),P.jsx(hw,{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]})),s4=kt.memo(()=>{const[n,e]=te.useState("Programming Languages"),t=u=>{e(d=>d===u?null:u)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return P.jsxs(Qi,{id:"skills",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Skills"}),P.jsx(Gi,{}),P.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto rounded-2xl glass-card",children:[P.jsx("div",{className:"glow-effect"}),P.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([u,d])=>P.jsxs("div",{className:"border-b border-gray-300/50 last:border-b-0",children:[P.jsxs("button",{onClick:()=>t(u),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-[#334155] focus:outline-none",children:[P.jsx("span",{children:u}),P.jsx(it.span,{animate:{rotate:n===u?180:0},children:P.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),P.jsx(Lh,{children:n===u&&P.jsx(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:P.jsx(it.div,{variants:o,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:d.map(f=>P.jsxs(it.div,{variants:l,children:[P.jsx("p",{className:"text-lg font-medium text-[#4b5563] mb-1",children:f.name}),P.jsx("div",{className:"bg-gray-300 w-full rounded-full h-2.5",children:P.jsx(it.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a]",initial:{width:0},animate:{width:`${f.level}%`},transition:{duration:1,ease:"easeOut"}})})]},f.name))})})})]},u))})]})]})}),o4=kt.memo(()=>P.jsxs(Qi,{id:"achievements",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Key Achievements"}),P.jsx(Gi,{}),P.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[P.jsx("div",{className:"glow-effect"}),P.jsxs("ul",{className:"list-disc list-inside text-[#4b5563] space-y-3 text-lg",children:[P.jsxs("li",{children:["Completed ",P.jsx("strong",{children:"60+ Certifications"})," from IBM, Google, Meta, Microsoft, and Forage."]}),P.jsxs("li",{children:["Built and deployed ",P.jsx("strong",{children:"25+ AI/Data/Full-stack projects"})," solving real-world problems."]}),P.jsxs("li",{children:["Earned top-tier recognitions in job simulations at ",P.jsx("strong",{children:"BCG, Lloyds, BA, EA, TATA"}),", and more."]}),P.jsxs("li",{children:["Founded ",P.jsx("strong",{children:"JHT SMART STEPS LEARNING"}),"  empowering students through digital education."]})]})]})]})),a4=kt.memo(({year:n,title:e,details:t,icon:r})=>P.jsxs(it.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[P.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center",children:r}),P.jsx("p",{className:"text-blue-500 mb-1 font-semibold",children:n}),P.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),P.jsx("p",{className:"text-[#4b5563] mt-1",children:t})]})),l4=kt.memo(()=>{const n=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return P.jsxs(Qi,{id:"journey",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Learning Journey"}),P.jsx(Gi,{}),P.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[P.jsx("div",{className:"glow-effect"}),P.jsx("div",{className:"space-y-12",children:n.map(e=>P.jsx(a4,{...e},e.title))})]})]})}),u4=te.memo(({projects:n,isMobile:e})=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return P.jsxs(Qi,{id:"projects",className:"!py-0",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Projects"}),P.jsx(Gi,{}),P.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?P.jsx(it.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(o=>P.jsxs(it.div,{variants:r,className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[P.jsx("div",{className:"glow-effect"}),P.jsx("img",{loading:"lazy",src:o.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:o.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),P.jsx("h3",{className:"text-xl font-bold text-[#334155] mb-2",children:o.title}),P.jsx("p",{className:"text-[#4b5563] flex-grow mb-4",children:o.description}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.tags?.map(l=>P.jsx("span",{className:"bg-[#dbeafe] text-[#1e3a8a] text-xs font-medium px-2.5 py-1 rounded-full",children:l},l))}),o.projectLink&&P.jsx("a",{href:o.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-[#2563eb] border border-[#2563eb] rounded-full py-2 px-4 hover:bg-[#2563eb] hover:text-white transition-all duration-300 z-10",children:"View Project"})]},o.id))}):P.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:P.jsx("p",{className:"text-center text-[#4b5563] text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]})}),c4=({url:n,onClose:e})=>P.jsx(Lh,{children:n&&P.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:P.jsxs(it.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[P.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[P.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Certificate Viewer"}),P.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsx("div",{className:"flex-grow p-2",children:P.jsx("iframe",{src:n,title:"Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})}),h4=kt.memo(({licensesPdfUrl:n,internshipsPdfUrl:e})=>{const[t,r]=te.useState(null);return P.jsxs(P.Fragment,{children:[P.jsxs(Qi,{id:"certifications",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Certificates"}),P.jsx(Gi,{}),P.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[P.jsx(it.button,{onClick:()=>r(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),P.jsx(it.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),P.jsx(c4,{url:t,onClose:()=>r(null)})]})}),d4=({url:n,onClose:e})=>P.jsx(Lh,{children:n&&P.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:P.jsxs(it.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[P.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[P.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Internship Certificate"}),P.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsx("div",{className:"flex-grow p-2",children:P.jsx("iframe",{src:n,title:"Internship Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})});kt.memo(({internshipsPdfUrl:n})=>{const[e,t]=te.useState(null);return P.jsxs(P.Fragment,{children:[P.jsxs(Qi,{id:"internships",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Internship Certificate"}),P.jsx(Gi,{}),P.jsx("div",{className:"text-center",children:P.jsx(it.button,{onClick:()=>t(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certificate"})})]}),P.jsx(d4,{url:e,onClose:()=>t(null)})]})});const f4=kt.memo(()=>{const[n,e]=te.useState({submitting:!1,succeeded:!1,error:null}),t=te.useCallback(async r=>{r.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const o=r.target,l=new FormData(o);try{const u=await fetch(o.action,{method:o.method,body:l,headers:{Accept:"application/json"}});if(u.ok)e({submitting:!1,succeeded:!0,error:null}),o.reset();else{const f=(await u.json()).errors?.map(m=>m.message).join(", ")||"An unknown error occurred.";throw new Error(f)}}catch(u){console.error("Form submission error:",u),e({submitting:!1,succeeded:!1,error:u.message})}},[]);return P.jsx("footer",{id:"contact",className:"bg-[#e2e8f0] border-t border-gray-300 mt-20",children:P.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[P.jsx("h2",{className:"text-4xl font-bold text-[#334155] mb-4",children:"Let's Connect"}),P.jsx("p",{className:"text-[#4b5563] max-w-2xl mx-auto mb-8",children:"I'm always eager to connect. Whether you have a project in mind, a question, or just want to say hi, my inbox is always open."}),P.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:t,className:"max-w-xl mx-auto space-y-4 text-left",children:[P.jsx("input",{type:"email",name:"email",placeholder:"Your Email",className:"input-field",required:!0,disabled:n.submitting}),P.jsx("textarea",{name:"message",placeholder:"Your Message",className:"input-field h-32",required:!0,disabled:n.submitting}),P.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:n.submitting,children:n.submitting?"Sending...":"Send Message"}),n.succeeded&&P.jsx("p",{className:"text-center text-green-600 font-medium mt-4",children:"Thanks for your message! I'll get back to you soon."}),n.error&&P.jsxs("p",{className:"text-center text-red-600 font-medium mt-4",children:["Oops! There was a problem. ",n.error]})]}),P.jsxs("div",{className:"border-t border-gray-300 mt-12 pt-8 text-[#64748b]",children:[P.jsxs("div",{className:"flex justify-center items-center gap-6 mb-4",children:[P.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#2563eb] transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),P.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#334155] transition-colors",children:P.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]}),P.jsxs("p",{children:[" ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})]})})}),p4=te.lazy(()=>kI(()=>import("./AdminPanel-_OrFIE1M.js"),[])),m4={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},pS=Sw(m4),xc=pR(pS),g4=P2(pS),y4=(n=768)=>{const[e,t]=te.useState(window.innerWidth<n);return te.useEffect(()=>{const r=()=>t(window.innerWidth<n);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e};function v4(){const[n,e]=te.useState("home"),[t,r]=te.useState([]),[o,l]=te.useState(""),[u,d]=te.useState(""),[f,m]=te.useState(!0),[v,w]=te.useState(!1),E=y4(),C=te.useCallback(async()=>{m(!0);try{const b=await xR(fR(xc,"projects"));r(b.docs.map(W=>({id:W.id,...W.data()})))}catch(b){console.error("Error fetching projects: ",b)}try{const b=await V_(fp(xc,"portfolioAssets","licenses"));b.exists()&&l(b.data().pdfUrl);const W=await V_(fp(xc,"portfolioAssets","internships"));W.exists()&&d(W.data().pdfUrl)}catch(b){console.error("Error fetching portfolio assets: ",b)}finally{m(!1)}},[]);te.useEffect(()=>{C();const b=()=>{const W=window.location.hash.replace("#","");e(W==="admin"?"admin":"home")};return window.addEventListener("hashchange",b,!1),b(),()=>window.removeEventListener("hashchange",b)},[C]);const L=te.useCallback(()=>w(!1),[]),U=te.useCallback(()=>w(b=>!b),[]);return f?P.jsx(cw,{}):P.jsxs(M2,{features:Xb,children:[P.jsx(Zb,{}),P.jsx("div",{className:"relative text-[#334155] font-sans overflow-x-hidden",children:n==="admin"?P.jsx(te.Suspense,{fallback:P.jsx(cw,{}),children:P.jsx(p4,{db:xc,projects:t,fetchProjects:C,auth:g4})}):P.jsxs(P.Fragment,{children:[P.jsx(t4,{isMobileMenuOpen:v,closeMobileMenu:L,toggleMobileMenu:U}),P.jsxs("main",{className:"relative z-10",children:[P.jsx(n4,{}),P.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[P.jsx(r4,{}),P.jsx(i4,{}),P.jsx(s4,{}),P.jsx(o4,{}),P.jsx(l4,{}),P.jsx(u4,{projects:t,isMobile:E}),P.jsx(h4,{licensesPdfUrl:o,internshipsPdfUrl:u})]})]}),P.jsx(f4,{})]})})]})}class _4 extends kt.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?P.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"2rem",textAlign:"center",fontFamily:"sans-serif",color:"#334155"},children:[P.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Something went wrong."}),P.jsx("p",{children:"Please refresh the page. The error has been logged to the developer console."})]}):this.props.children}}const w4=document.getElementById("root");CI.createRoot(w4).render(P.jsx(kt.StrictMode,{children:P.jsx(_4,{children:P.jsx(v4,{})})}));export{Lh as A,kt as R,fp as a,I4 as b,fR as c,S4 as d,P as j,it as m,A4 as o,te as r,E4 as u};
