(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function A_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qf={exports:{}},Ha={},Gf={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function lS(){if(Ly)return xe;Ly=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(F){return F===null||typeof F!="object"?null:(F=w&&F[w]||F["@@iterator"],typeof F=="function"?F:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,O={};function L(F,q,ge){this.props=F,this.context=q,this.refs=O,this.updater=ge||I}L.prototype.isReactComponent={},L.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},L.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function W(){}W.prototype=L.prototype;function G(F,q,ge){this.props=F,this.context=q,this.refs=O,this.updater=ge||I}var J=G.prototype=new W;J.constructor=G,b(J,L.prototype),J.isPureReactComponent=!0;var se=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function A(F,q,ge){var Pe,Ce={},De=null,Fe=null;if(q!=null)for(Pe in q.ref!==void 0&&(Fe=q.ref),q.key!==void 0&&(De=""+q.key),q)ie.call(q,Pe)&&!k.hasOwnProperty(Pe)&&(Ce[Pe]=q[Pe]);var je=arguments.length-2;if(je===1)Ce.children=ge;else if(1<je){for(var He=Array(je),St=0;St<je;St++)He[St]=arguments[St+2];Ce.children=He}if(F&&F.defaultProps)for(Pe in je=F.defaultProps,je)Ce[Pe]===void 0&&(Ce[Pe]=je[Pe]);return{$$typeof:n,type:F,key:De,ref:Fe,props:Ce,_owner:ue.current}}function C(F,q){return{$$typeof:n,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return q[ge]})}var j=/\/+/g;function x(F,q){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):q.toString(36)}function Je(F,q,ge,Pe,Ce){var De=typeof F;(De==="undefined"||De==="boolean")&&(F=null);var Fe=!1;if(F===null)Fe=!0;else switch(De){case"string":case"number":Fe=!0;break;case"object":switch(F.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=F,Ce=Ce(Fe),F=Pe===""?"."+x(Fe,0):Pe,se(Ce)?(ge="",F!=null&&(ge=F.replace(j,"$&/")+"/"),Je(Ce,q,ge,"",function(St){return St})):Ce!=null&&(V(Ce)&&(Ce=C(Ce,ge+(!Ce.key||Fe&&Fe.key===Ce.key?"":(""+Ce.key).replace(j,"$&/")+"/")+F)),q.push(Ce)),1;if(Fe=0,Pe=Pe===""?".":Pe+":",se(F))for(var je=0;je<F.length;je++){De=F[je];var He=Pe+x(De,je);Fe+=Je(De,q,ge,He,Ce)}else if(He=T(F),typeof He=="function")for(F=He.call(F),je=0;!(De=F.next()).done;)De=De.value,He=Pe+x(De,je++),Fe+=Je(De,q,ge,He,Ce);else if(De==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Rt(F,q,ge){if(F==null)return F;var Pe=[],Ce=0;return Je(F,Pe,"","",function(De){return q.call(ge,De,Ce++)}),Pe}function kt(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var Ae={current:null},te={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:te,ReactCurrentOwner:ue};function oe(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Rt,forEach:function(F,q,ge){Rt(F,function(){q.apply(this,arguments)},ge)},count:function(F){var q=0;return Rt(F,function(){q++}),q},toArray:function(F){return Rt(F,function(q){return q})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},xe.Component=L,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=G,xe.StrictMode=i,xe.Suspense=p,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,xe.act=oe,xe.cloneElement=function(F,q,ge){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Pe=b({},F.props),Ce=F.key,De=F.ref,Fe=F._owner;if(q!=null){if(q.ref!==void 0&&(De=q.ref,Fe=ue.current),q.key!==void 0&&(Ce=""+q.key),F.type&&F.type.defaultProps)var je=F.type.defaultProps;for(He in q)ie.call(q,He)&&!k.hasOwnProperty(He)&&(Pe[He]=q[He]===void 0&&je!==void 0?je[He]:q[He])}var He=arguments.length-2;if(He===1)Pe.children=ge;else if(1<He){je=Array(He);for(var St=0;St<He;St++)je[St]=arguments[St+2];Pe.children=je}return{$$typeof:n,type:F.type,key:Ce,ref:De,props:Pe,_owner:Fe}},xe.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},xe.createElement=A,xe.createFactory=function(F){var q=A.bind(null,F);return q.type=F,q},xe.createRef=function(){return{current:null}},xe.forwardRef=function(F){return{$$typeof:f,render:F}},xe.isValidElement=V,xe.lazy=function(F){return{$$typeof:v,_payload:{_status:-1,_result:F},_init:kt}},xe.memo=function(F,q){return{$$typeof:m,type:F,compare:q===void 0?null:q}},xe.startTransition=function(F){var q=te.transition;te.transition={};try{F()}finally{te.transition=q}},xe.unstable_act=oe,xe.useCallback=function(F,q){return Ae.current.useCallback(F,q)},xe.useContext=function(F){return Ae.current.useContext(F)},xe.useDebugValue=function(){},xe.useDeferredValue=function(F){return Ae.current.useDeferredValue(F)},xe.useEffect=function(F,q){return Ae.current.useEffect(F,q)},xe.useId=function(){return Ae.current.useId()},xe.useImperativeHandle=function(F,q,ge){return Ae.current.useImperativeHandle(F,q,ge)},xe.useInsertionEffect=function(F,q){return Ae.current.useInsertionEffect(F,q)},xe.useLayoutEffect=function(F,q){return Ae.current.useLayoutEffect(F,q)},xe.useMemo=function(F,q){return Ae.current.useMemo(F,q)},xe.useReducer=function(F,q,ge){return Ae.current.useReducer(F,q,ge)},xe.useRef=function(F){return Ae.current.useRef(F)},xe.useState=function(F){return Ae.current.useState(F)},xe.useSyncExternalStore=function(F,q,ge){return Ae.current.useSyncExternalStore(F,q,ge)},xe.useTransition=function(){return Ae.current.useTransition()},xe.version="18.3.1",xe}var Oy;function hp(){return Oy||(Oy=1,Gf.exports=lS()),Gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function uS(){if(Fy)return Ha;Fy=1;var n=hp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(f,p,m){var v,w={},T=null,I=null;m!==void 0&&(T=""+m),p.key!==void 0&&(T=""+p.key),p.ref!==void 0&&(I=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(w[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)w[v]===void 0&&(w[v]=p[v]);return{$$typeof:e,type:f,key:T,ref:I,props:w,_owner:o.current}}return Ha.Fragment=t,Ha.jsx=c,Ha.jsxs=c,Ha}var jy;function cS(){return jy||(jy=1,qf.exports=uS()),qf.exports}var N=cS(),ne=hp();const hS=A_(ne);var Yu={},Qf={exports:{}},an={},Xf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function fS(){return Uy||(Uy=1,function(n){function e(te,me){var oe=te.length;te.push(me);e:for(;0<oe;){var F=oe-1>>>1,q=te[F];if(0<o(q,me))te[F]=me,te[oe]=q,oe=F;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var me=te[0],oe=te.pop();if(oe!==me){te[0]=oe;e:for(var F=0,q=te.length,ge=q>>>1;F<ge;){var Pe=2*(F+1)-1,Ce=te[Pe],De=Pe+1,Fe=te[De];if(0>o(Ce,oe))De<q&&0>o(Fe,Ce)?(te[F]=Fe,te[De]=oe,F=De):(te[F]=Ce,te[Pe]=oe,F=Pe);else if(De<q&&0>o(Fe,oe))te[F]=Fe,te[De]=oe,F=De;else break e}}return me}function o(te,me){var oe=te.sortIndex-me.sortIndex;return oe!==0?oe:te.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var p=[],m=[],v=1,w=null,T=3,I=!1,b=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(te){for(var me=t(m);me!==null;){if(me.callback===null)i(m);else if(me.startTime<=te)i(m),me.sortIndex=me.expirationTime,e(p,me);else break;me=t(m)}}function se(te){if(O=!1,J(te),!b)if(t(p)!==null)b=!0,kt(ie);else{var me=t(m);me!==null&&Ae(se,me.startTime-te)}}function ie(te,me){b=!1,O&&(O=!1,W(A),A=-1),I=!0;var oe=T;try{for(J(me),w=t(p);w!==null&&(!(w.expirationTime>me)||te&&!M());){var F=w.callback;if(typeof F=="function"){w.callback=null,T=w.priorityLevel;var q=F(w.expirationTime<=me);me=n.unstable_now(),typeof q=="function"?w.callback=q:w===t(p)&&i(p),J(me)}else i(p);w=t(p)}if(w!==null)var ge=!0;else{var Pe=t(m);Pe!==null&&Ae(se,Pe.startTime-me),ge=!1}return ge}finally{w=null,T=oe,I=!1}}var ue=!1,k=null,A=-1,C=5,V=-1;function M(){return!(n.unstable_now()-V<C)}function j(){if(k!==null){var te=n.unstable_now();V=te;var me=!0;try{me=k(!0,te)}finally{me?x():(ue=!1,k=null)}}else ue=!1}var x;if(typeof G=="function")x=function(){G(j)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Rt=Je.port2;Je.port1.onmessage=j,x=function(){Rt.postMessage(null)}}else x=function(){L(j,0)};function kt(te){k=te,ue||(ue=!0,x())}function Ae(te,me){A=L(function(){te(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){b||I||(b=!0,kt(ie))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(te){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var oe=T;T=me;try{return te()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,me){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var oe=T;T=te;try{return me()}finally{T=oe}},n.unstable_scheduleCallback=function(te,me,oe){var F=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?F+oe:F):oe=F,te){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=oe+q,te={id:v++,callback:me,priorityLevel:te,startTime:oe,expirationTime:q,sortIndex:-1},oe>F?(te.sortIndex=oe,e(m,te),t(p)===null&&te===t(m)&&(O?(W(A),A=-1):O=!0,Ae(se,oe-F))):(te.sortIndex=q,e(p,te),b||I||(b=!0,kt(ie))),te},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(te){var me=T;return function(){var oe=T;T=me;try{return te.apply(this,arguments)}finally{T=oe}}}}(Yf)),Yf}var By;function dS(){return By||(By=1,Xf.exports=fS()),Xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function pS(){if(zy)return an;zy=1;var n=hp(),e=dS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(r){return p.call(w,r)?!0:p.call(v,r)?!1:m.test(r)?w[r]=!0:(v[r]=!0,!1)}function I(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,a,h){if(s===null||typeof s>"u"||I(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(r,s,a,h,d,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new O(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];L[s]=new O(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new O(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new O(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new O(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new O(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new O(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new O(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new O(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(W,G);L[s]=new O(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(W,G);L[s]=new O(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(W,G);L[s]=new O(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new O(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new O(r,1,!1,r.toLowerCase(),null,!0,!0)});function J(r,s,a,h){var d=L.hasOwnProperty(s)?L[s]:null;(d!==null?d.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,a,d,h)&&(a=null),h||d===null?T(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,h=d.attributeNamespace,a===null?r.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Rt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),te=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=te&&r[te]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,F;function q(r){if(F===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+r}var ge=!1;function Pe(r,s){if(!r||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(r,[],s)}else{try{s.call()}catch($){h=$}r.call(s.prototype)}else{try{throw Error()}catch($){h=$}r()}}catch($){if($&&h&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),y=h.stack.split(`
`),E=d.length-1,P=y.length-1;1<=E&&0<=P&&d[E]!==y[P];)P--;for(;1<=E&&0<=P;E--,P--)if(d[E]!==y[P]){if(E!==1||P!==1)do if(E--,P--,0>P||d[E]!==y[P]){var R=`
`+d[E].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=E&&0<=P);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?q(r):""}function Ce(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ue:return"Portal";case C:return"Profiler";case A:return"StrictMode";case x:return"Suspense";case Je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case j:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Rt:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case kt:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function Fe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function je(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=He(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function wr(r){r._valueTracker||(r._valueTracker=St(r))}function Cs(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Wr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Li(r,s){var a=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function xs(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=je(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Xo(r,s){s=s.checked,s!=null&&J(r,"checked",s,!1)}function Yo(r,s){Xo(r,s);var a=je(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Rs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Rs(r,s.type,je(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ll(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Rs(r,s,a){(s!=="number"||Wr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Er=Array.isArray;function Tr(r,s,a,h){if(r=r.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=s.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&h&&(r[a].defaultSelected=!0)}else{for(a=""+je(a),s=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,h&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Jo(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ks(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Er(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:je(a)}}function Vs(r,s){var a=je(s.value),h=je(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Zo(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,ea=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,d){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,d)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Kr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(r){Fi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Oi[s]=Oi[r]})});function ta(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Oi.hasOwnProperty(r)&&Oi[r]?(""+s).trim():s+"px"}function na(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,d=ta(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,d):r[a]=d}}var ra=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(r,s){if(s){if(ra[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function sa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ji=null;function Ns(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ds=null,wn=null,Zn=null;function bs(r){if(r=Ra(r)){if(typeof Ds!="function")throw Error(t(280));var s=r.stateNode;s&&(s=fu(s),Ds(r.stateNode,r.type,s))}}function er(r){wn?Zn?Zn.push(r):Zn=[r]:wn=r}function oa(){if(wn){var r=wn,s=Zn;if(Zn=wn=null,bs(r),s)for(r=0;r<s.length;r++)bs(s[r])}}function Ui(r,s){return r(s)}function aa(){}var Ar=!1;function la(r,s,a){if(Ar)return r(s,a);Ar=!0;try{return Ui(r,s,a)}finally{Ar=!1,(wn!==null||Zn!==null)&&(aa(),oa())}}function at(r,s){var a=r.stateNode;if(a===null)return null;var h=fu(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Ms=!1;if(f)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Ms=!1}function Bi(r,s,a,h,d,y,E,P,R){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(Y){this.onError(Y)}}var zi=!1,Ls=null,Ln=!1,ua=null,wh={onError:function(r){zi=!0,Ls=r}};function Os(r,s,a,h,d,y,E,P,R){zi=!1,Ls=null,Bi.apply(wh,arguments)}function Ol(r,s,a,h,d,y,E,P,R){if(Os.apply(this,arguments),zi){if(zi){var $=Ls;zi=!1,Ls=null}else throw Error(t(198));Ln||(Ln=!0,ua=$)}}function On(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function $i(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(r){if(On(r)!==r)throw Error(t(188))}function Fl(r){var s=r.alternate;if(!s){if(s=On(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var d=a.return;if(d===null)break;var y=d.alternate;if(y===null){if(h=d.return,h!==null){a=h;continue}break}if(d.child===y.child){for(y=d.child;y;){if(y===a)return Fn(d),r;if(y===h)return Fn(d),s;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=d,h=y;else{for(var E=!1,P=d.child;P;){if(P===a){E=!0,a=d,h=y;break}if(P===h){E=!0,h=d,a=y;break}P=P.sibling}if(!E){for(P=y.child;P;){if(P===a){E=!0,a=y,h=d;break}if(P===h){E=!0,h=y,a=d;break}P=P.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function ca(r){return r=Fl(r),r!==null?Fs(r):null}function Fs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Fs(r);if(s!==null)return s;r=r.sibling}return null}var js=e.unstable_scheduleCallback,ha=e.unstable_cancelCallback,jl=e.unstable_shouldYield,Eh=e.unstable_requestPaint,We=e.unstable_now,Ul=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,qr=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,fa=e.unstable_LowPriority,Bl=e.unstable_IdlePriority,Wi=null,cn=null;function zl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Wi,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Hl,da=Math.log,$l=Math.LN2;function Hl(r){return r>>>=0,r===0?32:31-(da(r)/$l|0)|0}var Us=64,Bs=4194304;function Gr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ki(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,d=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var P=E&~d;P!==0?h=Gr(P):(y&=E,y!==0&&(h=Gr(y)))}else E=a&~d,E!==0?h=Gr(E):y!==0&&(h=Gr(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&d)===0&&(d=h&-h,y=s&-s,d>=y||d===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-Gt(s),d=1<<a,h|=r[a],s&=~d;return h}function Th(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ir(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,d=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Gt(y),P=1<<E,R=d[E];R===-1?((P&a)===0||(P&h)!==0)&&(d[E]=Th(P,s)):R<=s&&(r.expiredLanes|=P),y&=~P}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function qi(){var r=Us;return Us<<=1,(Us&4194240)===0&&(Us=64),r}function Qr(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function Xr(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Gt(s),r[s]=a}function $e(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Gt(a),y=1<<d;s[d]=0,h[d]=-1,r[d]=-1,a&=~y}}function Yr(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-Gt(a),d=1<<h;d&s|r[h]&s&&(r[h]|=s),a&=~d}}var Ne=0;function Jr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Wl,zs,Kl,ql,Gl,pa=!1,tr=[],Vt=null,jn=null,Un=null,Zr=new Map,Tn=new Map,nr=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ql(r,s){switch(r){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Zr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function Zt(r,s,a,h,d,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[d]},s!==null&&(s=Ra(s),s!==null&&zs(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Ah(r,s,a,h,d){switch(s){case"focusin":return Vt=Zt(Vt,r,s,a,h,d),!0;case"dragenter":return jn=Zt(jn,r,s,a,h,d),!0;case"mouseover":return Un=Zt(Un,r,s,a,h,d),!0;case"pointerover":var y=d.pointerId;return Zr.set(y,Zt(Zr.get(y)||null,r,s,a,h,d)),!0;case"gotpointercapture":return y=d.pointerId,Tn.set(y,Zt(Tn.get(y)||null,r,s,a,h,d)),!0}return!1}function Xl(r){var s=Ji(r.target);if(s!==null){var a=On(s);if(a!==null){if(s=a.tag,s===13){if(s=$i(a),s!==null){r.blockedOn=s,Gl(r.priority,function(){Kl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=$s(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);ji=h,a.target.dispatchEvent(h),ji=null}else return s=Ra(a),s!==null&&zs(s),r.blockedOn=a,!1;s.shift()}return!0}function Gi(r,s,a){Pr(r)&&a.delete(s)}function Yl(){pa=!1,Vt!==null&&Pr(Vt)&&(Vt=null),jn!==null&&Pr(jn)&&(jn=null),Un!==null&&Pr(Un)&&(Un=null),Zr.forEach(Gi),Tn.forEach(Gi)}function Bn(r,s){r.blockedOn===s&&(r.blockedOn=null,pa||(pa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yl)))}function zn(r){function s(d){return Bn(d,r)}if(0<tr.length){Bn(tr[0],r);for(var a=1;a<tr.length;a++){var h=tr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Vt!==null&&Bn(Vt,r),jn!==null&&Bn(jn,r),Un!==null&&Bn(Un,r),Zr.forEach(s),Tn.forEach(s),a=0;a<nr.length;a++)h=nr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)Xl(a),a.blockedOn===null&&nr.shift()}var Cr=se.ReactCurrentBatchConfig,ei=!0;function Ze(r,s,a,h){var d=Ne,y=Cr.transition;Cr.transition=null;try{Ne=1,ma(r,s,a,h)}finally{Ne=d,Cr.transition=y}}function Ih(r,s,a,h){var d=Ne,y=Cr.transition;Cr.transition=null;try{Ne=4,ma(r,s,a,h)}finally{Ne=d,Cr.transition=y}}function ma(r,s,a,h){if(ei){var d=$s(r,s,a,h);if(d===null)Lh(r,s,h,Qi,a),Ql(r,h);else if(Ah(d,r,s,a,h))h.stopPropagation();else if(Ql(r,h),s&4&&-1<Sh.indexOf(r)){for(;d!==null;){var y=Ra(d);if(y!==null&&Wl(y),y=$s(r,s,a,h),y===null&&Lh(r,s,h,Qi,a),y===d)break;d=y}d!==null&&h.stopPropagation()}else Lh(r,s,h,null,a)}}var Qi=null;function $s(r,s,a,h){if(Qi=null,r=Ns(h),r=Ji(r),r!==null)if(s=On(r),s===null)r=null;else if(a=s.tag,a===13){if(r=$i(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Qi=r,null}function ga(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ul()){case Hi:return 1;case qr:return 4;case En:case fa:return 16;case Bl:return 536870912;default:return 16}default:return 16}}var fn=null,Hs=null,en=null;function ya(){if(en)return en;var r,s=Hs,a=s.length,h,d="value"in fn?fn.value:fn.textContent,y=d.length;for(r=0;r<a&&s[r]===d[r];r++);var E=a-r;for(h=1;h<=E&&s[a-h]===d[y-h];h++);return en=d.slice(r,1<h?1-h:void 0)}function Ws(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function rr(){return!0}function va(){return!1}function Nt(r){function s(a,h,d,y,E){this._reactName=a,this._targetInst=d,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(a=r[P],this[P]=a?a(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?rr:va,this.isPropagationStopped=va,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),s}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=Nt($n),ir=oe({},$n,{view:0,detail:0}),Ph=Nt(ir),qs,xr,ti,Xi=oe({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ti&&(ti&&r.type==="mousemove"?(qs=r.screenX-ti.screenX,xr=r.screenY-ti.screenY):xr=qs=0,ti=r),qs)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),Gs=Nt(Xi),_a=oe({},Xi,{dataTransfer:0}),Jl=Nt(_a),Qs=oe({},ir,{relatedTarget:0}),Xs=Nt(Qs),Zl=oe({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),Rr=Nt(Zl),eu=oe({},$n,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tu=Nt(eu),nu=oe({},$n,{data:0}),wa=Nt(nu),Ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=ru[r])?!!s[r]:!1}function sr(){return iu}var u=oe({},ir,{key:function(r){if(r.key){var s=Ys[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(r){return r.type==="keypress"?Ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Nt(u),_=oe({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Nt(_),U=oe({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),H=Nt(U),re=oe({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Nt(re),vt=oe({},Xi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),be=Nt(vt),At=[9,13,27,32],ht=f&&"CompositionEvent"in window,Sn=null;f&&"documentMode"in document&&(Sn=document.documentMode);var dn=f&&"TextEvent"in window&&!Sn,Yi=f&&(!ht||Sn&&8<Sn&&11>=Sn),Js=" ",km=!1;function Vm(r,s){switch(r){case"keyup":return At.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zs=!1;function s1(r,s){switch(r){case"compositionend":return Nm(s);case"keypress":return s.which!==32?null:(km=!0,Js);case"textInput":return r=s.data,r===Js&&km?null:r;default:return null}}function o1(r,s){if(Zs)return r==="compositionend"||!ht&&Vm(r,s)?(r=ya(),en=Hs=fn=null,Zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Yi&&s.locale!=="ko"?null:s.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!a1[r.type]:s==="textarea"}function bm(r,s,a,h){er(h),s=uu(s,"onChange"),0<s.length&&(a=new Ks("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var Ea=null,Ta=null;function l1(r){Jm(r,0)}function su(r){var s=io(r);if(Cs(s))return r}function u1(r,s){if(r==="change")return s}var Mm=!1;if(f){var Ch;if(f){var xh="oninput"in document;if(!xh){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),xh=typeof Lm.oninput=="function"}Ch=xh}else Ch=!1;Mm=Ch&&(!document.documentMode||9<document.documentMode)}function Om(){Ea&&(Ea.detachEvent("onpropertychange",Fm),Ta=Ea=null)}function Fm(r){if(r.propertyName==="value"&&su(Ta)){var s=[];bm(s,Ta,r,Ns(r)),la(l1,s)}}function c1(r,s,a){r==="focusin"?(Om(),Ea=s,Ta=a,Ea.attachEvent("onpropertychange",Fm)):r==="focusout"&&Om()}function h1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return su(Ta)}function f1(r,s){if(r==="click")return su(s)}function d1(r,s){if(r==="input"||r==="change")return su(s)}function p1(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:p1;function Sa(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var d=a[h];if(!p.call(s,d)||!Hn(r[d],s[d]))return!1}return!0}function jm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Um(r,s){var a=jm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=jm(a)}}function Bm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Bm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zm(){for(var r=window,s=Wr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Wr(r.document)}return s}function Rh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function m1(r){var s=zm(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Bm(a.ownerDocument.documentElement,a)){if(h!==null&&Rh(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,y=Math.min(h.start,d);h=h.end===void 0?y:Math.min(h.end,d),!r.extend&&y>h&&(d=h,h=y,y=d),d=Um(a,y);var E=Um(a,h);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),r.removeAllRanges(),y>h?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var g1=f&&"documentMode"in document&&11>=document.documentMode,eo=null,kh=null,Aa=null,Vh=!1;function $m(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Vh||eo==null||eo!==Wr(h)||(h=eo,"selectionStart"in h&&Rh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Aa&&Sa(Aa,h)||(Aa=h,h=uu(kh,"onSelect"),0<h.length&&(s=new Ks("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=eo)))}function ou(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var to={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Nh={},Hm={};f&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function au(r){if(Nh[r])return Nh[r];if(!to[r])return r;var s=to[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Hm)return Nh[r]=s[a];return r}var Wm=au("animationend"),Km=au("animationiteration"),qm=au("animationstart"),Gm=au("transitionend"),Qm=new Map,Xm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(r,s){Qm.set(r,s),l(s,[r])}for(var Dh=0;Dh<Xm.length;Dh++){var bh=Xm[Dh],y1=bh.toLowerCase(),v1=bh[0].toUpperCase()+bh.slice(1);ni(y1,"on"+v1)}ni(Wm,"onAnimationEnd"),ni(Km,"onAnimationIteration"),ni(qm,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(Gm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function Ym(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,Ol(h,s,void 0,r),r.currentTarget=null}function Jm(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],d=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var P=h[E],R=P.instance,$=P.currentTarget;if(P=P.listener,R!==y&&d.isPropagationStopped())break e;Ym(d,P,$),y=R}else for(E=0;E<h.length;E++){if(P=h[E],R=P.instance,$=P.currentTarget,P=P.listener,R!==y&&d.isPropagationStopped())break e;Ym(d,P,$),y=R}}}if(Ln)throw r=ua,Ln=!1,ua=null,r}function qe(r,s){var a=s[zh];a===void 0&&(a=s[zh]=new Set);var h=r+"__bubble";a.has(h)||(Zm(s,r,2,!1),a.add(h))}function Mh(r,s,a){var h=0;s&&(h|=4),Zm(a,r,h,s)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[lu]){r[lu]=!0,i.forEach(function(a){a!=="selectionchange"&&(_1.has(a)||Mh(a,!1,r),Mh(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[lu]||(s[lu]=!0,Mh("selectionchange",!1,s))}}function Zm(r,s,a,h){switch(ga(s)){case 1:var d=Ze;break;case 4:d=Ih;break;default:d=ma}a=d.bind(null,s,a,r),d=void 0,!Ms||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),h?d!==void 0?r.addEventListener(s,a,{capture:!0,passive:d}):r.addEventListener(s,a,!0):d!==void 0?r.addEventListener(s,a,{passive:d}):r.addEventListener(s,a,!1)}function Lh(r,s,a,h,d){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var P=h.stateNode.containerInfo;if(P===d||P.nodeType===8&&P.parentNode===d)break;if(E===4)for(E=h.return;E!==null;){var R=E.tag;if((R===3||R===4)&&(R=E.stateNode.containerInfo,R===d||R.nodeType===8&&R.parentNode===d))return;E=E.return}for(;P!==null;){if(E=Ji(P),E===null)return;if(R=E.tag,R===5||R===6){h=y=E;continue e}P=P.parentNode}}h=h.return}la(function(){var $=y,Y=Ns(a),Z=[];e:{var X=Qm.get(r);if(X!==void 0){var ae=Ks,he=r;switch(r){case"keypress":if(Ws(a)===0)break e;case"keydown":case"keyup":ae=g;break;case"focusin":he="focus",ae=Xs;break;case"focusout":he="blur",ae=Xs;break;case"beforeblur":case"afterblur":ae=Xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Gs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=H;break;case Wm:case Km:case qm:ae=Rr;break;case Gm:ae=ze;break;case"scroll":ae=Ph;break;case"wheel":ae=be;break;case"copy":case"cut":case"paste":ae=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=S}var fe=(s&4)!==0,lt=!fe&&r==="scroll",B=fe?X!==null?X+"Capture":null:X;fe=[];for(var D=$,z;D!==null;){z=D;var ee=z.stateNode;if(z.tag===5&&ee!==null&&(z=ee,B!==null&&(ee=at(D,B),ee!=null&&fe.push(Ca(D,ee,z)))),lt)break;D=D.return}0<fe.length&&(X=new ae(X,he,null,a,Y),Z.push({event:X,listeners:fe}))}}if((s&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",X&&a!==ji&&(he=a.relatedTarget||a.fromElement)&&(Ji(he)||he[kr]))break e;if((ae||X)&&(X=Y.window===Y?Y:(X=Y.ownerDocument)?X.defaultView||X.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=$,he=he?Ji(he):null,he!==null&&(lt=On(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(fe=Gs,ee="onMouseLeave",B="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(fe=S,ee="onPointerLeave",B="onPointerEnter",D="pointer"),lt=ae==null?X:io(ae),z=he==null?X:io(he),X=new fe(ee,D+"leave",ae,a,Y),X.target=lt,X.relatedTarget=z,ee=null,Ji(Y)===$&&(fe=new fe(B,D+"enter",he,a,Y),fe.target=z,fe.relatedTarget=lt,ee=fe),lt=ee,ae&&he)t:{for(fe=ae,B=he,D=0,z=fe;z;z=no(z))D++;for(z=0,ee=B;ee;ee=no(ee))z++;for(;0<D-z;)fe=no(fe),D--;for(;0<z-D;)B=no(B),z--;for(;D--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=no(fe),B=no(B)}fe=null}else fe=null;ae!==null&&eg(Z,X,ae,fe,!1),he!==null&&lt!==null&&eg(Z,lt,he,fe,!0)}}e:{if(X=$?io($):window,ae=X.nodeName&&X.nodeName.toLowerCase(),ae==="select"||ae==="input"&&X.type==="file")var pe=u1;else if(Dm(X))if(Mm)pe=d1;else{pe=h1;var ve=c1}else(ae=X.nodeName)&&ae.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(pe=f1);if(pe&&(pe=pe(r,$))){bm(Z,pe,a,Y);break e}ve&&ve(r,X,$),r==="focusout"&&(ve=X._wrapperState)&&ve.controlled&&X.type==="number"&&Rs(X,"number",X.value)}switch(ve=$?io($):window,r){case"focusin":(Dm(ve)||ve.contentEditable==="true")&&(eo=ve,kh=$,Aa=null);break;case"focusout":Aa=kh=eo=null;break;case"mousedown":Vh=!0;break;case"contextmenu":case"mouseup":case"dragend":Vh=!1,$m(Z,a,Y);break;case"selectionchange":if(g1)break;case"keydown":case"keyup":$m(Z,a,Y)}var _e;if(ht)e:{switch(r){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Zs?Vm(r,a)&&(Te="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(Yi&&a.locale!=="ko"&&(Zs||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Zs&&(_e=ya()):(fn=Y,Hs="value"in fn?fn.value:fn.textContent,Zs=!0)),ve=uu($,Te),0<ve.length&&(Te=new wa(Te,r,null,a,Y),Z.push({event:Te,listeners:ve}),_e?Te.data=_e:(_e=Nm(a),_e!==null&&(Te.data=_e)))),(_e=dn?s1(r,a):o1(r,a))&&($=uu($,"onBeforeInput"),0<$.length&&(Y=new wa("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:$}),Y.data=_e))}Jm(Z,s)})}function Ca(r,s,a){return{instance:r,listener:s,currentTarget:a}}function uu(r,s){for(var a=s+"Capture",h=[];r!==null;){var d=r,y=d.stateNode;d.tag===5&&y!==null&&(d=y,y=at(r,a),y!=null&&h.unshift(Ca(r,y,d)),y=at(r,s),y!=null&&h.push(Ca(r,y,d))),r=r.return}return h}function no(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function eg(r,s,a,h,d){for(var y=s._reactName,E=[];a!==null&&a!==h;){var P=a,R=P.alternate,$=P.stateNode;if(R!==null&&R===h)break;P.tag===5&&$!==null&&(P=$,d?(R=at(a,y),R!=null&&E.unshift(Ca(a,R,P))):d||(R=at(a,y),R!=null&&E.push(Ca(a,R,P)))),a=a.return}E.length!==0&&r.push({event:s,listeners:E})}var w1=/\r\n?/g,E1=/\u0000|\uFFFD/g;function tg(r){return(typeof r=="string"?r:""+r).replace(w1,`
`).replace(E1,"")}function cu(r,s,a){if(s=tg(s),tg(r)!==s&&a)throw Error(t(425))}function hu(){}var Oh=null,Fh=null;function jh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Uh=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,S1=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(r){return ng.resolve(null).then(r).catch(A1)}:Uh;function A1(r){setTimeout(function(){throw r})}function Bh(r,s){var a=s,h=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(h===0){r.removeChild(d),zn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=d}while(a);zn(s)}function ri(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function rg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var ro=Math.random().toString(36).slice(2),or="__reactFiber$"+ro,xa="__reactProps$"+ro,kr="__reactContainer$"+ro,zh="__reactEvents$"+ro,I1="__reactListeners$"+ro,P1="__reactHandles$"+ro;function Ji(r){var s=r[or];if(s)return s;for(var a=r.parentNode;a;){if(s=a[kr]||a[or]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=rg(r);r!==null;){if(a=r[or])return a;r=rg(r)}return s}r=a,a=r.parentNode}return null}function Ra(r){return r=r[or]||r[kr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function fu(r){return r[xa]||null}var $h=[],so=-1;function ii(r){return{current:r}}function Ge(r){0>so||(r.current=$h[so],$h[so]=null,so--)}function Ke(r,s){so++,$h[so]=r.current,r.current=s}var si={},jt=ii(si),tn=ii(!1),Zi=si;function oo(r,s){var a=r.type.contextTypes;if(!a)return si;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var d={},y;for(y in a)d[y]=s[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=d),d}function nn(r){return r=r.childContextTypes,r!=null}function du(){Ge(tn),Ge(jt)}function ig(r,s,a){if(jt.current!==si)throw Error(t(168));Ke(jt,s),Ke(tn,a)}function sg(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var d in h)if(!(d in s))throw Error(t(108,Fe(r)||"Unknown",d));return oe({},a,h)}function pu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||si,Zi=jt.current,Ke(jt,r),Ke(tn,tn.current),!0}function og(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=sg(r,s,Zi),h.__reactInternalMemoizedMergedChildContext=r,Ge(tn),Ge(jt),Ke(jt,r)):Ge(tn),Ke(tn,a)}var Vr=null,mu=!1,Hh=!1;function ag(r){Vr===null?Vr=[r]:Vr.push(r)}function C1(r){mu=!0,ag(r)}function oi(){if(!Hh&&Vr!==null){Hh=!0;var r=0,s=Ne;try{var a=Vr;for(Ne=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Vr=null,mu=!1}catch(d){throw Vr!==null&&(Vr=Vr.slice(r+1)),js(Hi,oi),d}finally{Ne=s,Hh=!1}}return null}var ao=[],lo=0,gu=null,yu=0,An=[],In=0,es=null,Nr=1,Dr="";function ts(r,s){ao[lo++]=yu,ao[lo++]=gu,gu=r,yu=s}function lg(r,s,a){An[In++]=Nr,An[In++]=Dr,An[In++]=es,es=r;var h=Nr;r=Dr;var d=32-Gt(h)-1;h&=~(1<<d),a+=1;var y=32-Gt(s)+d;if(30<y){var E=d-d%5;y=(h&(1<<E)-1).toString(32),h>>=E,d-=E,Nr=1<<32-Gt(s)+d|a<<d|h,Dr=y+r}else Nr=1<<y|a<<d|h,Dr=r}function Wh(r){r.return!==null&&(ts(r,1),lg(r,1,0))}function Kh(r){for(;r===gu;)gu=ao[--lo],ao[lo]=null,yu=ao[--lo],ao[lo]=null;for(;r===es;)es=An[--In],An[In]=null,Dr=An[--In],An[In]=null,Nr=An[--In],An[In]=null}var pn=null,mn=null,et=!1,Wn=null;function ug(r,s){var a=Rn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function cg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=ri(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=es!==null?{id:Nr,overflow:Dr}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Rn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function qh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Gh(r){if(et){var s=mn;if(s){var a=s;if(!cg(r,s)){if(qh(r))throw Error(t(418));s=ri(a.nextSibling);var h=pn;s&&cg(r,s)?ug(h,a):(r.flags=r.flags&-4097|2,et=!1,pn=r)}}else{if(qh(r))throw Error(t(418));r.flags=r.flags&-4097|2,et=!1,pn=r}}}function hg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function vu(r){if(r!==pn)return!1;if(!et)return hg(r),et=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!jh(r.type,r.memoizedProps)),s&&(s=mn)){if(qh(r))throw fg(),Error(t(418));for(;s;)ug(r,s),s=ri(s.nextSibling)}if(hg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){mn=ri(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?ri(r.stateNode.nextSibling):null;return!0}function fg(){for(var r=mn;r;)r=ri(r.nextSibling)}function uo(){mn=pn=null,et=!1}function Qh(r){Wn===null?Wn=[r]:Wn.push(r)}var x1=se.ReactCurrentBatchConfig;function ka(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var d=h,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var P=d.refs;E===null?delete P[y]:P[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function _u(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function dg(r){var s=r._init;return s(r._payload)}function pg(r){function s(B,D){if(r){var z=B.deletions;z===null?(B.deletions=[D],B.flags|=16):z.push(D)}}function a(B,D){if(!r)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function h(B,D){for(B=new Map;D!==null;)D.key!==null?B.set(D.key,D):B.set(D.index,D),D=D.sibling;return B}function d(B,D){return B=pi(B,D),B.index=0,B.sibling=null,B}function y(B,D,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<D?(B.flags|=2,D):z):(B.flags|=2,D)):(B.flags|=1048576,D)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function P(B,D,z,ee){return D===null||D.tag!==6?(D=Bf(z,B.mode,ee),D.return=B,D):(D=d(D,z),D.return=B,D)}function R(B,D,z,ee){var pe=z.type;return pe===k?Y(B,D,z.props.children,ee,z.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===kt&&dg(pe)===D.type)?(ee=d(D,z.props),ee.ref=ka(B,D,z),ee.return=B,ee):(ee=$u(z.type,z.key,z.props,null,B.mode,ee),ee.ref=ka(B,D,z),ee.return=B,ee)}function $(B,D,z,ee){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=zf(z,B.mode,ee),D.return=B,D):(D=d(D,z.children||[]),D.return=B,D)}function Y(B,D,z,ee,pe){return D===null||D.tag!==7?(D=us(z,B.mode,ee,pe),D.return=B,D):(D=d(D,z),D.return=B,D)}function Z(B,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Bf(""+D,B.mode,z),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ie:return z=$u(D.type,D.key,D.props,null,B.mode,z),z.ref=ka(B,null,D),z.return=B,z;case ue:return D=zf(D,B.mode,z),D.return=B,D;case kt:var ee=D._init;return Z(B,ee(D._payload),z)}if(Er(D)||me(D))return D=us(D,B.mode,z,null),D.return=B,D;_u(B,D)}return null}function X(B,D,z,ee){var pe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:P(B,D,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:return z.key===pe?R(B,D,z,ee):null;case ue:return z.key===pe?$(B,D,z,ee):null;case kt:return pe=z._init,X(B,D,pe(z._payload),ee)}if(Er(z)||me(z))return pe!==null?null:Y(B,D,z,ee,null);_u(B,z)}return null}function ae(B,D,z,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return B=B.get(z)||null,P(D,B,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case ie:return B=B.get(ee.key===null?z:ee.key)||null,R(D,B,ee,pe);case ue:return B=B.get(ee.key===null?z:ee.key)||null,$(D,B,ee,pe);case kt:var ve=ee._init;return ae(B,D,z,ve(ee._payload),pe)}if(Er(ee)||me(ee))return B=B.get(z)||null,Y(D,B,ee,pe,null);_u(D,ee)}return null}function he(B,D,z,ee){for(var pe=null,ve=null,_e=D,Te=D=0,Ct=null;_e!==null&&Te<z.length;Te++){_e.index>Te?(Ct=_e,_e=null):Ct=_e.sibling;var Oe=X(B,_e,z[Te],ee);if(Oe===null){_e===null&&(_e=Ct);break}r&&_e&&Oe.alternate===null&&s(B,_e),D=y(Oe,D,Te),ve===null?pe=Oe:ve.sibling=Oe,ve=Oe,_e=Ct}if(Te===z.length)return a(B,_e),et&&ts(B,Te),pe;if(_e===null){for(;Te<z.length;Te++)_e=Z(B,z[Te],ee),_e!==null&&(D=y(_e,D,Te),ve===null?pe=_e:ve.sibling=_e,ve=_e);return et&&ts(B,Te),pe}for(_e=h(B,_e);Te<z.length;Te++)Ct=ae(_e,B,Te,z[Te],ee),Ct!==null&&(r&&Ct.alternate!==null&&_e.delete(Ct.key===null?Te:Ct.key),D=y(Ct,D,Te),ve===null?pe=Ct:ve.sibling=Ct,ve=Ct);return r&&_e.forEach(function(mi){return s(B,mi)}),et&&ts(B,Te),pe}function fe(B,D,z,ee){var pe=me(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ve=pe=null,_e=D,Te=D=0,Ct=null,Oe=z.next();_e!==null&&!Oe.done;Te++,Oe=z.next()){_e.index>Te?(Ct=_e,_e=null):Ct=_e.sibling;var mi=X(B,_e,Oe.value,ee);if(mi===null){_e===null&&(_e=Ct);break}r&&_e&&mi.alternate===null&&s(B,_e),D=y(mi,D,Te),ve===null?pe=mi:ve.sibling=mi,ve=mi,_e=Ct}if(Oe.done)return a(B,_e),et&&ts(B,Te),pe;if(_e===null){for(;!Oe.done;Te++,Oe=z.next())Oe=Z(B,Oe.value,ee),Oe!==null&&(D=y(Oe,D,Te),ve===null?pe=Oe:ve.sibling=Oe,ve=Oe);return et&&ts(B,Te),pe}for(_e=h(B,_e);!Oe.done;Te++,Oe=z.next())Oe=ae(_e,B,Te,Oe.value,ee),Oe!==null&&(r&&Oe.alternate!==null&&_e.delete(Oe.key===null?Te:Oe.key),D=y(Oe,D,Te),ve===null?pe=Oe:ve.sibling=Oe,ve=Oe);return r&&_e.forEach(function(aS){return s(B,aS)}),et&&ts(B,Te),pe}function lt(B,D,z,ee){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:e:{for(var pe=z.key,ve=D;ve!==null;){if(ve.key===pe){if(pe=z.type,pe===k){if(ve.tag===7){a(B,ve.sibling),D=d(ve,z.props.children),D.return=B,B=D;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===kt&&dg(pe)===ve.type){a(B,ve.sibling),D=d(ve,z.props),D.ref=ka(B,ve,z),D.return=B,B=D;break e}a(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===k?(D=us(z.props.children,B.mode,ee,z.key),D.return=B,B=D):(ee=$u(z.type,z.key,z.props,null,B.mode,ee),ee.ref=ka(B,D,z),ee.return=B,B=ee)}return E(B);case ue:e:{for(ve=z.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(B,D.sibling),D=d(D,z.children||[]),D.return=B,B=D;break e}else{a(B,D);break}else s(B,D);D=D.sibling}D=zf(z,B.mode,ee),D.return=B,B=D}return E(B);case kt:return ve=z._init,lt(B,D,ve(z._payload),ee)}if(Er(z))return he(B,D,z,ee);if(me(z))return fe(B,D,z,ee);_u(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(B,D.sibling),D=d(D,z),D.return=B,B=D):(a(B,D),D=Bf(z,B.mode,ee),D.return=B,B=D),E(B)):a(B,D)}return lt}var co=pg(!0),mg=pg(!1),wu=ii(null),Eu=null,ho=null,Xh=null;function Yh(){Xh=ho=Eu=null}function Jh(r){var s=wu.current;Ge(wu),r._currentValue=s}function Zh(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function fo(r,s){Eu=r,Xh=ho=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(rn=!0),r.firstContext=null)}function Pn(r){var s=r._currentValue;if(Xh!==r)if(r={context:r,memoizedValue:s,next:null},ho===null){if(Eu===null)throw Error(t(308));ho=r,Eu.dependencies={lanes:0,firstContext:r}}else ho=ho.next=r;return s}var ns=null;function ef(r){ns===null?ns=[r]:ns.push(r)}function gg(r,s,a,h){var d=s.interleaved;return d===null?(a.next=a,ef(s)):(a.next=d.next,d.next=a),s.interleaved=a,br(r,h)}function br(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ai=!1;function tf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Mr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function li(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Le&2)!==0){var d=h.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),h.pending=s,br(r,a)}return d=h.interleaved,d===null?(s.next=s,ef(h)):(s.next=d.next,d.next=s),h.interleaved=s,br(r,a)}function Tu(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Yr(r,a)}}function vg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var d=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?d=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?d=y=s:y=y.next=s}else d=y=s;a={baseState:h.baseState,firstBaseUpdate:d,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Su(r,s,a,h){var d=r.updateQueue;ai=!1;var y=d.firstBaseUpdate,E=d.lastBaseUpdate,P=d.shared.pending;if(P!==null){d.shared.pending=null;var R=P,$=R.next;R.next=null,E===null?y=$:E.next=$,E=R;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,P=Y.lastBaseUpdate,P!==E&&(P===null?Y.firstBaseUpdate=$:P.next=$,Y.lastBaseUpdate=R))}if(y!==null){var Z=d.baseState;E=0,Y=$=R=null,P=y;do{var X=P.lane,ae=P.eventTime;if((h&X)===X){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var he=r,fe=P;switch(X=s,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){Z=he.call(ae,Z,X);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,X=typeof he=="function"?he.call(ae,Z,X):he,X==null)break e;Z=oe({},Z,X);break e;case 2:ai=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,X=d.effects,X===null?d.effects=[P]:X.push(P))}else ae={eventTime:ae,lane:X,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Y===null?($=Y=ae,R=Z):Y=Y.next=ae,E|=X;if(P=P.next,P===null){if(P=d.shared.pending,P===null)break;X=P,P=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(Y===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=$,d.lastBaseUpdate=Y,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else y===null&&(d.shared.lanes=0);ss|=E,r.lanes=E,r.memoizedState=Z}}function _g(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],d=h.callback;if(d!==null){if(h.callback=null,h=a,typeof d!="function")throw Error(t(191,d));d.call(h)}}}var Va={},ar=ii(Va),Na=ii(Va),Da=ii(Va);function rs(r){if(r===Va)throw Error(t(174));return r}function nf(r,s){switch(Ke(Da,s),Ke(Na,r),Ke(ar,Va),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Ge(ar),Ke(ar,s)}function po(){Ge(ar),Ge(Na),Ge(Da)}function wg(r){rs(Da.current);var s=rs(ar.current),a=yt(s,r.type);s!==a&&(Ke(Na,r),Ke(ar,a))}function rf(r){Na.current===r&&(Ge(ar),Ge(Na))}var tt=ii(0);function Au(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sf=[];function of(){for(var r=0;r<sf.length;r++)sf[r]._workInProgressVersionPrimary=null;sf.length=0}var Iu=se.ReactCurrentDispatcher,af=se.ReactCurrentBatchConfig,is=0,nt=null,_t=null,It=null,Pu=!1,ba=!1,Ma=0,R1=0;function Ut(){throw Error(t(321))}function lf(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Hn(r[a],s[a]))return!1;return!0}function uf(r,s,a,h,d,y){if(is=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Iu.current=r===null||r.memoizedState===null?D1:b1,r=a(h,d),ba){y=0;do{if(ba=!1,Ma=0,25<=y)throw Error(t(301));y+=1,It=_t=null,s.updateQueue=null,Iu.current=M1,r=a(h,d)}while(ba)}if(Iu.current=Ru,s=_t!==null&&_t.next!==null,is=0,It=_t=nt=null,Pu=!1,s)throw Error(t(300));return r}function cf(){var r=Ma!==0;return Ma=0,r}function lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?nt.memoizedState=It=r:It=It.next=r,It}function Cn(){if(_t===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=_t.next;var s=It===null?nt.memoizedState:It.next;if(s!==null)It=s,_t=r;else{if(r===null)throw Error(t(310));_t=r,r={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?nt.memoizedState=It=r:It=It.next=r}return It}function La(r,s){return typeof s=="function"?s(r):s}function hf(r){var s=Cn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=_t,d=h.baseQueue,y=a.pending;if(y!==null){if(d!==null){var E=d.next;d.next=y.next,y.next=E}h.baseQueue=d=y,a.pending=null}if(d!==null){y=d.next,h=h.baseState;var P=E=null,R=null,$=y;do{var Y=$.lane;if((is&Y)===Y)R!==null&&(R=R.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:r(h,$.action);else{var Z={lane:Y,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};R===null?(P=R=Z,E=h):R=R.next=Z,nt.lanes|=Y,ss|=Y}$=$.next}while($!==null&&$!==y);R===null?E=h:R.next=P,Hn(h,s.memoizedState)||(rn=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=R,a.lastRenderedState=h}if(r=a.interleaved,r!==null){d=r;do y=d.lane,nt.lanes|=y,ss|=y,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function ff(r){var s=Cn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,d=a.pending,y=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do y=r(y,E.action),E=E.next;while(E!==d);Hn(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,h]}function Eg(){}function Tg(r,s){var a=nt,h=Cn(),d=s(),y=!Hn(h.memoizedState,d);if(y&&(h.memoizedState=d,rn=!0),h=h.queue,df(Ig.bind(null,a,h,r),[r]),h.getSnapshot!==s||y||It!==null&&It.memoizedState.tag&1){if(a.flags|=2048,Oa(9,Ag.bind(null,a,h,d,s),void 0,null),Pt===null)throw Error(t(349));(is&30)!==0||Sg(a,s,d)}return d}function Sg(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Ag(r,s,a,h){s.value=a,s.getSnapshot=h,Pg(s)&&Cg(r)}function Ig(r,s,a){return a(function(){Pg(s)&&Cg(r)})}function Pg(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Hn(r,a)}catch{return!0}}function Cg(r){var s=br(r,1);s!==null&&Qn(s,r,1,-1)}function xg(r){var s=lr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:r},s.queue=r,r=r.dispatch=N1.bind(null,nt,r),[s.memoizedState,r]}function Oa(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function Rg(){return Cn().memoizedState}function Cu(r,s,a,h){var d=lr();nt.flags|=r,d.memoizedState=Oa(1|s,a,void 0,h===void 0?null:h)}function xu(r,s,a,h){var d=Cn();h=h===void 0?null:h;var y=void 0;if(_t!==null){var E=_t.memoizedState;if(y=E.destroy,h!==null&&lf(h,E.deps)){d.memoizedState=Oa(s,a,y,h);return}}nt.flags|=r,d.memoizedState=Oa(1|s,a,y,h)}function kg(r,s){return Cu(8390656,8,r,s)}function df(r,s){return xu(2048,8,r,s)}function Vg(r,s){return xu(4,2,r,s)}function Ng(r,s){return xu(4,4,r,s)}function Dg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function bg(r,s,a){return a=a!=null?a.concat([r]):null,xu(4,4,Dg.bind(null,s,r),a)}function pf(){}function Mg(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&lf(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function Lg(r,s){var a=Cn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&lf(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function Og(r,s,a){return(is&21)===0?(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=a):(Hn(a,s)||(a=qi(),nt.lanes|=a,ss|=a,r.baseState=!0),s)}function k1(r,s){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var h=af.transition;af.transition={};try{r(!1),s()}finally{Ne=a,af.transition=h}}function Fg(){return Cn().memoizedState}function V1(r,s,a){var h=fi(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},jg(r))Ug(s,a);else if(a=gg(r,s,a,h),a!==null){var d=Yt();Qn(a,r,h,d),Bg(a,s,h)}}function N1(r,s,a){var h=fi(r),d={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(jg(r))Ug(s,d);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,P=y(E,a);if(d.hasEagerState=!0,d.eagerState=P,Hn(P,E)){var R=s.interleaved;R===null?(d.next=d,ef(s)):(d.next=R.next,R.next=d),s.interleaved=d;return}}catch{}finally{}a=gg(r,s,d,h),a!==null&&(d=Yt(),Qn(a,r,h,d),Bg(a,s,h))}}function jg(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function Ug(r,s){ba=Pu=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Bg(r,s,a){if((a&4194240)!==0){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,Yr(r,a)}}var Ru={readContext:Pn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},D1={readContext:Pn,useCallback:function(r,s){return lr().memoizedState=[r,s===void 0?null:s],r},useContext:Pn,useEffect:kg,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Cu(4194308,4,Dg.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Cu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Cu(4,2,r,s)},useMemo:function(r,s){var a=lr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=lr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=V1.bind(null,nt,r),[h.memoizedState,r]},useRef:function(r){var s=lr();return r={current:r},s.memoizedState=r},useState:xg,useDebugValue:pf,useDeferredValue:function(r){return lr().memoizedState=r},useTransition:function(){var r=xg(!1),s=r[0];return r=k1.bind(null,r[1]),lr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=nt,d=lr();if(et){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Pt===null)throw Error(t(349));(is&30)!==0||Sg(h,s,a)}d.memoizedState=a;var y={value:a,getSnapshot:s};return d.queue=y,kg(Ig.bind(null,h,y,r),[r]),h.flags|=2048,Oa(9,Ag.bind(null,h,y,a,s),void 0,null),a},useId:function(){var r=lr(),s=Pt.identifierPrefix;if(et){var a=Dr,h=Nr;a=(h&~(1<<32-Gt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ma++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=R1++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},b1={readContext:Pn,useCallback:Mg,useContext:Pn,useEffect:df,useImperativeHandle:bg,useInsertionEffect:Vg,useLayoutEffect:Ng,useMemo:Lg,useReducer:hf,useRef:Rg,useState:function(){return hf(La)},useDebugValue:pf,useDeferredValue:function(r){var s=Cn();return Og(s,_t.memoizedState,r)},useTransition:function(){var r=hf(La)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:Eg,useSyncExternalStore:Tg,useId:Fg,unstable_isNewReconciler:!1},M1={readContext:Pn,useCallback:Mg,useContext:Pn,useEffect:df,useImperativeHandle:bg,useInsertionEffect:Vg,useLayoutEffect:Ng,useMemo:Lg,useReducer:ff,useRef:Rg,useState:function(){return ff(La)},useDebugValue:pf,useDeferredValue:function(r){var s=Cn();return _t===null?s.memoizedState=r:Og(s,_t.memoizedState,r)},useTransition:function(){var r=ff(La)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:Eg,useSyncExternalStore:Tg,useId:Fg,unstable_isNewReconciler:!1};function Kn(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function mf(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:oe({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var ku={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Yt(),d=fi(r),y=Mr(h,d);y.payload=s,a!=null&&(y.callback=a),s=li(r,y,d),s!==null&&(Qn(s,r,d,h),Tu(s,r,d))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Yt(),d=fi(r),y=Mr(h,d);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=li(r,y,d),s!==null&&(Qn(s,r,d,h),Tu(s,r,d))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Yt(),h=fi(r),d=Mr(a,h);d.tag=2,s!=null&&(d.callback=s),s=li(r,d,h),s!==null&&(Qn(s,r,h,a),Tu(s,r,h))}};function zg(r,s,a,h,d,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!Sa(a,h)||!Sa(d,y):!0}function $g(r,s,a){var h=!1,d=si,y=s.contextType;return typeof y=="object"&&y!==null?y=Pn(y):(d=nn(s)?Zi:jt.current,h=s.contextTypes,y=(h=h!=null)?oo(r,d):si),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ku,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=y),s}function Hg(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&ku.enqueueReplaceState(s,s.state,null)}function gf(r,s,a,h){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},tf(r);var y=s.contextType;typeof y=="object"&&y!==null?d.context=Pn(y):(y=nn(s)?Zi:jt.current,d.context=oo(r,y)),d.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(mf(r,s,y,a),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&ku.enqueueReplaceState(d,d.state,null),Su(r,a,d,h),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function mo(r,s){try{var a="",h=s;do a+=Ce(h),h=h.return;while(h);var d=a}catch(y){d=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:d,digest:null}}function yf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function vf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var L1=typeof WeakMap=="function"?WeakMap:Map;function Wg(r,s,a){a=Mr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){Ou||(Ou=!0,Df=h),vf(r,s)},a}function Kg(r,s,a){a=Mr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=s.value;a.payload=function(){return h(d)},a.callback=function(){vf(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){vf(r,s),typeof h!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function qg(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new L1;var d=new Set;h.set(s,d)}else d=h.get(s),d===void 0&&(d=new Set,h.set(s,d));d.has(a)||(d.add(a),r=X1.bind(null,r,s,a),s.then(r,r))}function Gg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Qg(r,s,a,h,d){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Mr(-1,1),s.tag=2,li(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var O1=se.ReactCurrentOwner,rn=!1;function Xt(r,s,a,h){s.child=r===null?mg(s,null,a,h):co(s,r.child,a,h)}function Xg(r,s,a,h,d){a=a.render;var y=s.ref;return fo(s,d),h=uf(r,s,a,h,y,d),a=cf(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Lr(r,s,d)):(et&&a&&Wh(s),s.flags|=1,Xt(r,s,h,d),s.child)}function Yg(r,s,a,h,d){if(r===null){var y=a.type;return typeof y=="function"&&!Uf(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,Jg(r,s,y,h,d)):(r=$u(a.type,null,h,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&d)===0){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(E,h)&&r.ref===s.ref)return Lr(r,s,d)}return s.flags|=1,r=pi(y,h),r.ref=s.ref,r.return=s,s.child=r}function Jg(r,s,a,h,d){if(r!==null){var y=r.memoizedProps;if(Sa(y,h)&&r.ref===s.ref)if(rn=!1,s.pendingProps=h=y,(r.lanes&d)!==0)(r.flags&131072)!==0&&(rn=!0);else return s.lanes=r.lanes,Lr(r,s,d)}return _f(r,s,a,h,d)}function Zg(r,s,a){var h=s.pendingProps,d=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(yo,gn),gn|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ke(yo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,Ke(yo,gn),gn|=h}else y!==null?(h=y.baseLanes|a,s.memoizedState=null):h=a,Ke(yo,gn),gn|=h;return Xt(r,s,d,a),s.child}function ey(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function _f(r,s,a,h,d){var y=nn(a)?Zi:jt.current;return y=oo(s,y),fo(s,d),a=uf(r,s,a,h,y,d),h=cf(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~d,Lr(r,s,d)):(et&&h&&Wh(s),s.flags|=1,Xt(r,s,a,d),s.child)}function ty(r,s,a,h,d){if(nn(a)){var y=!0;pu(s)}else y=!1;if(fo(s,d),s.stateNode===null)Nu(r,s),$g(s,a,h),gf(s,a,h,d),h=!0;else if(r===null){var E=s.stateNode,P=s.memoizedProps;E.props=P;var R=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=Pn($):($=nn(a)?Zi:jt.current,$=oo(s,$));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==h||R!==$)&&Hg(s,E,h,$),ai=!1;var X=s.memoizedState;E.state=X,Su(s,h,E,d),R=s.memoizedState,P!==h||X!==R||tn.current||ai?(typeof Y=="function"&&(mf(s,a,Y,h),R=s.memoizedState),(P=ai||zg(s,a,P,h,X,R,$))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=R),E.props=h,E.state=R,E.context=$,h=P):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,yg(r,s),P=s.memoizedProps,$=s.type===s.elementType?P:Kn(s.type,P),E.props=$,Z=s.pendingProps,X=E.context,R=a.contextType,typeof R=="object"&&R!==null?R=Pn(R):(R=nn(a)?Zi:jt.current,R=oo(s,R));var ae=a.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==Z||X!==R)&&Hg(s,E,h,R),ai=!1,X=s.memoizedState,E.state=X,Su(s,h,E,d);var he=s.memoizedState;P!==Z||X!==he||tn.current||ai?(typeof ae=="function"&&(mf(s,a,ae,h),he=s.memoizedState),($=ai||zg(s,a,$,h,X,he,R)||!1)?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,R),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,R)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=R,h=$):(typeof E.componentDidUpdate!="function"||P===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),h=!1)}return wf(r,s,a,h,y,d)}function wf(r,s,a,h,d,y){ey(r,s);var E=(s.flags&128)!==0;if(!h&&!E)return d&&og(s,a,!1),Lr(r,s,y);h=s.stateNode,O1.current=s;var P=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&E?(s.child=co(s,r.child,null,y),s.child=co(s,null,P,y)):Xt(r,s,P,y),s.memoizedState=h.state,d&&og(s,a,!0),s.child}function ny(r){var s=r.stateNode;s.pendingContext?ig(r,s.pendingContext,s.pendingContext!==s.context):s.context&&ig(r,s.context,!1),nf(r,s.containerInfo)}function ry(r,s,a,h,d){return uo(),Qh(d),s.flags|=256,Xt(r,s,a,h),s.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(r){return{baseLanes:r,cachePool:null,transitions:null}}function iy(r,s,a){var h=s.pendingProps,d=tt.current,y=!1,E=(s.flags&128)!==0,P;if((P=E)||(P=r!==null&&r.memoizedState===null?!1:(d&2)!==0),P?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),Ke(tt,d&1),r===null)return Gh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Hu(E,h,0,null),r=us(r,h,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Tf(a),s.memoizedState=Ef,r):Sf(s,E));if(d=r.memoizedState,d!==null&&(P=d.dehydrated,P!==null))return F1(r,s,E,h,P,d,a);if(y){y=h.fallback,E=s.mode,d=r.child,P=d.sibling;var R={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==d?(h=s.child,h.childLanes=0,h.pendingProps=R,s.deletions=null):(h=pi(d,R),h.subtreeFlags=d.subtreeFlags&14680064),P!==null?y=pi(P,y):(y=us(y,E,a,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=r.child.memoizedState,E=E===null?Tf(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,s.memoizedState=Ef,h}return y=r.child,r=y.sibling,h=pi(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function Sf(r,s){return s=Hu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Vu(r,s,a,h){return h!==null&&Qh(h),co(s,r.child,null,a),r=Sf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function F1(r,s,a,h,d,y,E){if(a)return s.flags&256?(s.flags&=-257,h=yf(Error(t(422))),Vu(r,s,E,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=h.fallback,d=s.mode,h=Hu({mode:"visible",children:h.children},d,0,null),y=us(y,d,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&co(s,r.child,null,E),s.child.memoizedState=Tf(E),s.memoizedState=Ef,y);if((s.mode&1)===0)return Vu(r,s,E,null);if(d.data==="$!"){if(h=d.nextSibling&&d.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=yf(y,h,void 0),Vu(r,s,E,h)}if(P=(E&r.childLanes)!==0,rn||P){if(h=Pt,h!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(h.suspendedLanes|E))!==0?0:d,d!==0&&d!==y.retryLane&&(y.retryLane=d,br(r,d),Qn(h,r,d,-1))}return jf(),h=yf(Error(t(421))),Vu(r,s,E,h)}return d.data==="$?"?(s.flags|=128,s.child=r.child,s=Y1.bind(null,r),d._reactRetry=s,null):(r=y.treeContext,mn=ri(d.nextSibling),pn=s,et=!0,Wn=null,r!==null&&(An[In++]=Nr,An[In++]=Dr,An[In++]=es,Nr=r.id,Dr=r.overflow,es=s),s=Sf(s,h.children),s.flags|=4096,s)}function sy(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Zh(r.return,s,a)}function Af(r,s,a,h,d){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:d}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=d)}function oy(r,s,a){var h=s.pendingProps,d=h.revealOrder,y=h.tail;if(Xt(r,s,h.children,a),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&sy(r,a,s);else if(r.tag===19)sy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Ke(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)r=a.alternate,r!==null&&Au(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Af(s,!1,d,a,y);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Au(r)===null){s.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Af(s,!0,a,null,y);break;case"together":Af(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Nu(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Lr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=pi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=pi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function j1(r,s,a){switch(s.tag){case 3:ny(s),uo();break;case 5:wg(s);break;case 1:nn(s.type)&&pu(s);break;case 4:nf(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,d=s.memoizedProps.value;Ke(wu,h._currentValue),h._currentValue=d;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ke(tt,tt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?iy(r,s,a):(Ke(tt,tt.current&1),r=Lr(r,s,a),r!==null?r.sibling:null);Ke(tt,tt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,(r.flags&128)!==0){if(h)return oy(r,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ke(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Zg(r,s,a)}return Lr(r,s,a)}var ay,If,ly,uy;ay=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},If=function(){},ly=function(r,s,a,h){var d=r.memoizedProps;if(d!==h){r=s.stateNode,rs(ar.current);var y=null;switch(a){case"input":d=Li(r,d),h=Li(r,h),y=[];break;case"select":d=oe({},d,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":d=Jo(r,d),h=Jo(r,h),y=[];break;default:typeof d.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=hu)}ia(a,h);var E;a=null;for($ in d)if(!h.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var P=d[$];for(E in P)P.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var R=h[$];if(P=d?.[$],h.hasOwnProperty($)&&R!==P&&(R!=null||P!=null))if($==="style")if(P){for(E in P)!P.hasOwnProperty(E)||R&&R.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in R)R.hasOwnProperty(E)&&P[E]!==R[E]&&(a||(a={}),a[E]=R[E])}else a||(y||(y=[]),y.push($,a)),a=R;else $==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,P=P?P.__html:void 0,R!=null&&P!==R&&(y=y||[]).push($,R)):$==="children"?typeof R!="string"&&typeof R!="number"||(y=y||[]).push($,""+R):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(R!=null&&$==="onScroll"&&qe("scroll",r),y||P===R||(y=[])):(y=y||[]).push($,R))}a&&(y=y||[]).push("style",a);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},uy=function(r,s,a,h){a!==h&&(s.flags|=4)};function Fa(r,s){if(!et)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags&14680064,h|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,h|=d.subtreeFlags,h|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function U1(r,s,a){var h=s.pendingProps;switch(Kh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&du(),Bt(s),null;case 3:return h=s.stateNode,po(),Ge(tn),Ge(jt),of(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(vu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wn!==null&&(Lf(Wn),Wn=null))),If(r,s),Bt(s),null;case 5:rf(s);var d=rs(Da.current);if(a=s.type,r!==null&&s.stateNode!=null)ly(r,s,a,h,d),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Bt(s),null}if(r=rs(ar.current),vu(s)){h=s.stateNode,a=s.type;var y=s.memoizedProps;switch(h[or]=s,h[xa]=y,r=(s.mode&1)!==0,a){case"dialog":qe("cancel",h),qe("close",h);break;case"iframe":case"object":case"embed":qe("load",h);break;case"video":case"audio":for(d=0;d<Ia.length;d++)qe(Ia[d],h);break;case"source":qe("error",h);break;case"img":case"image":case"link":qe("error",h),qe("load",h);break;case"details":qe("toggle",h);break;case"input":xs(h,y),qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},qe("invalid",h);break;case"textarea":ks(h,y),qe("invalid",h)}ia(a,y),d=null;for(var E in y)if(y.hasOwnProperty(E)){var P=y[E];E==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&cu(h.textContent,P,r),d=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&cu(h.textContent,P,r),d=["children",""+P]):o.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&qe("scroll",h)}switch(a){case"input":wr(h),Ll(h,y,!0);break;case"textarea":wr(h),Zo(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=hu)}h=d,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[or]=s,r[xa]=h,ay(r,s,!1,!1),s.stateNode=r;e:{switch(E=sa(a,h),a){case"dialog":qe("cancel",r),qe("close",r),d=h;break;case"iframe":case"object":case"embed":qe("load",r),d=h;break;case"video":case"audio":for(d=0;d<Ia.length;d++)qe(Ia[d],r);d=h;break;case"source":qe("error",r),d=h;break;case"img":case"image":case"link":qe("error",r),qe("load",r),d=h;break;case"details":qe("toggle",r),d=h;break;case"input":xs(r,h),d=Li(r,h),qe("invalid",r);break;case"option":d=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},d=oe({},h,{value:void 0}),qe("invalid",r);break;case"textarea":ks(r,h),d=Jo(r,h),qe("invalid",r);break;default:d=h}ia(a,d),P=d;for(y in P)if(P.hasOwnProperty(y)){var R=P[y];y==="style"?na(r,R):y==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&ea(r,R)):y==="children"?typeof R=="string"?(a!=="textarea"||R!=="")&&Kr(r,R):typeof R=="number"&&Kr(r,""+R):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?R!=null&&y==="onScroll"&&qe("scroll",r):R!=null&&J(r,y,R,E))}switch(a){case"input":wr(r),Ll(r,h,!1);break;case"textarea":wr(r),Zo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+je(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Tr(r,!!h.multiple,y,!1):h.defaultValue!=null&&Tr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=hu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)uy(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=rs(Da.current),rs(ar.current),vu(s)){if(h=s.stateNode,a=s.memoizedProps,h[or]=s,(y=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:cu(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&cu(h.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[or]=s,s.stateNode=h}return Bt(s),null;case 13:if(Ge(tt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(et&&mn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)fg(),uo(),s.flags|=98560,y=!1;else if(y=vu(s),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[or]=s}else uo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else Wn!==null&&(Lf(Wn),Wn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(tt.current&1)!==0?wt===0&&(wt=3):jf())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return po(),If(r,s),r===null&&Pa(s.stateNode.containerInfo),Bt(s),null;case 10:return Jh(s.type._context),Bt(s),null;case 17:return nn(s.type)&&du(),Bt(s),null;case 19:if(Ge(tt),y=s.memoizedState,y===null)return Bt(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)Fa(y,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(E=Au(r),E!==null){for(s.flags|=128,Fa(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)y=a,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ke(tt,tt.current&1|2),s.child}r=r.sibling}y.tail!==null&&We()>vo&&(s.flags|=128,h=!0,Fa(y,!1),s.lanes=4194304)}else{if(!h)if(r=Au(E),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Fa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!et)return Bt(s),null}else 2*We()-y.renderingStartTime>vo&&a!==1073741824&&(s.flags|=128,h=!0,Fa(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(a=y.last,a!==null?a.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,a=tt.current,Ke(tt,h?a&1|2:a&1),s):(Bt(s),null);case 22:case 23:return Ff(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(gn&1073741824)!==0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function B1(r,s){switch(Kh(s),s.tag){case 1:return nn(s.type)&&du(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return po(),Ge(tn),Ge(jt),of(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return rf(s),null;case 13:if(Ge(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ge(tt),null;case 4:return po(),null;case 10:return Jh(s.type._context),null;case 22:case 23:return Ff(),null;case 24:return null;default:return null}}var Du=!1,zt=!1,z1=typeof WeakSet=="function"?WeakSet:Set,ce=null;function go(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){st(r,s,h)}else a.current=null}function Pf(r,s,a){try{a()}catch(h){st(r,s,h)}}var cy=!1;function $1(r,s){if(Oh=ei,r=zm(),Rh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var d=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,P=-1,R=-1,$=0,Y=0,Z=r,X=null;t:for(;;){for(var ae;Z!==a||d!==0&&Z.nodeType!==3||(P=E+d),Z!==y||h!==0&&Z.nodeType!==3||(R=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)X=Z,Z=ae;for(;;){if(Z===r)break t;if(X===a&&++$===d&&(P=E),X===y&&++Y===h&&(R=E),(ae=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=ae}a=P===-1||R===-1?null:{start:P,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fh={focusedElem:r,selectionRange:a},ei=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,lt=he.memoizedState,B=s.stateNode,D=B.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Kn(s.type,fe),lt);B.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ee){st(s,s.return,ee)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=cy,cy=!1,he}function ja(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var d=h=h.next;do{if((d.tag&r)===r){var y=d.destroy;d.destroy=void 0,y!==void 0&&Pf(s,a,y)}d=d.next}while(d!==h)}}function bu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function Cf(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function hy(r){var s=r.alternate;s!==null&&(r.alternate=null,hy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[or],delete s[xa],delete s[zh],delete s[I1],delete s[P1])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function fy(r){return r.tag===5||r.tag===3||r.tag===4}function dy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||fy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=hu));else if(h!==4&&(r=r.child,r!==null))for(xf(r,s,a),r=r.sibling;r!==null;)xf(r,s,a),r=r.sibling}function Rf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Rf(r,s,a),r=r.sibling;r!==null;)Rf(r,s,a),r=r.sibling}var Dt=null,qn=!1;function ui(r,s,a){for(a=a.child;a!==null;)py(r,s,a),a=a.sibling}function py(r,s,a){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Wi,a)}catch{}switch(a.tag){case 5:zt||go(a,s);case 6:var h=Dt,d=qn;Dt=null,ui(r,s,a),Dt=h,qn=d,Dt!==null&&(qn?(r=Dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Dt.removeChild(a.stateNode));break;case 18:Dt!==null&&(qn?(r=Dt,a=a.stateNode,r.nodeType===8?Bh(r.parentNode,a):r.nodeType===1&&Bh(r,a),zn(r)):Bh(Dt,a.stateNode));break;case 4:h=Dt,d=qn,Dt=a.stateNode.containerInfo,qn=!0,ui(r,s,a),Dt=h,qn=d;break;case 0:case 11:case 14:case 15:if(!zt&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){d=h=h.next;do{var y=d,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&Pf(a,s,E),d=d.next}while(d!==h)}ui(r,s,a);break;case 1:if(!zt&&(go(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(P){st(a,s,P)}ui(r,s,a);break;case 21:ui(r,s,a);break;case 22:a.mode&1?(zt=(h=zt)||a.memoizedState!==null,ui(r,s,a),zt=h):ui(r,s,a);break;default:ui(r,s,a)}}function my(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new z1),s.forEach(function(h){var d=J1.bind(null,r,h);a.has(h)||(a.add(h),h.then(d,d))})}}function Gn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var d=a[h];try{var y=r,E=s,P=E;e:for(;P!==null;){switch(P.tag){case 5:Dt=P.stateNode,qn=!1;break e;case 3:Dt=P.stateNode.containerInfo,qn=!0;break e;case 4:Dt=P.stateNode.containerInfo,qn=!0;break e}P=P.return}if(Dt===null)throw Error(t(160));py(y,E,d),Dt=null,qn=!1;var R=d.alternate;R!==null&&(R.return=null),d.return=null}catch($){st(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)gy(s,r),s=s.sibling}function gy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Gn(s,r),ur(r),h&4){try{ja(3,r,r.return),bu(3,r)}catch(fe){st(r,r.return,fe)}try{ja(5,r,r.return)}catch(fe){st(r,r.return,fe)}}break;case 1:Gn(s,r),ur(r),h&512&&a!==null&&go(a,a.return);break;case 5:if(Gn(s,r),ur(r),h&512&&a!==null&&go(a,a.return),r.flags&32){var d=r.stateNode;try{Kr(d,"")}catch(fe){st(r,r.return,fe)}}if(h&4&&(d=r.stateNode,d!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,P=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&Xo(d,y),sa(P,E);var $=sa(P,y);for(E=0;E<R.length;E+=2){var Y=R[E],Z=R[E+1];Y==="style"?na(d,Z):Y==="dangerouslySetInnerHTML"?ea(d,Z):Y==="children"?Kr(d,Z):J(d,Y,Z,$)}switch(P){case"input":Yo(d,y);break;case"textarea":Vs(d,y);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?Tr(d,!!y.multiple,ae,!1):X!==!!y.multiple&&(y.defaultValue!=null?Tr(d,!!y.multiple,y.defaultValue,!0):Tr(d,!!y.multiple,y.multiple?[]:"",!1))}d[xa]=y}catch(fe){st(r,r.return,fe)}}break;case 6:if(Gn(s,r),ur(r),h&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,y=r.memoizedProps;try{d.nodeValue=y}catch(fe){st(r,r.return,fe)}}break;case 3:if(Gn(s,r),ur(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(fe){st(r,r.return,fe)}break;case 4:Gn(s,r),ur(r);break;case 13:Gn(s,r),ur(r),d=r.child,d.flags&8192&&(y=d.memoizedState!==null,d.stateNode.isHidden=y,!y||d.alternate!==null&&d.alternate.memoizedState!==null||(Nf=We())),h&4&&my(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(zt=($=zt)||Y,Gn(s,r),zt=$):Gn(s,r),ur(r),h&8192){if($=r.memoizedState!==null,(r.stateNode.isHidden=$)&&!Y&&(r.mode&1)!==0)for(ce=r,Y=r.child;Y!==null;){for(Z=ce=Y;ce!==null;){switch(X=ce,ae=X.child,X.tag){case 0:case 11:case 14:case 15:ja(4,X,X.return);break;case 1:go(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){h=X,a=X.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(fe){st(h,a,fe)}}break;case 5:go(X,X.return);break;case 22:if(X.memoizedState!==null){_y(Z);continue}}ae!==null?(ae.return=X,ce=ae):_y(Z)}Y=Y.sibling}e:for(Y=null,Z=r;;){if(Z.tag===5){if(Y===null){Y=Z;try{d=Z.stateNode,$?(y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=Z.stateNode,R=Z.memoizedProps.style,E=R!=null&&R.hasOwnProperty("display")?R.display:null,P.style.display=ta("display",E))}catch(fe){st(r,r.return,fe)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(fe){st(r,r.return,fe)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Gn(s,r),ur(r),h&4&&my(r);break;case 21:break;default:Gn(s,r),ur(r)}}function ur(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(fy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var d=h.stateNode;h.flags&32&&(Kr(d,""),h.flags&=-33);var y=dy(r);Rf(r,y,d);break;case 3:case 4:var E=h.stateNode.containerInfo,P=dy(r);xf(r,P,E);break;default:throw Error(t(161))}}catch(R){st(r,r.return,R)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function H1(r,s,a){ce=r,yy(r)}function yy(r,s,a){for(var h=(r.mode&1)!==0;ce!==null;){var d=ce,y=d.child;if(d.tag===22&&h){var E=d.memoizedState!==null||Du;if(!E){var P=d.alternate,R=P!==null&&P.memoizedState!==null||zt;P=Du;var $=zt;if(Du=E,(zt=R)&&!$)for(ce=d;ce!==null;)E=ce,R=E.child,E.tag===22&&E.memoizedState!==null?wy(d):R!==null?(R.return=E,ce=R):wy(d);for(;y!==null;)ce=y,yy(y),y=y.sibling;ce=d,Du=P,zt=$}vy(r)}else(d.subtreeFlags&8772)!==0&&y!==null?(y.return=d,ce=y):vy(r)}}function vy(r){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:zt||bu(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!zt)if(a===null)h.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Kn(s.type,a.memoizedProps);h.componentDidUpdate(d,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&_g(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}_g(s,E,a)}break;case 5:var P=s.stateNode;if(a===null&&s.flags&4){a=P;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&a.focus();break;case"img":R.src&&(a.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Y=$.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&zn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}zt||s.flags&512&&Cf(s)}catch(X){st(s,s.return,X)}}if(s===r){ce=null;break}if(a=s.sibling,a!==null){a.return=s.return,ce=a;break}ce=s.return}}function _y(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var a=s.sibling;if(a!==null){a.return=s.return,ce=a;break}ce=s.return}}function wy(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{bu(4,s)}catch(R){st(s,a,R)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var d=s.return;try{h.componentDidMount()}catch(R){st(s,d,R)}}var y=s.return;try{Cf(s)}catch(R){st(s,y,R)}break;case 5:var E=s.return;try{Cf(s)}catch(R){st(s,E,R)}}}catch(R){st(s,s.return,R)}if(s===r){ce=null;break}var P=s.sibling;if(P!==null){P.return=s.return,ce=P;break}ce=s.return}}var W1=Math.ceil,Mu=se.ReactCurrentDispatcher,kf=se.ReactCurrentOwner,xn=se.ReactCurrentBatchConfig,Le=0,Pt=null,ft=null,bt=0,gn=0,yo=ii(0),wt=0,Ua=null,ss=0,Lu=0,Vf=0,Ba=null,sn=null,Nf=0,vo=1/0,Or=null,Ou=!1,Df=null,ci=null,Fu=!1,hi=null,ju=0,za=0,bf=null,Uu=-1,Bu=0;function Yt(){return(Le&6)!==0?We():Uu!==-1?Uu:Uu=We()}function fi(r){return(r.mode&1)===0?1:(Le&2)!==0&&bt!==0?bt&-bt:x1.transition!==null?(Bu===0&&(Bu=qi()),Bu):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:ga(r.type)),r)}function Qn(r,s,a,h){if(50<za)throw za=0,bf=null,Error(t(185));Xr(r,a,h),((Le&2)===0||r!==Pt)&&(r===Pt&&((Le&2)===0&&(Lu|=a),wt===4&&di(r,bt)),on(r,h),a===1&&Le===0&&(s.mode&1)===0&&(vo=We()+500,mu&&oi()))}function on(r,s){var a=r.callbackNode;Ir(r,s);var h=Ki(r,r===Pt?bt:0);if(h===0)a!==null&&ha(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&ha(a),s===1)r.tag===0?C1(Ty.bind(null,r)):ag(Ty.bind(null,r)),S1(function(){(Le&6)===0&&oi()}),a=null;else{switch(Jr(h)){case 1:a=Hi;break;case 4:a=qr;break;case 16:a=En;break;case 536870912:a=Bl;break;default:a=En}a=ky(a,Ey.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Ey(r,s){if(Uu=-1,Bu=0,(Le&6)!==0)throw Error(t(327));var a=r.callbackNode;if(_o()&&r.callbackNode!==a)return null;var h=Ki(r,r===Pt?bt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||s)s=zu(r,h);else{s=h;var d=Le;Le|=2;var y=Ay();(Pt!==r||bt!==s)&&(Or=null,vo=We()+500,as(r,s));do try{G1();break}catch(P){Sy(r,P)}while(!0);Yh(),Mu.current=y,Le=d,ft!==null?s=0:(Pt=null,bt=0,s=wt)}if(s!==0){if(s===2&&(d=hn(r),d!==0&&(h=d,s=Mf(r,d))),s===1)throw a=Ua,as(r,0),di(r,h),on(r,We()),a;if(s===6)di(r,h);else{if(d=r.current.alternate,(h&30)===0&&!K1(d)&&(s=zu(r,h),s===2&&(y=hn(r),y!==0&&(h=y,s=Mf(r,y))),s===1))throw a=Ua,as(r,0),di(r,h),on(r,We()),a;switch(r.finishedWork=d,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ls(r,sn,Or);break;case 3:if(di(r,h),(h&130023424)===h&&(s=Nf+500-We(),10<s)){if(Ki(r,0)!==0)break;if(d=r.suspendedLanes,(d&h)!==h){Yt(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Uh(ls.bind(null,r,sn,Or),s);break}ls(r,sn,Or);break;case 4:if(di(r,h),(h&4194240)===h)break;for(s=r.eventTimes,d=-1;0<h;){var E=31-Gt(h);y=1<<E,E=s[E],E>d&&(d=E),h&=~y}if(h=d,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*W1(h/1960))-h,10<h){r.timeoutHandle=Uh(ls.bind(null,r,sn,Or),h);break}ls(r,sn,Or);break;case 5:ls(r,sn,Or);break;default:throw Error(t(329))}}}return on(r,We()),r.callbackNode===a?Ey.bind(null,r):null}function Mf(r,s){var a=Ba;return r.current.memoizedState.isDehydrated&&(as(r,s).flags|=256),r=zu(r,s),r!==2&&(s=sn,sn=a,s!==null&&Lf(s)),r}function Lf(r){sn===null?sn=r:sn.push.apply(sn,r)}function K1(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var d=a[h],y=d.getSnapshot;d=d.value;try{if(!Hn(y(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function di(r,s){for(s&=~Vf,s&=~Lu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Gt(s),h=1<<a;r[a]=-1,s&=~h}}function Ty(r){if((Le&6)!==0)throw Error(t(327));_o();var s=Ki(r,0);if((s&1)===0)return on(r,We()),null;var a=zu(r,s);if(r.tag!==0&&a===2){var h=hn(r);h!==0&&(s=h,a=Mf(r,h))}if(a===1)throw a=Ua,as(r,0),di(r,s),on(r,We()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ls(r,sn,Or),on(r,We()),null}function Of(r,s){var a=Le;Le|=1;try{return r(s)}finally{Le=a,Le===0&&(vo=We()+500,mu&&oi())}}function os(r){hi!==null&&hi.tag===0&&(Le&6)===0&&_o();var s=Le;Le|=1;var a=xn.transition,h=Ne;try{if(xn.transition=null,Ne=1,r)return r()}finally{Ne=h,xn.transition=a,Le=s,(Le&6)===0&&oi()}}function Ff(){gn=yo.current,Ge(yo)}function as(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,T1(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(Kh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&du();break;case 3:po(),Ge(tn),Ge(jt),of();break;case 5:rf(h);break;case 4:po();break;case 13:Ge(tt);break;case 19:Ge(tt);break;case 10:Jh(h.type._context);break;case 22:case 23:Ff()}a=a.return}if(Pt=r,ft=r=pi(r.current,null),bt=gn=s,wt=0,Ua=null,Vf=Lu=ss=0,sn=Ba=null,ns!==null){for(s=0;s<ns.length;s++)if(a=ns[s],h=a.interleaved,h!==null){a.interleaved=null;var d=h.next,y=a.pending;if(y!==null){var E=y.next;y.next=d,h.next=E}a.pending=h}ns=null}return r}function Sy(r,s){do{var a=ft;try{if(Yh(),Iu.current=Ru,Pu){for(var h=nt.memoizedState;h!==null;){var d=h.queue;d!==null&&(d.pending=null),h=h.next}Pu=!1}if(is=0,It=_t=nt=null,ba=!1,Ma=0,kf.current=null,a===null||a.return===null){wt=1,Ua=s,ft=null;break}e:{var y=r,E=a.return,P=a,R=s;if(s=bt,P.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=R,Y=P,Z=Y.tag;if((Y.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=Y.alternate;X?(Y.updateQueue=X.updateQueue,Y.memoizedState=X.memoizedState,Y.lanes=X.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=Gg(E);if(ae!==null){ae.flags&=-257,Qg(ae,E,P,y,s),ae.mode&1&&qg(y,$,s),s=ae,R=$;var he=s.updateQueue;if(he===null){var fe=new Set;fe.add(R),s.updateQueue=fe}else he.add(R);break e}else{if((s&1)===0){qg(y,$,s),jf();break e}R=Error(t(426))}}else if(et&&P.mode&1){var lt=Gg(E);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Qg(lt,E,P,y,s),Qh(mo(R,P));break e}}y=R=mo(R,P),wt!==4&&(wt=2),Ba===null?Ba=[y]:Ba.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Wg(y,R,s);vg(y,B);break e;case 1:P=R;var D=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ci===null||!ci.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ee=Kg(y,P,s);vg(y,ee);break e}}y=y.return}while(y!==null)}Py(a)}catch(pe){s=pe,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function Ay(){var r=Mu.current;return Mu.current=Ru,r===null?Ru:r}function jf(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||(ss&268435455)===0&&(Lu&268435455)===0||di(Pt,bt)}function zu(r,s){var a=Le;Le|=2;var h=Ay();(Pt!==r||bt!==s)&&(Or=null,as(r,s));do try{q1();break}catch(d){Sy(r,d)}while(!0);if(Yh(),Le=a,Mu.current=h,ft!==null)throw Error(t(261));return Pt=null,bt=0,wt}function q1(){for(;ft!==null;)Iy(ft)}function G1(){for(;ft!==null&&!jl();)Iy(ft)}function Iy(r){var s=Ry(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Py(r):ft=s,kf.current=null}function Py(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=U1(a,s,gn),a!==null){ft=a;return}}else{if(a=B1(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,ft=null;return}}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);wt===0&&(wt=5)}function ls(r,s,a){var h=Ne,d=xn.transition;try{xn.transition=null,Ne=1,Q1(r,s,a,h)}finally{xn.transition=d,Ne=h}return null}function Q1(r,s,a,h){do _o();while(hi!==null);if((Le&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if($e(r,y),r===Pt&&(ft=Pt=null,bt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Fu||(Fu=!0,ky(En,function(){return _o(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=xn.transition,xn.transition=null;var E=Ne;Ne=1;var P=Le;Le|=4,kf.current=null,$1(r,a),gy(a,r),m1(Fh),ei=!!Oh,Fh=Oh=null,r.current=a,H1(a),Eh(),Le=P,Ne=E,xn.transition=y}else r.current=a;if(Fu&&(Fu=!1,hi=r,ju=d),y=r.pendingLanes,y===0&&(ci=null),zl(a.stateNode),on(r,We()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)d=s[a],h(d.value,{componentStack:d.stack,digest:d.digest});if(Ou)throw Ou=!1,r=Df,Df=null,r;return(ju&1)!==0&&r.tag!==0&&_o(),y=r.pendingLanes,(y&1)!==0?r===bf?za++:(za=0,bf=r):za=0,oi(),null}function _o(){if(hi!==null){var r=Jr(ju),s=xn.transition,a=Ne;try{if(xn.transition=null,Ne=16>r?16:r,hi===null)var h=!1;else{if(r=hi,hi=null,ju=0,(Le&6)!==0)throw Error(t(331));var d=Le;for(Le|=4,ce=r.current;ce!==null;){var y=ce,E=y.child;if((ce.flags&16)!==0){var P=y.deletions;if(P!==null){for(var R=0;R<P.length;R++){var $=P[R];for(ce=$;ce!==null;){var Y=ce;switch(Y.tag){case 0:case 11:case 15:ja(8,Y,y)}var Z=Y.child;if(Z!==null)Z.return=Y,ce=Z;else for(;ce!==null;){Y=ce;var X=Y.sibling,ae=Y.return;if(hy(Y),Y===$){ce=null;break}if(X!==null){X.return=ae,ce=X;break}ce=ae}}}var he=y.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var lt=fe.sibling;fe.sibling=null,fe=lt}while(fe!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ce=E;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ja(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,ce=B;break e}ce=y.return}}var D=r.current;for(ce=D;ce!==null;){E=ce;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,ce=z;else e:for(E=D;ce!==null;){if(P=ce,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:bu(9,P)}}catch(pe){st(P,P.return,pe)}if(P===E){ce=null;break e}var ee=P.sibling;if(ee!==null){ee.return=P.return,ce=ee;break e}ce=P.return}}if(Le=d,oi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Wi,r)}catch{}h=!0}return h}finally{Ne=a,xn.transition=s}}return!1}function Cy(r,s,a){s=mo(a,s),s=Wg(r,s,1),r=li(r,s,1),s=Yt(),r!==null&&(Xr(r,1,s),on(r,s))}function st(r,s,a){if(r.tag===3)Cy(r,r,a);else for(;s!==null;){if(s.tag===3){Cy(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ci===null||!ci.has(h))){r=mo(a,r),r=Kg(s,r,1),s=li(s,r,1),r=Yt(),s!==null&&(Xr(s,1,r),on(s,r));break}}s=s.return}}function X1(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&a,Pt===r&&(bt&a)===a&&(wt===4||wt===3&&(bt&130023424)===bt&&500>We()-Nf?as(r,0):Vf|=a),on(r,s)}function xy(r,s){s===0&&((r.mode&1)===0?s=1:(s=Bs,Bs<<=1,(Bs&130023424)===0&&(Bs=4194304)));var a=Yt();r=br(r,s),r!==null&&(Xr(r,s,a),on(r,a))}function Y1(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),xy(r,a)}function J1(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),xy(r,a)}var Ry;Ry=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return rn=!1,j1(r,s,a);rn=(r.flags&131072)!==0}else rn=!1,et&&(s.flags&1048576)!==0&&lg(s,yu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Nu(r,s),r=s.pendingProps;var d=oo(s,jt.current);fo(s,a),d=uf(null,s,h,r,d,a);var y=cf();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(h)?(y=!0,pu(s)):y=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,tf(s),d.updater=ku,s.stateNode=d,d._reactInternals=s,gf(s,h,r,a),s=wf(null,s,h,!0,y,a)):(s.tag=0,et&&y&&Wh(s),Xt(null,s,d,a),s=s.child),s;case 16:h=s.elementType;e:{switch(Nu(r,s),r=s.pendingProps,d=h._init,h=d(h._payload),s.type=h,d=s.tag=eS(h),r=Kn(h,r),d){case 0:s=_f(null,s,h,r,a);break e;case 1:s=ty(null,s,h,r,a);break e;case 11:s=Xg(null,s,h,r,a);break e;case 14:s=Yg(null,s,h,Kn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),_f(r,s,h,d,a);case 1:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),ty(r,s,h,d,a);case 3:e:{if(ny(s),r===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,d=y.element,yg(r,s),Su(s,h,null,a);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){d=mo(Error(t(423)),s),s=ry(r,s,h,a,d);break e}else if(h!==d){d=mo(Error(t(424)),s),s=ry(r,s,h,a,d);break e}else for(mn=ri(s.stateNode.containerInfo.firstChild),pn=s,et=!0,Wn=null,a=mg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(uo(),h===d){s=Lr(r,s,a);break e}Xt(r,s,h,a)}s=s.child}return s;case 5:return wg(s),r===null&&Gh(s),h=s.type,d=s.pendingProps,y=r!==null?r.memoizedProps:null,E=d.children,jh(h,d)?E=null:y!==null&&jh(h,y)&&(s.flags|=32),ey(r,s),Xt(r,s,E,a),s.child;case 6:return r===null&&Gh(s),null;case 13:return iy(r,s,a);case 4:return nf(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=co(s,null,h,a):Xt(r,s,h,a),s.child;case 11:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),Xg(r,s,h,d,a);case 7:return Xt(r,s,s.pendingProps,a),s.child;case 8:return Xt(r,s,s.pendingProps.children,a),s.child;case 12:return Xt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,d=s.pendingProps,y=s.memoizedProps,E=d.value,Ke(wu,h._currentValue),h._currentValue=E,y!==null)if(Hn(y.value,E)){if(y.children===d.children&&!tn.current){s=Lr(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){E=y.child;for(var R=P.firstContext;R!==null;){if(R.context===h){if(y.tag===1){R=Mr(-1,a&-a),R.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Y=$.pending;Y===null?R.next=R:(R.next=Y.next,Y.next=R),$.pending=R}}y.lanes|=a,R=y.alternate,R!==null&&(R.lanes|=a),Zh(y.return,a,s),P.lanes|=a;break}R=R.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,P=E.alternate,P!==null&&(P.lanes|=a),Zh(E,a,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Xt(r,s,d.children,a),s=s.child}return s;case 9:return d=s.type,h=s.pendingProps.children,fo(s,a),d=Pn(d),h=h(d),s.flags|=1,Xt(r,s,h,a),s.child;case 14:return h=s.type,d=Kn(h,s.pendingProps),d=Kn(h.type,d),Yg(r,s,h,d,a);case 15:return Jg(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,d=s.pendingProps,d=s.elementType===h?d:Kn(h,d),Nu(r,s),s.tag=1,nn(h)?(r=!0,pu(s)):r=!1,fo(s,a),$g(s,h,d),gf(s,h,d,a),wf(null,s,h,!0,r,a);case 19:return oy(r,s,a);case 22:return Zg(r,s,a)}throw Error(t(156,s.tag))};function ky(r,s){return js(r,s)}function Z1(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(r,s,a,h){return new Z1(r,s,a,h)}function Uf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function eS(r){if(typeof r=="function")return Uf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===Rt)return 14}return 2}function pi(r,s){var a=r.alternate;return a===null?(a=Rn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function $u(r,s,a,h,d,y){var E=2;if(h=r,typeof r=="function")Uf(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return us(a.children,d,y,s);case A:E=8,d|=8;break;case C:return r=Rn(12,a,s,d|2),r.elementType=C,r.lanes=y,r;case x:return r=Rn(13,a,s,d),r.elementType=x,r.lanes=y,r;case Je:return r=Rn(19,a,s,d),r.elementType=Je,r.lanes=y,r;case Ae:return Hu(a,d,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case M:E=9;break e;case j:E=11;break e;case Rt:E=14;break e;case kt:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Rn(E,a,s,d),s.elementType=r,s.type=h,s.lanes=y,s}function us(r,s,a,h){return r=Rn(7,r,h,s),r.lanes=a,r}function Hu(r,s,a,h){return r=Rn(22,r,h,s),r.elementType=Ae,r.lanes=a,r.stateNode={isHidden:!1},r}function Bf(r,s,a){return r=Rn(6,r,null,s),r.lanes=a,r}function zf(r,s,a){return s=Rn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function tS(r,s,a,h,d){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=h,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function $f(r,s,a,h,d,y,E,P,R){return r=new tS(r,s,a,P,R),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Rn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(y),r}function nS(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function Vy(r){if(!r)return si;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(nn(a))return sg(r,a,s)}return s}function Ny(r,s,a,h,d,y,E,P,R){return r=$f(a,h,!0,r,d,y,E,P,R),r.context=Vy(null),a=r.current,h=Yt(),d=fi(a),y=Mr(h,d),y.callback=s??null,li(a,y,d),r.current.lanes=d,Xr(r,d,h),on(r,h),r}function Wu(r,s,a,h){var d=s.current,y=Yt(),E=fi(d);return a=Vy(a),s.context===null?s.context=a:s.pendingContext=a,s=Mr(y,E),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=li(d,s,E),r!==null&&(Qn(r,d,E,y),Tu(r,d,E)),E}function Ku(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Dy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Hf(r,s){Dy(r,s),(r=r.alternate)&&Dy(r,s)}function rS(){return null}var by=typeof reportError=="function"?reportError:function(r){console.error(r)};function Wf(r){this._internalRoot=r}qu.prototype.render=Wf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Wu(r,s,null,null)},qu.prototype.unmount=Wf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;os(function(){Wu(null,r,null,null)}),s[kr]=null}};function qu(r){this._internalRoot=r}qu.prototype.unstable_scheduleHydration=function(r){if(r){var s=ql();r={blockedOn:null,target:r,priority:s};for(var a=0;a<nr.length&&s!==0&&s<nr[a].priority;a++);nr.splice(a,0,r),a===0&&Xl(r)}};function Kf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function My(){}function iS(r,s,a,h,d){if(d){if(typeof h=="function"){var y=h;h=function(){var $=Ku(E);y.call($)}}var E=Ny(s,h,r,0,null,!1,!1,"",My);return r._reactRootContainer=E,r[kr]=E.current,Pa(r.nodeType===8?r.parentNode:r),os(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof h=="function"){var P=h;h=function(){var $=Ku(R);P.call($)}}var R=$f(r,0,!1,null,null,!1,!1,"",My);return r._reactRootContainer=R,r[kr]=R.current,Pa(r.nodeType===8?r.parentNode:r),os(function(){Wu(s,R,a,h)}),R}function Qu(r,s,a,h,d){var y=a._reactRootContainer;if(y){var E=y;if(typeof d=="function"){var P=d;d=function(){var R=Ku(E);P.call(R)}}Wu(s,E,r,d)}else E=iS(a,s,r,d,h);return Ku(E)}Wl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Gr(s.pendingLanes);a!==0&&(Yr(s,a|1),on(s,We()),(Le&6)===0&&(vo=We()+500,oi()))}break;case 13:os(function(){var h=br(r,1);if(h!==null){var d=Yt();Qn(h,r,1,d)}}),Hf(r,1)}},zs=function(r){if(r.tag===13){var s=br(r,134217728);if(s!==null){var a=Yt();Qn(s,r,134217728,a)}Hf(r,134217728)}},Kl=function(r){if(r.tag===13){var s=fi(r),a=br(r,s);if(a!==null){var h=Yt();Qn(a,r,s,h)}Hf(r,s)}},ql=function(){return Ne},Gl=function(r,s){var a=Ne;try{return Ne=r,s()}finally{Ne=a}},Ds=function(r,s,a){switch(s){case"input":if(Yo(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var d=fu(h);if(!d)throw Error(t(90));Cs(h),Yo(h,d)}}}break;case"textarea":Vs(r,a);break;case"select":s=a.value,s!=null&&Tr(r,!!a.multiple,s,!1)}},Ui=Of,aa=os;var sS={usingClientEntryPoint:!1,Events:[Ra,io,fu,er,oa,Of]},$a={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:$a.bundleType,version:$a.version,rendererPackageName:$a.rendererPackageName,rendererConfig:$a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ca(r),r===null?null:r.stateNode},findFiberByHostInstance:$a.findFiberByHostInstance||rS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{Wi=Xu.inject(oS),cn=Xu}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS,an.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(s))throw Error(t(200));return nS(r,s,null,a)},an.createRoot=function(r,s){if(!Kf(r))throw Error(t(299));var a=!1,h="",d=by;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=$f(r,1,!1,null,null,a,!1,h,d),r[kr]=s.current,Pa(r.nodeType===8?r.parentNode:r),new Wf(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ca(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return os(r)},an.hydrate=function(r,s,a){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!0,a)},an.hydrateRoot=function(r,s,a){if(!Kf(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,d=!1,y="",E=by;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Ny(s,null,r,1,a??null,d,!1,y,E),r[kr]=s.current,Pa(r),h)for(r=0;r<h.length;r++)a=h[r],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new qu(s)},an.render=function(r,s,a){if(!Gu(s))throw Error(t(200));return Qu(null,r,s,!1,a)},an.unmountComponentAtNode=function(r){if(!Gu(r))throw Error(t(40));return r._reactRootContainer?(os(function(){Qu(null,null,r,!1,function(){r._reactRootContainer=null,r[kr]=null})}),!0):!1},an.unstable_batchedUpdates=Of,an.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Gu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Qu(r,s,a,!1,h)},an.version="18.3.1-next-f1338f8080-20240426",an}var $y;function mS(){if($y)return Qf.exports;$y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Qf.exports=pS(),Qf.exports}var Hy;function gS(){if(Hy)return Yu;Hy=1;var n=mS();return Yu.createRoot=n.createRoot,Yu.hydrateRoot=n.hydrateRoot,Yu}var yS=gS();const vS=A_(yS),_S=()=>{};var Wy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wS=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],c=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},P_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const l=n[o],c=o+1<n.length,f=c?n[o+1]:0,p=o+2<n.length,m=p?n[o+2]:0,v=l>>2,w=(l&3)<<4|f>>4;let T=(f&15)<<2|m>>6,I=m&63;p||(I=64,c||(T=64)),i.push(t[v],t[w],t[T],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(I_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):wS(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||m==null||w==null)throw new ES;const T=l<<2|f>>4;if(i.push(T),m!==64){const I=f<<4&240|m>>2;if(i.push(I),w!==64){const b=m<<6&192|w;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(n){const e=I_(n);return P_.encodeByteArray(e,!0)},Ec=function(n){return TS(n).replace(/\./g,"")},C_=function(n){try{return P_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=()=>SS().__FIREBASE_DEFAULTS__,IS=()=>{if(typeof process>"u"||typeof Wy>"u")return;const n=Wy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PS=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&C_(n[1]);return e&&JSON.parse(e)},qc=()=>{try{return _S()||AS()||IS()||PS()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CS=n=>qc()?.emulatorHosts?.[n],xS=n=>{const e=CS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},x_=()=>qc()?.config,RS=n=>qc()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function VS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ec(JSON.stringify(t)),Ec(JSON.stringify(c)),""].join(".")}const Za={};function DS(){const n={prod:[],emulator:[]};for(const e of Object.keys(Za))Za[e]?n.emulator.push(e):n.prod.push(e);return n}function bS(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Ky=!1;function MS(n,e){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||Za[n]===e||Za[n]||Ky)return;Za[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=DS().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Ky=!0,c()},T}function v(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=bS(i),I=t("text"),b=document.getElementById(I)||document.createElement("span"),O=t("learnmore"),L=document.getElementById(O)||document.createElement("a"),W=t("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;f(J),v(L,O);const se=m();p(G,W),J.append(G,b,L,se),document.body.appendChild(J)}l?(b.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function OS(){const n=qc()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){return!OS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="FirebaseError";class Ni extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=HS,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?WS(l,i):"Error",f=`${this.serviceName}: ${c} (${o}).`;return new Ni(o,f,i)}}function WS(n,e){return n.replace(KS,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const KS=/\{\$([^}]+)}/g;function Tc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=n[o],c=e[o];if(qy(l)&&qy(c)){if(!Tc(l,c))return!1}else if(l!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function qy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qS(n,e){const t=new GS(n,e);return t.subscribe.bind(t)}class GS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");QS(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Jf),o.error===void 0&&(o.error=Jf),o.complete===void 0&&(o.complete=Jf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n){return n&&n._delegate?n._delegate:n}class ws{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new kS;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JS(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&c.resolve(o)}return o}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(i)??new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YS(n){return n===hs?void 0:n}function JS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Re||(Re={}));const eA={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},tA=Re.INFO,nA={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},rA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=nA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fp{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=rA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const iA=(n,e)=>e.some(t=>n instanceof t);let Gy,Qy;function sA(){return Gy||(Gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return Qy||(Qy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k_=new WeakMap,Ad=new WeakMap,V_=new WeakMap,Zf=new WeakMap,dp=new WeakMap;function aA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(_i(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&k_.set(t,n)}).catch(()=>{}),dp.set(e,n),e}function lA(n){if(Ad.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Ad.set(n,e)}let Id={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ad.get(n);if(e==="objectStoreNames")return n.objectStoreNames||V_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _i(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uA(n){Id=n(Id)}function cA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(ed(this),e,...t);return V_.set(i,e.sort?e.sort():[e]),_i(i)}:oA().includes(n)?function(...e){return n.apply(ed(this),e),_i(k_.get(this))}:function(...e){return _i(n.apply(ed(this),e))}}function hA(n){return typeof n=="function"?cA(n):(n instanceof IDBTransaction&&lA(n),iA(n,sA())?new Proxy(n,Id):n)}function _i(n){if(n instanceof IDBRequest)return aA(n);if(Zf.has(n))return Zf.get(n);const e=hA(n);return e!==n&&(Zf.set(n,e),dp.set(e,n)),e}const ed=n=>dp.get(n);function fA(n,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const c=indexedDB.open(n,e),f=_i(c);return i&&c.addEventListener("upgradeneeded",p=>{i(_i(c.result),p.oldVersion,p.newVersion,_i(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),f}const dA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],td=new Map;function Xy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=pA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||dA.includes(t)))return;const l=async function(c,...f){const p=this.transaction(c,o?"readwrite":"readonly");let m=p.store;return i&&(m=m.index(f.shift())),(await Promise.all([m[t](...f),o&&p.done]))[0]};return td.set(e,l),l}uA(n=>({...n,get:(e,t,i)=>Xy(e,t)||n.get(e,t,i),has:(e,t)=>!!Xy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gA(n){return n.getComponent()?.type==="VERSION"}const Pd="@firebase/app",Yy="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new fp("@firebase/app"),yA="@firebase/app-compat",vA="@firebase/analytics-compat",_A="@firebase/analytics",wA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",SA="@firebase/auth-compat",AA="@firebase/database",IA="@firebase/data-connect",PA="@firebase/database-compat",CA="@firebase/functions",xA="@firebase/functions-compat",RA="@firebase/installations",kA="@firebase/installations-compat",VA="@firebase/messaging",NA="@firebase/messaging-compat",DA="@firebase/performance",bA="@firebase/performance-compat",MA="@firebase/remote-config",LA="@firebase/remote-config-compat",OA="@firebase/storage",FA="@firebase/storage-compat",jA="@firebase/firestore",UA="@firebase/ai",BA="@firebase/firestore-compat",zA="firebase",$A="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",HA={[Pd]:"fire-core",[yA]:"fire-core-compat",[_A]:"fire-analytics",[vA]:"fire-analytics-compat",[EA]:"fire-app-check",[wA]:"fire-app-check-compat",[TA]:"fire-auth",[SA]:"fire-auth-compat",[AA]:"fire-rtdb",[IA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[CA]:"fire-fn",[xA]:"fire-fn-compat",[RA]:"fire-iid",[kA]:"fire-iid-compat",[VA]:"fire-fcm",[NA]:"fire-fcm-compat",[DA]:"fire-perf",[bA]:"fire-perf-compat",[MA]:"fire-rc",[LA]:"fire-rc-compat",[OA]:"fire-gcs",[FA]:"fire-gcs-compat",[jA]:"fire-fst",[BA]:"fire-fst-compat",[UA]:"fire-vertex","fire-js":"fire-js",[zA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,WA=new Map,xd=new Map;function Jy(n,e){try{n.container.addComponent(e)}catch(t){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Do(n){const e=n.name;if(xd.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;xd.set(e,n);for(const t of Sc.values())Jy(t,n);for(const t of WA.values())Jy(t,n);return!0}function KA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ps(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new Sl("app","Firebase",qA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=$A;function N_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Cd,automaticDataCollectionEnabled:!0,...e},o=i.name;if(typeof o!="string"||!o)throw wi.create("bad-app-name",{appName:String(o)});if(t||(t=x_()),!t)throw wi.create("no-options");const l=Sc.get(o);if(l){if(Tc(t,l.options)&&Tc(i,l.config))return l;throw wi.create("duplicate-app",{appName:o})}const c=new ZS(o);for(const p of xd.values())c.addComponent(p);const f=new GA(t,i,c);return Sc.set(o,f),f}function QA(n=Cd){const e=Sc.get(n);if(!e&&n===Cd&&x_())return N_();if(!e)throw wi.create("no-app",{appName:n});return e}function Ei(n,e,t){let i=HA[n]??n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(c.join(" "));return}Do(new ws(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="firebase-heartbeat-database",YA=1,cl="firebase-heartbeat-store";let nd=null;function D_(){return nd||(nd=fA(XA,YA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(cl)}catch(t){console.warn(t)}}}}).catch(n=>{throw wi.create("idb-open",{originalErrorMessage:n.message})})),nd}async function JA(n){try{const t=(await D_()).transaction(cl),i=await t.objectStore(cl).get(b_(n));return await t.done,i}catch(e){if(e instanceof Ni)Br.warn(e.message);else{const t=wi.create("idb-get",{originalErrorMessage:e?.message});Br.warn(t.message)}}}async function Zy(n,e){try{const i=(await D_()).transaction(cl,"readwrite");await i.objectStore(cl).put(e,b_(n)),await i.done}catch(t){if(t instanceof Ni)Br.warn(t.message);else{const i=wi.create("idb-set",{originalErrorMessage:t?.message});Br.warn(i.message)}}}function b_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=1024,eI=30;class tI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rI(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>eI){const o=iI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Br.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ev(),{heartbeatsToSend:t,unsentEntries:i}=nI(this._heartbeatsCache.heartbeats),o=Ec(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Br.warn(e),""}}}function ev(){return new Date().toISOString().substring(0,10)}function nI(n,e=ZA){const t=[];let i=n.slice();for(const o of n){const l=t.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),tv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),tv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class rI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await JA(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Zy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function tv(n){return Ec(JSON.stringify({version:2,heartbeats:n})).length}function iI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(n){Do(new ws("platform-logger",e=>new mA(e),"PRIVATE")),Do(new ws("heartbeat",e=>new tI(e),"PRIVATE")),Ei(Pd,Yy,n),Ei(Pd,Yy,"esm2020"),Ei("fire-js","")}sI("");var oI="firebase",aI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(oI,aI,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,M_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,A){function C(){}C.prototype=A.prototype,k.D=A.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(V,M,j){for(var x=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)x[Je-2]=arguments[Je];return A.prototype[M].apply(V,x)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,A,C){C||(C=0);var V=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)V[M]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(M=0;16>M;++M)V[M]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=k.g[0],C=k.g[1],M=k.g[2];var j=k.g[3],x=A+(j^C&(M^j))+V[0]+3614090360&4294967295;A=C+(x<<7&4294967295|x>>>25),x=j+(M^A&(C^M))+V[1]+3905402710&4294967295,j=A+(x<<12&4294967295|x>>>20),x=M+(C^j&(A^C))+V[2]+606105819&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(A^M&(j^A))+V[3]+3250441966&4294967295,C=M+(x<<22&4294967295|x>>>10),x=A+(j^C&(M^j))+V[4]+4118548399&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(M^A&(C^M))+V[5]+1200080426&4294967295,j=A+(x<<12&4294967295|x>>>20),x=M+(C^j&(A^C))+V[6]+2821735955&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(A^M&(j^A))+V[7]+4249261313&4294967295,C=M+(x<<22&4294967295|x>>>10),x=A+(j^C&(M^j))+V[8]+1770035416&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(M^A&(C^M))+V[9]+2336552879&4294967295,j=A+(x<<12&4294967295|x>>>20),x=M+(C^j&(A^C))+V[10]+4294925233&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(A^M&(j^A))+V[11]+2304563134&4294967295,C=M+(x<<22&4294967295|x>>>10),x=A+(j^C&(M^j))+V[12]+1804603682&4294967295,A=C+(x<<7&4294967295|x>>>25),x=j+(M^A&(C^M))+V[13]+4254626195&4294967295,j=A+(x<<12&4294967295|x>>>20),x=M+(C^j&(A^C))+V[14]+2792965006&4294967295,M=j+(x<<17&4294967295|x>>>15),x=C+(A^M&(j^A))+V[15]+1236535329&4294967295,C=M+(x<<22&4294967295|x>>>10),x=A+(M^j&(C^M))+V[1]+4129170786&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(A^C))+V[6]+3225465664&4294967295,j=A+(x<<9&4294967295|x>>>23),x=M+(A^C&(j^A))+V[11]+643717713&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(M^j))+V[0]+3921069994&4294967295,C=M+(x<<20&4294967295|x>>>12),x=A+(M^j&(C^M))+V[5]+3593408605&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(A^C))+V[10]+38016083&4294967295,j=A+(x<<9&4294967295|x>>>23),x=M+(A^C&(j^A))+V[15]+3634488961&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(M^j))+V[4]+3889429448&4294967295,C=M+(x<<20&4294967295|x>>>12),x=A+(M^j&(C^M))+V[9]+568446438&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(A^C))+V[14]+3275163606&4294967295,j=A+(x<<9&4294967295|x>>>23),x=M+(A^C&(j^A))+V[3]+4107603335&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(M^j))+V[8]+1163531501&4294967295,C=M+(x<<20&4294967295|x>>>12),x=A+(M^j&(C^M))+V[13]+2850285829&4294967295,A=C+(x<<5&4294967295|x>>>27),x=j+(C^M&(A^C))+V[2]+4243563512&4294967295,j=A+(x<<9&4294967295|x>>>23),x=M+(A^C&(j^A))+V[7]+1735328473&4294967295,M=j+(x<<14&4294967295|x>>>18),x=C+(j^A&(M^j))+V[12]+2368359562&4294967295,C=M+(x<<20&4294967295|x>>>12),x=A+(C^M^j)+V[5]+4294588738&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^M)+V[8]+2272392833&4294967295,j=A+(x<<11&4294967295|x>>>21),x=M+(j^A^C)+V[11]+1839030562&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^A)+V[14]+4259657740&4294967295,C=M+(x<<23&4294967295|x>>>9),x=A+(C^M^j)+V[1]+2763975236&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^M)+V[4]+1272893353&4294967295,j=A+(x<<11&4294967295|x>>>21),x=M+(j^A^C)+V[7]+4139469664&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^A)+V[10]+3200236656&4294967295,C=M+(x<<23&4294967295|x>>>9),x=A+(C^M^j)+V[13]+681279174&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^M)+V[0]+3936430074&4294967295,j=A+(x<<11&4294967295|x>>>21),x=M+(j^A^C)+V[3]+3572445317&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^A)+V[6]+76029189&4294967295,C=M+(x<<23&4294967295|x>>>9),x=A+(C^M^j)+V[9]+3654602809&4294967295,A=C+(x<<4&4294967295|x>>>28),x=j+(A^C^M)+V[12]+3873151461&4294967295,j=A+(x<<11&4294967295|x>>>21),x=M+(j^A^C)+V[15]+530742520&4294967295,M=j+(x<<16&4294967295|x>>>16),x=C+(M^j^A)+V[2]+3299628645&4294967295,C=M+(x<<23&4294967295|x>>>9),x=A+(M^(C|~j))+V[0]+4096336452&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~M))+V[7]+1126891415&4294967295,j=A+(x<<10&4294967295|x>>>22),x=M+(A^(j|~C))+V[14]+2878612391&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~A))+V[5]+4237533241&4294967295,C=M+(x<<21&4294967295|x>>>11),x=A+(M^(C|~j))+V[12]+1700485571&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~M))+V[3]+2399980690&4294967295,j=A+(x<<10&4294967295|x>>>22),x=M+(A^(j|~C))+V[10]+4293915773&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~A))+V[1]+2240044497&4294967295,C=M+(x<<21&4294967295|x>>>11),x=A+(M^(C|~j))+V[8]+1873313359&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~M))+V[15]+4264355552&4294967295,j=A+(x<<10&4294967295|x>>>22),x=M+(A^(j|~C))+V[6]+2734768916&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~A))+V[13]+1309151649&4294967295,C=M+(x<<21&4294967295|x>>>11),x=A+(M^(C|~j))+V[4]+4149444226&4294967295,A=C+(x<<6&4294967295|x>>>26),x=j+(C^(A|~M))+V[11]+3174756917&4294967295,j=A+(x<<10&4294967295|x>>>22),x=M+(A^(j|~C))+V[2]+718787259&4294967295,M=j+(x<<15&4294967295|x>>>17),x=C+(j^(M|~A))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+A&4294967295,k.g[1]=k.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,A){A===void 0&&(A=k.length);for(var C=A-this.blockSize,V=this.B,M=this.h,j=0;j<A;){if(M==0)for(;j<=C;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<A;)if(V[M++]=k.charCodeAt(j++),M==this.blockSize){o(this,V),M=0;break}}else for(;j<A;)if(V[M++]=k[j++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=A},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var A=1;A<k.length-8;++A)k[A]=0;var C=8*this.o;for(A=k.length-8;A<k.length;++A)k[A]=C&255,C/=256;for(this.u(k),k=Array(16),A=C=0;4>A;++A)for(var V=0;32>V;V+=8)k[C++]=this.g[A]>>>V&255;return k};function l(k,A){var C=f;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=A(k)}function c(k,A){this.h=A;for(var C=[],V=!0,M=k.length-1;0<=M;M--){var j=k[M]|0;V&&j==A||(C[M]=j,V=!1)}this.g=C}var f={};function p(k){return-128<=k&&128>k?l(k,function(A){return new c([A|0],0>A?-1:0)}):new c([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return L(m(-k));for(var A=[],C=1,V=0;k>=C;V++)A[V]=k/C|0,C*=4294967296;return new c(A,0)}function v(k,A){if(k.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(k.charAt(0)=="-")return L(v(k.substring(1),A));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(A,8)),V=w,M=0;M<k.length;M+=8){var j=Math.min(8,k.length-M),x=parseInt(k.substring(M,M+j),A);8>j?(j=m(Math.pow(A,j)),V=V.j(j).add(m(x))):(V=V.j(C),V=V.add(m(x)))}return V}var w=p(0),T=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(O(this))return-L(this).m();for(var k=0,A=1,C=0;C<this.g.length;C++){var V=this.i(C);k+=(0<=V?V:4294967296+V)*A,A*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(b(this))return"0";if(O(this))return"-"+L(this).toString(k);for(var A=m(Math.pow(k,6)),C=this,V="";;){var M=se(C,A).g;C=W(C,M.j(A));var j=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=M,b(C))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function b(k){if(k.h!=0)return!1;for(var A=0;A<k.g.length;A++)if(k.g[A]!=0)return!1;return!0}function O(k){return k.h==-1}n.l=function(k){return k=W(this,k),O(k)?-1:b(k)?0:1};function L(k){for(var A=k.g.length,C=[],V=0;V<A;V++)C[V]=~k.g[V];return new c(C,~k.h).add(T)}n.abs=function(){return O(this)?L(this):this},n.add=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],V=0,M=0;M<=A;M++){var j=V+(this.i(M)&65535)+(k.i(M)&65535),x=(j>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);V=x>>>16,j&=65535,x&=65535,C[M]=x<<16|j}return new c(C,C[C.length-1]&-2147483648?-1:0)};function W(k,A){return k.add(L(A))}n.j=function(k){if(b(this)||b(k))return w;if(O(this))return O(k)?L(this).j(L(k)):L(L(this).j(k));if(O(k))return L(this.j(L(k)));if(0>this.l(I)&&0>k.l(I))return m(this.m()*k.m());for(var A=this.g.length+k.g.length,C=[],V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var M=0;M<k.g.length;M++){var j=this.i(V)>>>16,x=this.i(V)&65535,Je=k.i(M)>>>16,Rt=k.i(M)&65535;C[2*V+2*M]+=x*Rt,G(C,2*V+2*M),C[2*V+2*M+1]+=j*Rt,G(C,2*V+2*M+1),C[2*V+2*M+1]+=x*Je,G(C,2*V+2*M+1),C[2*V+2*M+2]+=j*Je,G(C,2*V+2*M+2)}for(V=0;V<A;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=A;V<2*A;V++)C[V]=0;return new c(C,0)};function G(k,A){for(;(k[A]&65535)!=k[A];)k[A+1]+=k[A]>>>16,k[A]&=65535,A++}function J(k,A){this.g=k,this.h=A}function se(k,A){if(b(A))throw Error("division by zero");if(b(k))return new J(w,w);if(O(k))return A=se(L(k),A),new J(L(A.g),L(A.h));if(O(A))return A=se(k,L(A)),new J(L(A.g),A.h);if(30<k.g.length){if(O(k)||O(A))throw Error("slowDivide_ only works with positive integers.");for(var C=T,V=A;0>=V.l(k);)C=ie(C),V=ie(V);var M=ue(C,1),j=ue(V,1);for(V=ue(V,2),C=ue(C,2);!b(V);){var x=j.add(V);0>=x.l(k)&&(M=M.add(C),j=x),V=ue(V,1),C=ue(C,1)}return A=W(k,M.j(A)),new J(M,A)}for(M=w;0<=k.l(A);){for(C=Math.max(1,Math.floor(k.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=m(C),x=j.j(A);O(x)||0<x.l(k);)C-=V,j=m(C),x=j.j(A);b(j)&&(j=T),M=M.add(j),k=W(k,x)}return new J(M,k)}n.A=function(k){return se(this,k).h},n.and=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)&k.i(V);return new c(C,this.h&k.h)},n.or=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)|k.i(V);return new c(C,this.h|k.h)},n.xor=function(k){for(var A=Math.max(this.g.length,k.g.length),C=[],V=0;V<A;V++)C[V]=this.i(V)^k.i(V);return new c(C,this.h^k.h)};function ie(k){for(var A=k.g.length+1,C=[],V=0;V<A;V++)C[V]=k.i(V)<<1|k.i(V-1)>>>31;return new c(C,k.h)}function ue(k,A){var C=A>>5;A%=32;for(var V=k.g.length-C,M=[],j=0;j<V;j++)M[j]=0<A?k.i(j+C)>>>A|k.i(j+C+1)<<32-A:k.i(j+C);return new c(M,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,M_=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=v,Ti=c}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var L_,Ka,O_,cc,Rd,F_,j_,U_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ju=="object"&&Ju];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var U=u[S];if(!(U in _))break e;_=_[U]}u=u[u.length-1],S=_[u],g=g(S),g!=S&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function l(u,g){u instanceof String&&(u+="");var _=0,S=!1,U={next:function(){if(!S&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return l(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function v(u,g,_){return u.call.apply(u.bind,arguments)}function w(u,g,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),u.apply(g,U)}}return function(){return u.apply(g,arguments)}}function T(u,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function I(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,U,H){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return g.prototype[U].apply(S,re)}}function O(u){const g=u.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=u[S];return _}return[]}function L(u,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=u.length||0,H=S.length||0;u.length=U+H;for(let re=0;re<H;re++)u[U+re]=S[re]}else u.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(u){return/^[\s\xa0]*$/.test(u)}function J(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function se(u){return se[" "](u),u}se[" "]=function(){};var ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ue(u,g,_){for(const S in u)g.call(_,u[S],S,u)}function k(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function A(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)u[_]=S[_];for(let H=0;H<C.length;H++)_=C[H],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function M(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function j(u){f.setTimeout(()=>{throw u},0)}function x(){var u=me;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,_){const S=Rt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Rt=new W(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,te=!1,me=new Je,oe=()=>{const u=f.Promise.resolve(void 0);Ae=()=>{u.then(F)}};var F=()=>{for(var u;u=x();){try{u.h.call(u.g)}catch(_){j(_)}var g=Rt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}te=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return u}();function Ce(u,g){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ie){e:{try{se(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:De[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}b(Ce,ge);var De={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),je=0;function He(u,g,_,S,U){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++je,this.da=this.fa=!1}function St(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function wr(u){this.src=u,this.g={},this.h=0}wr.prototype.add=function(u,g,_,S,U){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var re=Wr(u,g,S,U);return-1<re?(g=u[re],_||(g.fa=!1)):(g=new He(g,this.src,H,!!S,U),g.fa=_,u.push(g)),g};function Cs(u,g){var _=g.type;if(_ in u.g){var S=u.g[_],U=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(St(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Wr(u,g,_,S){for(var U=0;U<u.length;++U){var H=u[U];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return U}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),xs={};function Xo(u,g,_,S,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)Xo(u,g[H],_,S,U);return null}return _=Zo(_),u&&u[Fe]?u.K(g,_,m(S)?!!S.capture:!1,U):Yo(u,g,_,!1,S,U)}function Yo(u,g,_,S,U,H){if(!g)throw Error("Invalid event type");var re=m(U)?!!U.capture:!!U,ze=ks(u);if(ze||(u[Li]=ze=new wr(u)),_=ze.add(g,_,S,re,H),_.proxy)return _;if(S=Ll(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Pe||(U=re),U===void 0&&(U=!1),u.addEventListener(g.toString(),S,U);else if(u.attachEvent)u.attachEvent(Tr(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ll(){function u(_){return g.call(u.src,u.listener,_)}const g=Jo;return u}function Rs(u,g,_,S,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)Rs(u,g[H],_,S,U);else S=m(S)?!!S.capture:!!S,_=Zo(_),u&&u[Fe]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=Wr(H,_,S,U),-1<_&&(St(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=ks(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Wr(g,_,S,U)),(_=-1<u?g[u]:null)&&Er(_))}function Er(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Fe])Cs(g.i,u);else{var _=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(_,S,u.capture):g.detachEvent?g.detachEvent(Tr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=ks(g))?(Cs(_,u),_.h==0&&(_.src=null,g[Li]=null)):St(u)}}}function Tr(u){return u in xs?xs[u]:xs[u]="on"+u}function Jo(u,g){if(u.da)u=!0;else{g=new Ce(g,this);var _=u.listener,S=u.ha||u.src;u.fa&&Er(u),u=_.call(S,g)}return u}function ks(u){return u=u[Li],u instanceof wr?u:null}var Vs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zo(u){return typeof u=="function"?u:(u[Vs]||(u[Vs]=function(g){return u.handleEvent(g)}),u[Vs])}function gt(){q.call(this),this.i=new wr(this),this.M=this,this.F=null}b(gt,q),gt.prototype[Fe]=!0,gt.prototype.removeEventListener=function(u,g,_,S){Rs(this,u,g,_,S)};function yt(u,g){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new ge(g,u);else if(g instanceof ge)g.target=g.target||u;else{var U=g;g=new ge(S,u),V(g,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var re=g.g=_[H];U=Sr(re,S,!0,g)&&U}if(re=g.g=u,U=Sr(re,S,!0,g)&&U,U=Sr(re,S,!1,g)&&U,_)for(H=0;H<_.length;H++)re=g.g=_[H],U=Sr(re,S,!1,g)&&U}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],S=0;S<_.length;S++)St(_[S]);delete u.g[g],u.h--}}this.F=null},gt.prototype.K=function(u,g,_,S){return this.i.add(String(u),g,!1,_,S)},gt.prototype.L=function(u,g,_,S){return this.i.add(String(u),g,!0,_,S)};function Sr(u,g,_,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var re=g[H];if(re&&!re.da&&re.capture==_){var ze=re.listener,vt=re.ha||re.src;re.fa&&Cs(u.i,re),U=ze.call(vt,S)!==!1&&U}}return U&&!S.defaultPrevented}function ea(u,g,_){if(typeof u=="function")_&&(u=T(u,_));else if(u&&typeof u.handleEvent=="function")u=T(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:f.setTimeout(u,g||0)}function Kr(u){u.g=ea(()=>{u.g=null,u.i&&(u.i=!1,Kr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Oi extends q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Kr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(u){q.call(this),this.h=u,this.g={}}b(Fi,q);var ta=[];function na(u){ue(u.g,function(g,_){this.g.hasOwnProperty(_)&&Er(g)},u),u.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),na(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ra=f.JSON.stringify,ia=f.JSON.parse,sa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function ji(){}ji.prototype.h=null;function Ns(u){return u.h||(u.h=u.i())}function Ds(){}var wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zn(){ge.call(this,"d")}b(Zn,ge);function bs(){ge.call(this,"c")}b(bs,ge);var er={},oa=null;function Ui(){return oa=oa||new gt}er.La="serverreachability";function aa(u){ge.call(this,er.La,u)}b(aa,ge);function Ar(u){const g=Ui();yt(g,new aa(g))}er.STAT_EVENT="statevent";function la(u,g){ge.call(this,er.STAT_EVENT,u),this.stat=g}b(la,ge);function at(u){const g=Ui();yt(g,new la(g,u))}er.Ma="timingevent";function Ms(u,g){ge.call(this,er.Ma,u),this.size=g}b(Ms,ge);function Mn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function Bi(){this.g=!0}Bi.prototype.xa=function(){this.g=!1};function zi(u,g,_,S,U,H){u.info(function(){if(u.g)if(H)for(var re="",ze=H.split("&"),vt=0;vt<ze.length;vt++){var be=ze[vt].split("=");if(1<be.length){var At=be[0];be=be[1];var ht=At.split("_");re=2<=ht.length&&ht[1]=="type"?re+(At+"="+be+"&"):re+(At+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+re})}function Ls(u,g,_,S,U,H,re){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+H+" "+re})}function Ln(u,g,_,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+wh(u,_)+(S?" "+S:"")})}function ua(u,g){u.info(function(){return"TIMEOUT: "+g})}Bi.prototype.info=function(){};function wh(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<U.length;re++)U[re]=""}}}}return ra(_)}catch{return g}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ol={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function $i(){}b($i,ji),$i.prototype.g=function(){return new XMLHttpRequest},$i.prototype.i=function(){return{}},On=new $i;function Fn(u,g,_,S){this.j=u,this.i=g,this.l=_,this.R=S||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fl}function Fl(){this.i=null,this.g="",this.h=!1}var ca={},Fs={};function js(u,g,_){u.L=1,u.v=Yr(hn(g)),u.m=_,u.P=!0,ha(u,null)}function ha(u,g){u.F=Date.now(),We(u),u.A=hn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Zr(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Fl,u.g=nu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Oi(T(u.Y,u,u.g),u.O)),g=u.U,_=u.g,S=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ta[0]=U.toString()),U=ta);for(var H=0;H<U.length;H++){var re=Xo(_,U[H],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ar(),zi(u.i,u.u,u.A,u.l,u.R,u.m)}Fn.prototype.ca=function(u){u=u.target;const g=this.M;g&&en(u)==3?g.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)e:{const ht=en(this.g);var g=this.g.Ba();const Sn=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||ya(this.g)))){this.J||ht!=4||g==7||(g==8||0>=Sn?Ar(3):Ar(2)),Hi(this);var _=this.g.Z();this.X=_;t:if(jl(this)){var S=ya(this.g);u="";var U=S.length,H=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),qr(this);var re="";break t}this.h.i=new f.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(H&&g==U-1)});S.length=0,this.h.g+=u,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Ls(this.i,this.u,this.A,this.l,this.R,ht,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,vt=this.g;if((ze=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ze)){var be=ze;break t}}be=null}if(_=be)Ln(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,_);else{this.o=!1,this.s=3,at(12),En(this),qr(this);break e}}if(this.P){_=!0;let dn;for(;!this.J&&this.C<re.length;)if(dn=Eh(this,re),dn==Fs){ht==4&&(this.s=4,at(14),_=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(dn==ca){this.s=4,at(15),Ln(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else Ln(this.i,this.l,dn,null),fa(this,dn);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||re.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)Ln(this.i,this.l,re,"[Invalid Chunked Response]"),En(this),qr(this);else if(0<re.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),_a(At),At.M=!0,at(11))}}else Ln(this.i,this.l,re,null),fa(this,re);ht==4&&En(this),this.o&&!this.J&&(ht==4?Xs(this.j,this):(this.o=!1,We(this)))}else Ws(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),En(this),qr(this)}}}catch{}finally{}};function jl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Eh(u,g){var _=u.C,S=g.indexOf(`
`,_);return S==-1?Fs:(_=Number(g.substring(_,S)),isNaN(_)?ca:(S+=1,S+_>g.length?Fs:(g=g.slice(S,S+_),u.C=S+_,g)))}Fn.prototype.cancel=function(){this.J=!0,En(this)};function We(u){u.S=Date.now()+u.I,Ul(u,u.I)}function Ul(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Mn(T(u.ba,u),g)}function Hi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Fn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ua(this.i,this.A),this.L!=2&&(Ar(),at(17)),En(this),this.s=2,qr(this)):Ul(this,this.S-u)};function qr(u){u.j.G==0||u.J||Xs(u.j,u)}function En(u){Hi(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,na(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function fa(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||Gt(_.h,u))){if(!u.K&&Gt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Qs(_),$n(_);else break e;Gs(_),at(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Mn(T(_.Za,_),6e3));if(1>=zl(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Rr(_,11)}else if((u.K||_.g==u)&&Qs(_),!G(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let be=U[g];if(_.T=be[0],be=be[1],_.G==2)if(be[0]=="c"){_.K=be[1],_.ia=be[2];const At=be[3];At!=null&&(_.la=At,_.j.info("VER="+_.la));const ht=be[4];ht!=null&&(_.Aa=ht,_.j.info("SVER="+_.Aa));const Sn=be[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(S=1.5*Sn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const dn=u.g;if(dn){const Yi=dn.g?dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yi){var H=S.h;H.g||Yi.indexOf("spdy")==-1&&Yi.indexOf("quic")==-1&&Yi.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(da(H,H.h),H.h=null))}if(S.D){const Js=dn.g?dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(S.ya=Js,$e(S.I,S.D,Js))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=u;if(S.qa=tu(S,S.J?S.ia:null,S.W),re.K){$l(S.h,re);var ze=re,vt=S.L;vt&&(ze.I=vt),ze.B&&(Hi(ze),We(ze)),S.g=re}else Xi(S);0<_.i.length&&ir(_)}else be[0]!="stop"&&be[0]!="close"||Rr(_,7);else _.G==3&&(be[0]=="stop"||be[0]=="close"?be[0]=="stop"?Rr(_,7):Nt(_):be[0]!="noop"&&_.l&&_.l.ta(be),_.v=0)}}Ar(4)}catch{}}var Bl=class{constructor(u,g){this.g=u,this.map=g}};function Wi(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zl(u){return u.h?1:u.g?u.g.size:0}function Gt(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function da(u,g){u.g?u.g.add(g):u.h=g}function $l(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Wi.prototype.cancel=function(){if(this.i=Hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Hl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return O(u.i)}function Us(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,S=0;S<_;S++)g.push(u[S]);return g}g=[],_=0;for(S in u)g[_++]=u[S];return g}function Bs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const S in u)g[_++]=S;return g}}}function Gr(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Bs(u),S=Us(u),U=S.length,H=0;H<U;H++)g.call(void 0,S[H],_&&_[H],u)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Th(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),U=null;if(0<=S){var H=u[_].substring(0,S);U=u[_].substring(S+1)}else H=u[_];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ir(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ir){this.h=u.h,qi(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var g=u.i,_=new tr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Xr(this,_),this.m=u.m}else u&&(g=String(u).match(Ki))?(this.h=!1,qi(this,g[1]||"",!0),this.o=Ne(g[2]||""),this.g=Ne(g[3]||"",!0),Qr(this,g[4]),this.l=Ne(g[5]||"",!0),Xr(this,g[6]||"",!0),this.m=Ne(g[7]||"")):(this.h=!1,this.i=new tr(null,this.h))}Ir.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Jr(g,zs,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Jr(g,zs,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Jr(_,_.charAt(0)=="/"?ql:Kl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Jr(_,pa)),u.join("")};function hn(u){return new Ir(u)}function qi(u,g,_){u.j=_?Ne(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Xr(u,g,_){g instanceof tr?(u.i=g,nr(u.i,u.h)):(_||(g=Jr(g,Gl)),u.i=new tr(g,u.h))}function $e(u,g,_){u.i.set(g,_)}function Yr(u){return $e(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ne(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Jr(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Wl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var zs=/[#\/\?@]/g,Kl=/[#\?:]/g,ql=/[#\?]/g,Gl=/[#\?@]/g,pa=/#/g;function tr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Vt(u){u.g||(u.g=new Map,u.h=0,u.i&&Th(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=tr.prototype,n.add=function(u,g){Vt(this),this.i=null,u=Tn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function jn(u,g){Vt(u),g=Tn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Un(u,g){return Vt(u),g=Tn(u,g),u.g.has(g)}n.forEach=function(u,g){Vt(this),this.g.forEach(function(_,S){_.forEach(function(U){u.call(g,U,S,this)},this)},this)},n.na=function(){Vt(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=u[S];for(let H=0;H<U.length;H++)_.push(g[S])}return _},n.V=function(u){Vt(this);let g=[];if(typeof u=="string")Un(this,u)&&(g=g.concat(this.g.get(Tn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},n.set=function(u,g){return Vt(this),this.i=null,u=Tn(this,u),Un(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Zr(u,g,_){jn(u,g),0<_.length&&(u.i=null,u.g.set(Tn(u,g),O(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var U=H;re[S]!==""&&(U+="="+encodeURIComponent(String(re[S]))),u.push(U)}}return this.i=u.join("&")};function Tn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function nr(u,g){g&&!u.j&&(Vt(u),u.i=null,u.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(jn(this,S),Zr(this,U,_))},u)),u.j=g}function Sh(u,g){const _=new Bi;if(f.Image){const S=new Image;S.onload=I(Zt,_,"TestLoadImage: loaded",!0,g,S),S.onerror=I(Zt,_,"TestLoadImage: error",!1,g,S),S.onabort=I(Zt,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=I(Zt,_,"TestLoadImage: timeout",!1,g,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Ql(u,g){const _=new Bi,S=new AbortController,U=setTimeout(()=>{S.abort(),Zt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?Zt(_,"TestPingServer: ok",!0,g):Zt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Zt(_,"TestPingServer: error",!1,g)})}function Zt(u,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Ah(){this.g=new sa}function Xl(u,g,_){const S=_||"";try{Gr(u,function(U,H){let re=U;m(U)&&(re=ra(U)),g.push(S+H+"="+encodeURIComponent(re))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function Pr(u){this.l=u.Ub||null,this.j=u.eb||!1}b(Pr,ji),Pr.prototype.g=function(){return new Gi(this.l,this.j)},Pr.prototype.i=function(u){return function(){return u}}({});function Gi(u,g){gt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Gi,gt),n=Gi.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,zn(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||f).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Bn(this):zn(this),this.readyState==3&&Yl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},n.Qa=function(u){this.g&&(this.response=u,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,zn(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cr(u){let g="";return ue(u,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ei(u,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Cr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$e(u,g,_))}function Ze(u){gt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ze,gt);var Ih=/^https?$/i,ma=["POST","PUT"];n=Ze.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Ns(this.o):Ns(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Qi(this,H);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ma,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Qi(this,H)}};function Qi(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,$s(u),fn(u)}function $s(u){u.A||(u.A=!0,yt(u,"complete"),yt(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,yt(this,"complete"),yt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ga(this):this.bb())},n.bb=function(){ga(this)};function ga(u){if(u.h&&typeof c<"u"&&(!u.v[1]||en(u)!=4||u.Z()!=2)){if(u.u&&en(u)==4)ea(u.Ea,0,u);else if(yt(u,"readystatechange"),en(u)==4){u.h=!1;try{const re=u.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=re===0){var U=String(u.D).match(Ki)[1]||null;!U&&f.self&&f.self.location&&(U=f.self.location.protocol.slice(0,-1)),S=!Ih.test(U?U.toLowerCase():"")}_=S}if(_)yt(u,"complete"),yt(u,"success");else{u.m=6;try{var H=2<en(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",$s(u)}}finally{fn(u)}}}}function fn(u,g){if(u.g){Hs(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||yt(u,"ready");try{_.onreadystatechange=S}catch{}}}function Hs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function en(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ia(g)}};function ya(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(u){const g={};u=(u.g&&2<=en(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(G(u[S]))continue;var _=M(u[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[U]||[];g[U]=H,H.push(_)}k(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rr(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function va(u){this.Aa=0,this.i=[],this.j=new Bi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rr("baseRetryDelayMs",5e3,u),this.cb=rr("retryDelaySeedMs",1e4,u),this.Wa=rr("forwardChannelMaxRetries",2,u),this.wa=rr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(u&&u.concurrentRequestLimit),this.Da=new Ah,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=va.prototype,n.la=8,n.G=1,n.connect=function(u,g,_,S){at(0),this.W=u,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=tu(this,null,this.W),ir(this)};function Nt(u){if(Ks(u),u.G==3){var g=u.U++,_=hn(u.I);if($e(_,"SID",u.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),xr(u,_),g=new Fn(u,u.j,g),g.L=2,g.v=Yr(hn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.v,_=!0),_||(g.g=nu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}eu(u)}function $n(u){u.g&&(_a(u),u.g.cancel(),u.g=null)}function Ks(u){$n(u),u.u&&(f.clearTimeout(u.u),u.u=null),Qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ir(u){if(!cn(u.h)&&!u.s){u.s=!0;var g=u.Ga;Ae||oe(),te||(Ae(),te=!0),me.add(g,u),u.B=0}}function Ph(u,g){return zl(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Mn(T(u.Ga,u,g),Zl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Fn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=A(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ti(this,U,g),_=hn(this.I),$e(_,"RID",u),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),xr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Cr(H)))+"&"+g:this.m&&ei(_,this.m,H)),da(this.h,U),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),U.T=!0,js(U,_,null)):js(U,_,g),this.G=2}}else this.G==3&&(u?qs(this,u):this.i.length==0||cn(this.h)||qs(this))};function qs(u,g){var _;g?_=g.l:_=u.U++;const S=hn(u.I);$e(S,"SID",u.K),$e(S,"RID",_),$e(S,"AID",u.T),xr(u,S),u.m&&u.o&&ei(S,u.m,u.o),_=new Fn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ti(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),da(u.h,_),js(_,S,g)}function xr(u,g){u.H&&ue(u.H,function(_,S){$e(g,S,_)}),u.l&&Gr({},function(_,S){$e(g,S,_)})}function ti(u,g,_){_=Math.min(u.i.length,_);var S=u.l?T(u.l.Na,u.l,u):null;e:{var U=u.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=U[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let ze=!0;for(let vt=0;vt<_;vt++){let be=U[vt].g;const At=U[vt].map;if(be-=H,0>be)H=Math.max(0,U[vt].g-100),ze=!1;else try{Xl(At,re,"req"+be+"_")}catch{S&&S(At)}}if(ze){S=re.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,S}function Xi(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;Ae||oe(),te||(Ae(),te=!0),me.add(g,u),u.v=0}}function Gs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Mn(T(u.Fa,u),Zl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Jl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Mn(T(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),$n(this),Jl(this))};function _a(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Jl(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=hn(u.qa);$e(g,"RID","rpc"),$e(g,"SID",u.K),$e(g,"AID",u.T),$e(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&$e(g,"TO",u.ja),$e(g,"TYPE","xmlhttp"),xr(u,g),u.m&&u.o&&ei(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Yr(hn(g)),_.m=null,_.P=!0,ha(_,u)}n.Za=function(){this.C!=null&&(this.C=null,$n(this),Gs(this),at(19))};function Qs(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Xs(u,g){var _=null;if(u.g==g){Qs(u),_a(u),u.g=null;var S=2}else if(Gt(u.h,g))_=g.D,$l(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=u.B;S=Ui(),yt(S,new Ms(S,_)),ir(u)}else Xi(u);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Ph(u,g)||S==2&&Gs(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),U){case 1:Rr(u,5);break;case 4:Rr(u,10);break;case 3:Rr(u,6);break;default:Rr(u,2)}}}function Zl(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Rr(u,g){if(u.j.info("Error code "+g),g==2){var _=T(u.fb,u),S=u.Xa;const U=!S;S=new Ir(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qi(S,"https"),Yr(S),U?Sh(S.toString(),_):Ql(S.toString(),_)}else at(2);u.G=0,u.l&&u.l.sa(g),eu(u),Ks(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function eu(u){if(u.G=0,u.ka=[],u.l){const g=Hl(u.h);(g.length!=0||u.i.length!=0)&&(L(u.ka,g),L(u.ka,u.i),u.h.i.length=0,O(u.i),u.i.length=0),u.l.ra()}}function tu(u,g,_){var S=_ instanceof Ir?hn(_):new Ir(_);if(S.g!="")g&&(S.g=g+"."+S.g),Qr(S,S.s);else{var U=f.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new Ir(null);S&&qi(H,S),g&&(H.g=g),U&&Qr(H,U),_&&(H.l=_),S=H}return _=u.D,g=u.ya,_&&g&&$e(S,_,g),$e(S,"VER",u.la),xr(u,S),S}function nu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ze(new Pr({eb:_})):new Ze(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wa(){}n=wa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ys(){}Ys.prototype.g=function(u,g){return new Qt(u,g)};function Qt(u,g){gt.call(this),this.g=new va(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!G(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new sr(this)}b(Qt,gt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Nt(this.g)},Qt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=ra(u),u=_);g.i.push(new Bl(g.Ya++,u)),g.G==3&&ir(g)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Nt(this.g),delete this.g,Qt.aa.N.call(this)};function ru(u){Zn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}b(ru,Zn);function iu(){bs.call(this),this.status=1}b(iu,bs);function sr(u){this.g=u}b(sr,wa),sr.prototype.ua=function(){yt(this.g,"a")},sr.prototype.ta=function(u){yt(this.g,new ru(u))},sr.prototype.sa=function(u){yt(this.g,new iu)},sr.prototype.ra=function(){yt(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,U_=function(){return new Ys},j_=function(){return Ui()},F_=er,Rd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,cc=Os,Ol.COMPLETE="complete",O_=Ol,Ds.EventType=wn,wn.OPEN="a",wn.CLOSE="b",wn.ERROR="c",wn.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Ka=Ds,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,L_=Ze}).apply(typeof Ju<"u"?Ju:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",iv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new fp("@firebase/firestore");function wo(){return Es.logLevel}function le(n,...e){if(Es.logLevel<=Re.DEBUG){const t=e.map(pp);Es.debug(`Firestore (${Ho}): ${n}`,...t)}}function zr(n,...e){if(Es.logLevel<=Re.ERROR){const t=e.map(pp);Es.error(`Firestore (${Ho}): ${n}`,...t)}}function bo(n,...e){if(Es.logLevel<=Re.WARN){const t=e.map(pp);Es.warn(`Firestore (${Ho}): ${n}`,...t)}}function pp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,B_(n,i,t)}function B_(n,e,t){let i=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw zr(i),new Error(i)}function Be(n,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,n||B_(e,o,i)}function Ie(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ni{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class uI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class cI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Be(typeof i.accessToken=="string",31837,{l:i}),new z_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class hI{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fI{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new hI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ps(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const i=l=>{l.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,le("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const o=l=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new sv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=pI(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function kd(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const o=n.charAt(i),l=e.charAt(i);if(o!==l)return rd(o)===rd(l)?ke(o,l):rd(o)?1:-1}return ke(n.length,e.length)}const mI=55296,gI=57343;function rd(n){const e=n.charCodeAt(0);return e>=mI&&e<=gI}function Mo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="__name__";class cr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ee(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=cr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const i=cr.isNumericId(e),o=cr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?cr.extractNumericId(e).compare(cr.extractNumericId(t)):kd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Qe extends cr{construct(e,t,i){return new Qe(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const yI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends cr{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return yI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ov}static keyField(){return new Ot([ov])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new de(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new de(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(c=!c,o++):f!=="."||c?(i+=f,o++):(l(),o++)}if(l(),c)throw new de(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n,e,t){if(!t)throw new de(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vI(n,e,t,i){if(e===!0&&i===!0)throw new de(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function av(n){if(!ye.isDocumentKey(n))throw new de(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function lv(n){if(ye.isDocumentKey(n))throw new de(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function H_(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gp(n);throw new de(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Al(n,e){if(!H_(n))throw new de(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(o&&typeof c!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new de(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=-62135596800,cv=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*cv);return new Xe(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<uv)throw new de(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Al(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:pt("string",Xe._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Xe(0,0))}static max(){return new Se(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=-1;function _I(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new Xe(t+1,0):new Xe(t,i));return new Ai(o,ye.empty(),e)}function wI(n){return new Ai(n.readTime,n.key,hl)}class Ai{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ai(Se.min(),ye.empty(),hl)}static max(){return new Ai(Se.max(),ye.empty(),hl)}}function EI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==TI)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let o=0,l=0,c=!1;e.forEach(f=>{++o,f.next(()=>{++l,c&&l===o&&t()},p=>i(p))}),c=!0,l===o&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(o=>o?K.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,l)=>{i.push(t.call(this,o,l))}),this.waitFor(i)}static mapArray(e,t){return new K((i,o)=>{const l=e.length,c=new Array(l);let f=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(v=>{c[m]=v,++f,f===l&&i(c)},v=>o(v))}})}static doWhile(e,t){return new K((i,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):i()};l()})}}function AI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ko(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Qc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp=-1;function Xc(n){return n==null}function Ac(n){return n===0&&1/n==-1/0}function II(n){return typeof n=="number"&&Number.isInteger(n)&&!Ac(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="";function PI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hv(e)),e=CI(n.get(t),e);return hv(e)}function CI(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case W_:t+="";break;default:t+=l}}return t}function hv(n){return n+W_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Di(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Lt.RED,this.left=o??Lt.EMPTY,this.right=l??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Lt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Lt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(e){return new dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new yn([])}unionWith(e){let t=new Tt(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new yn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new q_("Invalid base64 string: "+l):l}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const xI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ii(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=xI.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pi(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="server_timestamp",Q_="__type__",X_="__previous_value__",Y_="__local_write_time__";function vp(n){return(n?.mapValue?.fields||{})[Q_]?.stringValue===G_}function Yc(n){const e=n.mapValue.fields[X_];return vp(e)?Yc(e):e}function fl(n){const e=Ii(n.mapValue.fields[Y_].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,i,o,l,c,f,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const Ic="(default)";class dl{constructor(e,t){this.projectId=e,this.database=t||Ic}static empty(){return new dl("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(e){return e instanceof dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="__type__",kI="__max__",ec={mapValue:{}},Z_="__vector__",Pc="value";function Ci(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?vp(n)?4:NI(n)?9007199254740991:VI(n)?10:11:Ee(28295,{value:n})}function vr(n,e){if(n===e)return!0;const t=Ci(n);if(t!==Ci(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ii(o.timestampValue),f=Ii(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Pi(o.bytesValue).isEqual(Pi(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=ct(o.doubleValue),f=ct(l.doubleValue);return c===f?Ac(c)===Ac(f):isNaN(c)&&isNaN(f)}return!1}(n,e);case 9:return Mo(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(o,l){const c=o.mapValue.fields||{},f=l.mapValue.fields||{};if(fv(c)!==fv(f))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(f[p]===void 0||!vr(c[p],f[p])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function pl(n,e){return(n.values||[]).find(t=>vr(t,e))!==void 0}function Lo(n,e){if(n===e)return 0;const t=Ci(n),i=Ci(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const f=ct(l.integerValue||l.doubleValue),p=ct(c.integerValue||c.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return pv(n.timestampValue,e.timestampValue);case 4:return pv(fl(n),fl(e));case 5:return kd(n.stringValue,e.stringValue);case 6:return function(l,c){const f=Pi(l),p=Pi(c);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const f=l.split("/"),p=c.split("/");for(let m=0;m<f.length&&m<p.length;m++){const v=ke(f[m],p[m]);if(v!==0)return v}return ke(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const f=ke(ct(l.latitude),ct(c.latitude));return f!==0?f:ke(ct(l.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return mv(n.arrayValue,e.arrayValue);case 10:return function(l,c){const f=l.fields||{},p=c.fields||{},m=f[Pc]?.arrayValue,v=p[Pc]?.arrayValue,w=ke(m?.values?.length||0,v?.values?.length||0);return w!==0?w:mv(m,v)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===ec.mapValue&&c===ec.mapValue)return 0;if(l===ec.mapValue)return 1;if(c===ec.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),m=c.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let w=0;w<p.length&&w<v.length;++w){const T=kd(p[w],v[w]);if(T!==0)return T;const I=Lo(f[p[w]],m[v[w]]);if(I!==0)return I}return ke(p.length,v.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function pv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Ii(n),i=Ii(e),o=ke(t.seconds,i.seconds);return o!==0?o:ke(t.nanos,i.nanos)}function mv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Lo(t[o],i[o]);if(l)return l}return ke(t.length,i.length)}function Oo(n){return Vd(n)}function Vd(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ii(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Pi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=Vd(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const c of i)l?l=!1:o+=",",o+=`${c}:${Vd(t.fields[c])}`;return o+"}"}(n.mapValue):Ee(61005,{value:n})}function hc(n){switch(Ci(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(n);return e?16+hc(e):16;case 5:return 2*n.stringValue.length;case 6:return Pi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,l)=>o+hc(l),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Di(i.fields,(l,c)=>{o+=l.length+hc(c)}),o}(n.mapValue);default:throw Ee(13486,{value:n})}}function Nd(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function gv(n){return!!n&&"nullValue"in n}function yv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fc(n){return!!n&&"mapValue"in n}function VI(n){return(n?.mapValue?.fields||{})[J_]?.stringValue===Z_}function el(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Di(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=el(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=el(n.arrayValue.values[t]);return e}return{...n}}function NI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}c?i[f.lastSegment()]=el(c):o.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Di(t,(o,l)=>e[o]=l);for(const o of i)delete e[o]}clone(){return new un(el(this.value))}}function ew(n){const e=[];return Di(n.fields,(t,i)=>{const o=new Ot([t]);if(fc(i)){const l=ew(i.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,i,o,l,c,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Kt(e,0,Se.min(),Se.min(),Se.min(),un.empty(),0)}static newFoundDocument(e,t,i,o){return new Kt(e,1,t,Se.min(),i,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Se.min(),Se.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Se.min(),Se.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function vv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const l=e[o],c=n.position[o];if(l.field.isKeyField()?i=ye.comparator(ye.fromName(c.referenceValue),t.key):i=Lo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function _v(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t="asc"){this.field=e,this.dir=t}}function DI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{}class Et extends tw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new MI(e,t,i):t==="array-contains"?new FI(e,i):t==="in"?new jI(e,i):t==="not-in"?new UI(e,i):t==="array-contains-any"?new BI(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new LI(e,i):new OI(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Lo(t,this.value)):t!==null&&Ci(this.value)===Ci(t)&&this.matchesComparison(Lo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _r extends tw{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new _r(e,t)}matches(e){return nw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nw(n){return n.op==="and"}function rw(n){return bI(n)&&nw(n)}function bI(n){for(const e of n.filters)if(e instanceof _r)return!1;return!0}function Dd(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+Oo(n.value);if(rw(n))return n.filters.map(e=>Dd(e)).join(",");{const e=n.filters.map(t=>Dd(t)).join(",");return`${n.op}(${e})`}}function iw(n,e){return n instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&vr(i.value,o.value)}(n,e):n instanceof _r?function(i,o){return o instanceof _r&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((l,c,f)=>l&&iw(c,o.filters[f]),!0):!1}(n,e):void Ee(19439)}function sw(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${Oo(t.value)}`}(n):n instanceof _r?function(t){return t.op.toString()+" {"+t.getFilters().map(sw).join(" ,")+"}"}(n):"Filter"}class MI extends Et{constructor(e,t,i){super(e,t,i),this.key=ye.fromName(i.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class LI extends Et{constructor(e,t){super(e,"in",t),this.keys=ow("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OI extends Et{constructor(e,t){super(e,"not-in",t),this.keys=ow("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ow(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class FI extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _p(t)&&pl(t.arrayValue,this.value)}}class jI extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class UI extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pl(this.value.arrayValue,t)}}class BI extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t=null,i=[],o=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function wv(n,e=null,t=[],i=[],o=null,l=null,c=null){return new zI(n,e,t,i,o,l,c)}function wp(n){const e=Ie(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Dd(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Oo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Oo(i)).join(",")),e.Te=t}return e.Te}function Ep(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!iw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_v(n.startAt,e.startAt)&&_v(n.endAt,e.endAt)}function bd(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t=null,i=[],o=[],l=null,c="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $I(n,e,t,i,o,l,c,f){return new Jc(n,e,t,i,o,l,c,f)}function Tp(n){return new Jc(n)}function Ev(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HI(n){return n.collectionGroup!==null}function tl(n){const e=Ie(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Tt(Ot.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(f=f.add(m.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new xc(l,i))}),t.has(Ot.keyField().canonicalString())||e.Ie.push(new xc(Ot.keyField(),i))}return e.Ie}function fr(n){const e=Ie(n);return e.Ee||(e.Ee=WI(e,tl(n))),e.Ee}function WI(n,e){if(n.limitType==="F")return wv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new xc(o.field,l)});const t=n.endAt?new Cc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Cc(n.startAt.position,n.startAt.inclusive):null;return wv(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Md(n,e,t){return new Jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zc(n,e){return Ep(fr(n),fr(e))&&n.limitType===e.limitType}function aw(n){return`${wp(fr(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>sw(o)).join(", ")}]`),Xc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Oo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Oo(o)).join(",")),`Target(${i})`}(fr(n))}; limitType=${n.limitType})`}function eh(n,e){return e.isFoundDocument()&&function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ye.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,o){for(const l of tl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,f,p){const m=vv(c,f,p);return c.inclusive?m<=0:m<0}(i.startAt,tl(i),o)||i.endAt&&!function(c,f,p){const m=vv(c,f,p);return c.inclusive?m>=0:m>0}(i.endAt,tl(i),o))}(n,e)}function KI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lw(n){return(e,t)=>{let i=!1;for(const o of tl(n)){const l=qI(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function qI(n,e,t){const i=n.field.isKeyField()?ye.comparator(e.key,t.key):function(l,c,f){const p=c.data.field(l),m=f.data.field(l);return p!==null&&m!==null?Lo(p,m):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(t,i)=>{for(const[o,l]of i)e(o,l)})}isEmpty(){return K_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new it(ye.comparator);function $r(){return GI}const uw=new it(ye.comparator);function qa(...n){let e=uw;for(const t of n)e=e.insert(t.key,t);return e}function cw(n){let e=uw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ms(){return nl()}function hw(){return nl()}function nl(){return new Ss(n=>n.toString(),(n,e)=>n.isEqual(e))}const QI=new it(ye.comparator),XI=new Tt(ye.comparator);function Ve(...n){let e=XI;for(const t of n)e=e.add(t);return e}const YI=new Tt(ke);function JI(){return YI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function fw(n){return{integerValue:""+n}}function ZI(n,e){return II(e)?fw(e):Sp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function eP(n,e,t){return n instanceof Rc?function(o,l){const c={fields:{[Q_]:{stringValue:G_},[Y_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&vp(l)&&(l=Yc(l)),l&&(c.fields[X_]=l),{mapValue:c}}(t,e):n instanceof ml?pw(n,e):n instanceof gl?mw(n,e):function(o,l){const c=dw(o,l),f=Tv(c)+Tv(o.Ae);return Nd(c)&&Nd(o.Ae)?fw(f):Sp(o.serializer,f)}(n,e)}function tP(n,e,t){return n instanceof ml?pw(n,e):n instanceof gl?mw(n,e):t}function dw(n,e){return n instanceof kc?function(i){return Nd(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Rc extends th{}class ml extends th{constructor(e){super(),this.elements=e}}function pw(n,e){const t=gw(e);for(const i of n.elements)t.some(o=>vr(o,i))||t.push(i);return{arrayValue:{values:t}}}class gl extends th{constructor(e){super(),this.elements=e}}function mw(n,e){let t=gw(e);for(const i of n.elements)t=t.filter(o=>!vr(o,i));return{arrayValue:{values:t}}}class kc extends th{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Tv(n){return ct(n.integerValue||n.doubleValue)}function gw(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function nP(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ml&&o instanceof ml||i instanceof gl&&o instanceof gl?Mo(i.elements,o.elements,vr):i instanceof kc&&o instanceof kc?vr(i.Ae,o.Ae):i instanceof Rc&&o instanceof Rc}(n.transform,e.transform)}class rP{constructor(e,t){this.version=e,this.transformResults=t}}class Dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dn}static exists(e){return new Dn(void 0,e)}static updateTime(e){return new Dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nh{}function yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ap(n.key,Dn.none()):new Il(n.key,n.data,Dn.none());{const t=n.data,i=un.empty();let o=new Tt(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),o=o.add(l)}return new bi(n.key,i,new yn(o.toArray()),Dn.none())}}function iP(n,e,t){n instanceof Il?function(o,l,c){const f=o.value.clone(),p=Av(o.fieldTransforms,l,c.transformResults);f.setAll(p),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):n instanceof bi?function(o,l,c){if(!dc(o.precondition,l))return void l.convertToUnknownDocument(c.version);const f=Av(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(vw(o)),p.setAll(f),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function rl(n,e,t,i){return n instanceof Il?function(l,c,f,p){if(!dc(l.precondition,c))return f;const m=l.value.clone(),v=Iv(l.fieldTransforms,p,c);return m.setAll(v),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof bi?function(l,c,f,p){if(!dc(l.precondition,c))return f;const m=Iv(l.fieldTransforms,p,c),v=c.data;return v.setAll(vw(l)),v.setAll(m),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,i):function(l,c,f){return dc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,e,t)}function sP(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),l=dw(i.transform,o||null);l!=null&&(t===null&&(t=un.empty()),t.set(i.field,l))}return t||null}function Sv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Mo(i,o,(l,c)=>nP(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Il extends nh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bi extends nh{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Av(n,e,t){const i=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const l=n[o],c=l.transform,f=e.data.field(l.field);i.set(l.field,tP(c,f,t[o]))}return i}function Iv(n,e,t){const i=new Map;for(const o of n){const l=o.transform,c=t.data.field(o.field);i.set(o.field,eP(l,c,e))}return i}class Ap extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oP extends nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&iP(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=hw();return this.mutations.forEach(o=>{const l=e.get(o.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(o.key)?null:f;const p=yw(c,f);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(t,i)=>Sv(t,i))&&Mo(this.baseMutations,e.baseMutations,(t,i)=>Sv(t,i))}}class Ip{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Be(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let o=function(){return QI}();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,i[c].version);return new Ip(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Me;function cP(n){switch(n){case Q.OK:return Ee(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function _w(n){if(n===void 0)return zr("GRPC error has no .code"),Q.UNKNOWN;switch(n){case dt.OK:return Q.OK;case dt.CANCELLED:return Q.CANCELLED;case dt.UNKNOWN:return Q.UNKNOWN;case dt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case dt.INTERNAL:return Q.INTERNAL;case dt.UNAVAILABLE:return Q.UNAVAILABLE;case dt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case dt.NOT_FOUND:return Q.NOT_FOUND;case dt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case dt.ABORTED:return Q.ABORTED;case dt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case dt.DATA_LOSS:return Q.DATA_LOSS;default:return Ee(39323,{code:n})}}(Me=dt||(dt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=new Ti([4294967295,4294967295],0);function Pv(n){const e=hP().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function Cv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ti([t,i],0),new Ti([o,l],0)]}class Pp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ga(`Invalid padding: ${t}`);if(i<0)throw new Ga(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ga(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ga(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ti.fromNumber(this.ge)}ye(e,t,i){let o=e.add(t.multiply(Ti.fromNumber(i)));return o.compare(fP)===1&&(o=new Ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Pv(e),[i,o]=Cv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Pp(l,o,t);return i.forEach(f=>c.insert(f)),c}insert(e){if(this.ge===0)return;const t=Pv(e),[i,o]=Cv(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,o,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rh(Se.min(),o,new it(ke),$r(),Ve())}}class Pl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t,i,o){this.be=e,this.removedTargetIds=t,this.key=i,this.De=o}}class ww{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,i=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class xv{constructor(){this.ve=0,this.Fe=Rv(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ee(38017,{changeType:l})}}),new Pl(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Rv()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dP{constructor(e){this.Ge=e,this.ze=new Map,this.je=$r(),this.Je=tc(),this.He=tc(),this.Ye=new it(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,i=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(bd(l))if(i===0){const c=new ye(l.path);this.et(t,c,Kt.newNoDocument(c,Se.min()))}else Be(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const f=this.ut(e),p=f?this.ct(f,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let c,f;try{c=Pi(i).toUint8Array()}catch(p){if(p instanceof q_)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Pp(c,o,l)}catch(p){return bo(p instanceof Ga?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.ge===0?null:f}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let o=0;return i.forEach(l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((l,c)=>{const f=this.ot(c);if(f){if(l.current&&bd(f.target)){const p=new ye(f.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Kt.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}});let i=Ve();this.He.forEach((l,c)=>{let f=!0;c.forEachWhile(p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(l))}),this.je.forEach((l,c)=>c.setReadTime(e));const o=new rh(e,t,this.Ye,this.je,i);return this.je=$r(),this.Je=tc(),this.He=tc(),this.Ye=new it(ke),o}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new xv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Tt(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Tt(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new xv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function tc(){return new it(ye.comparator)}function Rv(){return new it(ye.comparator)}const pP={asc:"ASCENDING",desc:"DESCENDING"},mP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gP={and:"AND",or:"OR"};class yP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ld(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function Vc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function vP(n,e){return Vc(n,e.toTimestamp())}function dr(n){return Be(!!n,49232),Se.fromTimestamp(function(t){const i=Ii(t);return new Xe(i.seconds,i.nanos)}(n))}function Cp(n,e){return Od(n,e).canonicalString()}function Od(n,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Sw(n){const e=Qe.fromString(n);return Be(xw(e),10190,{key:e.toString()}),e}function Fd(n,e){return Cp(n.databaseId,e.path)}function id(n,e){const t=Sw(e);if(t.get(1)!==n.databaseId.projectId)throw new de(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Iw(t))}function Aw(n,e){return Cp(n.databaseId,e)}function _P(n){const e=Sw(n);return e.length===4?Qe.emptyPath():Iw(e)}function jd(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Iw(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function kv(n,e,t){return{name:Fd(n,e),fields:t.value.mapValue.fields}}function wP(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,v){return m.useProto3Json?(Be(v===void 0||typeof v=="string",58123),Ft.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ft.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(m){const v=m.code===void 0?Q.UNKNOWN:_w(m.code);return new de(v,m.message||"")}(c);t=new Ew(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=id(n,i.document.name),l=dr(i.document.updateTime),c=i.document.createTime?dr(i.document.createTime):Se.min(),f=new un({mapValue:{fields:i.document.fields}}),p=Kt.newFoundDocument(o,l,c,f),m=i.targetIds||[],v=i.removedTargetIds||[];t=new pc(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=id(n,i.document),l=i.readTime?dr(i.readTime):Se.min(),c=Kt.newNoDocument(o,l),f=i.removedTargetIds||[];t=new pc([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=id(n,i.document),l=i.removedTargetIds||[];t=new pc([],l,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,c=new uP(o,l),f=i.targetId;t=new ww(f,c)}}return t}function EP(n,e){let t;if(e instanceof Il)t={update:kv(n,e.key,e.value)};else if(e instanceof Ap)t={delete:Fd(n,e.key)};else if(e instanceof bi)t={update:kv(n,e.key,e.data),updateMask:kP(e.fieldMask)};else{if(!(e instanceof oP))return Ee(16599,{Vt:e.type});t={verify:Fd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const f=c.transform;if(f instanceof Rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ml)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof gl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kc)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw Ee(20930,{transform:c.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:vP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)}(n,e.precondition)),t}function TP(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,l){let c=o.updateTime?dr(o.updateTime):dr(l);return c.isEqual(Se.min())&&(c=dr(l)),new rP(c,o.transformResults||[])}(t,e))):[]}function SP(n,e){return{documents:[Aw(n,e.path)]}}function AP(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Aw(n,o);const l=function(m){if(m.length!==0)return Cw(_r.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:To(T.field),direction:CP(T.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=Ld(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function IP(n){let e=_P(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Be(i===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(w){const T=Pw(w);return T instanceof _r&&rw(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(w){return w.map(T=>function(b){return new xc(So(b.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(w){let T;return T=typeof w=="object"?w.value:w,Xc(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(w){const T=!!w.before,I=w.values||[];return new Cc(I,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,I=w.values||[];return new Cc(I,T)}(t.endAt)),$I(e,o,c,l,f,"F",p,m)}function PP(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=So(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(t.unaryFilter.field);return Et.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=So(t.unaryFilter.field);return Et.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return Et.create(So(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return _r.create(t.compositeFilter.filters.map(i=>Pw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function CP(n){return pP[n]}function xP(n){return mP[n]}function RP(n){return gP[n]}function To(n){return{fieldPath:n.canonicalString()}}function So(n){return Ot.fromServerFormat(n.fieldPath)}function Cw(n){return n instanceof Et?function(t){if(t.op==="=="){if(yv(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(gv(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yv(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(gv(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:xP(t.op),value:t.value}}}(n):n instanceof _r?function(t){const i=t.getFilters().map(o=>Cw(o));return i.length===1?i[0]:{compositeFilter:{op:RP(t.op),filters:i}}}(n):Ee(54877,{filter:n})}function kP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,i,o,l=Se.min(),c=Se.min(),f=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.yt=e}}function NP(n){const e=IP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Md(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this.Cn=new bP}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Ai.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class bP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Tt(Qe.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(Rw,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LruGarbageCollector",MP=1048576;function Dv([n,e],[t,i]){const o=ke(n,t);return o===0?ke(e,i):o}class LP{constructor(e){this.Ir=e,this.buffer=new Tt(Dv),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Dv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(Nv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ko(t)?le(Nv,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Vr(3e5)})}}class FP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(Qc.ce);const i=new LP(t);return this.mr.forEachTarget(e,o=>i.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>i.Ar(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Vv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,o,l,c,f,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,c=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,f=Date.now(),this.removeTargets(e,i,t))).next(w=>(l=w,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(m=Date.now(),wo()<=Re.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(f-c)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function jP(n,e){return new FP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(){this.changes=new Ss(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&rl(i.mutation,o,yn.empty(),Xe.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(l=>{let c=qa();return l.forEach((f,p)=>{c=c.insert(f,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ms();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,i,o){let l=$r();const c=nl(),f=function(){return nl()}();return t.forEach((p,m)=>{const v=i.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof bi)?l=l.insert(m.key,m):v!==void 0?(c.set(m.key,v.mutation.getFieldMask()),rl(v.mutation,m,v.mutation.getFieldMask(),Xe.now())):c.set(m.key,yn.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,v)=>c.set(m,v)),t.forEach((m,v)=>f.set(m,new BP(v,c.get(m)??null))),f))}recalculateAndSaveOverlays(e,t){const i=nl();let o=new it((c,f)=>c-f),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let v=i.get(p)||yn.empty();v=f.applyToLocalView(m,v),i.set(p,v);const w=(o.get(f.batchId)||Ve()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const c=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),m=p.key,v=p.value,w=hw();v.forEach(T=>{if(!l.has(T)){const I=yw(t.get(T),i.get(T));I!==null&&w.set(T,I),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,w))}return K.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):K.resolve(ms());let f=hl,p=l;return c.next(m=>K.forEach(m,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),l.get(v)?K.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{p=p.insert(v,T)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ve())).next(v=>({batchId:f,changes:cw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(i=>{let o=qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let c=qa();return this.indexManager.getCollectionParents(e,l).next(f=>K.forEach(f,p=>{const m=function(w,T){return new Jc(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(v=>{v.forEach((w,T)=>{c=c.insert(w,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o))).next(c=>{l.forEach((p,m)=>{const v=m.getKey();c.get(v)===null&&(c=c.insert(v,Kt.newInvalidDocument(v)))});let f=qa();return c.forEach((p,m)=>{const v=l.get(p);v!==void 0&&rl(v.mutation,m,yn.empty(),Xe.now()),eh(t,m)&&(f=f.insert(p,m))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:NP(o.bundledQuery),readTime:dr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.overlays=new it(ye.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ms();return K.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&i.set(o,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,l)=>{this.St(e,t,l)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.qr.get(i);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=ms(),l=t.length+1,c=new ye(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const p=f.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let v=l.get(m.largestBatchId);v===null&&(v=ms(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const f=ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,v)=>f.set(m,v)),!(f.size()>=o)););return K.resolve(f)}St(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(i.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new lP(t,i));let l=this.qr.get(t);l===void 0&&(l=Ve(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.Qr=new Tt(xt.$r),this.Ur=new Tt(xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new xt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new xt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new ye(new Qe([])),i=new xt(t,e),o=new xt(t,e+1),l=[];return this.Ur.forEachInRange([i,o],c=>{this.Gr(c),l.push(c.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Qe([])),i=new xt(t,e),o=new xt(t,e+1);let l=Ve();return this.Ur.forEachInRange([i,o],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new xt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class xt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(xt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new aP(l,t,i,o);this.mutationQueue.push(c);for(const f of o)this.Zr=this.Zr.add(new xt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.ei(i),l=o<0?0:o;return K.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?yp:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xt(t,0),o=new xt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,o],c=>{const f=this.Xr(c.Yr);l.push(f)}),K.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(ke);return t.forEach(o=>{const l=new xt(o,0),c=new xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],f=>{i=i.add(f.Yr)})}),K.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;ye.isDocumentKey(l)||(l=l.child(""));const c=new xt(new ye(l),0);let f=new Tt(ke);return this.Zr.forEachWhile(p=>{const m=p.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(f=f.add(p.Yr)),!0)},c),K.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(i=>{const o=this.Xr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return K.forEach(t.mutations,o=>{const l=new xt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new xt(t,0),o=this.Zr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.ri=e,this.docs=function(){return new it(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let i=$r();return t.forEach(o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():Kt.newInvalidDocument(o))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=$r();const c=t.path,f=new ye(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||EI(wI(v),i)<=0||(o.has(v.key)||eh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return K.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ee(9500)}ii(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new GP(this)}getSize(e){return K.resolve(this.size)}}class GP extends UP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.persistence=e,this.si=new Ss(t=>wp(t),Ep),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new xp,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,t){return this.si.forEach((i,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.si.forEach((c,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),K.waitFor(l).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(c=>{l.push(o.markPotentiallyOrphaned(e,c))}),K.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Qc(0),this.li=!1,this.li=!0,this.hi=new WP,this.referenceDelegate=e(this),this.Pi=new QP(this),this.indexManager=new DP,this.remoteDocumentCache=function(o){return new qP(o)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new VP(t),this.Ii=new $P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new HP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new KP(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){le("MemoryPersistence","Starting transaction:",e);const o=new XP(this.ci.next());return this.referenceDelegate.Ei(),i(o).next(l=>this.referenceDelegate.di(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ai(e,t){return K.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class XP extends SI{constructor(e){super(),this.currentSequenceNumber=e}}class Rp{constructor(e){this.persistence=e,this.Ri=new xp,this.Vi=null}static mi(e){return new Rp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.fi.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,i=>{const o=ye.fromPath(i);return this.gi(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nc{constructor(e,t){this.persistence=e,this.pi=new Ss(i=>PI(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=jP(this,t)}static mi(e,t){return new Nc(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return K.forEach(this.pi,(i,o)=>this.br(e,i,o).next(l=>l?K.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,c=>this.br(e,c,t).next(f=>{f||(i++,l.removeEntry(c,Se.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=hc(e.data.value)),t}br(e,t,i){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=o}static As(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new kp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return BS()?8:AI(Yn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ys(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ws(e,t,o,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new YP;return this.Ss(e,t,c).next(f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)})}).next(()=>l.result)}bs(e,t,i,o){return i.documentReadCount<this.fs?(wo()<=Re.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(wo()<=Re.DEBUG&&le("QueryEngine","Query:",Eo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.gs*o?(wo()<=Re.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(t))):K.resolve())}ys(e,t){if(Ev(t))return K.resolve(null);let i=fr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Md(t,null,"F"),i=fr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Ve(...l);return this.ps.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,i).next(p=>{const m=this.Ds(t,f);return this.Cs(t,m,c,p.readTime)?this.ys(e,Md(t,null,"F")):this.vs(e,m,t,p)}))})))}ws(e,t,i,o){return Ev(t)||o.isEqual(Se.min())?K.resolve(null):this.ps.getDocuments(e,i).next(l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,o)?K.resolve(null):(wo()<=Re.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(t)),this.vs(e,c,t,_I(o,hl)).next(f=>f))})}Ds(e,t){let i=new Tt(lw(e));return t.forEach((o,l)=>{eh(e,l)&&(i=i.add(l))}),i}Cs(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,i){return wo()<=Re.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ai.min(),i)}vs(e,t,i,o){return this.ps.getDocumentsMatchingQuery(e,i,o).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",ZP=3e8;class eC{constructor(e,t,i,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new it(ke),this.xs=new Ss(l=>wp(l),Ep),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function tC(n,e,t,i){return new eC(n,e,t,i)}async function Vw(n,e){const t=Ie(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],f=[];let p=Ve();for(const m of o){c.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){f.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next(m=>({Ls:m,removedBatchIds:c,addedBatchIds:f}))})})}function nC(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,p,m,v){const w=m.batch,T=w.keys();let I=K.resolve();return T.forEach(b=>{I=I.next(()=>v.getEntry(p,b)).next(O=>{const L=m.docVersions.get(b);Be(L!==null,48541),O.version.compareTo(L)<0&&(w.applyToRemoteDocument(O,m),O.isValidDocument()&&(O.setReadTime(m.commitVersion),v.addEntry(O)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Ve();for(let m=0;m<f.mutationResults.length;++m)f.mutationResults[m].transformResults.length>0&&(p=p.add(f.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function Nw(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function rC(n,e){const t=Ie(n),i=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const f=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;f.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(l,v.addedDocuments,w)));let I=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?I=I.withResumeToken(Ft.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,i)),o=o.insert(w,I),function(O,L,W){return O.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=ZP?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,I,v)&&f.push(t.Pi.updateTargetData(l,I))});let p=$r(),m=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(iC(l,c,e.documentUpdates).next(v=>{p=v.ks,m=v.qs})),!i.isEqual(Se.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next(w=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(v)}return K.waitFor(f).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ms=o,l))}function iC(n,e,t){let i=Ve(),o=Ve();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=$r();return t.forEach((f,p)=>{const m=l.get(f);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(f,p.readTime),c=c.insert(f,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(f,p)):le(Vp,"Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",p.version)}),{ks:c,qs:o}})}function sC(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=yp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function oC(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Pi.getTargetData(i,e).next(l=>l?(o=l,K.resolve(o)):t.Pi.allocateTargetId(i).next(c=>(o=new vi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ms.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Ud(n,e,t){const i=Ie(n),o=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!Ko(c))throw c;le(Vp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(o.target)}function bv(n,e,t){const i=Ie(n);let o=Se.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,v){const w=Ie(p),T=w.xs.get(v);return T!==void 0?K.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,v)}(i,c,fr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,f.targetId).next(p=>{l=p})}).next(()=>i.Fs.getDocumentsMatchingQuery(c,e,t?o:Se.min(),t?l:Ve())).next(f=>(aC(i,KI(e),f),{documents:f,Qs:l})))}function aC(n,e,t){let i=n.Os.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Os.set(e,i)}class Mv{constructor(){this.activeTargetIds=JI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this.Mo=new Mv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Mv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="ConnectivityMonitor";class Ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(Lv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(Lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function Bd(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd="RestConnection",cC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${o}`,this.Wo=this.databaseId.database===Ic?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Go(e,t,i,o,l){const c=Bd(),f=this.zo(e,t.toUriEncodedString());le(sd,`Sending RPC '${e}' ${c}:`,f,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:m}=new URL(f),v=Tl(m);return this.Jo(e,f,p,i,v).then(w=>(le(sd,`Received RPC '${e}' ${c}: `,w),w),w=>{throw bo(sd,`RPC '${e}' ${c} failed with error: `,w,"url: ",f,"request:",i),w})}Ho(e,t,i,o,l,c){return this.Go(e,t,i,o,l)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),i&&i.headers.forEach((o,l)=>e[l]=o)}zo(e,t){const i=cC[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class dC extends hC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,o,l){const c=Bd();return new Promise((f,p)=>{const m=new L_;m.setWithCredentials(!0),m.listenOnce(O_.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case cc.NO_ERROR:const w=m.getResponseJson();le($t,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case cc.TIMEOUT:le($t,`RPC '${e}' ${c} timed out`),p(new de(Q.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const T=m.getStatus();if(le($t,`RPC '${e}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let I=m.getResponseJson();Array.isArray(I)&&(I=I[0]);const b=I?.error;if(b&&b.status&&b.message){const O=function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(G)>=0?G:Q.UNKNOWN}(b.status);p(new de(O,b.message))}else p(new de(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new de(Q.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le($t,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(o);le($t,`RPC '${e}' ${c} sending request:`,o),m.send(t,"POST",v,i,15)})}T_(e,t,i){const o=Bd(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=U_(),f=j_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");le($t,`Creating RPC '${e}' stream ${o}: ${v}`,p);const w=c.createWebChannel(v,p);this.I_(w);let T=!1,I=!1;const b=new fC({Yo:L=>{I?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(le($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),le($t,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Zo:()=>w.close()}),O=(L,W,G)=>{L.listen(W,J=>{try{G(J)}catch(se){setTimeout(()=>{throw se},0)}})};return O(w,Ka.EventType.OPEN,()=>{I||(le($t,`RPC '${e}' stream ${o} transport opened.`),b.o_())}),O(w,Ka.EventType.CLOSE,()=>{I||(I=!0,le($t,`RPC '${e}' stream ${o} transport closed`),b.a_(),this.E_(w))}),O(w,Ka.EventType.ERROR,L=>{I||(I=!0,bo($t,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),b.a_(new de(Q.UNAVAILABLE,"The operation could not be completed")))}),O(w,Ka.EventType.MESSAGE,L=>{if(!I){const W=L.data[0];Be(!!W,16349);const G=W,J=G?.error||G[0]?.error;if(J){le($t,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let ie=function(A){const C=dt[A];if(C!==void 0)return _w(C)}(se),ue=J.message;ie===void 0&&(ie=Q.INTERNAL,ue="Unknown error status: "+se+" with message "+J.message),I=!0,b.a_(new de(ie,ue)),w.close()}else le($t,`RPC '${e}' stream ${o} received:`,W),b.u_(W)}}),O(f,F_.STAT_EVENT,L=>{L.stat===Rd.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Rd.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function od(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(n){return new yP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-i);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="PersistentStream";class bw{constructor(e,t,i,o,l,c,f,p){this.Mi=e,this.S_=i,this.b_=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.D_===t&&this.G_(i,o)},i=>{e(()=>{const o=new de(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(o)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{i(()=>this.z_(o))}),this.stream.onMessage(o=>{i(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(Fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pC extends bw{constructor(e,t,i,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=wP(this.serializer,e),i=function(l){if(!("targetChange"in l))return Se.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Se.min():c.readTime?dr(c.readTime):Se.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=jd(this.serializer),t.addTarget=function(l,c){let f;const p=c.target;if(f=bd(p)?{documents:SP(l,p)}:{query:AP(l,p).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Tw(l,c.resumeToken);const m=Ld(l,c.expectedCount);m!==null&&(f.expectedCount=m)}else if(c.snapshotVersion.compareTo(Se.min())>0){f.readTime=Vc(l,c.snapshotVersion.toTimestamp());const m=Ld(l,c.expectedCount);m!==null&&(f.expectedCount=m)}return f}(this.serializer,e);const i=PP(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=jd(this.serializer),t.removeTarget=e,this.q_(t)}}class mC extends bw{constructor(e,t,i,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=TP(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=jd(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>EP(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class yC extends gC{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Go(e,Od(t,i),o,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Q.UNKNOWN,l.toString())})}Ho(e,t,i,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Ho(e,Od(t,i),o,c,f,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(Q.UNKNOWN,c.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class vC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="RemoteStore";class _C{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(c=>{i.enqueueAndForget(async()=>{As(this)&&(le(Ts,"Restarting streams for network reachability change."),await async function(p){const m=Ie(p);m.Ea.add(4),await Cl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await sh(m)}(this))})}),this.Ra=new vC(i,o)}}async function sh(n){if(As(n))for(const e of n.da)await e(!0)}async function Cl(n){for(const e of n.da)await e(!1)}function Mw(n,e){const t=Ie(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Mp(t)?bp(t):qo(t).O_()&&Dp(t,e))}function Np(n,e){const t=Ie(n),i=qo(t);t.Ia.delete(e),i.O_()&&Lw(t,e),t.Ia.size===0&&(i.O_()?i.L_():As(t)&&t.Ra.set("Unknown"))}function Dp(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qo(n).Y_(e)}function Lw(n,e){n.Va.Ue(e),qo(n).Z_(e)}function bp(n){n.Va=new dP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),qo(n).start(),n.Ra.ua()}function Mp(n){return As(n)&&!qo(n).x_()&&n.Ia.size>0}function As(n){return Ie(n).Ea.size===0}function Ow(n){n.Va=void 0}async function wC(n){n.Ra.set("Online")}async function EC(n){n.Ia.forEach((e,t)=>{Dp(n,e)})}async function TC(n,e){Ow(n),Mp(n)?(n.Ra.ha(e),bp(n)):n.Ra.set("Unknown")}async function SC(n,e,t){if(n.Ra.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await async function(o,l){const c=l.cause;for(const f of l.targetIds)o.Ia.has(f)&&(await o.remoteSyncer.rejectListen(f,c),o.Ia.delete(f),o.Va.removeTarget(f))}(n,e)}catch(i){le(Ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Dc(n,i)}else if(e instanceof pc?n.Va.Ze(e):e instanceof ww?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const i=await Nw(n.localStore);t.compareTo(i)>=0&&await function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,c))}}),f.targetMismatches.forEach((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(Ft.EMPTY_BYTE_STRING,v.snapshotVersion)),Lw(l,p);const w=new vi(v.target,p,m,v.sequenceNumber);Dp(l,w)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(i){le(Ts,"Failed to raise snapshot:",i),await Dc(n,i)}}async function Dc(n,e,t){if(!Ko(e))throw e;n.Ea.add(1),await Cl(n),n.Ra.set("Offline"),t||(t=()=>Nw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Ts,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await sh(n)})}function Fw(n,e){return e().catch(t=>Dc(n,t,e))}async function oh(n){const e=Ie(n),t=xi(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yp;for(;AC(e);)try{const o=await sC(e.localStore,i);if(o===null){e.Ta.length===0&&t.L_();break}i=o.batchId,IC(e,o)}catch(o){await Dc(e,o)}jw(e)&&Uw(e)}function AC(n){return As(n)&&n.Ta.length<10}function IC(n,e){n.Ta.push(e);const t=xi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function jw(n){return As(n)&&!xi(n).x_()&&n.Ta.length>0}function Uw(n){xi(n).start()}async function PC(n){xi(n).ra()}async function CC(n){const e=xi(n);for(const t of n.Ta)e.ea(t.mutations)}async function xC(n,e,t){const i=n.Ta.shift(),o=Ip.from(i,e,t);await Fw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await oh(n)}async function RC(n,e){e&&xi(n).X_&&await async function(i,o){if(function(c){return cP(c)&&c!==Q.ABORTED}(o.code)){const l=i.Ta.shift();xi(i).B_(),await Fw(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o)),await oh(i)}}(n,e),jw(n)&&Uw(n)}async function jv(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),le(Ts,"RemoteStore received new credentials");const i=As(t);t.Ea.add(3),await Cl(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await sh(t)}async function kC(n,e){const t=Ie(n);e?(t.Ea.delete(2),await sh(t)):e||(t.Ea.add(2),await Cl(t),t.Ra.set("Unknown"))}function qo(n){return n.ma||(n.ma=function(t,i,o){const l=Ie(t);return l.sa(),new pC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:wC.bind(null,n),t_:EC.bind(null,n),r_:TC.bind(null,n),H_:SC.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),Mp(n)?bp(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ow(n))})),n.ma}function xi(n){return n.fa||(n.fa=function(t,i,o){const l=Ie(t);return l.sa(),new mC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:PC.bind(null,n),r_:RC.bind(null,n),ta:CC.bind(null,n),na:xC.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await oh(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Ts,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const c=Date.now()+i,f=new Lp(e,t,c,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Op(n,e){if(zr("AsyncQueue",`${e}: ${n}`),Ko(n))return new de(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ye.comparator(t.key,i.key):(t,i)=>ye.comparator(t.key,i.key),this.keyedMap=qa(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(){this.ga=new it(ye.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class jo{constructor(e,t,i,o,l,c,f,p,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,l){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new jo(e,t,Ro.emptySet(t),c,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NC{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const o=Ie(t),l=o.queries;o.queries=Bv(),l.forEach((c,f)=>{for(const p of f.Sa)p.onError(i)})})(this,new de(Q.ABORTED,"Firestore shutting down"))}}function Bv(){return new Ss(n=>aw(n),Zc)}async function Bw(n,e){const t=Ie(n);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(i=2):(l=new VC,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const f=Op(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Fp(t)}async function zw(n,e){const t=Ie(n),i=e.query;let o=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function DC(n,e){const t=Ie(n);let i=!1;for(const o of e){const l=o.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(o)&&(i=!0);c.wa=o}}i&&Fp(t)}function bC(n,e,t){const i=Ie(n),o=i.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);i.queries.delete(e)}function Fp(n){n.Ca.forEach(e=>{e.next()})}var zd,zv;(zv=zd||(zd={})).Ma="default",zv.Cache="cache";class $w{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class MC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=lw(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new Uv,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),I=eh(this.query,w)?w:null,b=!!T&&this.mutatedKeys.has(T.key),O=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let L=!1;T&&I?T.data.isEqual(I.data)?b!==O&&(i.track({type:3,doc:I}),L=!0):this.su(T,I)||(i.track({type:2,doc:I}),L=!0,(p&&this.eu(I,p)>0||m&&this.eu(I,m)<0)&&(f=!0)):!T&&I?(i.track({type:0,doc:I}),L=!0):T&&!I&&(i.track({type:1,doc:T}),L=!0,(p||m)&&(f=!0)),L&&(I?(c=c.add(I),l=O?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort((v,w)=>function(I,b){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:L})}};return O(I)-O(b)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(i),o=o??!1;const f=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,c.length!==0||m?{snapshot:new jo(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new Ww(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new Hw(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const jp="SyncEngine";class LC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OC{constructor(e){this.key=e,this.hu=!1}}class FC{constructor(e,t,i,o,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ss(f=>aw(f),Zc),this.Iu=new Map,this.Eu=new Set,this.du=new it(ye.comparator),this.Au=new Map,this.Ru=new xp,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jC(n,e,t=!0){const i=Yw(n);let o;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await Kw(i,e,t,!0),o}async function UC(n,e){const t=Yw(n);await Kw(t,e,!0,!1)}async function Kw(n,e,t,i){const o=await oC(n.localStore,fr(e)),l=o.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await BC(n,e,l,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&Mw(n.remoteStore,o),f}async function BC(n,e,t,i,o){n.pu=(w,T,I)=>async function(O,L,W,G){let J=L.view.ru(W);J.Cs&&(J=await bv(O.localStore,L.query,!1).then(({documents:k})=>L.view.ru(k,J)));const se=G&&G.targetChanges.get(L.targetId),ie=G&&G.targetMismatches.get(L.targetId)!=null,ue=L.view.applyChanges(J,O.isPrimaryClient,se,ie);return Hv(O,L.targetId,ue.au),ue.snapshot}(n,w,T,I);const l=await bv(n.localStore,e,!0),c=new MC(e,l.Qs),f=c.ru(l.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(f,n.isPrimaryClient,p);Hv(n,t,m.au);const v=new LC(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function zC(n,e,t){const i=Ie(n),o=i.Tu.get(e),l=i.Iu.get(o.targetId);if(l.length>1)return i.Iu.set(o.targetId,l.filter(c=>!Zc(c,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Np(i.remoteStore,o.targetId),$d(i,o.targetId)}).catch(Wo)):($d(i,o.targetId),await Ud(i.localStore,o.targetId,!0))}async function $C(n,e){const t=Ie(n),i=t.Tu.get(e),o=t.Iu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Np(t.remoteStore,i.targetId))}async function HC(n,e,t){const i=YC(n);try{const o=await function(c,f){const p=Ie(c),m=Xe.now(),v=f.reduce((I,b)=>I.add(b.key),Ve());let w,T;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let b=$r(),O=Ve();return p.Ns.getEntries(I,v).next(L=>{b=L,b.forEach((W,G)=>{G.isValidDocument()||(O=O.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,b)).next(L=>{w=L;const W=[];for(const G of f){const J=sP(G,w.get(G.key).overlayedDocument);J!=null&&W.push(new bi(G.key,J,ew(J.value.mapValue),Dn.exists(!0)))}return p.mutationQueue.addMutationBatch(I,m,W,f)}).next(L=>{T=L;const W=L.applyToLocalDocumentSet(w,O);return p.documentOverlayCache.saveOverlays(I,L.batchId,W)})}).then(()=>({batchId:T.batchId,changes:cw(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,f,p){let m=c.Vu[c.currentUser.toKey()];m||(m=new it(ke)),m=m.insert(f,p),c.Vu[c.currentUser.toKey()]=m}(i,o.batchId,t),await xl(i,o.changes),await oh(i.remoteStore)}catch(o){const l=Op(o,"Failed to persist write");t.reject(l)}}async function qw(n,e){const t=Ie(n);try{const i=await rC(t.localStore,e);e.targetChanges.forEach((o,l)=>{const c=t.Au.get(l);c&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Be(c.hu,14607):o.removedDocuments.size>0&&(Be(c.hu,42227),c.hu=!1))}),await xl(t,i,e)}catch(i){await Wo(i)}}function $v(n,e,t){const i=Ie(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Tu.forEach((l,c)=>{const f=c.view.va(e);f.snapshot&&o.push(f.snapshot)}),function(c,f){const p=Ie(c);p.onlineState=f;let m=!1;p.queries.forEach((v,w)=>{for(const T of w.Sa)T.va(f)&&(m=!0)}),m&&Fp(p)}(i.eventManager,e),o.length&&i.Pu.H_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WC(n,e,t){const i=Ie(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Au.get(e),l=o&&o.key;if(l){let c=new it(ye.comparator);c=c.insert(l,Kt.newNoDocument(l,Se.min()));const f=Ve().add(l),p=new rh(Se.min(),new Map,new it(ke),c,f);await qw(i,p),i.du=i.du.remove(l),i.Au.delete(e),Up(i)}else await Ud(i.localStore,e,!1).then(()=>$d(i,e,t)).catch(Wo)}async function KC(n,e){const t=Ie(n),i=e.batch.batchId;try{const o=await nC(t.localStore,e);Qw(t,i,null),Gw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await xl(t,o)}catch(o){await Wo(o)}}async function qC(n,e,t){const i=Ie(n);try{const o=await function(c,f){const p=Ie(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return p.mutationQueue.lookupMutationBatch(m,f).next(w=>(Be(w!==null,37113),v=w.keys(),p.mutationQueue.removeMutationBatch(m,w))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>p.localDocuments.getDocuments(m,v))})}(i.localStore,e);Qw(i,e,t),Gw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await xl(i,o)}catch(o){await Wo(o)}}function Gw(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Qw(n,e,t){const i=Ie(n);let o=i.Vu[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Vu[i.currentUser.toKey()]=o}}function $d(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||Xw(n,i)})}function Xw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Np(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Up(n))}function Hv(n,e,t){for(const i of t)i instanceof Hw?(n.Ru.addReference(i.key,e),GC(n,i)):i instanceof Ww?(le(jp,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||Xw(n,i.key)):Ee(19791,{wu:i})}function GC(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(le(jp,"New document in limbo: "+t),n.Eu.add(i),Up(n))}function Up(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Qe.fromString(e)),i=n.fu.next();n.Au.set(i,new OC(t)),n.du=n.du.insert(t,i),Mw(n.remoteStore,new vi(fr(Tp(t.path)),i,"TargetPurposeLimboResolution",Qc.ce))}}async function xl(n,e,t){const i=Ie(n),o=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach((f,p)=>{c.push(i.pu(p,e,t).then(m=>{if((m||t)&&i.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){o.push(m);const v=kp.As(p.targetId,m);l.push(v)}}))}),await Promise.all(c),i.Pu.H_(o),await async function(p,m){const v=Ie(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(m,T=>K.forEach(T.Es,I=>v.persistence.referenceDelegate.addReference(w,T.targetId,I)).next(()=>K.forEach(T.ds,I=>v.persistence.referenceDelegate.removeReference(w,T.targetId,I)))))}catch(w){if(!Ko(w))throw w;le(Vp,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const I=v.Ms.get(T),b=I.snapshotVersion,O=I.withLastLimboFreeSnapshotVersion(b);v.Ms=v.Ms.insert(T,O)}}}(i.localStore,l))}async function QC(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){le(jp,"User change. New user:",e.toKey());const i=await Vw(t.localStore,e);t.currentUser=e,function(l,c){l.mu.forEach(f=>{f.forEach(p=>{p.reject(new de(Q.CANCELLED,c))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xl(t,i.Ls)}}function XC(n,e){const t=Ie(n),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let o=Ve();const l=t.Iu.get(e);if(!l)return o;for(const c of l){const f=t.Tu.get(c);o=o.unionWith(f.view.nu)}return o}}function Yw(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WC.bind(null,e),e.Pu.H_=DC.bind(null,e.eventManager),e.Pu.yu=bC.bind(null,e.eventManager),e}function YC(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qC.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return tC(this.persistence,new JP,e.initialUser,this.serializer)}Cu(e){return new kw(Rp.mi,this.serializer)}Du(e){return new lC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class JC extends bc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof Nc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OP(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new kw(i=>Nc.mi(i,t),this.serializer)}}class Hd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$v(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QC.bind(null,this.syncEngine),await kC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NC}()}createDatastore(e){const t=ih(e.databaseInfo.databaseId),i=function(l){return new dC(l)}(e.databaseInfo);return function(l,c,f,p){return new yC(l,c,f,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,l,c,f){return new _C(i,o,l,c,f)}(this.localStore,this.datastore,e.asyncQueue,t=>$v(this.syncEngine,t,0),function(){return Ov.v()?new Ov:new uC}())}createSyncEngine(e,t){return function(o,l,c,f,p,m,v){const w=new FC(o,l,c,f,p,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=Ie(t);le(Ts,"RemoteStore shutting down."),i.Ea.add(5),await Cl(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class ZC{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{le(Ri,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(le(Ri,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Op(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ad(n,e){n.asyncQueue.verifyOperationInProgress(),le(Ri,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await Vw(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Wv(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ex(n);le(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>jv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>jv(e.remoteStore,o)),n._onlineComponents=e}async function ex(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le(Ri,"Using user provided OfflineComponentProvider");try{await ad(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;bo("Error using user provided cache. Falling back to memory cache: "+t),await ad(n,new bc)}}else le(Ri,"Using default OfflineComponentProvider"),await ad(n,new JC(void 0));return n._offlineComponents}async function Zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le(Ri,"Using user provided OnlineComponentProvider"),await Wv(n,n._uninitializedComponentsProvider._online)):(le(Ri,"Using default OnlineComponentProvider"),await Wv(n,new Hd))),n._onlineComponents}function tx(n){return Zw(n).then(e=>e.syncEngine)}async function eE(n){const e=await Zw(n),t=e.eventManager;return t.onListen=jC.bind(null,e.syncEngine),t.onUnlisten=zC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$C.bind(null,e.syncEngine),t}function nx(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const v=new Jw({next:T=>{v.Nu(),c.enqueueAndForget(()=>zw(l,w));const I=T.docs.has(f);!I&&T.fromCache?m.reject(new de(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&p&&p.source==="server"?m.reject(new de(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new $w(Tp(f.path),v,{includeMetadataChanges:!0,qa:!0});return Bw(l,w)}(await eE(n),n.asyncQueue,e,t,i)),i.promise}function rx(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,f,p,m){const v=new Jw({next:T=>{v.Nu(),c.enqueueAndForget(()=>zw(l,w)),T.fromCache&&p.source==="server"?m.reject(new de(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new $w(f,v,{includeMetadataChanges:!0,qa:!0});return Bw(l,w)}(await eE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firestore.googleapis.com",qv=!0;class Gv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nE,this.ssl=qv}else this.host=e.host,this.ssl=e.ssl??qv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MP)throw new de(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new de(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ah{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lI;switch(i.type){case"firstParty":return new fI(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Kv.get(t);i&&(le("ComponentProvider","Removing Datastore"),Kv.delete(t),i.terminate())}(this),Promise.resolve()}}function ix(n,e,t,i={}){n=Jn(n,ah);const o=Tl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;o&&(VS(`https://${f}`),MS("Firestore",!0)),l.host!==nE&&l.host!==f&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:f,ssl:o,emulatorOptions:i};if(!Tc(p,c)&&(n._setSettings(p),i.mockUserToken)){let m,v;if(typeof i.mockUserToken=="string")m=i.mockUserToken,v=Wt.MOCK_USER;else{m=NS(i.mockUserToken,n._app?.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new de(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(w)}n._authCredentials=new uI(new z_(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new lh(this.firestore,e,this._query)}}class mt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Al(t,mt._jsonSchema))return new mt(e,i||null,new ye(Qe.fromString(t.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class Si extends lh{constructor(e,t,i){super(e,t,Tp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function rE(n,e,...t){if(n=bn(n),$_("collection","path",e),n instanceof ah){const i=Qe.fromString(e,...t);return lv(i),new Si(n,null,i)}{if(!(n instanceof mt||n instanceof Si))throw new de(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qe.fromString(e,...t));return lv(i),new Si(n.firestore,null,i)}}function Uo(n,e,...t){if(n=bn(n),arguments.length===1&&(e=mp.newId()),$_("doc","path",e),n instanceof ah){const i=Qe.fromString(e,...t);return av(i),new mt(n,null,new ye(i))}{if(!(n instanceof mt||n instanceof Si))throw new de(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qe.fromString(e,...t));return av(i),new mt(n.firestore,n instanceof Si?n.converter:null,new ye(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="AsyncQueue";class Xv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const i=od();i&&le(Qv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=od();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=od();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Fr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;le(Qv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",Yv(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Lp.createAndSchedule(this,e,t,i,l=>this.hc(l));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Yv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Is extends ah{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function sx(n,e){const t=typeof n=="object"?n:QA(),i=typeof n=="string"?n:Ic,o=KA(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=xS("firestore");l&&ix(o,...l)}return o}function Bp(n){if(n._terminated)throw new de(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ox(n),n._firestoreClient}function ox(n){const e=n._freezeSettings(),t=function(o,l,c,f){return new RI(o,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,tE(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new ZC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nn(Ft.fromBase64String(e))}catch(t){throw new de(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Nn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Al(e,Nn._jsonSchema))return Nn.fromBase64String(e.bytes)}}Nn._jsonSchemaVersion="firestore/bytes/1.0",Nn._jsonSchema={type:pt("string",Nn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(Al(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:pt("string",pr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Al(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new mr(e.vectorValues);throw new de(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:pt("string",mr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=/^__.*__$/;class lx{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Il(e,this.data,t,this.fieldTransforms)}}class iE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class $p{constructor(e,t,i,o,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $p({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Mc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sE(this.Ac)&&ax.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ux{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ih(e)}Cc(e,t,i,o=!1){return new $p({Ac:e,methodName:t,Dc:i,path:Ot.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(n){const e=n._freezeSettings(),t=ih(n._databaseId);return new ux(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oE(n,e,t,i,o,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,o);Wp("Data must be an object, but it was:",c,i);const f=aE(i,c);let p,m;if(l.merge)p=new yn(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const w of l.mergeFields){const T=Wd(e,w,t);if(!c.contains(T))throw new de(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);uE(v,T)||v.push(T)}p=new yn(v),m=c.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,m=c.fieldTransforms;return new lx(new un(f),p,m)}class ch extends zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ch}}function cx(n,e,t,i){const o=n.Cc(1,e,t);Wp("Data must be an object, but it was:",o,i);const l=[],c=un.empty();Di(i,(p,m)=>{const v=Kp(e,p,t);m=bn(m);const w=o.yc(v);if(m instanceof ch)l.push(v);else{const T=hh(m,w);T!=null&&(l.push(v),c.set(v,T))}});const f=new yn(l);return new iE(c,f,o.fieldTransforms)}function hx(n,e,t,i,o,l){const c=n.Cc(1,e,t),f=[Wd(e,i,t)],p=[o];if(l.length%2!=0)throw new de(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(Wd(e,l[T])),p.push(l[T+1]);const m=[],v=un.empty();for(let T=f.length-1;T>=0;--T)if(!uE(m,f[T])){const I=f[T];let b=p[T];b=bn(b);const O=c.yc(I);if(b instanceof ch)m.push(I);else{const L=hh(b,O);L!=null&&(m.push(I),v.set(I,L))}}const w=new yn(m);return new iE(v,w,c.fieldTransforms)}function hh(n,e){if(lE(n=bn(n)))return Wp("Unsupported field value:",e,n),aE(n,e);if(n instanceof zp)return function(i,o){if(!sE(o.Ac))throw o.Sc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,o){const l=[];let c=0;for(const f of i){let p=hh(f,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,o){if((i=bn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ZI(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Xe.fromDate(i);return{timestampValue:Vc(o.serializer,l)}}if(i instanceof Xe){const l=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Vc(o.serializer,l)}}if(i instanceof pr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Nn)return{bytesValue:Tw(o.serializer,i._byteString)};if(i instanceof mt){const l=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Cp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof mr)return function(c,f){return{mapValue:{fields:{[J_]:{stringValue:Z_},[Pc]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw f.Sc("VectorValues must only contain numeric values.");return Sp(f.serializer,m)})}}}}}}(i,o);throw o.Sc(`Unsupported field value: ${gp(i)}`)}(n,e)}function aE(n,e){const t={};return K_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(n,(i,o)=>{const l=hh(o,e.mc(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function lE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof pr||n instanceof Nn||n instanceof mt||n instanceof zp||n instanceof mr)}function Wp(n,e,t){if(!lE(t)||!H_(t)){const i=gp(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Wd(n,e,t){if((e=bn(e))instanceof uh)return e._internalPath;if(typeof e=="string")return Kp(n,e);throw Mc("Field path arguments must be of type string or ",n,!1,void 0,t)}const fx=new RegExp("[~\\*/\\[\\]]");function Kp(n,e,t){if(e.search(fx)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uh(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mc(n,e,t,i,o){const l=i&&!i.isEmpty(),c=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new de(Q.INVALID_ARGUMENT,f+n+p)}function uE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new dx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class dx extends cE{data(){return super.data()}}function hE(n,e){return typeof e=="string"?Kp(n,e):e instanceof uh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function px(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mx{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Di(e,(o,l)=>{i[o]=this.convertValue(l,t)}),i}convertVectorValue(e){const t=e.fields?.[Pc].arrayValue?.values?.map(i=>ct(i.doubleValue));return new mr(t)}convertGeoPoint(e){return new pr(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Yc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=Ii(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Qe.fromString(e);Be(xw(i),9688,{name:e});const o=new dl(i.get(1),i.get(3)),l=new ye(i.popFirst(5));return o.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends cE{constructor(e,t,i,o,l,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(hE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=vs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:pt("string",vs._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class mc extends vs{data(e={}){return super.data(e)}}class ko{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Qa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new mc(this._firestore,this._userDataWriter,i.key,i,new Qa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>{const p=new mc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new mc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Qa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return f.type!==0&&(m=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:gx(f.type),doc:p,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n){n=Jn(n,mt);const e=Jn(n.firestore,Is);return nx(Bp(e),n._key).then(t=>Tx(e,n,t))}ko._jsonSchemaVersion="firestore/querySnapshot/1.0",ko._jsonSchema={type:pt("string",ko._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class dE extends mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,t)}}function yx(n){n=Jn(n,lh);const e=Jn(n.firestore,Is),t=Bp(e),i=new dE(e);return px(n._query),rx(t,n._query).then(o=>new ko(e,i,n,o))}function vx(n,e,t){n=Jn(n,mt);const i=Jn(n.firestore,Is),o=fE(n.converter,e);return fh(i,[oE(Hp(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Dn.none())])}function _x(n,e,t,...i){n=Jn(n,mt);const o=Jn(n.firestore,Is),l=Hp(o);let c;return c=typeof(e=bn(e))=="string"||e instanceof uh?hx(l,"updateDoc",n._key,e,t,i):cx(l,"updateDoc",n._key,e),fh(o,[c.toMutation(n._key,Dn.exists(!0))])}function wx(n){return fh(Jn(n.firestore,Is),[new Ap(n._key,Dn.none())])}function Ex(n,e){const t=Jn(n.firestore,Is),i=Uo(n),o=fE(n.converter,e);return fh(t,[oE(Hp(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Dn.exists(!1))]).then(()=>i)}function fh(n,e){return function(i,o){const l=new Fr;return i.asyncQueue.enqueueAndForget(async()=>HC(await tx(i),o,l)),l.promise}(Bp(n),e)}function Tx(n,e,t){const i=t.docs.get(e._key),o=new dE(n);return new vs(n,o,e._key,i,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ho=o})(Gc),Do(new ws("firestore",(i,{instanceIdentifier:o,options:l})=>{const c=i.getProvider("app").getImmediate(),f=new Is(new cI(i.getProvider("auth-internal")),new dI(c,i.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dl(m.options.projectId,v)}(c,o),c);return l={useFetchStreams:t,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Ei(rv,iv,e),Ei(rv,iv,"esm2020")})();function pE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sx=pE,mE=new Sl("auth","Firebase",pE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new fp("@firebase/auth");function Ax(n,...e){Lc.logLevel<=Re.WARN&&Lc.warn(`Auth (${Gc}): ${n}`,...e)}function gc(n,...e){Lc.logLevel<=Re.ERROR&&Lc.error(`Auth (${Gc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(n,...e){throw qp(n,...e)}function gE(n,...e){return qp(n,...e)}function yE(n,e,t){const i={...Sx(),[e]:t};return new Sl("auth","Firebase",i).create(e,{appName:n.name})}function yc(n){return yE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return mE.create(n,...e)}function Ue(n,e,...t){if(!n)throw qp(e,...t)}function il(n){const e="INTERNAL ASSERTION FAILED: "+n;throw gc(e),new Error(e)}function Oc(n,e){n||il(e)}function Ix(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ix()||jS()||"connection"in navigator)?navigator.onLine:!0}function Cx(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oc(t>e,"Short delay should be less than long delay!"),this.isMobile=LS()||US()}get(){return Px()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(n,e){Oc(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;il("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;il("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;il("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vx=new Rl(3e4,6e4);function _E(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function dh(n,e,t,i,o={}){return wE(n,o,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const f=R_({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...l};return FS()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Tl(n.emulatorConfig.host)&&(m.credentials="include"),vE.fetch()(await EE(n,n.config.apiHost,t,f),m)})}async function wE(n,e,t){n._canInitEmulator=!1;const i={...Rx,...e};try{const o=new Nx(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw rc(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[p,m]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw rc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw rc(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yE(n,v,m);Zv(n,v)}}catch(o){if(o instanceof Ni)throw o;Zv(n,"network-request-failed",{message:String(o)})}}async function EE(n,e,t,i){const o=`${e}${t}?${i}`,l=n,c=l.config.emulator?xx(n.config,o):`${n.config.apiScheme}://${o}`;return kx.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class Nx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(gE(this.auth,"network-request-failed")),Vx.get())})}}function rc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=gE(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dx(n,e){return dh(n,"POST","/v1/accounts:delete",e)}async function Fc(n,e){return dh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bx(n,e=!1){const t=bn(n),i=await t.getIdToken(e),o=TE(i);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:i,authTime:sl(ld(o.auth_time)),issuedAtTime:sl(ld(o.iat)),expirationTime:sl(ld(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ld(n){return Number(n)*1e3}function TE(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return gc("JWT malformed, contained fewer than 3 sections"),null;try{const o=C_(t);return o?JSON.parse(o):(gc("Failed to decode base64 JWT payload"),null)}catch(o){return gc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function t0(n){const e=TE(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ni&&Mx(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Mx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(n){const e=n.auth,t=await n.getIdToken(),i=await Kd(n,Fc(e,{idToken:t}));Ue(i?.users.length,e,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=o.providerUserInfo?.length?SE(o.providerUserInfo):[],c=Fx(n.providerData,l),f=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!c?.length,m=f?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qd(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function Ox(n){const e=bn(n);await jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Fx(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function SE(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(n,e){const t=await wE(n,{},async()=>{const i=R_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,c=await EE(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return n.emulatorConfig&&Tl(n.emulatorConfig.host)&&(p.credentials="include"),vE.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ux(n,e){return dh(n,"POST","/v2/accounts:revokeToken",_E(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):t0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=t0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await jx(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,c=new Vo;return i&&(Ue(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Ue(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ue(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return il("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class hr{constructor({uid:e,auth:t,stsTokenManager:i,...o}){this.providerId="firebase",this.proactiveRefresh=new Lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Kd(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bx(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await jc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ps(this.auth.app))return Promise.reject(yc(this.auth));const e=await this.getIdToken();return await Kd(this,Dx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:I,providerData:b,stsTokenManager:O}=t;Ue(w&&O,e,"internal-error");const L=Vo.fromJSON(this.name,O);Ue(typeof w=="string",e,"internal-error"),gi(i,e.name),gi(o,e.name),Ue(typeof T=="boolean",e,"internal-error"),Ue(typeof I=="boolean",e,"internal-error"),gi(l,e.name),gi(c,e.name),gi(f,e.name),gi(p,e.name),gi(m,e.name),gi(v,e.name);const W=new hr({uid:w,auth:e,email:o,emailVerified:T,displayName:i,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:L,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(W.providerData=b.map(G=>({...G}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(e,t,i=!1){const o=new Vo;o.updateFromServerResponse(t);const l=new hr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await jc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?SE(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,f=new Vo;f.updateFromIdToken(i);const p=new hr({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new qd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=new Map;function gs(n){Oc(n instanceof Function,"Expected a class definition");let e=n0.get(n);return e?(Oc(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,n0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AE.type="NONE";const r0=AE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n,e,t){return`firebase:${n}:${e}:${t}`}class No{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=ud(this.userKey,o.apiKey,l),this.fullPersistenceKey=ud("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fc(this.auth,{idToken:e}).catch(()=>{});return t?hr._fromGetAccountInfoResponse(this.auth,t,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new No(gs(r0),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||gs(r0);const c=ud(i,e.config.apiKey,e.name);let f=null;for(const m of t)try{const v=await m._get(c);if(v){let w;if(typeof v=="string"){const T=await Fc(e,{idToken:v}).catch(()=>{});if(!T)break;w=await hr._fromGetAccountInfoResponse(e,T,v)}else w=hr._fromJSON(e,v);m!==l&&(f=w),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new No(l,e,i):(l=p[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new No(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Bx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(qx(e))return"Webos";if(zx(e))return"Safari";if((e.includes("chrome/")||$x(e))&&!e.includes("edge/"))return"Chrome";if(Wx(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function Bx(n=Yn()){return/firefox\//i.test(n)}function zx(n=Yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $x(n=Yn()){return/crios\//i.test(n)}function Hx(n=Yn()){return/iemobile/i.test(n)}function Wx(n=Yn()){return/android/i.test(n)}function Kx(n=Yn()){return/blackberry/i.test(n)}function qx(n=Yn()){return/webos/i.test(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(n,e=[]){let t;switch(n){case"Browser":t=i0(Yn());break;case"Worker":t=`${i0(Yn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gc}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,f)=>{try{const p=e(l);c(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(n,e={}){return dh(n,"GET","/v2/passwordPolicy",_E(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=6;class Yx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Xx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new Gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await No.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fc(this,{idToken:e}),i=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ps(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(i=f.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jc(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Cx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ps(this.app))return Promise.reject(yc(this));const t=e?bn(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ps(this.app)?Promise.reject(yc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ps(this.app)?Promise.reject(yc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qx(this),t=new Yx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ux(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(ps(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ax(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zx(n){return bn(n)}class s0{constructor(e){this.auth=e,this.observer=null,this.addObserver=qS(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eR(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(gs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}new Rl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rl(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rl(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rl(5e3,15e3);var o0="@firebase/auth",a0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rR(n){Do(new ws("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ue(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IE(n)},m=new Jx(i,o,l,p);return eR(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Do(new ws("auth-internal",e=>{const t=Zx(e.getProvider("auth").getImmediate());return(i=>new tR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(o0,a0,nR(n)),Ei(o0,a0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=300;RS("authIdTokenMaxAge");rR("Browser");const Gp=ne.createContext({});function Qp(n){const e=ne.useRef(null);return e.current===null&&(e.current=n()),e.current}const ph=ne.createContext(null),Xp=ne.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class sR extends ne.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oR({children:n,isPresent:e}){const t=ne.useId(),i=ne.useRef(null),o=ne.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=ne.useContext(Xp);return ne.useInsertionEffect(()=>{const{width:c,height:f,top:p,left:m}=o.current;if(e||!i.current||!c||!f)return;i.current.dataset.motionPopId=t;const v=document.createElement("style");return l&&(v.nonce=l),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),N.jsx(sR,{isPresent:e,childRef:i,sizeRef:o,children:ne.cloneElement(n,{ref:i})})}const aR=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:o,presenceAffectsLayout:l,mode:c})=>{const f=Qp(lR),p=ne.useId(),m=ne.useCallback(w=>{f.set(w,!0);for(const T of f.values())if(!T)return;i&&i()},[f,i]),v=ne.useMemo(()=>({id:p,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(f.set(w,!1),()=>f.delete(w))}),l?[Math.random(),m]:[t,m]);return ne.useMemo(()=>{f.forEach((w,T)=>f.set(T,!1))},[t]),ne.useEffect(()=>{!t&&!f.size&&i&&i()},[t]),c==="popLayout"&&(n=N.jsx(oR,{isPresent:t,children:n})),N.jsx(ph.Provider,{value:v,children:n})};function lR(){return new Map}function PE(n=!0){const e=ne.useContext(ph);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:o}=e,l=ne.useId();ne.useEffect(()=>{n&&o(l)},[n]);const c=ne.useCallback(()=>n&&i&&i(l),[l,i,n]);return!t&&i?[!1,c]:[!0]}const ic=n=>n.key||"";function l0(n){const e=[];return ne.Children.forEach(n,t=>{ne.isValidElement(t)&&e.push(t)}),e}const Yp=typeof window<"u",CE=Yp?ne.useLayoutEffect:ne.useEffect,xE=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1})=>{const[f,p]=PE(c),m=ne.useMemo(()=>l0(n),[n]),v=c&&!f?[]:m.map(ic),w=ne.useRef(!0),T=ne.useRef(m),I=Qp(()=>new Map),[b,O]=ne.useState(m),[L,W]=ne.useState(m);CE(()=>{w.current=!1,T.current=m;for(let se=0;se<L.length;se++){const ie=ic(L[se]);v.includes(ie)?I.delete(ie):I.get(ie)!==!0&&I.set(ie,!1)}},[L,v.length,v.join("-")]);const G=[];if(m!==b){let se=[...m];for(let ie=0;ie<L.length;ie++){const ue=L[ie],k=ic(ue);v.includes(k)||(se.splice(ie,0,ue),G.push(ue))}l==="wait"&&G.length&&(se=G),W(l0(se)),O(m);return}const{forceRender:J}=ne.useContext(Gp);return N.jsx(N.Fragment,{children:L.map(se=>{const ie=ic(se),ue=c&&!f?!1:m===L||v.includes(ie),k=()=>{if(I.has(ie))I.set(ie,!0);else return;let A=!0;I.forEach(C=>{C||(A=!1)}),A&&(J?.(),W(T.current),c&&p?.(),i&&i())};return N.jsx(aR,{isPresent:ue,initial:!w.current||t?void 0:!1,custom:ue?void 0:e,presenceAffectsLayout:o,mode:l,onExitComplete:ue?void 0:k,children:se},ie)})})},vn=n=>n;let RE=vn;function Jp(n){let e;return()=>(e===void 0&&(e=n()),e)}const Bo=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},jr=n=>n*1e3,Ur=n=>n/1e3,uR={useManualTiming:!1};function cR(n){let e=new Set,t=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(p.schedule(m),n()),m(c)}const p={schedule:(m,v=!1,w=!1)=>{const I=w&&i?e:t;return v&&l.add(m),I.has(m)||I.add(m),m},cancel:m=>{t.delete(m),l.delete(m)},process:m=>{if(c=m,i){o=!0;return}i=!0,[e,t]=[t,e],e.forEach(f),e.clear(),i=!1,o&&(o=!1,p.process(m))}};return p}const sc=["read","resolveKeyframes","update","preRender","render","postRender"],hR=40;function kE(n,e){let t=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=sc.reduce((W,G)=>(W[G]=cR(l),W),{}),{read:f,resolveKeyframes:p,update:m,preRender:v,render:w,postRender:T}=c,I=()=>{const W=performance.now();t=!1,o.delta=i?1e3/60:Math.max(Math.min(W-o.timestamp,hR),1),o.timestamp=W,o.isProcessing=!0,f.process(o),p.process(o),m.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(i=!1,n(I))},b=()=>{t=!0,i=!0,o.isProcessing||n(I)};return{schedule:sc.reduce((W,G)=>{const J=c[G];return W[G]=(se,ie=!1,ue=!1)=>(t||b(),J.schedule(se,ie,ue)),W},{}),cancel:W=>{for(let G=0;G<sc.length;G++)c[sc[G]].cancel(W)},state:o,steps:c}}const{schedule:Ye,cancel:ki,state:Mt,steps:cd}=kE(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0),Zp=ne.createContext({strict:!1}),u0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zo={};for(const n in u0)zo[n]={isEnabled:e=>u0[n].some(t=>!!e[t])};function Gd(n){for(const e in n)zo[e]={...zo[e],...n[e]}}function fR({children:n,features:e,strict:t=!1}){const[,i]=ne.useState(!hd(e)),o=ne.useRef(void 0);if(!hd(e)){const{renderer:l,...c}=e;o.current=l,Gd(c)}return ne.useEffect(()=>{hd(e)&&e().then(({renderer:l,...c})=>{Gd(c),o.current=l,i(!0)})},[]),N.jsx(Zp.Provider,{value:{renderer:o.current,strict:t},children:n})}function hd(n){return typeof n=="function"}const dR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dR.has(n)}let VE=n=>!Uc(n);function pR(n){n&&(VE=e=>e.startsWith("on")?!Uc(e):n(e))}try{pR(require("@emotion/is-prop-valid").default)}catch{}function mR(n,e,t){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(VE(o)||t===!0&&Uc(o)||!e&&!Uc(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function gR(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const mh=ne.createContext({});function yl(n){return typeof n=="string"||Array.isArray(n)}function gh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const em=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tm=["initial",...em];function yh(n){return gh(n.animate)||tm.some(e=>yl(n[e]))}function NE(n){return!!(yh(n)||n.variants)}function yR(n,e){if(yh(n)){const{initial:t,animate:i}=n;return{initial:t===!1||yl(t)?t:void 0,animate:yl(i)?i:void 0}}return n.inherit!==!1?e:{}}function vR(n){const{initial:e,animate:t}=yR(n,ne.useContext(mh));return ne.useMemo(()=>({initial:e,animate:t}),[c0(e),c0(t)])}function c0(n){return Array.isArray(n)?n.join(" "):n}const _R=Symbol.for("motionComponentSymbol");function Ao(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function wR(n,e,t){return ne.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Ao(t)&&(t.current=i))},[e])}const nm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ER="framerAppearId",DE="data-"+nm(ER),{schedule:rm}=kE(queueMicrotask,!1),bE=ne.createContext({});function TR(n,e,t,i,o){var l,c;const{visualElement:f}=ne.useContext(mh),p=ne.useContext(Zp),m=ne.useContext(ph),v=ne.useContext(Xp).reducedMotion,w=ne.useRef(null);i=i||p.renderer,!w.current&&i&&(w.current=i(n,{visualState:e,parent:f,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,I=ne.useContext(bE);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&SR(w.current,t,o,I);const b=ne.useRef(!1);ne.useInsertionEffect(()=>{T&&b.current&&T.update(t,m)});const O=t[DE],L=ne.useRef(!!O&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,O))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,O)));return CE(()=>{T&&(b.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),rm.render(T.render),L.current&&T.animationState&&T.animationState.animateChanges())}),ne.useEffect(()=>{T&&(!L.current&&T.animationState&&T.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,O)}),L.current=!1))}),T}function SR(n,e,t,i){const{layoutId:o,layout:l,drag:c,dragConstraints:f,layoutScroll:p,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:ME(n.parent)),n.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||f&&Ao(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}function ME(n){if(n)return n.options.allowProjection!==!1?n.projection:ME(n.parent)}function AR({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:o}){var l,c;n&&Gd(n);function f(m,v){let w;const T={...ne.useContext(Xp),...m,layoutId:IR(m)},{isStatic:I}=T,b=vR(m),O=i(m,I);if(!I&&Yp){PR();const L=CR(T);w=L.MeasureLayout,b.visualElement=TR(o,O,T,e,L.ProjectionNode)}return N.jsxs(mh.Provider,{value:b,children:[w&&b.visualElement?N.jsx(w,{visualElement:b.visualElement,...T}):null,t(o,m,wR(O,b.visualElement,v),O,I,b.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(c=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&c!==void 0?c:""})`}`;const p=ne.forwardRef(f);return p[_R]=o,p}function IR({layoutId:n}){const e=ne.useContext(Gp).id;return e&&n!==void 0?e+"-"+n:n}function PR(n,e){ne.useContext(Zp).strict}function CR(n){const{drag:e,layout:t}=zo;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const xR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function im(n){return typeof n!="string"||n.includes("-")?!1:!!(xR.indexOf(n)>-1||/[A-Z]/u.test(n))}function h0(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function sm(n,e,t,i){if(typeof e=="function"){const[o,l]=h0(i);e=e(t!==void 0?t:n.custom,o,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,l]=h0(i);e=e(t!==void 0?t:n.custom,o,l)}return e}const Qd=n=>Array.isArray(n),RR=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),kR=n=>Qd(n)?n[n.length-1]||0:n,qt=n=>!!(n&&n.getVelocity);function vc(n){const e=qt(n)?n.get():n;return RR(e)?e.toValue():e}function VR({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,o,l){const c={latestValues:NR(i,o,l,n),renderState:e()};return t&&(c.onMount=f=>t({props:i,current:f,...c}),c.onUpdate=f=>t(f)),c}const LE=n=>(e,t)=>{const i=ne.useContext(mh),o=ne.useContext(ph),l=()=>VR(n,e,i,o);return t?l():Qp(l)};function NR(n,e,t,i){const o={},l=i(n,{});for(const T in l)o[T]=vc(l[T]);let{initial:c,animate:f}=n;const p=yh(n),m=NE(n);e&&m&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),f===void 0&&(f=e.animate));let v=t?t.initial===!1:!1;v=v||c===!1;const w=v?f:c;if(w&&typeof w!="boolean"&&!gh(w)){const T=Array.isArray(w)?w:[w];for(let I=0;I<T.length;I++){const b=sm(n,T[I]);if(b){const{transitionEnd:O,transition:L,...W}=b;for(const G in W){let J=W[G];if(Array.isArray(J)){const se=v?J.length-1:0;J=J[se]}J!==null&&(o[G]=J)}for(const G in O)o[G]=O[G]}}}return o}const Go=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ps=new Set(Go),OE=n=>e=>typeof e=="string"&&e.startsWith(n),FE=OE("--"),DR=OE("var(--"),om=n=>DR(n)?bR.test(n.split("/*")[0].trim()):!1,bR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Hr=(n,e,t)=>t>e?e:t<n?n:t,Qo={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},vl={...Qo,transform:n=>Hr(0,1,n)},oc={...Qo,default:1},kl=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),yi=kl("deg"),gr=kl("%"),we=kl("px"),MR=kl("vh"),LR=kl("vw"),f0={...gr,parse:n=>gr.parse(n)/100,transform:n=>gr.transform(n*100)},OR={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},FR={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:oc,scaleX:oc,scaleY:oc,scaleZ:oc,skew:yi,skewX:yi,skewY:yi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:vl,originX:f0,originY:f0,originZ:we},d0={...Qo,transform:Math.round},am={...OR,...FR,zIndex:d0,size:we,fillOpacity:vl,strokeOpacity:vl,numOctaves:d0},jR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UR=Go.length;function BR(n,e,t){let i="",o=!0;for(let l=0;l<UR;l++){const c=Go[l],f=n[c];if(f===void 0)continue;let p=!0;if(typeof f=="number"?p=f===(c.startsWith("scale")?1:0):p=parseFloat(f)===0,!p||t){const m=jE(f,am[c]);if(!p){o=!1;const v=jR[c]||c;i+=`${v}(${m}) `}t&&(e[c]=m)}}return i=i.trim(),t?i=t(e,o?"":i):o&&(i="none"),i}function lm(n,e,t){const{style:i,vars:o,transformOrigin:l}=n;let c=!1,f=!1;for(const p in e){const m=e[p];if(Ps.has(p)){c=!0;continue}else if(FE(p)){o[p]=m;continue}else{const v=jE(m,am[p]);p.startsWith("origin")?(f=!0,l[p]=v):i[p]=v}}if(e.transform||(c||t?i.transform=BR(e,n.transform,t):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${p} ${m} ${v}`}}const zR={offset:"stroke-dashoffset",array:"stroke-dasharray"},$R={offset:"strokeDashoffset",array:"strokeDasharray"};function HR(n,e,t=1,i=0,o=!0){n.pathLength=1;const l=o?zR:$R;n[l.offset]=we.transform(-i);const c=we.transform(e),f=we.transform(t);n[l.array]=`${c} ${f}`}function p0(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function WR(n,e,t){const i=p0(e,n.x,n.width),o=p0(t,n.y,n.height);return`${i} ${o}`}function um(n,{attrX:e,attrY:t,attrScale:i,originX:o,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:p=0,...m},v,w){if(lm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:I,dimensions:b}=n;T.transform&&(b&&(I.transform=T.transform),delete T.transform),b&&(o!==void 0||l!==void 0||I.transform)&&(I.transformOrigin=WR(b,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),i!==void 0&&(T.scale=i),c!==void 0&&HR(T,c,f,p,!1)}const cm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),UE=()=>({...cm(),attrs:{}}),hm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function BE(n,{style:e,vars:t},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const l in t)n.style.setProperty(l,t[l])}const zE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $E(n,e,t,i){BE(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(zE.has(o)?o:nm(o),e.attrs[o])}const Bc={};function KR(n){Object.assign(Bc,n)}function HE(n,{layout:e,layoutId:t}){return Ps.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Bc[n]||n==="opacity")}function fm(n,e,t){var i;const{style:o}=n,l={};for(const c in o)(qt(o[c])||e.style&&qt(e.style[c])||HE(c,n)||((i=t?.getValue(c))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[c]=o[c]);return l}function WE(n,e,t){const i=fm(n,e,t);for(const o in n)if(qt(n[o])||qt(e[o])){const l=Go.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=n[o]}return i}function qR(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const m0=["x","y","width","height","cx","cy","r"],GR={useVisualState:LE({scrapeMotionValuesFromProps:WE,createRenderState:UE,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:o})=>{if(!t)return;let l=!!n.drag;if(!l){for(const f in o)if(Ps.has(f)){l=!0;break}}if(!l)return;let c=!e;if(e)for(let f=0;f<m0.length;f++){const p=m0[f];n[p]!==e[p]&&(c=!0)}c&&Ye.read(()=>{qR(t,i),Ye.render(()=>{um(i,o,hm(t.tagName),n.transformTemplate),$E(t,i)})})}})},QR={useVisualState:LE({scrapeMotionValuesFromProps:fm,createRenderState:cm})};function KE(n,e,t){for(const i in e)!qt(e[i])&&!HE(i,t)&&(n[i]=e[i])}function XR({transformTemplate:n},e){return ne.useMemo(()=>{const t=cm();return lm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function YR(n,e){const t=n.style||{},i={};return KE(i,t,n),Object.assign(i,XR(n,e)),i}function JR(n,e){const t={},i=YR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function ZR(n,e,t,i){const o=ne.useMemo(()=>{const l=UE();return um(l,e,hm(i),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};KE(l,n.style,n),o.style={...l,...o.style}}return o}function e2(n=!1){return(t,i,o,{latestValues:l},c)=>{const p=(im(t)?ZR:JR)(i,l,c,t),m=mR(i,typeof t=="string",n),v=t!==ne.Fragment?{...m,...p,ref:o}:{},{children:w}=i,T=ne.useMemo(()=>qt(w)?w.get():w,[w]);return ne.createElement(t,{...v,children:T})}}function t2(n,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...im(i)?GR:QR,preloadedFeatures:n,useRender:e2(o),createVisualElement:e,Component:i};return AR(c)}}function qE(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function vh(n,e,t){const i=n.getProps();return sm(i,e,t!==void 0?t:i.custom,n)}const n2=Jp(()=>window.ScrollTimeline!==void 0);class r2{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(o=>{if(n2()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class i2 extends r2{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function dm(n,e){return n?n[e]||n.default||n:void 0}const Xd=2e4;function GE(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Xd;)e+=t,i=n.next(e);return e>=Xd?1/0:e}function pm(n){return typeof n=="function"}function g0(n,e){n.timeline=e,n.onfinish=null}const mm=n=>Array.isArray(n)&&typeof n[0]=="number",s2={linearEasing:void 0};function o2(n,e){const t=Jp(n);return()=>{var i;return(i=s2[e])!==null&&i!==void 0?i:t()}}const zc=o2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),QE=(n,e,t=10)=>{let i="";const o=Math.max(Math.round(e/t),2);for(let l=0;l<o;l++)i+=n(Bo(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function XE(n){return!!(typeof n=="function"&&zc()||!n||typeof n=="string"&&(n in Yd||zc())||mm(n)||Array.isArray(n)&&n.every(XE))}const Xa=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Yd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function YE(n,e){if(n)return typeof n=="function"&&zc()?QE(n,e):mm(n)?Xa(n):Array.isArray(n)?n.map(t=>YE(t,e)||Yd.easeOut):Yd[n]}const Xn={x:!1,y:!1};function JE(){return Xn.x||Xn.y}function ZE(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n)}function eT(n,e){const t=ZE(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[t,o,()=>i.abort()]}function y0(n){return e=>{e.pointerType==="touch"||JE()||n(e)}}function a2(n,e,t={}){const[i,o,l]=eT(n,t),c=y0(f=>{const{target:p}=f,m=e(f);if(typeof m!="function"||!p)return;const v=y0(w=>{m(w),p.removeEventListener("pointerleave",v)});p.addEventListener("pointerleave",v,o)});return i.forEach(f=>{f.addEventListener("pointerenter",c,o)}),l}const tT=(n,e)=>e?n===e?!0:tT(n,e.parentElement):!1,gm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,l2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function u2(n){return l2.has(n.tagName)||n.tabIndex!==-1}const Ya=new WeakSet;function v0(n){return e=>{e.key==="Enter"&&n(e)}}function fd(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const c2=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=v0(()=>{if(Ya.has(t))return;fd(t,"down");const o=v0(()=>{fd(t,"up")}),l=()=>fd(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function _0(n){return gm(n)&&!JE()}function h2(n,e,t={}){const[i,o,l]=eT(n,t),c=f=>{const p=f.currentTarget;if(!_0(f)||Ya.has(p))return;Ya.add(p);const m=e(f),v=(I,b)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!_0(I)||!Ya.has(p))&&(Ya.delete(p),typeof m=="function"&&m(I,{success:b}))},w=I=>{v(I,t.useGlobalTarget||tT(p,I.target))},T=I=>{v(I,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return i.forEach(f=>{!u2(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(t.useGlobalTarget?window:f).addEventListener("pointerdown",c,o),f.addEventListener("focus",m=>c2(m,o),o)}),l}function f2(n){return n==="x"||n==="y"?Xn[n]?null:(Xn[n]=!0,()=>{Xn[n]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}const nT=new Set(["width","height","top","left","right","bottom",...Go]);let _c;function d2(){_c=void 0}const yr={now:()=>(_c===void 0&&yr.set(Mt.isProcessing||uR.useManualTiming?Mt.timestamp:performance.now()),_c),set:n=>{_c=n,queueMicrotask(d2)}};function ym(n,e){n.indexOf(e)===-1&&n.push(e)}function vm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class _m{constructor(){this.subscriptions=[]}add(e){return ym(this.subscriptions,e),()=>vm(this.subscriptions,e)}notify(e,t,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,i);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function rT(n,e){return e?n*(1e3/e):0}const w0=30,p2=n=>!isNaN(parseFloat(n));class m2{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=yr.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=yr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=p2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new _m);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>w0)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,w0);return rT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(n,e){return new m2(n,e)}function g2(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_l(t))}function y2(n,e){const t=vh(n,e);let{transitionEnd:i={},transition:o={},...l}=t||{};l={...l,...i};for(const c in l){const f=kR(l[c]);g2(n,c,f)}}function v2(n){return!!(qt(n)&&n.add)}function Jd(n,e){const t=n.getValue("willChange");if(v2(t))return t.add(e)}function iT(n){return n.props[DE]}const sT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,_2=1e-7,w2=12;function E2(n,e,t,i,o){let l,c,f=0;do c=e+(t-e)/2,l=sT(c,i,o)-n,l>0?t=c:e=c;while(Math.abs(l)>_2&&++f<w2);return c}function Vl(n,e,t,i){if(n===e&&t===i)return vn;const o=l=>E2(l,0,1,n,t);return l=>l===0||l===1?l:sT(o(l),e,i)}const oT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,aT=n=>e=>1-n(1-e),lT=Vl(.33,1.53,.69,.99),wm=aT(lT),uT=oT(wm),cT=n=>(n*=2)<1?.5*wm(n):.5*(2-Math.pow(2,-10*(n-1))),Em=n=>1-Math.sin(Math.acos(n)),hT=aT(Em),fT=oT(Em),dT=n=>/^0[^.\s]+$/u.test(n);function T2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||dT(n):!0}const ol=n=>Math.round(n*1e5)/1e5,Tm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function S2(n){return n==null}const A2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sm=(n,e)=>t=>!!(typeof t=="string"&&A2.test(t)&&t.startsWith(n)||e&&!S2(t)&&Object.prototype.hasOwnProperty.call(t,e)),pT=(n,e,t)=>i=>{if(typeof i!="string")return i;const[o,l,c,f]=i.match(Tm);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},I2=n=>Hr(0,255,n),dd={...Qo,transform:n=>Math.round(I2(n))},ys={test:Sm("rgb","red"),parse:pT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+dd.transform(n)+", "+dd.transform(e)+", "+dd.transform(t)+", "+ol(vl.transform(i))+")"};function P2(n){let e="",t="",i="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Zd={test:Sm("#"),parse:P2,transform:ys.transform},Io={test:Sm("hsl","hue"),parse:pT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+gr.transform(ol(e))+", "+gr.transform(ol(t))+", "+ol(vl.transform(i))+")"},Ht={test:n=>ys.test(n)||Zd.test(n)||Io.test(n),parse:n=>ys.test(n)?ys.parse(n):Io.test(n)?Io.parse(n):Zd.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?ys.transform(n):Io.transform(n)},C2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function x2(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Tm))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(C2))===null||t===void 0?void 0:t.length)||0)>0}const mT="number",gT="color",R2="var",k2="var(",E0="${}",V2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=e.replace(V2,p=>(Ht.test(p)?(i.color.push(l),o.push(gT),t.push(Ht.parse(p))):p.startsWith(k2)?(i.var.push(l),o.push(R2),t.push(p)):(i.number.push(l),o.push(mT),t.push(parseFloat(p))),++l,E0)).split(E0);return{values:t,split:f,indexes:i,types:o}}function yT(n){return wl(n).values}function vT(n){const{split:e,types:t}=wl(n),i=e.length;return o=>{let l="";for(let c=0;c<i;c++)if(l+=e[c],o[c]!==void 0){const f=t[c];f===mT?l+=ol(o[c]):f===gT?l+=Ht.transform(o[c]):l+=o[c]}return l}}const N2=n=>typeof n=="number"?0:n;function D2(n){const e=yT(n);return vT(n)(e.map(N2))}const Vi={test:x2,parse:yT,createTransformer:vT,getAnimatableNone:D2},b2=new Set(["brightness","contrast","saturate","opacity"]);function M2(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Tm)||[];if(!i)return n;const o=t.replace(i,"");let l=b2.has(e)?1:0;return i!==t&&(l*=100),e+"("+l+o+")"}const L2=/\b([a-z-]*)\(.*?\)/gu,ep={...Vi,getAnimatableNone:n=>{const e=n.match(L2);return e?e.map(M2).join(" "):n}},O2={...am,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:ep,WebkitFilter:ep},Am=n=>O2[n];function _T(n,e){let t=Am(n);return t!==ep&&(t=Vi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const F2=new Set(["auto","none","0"]);function j2(n,e,t){let i=0,o;for(;i<n.length&&!o;){const l=n[i];typeof l=="string"&&!F2.has(l)&&wl(l).values.length&&(o=n[i]),i++}if(o&&t)for(const l of e)n[l]=_T(t,o)}const T0=n=>n===Qo||n===we,S0=(n,e)=>parseFloat(n.split(", ")[e]),A0=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return S0(o[1],e);{const l=i.match(/^matrix\((.+)\)$/u);return l?S0(l[1],n):0}},U2=new Set(["x","y","z"]),B2=Go.filter(n=>!U2.has(n));function z2(n){const e=[];return B2.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const $o={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:A0(4,13),y:A0(5,14)};$o.translateX=$o.x;$o.translateY=$o.y;const _s=new Set;let tp=!1,np=!1;function wT(){if(np){const n=Array.from(_s).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const o=z2(i);o.length&&(t.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=t.get(i);o&&o.forEach(([l,c])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}np=!1,tp=!1,_s.forEach(n=>n.complete()),_s.clear()}function ET(){_s.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(np=!0)})}function $2(){ET(),wT()}class Im{constructor(e,t,i,o,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_s.add(this),tp||(tp=!0,Ye.read(ET),Ye.resolveKeyframes(wT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:o}=this;for(let l=0;l<e.length;l++)if(e[l]===null)if(l===0){const c=o?.get(),f=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&t){const p=i.readValue(t,f);p!=null&&(e[0]=p)}e[0]===void 0&&(e[0]=f),o&&c===void 0&&o.set(e[0])}else e[l]=e[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_s.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_s.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const TT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),H2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W2(n){const e=H2.exec(n);if(!e)return[,];const[,t,i,o]=e;return[`--${t??i}`,o]}function ST(n,e,t=1){const[i,o]=W2(n);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const c=l.trim();return TT(c)?parseFloat(c):c}return om(o)?ST(o,e,t+1):o}const AT=n=>e=>e.test(n),K2={test:n=>n==="auto",parse:n=>n},IT=[Qo,we,gr,yi,LR,MR,K2],I0=n=>IT.find(AT(n));class PT extends Im{constructor(e,t,i,o,l){super(e,t,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let m=e[p];if(typeof m=="string"&&(m=m.trim(),om(m))){const v=ST(m,t.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!nT.has(i)||e.length!==2)return;const[o,l]=e,c=I0(o),f=I0(l);if(c!==f)if(T0(c)&&T0(f))for(let p=0;p<e.length;p++){const m=e[p];typeof m=="string"&&(e[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let o=0;o<e.length;o++)T2(e[o])&&i.push(o);i.length&&j2(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=$o[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const l=t.getValue(i);l&&l.jump(this.measuredOrigin,!1);const c=o.length-1,f=o[c];o[c]=$o[i](t.measureViewportBox(),window.getComputedStyle(t.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const P0=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Vi.test(n)||n==="0")&&!n.startsWith("url("));function q2(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function G2(n,e,t,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=P0(o,e),f=P0(l,e);return!c||!f?!1:q2(n)||(t==="spring"||pm(t))&&i}const Q2=n=>n!==null;function _h(n,{repeat:e,repeatType:t="loop"},i){const o=n.filter(Q2),l=e&&t!=="loop"&&e%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const X2=40;class CT{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=yr.now(),this.options={autoplay:e,delay:t,type:i,repeat:o,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>X2?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$2(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=yr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:c,onComplete:f,onUpdate:p,isGenerator:m}=this.options;if(!m&&!G2(e,i,o,l))if(c)this.options.duration=0;else{p&&p(_h(e,this.options,t)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(n,e,t)=>n+(e-n)*t;function pd(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Y2({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let o=0,l=0,c=0;if(!e)o=l=c=t;else{const f=t<.5?t*(1+e):t+e-t*e,p=2*t-f;o=pd(p,f,n+1/3),l=pd(p,f,n),c=pd(p,f,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:i}}function $c(n,e){return t=>t>0?e:n}const md=(n,e,t)=>{const i=n*n,o=t*(e*e-i)+i;return o<0?0:Math.sqrt(o)},J2=[Zd,ys,Io],Z2=n=>J2.find(e=>e.test(n));function C0(n){const e=Z2(n);if(!e)return!1;let t=e.parse(n);return e===Io&&(t=Y2(t)),t}const x0=(n,e)=>{const t=C0(n),i=C0(e);if(!t||!i)return $c(n,e);const o={...t};return l=>(o.red=md(t.red,i.red,l),o.green=md(t.green,i.green,l),o.blue=md(t.blue,i.blue,l),o.alpha=rt(t.alpha,i.alpha,l),ys.transform(o))},ek=(n,e)=>t=>e(n(t)),Nl=(...n)=>n.reduce(ek),rp=new Set(["none","hidden"]);function tk(n,e){return rp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function nk(n,e){return t=>rt(n,e,t)}function Pm(n){return typeof n=="number"?nk:typeof n=="string"?om(n)?$c:Ht.test(n)?x0:sk:Array.isArray(n)?xT:typeof n=="object"?Ht.test(n)?x0:rk:$c}function xT(n,e){const t=[...n],i=t.length,o=n.map((l,c)=>Pm(l)(l,e[c]));return l=>{for(let c=0;c<i;c++)t[c]=o[c](l);return t}}function rk(n,e){const t={...n,...e},i={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(i[o]=Pm(n[o])(n[o],e[o]));return o=>{for(const l in i)t[l]=i[l](o);return t}}function ik(n,e){var t;const i=[],o={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],f=n.indexes[c][o[c]],p=(t=n.values[f])!==null&&t!==void 0?t:0;i[l]=p,o[c]++}return i}const sk=(n,e)=>{const t=Vi.createTransformer(e),i=wl(n),o=wl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?rp.has(n)&&!o.values.length||rp.has(e)&&!i.values.length?tk(n,e):Nl(xT(ik(i,o),o.values),t):$c(n,e)};function RT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):Pm(n)(n,e)}const ok=5;function kT(n,e,t){const i=Math.max(e-ok,0);return rT(t-n(i),e-i)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gd=.001;function ak({duration:n=ot.duration,bounce:e=ot.bounce,velocity:t=ot.velocity,mass:i=ot.mass}){let o,l,c=1-e;c=Hr(ot.minDamping,ot.maxDamping,c),n=Hr(ot.minDuration,ot.maxDuration,Ur(n)),c<1?(o=m=>{const v=m*c,w=v*n,T=v-t,I=ip(m,c),b=Math.exp(-w);return gd-T/I*b},l=m=>{const w=m*c*n,T=w*t+t,I=Math.pow(c,2)*Math.pow(m,2)*n,b=Math.exp(-w),O=ip(Math.pow(m,2),c);return(-o(m)+gd>0?-1:1)*((T-I)*b)/O}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-gd+v*w},l=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const f=5/n,p=uk(o,l,f);if(n=jr(n),isNaN(p))return{stiffness:ot.stiffness,damping:ot.damping,duration:n};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:n}}}const lk=12;function uk(n,e,t){let i=t;for(let o=1;o<lk;o++)i=i-n(i)/e(i);return i}function ip(n,e){return n*Math.sqrt(1-e*e)}const ck=["duration","bounce"],hk=["stiffness","damping","mass"];function R0(n,e){return e.some(t=>n[t]!==void 0)}function fk(n){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...n};if(!R0(n,hk)&&R0(n,ck))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),o=i*i,l=2*Hr(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:l}}else{const t=ak(n);e={...e,...t,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function VT(n=ot.visualDuration,e=ot.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],f={done:!1,value:l},{stiffness:p,damping:m,mass:v,duration:w,velocity:T,isResolvedFromDuration:I}=fk({...t,velocity:-Ur(t.velocity||0)}),b=T||0,O=m/(2*Math.sqrt(p*v)),L=c-l,W=Ur(Math.sqrt(p/v)),G=Math.abs(L)<5;i||(i=G?ot.restSpeed.granular:ot.restSpeed.default),o||(o=G?ot.restDelta.granular:ot.restDelta.default);let J;if(O<1){const ie=ip(W,O);J=ue=>{const k=Math.exp(-O*W*ue);return c-k*((b+O*W*L)/ie*Math.sin(ie*ue)+L*Math.cos(ie*ue))}}else if(O===1)J=ie=>c-Math.exp(-W*ie)*(L+(b+W*L)*ie);else{const ie=W*Math.sqrt(O*O-1);J=ue=>{const k=Math.exp(-O*W*ue),A=Math.min(ie*ue,300);return c-k*((b+O*W*L)*Math.sinh(A)+ie*L*Math.cosh(A))/ie}}const se={calculatedDuration:I&&w||null,next:ie=>{const ue=J(ie);if(I)f.done=ie>=w;else{let k=0;O<1&&(k=ie===0?jr(b):kT(J,ie,ue));const A=Math.abs(k)<=i,C=Math.abs(c-ue)<=o;f.done=A&&C}return f.value=f.done?c:ue,f},toString:()=>{const ie=Math.min(GE(se),Xd),ue=QE(k=>se.next(ie*k).value,ie,30);return ie+"ms "+ue}};return se}function k0({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:p,restDelta:m=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},I=A=>f!==void 0&&A<f||p!==void 0&&A>p,b=A=>f===void 0?p:p===void 0||Math.abs(f-A)<Math.abs(p-A)?f:p;let O=t*e;const L=w+O,W=c===void 0?L:c(L);W!==L&&(O=W-w);const G=A=>-O*Math.exp(-A/i),J=A=>W+G(A),se=A=>{const C=G(A),V=J(A);T.done=Math.abs(C)<=m,T.value=T.done?W:V};let ie,ue;const k=A=>{I(T.value)&&(ie=A,ue=VT({keyframes:[T.value,b(T.value)],velocity:kT(J,A,T.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return k(0),{calculatedDuration:null,next:A=>{let C=!1;return!ue&&ie===void 0&&(C=!0,se(A),k(A)),ie!==void 0&&A>=ie?ue.next(A-ie):(!C&&se(A),T)}}}const dk=Vl(.42,0,1,1),pk=Vl(0,0,.58,1),NT=Vl(.42,0,.58,1),mk=n=>Array.isArray(n)&&typeof n[0]!="number",gk={linear:vn,easeIn:dk,easeInOut:NT,easeOut:pk,circIn:Em,circInOut:fT,circOut:hT,backIn:wm,backInOut:uT,backOut:lT,anticipate:cT},V0=n=>{if(mm(n)){RE(n.length===4);const[e,t,i,o]=n;return Vl(e,t,i,o)}else if(typeof n=="string")return gk[n];return n};function yk(n,e,t){const i=[],o=t||RT,l=n.length-1;for(let c=0;c<l;c++){let f=o(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||vn:e;f=Nl(p,f)}i.push(f)}return i}function vk(n,e,{clamp:t=!0,ease:i,mixer:o}={}){const l=n.length;if(RE(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const f=yk(e,i,o),p=f.length,m=v=>{if(c&&v<n[0])return e[0];let w=0;if(p>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const T=Bo(n[w],n[w+1],v);return f[w](T)};return t?v=>m(Hr(n[0],n[l-1],v)):m}function _k(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const o=Bo(0,e,i);n.push(rt(t,1,o))}}function wk(n){const e=[0];return _k(e,n.length-1),e}function Ek(n,e){return n.map(t=>t*e)}function Tk(n,e){return n.map(()=>e||NT).splice(0,n.length-1)}function Hc({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const o=mk(i)?i.map(V0):V0(i),l={done:!1,value:e[0]},c=Ek(t&&t.length===e.length?t:wk(e),n),f=vk(c,e,{ease:Array.isArray(o)?o:Tk(e,o)});return{calculatedDuration:n,next:p=>(l.value=f(p),l.done=p>=n,l)}}const Sk=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ye.update(e,!0),stop:()=>ki(e),now:()=>Mt.isProcessing?Mt.timestamp:yr.now()}},Ak={decay:k0,inertia:k0,tween:Hc,keyframes:Hc,spring:VT},Ik=n=>n/100;class Cm extends CT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:t,motionValue:i,element:o,keyframes:l}=this.options,c=o?.KeyframeResolver||Im,f=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(l,f,t,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=this.options,f=pm(t)?t:Ak[t]||Hc;let p,m;f!==Hc&&typeof e[0]!="number"&&(p=Nl(Ik,RT(e[0],e[1])),e=[0,100]);const v=f({...this.options,keyframes:e});l==="mirror"&&(m=f({...this.options,keyframes:[...e].reverse(),velocity:-c})),v.calculatedDuration===null&&(v.calculatedDuration=GE(v));const{calculatedDuration:w}=v,T=w+o,I=T*(i+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:w,resolvedDuration:T,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:p,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=i;if(this.startTime===null)return l.next(0);const{delay:T,repeat:I,repeatType:b,repeatDelay:O,onUpdate:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-T*(this.speed>=0?1:-1),G=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let J=this.currentTime,se=l;if(I){const A=Math.min(this.currentTime,v)/w;let C=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&C--,C=Math.min(C,I+1),!!(C%2)&&(b==="reverse"?(V=1-V,O&&(V-=O/w)):b==="mirror"&&(se=c)),J=Hr(0,1,V)*w}const ie=G?{done:!1,value:p[0]}:se.next(J);f&&(ie.value=f(ie.value));let{done:ue}=ie;!G&&m!==null&&(ue=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return k&&o!==void 0&&(ie.value=_h(p,this.options,o)),L&&L(ie.value),k&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?Ur(e.calculatedDuration):0}get time(){return Ur(this.currentTime)}set time(e){e=jr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Ur(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Sk,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Pk=new Set(["opacity","clipPath","filter","transform"]);function Ck(n,e,t,{delay:i=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:p}={}){const m={[e]:t};p&&(m.offset=p);const v=YE(f,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const xk=Jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Wc=10,Rk=2e4;function kk(n){return pm(n.type)||n.type==="spring"||!XE(n.ease)}function Vk(n,e){const t=new Cm({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const o=[];let l=0;for(;!i.done&&l<Rk;)i=t.sample(l),o.push(i.value),l+=Wc;return{times:void 0,keyframes:o,duration:l-Wc,ease:"linear"}}const DT={anticipate:cT,backInOut:uT,circInOut:fT};function Nk(n){return n in DT}class N0 extends CT{constructor(e){super(e);const{name:t,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new PT(l,(c,f)=>this.onKeyframesResolved(c,f),t,i,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:o,ease:l,type:c,motionValue:f,name:p,startTime:m}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&zc()&&Nk(l)&&(l=DT[l]),kk(this.options)){const{onComplete:w,onUpdate:T,motionValue:I,element:b,...O}=this.options,L=Vk(e,O);e=L.keyframes,e.length===1&&(e[1]=e[0]),i=L.duration,o=L.times,l=L.ease,c="keyframes"}const v=Ck(f.owner.current,p,e,{...this.options,duration:i,times:o,ease:l});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(g0(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;f.set(_h(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:c,ease:l,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Ur(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Ur(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=jr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return vn;const{animation:i}=t;g0(i,e)}return vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:o,type:l,ease:c,times:f}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:T,...I}=this.options,b=new Cm({...I,keyframes:i,duration:o,type:l,ease:c,times:f,isGenerator:!0}),O=jr(this.time);m.setWithVelocity(b.sample(O-Wc).value,b.sample(O).value,Wc)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:o,repeatType:l,damping:c,type:f}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return xk()&&i&&Pk.has(i)&&!p&&!m&&!o&&l!=="mirror"&&c!==0&&f!=="inertia"}}const Dk={type:"spring",stiffness:500,damping:25,restSpeed:10},bk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Mk={type:"keyframes",duration:.8},Lk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ok=(n,{keyframes:e})=>e.length>2?Mk:Ps.has(n)?n.startsWith("scale")?bk(e[1]):Dk:Lk;function Fk({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:f,from:p,elapsed:m,...v}){return!!Object.keys(v).length}const xm=(n,e,t,i={},o,l)=>c=>{const f=dm(i,n)||{},p=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-jr(p);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-m,onUpdate:T=>{e.set(T),f.onUpdate&&f.onUpdate(T)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:n,motionValue:e,element:l?void 0:o};Fk(f)||(v={...v,...Ok(n,v)}),v.duration&&(v.duration=jr(v.duration)),v.repeatDelay&&(v.repeatDelay=jr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!l&&e.get()!==void 0){const T=_h(v.keyframes,f);if(T!==void 0)return Ye.update(()=>{v.onUpdate(T),v.onComplete()}),new i2([])}return!l&&N0.supports(v)?new N0(v):new Cm(v)};function jk({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function bT(n,e,{delay:t=0,transitionOverride:i,type:o}={}){var l;let{transition:c=n.getDefaultTransition(),transitionEnd:f,...p}=e;i&&(c=i);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in p){const T=n.getValue(w,(l=n.latestValues[w])!==null&&l!==void 0?l:null),I=p[w];if(I===void 0||v&&jk(v,w))continue;const b={delay:t,...dm(c||{},w)};let O=!1;if(window.MotionHandoffAnimation){const W=iT(n);if(W){const G=window.MotionHandoffAnimation(W,w,Ye);G!==null&&(b.startTime=G,O=!0)}}Jd(n,w),T.start(xm(w,T,I,n.shouldReduceMotion&&nT.has(w)?{type:!1}:b,n,O));const L=T.animation;L&&m.push(L)}return f&&Promise.all(m).then(()=>{Ye.update(()=>{f&&y2(n,f)})}),m}function sp(n,e,t={}){var i;const o=vh(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(l=t.transitionOverride);const c=o?()=>Promise.all(bT(n,o,t)):()=>Promise.resolve(),f=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=l;return Uk(n,e,v+m,w,T,t)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,v]=p==="beforeChildren"?[c,f]:[f,c];return m().then(()=>v())}else return Promise.all([c(),f(t.delay)])}function Uk(n,e,t=0,i=0,o=1,l){const c=[],f=(n.variantChildren.size-1)*i,p=o===1?(m=0)=>m*i:(m=0)=>f-m*i;return Array.from(n.variantChildren).sort(Bk).forEach((m,v)=>{m.notify("AnimationStart",e),c.push(sp(m,e,{...l,delay:t+p(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function Bk(n,e){return n.sortNodePosition(e)}function zk(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(l=>sp(n,l,t));i=Promise.all(o)}else if(typeof e=="string")i=sp(n,e,t);else{const o=typeof e=="function"?vh(n,e,t.custom):e;i=Promise.all(bT(n,o,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const $k=tm.length;function MT(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?MT(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<$k;t++){const i=tm[t],o=n.props[i];(yl(o)||o===!1)&&(e[i]=o)}return e}const Hk=[...em].reverse(),Wk=em.length;function Kk(n){return e=>Promise.all(e.map(({animation:t,options:i})=>zk(n,t,i)))}function qk(n){let e=Kk(n),t=D0(),i=!0;const o=p=>(m,v)=>{var w;const T=vh(n,v,p==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:I,transitionEnd:b,...O}=T;m={...m,...O,...b}}return m};function l(p){e=p(n)}function c(p){const{props:m}=n,v=MT(n.parent)||{},w=[],T=new Set;let I={},b=1/0;for(let L=0;L<Wk;L++){const W=Hk[L],G=t[W],J=m[W]!==void 0?m[W]:v[W],se=yl(J),ie=W===p?G.isActive:null;ie===!1&&(b=L);let ue=J===v[W]&&J!==m[W]&&se;if(ue&&i&&n.manuallyAnimateOnMount&&(ue=!1),G.protectedKeys={...I},!G.isActive&&ie===null||!J&&!G.prevProp||gh(J)||typeof J=="boolean")continue;const k=Gk(G.prevProp,J);let A=k||W===p&&G.isActive&&!ue&&se||L>b&&se,C=!1;const V=Array.isArray(J)?J:[J];let M=V.reduce(o(W),{});ie===!1&&(M={});const{prevResolvedValues:j={}}=G,x={...j,...M},Je=Ae=>{A=!0,T.has(Ae)&&(C=!0,T.delete(Ae)),G.needsAnimating[Ae]=!0;const te=n.getValue(Ae);te&&(te.liveStyle=!1)};for(const Ae in x){const te=M[Ae],me=j[Ae];if(I.hasOwnProperty(Ae))continue;let oe=!1;Qd(te)&&Qd(me)?oe=!qE(te,me):oe=te!==me,oe?te!=null?Je(Ae):T.add(Ae):te!==void 0&&T.has(Ae)?Je(Ae):G.protectedKeys[Ae]=!0}G.prevProp=J,G.prevResolvedValues=M,G.isActive&&(I={...I,...M}),i&&n.blockInitialAnimation&&(A=!1),A&&(!(ue&&k)||C)&&w.push(...V.map(Ae=>({animation:Ae,options:{type:W}})))}if(T.size){const L={};T.forEach(W=>{const G=n.getBaseTarget(W),J=n.getValue(W);J&&(J.liveStyle=!0),L[W]=G??null}),w.push({animation:L})}let O=!!w.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(O=!1),i=!1,O?e(w):Promise.resolve()}function f(p,m){var v;if(t[p].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var I;return(I=T.animationState)===null||I===void 0?void 0:I.setActive(p,m)}),t[p].isActive=m;const w=c(p);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>t,reset:()=>{t=D0(),i=!0}}}function Gk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!qE(e,n):!1}function cs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D0(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Qk extends Mi{constructor(e){super(e),e.animationState||(e.animationState=qk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Xk=0;class Yk extends Mi{constructor(){super(...arguments),this.id=Xk++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LT={animation:{Feature:Qk},exit:{Feature:Yk}};function El(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Dl(n){return{point:{x:n.pageX,y:n.pageY}}}const Jk=n=>e=>gm(e)&&n(e,Dl(e));function al(n,e,t,i){return El(n,e,Jk(t),i)}const b0=(n,e)=>Math.abs(n-e);function Zk(n,e){const t=b0(n.x,e.x),i=b0(n.y,e.y);return Math.sqrt(t**2+i**2)}class OT{constructor(e,t,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=vd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,I=Zk(w.offset,{x:0,y:0})>=3;if(!T&&!I)return;const{point:b}=w,{timestamp:O}=Mt;this.history.push({...b,timestamp:O});const{onStart:L,onMove:W}=this.handlers;T||(L&&L(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=yd(T,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:I,onSessionEnd:b,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=vd(w.type==="pointercancel"?this.lastMoveEventInfo:yd(T,this.transformPagePoint),this.history);this.startEvent&&I&&I(w,L),b&&b(w,L)},!gm(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=i,this.contextWindow=o||window;const c=Dl(e),f=yd(c,this.transformPagePoint),{point:p}=f,{timestamp:m}=Mt;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,vd(f,this.history)),this.removeListeners=Nl(al(this.contextWindow,"pointermove",this.handlePointerMove),al(this.contextWindow,"pointerup",this.handlePointerUp),al(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ki(this.updatePoint)}}function yd(n,e){return e?{point:e(n.point)}:n}function M0(n,e){return{x:n.x-e.x,y:n.y-e.y}}function vd({point:n},e){return{point:n,delta:M0(n,FT(e)),offset:M0(n,eV(e)),velocity:tV(e,.1)}}function eV(n){return n[0]}function FT(n){return n[n.length-1]}function tV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const o=FT(n);for(;t>=0&&(i=n[t],!(o.timestamp-i.timestamp>jr(e)));)t--;if(!i)return{x:0,y:0};const l=Ur(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const jT=1e-4,nV=1-jT,rV=1+jT,UT=.01,iV=0-UT,sV=0+UT;function _n(n){return n.max-n.min}function oV(n,e,t){return Math.abs(n-e)<=t}function L0(n,e,t,i=.5){n.origin=i,n.originPoint=rt(e.min,e.max,n.origin),n.scale=_n(t)/_n(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=nV&&n.scale<=rV||isNaN(n.scale))&&(n.scale=1),(n.translate>=iV&&n.translate<=sV||isNaN(n.translate))&&(n.translate=0)}function ll(n,e,t,i){L0(n.x,e.x,t.x,i?i.originX:void 0),L0(n.y,e.y,t.y,i?i.originY:void 0)}function O0(n,e,t){n.min=t.min+e.min,n.max=n.min+_n(e)}function aV(n,e,t){O0(n.x,e.x,t.x),O0(n.y,e.y,t.y)}function F0(n,e,t){n.min=e.min-t.min,n.max=n.min+_n(e)}function ul(n,e,t){F0(n.x,e.x,t.x),F0(n.y,e.y,t.y)}function lV(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?rt(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?rt(t,n,i.max):Math.min(n,t)),n}function j0(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function uV(n,{top:e,left:t,bottom:i,right:o}){return{x:j0(n.x,t,o),y:j0(n.y,e,i)}}function U0(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function cV(n,e){return{x:U0(n.x,e.x),y:U0(n.y,e.y)}}function hV(n,e){let t=.5;const i=_n(n),o=_n(e);return o>i?t=Bo(e.min,e.max-i,n.min):i>o&&(t=Bo(n.min,n.max-o,e.min)),Hr(0,1,t)}function fV(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const op=.35;function dV(n=op){return n===!1?n=0:n===!0&&(n=op),{x:B0(n,"left","right"),y:B0(n,"top","bottom")}}function B0(n,e,t){return{min:z0(n,e),max:z0(n,t)}}function z0(n,e){return typeof n=="number"?n:n[e]||0}const $0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Po=()=>({x:$0(),y:$0()}),H0=()=>({min:0,max:0}),ut=()=>({x:H0(),y:H0()});function Vn(n){return[n("x"),n("y")]}function BT({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function pV({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function mV(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function _d(n){return n===void 0||n===1}function ap({scale:n,scaleX:e,scaleY:t}){return!_d(n)||!_d(e)||!_d(t)}function fs(n){return ap(n)||zT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zT(n){return W0(n.x)||W0(n.y)}function W0(n){return n&&n!=="0%"}function Kc(n,e,t){const i=n-t,o=e*i;return t+o}function K0(n,e,t,i,o){return o!==void 0&&(n=Kc(n,o,i)),Kc(n,t,i)+e}function lp(n,e=0,t=1,i,o){n.min=K0(n.min,e,t,i,o),n.max=K0(n.max,e,t,i,o)}function $T(n,{x:e,y:t}){lp(n.x,e.translate,e.scale,e.originPoint),lp(n.y,t.translate,t.scale,t.originPoint)}const q0=.999999999999,G0=1.0000000000001;function gV(n,e,t,i=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,c;for(let f=0;f<o;f++){l=t[f],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&xo(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,$T(n,c)),i&&fs(l.latestValues)&&xo(n,l.latestValues))}e.x<G0&&e.x>q0&&(e.x=1),e.y<G0&&e.y>q0&&(e.y=1)}function Co(n,e){n.min=n.min+e,n.max=n.max+e}function Q0(n,e,t,i,o=.5){const l=rt(n.min,n.max,o);lp(n,e,t,l,i)}function xo(n,e){Q0(n.x,e.x,e.scaleX,e.scale,e.originX),Q0(n.y,e.y,e.scaleY,e.scale,e.originY)}function HT(n,e){return BT(mV(n.getBoundingClientRect(),e))}function yV(n,e,t){const i=HT(n,t),{scroll:o}=e;return o&&(Co(i.x,o.offset.x),Co(i.y,o.offset.y)),i}const WT=({current:n})=>n?n.ownerDocument.defaultView:null,vV=new WeakMap;class _V{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Dl(v).point)},l=(v,w)=>{const{drag:T,dragPropagation:I,onDragStart:b}=this.getProps();if(T&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=f2(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(L=>{let W=this.getAxisMotionValue(L).get()||0;if(gr.test(W)){const{projection:G}=this.visualElement;if(G&&G.layout){const J=G.layout.layoutBox[L];J&&(W=_n(J)*(parseFloat(W)/100))}}this.originPoint[L]=W}),b&&Ye.postRender(()=>b(v,w)),Jd(this.visualElement,"transform");const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},c=(v,w)=>{const{dragPropagation:T,dragDirectionLock:I,onDirectionLock:b,onDrag:O}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:L}=w;if(I&&this.currentDirection===null){this.currentDirection=wV(L),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",w.point,L),this.updateAxis("y",w.point,L),this.visualElement.render(),O&&O(v,w)},f=(v,w)=>this.stop(v,w),p=()=>Vn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new OT(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:WT(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ye.postRender(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:o}=this.getProps();if(!i||!ac(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(c=lV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=uV(o.layoutBox,t):this.constraints=!1,this.elastic=dV(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Vn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=fV(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ao(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=yV(i,o.root,this.visualElement.getTransformPagePoint());let c=cV(o.layout.layoutBox,l);if(t){const f=t(pV(c));this.hasMutatedConstraints=!!f,f&&(c=BT(f))}return c}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),p=this.constraints||{},m=Vn(v=>{if(!ac(v,t,this.currentDirection))return;let w=p&&p[v]||{};c&&(w={min:0,max:0});const T=o?200:1e6,I=o?40:1e7,b={type:"inertia",velocity:i?e[v]:0,bounceStiffness:T,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(v,b)});return Promise.all(m).then(f)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Jd(this.visualElement,e),i.start(xm(e,i,0,t,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[t];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:i}=this.getProps();if(!ac(t,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:c,max:f}=o.layout.layoutBox[t];l.set(e[t]-rt(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Ao(t)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Vn(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const p=f.get();o[c]=hV({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Vn(c=>{if(!ac(c,e,null))return;const f=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];f.set(rt(p,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;vV.set(this.visualElement,this);const e=this.visualElement.current,t=al(e,"pointerdown",p=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();Ao(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ye.read(i);const c=El(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(Vn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=p[v].translate,w.set(w.get()+p[v].translate))}),this.visualElement.render())});return()=>{c(),t(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=op,dragMomentum:f=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function ac(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function wV(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class EV extends Mi{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new _V(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const X0=n=>(e,t)=>{n&&Ye.postRender(()=>n(e,t))};class TV extends Mi{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new OT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:X0(e),onStart:X0(t),onMove:i,onEnd:(l,c)=>{delete this.session,o&&Ye.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=al(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Y0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Wa={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=Y0(n,e.target.x),i=Y0(n,e.target.y);return`${t}% ${i}%`}},SV={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,o=Vi.parse(n);if(o.length>5)return i;const l=Vi.createTransformer(n),c=typeof o[0]!="number"?1:0,f=t.x.scale*e.x,p=t.y.scale*e.y;o[0+c]/=f,o[1+c]/=p;const m=rt(f,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};class AV extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=e;KR(IV),l&&(t.group&&t.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:o,isPresent:l}=this.props,c=i.projection;return c&&(c.isPresent=l,o||e.layoutDependency!==t||t===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Ye.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function KT(n){const[e,t]=PE(),i=ne.useContext(Gp);return N.jsx(AV,{...n,layoutGroup:i,switchLayoutGroup:ne.useContext(bE),isPresent:e,safeToRemove:t})}const IV={borderRadius:{...Wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wa,borderTopRightRadius:Wa,borderBottomLeftRadius:Wa,borderBottomRightRadius:Wa,boxShadow:SV};function PV(n,e,t){const i=qt(n)?n:_l(n);return i.start(xm("",i,e,t)),i.animation}function CV(n){return n instanceof SVGElement&&n.tagName!=="svg"}const xV=(n,e)=>n.depth-e.depth;class RV{constructor(){this.children=[],this.isDirty=!1}add(e){ym(this.children,e),this.isDirty=!0}remove(e){vm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xV),this.isDirty=!1,this.children.forEach(e)}}function kV(n,e){const t=yr.now(),i=({timestamp:o})=>{const l=o-t;l>=e&&(ki(i),n(l-e))};return Ye.read(i,!0),()=>ki(i)}const qT=["TopLeft","TopRight","BottomLeft","BottomRight"],VV=qT.length,J0=n=>typeof n=="string"?parseFloat(n):n,Z0=n=>typeof n=="number"||we.test(n);function NV(n,e,t,i,o,l){o?(n.opacity=rt(0,t.opacity!==void 0?t.opacity:1,DV(i)),n.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,bV(i))):l&&(n.opacity=rt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let c=0;c<VV;c++){const f=`border${qT[c]}Radius`;let p=e_(e,f),m=e_(t,f);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||Z0(p)===Z0(m)?(n[f]=Math.max(rt(J0(p),J0(m),i),0),(gr.test(m)||gr.test(p))&&(n[f]+="%")):n[f]=m}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,i))}function e_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const DV=GT(0,.5,hT),bV=GT(.5,.95,vn);function GT(n,e,t){return i=>i<n?0:i>e?1:t(Bo(n,e,i))}function t_(n,e){n.min=e.min,n.max=e.max}function kn(n,e){t_(n.x,e.x),t_(n.y,e.y)}function n_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function r_(n,e,t,i,o){return n-=e,n=Kc(n,1/t,i),o!==void 0&&(n=Kc(n,1/o,i)),n}function MV(n,e=0,t=1,i=.5,o,l=n,c=n){if(gr.test(e)&&(e=parseFloat(e),e=rt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let f=rt(l.min,l.max,i);n===l&&(f-=e),n.min=r_(n.min,e,t,f,o),n.max=r_(n.max,e,t,f,o)}function i_(n,e,[t,i,o],l,c){MV(n,e[t],e[i],e[o],e.scale,l,c)}const LV=["x","scaleX","originX"],OV=["y","scaleY","originY"];function s_(n,e,t,i){i_(n.x,e,LV,t?t.x:void 0,i?i.x:void 0),i_(n.y,e,OV,t?t.y:void 0,i?i.y:void 0)}function o_(n){return n.translate===0&&n.scale===1}function QT(n){return o_(n.x)&&o_(n.y)}function a_(n,e){return n.min===e.min&&n.max===e.max}function FV(n,e){return a_(n.x,e.x)&&a_(n.y,e.y)}function l_(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function XT(n,e){return l_(n.x,e.x)&&l_(n.y,e.y)}function u_(n){return _n(n.x)/_n(n.y)}function c_(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class jV{constructor(){this.members=[]}add(e){ym(this.members,e),e.scheduleRender()}remove(e){if(vm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let i;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UV(n,e,t){let i="";const o=n.x.translate/e.x,l=n.y.translate/e.y,c=t?.z||0;if((o||l||c)&&(i=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:T,skewX:I,skewY:b}=t;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),T&&(i+=`rotateY(${T}deg) `),I&&(i+=`skewX(${I}deg) `),b&&(i+=`skewY(${b}deg) `)}const f=n.x.scale*e.x,p=n.y.scale*e.y;return(f!==1||p!==1)&&(i+=`scale(${f}, ${p})`),i||"none"}const ds={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ja=typeof window<"u"&&window.MotionDebug!==void 0,wd=["","X","Y","Z"],BV={visibility:"hidden"},h_=1e3;let zV=0;function Ed(n,e,t,i){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function YT(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=iT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ye,!(o||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&YT(i)}function JT({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(c={},f=e?.()){this.id=zV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ja&&(ds.totalNodes=ds.resolvedTargetDeltas=ds.recalculatedProjection=0),this.nodes.forEach(WV),this.nodes.forEach(XV),this.nodes.forEach(YV),this.nodes.forEach(KV),Ja&&window.MotionDebug.record(ds)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new RV)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new _m),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const p=this.eventHandlers.get(c);p&&p.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=CV(c),this.instance=c;const{layoutId:p,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||p)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=kV(T,250),wc.hasAnimatedSinceResize&&(wc.hasAnimatedSinceResize=!1,this.nodes.forEach(d_))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:I,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||v.getDefaultTransition()||nN,{onLayoutAnimationStart:L,onLayoutAnimationComplete:W}=v.getProps(),G=!this.targetLayout||!XT(this.targetLayout,b)||I,J=!T&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||J||T&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,J);const se={...dm(O,"layout"),onPlay:L,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(se.delay=0,se.type=!1),this.startAnimation(se)}else T||d_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JV),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:f,layout:p}=this.options;if(f===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f_);return}this.isUpdating||this.nodes.forEach(GV),this.isUpdating=!1,this.nodes.forEach(QV),this.nodes.forEach($V),this.nodes.forEach(HV),this.clearAllSnapshots();const f=yr.now();Mt.delta=Hr(0,1e3/60,f-Mt.timestamp),Mt.timestamp=f,Mt.isProcessing=!0,cd.update.process(Mt),cd.preRender.process(Mt),cd.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qV),this.sharedNodes.forEach(ZV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!QT(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;c&&(f||fs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let p=this.removeElementScroll(f);return c&&(p=this.removeTransform(p)),rN(p),{animationId:this.root.animationId,measuredBox:f,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return ut();const p=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(iN))){const{scroll:v}=this.root;v&&(Co(p.x,v.offset.x),Co(p.y,v.offset.y))}return p}removeElementScroll(c){var f;const p=ut();if(kn(p,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return p;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&kn(p,c),Co(p.x,w.offset.x),Co(p.y,w.offset.y))}return p}applyTransform(c,f=!1){const p=ut();kn(p,c);for(let m=0;m<this.path.length;m++){const v=this.path[m];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&xo(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),fs(v.latestValues)&&xo(p,v.latestValues)}return fs(this.latestValues)&&xo(p,this.latestValues),p}removeTransform(c){const f=ut();kn(f,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!fs(m.latestValues))continue;ap(m.latestValues)&&m.updateSnapshot();const v=ut(),w=m.measurePageBox();kn(v,w),s_(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return fs(this.latestValues)&&s_(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ul(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),$T(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ul(this.relativeTargetOrigin,this.target,I.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ja&&ds.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ap(this.parent.latestValues)||zT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),p=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;kn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,I=this.treeScale.y;gV(this.layoutCorrected,this.treeScale,this.path,p),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=ut());const{target:b}=f;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(n_(this.prevProjectionDelta.x,this.projectionDelta.x),n_(this.prevProjectionDelta.y,this.projectionDelta.y)),ll(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==I||!c_(this.projectionDelta.x,this.prevProjectionDelta.x)||!c_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ja&&ds.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Po(),this.projectionDelta=Po(),this.projectionDeltaWithTransform=Po()}setAnimationOrigin(c,f=!1){const p=this.snapshot,m=p?p.latestValues:{},v={...this.latestValues},w=Po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const T=ut(),I=p?p.source:void 0,b=this.layout?this.layout.source:void 0,O=I!==b,L=this.getStack(),W=!L||L.members.length<=1,G=!!(O&&!W&&this.options.crossfade===!0&&!this.path.some(tN));this.animationProgress=0;let J;this.mixTargetDelta=se=>{const ie=se/1e3;p_(w.x,c.x,ie),p_(w.y,c.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ul(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eN(this.relativeTarget,this.relativeTargetOrigin,T,ie),J&&FV(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=ut()),kn(J,this.relativeTarget)),O&&(this.animationValues=v,NV(v,m,this.latestValues,ie,G,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{wc.hasAnimatedSinceResize=!0,this.currentAnimation=PV(0,h_,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(h_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:p,layout:m,latestValues:v}=c;if(!(!f||!p||!m)){if(this!==c&&this.layout&&m&&ZT(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||ut();const w=_n(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+w;const T=_n(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+T}kn(f,p),xo(f,v),ll(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new jV),this.sharedNodes.get(c).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(f=!0),!f)return;const m={};p.z&&Ed("z",c,m,this.animationValues);for(let v=0;v<wd.length;v++)Ed(`rotate${wd[v]}`,c,m,this.animationValues),Ed(`skew${wd[v]}`,c,m,this.animationValues);c.render();for(const v in m)c.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);c.scheduleRender()}getProjectionStyles(c){var f,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return BV;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=vc(c?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=vc(c?.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(O.transform=v?v({},""):"none",this.hasProjected=!1),O}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=UV(this.projectionDeltaWithTransform,this.treeScale,T),v&&(m.transform=v(T,m.transform));const{x:I,y:b}=this.projectionDelta;m.transformOrigin=`${I.origin*100}% ${b.origin*100}% 0`,w.animationValues?m.opacity=w===this?(p=(f=T.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const O in Bc){if(T[O]===void 0)continue;const{correct:L,applyTo:W}=Bc[O],G=m.transform==="none"?T[O]:L(T[O],w);if(W){const J=W.length;for(let se=0;se<J;se++)m[W[se]]=G}else m[O]=G}return this.options.layoutId&&(m.pointerEvents=w===this?vc(c?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(f_),this.root.sharedNodes.clear()}}}function $V(n){n.updateLayout()}function HV(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?Vn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],I=_n(T);T.min=i[w].min,T.max=T.min+I}):ZT(l,t.layoutBox,i)&&Vn(w=>{const T=c?t.measuredBox[w]:t.layoutBox[w],I=_n(i[w]);T.max=T.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+I)});const f=Po();ll(f,i,t.layoutBox);const p=Po();c?ll(p,n.applyTransform(o,!0),t.measuredBox):ll(p,i,t.layoutBox);const m=!QT(f);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:I}=w;if(T&&I){const b=ut();ul(b,t.layoutBox,T.layoutBox);const O=ut();ul(O,i,I.layoutBox),XT(b,O)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=O,n.relativeTargetOrigin=b,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function WV(n){Ja&&ds.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function KV(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function qV(n){n.clearSnapshot()}function f_(n){n.clearMeasurements()}function GV(n){n.isLayoutDirty=!1}function QV(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function d_(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function XV(n){n.resolveTargetDelta()}function YV(n){n.calcProjection()}function JV(n){n.resetSkewAndRotation()}function ZV(n){n.removeLeadSnapshot()}function p_(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function m_(n,e,t,i){n.min=rt(e.min,t.min,i),n.max=rt(e.max,t.max,i)}function eN(n,e,t,i){m_(n.x,e.x,t.x,i),m_(n.y,e.y,t.y,i)}function tN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const nN={duration:.45,ease:[.4,0,.1,1]},g_=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),y_=g_("applewebkit/")&&!g_("chrome/")?Math.round:vn;function v_(n){n.min=y_(n.min),n.max=y_(n.max)}function rN(n){v_(n.x),v_(n.y)}function ZT(n,e,t){return n==="position"||n==="preserve-aspect"&&!oV(u_(e),u_(t),.2)}function iN(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const sN=JT({attachResizeListener:(n,e)=>El(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Td={current:void 0},e1=JT({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Td.current){const n=new sN({});n.mount(window),n.setOptions({layoutScroll:!0}),Td.current=n}return Td.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),oN={pan:{Feature:TV},drag:{Feature:EV,ProjectionNode:e1,MeasureLayout:KT}};function __(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,l=i[o];l&&Ye.postRender(()=>l(e,Dl(e)))}class aN extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=a2(e,t=>(__(this.node,t,"Start"),i=>__(this.node,i,"End"))))}unmount(){}}class lN extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nl(El(this.node.current,"focus",()=>this.onFocus()),El(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function w_(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),l=i[o];l&&Ye.postRender(()=>l(e,Dl(e)))}class uN extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=h2(e,t=>(w_(this.node,t,"Start"),(i,{success:o})=>w_(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const up=new WeakMap,Sd=new WeakMap,cN=n=>{const e=up.get(n.target);e&&e(n)},hN=n=>{n.forEach(cN)};function fN({root:n,...e}){const t=n||document;Sd.has(t)||Sd.set(t,{});const i=Sd.get(t),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(hN,{root:n,...e})),i[o]}function dN(n,e,t){const i=fN(e);return up.set(n,t),i.observe(n),()=>{up.delete(n),i.unobserve(n)}}const pN={some:0,all:1};class mN extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:o="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:pN[o]},f=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=m?v:w;T&&T(p)};return dN(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(gN(e,t))&&this.startObserver()}unmount(){}}function gN({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const t1={inView:{Feature:mN},tap:{Feature:uN},focus:{Feature:lN},hover:{Feature:aN}},yN={layout:{ProjectionNode:e1,MeasureLayout:KT}},cp={current:null},n1={current:!1};function vN(){if(n1.current=!0,!!Yp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>cp.current=n.matches;n.addListener(e),e()}else cp.current=!1}const _N=[...IT,Ht,Vi],wN=n=>_N.find(AT(n)),E_=new WeakMap;function EN(n,e,t){for(const i in e){const o=e[i],l=t[i];if(qt(o))n.addValue(i,o);else if(qt(l))n.addValue(i,_l(o,{owner:n}));else if(l!==o)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=n.getStaticValue(i);n.addValue(i,_l(c!==void 0?c:o,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const T_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class TN{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Im,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=yr.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,Ye.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:v}=c;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=t.initial?{...p}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=yh(t),this.isVariantNode=NE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const I in T){const b=T[I];p[I]!==void 0&&qt(b)&&b.set(p[I],!1)}}mount(e){this.current=e,E_.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),n1.current||vN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E_.delete(this.current),this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ps.has(e),o=t.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),l(),c&&c(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in zo){const t=zo[e];if(!t)continue;const{isEnabled:i,Feature:o}=t;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<T_.length;i++){const o=T_[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=EN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=_l(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(TT(o)||dT(o))?o=parseFloat(o):!wN(o)&&Vi.test(t)&&(o=_T(e,t)),this.setBaseTarget(e,qt(o)?o.get():o)),qt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const c=sm(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);c&&(o=c[e])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!qt(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new _m),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class r1 extends TN{constructor(){super(...arguments),this.KeyframeResolver=PT}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function SN(n){return window.getComputedStyle(n)}class AN extends r1{constructor(){super(...arguments),this.type="html",this.renderInstance=BE}readValueFromInstance(e,t){if(Ps.has(t)){const i=Am(t);return i&&i.default||0}else{const i=SN(e),o=(FE(t)?i.getPropertyValue(t):i[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return HT(e,t)}build(e,t,i){lm(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return fm(e,t,i)}}class IN extends r1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ps.has(t)){const i=Am(t);return i&&i.default||0}return t=zE.has(t)?t:nm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return WE(e,t,i)}build(e,t,i){um(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,o){$E(e,t,i,o)}mount(e){this.isSVGTag=hm(e.tagName),super.mount(e)}}const i1=(n,e)=>im(n)?new IN(e):new AN(e,{allowProjection:n!==ne.Fragment}),PN=t2({...LT,...t1,...oN,...yN},i1),Jt=gR(PN),CN={renderer:i1,...LT,...t1},xN={some:0,all:1};function RN(n,e,{root:t,margin:i,amount:o="some"}={}){const l=ZE(n),c=new WeakMap,f=m=>{m.forEach(v=>{const w=c.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const T=e(v);typeof T=="function"?c.set(v.target,T):p.unobserve(v.target)}else typeof w=="function"&&(w(v),c.delete(v.target))})},p=new IntersectionObserver(f,{root:t,rootMargin:i,threshold:typeof o=="number"?o:xN[o]});return l.forEach(m=>p.observe(m)),()=>p.disconnect()}function Rm(n,{root:e,margin:t,amount:i,once:o=!1}={}){const[l,c]=ne.useState(!1);return ne.useEffect(()=>{if(!n.current||o&&l)return;const f=()=>(c(!0),o?void 0:()=>c(!1)),p={root:e&&e.current||void 0,margin:t,amount:i};return RN(n.current,f,p)},[e,n,t,o,i]),l}const kN=()=>N.jsx("style",{children:`
        /* REFINED: A softer, more modern glass effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 1rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        /* REFINED: Smooth scrolling for anchor links */
        html {
            scroll-behavior: smooth;
        }
        /* ADMIN PANEL STYLES */
        .input-field {
            width: 100%;
            background-color: rgb(249 250 251 / 1); /* bg-gray-50 */
            border: 1px solid rgb(209 213 219 / 1); /* border-gray-300 */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 0.75rem 1rem;
            color: rgb(17 24 39 / 1); /* text-gray-900 */
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }
        .btn-primary {
            background-image: linear-gradient(to right, #3b82f6, #14b8a6);
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }
        .btn-secondary {
            background-color: transparent;
            border: 1px solid #d1d5db;
            color: #4b5563;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .btn-secondary:hover {
            background-color: #e5e7eb;
        }
    `}),VN=()=>N.jsx("div",{className:"flex justify-center items-center h-screen bg-[#fdfcf9]",children:N.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-t-2 border-b-2 border-teal-500"})}),bl=({children:n,id:e,className:t="",animateInView:i=!0})=>{const o=ne.useRef(null),l=Rm(o,{once:!0,amount:.2});return N.jsx(Jt.section,{id:e,ref:o,initial:i?{opacity:0,y:50}:!1,animate:i?{opacity:l?1:0,y:l?0:50}:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:`py-20 md:py-24 min-h-[50vh] ${t}`,children:n})},Ml=()=>{const n=ne.useRef(null),e=Rm(n,{once:!0,amount:.5});return N.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:N.jsx(Jt.div,{className:"h-full bg-gradient-to-r from-blue-500 to-teal-400 rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})},lc=()=>N.jsx("div",{className:"my-8 md:my-12",children:N.jsx("hr",{className:"border-t border-gray-200/80 max-w-4xl mx-auto"})}),NN=({isMobileMenuOpen:n,closeMobileMenu:e,toggleMobileMenu:t})=>{const i=N.jsxs(N.Fragment,{children:[N.jsx("a",{href:"#about",className:"hover:text-blue-500 transition-colors",onClick:e,children:"About"}),N.jsx("a",{href:"#experience",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Experience"}),N.jsx("a",{href:"#skills",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Skills"}),N.jsx("a",{href:"#achievements",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Achievements"}),N.jsx("a",{href:"#tools-tech",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Tech"}),N.jsx("a",{href:"#journey",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Journey"}),N.jsx("a",{href:"#projects",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Projects"}),N.jsx("a",{href:"#certifications",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Certificates"}),N.jsx("a",{href:"#contact",className:"hover:text-blue-500 transition-colors",onClick:e,children:"Contact"})]});return N.jsxs(Jt.header,{initial:{y:-100},animate:{y:0},transition:{duration:.8,ease:"easeOut"},className:"bg-white/70 backdrop-blur-md fixed top-0 left-0 w-full z-50 border-b border-gray-200/80",children:[N.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[N.jsx("a",{href:"#home",className:"flex items-center space-x-2",children:N.jsx("img",{src:"./assets/logo.png",alt:"Logo",className:"h-10 w-10 object-contain",onError:o=>{o.target.onerror=null,o.target.src="https://placehold.co/32x32/e2e8f0/334155?text=L"}})}),N.jsx("div",{className:"hidden md:flex space-x-8 items-center text-gray-600 font-medium",children:i}),N.jsx("button",{className:"md:hidden text-gray-600 hover:text-blue-500 focus:outline-none focus:text-blue-500",onClick:t,"aria-label":"Toggle navigation",children:N.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})]}),N.jsx(xE,{children:n&&N.jsx(Jt.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.3,ease:"easeOut"},className:"md:hidden fixed inset-0 bg-black/50 z-40 flex justify-end",children:N.jsxs(Jt.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.3,ease:"easeOut"},className:"relative h-full w-3/4 bg-white/95 backdrop-blur-lg shadow-lg py-8 px-6 flex flex-col items-center space-y-6 text-gray-700 font-medium",children:[N.jsx("button",{className:"absolute top-4 right-4 text-gray-600 hover:text-blue-500 focus:outline-none",onClick:e,"aria-label":"Close navigation",children:N.jsx("svg",{className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),N.jsx("div",{className:"mt-10 flex flex-col items-center space-y-6",children:i})]})})})]})},DN=()=>N.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-[#fcfaf7]",children:N.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[N.jsxs(Jt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[N.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-800 mb-4",children:[N.jsx("span",{className:"block mb-2 text-xl font-normal text-gray-500",children:"Hello, I'm"}),"Costas Pinto"]}),N.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400",children:"Data Science & ML Enthusiast"}),N.jsx("p",{className:"max-w-xl text-gray-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),N.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[N.jsxs(Jt.a,{href:"#",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-blue-500 to-teal-400 text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-blue-500/20 transition-all hover:shadow-xl",children:[N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:N.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),N.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-800 transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),N.jsx(Jt.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:N.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[N.jsx(Jt.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-teal-200 to-blue-300 rounded-full opacity-40 blur-3xl"}),N.jsx("div",{className:"relative z-10 flex justify-center items-center",children:N.jsx("img",{src:"./assets/Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})}),bN=()=>N.jsxs(bl,{id:"about",children:[N.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"About Me"}),N.jsx(Ml,{}),N.jsx("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:N.jsx("p",{className:"text-lg leading-relaxed text-gray-700 text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})})]}),S_=({date:n,title:e,company:t,details:i})=>N.jsxs(Jt.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-blue-200",children:[N.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-500 to-teal-400 rounded-full border-4 border-white"}),N.jsx("p",{className:"text-gray-500 mb-1 font-medium",children:n}),N.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:e}),N.jsx("p",{className:"text-lg text-teal-600 font-semibold mb-3",children:t}),N.jsx("ul",{className:"list-disc list-inside text-gray-600 space-y-2",children:i.map((o,l)=>N.jsx("li",{children:o},l))})]}),MN=()=>N.jsxs(bl,{id:"experience",children:[N.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Experience"}),N.jsx(Ml,{}),N.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[N.jsx(S_,{date:"Jul 2025 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables.","Collaborated with a cross-functional team to build dashboards and reports."]}),N.jsx(S_,{date:"Aug 2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]}),LN=()=>{const n=ne.useRef(null),e=Rm(n,{once:!0,amount:.3}),t={"Programming Languages":[{name:"Python",level:95},{name:"Java",level:85},{name:"JavaScript",level:90},{name:"SQL",level:88}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Power BI",level:85},{name:"Excel",level:92},{name:"Machine Learning",level:80},{name:"PostgreSQL",level:78},{name:"MongoDB",level:80}],"Web & App Development":[{name:"React",level:88},{name:"Firebase",level:85},{name:"Tailwind CSS",level:80},{name:"Vite",level:75},{name:"Streamlit",level:82}],"AI & Generative AI":[{name:"Generative AI",level:88},{name:"Prompt Engineering",level:90},{name:"LangChain",level:85},{name:"LLMs & RAG",level:80}],"Design & Presentation":[{name:"UI/UX Design",level:87},{name:"PowerPoint & Reporting",level:90}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:94}]};return N.jsxs(bl,{id:"skills",children:[N.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Skills"}),N.jsx(Ml,{}),N.jsx("div",{ref:n,className:"p-8 md:p-12 max-w-5xl mx-auto rounded-2xl glass-card space-y-12",children:Object.entries(t).map(([i,o])=>N.jsxs("div",{children:[N.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-4",children:i}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:o.map((l,c)=>N.jsxs("div",{children:[N.jsxs("div",{className:"flex justify-between mb-1",children:[N.jsx("span",{className:"text-lg font-semibold text-gray-700",children:l.name}),N.jsxs("span",{className:"text-sm font-medium text-teal-600",children:[l.level,"%"]})]}),N.jsx("div",{className:"bg-gray-200 w-full rounded-full h-2.5",children:N.jsx(Jt.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-teal-400",initial:{width:0},animate:{width:e?`${l.level}%`:0},transition:{duration:1,delay:.1*c,ease:"easeOut"}})})]},l.name))})]},i))})]})},ON=({projects:n})=>N.jsxs(bl,{id:"projects",animateInView:!1,children:[N.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"My Projects"}),N.jsx(Ml,{}),N.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?N.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>N.jsxs(Jt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},whileHover:{y:-8,scale:1.03,transition:{type:"spring",stiffness:300}},className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[N.jsx("img",{src:e.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:e.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),N.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),N.jsx("p",{className:"text-gray-600 flex-grow mb-4",children:e.description}),N.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags?.map(i=>N.jsx("span",{className:"bg-teal-100 text-teal-800 text-xs font-medium px-2.5 py-1 rounded-full",children:i},i))}),e.projectLink&&N.jsx("a",{href:e.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-500 rounded-full py-2 px-4 hover:bg-blue-500 hover:text-white transition-all duration-300",children:"View Project"})]},e.id))}):N.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:N.jsx("p",{className:"text-center text-gray-600 text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]}),FN=({licensesPdfUrl:n,internshipsPdfUrl:e})=>N.jsxs(bl,{id:"certifications",children:[N.jsx("h2",{className:"text-4xl font-bold text-gray-800 text-center",children:"Certificates"}),N.jsx(Ml,{}),N.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[N.jsx(Jt.a,{href:n||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-500 to-teal-400 ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),N.jsx(Jt.a,{href:e||"#",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-500 to-teal-400 ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),jN=()=>N.jsx("footer",{id:"contact",className:"bg-gray-100 border-t border-gray-200 mt-20",children:N.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[N.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Let's Connect"}),N.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto mb-8",children:"As a Data Analyst Intern at SkillFied Mentor, an MCA (AI & ML) Student at Manipal University Jaipur, and the Founder of JHT SMART STEPS LEARNING, I'm always eager to connect. Whether you have a project in mind, a question, or just want to say hi, my inbox is always open."}),N.jsx("a",{href:"mailto:costaspinto312@gmail.com",className:"inline-block text-2xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-teal-400 hover:opacity-80 transition-opacity mb-6",children:"costaspinto312@gmail.com"}),N.jsxs("div",{className:"flex justify-center items-center gap-6 mt-6",children:[N.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),N.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-gray-800 transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})}),N.jsx("a",{href:"https://MrCoss.github.io/Costas_Portfolio",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-blue-600 transition-colors",children:N.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"})})})]}),N.jsx("div",{className:"border-t border-gray-200 mt-12 pt-8 text-gray-500",children:N.jsxs("p",{children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})})]})}),UN=({onLogin:n,message:e})=>{const[t,i]=ne.useState(""),o=l=>{l.preventDefault(),n(t==="admin123")};return N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:N.jsxs("form",{onSubmit:o,className:"p-8 rounded-2xl w-full max-w-sm glass-card",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-800 text-center mb-6",children:"Admin Login"}),N.jsx("input",{type:"password",value:t,onChange:l=>i(l.target.value),placeholder:"Password",className:"w-full bg-gray-50 border border-gray-300 rounded-lg py-3 px-4 mb-4 text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"}),N.jsx("button",{type:"submit",className:"w-full text-white font-bold py-3 px-6 rounded-lg bg-gradient-to-r from-blue-500 to-teal-400",children:"Login"}),e&&N.jsx("p",{className:"text-red-500 text-center mt-4",children:e})]})})},BN=({db:n,fetchProjects:e,existingProject:t,onDone:i})=>{const[o,l]=ne.useState({title:t?.title||"",description:t?.description||"",tags:Array.isArray(t?.tags)?t.tags.join(", "):t?.tags||"",projectLink:t?.projectLink||"",imageUrl:t?.imageUrl||""}),[c,f]=ne.useState(""),p=!!t,m=w=>{const{name:T,value:I}=w.target;l(b=>({...b,[T]:I}))},v=async w=>{w.preventDefault(),f(p?"Updating...":"Adding...");const T=(o.tags||"").split(",").map(b=>b.trim()).filter(b=>b.length>0),I={...o,tags:T};try{p?await _x(Uo(n,"projects",t.id),I):await Ex(rE(n,"projects"),I),f(`Project ${p?"updated":"added"} successfully!`),e(),setTimeout(()=>i(),1500)}catch(b){console.error(b),f(`Error: ${b.message}`)}};return N.jsxs("div",{className:"p-8 rounded-2xl glass-card",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:p?"Edit Project":"Add New Project"}),N.jsxs("form",{onSubmit:v,className:"space-y-4",children:[N.jsx("input",{type:"text",name:"title",placeholder:"Project Title",value:o.title,onChange:m,className:"input-field",required:!0}),N.jsx("textarea",{name:"description",placeholder:"Description",value:o.description,onChange:m,className:"input-field",required:!0}),N.jsx("input",{type:"text",name:"tags",placeholder:"Tags (comma-separated)",value:o.tags,onChange:m,className:"input-field"}),N.jsx("input",{type:"url",name:"projectLink",placeholder:"Project Link (URL)",value:o.projectLink,onChange:m,className:"input-field"}),N.jsx("input",{type:"url",name:"imageUrl",placeholder:"Image URL (e.g., from Imgur, Cloudinary)",value:o.imageUrl,onChange:m,className:"input-field"}),N.jsx("button",{type:"submit",className:"btn-primary w-full",children:p?"Update Project":"Add Project"}),N.jsx("button",{type:"button",onClick:i,className:"btn-secondary w-full",children:"Cancel"}),c&&N.jsx("p",{className:"text-center mt-4 text-blue-700",children:c})]})]})},zN=({db:n,projects:e,fetchProjects:t})=>{const[i,o]=ne.useState(null),[l,c]=ne.useState(""),[f,p]=ne.useState(""),[m,v]=ne.useState("");if(i)return N.jsx(BN,{db:n,fetchProjects:t,existingProject:i,onDone:()=>o(null)});const w=async I=>{c("Deleting...");try{await wx(Uo(n,"projects",I)),c("Project deleted."),t()}catch(b){c(`Error: ${b.message}`)}},T=async(I,b,O)=>{I.preventDefault(),c(`Updating ${O}...`);try{await vx(Uo(n,"portfolioAssets",O),{pdfUrl:b}),c(`${O} link updated.`),O==="licenses"&&p(""),O==="internships"&&v("")}catch(L){c(`Error: ${L.message}`)}};return N.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"p-8 rounded-2xl glass-card lg:col-span-2",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Manage Projects"}),N.jsx("button",{onClick:()=>o({}),className:"btn-primary mb-4",children:"Add New Project"}),N.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2",children:N.jsx(xE,{children:e.map(I=>N.jsxs(Jt.div,{layout:!0,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},className:"flex justify-between items-center bg-white/50 p-3 rounded-lg",children:[N.jsx("span",{className:"text-gray-700 font-medium",children:I.title}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx("button",{onClick:()=>o(I),className:"text-blue-500 hover:underline",children:"Edit"}),N.jsx("button",{onClick:()=>w(I.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},I.id))})})]}),N.jsxs("div",{className:"p-8 rounded-2xl glass-card",children:[N.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Update PDFs"}),N.jsxs("form",{onSubmit:I=>T(I,f,"licenses"),className:"space-y-4 mb-6",children:[N.jsx("input",{type:"url",placeholder:"Licenses & Certs PDF Link",value:f,onChange:I=>p(I.target.value),className:"input-field",required:!0}),N.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Update Licenses"})]}),N.jsxs("form",{onSubmit:I=>T(I,m,"internships"),className:"space-y-4",children:[N.jsx("input",{type:"url",placeholder:"Internships PDF Link",value:m,onChange:I=>v(I.target.value),className:"input-field",required:!0}),N.jsx("button",{type:"submit",className:"btn-primary w-full",children:"Update Internships"})]})]}),l&&N.jsx("p",{className:"text-center p-3 rounded-lg bg-blue-500/10 text-blue-700 lg:col-span-2",children:l})]})},$N=({db:n,projects:e,fetchProjects:t})=>{const[i,o]=ne.useState(!1),[l,c]=ne.useState(""),f=p=>{o(p),p||c("Incorrect password.")};return N.jsx("div",{className:"bg-[#fdfcf9] min-h-screen",children:N.jsxs("div",{className:"container mx-auto px-6 py-12",children:[N.jsx("h1",{className:"text-4xl font-bold text-gray-800 text-center mb-12",children:"Admin Dashboard"}),i?N.jsx(zN,{db:n,projects:e,fetchProjects:t}):N.jsx(UN,{onLogin:f,message:l})]})})},HN={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},WN=N_(HN),uc=sx(WN);function KN(){const[n,e]=ne.useState("home"),[t,i]=ne.useState([]),[o,l]=ne.useState(""),[c,f]=ne.useState(""),[p,m]=ne.useState(!0),v=async()=>{try{const I=(await yx(rE(uc,"projects"))).docs.map(L=>({id:L.id,...L.data()}));i(I);const b=await Jv(Uo(uc,"portfolioAssets","licenses"));b.exists()&&l(b.data().pdfUrl);const O=await Jv(Uo(uc,"portfolioAssets","internships"));O.exists()&&f(O.data().pdfUrl)}catch(T){console.error("Error fetching data: ",T)}finally{m(!1)}};if(ne.useEffect(()=>{v();const T=()=>{const I=window.location.hash.replace("#","");e(I==="admin"?"admin":"home")};return window.addEventListener("hashchange",T,!1),T(),()=>window.removeEventListener("hashchange",T)},[]),p)return N.jsx(VN,{});const w=()=>n==="admin"?N.jsx($N,{db:uc,projects:t,fetchProjects:v}):N.jsxs(N.Fragment,{children:[N.jsx(NN,{}),N.jsxs("main",{className:"relative z-10",children:[N.jsx(DN,{}),N.jsxs("div",{className:"container mx-auto px-6",children:[N.jsx(bN,{}),N.jsx(lc,{}),N.jsx(MN,{}),N.jsx(lc,{}),N.jsx(LN,{}),N.jsx(lc,{}),N.jsx(ON,{projects:t}),N.jsx(lc,{}),N.jsx(FN,{licensesPdfUrl:o,internshipsPdfUrl:c})]})]}),N.jsx(jN,{})]});return N.jsx(fR,{features:CN,children:N.jsxs("div",{className:"bg-[#fcfaf7] text-gray-800 font-sans",children:[N.jsx(kN,{}),w()]})})}vS.createRoot(document.getElementById("root")).render(N.jsx(hS.StrictMode,{children:N.jsx(KN,{})}));
