(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();function dx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pm={exports:{}},Bu={},Cm={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw;function l2(){if(sw)return Re;sw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,k={};function b(j,Q,ue){this.props=j,this.context=Q,this.refs=k,this.updater=ue||x}b.prototype.isReactComponent={},b.prototype.setState=function(j,Q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Q,"setState")},b.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function F(){}F.prototype=b.prototype;function U(j,Q,ue){this.props=j,this.context=Q,this.refs=k,this.updater=ue||x}var q=U.prototype=new F;q.constructor=U,P(q,b.prototype),q.isPureReactComponent=!0;var G=Array.isArray,Y=Object.prototype.hasOwnProperty,ie={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(j,Q,ue){var Pe,Ae={},Le=null,He=null;if(Q!=null)for(Pe in Q.ref!==void 0&&(He=Q.ref),Q.key!==void 0&&(Le=""+Q.key),Q)Y.call(Q,Pe)&&!D.hasOwnProperty(Pe)&&(Ae[Pe]=Q[Pe]);var qe=arguments.length-2;if(qe===1)Ae.children=ue;else if(1<qe){for(var Je=Array(qe),Lt=0;Lt<qe;Lt++)Je[Lt]=arguments[Lt+2];Ae.children=Je}if(j&&j.defaultProps)for(Pe in qe=j.defaultProps,qe)Ae[Pe]===void 0&&(Ae[Pe]=qe[Pe]);return{$$typeof:n,type:j,key:Le,ref:He,props:Ae,_owner:ie.current}}function A(j,Q){return{$$typeof:n,type:j.type,key:Q,ref:j.ref,props:j.props,_owner:j._owner}}function V(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function N(j){var Q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return Q[ue]})}var z=/\/+/g;function M(j,Q){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):Q.toString(36)}function Ue(j,Q,ue,Pe,Ae){var Le=typeof j;(Le==="undefined"||Le==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(Le){case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case n:case e:He=!0}}if(He)return He=j,Ae=Ae(He),j=Pe===""?"."+M(He,0):Pe,G(Ae)?(ue="",j!=null&&(ue=j.replace(z,"$&/")+"/"),Ue(Ae,Q,ue,"",function(Lt){return Lt})):Ae!=null&&(V(Ae)&&(Ae=A(Ae,ue+(!Ae.key||He&&He.key===Ae.key?"":(""+Ae.key).replace(z,"$&/")+"/")+j)),Q.push(Ae)),1;if(He=0,Pe=Pe===""?".":Pe+":",G(j))for(var qe=0;qe<j.length;qe++){Le=j[qe];var Je=Pe+M(Le,qe);He+=Ue(Le,Q,ue,Je,Ae)}else if(Je=w(j),typeof Je=="function")for(j=Je.call(j),qe=0;!(Le=j.next()).done;)Le=Le.value,Je=Pe+M(Le,qe++),He+=Ue(Le,Q,ue,Je,Ae);else if(Le==="object")throw Q=String(j),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return He}function gt(j,Q,ue){if(j==null)return j;var Pe=[],Ae=0;return Ue(j,Pe,"","",function(Le){return Q.call(ue,Le,Ae++)}),Pe}function dt(j){if(j._status===-1){var Q=j._result;Q=Q(),Q.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=Q)}if(j._status===1)return j._result.default;throw j._result}var Ie={current:null},se={transition:null},ge={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:se,ReactCurrentOwner:ie};function te(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:gt,forEach:function(j,Q,ue){gt(j,function(){Q.apply(this,arguments)},ue)},count:function(j){var Q=0;return gt(j,function(){Q++}),Q},toArray:function(j){return gt(j,function(Q){return Q})||[]},only:function(j){if(!V(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Re.Component=b,Re.Fragment=t,Re.Profiler=r,Re.PureComponent=U,Re.StrictMode=i,Re.Suspense=d,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Re.act=te,Re.cloneElement=function(j,Q,ue){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Pe=P({},j.props),Ae=j.key,Le=j.ref,He=j._owner;if(Q!=null){if(Q.ref!==void 0&&(Le=Q.ref,He=ie.current),Q.key!==void 0&&(Ae=""+Q.key),j.type&&j.type.defaultProps)var qe=j.type.defaultProps;for(Je in Q)Y.call(Q,Je)&&!D.hasOwnProperty(Je)&&(Pe[Je]=Q[Je]===void 0&&qe!==void 0?qe[Je]:Q[Je])}var Je=arguments.length-2;if(Je===1)Pe.children=ue;else if(1<Je){qe=Array(Je);for(var Lt=0;Lt<Je;Lt++)qe[Lt]=arguments[Lt+2];Pe.children=qe}return{$$typeof:n,type:j.type,key:Ae,ref:Le,props:Pe,_owner:He}},Re.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Re.createElement=I,Re.createFactory=function(j){var Q=I.bind(null,j);return Q.type=j,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(j){return{$$typeof:c,render:j}},Re.isValidElement=V,Re.lazy=function(j){return{$$typeof:m,_payload:{_status:-1,_result:j},_init:dt}},Re.memo=function(j,Q){return{$$typeof:p,type:j,compare:Q===void 0?null:Q}},Re.startTransition=function(j){var Q=se.transition;se.transition={};try{j()}finally{se.transition=Q}},Re.unstable_act=te,Re.useCallback=function(j,Q){return Ie.current.useCallback(j,Q)},Re.useContext=function(j){return Ie.current.useContext(j)},Re.useDebugValue=function(){},Re.useDeferredValue=function(j){return Ie.current.useDeferredValue(j)},Re.useEffect=function(j,Q){return Ie.current.useEffect(j,Q)},Re.useId=function(){return Ie.current.useId()},Re.useImperativeHandle=function(j,Q,ue){return Ie.current.useImperativeHandle(j,Q,ue)},Re.useInsertionEffect=function(j,Q){return Ie.current.useInsertionEffect(j,Q)},Re.useLayoutEffect=function(j,Q){return Ie.current.useLayoutEffect(j,Q)},Re.useMemo=function(j,Q){return Ie.current.useMemo(j,Q)},Re.useReducer=function(j,Q,ue){return Ie.current.useReducer(j,Q,ue)},Re.useRef=function(j){return Ie.current.useRef(j)},Re.useState=function(j){return Ie.current.useState(j)},Re.useSyncExternalStore=function(j,Q,ue){return Ie.current.useSyncExternalStore(j,Q,ue)},Re.useTransition=function(){return Ie.current.useTransition()},Re.version="18.3.1",Re}var ow;function Ey(){return ow||(ow=1,Cm.exports=l2()),Cm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function u2(){if(aw)return Bu;aw=1;var n=Ey(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,v={},w=null,x=null;p!==void 0&&(w=""+p),d.key!==void 0&&(w=""+d.key),d.ref!==void 0&&(x=d.ref);for(m in d)i.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:c,key:w,ref:x,props:v,_owner:r.current}}return Bu.Fragment=t,Bu.jsx=l,Bu.jsxs=l,Bu}var lw;function c2(){return lw||(lw=1,Pm.exports=u2()),Pm.exports}var C=c2(),Z=Ey();const Xe=dx(Z);var sd={},km={exports:{}},An={},Am={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function h2(){return uw||(uw=1,function(n){function e(se,ge){var te=se.length;se.push(ge);e:for(;0<te;){var j=te-1>>>1,Q=se[j];if(0<r(Q,ge))se[j]=ge,se[te]=Q,te=j;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ge=se[0],te=se.pop();if(te!==ge){se[0]=te;e:for(var j=0,Q=se.length,ue=Q>>>1;j<ue;){var Pe=2*(j+1)-1,Ae=se[Pe],Le=Pe+1,He=se[Le];if(0>r(Ae,te))Le<Q&&0>r(He,Ae)?(se[j]=He,se[Le]=te,j=Le):(se[j]=Ae,se[Pe]=te,j=Pe);else if(Le<Q&&0>r(He,te))se[j]=He,se[Le]=te,j=Le;else break e}}return ge}function r(se,ge){var te=se.sortIndex-ge.sortIndex;return te!==0?te:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,v=null,w=3,x=!1,P=!1,k=!1,b=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(se){for(var ge=t(p);ge!==null;){if(ge.callback===null)i(p);else if(ge.startTime<=se)i(p),ge.sortIndex=ge.expirationTime,e(d,ge);else break;ge=t(p)}}function G(se){if(k=!1,q(se),!P)if(t(d)!==null)P=!0,dt(Y);else{var ge=t(p);ge!==null&&Ie(G,ge.startTime-se)}}function Y(se,ge){P=!1,k&&(k=!1,F(I),I=-1),x=!0;var te=w;try{for(q(ge),v=t(d);v!==null&&(!(v.expirationTime>ge)||se&&!N());){var j=v.callback;if(typeof j=="function"){v.callback=null,w=v.priorityLevel;var Q=j(v.expirationTime<=ge);ge=n.unstable_now(),typeof Q=="function"?v.callback=Q:v===t(d)&&i(d),q(ge)}else i(d);v=t(d)}if(v!==null)var ue=!0;else{var Pe=t(p);Pe!==null&&Ie(G,Pe.startTime-ge),ue=!1}return ue}finally{v=null,w=te,x=!1}}var ie=!1,D=null,I=-1,A=5,V=-1;function N(){return!(n.unstable_now()-V<A)}function z(){if(D!==null){var se=n.unstable_now();V=se;var ge=!0;try{ge=D(!0,se)}finally{ge?M():(ie=!1,D=null)}}else ie=!1}var M;if(typeof U=="function")M=function(){U(z)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,gt=Ue.port2;Ue.port1.onmessage=z,M=function(){gt.postMessage(null)}}else M=function(){b(z,0)};function dt(se){D=se,ie||(ie=!0,M())}function Ie(se,ge){I=b(function(){se(n.unstable_now())},ge)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){P||x||(P=!0,dt(Y))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(se){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var te=w;w=ge;try{return se()}finally{w=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var te=w;w=se;try{return ge()}finally{w=te}},n.unstable_scheduleCallback=function(se,ge,te){var j=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?j+te:j):te=j,se){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,se={id:m++,callback:ge,priorityLevel:se,startTime:te,expirationTime:Q,sortIndex:-1},te>j?(se.sortIndex=te,e(p,se),t(d)===null&&se===t(p)&&(k?(F(I),I=-1):k=!0,Ie(G,te-j))):(se.sortIndex=Q,e(d,se),P||x||(P=!0,dt(Y))),se},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(se){var ge=w;return function(){var te=w;w=ge;try{return se.apply(this,arguments)}finally{w=te}}}}(Rm)),Rm}var cw;function d2(){return cw||(cw=1,Am.exports=h2()),Am.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function f2(){if(hw)return An;hw=1;var n=Ey(),e=d2();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(r[s]=o,s=0;s<o.length;s++)i.add(o[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(s){return d.call(v,s)?!0:d.call(m,s)?!1:p.test(s)?v[s]=!0:(m[s]=!0,!1)}function x(s,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,u,f){if(o===null||typeof o>"u"||x(s,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function k(s,o,u,f,g,_,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=_,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new k(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];b[o]=new k(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new k(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new k(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new k(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new k(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new k(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new k(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new k(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function U(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,U);b[o]=new k(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,U);b[o]=new k(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,U);b[o]=new k(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new k(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new k(s,1,!1,s.toLowerCase(),null,!0,!0)});function q(s,o,u,f){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,u,g,f)&&(u=null),f||g===null?w(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):g.mustUseProperty?s[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,f=g.attributeNamespace,u===null?s.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?s.setAttributeNS(f,o,u):s.setAttribute(o,u))))}var G=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Y=Symbol.for("react.element"),ie=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),N=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var te=Object.assign,j;function Q(s){if(j===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);j=o&&o[1]||""}return`
`+j+s}var ue=!1;function Pe(s,o){if(!s||ue)return"";ue=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var f=W}Reflect.construct(s,[],o)}else{try{o.call()}catch(W){f=W}s.call(o.prototype)}else{try{throw Error()}catch(W){f=W}s()}}catch(W){if(W&&f&&typeof W.stack=="string"){for(var g=W.stack.split(`
`),_=f.stack.split(`
`),T=g.length-1,R=_.length-1;1<=T&&0<=R&&g[T]!==_[R];)R--;for(;1<=T&&0<=R;T--,R--)if(g[T]!==_[R]){if(T!==1||R!==1)do if(T--,R--,0>R||g[T]!==_[R]){var O=`
`+g[T].replace(" at new "," at ");return s.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",s.displayName)),O}while(1<=T&&0<=R);break}}}finally{ue=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Q(s):""}function Ae(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=Pe(s.type,!1),s;case 11:return s=Pe(s.type.render,!1),s;case 1:return s=Pe(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case D:return"Fragment";case ie:return"Portal";case A:return"Profiler";case I:return"StrictMode";case M:return"Suspense";case Ue:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case N:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case z:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case gt:return o=s.displayName||null,o!==null?o:Le(s.type)||"Memo";case dt:o=s._payload,s=s._init;try{return Le(s(o))}catch{}}return null}function He(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function qe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Je(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Lt(s){var o=Je(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),f=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return g.call(this)},set:function(T){f=""+T,_.call(this,T)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(T){f=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function hr(s){s._valueTracker||(s._valueTracker=Lt(s))}function ra(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return s&&(f=Je(s)?s.checked?"true":"false":s.value),s=f,s!==u?(o.setValue(s),!0):!1}function Hr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Gs(s,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function sa(s,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=qe(o.value!=null?o.value:u),s._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Kl(s,o){o=o.checked,o!=null&&q(s,"checked",o,!1)}function Ql(s,o){Kl(s,o);var u=qe(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?oa(s,o.type,u):o.hasOwnProperty("defaultValue")&&oa(s,o.type,qe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function Hc(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function oa(s,o,u){(o!=="number"||Hr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var dr=Array.isArray;function fr(s,o,u,f){if(s=s.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<s.length;u++)g=o.hasOwnProperty("$"+s[u].value),s[u].selected!==g&&(s[u].selected=g),g&&f&&(s[u].defaultSelected=!0)}else{for(u=""+qe(u),o=null,g=0;g<s.length;g++){if(s[g].value===u){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}o!==null||s[g].disabled||(o=s[g])}o!==null&&(o.selected=!0)}}function Yl(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function aa(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(dr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:qe(u)}}function la(s,o){var u=qe(o.value),f=qe(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),f!=null&&(s.defaultValue=""+f)}function Xl(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function Ct(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?Ct(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var pr,Jl=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,g){MSApp.execUnsafeLocalFunction(function(){return s(o,u,f,g)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(pr=pr||document.createElement("div"),pr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=pr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function qr(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qs=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(s){Qs.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),Ks[o]=Ks[s]})});function Zl(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Ks.hasOwnProperty(s)&&Ks[s]?(""+o).trim():o+"px"}function eu(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=Zl(u,o[u],f);u==="float"&&(u="cssFloat"),f?s.setProperty(u,g):s[u]=g}}var tu=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nu(s,o){if(o){if(tu[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function iu(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ys=null;function ua(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ca=null,Gn=null,Fi=null;function ha(s){if(s=Pu(s)){if(typeof ca!="function")throw Error(t(280));var o=s.stateNode;o&&(o=wh(o),ca(s.stateNode,s.type,o))}}function ji(s){Gn?Fi?Fi.push(s):Fi=[s]:Gn=s}function ru(){if(Gn){var s=Gn,o=Fi;if(Fi=Gn=null,ha(s),o)for(s=0;s<o.length;s++)ha(o[s])}}function Xs(s,o){return s(o)}function su(){}var mr=!1;function ou(s,o,u){if(mr)return s(o,u);mr=!0;try{return Xs(s,o,u)}finally{mr=!1,(Gn!==null||Fi!==null)&&(su(),ru())}}function yt(s,o){var u=s.stateNode;if(u===null)return null;var f=wh(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var da=!1;if(c)try{var hi={};Object.defineProperty(hi,"passive",{get:function(){da=!0}}),window.addEventListener("test",hi,hi),window.removeEventListener("test",hi,hi)}catch{da=!1}function Js(s,o,u,f,g,_,T,R,O){var W=Array.prototype.slice.call(arguments,3);try{o.apply(u,W)}catch(ne){this.onError(ne)}}var Zs=!1,fa=null,di=!1,au=null,tp={onError:function(s){Zs=!0,fa=s}};function pa(s,o,u,f,g,_,T,R,O){Zs=!1,fa=null,Js.apply(tp,arguments)}function qc(s,o,u,f,g,_,T,R,O){if(pa.apply(this,arguments),Zs){if(Zs){var W=fa;Zs=!1,fa=null}else throw Error(t(198));di||(di=!0,au=W)}}function fi(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function eo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function pi(s){if(fi(s)!==s)throw Error(t(188))}function Wc(s){var o=s.alternate;if(!o){if(o=fi(s),o===null)throw Error(t(188));return o!==s?null:s}for(var u=s,f=o;;){var g=u.return;if(g===null)break;var _=g.alternate;if(_===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===u)return pi(g),s;if(_===f)return pi(g),o;_=_.sibling}throw Error(t(188))}if(u.return!==f.return)u=g,f=_;else{for(var T=!1,R=g.child;R;){if(R===u){T=!0,u=g,f=_;break}if(R===f){T=!0,f=g,u=_;break}R=R.sibling}if(!T){for(R=_.child;R;){if(R===u){T=!0,u=_,f=g;break}if(R===f){T=!0,f=_,u=g;break}R=R.sibling}if(!T)throw Error(t(189))}}if(u.alternate!==f)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?s:o}function lu(s){return s=Wc(s),s!==null?ma(s):null}function ma(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=ma(s);if(o!==null)return o;s=s.sibling}return null}var ga=e.unstable_scheduleCallback,uu=e.unstable_cancelCallback,Gc=e.unstable_shouldYield,np=e.unstable_requestPaint,Ze=e.unstable_now,Kc=e.unstable_getCurrentPriorityLevel,to=e.unstable_ImmediatePriority,Wr=e.unstable_UserBlockingPriority,Kn=e.unstable_NormalPriority,cu=e.unstable_LowPriority,Qc=e.unstable_IdlePriority,no=null,Mn=null;function Yc(s){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(no,s,void 0,(s.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:Jc,hu=Math.log,Xc=Math.LN2;function Jc(s){return s>>>=0,s===0?32:31-(hu(s)/Xc|0)|0}var ya=64,va=4194304;function Gr(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function io(s,o){var u=s.pendingLanes;if(u===0)return 0;var f=0,g=s.suspendedLanes,_=s.pingedLanes,T=u&268435455;if(T!==0){var R=T&~g;R!==0?f=Gr(R):(_&=T,_!==0&&(f=Gr(_)))}else T=u&~g,T!==0?f=Gr(T):_!==0&&(f=Gr(_));if(f===0)return 0;if(o!==0&&o!==f&&(o&g)===0&&(g=f&-f,_=o&-o,g>=_||g===16&&(_&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=f;0<o;)u=31-yn(o),g=1<<u,f|=s[u],o&=~g;return f}function ip(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(s,o){for(var u=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var T=31-yn(_),R=1<<T,O=g[T];O===-1?((R&u)===0||(R&f)!==0)&&(g[T]=ip(R,o)):O<=o&&(s.expiredLanes|=R),_&=~R}}function Vn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ro(){var s=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),s}function Kr(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Qr(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-yn(o),s[o]=u}function Ye(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<u;){var g=31-yn(u),_=1<<g;o[g]=0,f[g]=-1,s[g]=-1,u&=~_}}function Yr(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var f=31-yn(u),g=1<<f;g&o|s[f]&o&&(s[f]|=o),u&=~g}}var Ne=0;function Xr(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Zc,_a,eh,th,nh,du=!1,zi=[],Ht=null,mi=null,gi=null,Jr=new Map,Qn=new Map,Ui=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ih(s,o){switch(s){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Jr.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(o.pointerId)}}function xn(s,o,u,f,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Pu(o),o!==null&&_a(o)),s):(s.eventSystemFlags|=f,o=s.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),s)}function sp(s,o,u,f,g){switch(o){case"focusin":return Ht=xn(Ht,s,o,u,f,g),!0;case"dragenter":return mi=xn(mi,s,o,u,f,g),!0;case"mouseover":return gi=xn(gi,s,o,u,f,g),!0;case"pointerover":var _=g.pointerId;return Jr.set(_,xn(Jr.get(_)||null,s,o,u,f,g)),!0;case"gotpointercapture":return _=g.pointerId,Qn.set(_,xn(Qn.get(_)||null,s,o,u,f,g)),!0}return!1}function rh(s){var o=uo(s.target);if(o!==null){var u=fi(o);if(u!==null){if(o=u.tag,o===13){if(o=eo(u),o!==null){s.blockedOn=o,nh(s.priority,function(){eh(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function yr(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=wa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Ys=f,u.target.dispatchEvent(f),Ys=null}else return o=Pu(u),o!==null&&_a(o),s.blockedOn=u,!1;o.shift()}return!0}function so(s,o,u){yr(s)&&u.delete(o)}function sh(){du=!1,Ht!==null&&yr(Ht)&&(Ht=null),mi!==null&&yr(mi)&&(mi=null),gi!==null&&yr(gi)&&(gi=null),Jr.forEach(so),Qn.forEach(so)}function yi(s,o){s.blockedOn===o&&(s.blockedOn=null,du||(du=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sh)))}function vi(s){function o(g){return yi(g,s)}if(0<zi.length){yi(zi[0],s);for(var u=1;u<zi.length;u++){var f=zi[u];f.blockedOn===s&&(f.blockedOn=null)}}for(Ht!==null&&yi(Ht,s),mi!==null&&yi(mi,s),gi!==null&&yi(gi,s),Jr.forEach(o),Qn.forEach(o),u=0;u<Ui.length;u++)f=Ui[u],f.blockedOn===s&&(f.blockedOn=null);for(;0<Ui.length&&(u=Ui[0],u.blockedOn===null);)rh(u),u.blockedOn===null&&Ui.shift()}var vr=G.ReactCurrentBatchConfig,Zr=!0;function ot(s,o,u,f){var g=Ne,_=vr.transition;vr.transition=null;try{Ne=1,fu(s,o,u,f)}finally{Ne=g,vr.transition=_}}function op(s,o,u,f){var g=Ne,_=vr.transition;vr.transition=null;try{Ne=4,fu(s,o,u,f)}finally{Ne=g,vr.transition=_}}function fu(s,o,u,f){if(Zr){var g=wa(s,o,u,f);if(g===null)yp(s,o,f,oo,u),ih(s,f);else if(sp(g,s,o,u,f))f.stopPropagation();else if(ih(s,f),o&4&&-1<rp.indexOf(s)){for(;g!==null;){var _=Pu(g);if(_!==null&&Zc(_),_=wa(s,o,u,f),_===null&&yp(s,o,f,oo,u),_===g)break;g=_}g!==null&&f.stopPropagation()}else yp(s,o,f,null,u)}}var oo=null;function wa(s,o,u,f){if(oo=null,s=ua(f),s=uo(s),s!==null)if(o=fi(s),o===null)s=null;else if(u=o.tag,u===13){if(s=eo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return oo=s,null}function pu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kc()){case to:return 1;case Wr:return 4;case Kn:case cu:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var On=null,Ea=null,Sn=null;function mu(){if(Sn)return Sn;var s,o=Ea,u=o.length,f,g="value"in On?On.value:On.textContent,_=g.length;for(s=0;s<u&&o[s]===g[s];s++);var T=u-s;for(f=1;f<=T&&o[u-f]===g[_-f];f++);return Sn=g.slice(s,1<f?1-f:void 0)}function Ta(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Bi(){return!0}function gu(){return!1}function qt(s){function o(u,f,g,_,T){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(u=s[R],this[R]=u?u(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Bi:gu,this.isPropagationStopped=gu,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),o}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=qt(_i),$i=te({},_i,{view:0,detail:0}),ap=qt($i),Sa,_r,es,ao=te({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hi,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==es&&(es&&s.type==="mousemove"?(Sa=s.screenX-es.screenX,_r=s.screenY-es.screenY):_r=Sa=0,es=s),Sa)},movementY:function(s){return"movementY"in s?s.movementY:_r}}),Ia=qt(ao),yu=te({},ao,{dataTransfer:0}),oh=qt(yu),ba=te({},$i,{relatedTarget:0}),Pa=qt(ba),ah=te({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=qt(ah),lh=te({},_i,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),uh=qt(lh),ch=te({},_i,{data:0}),vu=qt(ch),Ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dh(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=hh[s])?!!o[s]:!1}function Hi(){return dh}var h=te({},$i,{key:function(s){if(s.key){var o=Ca[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=Ta(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?vn[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hi,charCode:function(s){return s.type==="keypress"?Ta(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ta(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=qt(h),E=te({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=qt(E),B=te({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hi}),K=qt(B),ae=te({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=qt(ae),At=te({},ao,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=qt(At),Ft=[9,13,27,32],Tt=c&&"CompositionEvent"in window,Yn=null;c&&"documentMode"in document&&(Yn=document.documentMode);var Nn=c&&"TextEvent"in window&&!Yn,lo=c&&(!Tt||Yn&&8<Yn&&11>=Yn),ka=" ",Zv=!1;function e0(s,o){switch(s){case"keyup":return Ft.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Aa=!1;function sC(s,o){switch(s){case"compositionend":return t0(o);case"keypress":return o.which!==32?null:(Zv=!0,ka);case"textInput":return s=o.data,s===ka&&Zv?null:s;default:return null}}function oC(s,o){if(Aa)return s==="compositionend"||!Tt&&e0(s,o)?(s=mu(),Sn=Ea=On=null,Aa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return lo&&o.locale!=="ko"?null:o.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!aC[s.type]:o==="textarea"}function i0(s,o,u,f){ji(f),o=yh(o,"onChange"),0<o.length&&(u=new xa("onChange","change",null,u,f),s.push({event:u,listeners:o}))}var _u=null,wu=null;function lC(s){E0(s,0)}function fh(s){var o=Oa(s);if(ra(o))return s}function uC(s,o){if(s==="change")return o}var r0=!1;if(c){var lp;if(c){var up="oninput"in document;if(!up){var s0=document.createElement("div");s0.setAttribute("oninput","return;"),up=typeof s0.oninput=="function"}lp=up}else lp=!1;r0=lp&&(!document.documentMode||9<document.documentMode)}function o0(){_u&&(_u.detachEvent("onpropertychange",a0),wu=_u=null)}function a0(s){if(s.propertyName==="value"&&fh(wu)){var o=[];i0(o,wu,s,ua(s)),ou(lC,o)}}function cC(s,o,u){s==="focusin"?(o0(),_u=o,wu=u,_u.attachEvent("onpropertychange",a0)):s==="focusout"&&o0()}function hC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fh(wu)}function dC(s,o){if(s==="click")return fh(o)}function fC(s,o){if(s==="input"||s==="change")return fh(o)}function pC(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var wi=typeof Object.is=="function"?Object.is:pC;function Eu(s,o){if(wi(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(o,g)||!wi(s[g],o[g]))return!1}return!0}function l0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function u0(s,o){var u=l0(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=o&&f>=o)return{node:u,offset:o-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=l0(u)}}function c0(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?c0(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function h0(){for(var s=window,o=Hr();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=Hr(s.document)}return o}function cp(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function mC(s){var o=h0(),u=s.focusedElem,f=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&c0(u.ownerDocument.documentElement,u)){if(f!==null&&cp(u)){if(o=f.start,s=f.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var g=u.textContent.length,_=Math.min(f.start,g);f=f.end===void 0?_:Math.min(f.end,g),!s.extend&&_>f&&(g=f,f=_,_=g),g=u0(u,_);var T=u0(u,f);g&&T&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),s.removeAllRanges(),_>f?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gC=c&&"documentMode"in document&&11>=document.documentMode,Ra=null,hp=null,Tu=null,dp=!1;function d0(s,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;dp||Ra==null||Ra!==Hr(f)||(f=Ra,"selectionStart"in f&&cp(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Tu&&Eu(Tu,f)||(Tu=f,f=yh(hp,"onSelect"),0<f.length&&(o=new xa("onSelect","select",null,o,u),s.push({event:o,listeners:f}),o.target=Ra)))}function ph(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var Da={animationend:ph("Animation","AnimationEnd"),animationiteration:ph("Animation","AnimationIteration"),animationstart:ph("Animation","AnimationStart"),transitionend:ph("Transition","TransitionEnd")},fp={},f0={};c&&(f0=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function mh(s){if(fp[s])return fp[s];if(!Da[s])return s;var o=Da[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in f0)return fp[s]=o[u];return s}var p0=mh("animationend"),m0=mh("animationiteration"),g0=mh("animationstart"),y0=mh("transitionend"),v0=new Map,_0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(s,o){v0.set(s,o),a(o,[s])}for(var pp=0;pp<_0.length;pp++){var mp=_0[pp],yC=mp.toLowerCase(),vC=mp[0].toUpperCase()+mp.slice(1);ts(yC,"on"+vC)}ts(p0,"onAnimationEnd"),ts(m0,"onAnimationIteration"),ts(g0,"onAnimationStart"),ts("dblclick","onDoubleClick"),ts("focusin","onFocus"),ts("focusout","onBlur"),ts(y0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_C=new Set("cancel close invalid load scroll toggle".split(" ").concat(xu));function w0(s,o,u){var f=s.type||"unknown-event";s.currentTarget=u,qc(f,o,void 0,s),s.currentTarget=null}function E0(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],g=f.event;f=f.listeners;e:{var _=void 0;if(o)for(var T=f.length-1;0<=T;T--){var R=f[T],O=R.instance,W=R.currentTarget;if(R=R.listener,O!==_&&g.isPropagationStopped())break e;w0(g,R,W),_=O}else for(T=0;T<f.length;T++){if(R=f[T],O=R.instance,W=R.currentTarget,R=R.listener,O!==_&&g.isPropagationStopped())break e;w0(g,R,W),_=O}}}if(di)throw s=au,di=!1,au=null,s}function tt(s,o){var u=o[xp];u===void 0&&(u=o[xp]=new Set);var f=s+"__bubble";u.has(f)||(T0(o,s,2,!1),u.add(f))}function gp(s,o,u){var f=0;o&&(f|=4),T0(u,s,f,o)}var gh="_reactListening"+Math.random().toString(36).slice(2);function Su(s){if(!s[gh]){s[gh]=!0,i.forEach(function(u){u!=="selectionchange"&&(_C.has(u)||gp(u,!1,s),gp(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[gh]||(o[gh]=!0,gp("selectionchange",!1,o))}}function T0(s,o,u,f){switch(pu(o)){case 1:var g=ot;break;case 4:g=op;break;default:g=fu}u=g.bind(null,o,u,s),g=void 0,!da||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(o,u,{capture:!0,passive:g}):s.addEventListener(o,u,!0):g!==void 0?s.addEventListener(o,u,{passive:g}):s.addEventListener(o,u,!1)}function yp(s,o,u,f,g){var _=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var T=f.tag;if(T===3||T===4){var R=f.stateNode.containerInfo;if(R===g||R.nodeType===8&&R.parentNode===g)break;if(T===4)for(T=f.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===g||O.nodeType===8&&O.parentNode===g))return;T=T.return}for(;R!==null;){if(T=uo(R),T===null)return;if(O=T.tag,O===5||O===6){f=_=T;continue e}R=R.parentNode}}f=f.return}ou(function(){var W=_,ne=ua(u),re=[];e:{var ee=v0.get(s);if(ee!==void 0){var ce=xa,fe=s;switch(s){case"keypress":if(Ta(u)===0)break e;case"keydown":case"keyup":ce=y;break;case"focusin":fe="focus",ce=Pa;break;case"focusout":fe="blur",ce=Pa;break;case"beforeblur":case"afterblur":ce=Pa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=K;break;case p0:case m0:case g0:ce=wr;break;case y0:ce=Ge;break;case"scroll":ce=ap;break;case"wheel":ce=Fe;break;case"copy":case"cut":case"paste":ce=uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var pe=(o&4)!==0,vt=!pe&&s==="scroll",$=pe?ee!==null?ee+"Capture":null:ee;pe=[];for(var L=W,H;L!==null;){H=L;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,$!==null&&(oe=yt(L,$),oe!=null&&pe.push(Iu(L,oe,H)))),vt)break;L=L.return}0<pe.length&&(ee=new ce(ee,fe,null,u,ne),re.push({event:ee,listeners:pe}))}}if((o&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ee&&u!==Ys&&(fe=u.relatedTarget||u.fromElement)&&(uo(fe)||fe[Er]))break e;if((ce||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ce?(fe=u.relatedTarget||u.toElement,ce=W,fe=fe?uo(fe):null,fe!==null&&(vt=fi(fe),fe!==vt||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(ce=null,fe=W),ce!==fe)){if(pe=Ia,oe="onMouseLeave",$="onMouseEnter",L="mouse",(s==="pointerout"||s==="pointerover")&&(pe=S,oe="onPointerLeave",$="onPointerEnter",L="pointer"),vt=ce==null?ee:Oa(ce),H=fe==null?ee:Oa(fe),ee=new pe(oe,L+"leave",ce,u,ne),ee.target=vt,ee.relatedTarget=H,oe=null,uo(ne)===W&&(pe=new pe($,L+"enter",fe,u,ne),pe.target=H,pe.relatedTarget=vt,oe=pe),vt=oe,ce&&fe)t:{for(pe=ce,$=fe,L=0,H=pe;H;H=Ma(H))L++;for(H=0,oe=$;oe;oe=Ma(oe))H++;for(;0<L-H;)pe=Ma(pe),L--;for(;0<H-L;)$=Ma($),H--;for(;L--;){if(pe===$||$!==null&&pe===$.alternate)break t;pe=Ma(pe),$=Ma($)}pe=null}else pe=null;ce!==null&&x0(re,ee,ce,pe,!1),fe!==null&&vt!==null&&x0(re,vt,fe,pe,!0)}}e:{if(ee=W?Oa(W):window,ce=ee.nodeName&&ee.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ee.type==="file")var ye=uC;else if(n0(ee))if(r0)ye=fC;else{ye=hC;var we=cC}else(ce=ee.nodeName)&&ce.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ye=dC);if(ye&&(ye=ye(s,W))){i0(re,ye,u,ne);break e}we&&we(s,ee,W),s==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&oa(ee,"number",ee.value)}switch(we=W?Oa(W):window,s){case"focusin":(n0(we)||we.contentEditable==="true")&&(Ra=we,hp=W,Tu=null);break;case"focusout":Tu=hp=Ra=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,d0(re,u,ne);break;case"selectionchange":if(gC)break;case"keydown":case"keyup":d0(re,u,ne)}var Ee;if(Tt)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Aa?e0(s,u)&&(be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(be="onCompositionStart");be&&(lo&&u.locale!=="ko"&&(Aa||be!=="onCompositionStart"?be==="onCompositionEnd"&&Aa&&(Ee=mu()):(On=ne,Ea="value"in On?On.value:On.textContent,Aa=!0)),we=yh(W,be),0<we.length&&(be=new vu(be,s,null,u,ne),re.push({event:be,listeners:we}),Ee?be.data=Ee:(Ee=t0(u),Ee!==null&&(be.data=Ee)))),(Ee=Nn?sC(s,u):oC(s,u))&&(W=yh(W,"onBeforeInput"),0<W.length&&(ne=new vu("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:W}),ne.data=Ee))}E0(re,o)})}function Iu(s,o,u){return{instance:s,listener:o,currentTarget:u}}function yh(s,o){for(var u=o+"Capture",f=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=yt(s,u),_!=null&&f.unshift(Iu(s,_,g)),_=yt(s,o),_!=null&&f.push(Iu(s,_,g))),s=s.return}return f}function Ma(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function x0(s,o,u,f,g){for(var _=o._reactName,T=[];u!==null&&u!==f;){var R=u,O=R.alternate,W=R.stateNode;if(O!==null&&O===f)break;R.tag===5&&W!==null&&(R=W,g?(O=yt(u,_),O!=null&&T.unshift(Iu(u,O,R))):g||(O=yt(u,_),O!=null&&T.push(Iu(u,O,R)))),u=u.return}T.length!==0&&s.push({event:o,listeners:T})}var wC=/\r\n?/g,EC=/\u0000|\uFFFD/g;function S0(s){return(typeof s=="string"?s:""+s).replace(wC,`
`).replace(EC,"")}function vh(s,o,u){if(o=S0(o),S0(s)!==o&&u)throw Error(t(425))}function _h(){}var vp=null,_p=null;function wp(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,TC=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,xC=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(s){return I0.resolve(null).then(s).catch(SC)}:Ep;function SC(s){setTimeout(function(){throw s})}function Tp(s,o){var u=o,f=0;do{var g=u.nextSibling;if(s.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){s.removeChild(g),vi(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);vi(o)}function ns(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function b0(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var Va=Math.random().toString(36).slice(2),qi="__reactFiber$"+Va,bu="__reactProps$"+Va,Er="__reactContainer$"+Va,xp="__reactEvents$"+Va,IC="__reactListeners$"+Va,bC="__reactHandles$"+Va;function uo(s){var o=s[qi];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Er]||u[qi]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=b0(s);s!==null;){if(u=s[qi])return u;s=b0(s)}return o}s=u,u=s.parentNode}return null}function Pu(s){return s=s[qi]||s[Er],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Oa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function wh(s){return s[bu]||null}var Sp=[],Na=-1;function is(s){return{current:s}}function nt(s){0>Na||(s.current=Sp[Na],Sp[Na]=null,Na--)}function et(s,o){Na++,Sp[Na]=s.current,s.current=o}var rs={},Zt=is(rs),In=is(!1),co=rs;function La(s,o){var u=s.type.contextTypes;if(!u)return rs;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in u)g[_]=o[_];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=g),g}function bn(s){return s=s.childContextTypes,s!=null}function Eh(){nt(In),nt(Zt)}function P0(s,o,u){if(Zt.current!==rs)throw Error(t(168));et(Zt,o),et(In,u)}function C0(s,o,u){var f=s.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in o))throw Error(t(108,He(s)||"Unknown",g));return te({},u,f)}function Th(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||rs,co=Zt.current,et(Zt,s),et(In,In.current),!0}function k0(s,o,u){var f=s.stateNode;if(!f)throw Error(t(169));u?(s=C0(s,o,co),f.__reactInternalMemoizedMergedChildContext=s,nt(In),nt(Zt),et(Zt,s)):nt(In),et(In,u)}var Tr=null,xh=!1,Ip=!1;function A0(s){Tr===null?Tr=[s]:Tr.push(s)}function PC(s){xh=!0,A0(s)}function ss(){if(!Ip&&Tr!==null){Ip=!0;var s=0,o=Ne;try{var u=Tr;for(Ne=1;s<u.length;s++){var f=u[s];do f=f(!0);while(f!==null)}Tr=null,xh=!1}catch(g){throw Tr!==null&&(Tr=Tr.slice(s+1)),ga(to,ss),g}finally{Ne=o,Ip=!1}}return null}var Fa=[],ja=0,Sh=null,Ih=0,Xn=[],Jn=0,ho=null,xr=1,Sr="";function fo(s,o){Fa[ja++]=Ih,Fa[ja++]=Sh,Sh=s,Ih=o}function R0(s,o,u){Xn[Jn++]=xr,Xn[Jn++]=Sr,Xn[Jn++]=ho,ho=s;var f=xr;s=Sr;var g=32-yn(f)-1;f&=~(1<<g),u+=1;var _=32-yn(o)+g;if(30<_){var T=g-g%5;_=(f&(1<<T)-1).toString(32),f>>=T,g-=T,xr=1<<32-yn(o)+g|u<<g|f,Sr=_+s}else xr=1<<_|u<<g|f,Sr=s}function bp(s){s.return!==null&&(fo(s,1),R0(s,1,0))}function Pp(s){for(;s===Sh;)Sh=Fa[--ja],Fa[ja]=null,Ih=Fa[--ja],Fa[ja]=null;for(;s===ho;)ho=Xn[--Jn],Xn[Jn]=null,Sr=Xn[--Jn],Xn[Jn]=null,xr=Xn[--Jn],Xn[Jn]=null}var Ln=null,Fn=null,at=!1,Ei=null;function D0(s,o){var u=ni(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function M0(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Ln=s,Fn=ns(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Ln=s,Fn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=ho!==null?{id:xr,overflow:Sr}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=ni(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Ln=s,Fn=null,!0):!1;default:return!1}}function Cp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function kp(s){if(at){var o=Fn;if(o){var u=o;if(!M0(s,o)){if(Cp(s))throw Error(t(418));o=ns(u.nextSibling);var f=Ln;o&&M0(s,o)?D0(f,u):(s.flags=s.flags&-4097|2,at=!1,Ln=s)}}else{if(Cp(s))throw Error(t(418));s.flags=s.flags&-4097|2,at=!1,Ln=s}}}function V0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ln=s}function bh(s){if(s!==Ln)return!1;if(!at)return V0(s),at=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!wp(s.type,s.memoizedProps)),o&&(o=Fn)){if(Cp(s))throw O0(),Error(t(418));for(;o;)D0(s,o),o=ns(o.nextSibling)}if(V0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Fn=ns(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Fn=null}}else Fn=Ln?ns(s.stateNode.nextSibling):null;return!0}function O0(){for(var s=Fn;s;)s=ns(s.nextSibling)}function za(){Fn=Ln=null,at=!1}function Ap(s){Ei===null?Ei=[s]:Ei.push(s)}var CC=G.ReactCurrentBatchConfig;function Cu(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var f=u.stateNode}if(!f)throw Error(t(147,s));var g=f,_=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===_?o.ref:(o=function(T){var R=g.refs;T===null?delete R[_]:R[_]=T},o._stringRef=_,o)}if(typeof s!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,s))}return s}function Ph(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function N0(s){var o=s._init;return o(s._payload)}function L0(s){function o($,L){if(s){var H=$.deletions;H===null?($.deletions=[L],$.flags|=16):H.push(L)}}function u($,L){if(!s)return null;for(;L!==null;)o($,L),L=L.sibling;return null}function f($,L){for($=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function g($,L){return $=fs($,L),$.index=0,$.sibling=null,$}function _($,L,H){return $.index=H,s?(H=$.alternate,H!==null?(H=H.index,H<L?($.flags|=2,L):H):($.flags|=2,L)):($.flags|=1048576,L)}function T($){return s&&$.alternate===null&&($.flags|=2),$}function R($,L,H,oe){return L===null||L.tag!==6?(L=Em(H,$.mode,oe),L.return=$,L):(L=g(L,H),L.return=$,L)}function O($,L,H,oe){var ye=H.type;return ye===D?ne($,L,H.props.children,oe,H.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===dt&&N0(ye)===L.type)?(oe=g(L,H.props),oe.ref=Cu($,L,H),oe.return=$,oe):(oe=Xh(H.type,H.key,H.props,null,$.mode,oe),oe.ref=Cu($,L,H),oe.return=$,oe)}function W($,L,H,oe){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Tm(H,$.mode,oe),L.return=$,L):(L=g(L,H.children||[]),L.return=$,L)}function ne($,L,H,oe,ye){return L===null||L.tag!==7?(L=Eo(H,$.mode,oe,ye),L.return=$,L):(L=g(L,H),L.return=$,L)}function re($,L,H){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Em(""+L,$.mode,H),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return H=Xh(L.type,L.key,L.props,null,$.mode,H),H.ref=Cu($,null,L),H.return=$,H;case ie:return L=Tm(L,$.mode,H),L.return=$,L;case dt:var oe=L._init;return re($,oe(L._payload),H)}if(dr(L)||ge(L))return L=Eo(L,$.mode,H,null),L.return=$,L;Ph($,L)}return null}function ee($,L,H,oe){var ye=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ye!==null?null:R($,L,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case Y:return H.key===ye?O($,L,H,oe):null;case ie:return H.key===ye?W($,L,H,oe):null;case dt:return ye=H._init,ee($,L,ye(H._payload),oe)}if(dr(H)||ge(H))return ye!==null?null:ne($,L,H,oe,null);Ph($,H)}return null}function ce($,L,H,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $=$.get(H)||null,R(L,$,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case Y:return $=$.get(oe.key===null?H:oe.key)||null,O(L,$,oe,ye);case ie:return $=$.get(oe.key===null?H:oe.key)||null,W(L,$,oe,ye);case dt:var we=oe._init;return ce($,L,H,we(oe._payload),ye)}if(dr(oe)||ge(oe))return $=$.get(H)||null,ne(L,$,oe,ye,null);Ph(L,oe)}return null}function fe($,L,H,oe){for(var ye=null,we=null,Ee=L,be=L=0,Ut=null;Ee!==null&&be<H.length;be++){Ee.index>be?(Ut=Ee,Ee=null):Ut=Ee.sibling;var Be=ee($,Ee,H[be],oe);if(Be===null){Ee===null&&(Ee=Ut);break}s&&Ee&&Be.alternate===null&&o($,Ee),L=_(Be,L,be),we===null?ye=Be:we.sibling=Be,we=Be,Ee=Ut}if(be===H.length)return u($,Ee),at&&fo($,be),ye;if(Ee===null){for(;be<H.length;be++)Ee=re($,H[be],oe),Ee!==null&&(L=_(Ee,L,be),we===null?ye=Ee:we.sibling=Ee,we=Ee);return at&&fo($,be),ye}for(Ee=f($,Ee);be<H.length;be++)Ut=ce(Ee,$,be,H[be],oe),Ut!==null&&(s&&Ut.alternate!==null&&Ee.delete(Ut.key===null?be:Ut.key),L=_(Ut,L,be),we===null?ye=Ut:we.sibling=Ut,we=Ut);return s&&Ee.forEach(function(ps){return o($,ps)}),at&&fo($,be),ye}function pe($,L,H,oe){var ye=ge(H);if(typeof ye!="function")throw Error(t(150));if(H=ye.call(H),H==null)throw Error(t(151));for(var we=ye=null,Ee=L,be=L=0,Ut=null,Be=H.next();Ee!==null&&!Be.done;be++,Be=H.next()){Ee.index>be?(Ut=Ee,Ee=null):Ut=Ee.sibling;var ps=ee($,Ee,Be.value,oe);if(ps===null){Ee===null&&(Ee=Ut);break}s&&Ee&&ps.alternate===null&&o($,Ee),L=_(ps,L,be),we===null?ye=ps:we.sibling=ps,we=ps,Ee=Ut}if(Be.done)return u($,Ee),at&&fo($,be),ye;if(Ee===null){for(;!Be.done;be++,Be=H.next())Be=re($,Be.value,oe),Be!==null&&(L=_(Be,L,be),we===null?ye=Be:we.sibling=Be,we=Be);return at&&fo($,be),ye}for(Ee=f($,Ee);!Be.done;be++,Be=H.next())Be=ce(Ee,$,be,Be.value,oe),Be!==null&&(s&&Be.alternate!==null&&Ee.delete(Be.key===null?be:Be.key),L=_(Be,L,be),we===null?ye=Be:we.sibling=Be,we=Be);return s&&Ee.forEach(function(a2){return o($,a2)}),at&&fo($,be),ye}function vt($,L,H,oe){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case Y:e:{for(var ye=H.key,we=L;we!==null;){if(we.key===ye){if(ye=H.type,ye===D){if(we.tag===7){u($,we.sibling),L=g(we,H.props.children),L.return=$,$=L;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===dt&&N0(ye)===we.type){u($,we.sibling),L=g(we,H.props),L.ref=Cu($,we,H),L.return=$,$=L;break e}u($,we);break}else o($,we);we=we.sibling}H.type===D?(L=Eo(H.props.children,$.mode,oe,H.key),L.return=$,$=L):(oe=Xh(H.type,H.key,H.props,null,$.mode,oe),oe.ref=Cu($,L,H),oe.return=$,$=oe)}return T($);case ie:e:{for(we=H.key;L!==null;){if(L.key===we)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){u($,L.sibling),L=g(L,H.children||[]),L.return=$,$=L;break e}else{u($,L);break}else o($,L);L=L.sibling}L=Tm(H,$.mode,oe),L.return=$,$=L}return T($);case dt:return we=H._init,vt($,L,we(H._payload),oe)}if(dr(H))return fe($,L,H,oe);if(ge(H))return pe($,L,H,oe);Ph($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,L!==null&&L.tag===6?(u($,L.sibling),L=g(L,H),L.return=$,$=L):(u($,L),L=Em(H,$.mode,oe),L.return=$,$=L),T($)):u($,L)}return vt}var Ua=L0(!0),F0=L0(!1),Ch=is(null),kh=null,Ba=null,Rp=null;function Dp(){Rp=Ba=kh=null}function Mp(s){var o=Ch.current;nt(Ch),s._currentValue=o}function Vp(s,o,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),s===u)break;s=s.return}}function $a(s,o){kh=s,Rp=Ba=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Pn=!0),s.firstContext=null)}function Zn(s){var o=s._currentValue;if(Rp!==s)if(s={context:s,memoizedValue:o,next:null},Ba===null){if(kh===null)throw Error(t(308));Ba=s,kh.dependencies={lanes:0,firstContext:s}}else Ba=Ba.next=s;return o}var po=null;function Op(s){po===null?po=[s]:po.push(s)}function j0(s,o,u,f){var g=o.interleaved;return g===null?(u.next=u,Op(o)):(u.next=g.next,g.next=u),o.interleaved=u,Ir(s,f)}function Ir(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var os=!1;function Np(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function br(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function as(s,o,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(ze&2)!==0){var g=f.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),f.pending=o,Ir(s,u)}return g=f.interleaved,g===null?(o.next=o,Op(f)):(o.next=g.next,g.next=o),f.interleaved=o,Ir(s,u)}function Ah(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Yr(s,u)}}function U0(s,o){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,_=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};_===null?g=_=T:_=_.next=T,u=u.next}while(u!==null);_===null?g=_=o:_=_.next=o}else g=_=o;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:f.shared,effects:f.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Rh(s,o,u,f){var g=s.updateQueue;os=!1;var _=g.firstBaseUpdate,T=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var O=R,W=O.next;O.next=null,T===null?_=W:T.next=W,T=O;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==T&&(R===null?ne.firstBaseUpdate=W:R.next=W,ne.lastBaseUpdate=O))}if(_!==null){var re=g.baseState;T=0,ne=W=O=null,R=_;do{var ee=R.lane,ce=R.eventTime;if((f&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ce,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var fe=s,pe=R;switch(ee=o,ce=u,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){re=fe.call(ce,re,ee);break e}re=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,ee=typeof fe=="function"?fe.call(ce,re,ee):fe,ee==null)break e;re=te({},re,ee);break e;case 2:os=!0}}R.callback!==null&&R.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[R]:ee.push(R))}else ce={eventTime:ce,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(W=ne=ce,O=re):ne=ne.next=ce,T|=ee;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(ne===null&&(O=re),g.baseState=O,g.firstBaseUpdate=W,g.lastBaseUpdate=ne,o=g.shared.interleaved,o!==null){g=o;do T|=g.lane,g=g.next;while(g!==o)}else _===null&&(g.shared.lanes=0);yo|=T,s.lanes=T,s.memoizedState=re}}function B0(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var f=s[o],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var ku={},Wi=is(ku),Au=is(ku),Ru=is(ku);function mo(s){if(s===ku)throw Error(t(174));return s}function Lp(s,o){switch(et(Ru,o),et(Au,s),et(Wi,ku),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:kt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=kt(o,s)}nt(Wi),et(Wi,o)}function Ha(){nt(Wi),nt(Au),nt(Ru)}function $0(s){mo(Ru.current);var o=mo(Wi.current),u=kt(o,s.type);o!==u&&(et(Au,s),et(Wi,u))}function Fp(s){Au.current===s&&(nt(Wi),nt(Au))}var lt=is(0);function Dh(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var jp=[];function zp(){for(var s=0;s<jp.length;s++)jp[s]._workInProgressVersionPrimary=null;jp.length=0}var Mh=G.ReactCurrentDispatcher,Up=G.ReactCurrentBatchConfig,go=0,ut=null,Rt=null,jt=null,Vh=!1,Du=!1,Mu=0,kC=0;function en(){throw Error(t(321))}function Bp(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!wi(s[u],o[u]))return!1;return!0}function $p(s,o,u,f,g,_){if(go=_,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Mh.current=s===null||s.memoizedState===null?MC:VC,s=u(f,g),Du){_=0;do{if(Du=!1,Mu=0,25<=_)throw Error(t(301));_+=1,jt=Rt=null,o.updateQueue=null,Mh.current=OC,s=u(f,g)}while(Du)}if(Mh.current=Lh,o=Rt!==null&&Rt.next!==null,go=0,jt=Rt=ut=null,Vh=!1,o)throw Error(t(300));return s}function Hp(){var s=Mu!==0;return Mu=0,s}function Gi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?ut.memoizedState=jt=s:jt=jt.next=s,jt}function ei(){if(Rt===null){var s=ut.alternate;s=s!==null?s.memoizedState:null}else s=Rt.next;var o=jt===null?ut.memoizedState:jt.next;if(o!==null)jt=o,Rt=s;else{if(s===null)throw Error(t(310));Rt=s,s={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},jt===null?ut.memoizedState=jt=s:jt=jt.next=s}return jt}function Vu(s,o){return typeof o=="function"?o(s):o}function qp(s){var o=ei(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=Rt,g=f.baseQueue,_=u.pending;if(_!==null){if(g!==null){var T=g.next;g.next=_.next,_.next=T}f.baseQueue=g=_,u.pending=null}if(g!==null){_=g.next,f=f.baseState;var R=T=null,O=null,W=_;do{var ne=W.lane;if((go&ne)===ne)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),f=W.hasEagerState?W.eagerState:s(f,W.action);else{var re={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(R=O=re,T=f):O=O.next=re,ut.lanes|=ne,yo|=ne}W=W.next}while(W!==null&&W!==_);O===null?T=f:O.next=R,wi(f,o.memoizedState)||(Pn=!0),o.memoizedState=f,o.baseState=T,o.baseQueue=O,u.lastRenderedState=f}if(s=u.interleaved,s!==null){g=s;do _=g.lane,ut.lanes|=_,yo|=_,g=g.next;while(g!==s)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Wp(s){var o=ei(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=s;var f=u.dispatch,g=u.pending,_=o.memoizedState;if(g!==null){u.pending=null;var T=g=g.next;do _=s(_,T.action),T=T.next;while(T!==g);wi(_,o.memoizedState)||(Pn=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),u.lastRenderedState=_}return[_,f]}function H0(){}function q0(s,o){var u=ut,f=ei(),g=o(),_=!wi(f.memoizedState,g);if(_&&(f.memoizedState=g,Pn=!0),f=f.queue,Gp(K0.bind(null,u,f,s),[s]),f.getSnapshot!==o||_||jt!==null&&jt.memoizedState.tag&1){if(u.flags|=2048,Ou(9,G0.bind(null,u,f,g,o),void 0,null),zt===null)throw Error(t(349));(go&30)!==0||W0(u,o,g)}return g}function W0(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function G0(s,o,u,f){o.value=u,o.getSnapshot=f,Q0(o)&&Y0(s)}function K0(s,o,u){return u(function(){Q0(o)&&Y0(s)})}function Q0(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!wi(s,u)}catch{return!0}}function Y0(s){var o=Ir(s,1);o!==null&&Ii(o,s,1,-1)}function X0(s){var o=Gi();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:s},o.queue=s,s=s.dispatch=DC.bind(null,ut,s),[o.memoizedState,s]}function Ou(s,o,u,f){return s={tag:s,create:o,destroy:u,deps:f,next:null},o=ut.updateQueue,o===null?(o={lastEffect:null,stores:null},ut.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,o.lastEffect=s)),s}function J0(){return ei().memoizedState}function Oh(s,o,u,f){var g=Gi();ut.flags|=s,g.memoizedState=Ou(1|o,u,void 0,f===void 0?null:f)}function Nh(s,o,u,f){var g=ei();f=f===void 0?null:f;var _=void 0;if(Rt!==null){var T=Rt.memoizedState;if(_=T.destroy,f!==null&&Bp(f,T.deps)){g.memoizedState=Ou(o,u,_,f);return}}ut.flags|=s,g.memoizedState=Ou(1|o,u,_,f)}function Z0(s,o){return Oh(8390656,8,s,o)}function Gp(s,o){return Nh(2048,8,s,o)}function e_(s,o){return Nh(4,2,s,o)}function t_(s,o){return Nh(4,4,s,o)}function n_(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function i_(s,o,u){return u=u!=null?u.concat([s]):null,Nh(4,4,n_.bind(null,o,s),u)}function Kp(){}function r_(s,o){var u=ei();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Bp(o,f[1])?f[0]:(u.memoizedState=[s,o],s)}function s_(s,o){var u=ei();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Bp(o,f[1])?f[0]:(s=s(),u.memoizedState=[s,o],s)}function o_(s,o,u){return(go&21)===0?(s.baseState&&(s.baseState=!1,Pn=!0),s.memoizedState=u):(wi(u,o)||(u=ro(),ut.lanes|=u,yo|=u,s.baseState=!0),o)}function AC(s,o){var u=Ne;Ne=u!==0&&4>u?u:4,s(!0);var f=Up.transition;Up.transition={};try{s(!1),o()}finally{Ne=u,Up.transition=f}}function a_(){return ei().memoizedState}function RC(s,o,u){var f=hs(s);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},l_(s))u_(o,u);else if(u=j0(s,o,u,f),u!==null){var g=wn();Ii(u,s,f,g),c_(u,o,f)}}function DC(s,o,u){var f=hs(s),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(l_(s))u_(o,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var T=o.lastRenderedState,R=_(T,u);if(g.hasEagerState=!0,g.eagerState=R,wi(R,T)){var O=o.interleaved;O===null?(g.next=g,Op(o)):(g.next=O.next,O.next=g),o.interleaved=g;return}}catch{}finally{}u=j0(s,o,g,f),u!==null&&(g=wn(),Ii(u,s,f,g),c_(u,o,f))}}function l_(s){var o=s.alternate;return s===ut||o!==null&&o===ut}function u_(s,o){Du=Vh=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function c_(s,o,u){if((u&4194240)!==0){var f=o.lanes;f&=s.pendingLanes,u|=f,o.lanes=u,Yr(s,u)}}var Lh={readContext:Zn,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},MC={readContext:Zn,useCallback:function(s,o){return Gi().memoizedState=[s,o===void 0?null:o],s},useContext:Zn,useEffect:Z0,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,Oh(4194308,4,n_.bind(null,o,s),u)},useLayoutEffect:function(s,o){return Oh(4194308,4,s,o)},useInsertionEffect:function(s,o){return Oh(4,2,s,o)},useMemo:function(s,o){var u=Gi();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var f=Gi();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},f.queue=s,s=s.dispatch=RC.bind(null,ut,s),[f.memoizedState,s]},useRef:function(s){var o=Gi();return s={current:s},o.memoizedState=s},useState:X0,useDebugValue:Kp,useDeferredValue:function(s){return Gi().memoizedState=s},useTransition:function(){var s=X0(!1),o=s[0];return s=AC.bind(null,s[1]),Gi().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var f=ut,g=Gi();if(at){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),zt===null)throw Error(t(349));(go&30)!==0||W0(f,o,u)}g.memoizedState=u;var _={value:u,getSnapshot:o};return g.queue=_,Z0(K0.bind(null,f,_,s),[s]),f.flags|=2048,Ou(9,G0.bind(null,f,_,u,o),void 0,null),u},useId:function(){var s=Gi(),o=zt.identifierPrefix;if(at){var u=Sr,f=xr;u=(f&~(1<<32-yn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Mu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=kC++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},VC={readContext:Zn,useCallback:r_,useContext:Zn,useEffect:Gp,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:qp,useRef:J0,useState:function(){return qp(Vu)},useDebugValue:Kp,useDeferredValue:function(s){var o=ei();return o_(o,Rt.memoizedState,s)},useTransition:function(){var s=qp(Vu)[0],o=ei().memoizedState;return[s,o]},useMutableSource:H0,useSyncExternalStore:q0,useId:a_,unstable_isNewReconciler:!1},OC={readContext:Zn,useCallback:r_,useContext:Zn,useEffect:Gp,useImperativeHandle:i_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:Wp,useRef:J0,useState:function(){return Wp(Vu)},useDebugValue:Kp,useDeferredValue:function(s){var o=ei();return Rt===null?o.memoizedState=s:o_(o,Rt.memoizedState,s)},useTransition:function(){var s=Wp(Vu)[0],o=ei().memoizedState;return[s,o]},useMutableSource:H0,useSyncExternalStore:q0,useId:a_,unstable_isNewReconciler:!1};function Ti(s,o){if(s&&s.defaultProps){o=te({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function Qp(s,o,u,f){o=s.memoizedState,u=u(f,o),u=u==null?o:te({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Fh={isMounted:function(s){return(s=s._reactInternals)?fi(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var f=wn(),g=hs(s),_=br(f,g);_.payload=o,u!=null&&(_.callback=u),o=as(s,_,g),o!==null&&(Ii(o,s,g,f),Ah(o,s,g))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var f=wn(),g=hs(s),_=br(f,g);_.tag=1,_.payload=o,u!=null&&(_.callback=u),o=as(s,_,g),o!==null&&(Ii(o,s,g,f),Ah(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=wn(),f=hs(s),g=br(u,f);g.tag=2,o!=null&&(g.callback=o),o=as(s,g,f),o!==null&&(Ii(o,s,f,u),Ah(o,s,f))}};function h_(s,o,u,f,g,_,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,_,T):o.prototype&&o.prototype.isPureReactComponent?!Eu(u,f)||!Eu(g,_):!0}function d_(s,o,u){var f=!1,g=rs,_=o.contextType;return typeof _=="object"&&_!==null?_=Zn(_):(g=bn(o)?co:Zt.current,f=o.contextTypes,_=(f=f!=null)?La(s,g):rs),o=new o(u,_),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Fh,s.stateNode=o,o._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),o}function f_(s,o,u,f){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==s&&Fh.enqueueReplaceState(o,o.state,null)}function Yp(s,o,u,f){var g=s.stateNode;g.props=u,g.state=s.memoizedState,g.refs={},Np(s);var _=o.contextType;typeof _=="object"&&_!==null?g.context=Zn(_):(_=bn(o)?co:Zt.current,g.context=La(s,_)),g.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Qp(s,o,_,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&Fh.enqueueReplaceState(g,g.state,null),Rh(s,u,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function qa(s,o){try{var u="",f=o;do u+=Ae(f),f=f.return;while(f);var g=u}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:o,stack:g,digest:null}}function Xp(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function Jp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var NC=typeof WeakMap=="function"?WeakMap:Map;function p_(s,o,u){u=br(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){qh||(qh=!0,fm=f),Jp(s,o)},u}function m_(s,o,u){u=br(-1,u),u.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;u.payload=function(){return f(g)},u.callback=function(){Jp(s,o)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(u.callback=function(){Jp(s,o),typeof f!="function"&&(us===null?us=new Set([this]):us.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function g_(s,o,u){var f=s.pingCache;if(f===null){f=s.pingCache=new NC;var g=new Set;f.set(o,g)}else g=f.get(o),g===void 0&&(g=new Set,f.set(o,g));g.has(u)||(g.add(u),s=YC.bind(null,s,o,u),o.then(s,s))}function y_(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function v_(s,o,u,f,g){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=br(-1,1),o.tag=2,as(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var LC=G.ReactCurrentOwner,Pn=!1;function _n(s,o,u,f){o.child=s===null?F0(o,null,u,f):Ua(o,s.child,u,f)}function __(s,o,u,f,g){u=u.render;var _=o.ref;return $a(o,g),f=$p(s,o,u,f,_,g),u=Hp(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Pr(s,o,g)):(at&&u&&bp(o),o.flags|=1,_n(s,o,f,g),o.child)}function w_(s,o,u,f,g){if(s===null){var _=u.type;return typeof _=="function"&&!wm(_)&&_.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=_,E_(s,o,_,f,g)):(s=Xh(u.type,null,f,o,o.mode,g),s.ref=o.ref,s.return=o,o.child=s)}if(_=s.child,(s.lanes&g)===0){var T=_.memoizedProps;if(u=u.compare,u=u!==null?u:Eu,u(T,f)&&s.ref===o.ref)return Pr(s,o,g)}return o.flags|=1,s=fs(_,f),s.ref=o.ref,s.return=o,o.child=s}function E_(s,o,u,f,g){if(s!==null){var _=s.memoizedProps;if(Eu(_,f)&&s.ref===o.ref)if(Pn=!1,o.pendingProps=f=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Pn=!0);else return o.lanes=s.lanes,Pr(s,o,g)}return Zp(s,o,u,f,g)}function T_(s,o,u){var f=o.pendingProps,g=f.children,_=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ga,jn),jn|=u;else{if((u&1073741824)===0)return s=_!==null?_.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,et(Ga,jn),jn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=_!==null?_.baseLanes:u,et(Ga,jn),jn|=f}else _!==null?(f=_.baseLanes|u,o.memoizedState=null):f=u,et(Ga,jn),jn|=f;return _n(s,o,g,u),o.child}function x_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Zp(s,o,u,f,g){var _=bn(u)?co:Zt.current;return _=La(o,_),$a(o,g),u=$p(s,o,u,f,_,g),f=Hp(),s!==null&&!Pn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~g,Pr(s,o,g)):(at&&f&&bp(o),o.flags|=1,_n(s,o,u,g),o.child)}function S_(s,o,u,f,g){if(bn(u)){var _=!0;Th(o)}else _=!1;if($a(o,g),o.stateNode===null)zh(s,o),d_(o,u,f),Yp(o,u,f,g),f=!0;else if(s===null){var T=o.stateNode,R=o.memoizedProps;T.props=R;var O=T.context,W=u.contextType;typeof W=="object"&&W!==null?W=Zn(W):(W=bn(u)?co:Zt.current,W=La(o,W));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==f||O!==W)&&f_(o,T,f,W),os=!1;var ee=o.memoizedState;T.state=ee,Rh(o,f,T,g),O=o.memoizedState,R!==f||ee!==O||In.current||os?(typeof ne=="function"&&(Qp(o,u,ne,f),O=o.memoizedState),(R=os||h_(o,u,R,f,ee,O,W))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),T.props=f,T.state=O,T.context=W,f=R):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{T=o.stateNode,z0(s,o),R=o.memoizedProps,W=o.type===o.elementType?R:Ti(o.type,R),T.props=W,re=o.pendingProps,ee=T.context,O=u.contextType,typeof O=="object"&&O!==null?O=Zn(O):(O=bn(u)?co:Zt.current,O=La(o,O));var ce=u.getDerivedStateFromProps;(ne=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(R!==re||ee!==O)&&f_(o,T,f,O),os=!1,ee=o.memoizedState,T.state=ee,Rh(o,f,T,g);var fe=o.memoizedState;R!==re||ee!==fe||In.current||os?(typeof ce=="function"&&(Qp(o,u,ce,f),fe=o.memoizedState),(W=os||h_(o,u,W,f,ee,fe,O)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(f,fe,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(f,fe,O)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=fe),T.props=f,T.state=fe,T.context=O,f=W):(typeof T.componentDidUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||R===s.memoizedProps&&ee===s.memoizedState||(o.flags|=1024),f=!1)}return em(s,o,u,f,_,g)}function em(s,o,u,f,g,_){x_(s,o);var T=(o.flags&128)!==0;if(!f&&!T)return g&&k0(o,u,!1),Pr(s,o,_);f=o.stateNode,LC.current=o;var R=T&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,s!==null&&T?(o.child=Ua(o,s.child,null,_),o.child=Ua(o,null,R,_)):_n(s,o,R,_),o.memoizedState=f.state,g&&k0(o,u,!0),o.child}function I_(s){var o=s.stateNode;o.pendingContext?P0(s,o.pendingContext,o.pendingContext!==o.context):o.context&&P0(s,o.context,!1),Lp(s,o.containerInfo)}function b_(s,o,u,f,g){return za(),Ap(g),o.flags|=256,_n(s,o,u,f),o.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function nm(s){return{baseLanes:s,cachePool:null,transitions:null}}function P_(s,o,u){var f=o.pendingProps,g=lt.current,_=!1,T=(o.flags&128)!==0,R;if((R=T)||(R=s!==null&&s.memoizedState===null?!1:(g&2)!==0),R?(_=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),et(lt,g&1),s===null)return kp(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=f.children,s=f.fallback,_?(f=o.mode,_=o.child,T={mode:"hidden",children:T},(f&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=Jh(T,f,0,null),s=Eo(s,f,u,null),_.return=o,s.return=o,_.sibling=s,o.child=_,o.child.memoizedState=nm(u),o.memoizedState=tm,s):im(o,T));if(g=s.memoizedState,g!==null&&(R=g.dehydrated,R!==null))return FC(s,o,T,f,R,g,u);if(_){_=f.fallback,T=o.mode,g=s.child,R=g.sibling;var O={mode:"hidden",children:f.children};return(T&1)===0&&o.child!==g?(f=o.child,f.childLanes=0,f.pendingProps=O,o.deletions=null):(f=fs(g,O),f.subtreeFlags=g.subtreeFlags&14680064),R!==null?_=fs(R,_):(_=Eo(_,T,u,null),_.flags|=2),_.return=o,f.return=o,f.sibling=_,o.child=f,f=_,_=o.child,T=s.child.memoizedState,T=T===null?nm(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=s.childLanes&~u,o.memoizedState=tm,f}return _=s.child,s=_.sibling,f=fs(_,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=f,o.memoizedState=null,f}function im(s,o){return o=Jh({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function jh(s,o,u,f){return f!==null&&Ap(f),Ua(o,s.child,null,u),s=im(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function FC(s,o,u,f,g,_,T){if(u)return o.flags&256?(o.flags&=-257,f=Xp(Error(t(422))),jh(s,o,T,f)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(_=f.fallback,g=o.mode,f=Jh({mode:"visible",children:f.children},g,0,null),_=Eo(_,g,T,null),_.flags|=2,f.return=o,_.return=o,f.sibling=_,o.child=f,(o.mode&1)!==0&&Ua(o,s.child,null,T),o.child.memoizedState=nm(T),o.memoizedState=tm,_);if((o.mode&1)===0)return jh(s,o,T,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var R=f.dgst;return f=R,_=Error(t(419)),f=Xp(_,f,void 0),jh(s,o,T,f)}if(R=(T&s.childLanes)!==0,Pn||R){if(f=zt,f!==null){switch(T&-T){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|T))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Ir(s,g),Ii(f,s,g,-1))}return _m(),f=Xp(Error(t(421))),jh(s,o,T,f)}return g.data==="$?"?(o.flags|=128,o.child=s.child,o=XC.bind(null,s),g._reactRetry=o,null):(s=_.treeContext,Fn=ns(g.nextSibling),Ln=o,at=!0,Ei=null,s!==null&&(Xn[Jn++]=xr,Xn[Jn++]=Sr,Xn[Jn++]=ho,xr=s.id,Sr=s.overflow,ho=o),o=im(o,f.children),o.flags|=4096,o)}function C_(s,o,u){s.lanes|=o;var f=s.alternate;f!==null&&(f.lanes|=o),Vp(s.return,o,u)}function rm(s,o,u,f,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=f,_.tail=u,_.tailMode=g)}function k_(s,o,u){var f=o.pendingProps,g=f.revealOrder,_=f.tail;if(_n(s,o,f.children,u),f=lt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&C_(s,u,o);else if(s.tag===19)C_(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(et(lt,f),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)s=u.alternate,s!==null&&Dh(s)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),rm(o,!1,g,u,_);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(s=g.alternate,s!==null&&Dh(s)===null){o.child=g;break}s=g.sibling,g.sibling=u,u=g,g=s}rm(o,!0,u,null,_);break;case"together":rm(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function zh(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Pr(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),yo|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,u=fs(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=fs(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function jC(s,o,u){switch(o.tag){case 3:I_(o),za();break;case 5:$0(o);break;case 1:bn(o.type)&&Th(o);break;case 4:Lp(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,g=o.memoizedProps.value;et(Ch,f._currentValue),f._currentValue=g;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(et(lt,lt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?P_(s,o,u):(et(lt,lt.current&1),s=Pr(s,o,u),s!==null?s.sibling:null);et(lt,lt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(s.flags&128)!==0){if(f)return k_(s,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),et(lt,lt.current),f)break;return null;case 22:case 23:return o.lanes=0,T_(s,o,u)}return Pr(s,o,u)}var A_,sm,R_,D_;A_=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},sm=function(){},R_=function(s,o,u,f){var g=s.memoizedProps;if(g!==f){s=o.stateNode,mo(Wi.current);var _=null;switch(u){case"input":g=Gs(s,g),f=Gs(s,f),_=[];break;case"select":g=te({},g,{value:void 0}),f=te({},f,{value:void 0}),_=[];break;case"textarea":g=Yl(s,g),f=Yl(s,f),_=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=_h)}nu(u,f);var T;u=null;for(W in g)if(!f.hasOwnProperty(W)&&g.hasOwnProperty(W)&&g[W]!=null)if(W==="style"){var R=g[W];for(T in R)R.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(r.hasOwnProperty(W)?_||(_=[]):(_=_||[]).push(W,null));for(W in f){var O=f[W];if(R=g?.[W],f.hasOwnProperty(W)&&O!==R&&(O!=null||R!=null))if(W==="style")if(R){for(T in R)!R.hasOwnProperty(T)||O&&O.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in O)O.hasOwnProperty(T)&&R[T]!==O[T]&&(u||(u={}),u[T]=O[T])}else u||(_||(_=[]),_.push(W,u)),u=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(_=_||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(_=_||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(r.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&tt("scroll",s),_||R===O||(_=[])):(_=_||[]).push(W,O))}u&&(_=_||[]).push("style",u);var W=_;(o.updateQueue=W)&&(o.flags|=4)}},D_=function(s,o,u,f){u!==f&&(o.flags|=4)};function Nu(s,o){if(!at)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function tn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(o)for(var g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=u,o}function zC(s,o,u){var f=o.pendingProps;switch(Pp(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(o),null;case 1:return bn(o.type)&&Eh(),tn(o),null;case 3:return f=o.stateNode,Ha(),nt(In),nt(Zt),zp(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(bh(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ei!==null&&(gm(Ei),Ei=null))),sm(s,o),tn(o),null;case 5:Fp(o);var g=mo(Ru.current);if(u=o.type,s!==null&&o.stateNode!=null)R_(s,o,u,f,g),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return tn(o),null}if(s=mo(Wi.current),bh(o)){f=o.stateNode,u=o.type;var _=o.memoizedProps;switch(f[qi]=o,f[bu]=_,s=(o.mode&1)!==0,u){case"dialog":tt("cancel",f),tt("close",f);break;case"iframe":case"object":case"embed":tt("load",f);break;case"video":case"audio":for(g=0;g<xu.length;g++)tt(xu[g],f);break;case"source":tt("error",f);break;case"img":case"image":case"link":tt("error",f),tt("load",f);break;case"details":tt("toggle",f);break;case"input":sa(f,_),tt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!_.multiple},tt("invalid",f);break;case"textarea":aa(f,_),tt("invalid",f)}nu(u,_),g=null;for(var T in _)if(_.hasOwnProperty(T)){var R=_[T];T==="children"?typeof R=="string"?f.textContent!==R&&(_.suppressHydrationWarning!==!0&&vh(f.textContent,R,s),g=["children",R]):typeof R=="number"&&f.textContent!==""+R&&(_.suppressHydrationWarning!==!0&&vh(f.textContent,R,s),g=["children",""+R]):r.hasOwnProperty(T)&&R!=null&&T==="onScroll"&&tt("scroll",f)}switch(u){case"input":hr(f),Hc(f,_,!0);break;case"textarea":hr(f),Xl(f);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(f.onclick=_h)}f=g,o.updateQueue=f,f!==null&&(o.flags|=4)}else{T=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ct(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=T.createElement(u,{is:f.is}):(s=T.createElement(u),u==="select"&&(T=s,f.multiple?T.multiple=!0:f.size&&(T.size=f.size))):s=T.createElementNS(s,u),s[qi]=o,s[bu]=f,A_(s,o,!1,!1),o.stateNode=s;e:{switch(T=iu(u,f),u){case"dialog":tt("cancel",s),tt("close",s),g=f;break;case"iframe":case"object":case"embed":tt("load",s),g=f;break;case"video":case"audio":for(g=0;g<xu.length;g++)tt(xu[g],s);g=f;break;case"source":tt("error",s),g=f;break;case"img":case"image":case"link":tt("error",s),tt("load",s),g=f;break;case"details":tt("toggle",s),g=f;break;case"input":sa(s,f),g=Gs(s,f),tt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=te({},f,{value:void 0}),tt("invalid",s);break;case"textarea":aa(s,f),g=Yl(s,f),tt("invalid",s);break;default:g=f}nu(u,g),R=g;for(_ in R)if(R.hasOwnProperty(_)){var O=R[_];_==="style"?eu(s,O):_==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&Jl(s,O)):_==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&qr(s,O):typeof O=="number"&&qr(s,""+O):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?O!=null&&_==="onScroll"&&tt("scroll",s):O!=null&&q(s,_,O,T))}switch(u){case"input":hr(s),Hc(s,f,!1);break;case"textarea":hr(s),Xl(s);break;case"option":f.value!=null&&s.setAttribute("value",""+qe(f.value));break;case"select":s.multiple=!!f.multiple,_=f.value,_!=null?fr(s,!!f.multiple,_,!1):f.defaultValue!=null&&fr(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=_h)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return tn(o),null;case 6:if(s&&o.stateNode!=null)D_(s,o,s.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(u=mo(Ru.current),mo(Wi.current),bh(o)){if(f=o.stateNode,u=o.memoizedProps,f[qi]=o,(_=f.nodeValue!==u)&&(s=Ln,s!==null))switch(s.tag){case 3:vh(f.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&vh(f.nodeValue,u,(s.mode&1)!==0)}_&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[qi]=o,o.stateNode=f}return tn(o),null;case 13:if(nt(lt),f=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(at&&Fn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)O0(),za(),o.flags|=98560,_=!1;else if(_=bh(o),f!==null&&f.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[qi]=o}else za(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;tn(o),_=!1}else Ei!==null&&(gm(Ei),Ei=null),_=!0;if(!_)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(lt.current&1)!==0?Dt===0&&(Dt=3):_m())),o.updateQueue!==null&&(o.flags|=4),tn(o),null);case 4:return Ha(),sm(s,o),s===null&&Su(o.stateNode.containerInfo),tn(o),null;case 10:return Mp(o.type._context),tn(o),null;case 17:return bn(o.type)&&Eh(),tn(o),null;case 19:if(nt(lt),_=o.memoizedState,_===null)return tn(o),null;if(f=(o.flags&128)!==0,T=_.rendering,T===null)if(f)Nu(_,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Dh(s),T!==null){for(o.flags|=128,Nu(_,!1),f=T.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)_=u,s=f,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,s=T.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return et(lt,lt.current&1|2),o.child}s=s.sibling}_.tail!==null&&Ze()>Ka&&(o.flags|=128,f=!0,Nu(_,!1),o.lanes=4194304)}else{if(!f)if(s=Dh(T),s!==null){if(o.flags|=128,f=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Nu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!at)return tn(o),null}else 2*Ze()-_.renderingStartTime>Ka&&u!==1073741824&&(o.flags|=128,f=!0,Nu(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(u=_.last,u!==null?u.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=Ze(),o.sibling=null,u=lt.current,et(lt,f?u&1|2:u&1),o):(tn(o),null);case 22:case 23:return vm(),f=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(jn&1073741824)!==0&&(tn(o),o.subtreeFlags&6&&(o.flags|=8192)):tn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function UC(s,o){switch(Pp(o),o.tag){case 1:return bn(o.type)&&Eh(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ha(),nt(In),nt(Zt),zp(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Fp(o),null;case 13:if(nt(lt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));za()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return nt(lt),null;case 4:return Ha(),null;case 10:return Mp(o.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Uh=!1,nn=!1,BC=typeof WeakSet=="function"?WeakSet:Set,de=null;function Wa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ft(s,o,f)}else u.current=null}function om(s,o,u){try{u()}catch(f){ft(s,o,f)}}var M_=!1;function $C(s,o){if(vp=Zr,s=h0(),cp(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,_=f.focusNode;f=f.focusOffset;try{u.nodeType,_.nodeType}catch{u=null;break e}var T=0,R=-1,O=-1,W=0,ne=0,re=s,ee=null;t:for(;;){for(var ce;re!==u||g!==0&&re.nodeType!==3||(R=T+g),re!==_||f!==0&&re.nodeType!==3||(O=T+f),re.nodeType===3&&(T+=re.nodeValue.length),(ce=re.firstChild)!==null;)ee=re,re=ce;for(;;){if(re===s)break t;if(ee===u&&++W===g&&(R=T),ee===_&&++ne===f&&(O=T),(ce=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ce}u=R===-1||O===-1?null:{start:R,end:O}}else u=null}u=u||{start:0,end:0}}else u=null;for(_p={focusedElem:s,selectionRange:u},Zr=!1,de=o;de!==null;)if(o=de,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,de=s;else for(;de!==null;){o=de;try{var fe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,vt=fe.memoizedState,$=o.stateNode,L=$.getSnapshotBeforeUpdate(o.elementType===o.type?pe:Ti(o.type,pe),vt);$.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){ft(o,o.return,oe)}if(s=o.sibling,s!==null){s.return=o.return,de=s;break}de=o.return}return fe=M_,M_=!1,fe}function Lu(s,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&om(o,u,_)}g=g.next}while(g!==f)}}function Bh(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function am(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function V_(s){var o=s.alternate;o!==null&&(s.alternate=null,V_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[qi],delete o[bu],delete o[xp],delete o[IC],delete o[bC])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function O_(s){return s.tag===5||s.tag===3||s.tag===4}function N_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||O_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lm(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=_h));else if(f!==4&&(s=s.child,s!==null))for(lm(s,o,u),s=s.sibling;s!==null;)lm(s,o,u),s=s.sibling}function um(s,o,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(um(s,o,u),s=s.sibling;s!==null;)um(s,o,u),s=s.sibling}var Wt=null,xi=!1;function ls(s,o,u){for(u=u.child;u!==null;)L_(s,o,u),u=u.sibling}function L_(s,o,u){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(no,u)}catch{}switch(u.tag){case 5:nn||Wa(u,o);case 6:var f=Wt,g=xi;Wt=null,ls(s,o,u),Wt=f,xi=g,Wt!==null&&(xi?(s=Wt,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Wt.removeChild(u.stateNode));break;case 18:Wt!==null&&(xi?(s=Wt,u=u.stateNode,s.nodeType===8?Tp(s.parentNode,u):s.nodeType===1&&Tp(s,u),vi(s)):Tp(Wt,u.stateNode));break;case 4:f=Wt,g=xi,Wt=u.stateNode.containerInfo,xi=!0,ls(s,o,u),Wt=f,xi=g;break;case 0:case 11:case 14:case 15:if(!nn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var _=g,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&om(u,o,T),g=g.next}while(g!==f)}ls(s,o,u);break;case 1:if(!nn&&(Wa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(R){ft(u,o,R)}ls(s,o,u);break;case 21:ls(s,o,u);break;case 22:u.mode&1?(nn=(f=nn)||u.memoizedState!==null,ls(s,o,u),nn=f):ls(s,o,u);break;default:ls(s,o,u)}}function F_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new BC),o.forEach(function(f){var g=JC.bind(null,s,f);u.has(f)||(u.add(f),f.then(g,g))})}}function Si(s,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var _=s,T=o,R=T;e:for(;R!==null;){switch(R.tag){case 5:Wt=R.stateNode,xi=!1;break e;case 3:Wt=R.stateNode.containerInfo,xi=!0;break e;case 4:Wt=R.stateNode.containerInfo,xi=!0;break e}R=R.return}if(Wt===null)throw Error(t(160));L_(_,T,g),Wt=null,xi=!1;var O=g.alternate;O!==null&&(O.return=null),g.return=null}catch(W){ft(g,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)j_(o,s),o=o.sibling}function j_(s,o){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Si(o,s),Ki(s),f&4){try{Lu(3,s,s.return),Bh(3,s)}catch(pe){ft(s,s.return,pe)}try{Lu(5,s,s.return)}catch(pe){ft(s,s.return,pe)}}break;case 1:Si(o,s),Ki(s),f&512&&u!==null&&Wa(u,u.return);break;case 5:if(Si(o,s),Ki(s),f&512&&u!==null&&Wa(u,u.return),s.flags&32){var g=s.stateNode;try{qr(g,"")}catch(pe){ft(s,s.return,pe)}}if(f&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,T=u!==null?u.memoizedProps:_,R=s.type,O=s.updateQueue;if(s.updateQueue=null,O!==null)try{R==="input"&&_.type==="radio"&&_.name!=null&&Kl(g,_),iu(R,T);var W=iu(R,_);for(T=0;T<O.length;T+=2){var ne=O[T],re=O[T+1];ne==="style"?eu(g,re):ne==="dangerouslySetInnerHTML"?Jl(g,re):ne==="children"?qr(g,re):q(g,ne,re,W)}switch(R){case"input":Ql(g,_);break;case"textarea":la(g,_);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ce=_.value;ce!=null?fr(g,!!_.multiple,ce,!1):ee!==!!_.multiple&&(_.defaultValue!=null?fr(g,!!_.multiple,_.defaultValue,!0):fr(g,!!_.multiple,_.multiple?[]:"",!1))}g[bu]=_}catch(pe){ft(s,s.return,pe)}}break;case 6:if(Si(o,s),Ki(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(pe){ft(s,s.return,pe)}}break;case 3:if(Si(o,s),Ki(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{vi(o.containerInfo)}catch(pe){ft(s,s.return,pe)}break;case 4:Si(o,s),Ki(s);break;case 13:Si(o,s),Ki(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(dm=Ze())),f&4&&F_(s);break;case 22:if(ne=u!==null&&u.memoizedState!==null,s.mode&1?(nn=(W=nn)||ne,Si(o,s),nn=W):Si(o,s),Ki(s),f&8192){if(W=s.memoizedState!==null,(s.stateNode.isHidden=W)&&!ne&&(s.mode&1)!==0)for(de=s,ne=s.child;ne!==null;){for(re=de=ne;de!==null;){switch(ee=de,ce=ee.child,ee.tag){case 0:case 11:case 14:case 15:Lu(4,ee,ee.return);break;case 1:Wa(ee,ee.return);var fe=ee.stateNode;if(typeof fe.componentWillUnmount=="function"){f=ee,u=ee.return;try{o=f,fe.props=o.memoizedProps,fe.state=o.memoizedState,fe.componentWillUnmount()}catch(pe){ft(f,u,pe)}}break;case 5:Wa(ee,ee.return);break;case 22:if(ee.memoizedState!==null){B_(re);continue}}ce!==null?(ce.return=ee,de=ce):B_(re)}ne=ne.sibling}e:for(ne=null,re=s;;){if(re.tag===5){if(ne===null){ne=re;try{g=re.stateNode,W?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(R=re.stateNode,O=re.memoizedProps.style,T=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=Zl("display",T))}catch(pe){ft(s,s.return,pe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(pe){ft(s,s.return,pe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===s)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===s)break e;for(;re.sibling===null;){if(re.return===null||re.return===s)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Si(o,s),Ki(s),f&4&&F_(s);break;case 21:break;default:Si(o,s),Ki(s)}}function Ki(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(O_(u)){var f=u;break e}u=u.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(qr(g,""),f.flags&=-33);var _=N_(s);um(s,_,g);break;case 3:case 4:var T=f.stateNode.containerInfo,R=N_(s);lm(s,R,T);break;default:throw Error(t(161))}}catch(O){ft(s,s.return,O)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function HC(s,o,u){de=s,z_(s)}function z_(s,o,u){for(var f=(s.mode&1)!==0;de!==null;){var g=de,_=g.child;if(g.tag===22&&f){var T=g.memoizedState!==null||Uh;if(!T){var R=g.alternate,O=R!==null&&R.memoizedState!==null||nn;R=Uh;var W=nn;if(Uh=T,(nn=O)&&!W)for(de=g;de!==null;)T=de,O=T.child,T.tag===22&&T.memoizedState!==null?$_(g):O!==null?(O.return=T,de=O):$_(g);for(;_!==null;)de=_,z_(_),_=_.sibling;de=g,Uh=R,nn=W}U_(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,de=_):U_(s)}}function U_(s){for(;de!==null;){var o=de;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:nn||Bh(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!nn)if(u===null)f.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:Ti(o.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var _=o.updateQueue;_!==null&&B0(o,_,f);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}B0(o,T,u)}break;case 5:var R=o.stateNode;if(u===null&&o.flags&4){u=R;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&vi(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}nn||o.flags&512&&am(o)}catch(ee){ft(o,o.return,ee)}}if(o===s){de=null;break}if(u=o.sibling,u!==null){u.return=o.return,de=u;break}de=o.return}}function B_(s){for(;de!==null;){var o=de;if(o===s){de=null;break}var u=o.sibling;if(u!==null){u.return=o.return,de=u;break}de=o.return}}function $_(s){for(;de!==null;){var o=de;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Bh(4,o)}catch(O){ft(o,u,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var g=o.return;try{f.componentDidMount()}catch(O){ft(o,g,O)}}var _=o.return;try{am(o)}catch(O){ft(o,_,O)}break;case 5:var T=o.return;try{am(o)}catch(O){ft(o,T,O)}}}catch(O){ft(o,o.return,O)}if(o===s){de=null;break}var R=o.sibling;if(R!==null){R.return=o.return,de=R;break}de=o.return}}var qC=Math.ceil,$h=G.ReactCurrentDispatcher,cm=G.ReactCurrentOwner,ti=G.ReactCurrentBatchConfig,ze=0,zt=null,xt=null,Gt=0,jn=0,Ga=is(0),Dt=0,Fu=null,yo=0,Hh=0,hm=0,ju=null,Cn=null,dm=0,Ka=1/0,Cr=null,qh=!1,fm=null,us=null,Wh=!1,cs=null,Gh=0,zu=0,pm=null,Kh=-1,Qh=0;function wn(){return(ze&6)!==0?Ze():Kh!==-1?Kh:Kh=Ze()}function hs(s){return(s.mode&1)===0?1:(ze&2)!==0&&Gt!==0?Gt&-Gt:CC.transition!==null?(Qh===0&&(Qh=ro()),Qh):(s=Ne,s!==0||(s=window.event,s=s===void 0?16:pu(s.type)),s)}function Ii(s,o,u,f){if(50<zu)throw zu=0,pm=null,Error(t(185));Qr(s,u,f),((ze&2)===0||s!==zt)&&(s===zt&&((ze&2)===0&&(Hh|=u),Dt===4&&ds(s,Gt)),kn(s,f),u===1&&ze===0&&(o.mode&1)===0&&(Ka=Ze()+500,xh&&ss()))}function kn(s,o){var u=s.callbackNode;gr(s,o);var f=io(s,s===zt?Gt:0);if(f===0)u!==null&&uu(u),s.callbackNode=null,s.callbackPriority=0;else if(o=f&-f,s.callbackPriority!==o){if(u!=null&&uu(u),o===1)s.tag===0?PC(q_.bind(null,s)):A0(q_.bind(null,s)),xC(function(){(ze&6)===0&&ss()}),u=null;else{switch(Xr(f)){case 1:u=to;break;case 4:u=Wr;break;case 16:u=Kn;break;case 536870912:u=Qc;break;default:u=Kn}u=Z_(u,H_.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function H_(s,o){if(Kh=-1,Qh=0,(ze&6)!==0)throw Error(t(327));var u=s.callbackNode;if(Qa()&&s.callbackNode!==u)return null;var f=io(s,s===zt?Gt:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||o)o=Yh(s,f);else{o=f;var g=ze;ze|=2;var _=G_();(zt!==s||Gt!==o)&&(Cr=null,Ka=Ze()+500,_o(s,o));do try{KC();break}catch(R){W_(s,R)}while(!0);Dp(),$h.current=_,ze=g,xt!==null?o=0:(zt=null,Gt=0,o=Dt)}if(o!==0){if(o===2&&(g=Vn(s),g!==0&&(f=g,o=mm(s,g))),o===1)throw u=Fu,_o(s,0),ds(s,f),kn(s,Ze()),u;if(o===6)ds(s,f);else{if(g=s.current.alternate,(f&30)===0&&!WC(g)&&(o=Yh(s,f),o===2&&(_=Vn(s),_!==0&&(f=_,o=mm(s,_))),o===1))throw u=Fu,_o(s,0),ds(s,f),kn(s,Ze()),u;switch(s.finishedWork=g,s.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:wo(s,Cn,Cr);break;case 3:if(ds(s,f),(f&130023424)===f&&(o=dm+500-Ze(),10<o)){if(io(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){wn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Ep(wo.bind(null,s,Cn,Cr),o);break}wo(s,Cn,Cr);break;case 4:if(ds(s,f),(f&4194240)===f)break;for(o=s.eventTimes,g=-1;0<f;){var T=31-yn(f);_=1<<T,T=o[T],T>g&&(g=T),f&=~_}if(f=g,f=Ze()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*qC(f/1960))-f,10<f){s.timeoutHandle=Ep(wo.bind(null,s,Cn,Cr),f);break}wo(s,Cn,Cr);break;case 5:wo(s,Cn,Cr);break;default:throw Error(t(329))}}}return kn(s,Ze()),s.callbackNode===u?H_.bind(null,s):null}function mm(s,o){var u=ju;return s.current.memoizedState.isDehydrated&&(_o(s,o).flags|=256),s=Yh(s,o),s!==2&&(o=Cn,Cn=u,o!==null&&gm(o)),s}function gm(s){Cn===null?Cn=s:Cn.push.apply(Cn,s)}function WC(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],_=g.getSnapshot;g=g.value;try{if(!wi(_(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ds(s,o){for(o&=~hm,o&=~Hh,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-yn(o),f=1<<u;s[u]=-1,o&=~f}}function q_(s){if((ze&6)!==0)throw Error(t(327));Qa();var o=io(s,0);if((o&1)===0)return kn(s,Ze()),null;var u=Yh(s,o);if(s.tag!==0&&u===2){var f=Vn(s);f!==0&&(o=f,u=mm(s,f))}if(u===1)throw u=Fu,_o(s,0),ds(s,o),kn(s,Ze()),u;if(u===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,wo(s,Cn,Cr),kn(s,Ze()),null}function ym(s,o){var u=ze;ze|=1;try{return s(o)}finally{ze=u,ze===0&&(Ka=Ze()+500,xh&&ss())}}function vo(s){cs!==null&&cs.tag===0&&(ze&6)===0&&Qa();var o=ze;ze|=1;var u=ti.transition,f=Ne;try{if(ti.transition=null,Ne=1,s)return s()}finally{Ne=f,ti.transition=u,ze=o,(ze&6)===0&&ss()}}function vm(){jn=Ga.current,nt(Ga)}function _o(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,TC(u)),xt!==null)for(u=xt.return;u!==null;){var f=u;switch(Pp(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Eh();break;case 3:Ha(),nt(In),nt(Zt),zp();break;case 5:Fp(f);break;case 4:Ha();break;case 13:nt(lt);break;case 19:nt(lt);break;case 10:Mp(f.type._context);break;case 22:case 23:vm()}u=u.return}if(zt=s,xt=s=fs(s.current,null),Gt=jn=o,Dt=0,Fu=null,hm=Hh=yo=0,Cn=ju=null,po!==null){for(o=0;o<po.length;o++)if(u=po[o],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,_=u.pending;if(_!==null){var T=_.next;_.next=g,f.next=T}u.pending=f}po=null}return s}function W_(s,o){do{var u=xt;try{if(Dp(),Mh.current=Lh,Vh){for(var f=ut.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Vh=!1}if(go=0,jt=Rt=ut=null,Du=!1,Mu=0,cm.current=null,u===null||u.return===null){Dt=1,Fu=o,xt=null;break}e:{var _=s,T=u.return,R=u,O=o;if(o=Gt,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,ne=R,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ce=y_(T);if(ce!==null){ce.flags&=-257,v_(ce,T,R,_,o),ce.mode&1&&g_(_,W,o),o=ce,O=W;var fe=o.updateQueue;if(fe===null){var pe=new Set;pe.add(O),o.updateQueue=pe}else fe.add(O);break e}else{if((o&1)===0){g_(_,W,o),_m();break e}O=Error(t(426))}}else if(at&&R.mode&1){var vt=y_(T);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),v_(vt,T,R,_,o),Ap(qa(O,R));break e}}_=O=qa(O,R),Dt!==4&&(Dt=2),ju===null?ju=[_]:ju.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,o&=-o,_.lanes|=o;var $=p_(_,O,o);U0(_,$);break e;case 1:R=O;var L=_.type,H=_.stateNode;if((_.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(us===null||!us.has(H)))){_.flags|=65536,o&=-o,_.lanes|=o;var oe=m_(_,R,o);U0(_,oe);break e}}_=_.return}while(_!==null)}Q_(u)}catch(ye){o=ye,xt===u&&u!==null&&(xt=u=u.return);continue}break}while(!0)}function G_(){var s=$h.current;return $h.current=Lh,s===null?Lh:s}function _m(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||(yo&268435455)===0&&(Hh&268435455)===0||ds(zt,Gt)}function Yh(s,o){var u=ze;ze|=2;var f=G_();(zt!==s||Gt!==o)&&(Cr=null,_o(s,o));do try{GC();break}catch(g){W_(s,g)}while(!0);if(Dp(),ze=u,$h.current=f,xt!==null)throw Error(t(261));return zt=null,Gt=0,Dt}function GC(){for(;xt!==null;)K_(xt)}function KC(){for(;xt!==null&&!Gc();)K_(xt)}function K_(s){var o=J_(s.alternate,s,jn);s.memoizedProps=s.pendingProps,o===null?Q_(s):xt=o,cm.current=null}function Q_(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=zC(u,o,jn),u!==null){xt=u;return}}else{if(u=UC(u,o),u!==null){u.flags&=32767,xt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,xt=null;return}}if(o=o.sibling,o!==null){xt=o;return}xt=o=s}while(o!==null);Dt===0&&(Dt=5)}function wo(s,o,u){var f=Ne,g=ti.transition;try{ti.transition=null,Ne=1,QC(s,o,u,f)}finally{ti.transition=g,Ne=f}return null}function QC(s,o,u,f){do Qa();while(cs!==null);if((ze&6)!==0)throw Error(t(327));u=s.finishedWork;var g=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=u.lanes|u.childLanes;if(Ye(s,_),s===zt&&(xt=zt=null,Gt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Wh||(Wh=!0,Z_(Kn,function(){return Qa(),null})),_=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||_){_=ti.transition,ti.transition=null;var T=Ne;Ne=1;var R=ze;ze|=4,cm.current=null,$C(s,u),j_(u,s),mC(_p),Zr=!!vp,_p=vp=null,s.current=u,HC(u),np(),ze=R,Ne=T,ti.transition=_}else s.current=u;if(Wh&&(Wh=!1,cs=s,Gh=g),_=s.pendingLanes,_===0&&(us=null),Yc(u.stateNode),kn(s,Ze()),o!==null)for(f=s.onRecoverableError,u=0;u<o.length;u++)g=o[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(qh)throw qh=!1,s=fm,fm=null,s;return(Gh&1)!==0&&s.tag!==0&&Qa(),_=s.pendingLanes,(_&1)!==0?s===pm?zu++:(zu=0,pm=s):zu=0,ss(),null}function Qa(){if(cs!==null){var s=Xr(Gh),o=ti.transition,u=Ne;try{if(ti.transition=null,Ne=16>s?16:s,cs===null)var f=!1;else{if(s=cs,cs=null,Gh=0,(ze&6)!==0)throw Error(t(331));var g=ze;for(ze|=4,de=s.current;de!==null;){var _=de,T=_.child;if((de.flags&16)!==0){var R=_.deletions;if(R!==null){for(var O=0;O<R.length;O++){var W=R[O];for(de=W;de!==null;){var ne=de;switch(ne.tag){case 0:case 11:case 15:Lu(8,ne,_)}var re=ne.child;if(re!==null)re.return=ne,de=re;else for(;de!==null;){ne=de;var ee=ne.sibling,ce=ne.return;if(V_(ne),ne===W){de=null;break}if(ee!==null){ee.return=ce,de=ee;break}de=ce}}}var fe=_.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var vt=pe.sibling;pe.sibling=null,pe=vt}while(pe!==null)}}de=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,de=T;else e:for(;de!==null;){if(_=de,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Lu(9,_,_.return)}var $=_.sibling;if($!==null){$.return=_.return,de=$;break e}de=_.return}}var L=s.current;for(de=L;de!==null;){T=de;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,de=H;else e:for(T=L;de!==null;){if(R=de,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Bh(9,R)}}catch(ye){ft(R,R.return,ye)}if(R===T){de=null;break e}var oe=R.sibling;if(oe!==null){oe.return=R.return,de=oe;break e}de=R.return}}if(ze=g,ss(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(no,s)}catch{}f=!0}return f}finally{Ne=u,ti.transition=o}}return!1}function Y_(s,o,u){o=qa(u,o),o=p_(s,o,1),s=as(s,o,1),o=wn(),s!==null&&(Qr(s,1,o),kn(s,o))}function ft(s,o,u){if(s.tag===3)Y_(s,s,u);else for(;o!==null;){if(o.tag===3){Y_(o,s,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(us===null||!us.has(f))){s=qa(u,s),s=m_(o,s,1),o=as(o,s,1),s=wn(),o!==null&&(Qr(o,1,s),kn(o,s));break}}o=o.return}}function YC(s,o,u){var f=s.pingCache;f!==null&&f.delete(o),o=wn(),s.pingedLanes|=s.suspendedLanes&u,zt===s&&(Gt&u)===u&&(Dt===4||Dt===3&&(Gt&130023424)===Gt&&500>Ze()-dm?_o(s,0):hm|=u),kn(s,o)}function X_(s,o){o===0&&((s.mode&1)===0?o=1:(o=va,va<<=1,(va&130023424)===0&&(va=4194304)));var u=wn();s=Ir(s,o),s!==null&&(Qr(s,o,u),kn(s,u))}function XC(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),X_(s,u)}function JC(s,o){var u=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),X_(s,u)}var J_;J_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||In.current)Pn=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return Pn=!1,jC(s,o,u);Pn=(s.flags&131072)!==0}else Pn=!1,at&&(o.flags&1048576)!==0&&R0(o,Ih,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;zh(s,o),s=o.pendingProps;var g=La(o,Zt.current);$a(o,u),g=$p(null,o,f,s,g,u);var _=Hp();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,bn(f)?(_=!0,Th(o)):_=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Np(o),g.updater=Fh,o.stateNode=g,g._reactInternals=o,Yp(o,f,s,u),o=em(null,o,f,!0,_,u)):(o.tag=0,at&&_&&bp(o),_n(null,o,g,u),o=o.child),o;case 16:f=o.elementType;e:{switch(zh(s,o),s=o.pendingProps,g=f._init,f=g(f._payload),o.type=f,g=o.tag=e2(f),s=Ti(f,s),g){case 0:o=Zp(null,o,f,s,u);break e;case 1:o=S_(null,o,f,s,u);break e;case 11:o=__(null,o,f,s,u);break e;case 14:o=w_(null,o,f,Ti(f.type,s),u);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ti(f,g),Zp(s,o,f,g,u);case 1:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ti(f,g),S_(s,o,f,g,u);case 3:e:{if(I_(o),s===null)throw Error(t(387));f=o.pendingProps,_=o.memoizedState,g=_.element,z0(s,o),Rh(o,f,null,u);var T=o.memoizedState;if(f=T.element,_.isDehydrated)if(_={element:f,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){g=qa(Error(t(423)),o),o=b_(s,o,f,u,g);break e}else if(f!==g){g=qa(Error(t(424)),o),o=b_(s,o,f,u,g);break e}else for(Fn=ns(o.stateNode.containerInfo.firstChild),Ln=o,at=!0,Ei=null,u=F0(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(za(),f===g){o=Pr(s,o,u);break e}_n(s,o,f,u)}o=o.child}return o;case 5:return $0(o),s===null&&kp(o),f=o.type,g=o.pendingProps,_=s!==null?s.memoizedProps:null,T=g.children,wp(f,g)?T=null:_!==null&&wp(f,_)&&(o.flags|=32),x_(s,o),_n(s,o,T,u),o.child;case 6:return s===null&&kp(o),null;case 13:return P_(s,o,u);case 4:return Lp(o,o.stateNode.containerInfo),f=o.pendingProps,s===null?o.child=Ua(o,null,f,u):_n(s,o,f,u),o.child;case 11:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ti(f,g),__(s,o,f,g,u);case 7:return _n(s,o,o.pendingProps,u),o.child;case 8:return _n(s,o,o.pendingProps.children,u),o.child;case 12:return _n(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,g=o.pendingProps,_=o.memoizedProps,T=g.value,et(Ch,f._currentValue),f._currentValue=T,_!==null)if(wi(_.value,T)){if(_.children===g.children&&!In.current){o=Pr(s,o,u);break e}}else for(_=o.child,_!==null&&(_.return=o);_!==null;){var R=_.dependencies;if(R!==null){T=_.child;for(var O=R.firstContext;O!==null;){if(O.context===f){if(_.tag===1){O=br(-1,u&-u),O.tag=2;var W=_.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?O.next=O:(O.next=ne.next,ne.next=O),W.pending=O}}_.lanes|=u,O=_.alternate,O!==null&&(O.lanes|=u),Vp(_.return,u,o),R.lanes|=u;break}O=O.next}}else if(_.tag===10)T=_.type===o.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(t(341));T.lanes|=u,R=T.alternate,R!==null&&(R.lanes|=u),Vp(T,u,o),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===o){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}_n(s,o,g.children,u),o=o.child}return o;case 9:return g=o.type,f=o.pendingProps.children,$a(o,u),g=Zn(g),f=f(g),o.flags|=1,_n(s,o,f,u),o.child;case 14:return f=o.type,g=Ti(f,o.pendingProps),g=Ti(f.type,g),w_(s,o,f,g,u);case 15:return E_(s,o,o.type,o.pendingProps,u);case 17:return f=o.type,g=o.pendingProps,g=o.elementType===f?g:Ti(f,g),zh(s,o),o.tag=1,bn(f)?(s=!0,Th(o)):s=!1,$a(o,u),d_(o,f,g),Yp(o,f,g,u),em(null,o,f,!0,s,u);case 19:return k_(s,o,u);case 22:return T_(s,o,u)}throw Error(t(156,o.tag))};function Z_(s,o){return ga(s,o)}function ZC(s,o,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ni(s,o,u,f){return new ZC(s,o,u,f)}function wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function e2(s){if(typeof s=="function")return wm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===z)return 11;if(s===gt)return 14}return 2}function fs(s,o){var u=s.alternate;return u===null?(u=ni(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Xh(s,o,u,f,g,_){var T=2;if(f=s,typeof s=="function")wm(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case D:return Eo(u.children,g,_,o);case I:T=8,g|=8;break;case A:return s=ni(12,u,o,g|2),s.elementType=A,s.lanes=_,s;case M:return s=ni(13,u,o,g),s.elementType=M,s.lanes=_,s;case Ue:return s=ni(19,u,o,g),s.elementType=Ue,s.lanes=_,s;case Ie:return Jh(u,g,_,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:T=10;break e;case N:T=9;break e;case z:T=11;break e;case gt:T=14;break e;case dt:T=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=ni(T,u,o,g),o.elementType=s,o.type=f,o.lanes=_,o}function Eo(s,o,u,f){return s=ni(7,s,f,o),s.lanes=u,s}function Jh(s,o,u,f){return s=ni(22,s,f,o),s.elementType=Ie,s.lanes=u,s.stateNode={isHidden:!1},s}function Em(s,o,u){return s=ni(6,s,null,o),s.lanes=u,s}function Tm(s,o,u){return o=ni(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function t2(s,o,u,f,g){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kr(0),this.expirationTimes=Kr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kr(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function xm(s,o,u,f,g,_,T,R,O){return s=new t2(s,o,u,R,O),o===1?(o=1,_===!0&&(o|=8)):o=0,_=ni(3,null,null,o),s.current=_,_.stateNode=s,_.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Np(_),s}function n2(s,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:f==null?null:""+f,children:s,containerInfo:o,implementation:u}}function ew(s){if(!s)return rs;s=s._reactInternals;e:{if(fi(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(bn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var u=s.type;if(bn(u))return C0(s,u,o)}return o}function tw(s,o,u,f,g,_,T,R,O){return s=xm(u,f,!0,s,g,_,T,R,O),s.context=ew(null),u=s.current,f=wn(),g=hs(u),_=br(f,g),_.callback=o??null,as(u,_,g),s.current.lanes=g,Qr(s,g,f),kn(s,f),s}function Zh(s,o,u,f){var g=o.current,_=wn(),T=hs(g);return u=ew(u),o.context===null?o.context=u:o.pendingContext=u,o=br(_,T),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=as(g,o,T),s!==null&&(Ii(s,g,T,_),Ah(s,g,T)),T}function ed(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function nw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Sm(s,o){nw(s,o),(s=s.alternate)&&nw(s,o)}function i2(){return null}var iw=typeof reportError=="function"?reportError:function(s){console.error(s)};function Im(s){this._internalRoot=s}td.prototype.render=Im.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Zh(s,o,null,null)},td.prototype.unmount=Im.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;vo(function(){Zh(null,s,null,null)}),o[Er]=null}};function td(s){this._internalRoot=s}td.prototype.unstable_scheduleHydration=function(s){if(s){var o=th();s={blockedOn:null,target:s,priority:o};for(var u=0;u<Ui.length&&o!==0&&o<Ui[u].priority;u++);Ui.splice(u,0,s),u===0&&rh(s)}};function bm(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function nd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function rw(){}function r2(s,o,u,f,g){if(g){if(typeof f=="function"){var _=f;f=function(){var W=ed(T);_.call(W)}}var T=tw(o,f,s,0,null,!1,!1,"",rw);return s._reactRootContainer=T,s[Er]=T.current,Su(s.nodeType===8?s.parentNode:s),vo(),T}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var R=f;f=function(){var W=ed(O);R.call(W)}}var O=xm(s,0,!1,null,null,!1,!1,"",rw);return s._reactRootContainer=O,s[Er]=O.current,Su(s.nodeType===8?s.parentNode:s),vo(function(){Zh(o,O,u,f)}),O}function id(s,o,u,f,g){var _=u._reactRootContainer;if(_){var T=_;if(typeof g=="function"){var R=g;g=function(){var O=ed(T);R.call(O)}}Zh(o,T,s,g)}else T=r2(u,o,s,g,f);return ed(T)}Zc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=Gr(o.pendingLanes);u!==0&&(Yr(o,u|1),kn(o,Ze()),(ze&6)===0&&(Ka=Ze()+500,ss()))}break;case 13:vo(function(){var f=Ir(s,1);if(f!==null){var g=wn();Ii(f,s,1,g)}}),Sm(s,1)}},_a=function(s){if(s.tag===13){var o=Ir(s,134217728);if(o!==null){var u=wn();Ii(o,s,134217728,u)}Sm(s,134217728)}},eh=function(s){if(s.tag===13){var o=hs(s),u=Ir(s,o);if(u!==null){var f=wn();Ii(u,s,o,f)}Sm(s,o)}},th=function(){return Ne},nh=function(s,o){var u=Ne;try{return Ne=s,o()}finally{Ne=u}},ca=function(s,o,u){switch(o){case"input":if(Ql(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==s&&f.form===s.form){var g=wh(f);if(!g)throw Error(t(90));ra(f),Ql(f,g)}}}break;case"textarea":la(s,u);break;case"select":o=u.value,o!=null&&fr(s,!!u.multiple,o,!1)}},Xs=ym,su=vo;var s2={usingClientEntryPoint:!1,Events:[Pu,Oa,wh,ji,ru,ym]},Uu={findFiberByHostInstance:uo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o2={bundleType:Uu.bundleType,version:Uu.version,rendererPackageName:Uu.rendererPackageName,rendererConfig:Uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=lu(s),s===null?null:s.stateNode},findFiberByHostInstance:Uu.findFiberByHostInstance||i2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{no=rd.inject(o2),Mn=rd}catch{}}return An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s2,An.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(o))throw Error(t(200));return n2(s,o,null,u)},An.createRoot=function(s,o){if(!bm(s))throw Error(t(299));var u=!1,f="",g=iw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=xm(s,1,!1,null,null,u,!1,f,g),s[Er]=o.current,Su(s.nodeType===8?s.parentNode:s),new Im(o)},An.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=lu(o),s=s===null?null:s.stateNode,s},An.flushSync=function(s){return vo(s)},An.hydrate=function(s,o,u){if(!nd(o))throw Error(t(200));return id(null,s,o,!0,u)},An.hydrateRoot=function(s,o,u){if(!bm(s))throw Error(t(405));var f=u!=null&&u.hydratedSources||null,g=!1,_="",T=iw;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=tw(o,null,s,1,u??null,g,!1,_,T),s[Er]=o.current,Su(s),f)for(s=0;s<f.length;s++)u=f[s],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new td(o)},An.render=function(s,o,u){if(!nd(o))throw Error(t(200));return id(null,s,o,!1,u)},An.unmountComponentAtNode=function(s){if(!nd(s))throw Error(t(40));return s._reactRootContainer?(vo(function(){id(null,null,s,!1,function(){s._reactRootContainer=null,s[Er]=null})}),!0):!1},An.unstable_batchedUpdates=ym,An.unstable_renderSubtreeIntoContainer=function(s,o,u,f){if(!nd(u))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return id(s,o,u,!1,f)},An.version="18.3.1-next-f1338f8080-20240426",An}var dw;function p2(){if(dw)return km.exports;dw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),km.exports=f2(),km.exports}var fw;function m2(){if(fw)return sd;fw=1;var n=p2();return sd.createRoot=n.createRoot,sd.hydrateRoot=n.hydrateRoot,sd}var g2=m2();const y2=dx(g2),v2="modulepreload",_2=function(n){return"/Costas_Portfolio/"+n},pw={},w2=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");r=d(t.map(p=>{if(p=_2(p),p in pw)return;pw[p]=!0;const m=p.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":v2,m||(w.as="script"),w.crossOrigin="",w.href=p,c&&w.setAttribute("nonce",c),document.head.appendChild(w),m)return new Promise((x,P)=>{w.addEventListener("load",x),w.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return r.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},E2=()=>{};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},T2=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=n[t++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=n[t++],l=n[t++],c=n[t++],d=((r&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const a=n[t++],l=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const a=n[r],l=r+1<n.length,c=l?n[r+1]:0,d=r+2<n.length,p=d?n[r+2]:0,m=a>>2,v=(a&3)<<4|c>>4;let w=(c&15)<<2|p>>6,x=p&63;d||(x=64,l||(w=64)),i.push(t[m],t[v],t[w],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fx(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):T2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const a=t[n.charAt(r++)],c=r<n.length?t[n.charAt(r)]:0;++r;const p=r<n.length?t[n.charAt(r)]:64;++r;const v=r<n.length?t[n.charAt(r)]:64;if(++r,a==null||c==null||p==null||v==null)throw new x2;const w=a<<2|c>>4;if(i.push(w),p!==64){const x=c<<4&240|p>>2;if(i.push(x),v!==64){const P=p<<6&192|v;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(n){const e=fx(n);return px.encodeByteArray(e,!0)},Bd=function(n){return S2(n).replace(/\./g,"")},mx=function(n){try{return px.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=()=>I2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof mw>"u")return;const n=mw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},C2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mx(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return E2()||b2()||P2()||C2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gx=n=>Sf()?.emulatorHosts?.[n],k2=n=>{const e=gx(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},yx=()=>Sf()?.config,vx=n=>Sf()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _x(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Bd(JSON.stringify(t)),Bd(JSON.stringify(l)),""].join(".")}const ec={};function D2(){const n={prod:[],emulator:[]};for(const e of Object.keys(ec))ec[e]?n.emulator.push(e):n.prod.push(e);return n}function M2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let gw=!1;function wx(n,e){if(typeof window>"u"||typeof document>"u"||!Fl(window.location.host)||ec[n]===e||ec[n]||gw)return;ec[n]=e;function t(w){return`__firebase__banner__${w}`}const i="__firebase__banner",a=D2().prod.length>0;function l(){const w=document.getElementById(i);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function p(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{gw=!0,l()},w}function m(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=M2(i),x=t("text"),P=document.getElementById(x)||document.createElement("span"),k=t("learnmore"),b=document.getElementById(k)||document.createElement("a"),F=t("preprendIcon"),U=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;c(q),m(b,k);const G=p();d(U,F),q.append(U,P,b,G),document.body.appendChild(q)}a?(P.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function O2(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function F2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j2(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function z2(){return!O2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U2(){try{return typeof indexedDB=="object"}catch{return!1}}function B2(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="FirebaseError";class $r extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=$2,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?H2(a,i):"Error",c=`${this.serviceName}: ${l} (${r}).`;return new $r(r,c,i)}}function H2(n,e){return n.replace(q2,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const q2=/\{\$([^}]+)}/g;function W2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Uo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const a=n[r],l=e[r];if(yw(a)&&yw(l)){if(!Uo(a,l))return!1}else if(a!==l)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function yw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function Wu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function G2(n,e){const t=new K2(n,e);return t.subscribe.bind(t)}class K2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Q2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Dm),r.error===void 0&&(r.error=Dm),r.complete===void 0&&(r.complete=Dm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(n){return n&&n._delegate?n._delegate:n}class Bo{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new A2;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J2(e))try{this.getOrInitializeService({instanceIdentifier:Co})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=Co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Co){return this.instances.has(e)}getOptions(e=Co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:X2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Co){return this.component?this.component.multipleInstances?e:Co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X2(n){return n===Co?void 0:n}function J2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Y2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const ek={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},tk=De.INFO,nk={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},ik=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=nk[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ty{constructor(e){this.name=e,this._logLevel=tk,this._logHandler=ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ek[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const rk=(n,e)=>e.some(t=>n instanceof t);let vw,_w;function sk(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ok(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ex=new WeakMap,Tg=new WeakMap,Tx=new WeakMap,Mm=new WeakMap,xy=new WeakMap;function ak(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Is(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Ex.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function lk(n){if(Tg.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Tg.set(n,e)}let xg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uk(n){xg=n(xg)}function ck(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Vm(this),e,...t);return Tx.set(i,e.sort?e.sort():[e]),Is(i)}:ok().includes(n)?function(...e){return n.apply(Vm(this),e),Is(Ex.get(this))}:function(...e){return Is(n.apply(Vm(this),e))}}function hk(n){return typeof n=="function"?ck(n):(n instanceof IDBTransaction&&lk(n),rk(n,sk())?new Proxy(n,xg):n)}function Is(n){if(n instanceof IDBRequest)return ak(n);if(Mm.has(n))return Mm.get(n);const e=hk(n);return e!==n&&(Mm.set(n,e),xy.set(e,n)),e}const Vm=n=>xy.get(n);function dk(n,e,{blocked:t,upgrade:i,blocking:r,terminated:a}={}){const l=indexedDB.open(n,e),c=Is(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Is(l.result),d.oldVersion,d.newVersion,Is(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),r&&d.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const fk=["get","getKey","getAll","getAllKeys","count"],pk=["put","add","delete","clear"],Om=new Map;function ww(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=pk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||fk.includes(t)))return;const a=async function(l,...c){const d=this.transaction(l,r?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),r&&d.done]))[0]};return Om.set(e,a),a}uk(n=>({...n,get:(e,t,i)=>ww(e,t)||n.get(e,t,i),has:(e,t)=>!!ww(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function gk(n){return n.getComponent()?.type==="VERSION"}const Sg="@firebase/app",Ew="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Ty("@firebase/app"),yk="@firebase/app-compat",vk="@firebase/analytics-compat",_k="@firebase/analytics",wk="@firebase/app-check-compat",Ek="@firebase/app-check",Tk="@firebase/auth",xk="@firebase/auth-compat",Sk="@firebase/database",Ik="@firebase/data-connect",bk="@firebase/database-compat",Pk="@firebase/functions",Ck="@firebase/functions-compat",kk="@firebase/installations",Ak="@firebase/installations-compat",Rk="@firebase/messaging",Dk="@firebase/messaging-compat",Mk="@firebase/performance",Vk="@firebase/performance-compat",Ok="@firebase/remote-config",Nk="@firebase/remote-config-compat",Lk="@firebase/storage",Fk="@firebase/storage-compat",jk="@firebase/firestore",zk="@firebase/ai",Uk="@firebase/firestore-compat",Bk="firebase",$k="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="[DEFAULT]",Hk={[Sg]:"fire-core",[yk]:"fire-core-compat",[_k]:"fire-analytics",[vk]:"fire-analytics-compat",[Ek]:"fire-app-check",[wk]:"fire-app-check-compat",[Tk]:"fire-auth",[xk]:"fire-auth-compat",[Sk]:"fire-rtdb",[Ik]:"fire-data-connect",[bk]:"fire-rtdb-compat",[Pk]:"fire-fn",[Ck]:"fire-fn-compat",[kk]:"fire-iid",[Ak]:"fire-iid-compat",[Rk]:"fire-fcm",[Dk]:"fire-fcm-compat",[Mk]:"fire-perf",[Vk]:"fire-perf-compat",[Ok]:"fire-rc",[Nk]:"fire-rc-compat",[Lk]:"fire-gcs",[Fk]:"fire-gcs-compat",[jk]:"fire-fst",[Uk]:"fire-fst-compat",[zk]:"fire-vertex","fire-js":"fire-js",[Bk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,qk=new Map,bg=new Map;function Tw(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tl(n){const e=n.name;if(bg.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;bg.set(e,n);for(const t of $d.values())Tw(t,n);for(const t of qk.values())Tw(t,n);return!0}function Sy(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ci(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new kc("app","Firebase",Wk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=$k;function xx(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Ig,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw bs.create("bad-app-name",{appName:String(r)});if(t||(t=yx()),!t)throw bs.create("no-options");const a=$d.get(r);if(a){if(Uo(t,a.options)&&Uo(i,a.config))return a;throw bs.create("duplicate-app",{appName:r})}const l=new Z2(r);for(const d of bg.values())l.addComponent(d);const c=new Gk(t,i,l);return $d.set(r,c),c}function Sx(n=Ig){const e=$d.get(n);if(!e&&n===Ig&&yx())return xx();if(!e)throw bs.create("no-app",{appName:n});return e}function Ps(n,e,t){let i=Hk[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(l.join(" "));return}Tl(new Bo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="firebase-heartbeat-database",Qk=1,hc="firebase-heartbeat-store";let Nm=null;function Ix(){return Nm||(Nm=dk(Kk,Qk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hc)}catch(t){console.warn(t)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),Nm}async function Yk(n){try{const t=(await Ix()).transaction(hc),i=await t.objectStore(hc).get(bx(n));return await t.done,i}catch(e){if(e instanceof $r)Fr.warn(e.message);else{const t=bs.create("idb-get",{originalErrorMessage:e?.message});Fr.warn(t.message)}}}async function xw(n,e){try{const i=(await Ix()).transaction(hc,"readwrite");await i.objectStore(hc).put(e,bx(n)),await i.done}catch(t){if(t instanceof $r)Fr.warn(t.message);else{const i=bs.create("idb-set",{originalErrorMessage:t?.message});Fr.warn(i.message)}}}function bx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Jk=30;class Zk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tA(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Sw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>Jk){const r=nA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Fr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sw(),{heartbeatsToSend:t,unsentEntries:i}=eA(this._heartbeatsCache.heartbeats),r=Bd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Fr.warn(e),""}}}function Sw(){return new Date().toISOString().substring(0,10)}function eA(n,e=Xk){const t=[];let i=n.slice();for(const r of n){const a=t.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Iw(t)>e){a.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Iw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class tA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return U2()?B2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Yk(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return xw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iw(n){return Bd(JSON.stringify({version:2,heartbeats:n})).length}function nA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n){Tl(new Bo("platform-logger",e=>new mk(e),"PRIVATE")),Tl(new Bo("heartbeat",e=>new Zk(e),"PRIVATE")),Ps(Sg,Ew,n),Ps(Sg,Ew,"esm2020"),Ps("fire-js","")}iA("");var rA="firebase",sA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ps(rA,sA,"app");var bw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,Px;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(V,N,z){for(var M=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)M[Ue-2]=arguments[Ue];return I.prototype[N].apply(V,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,I,A){A||(A=0);var V=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)V[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)V[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],N=D.g[2];var z=D.g[3],M=I+(z^A&(N^z))+V[0]+3614090360&4294967295;I=A+(M<<7&4294967295|M>>>25),M=z+(N^I&(A^N))+V[1]+3905402710&4294967295,z=I+(M<<12&4294967295|M>>>20),M=N+(A^z&(I^A))+V[2]+606105819&4294967295,N=z+(M<<17&4294967295|M>>>15),M=A+(I^N&(z^I))+V[3]+3250441966&4294967295,A=N+(M<<22&4294967295|M>>>10),M=I+(z^A&(N^z))+V[4]+4118548399&4294967295,I=A+(M<<7&4294967295|M>>>25),M=z+(N^I&(A^N))+V[5]+1200080426&4294967295,z=I+(M<<12&4294967295|M>>>20),M=N+(A^z&(I^A))+V[6]+2821735955&4294967295,N=z+(M<<17&4294967295|M>>>15),M=A+(I^N&(z^I))+V[7]+4249261313&4294967295,A=N+(M<<22&4294967295|M>>>10),M=I+(z^A&(N^z))+V[8]+1770035416&4294967295,I=A+(M<<7&4294967295|M>>>25),M=z+(N^I&(A^N))+V[9]+2336552879&4294967295,z=I+(M<<12&4294967295|M>>>20),M=N+(A^z&(I^A))+V[10]+4294925233&4294967295,N=z+(M<<17&4294967295|M>>>15),M=A+(I^N&(z^I))+V[11]+2304563134&4294967295,A=N+(M<<22&4294967295|M>>>10),M=I+(z^A&(N^z))+V[12]+1804603682&4294967295,I=A+(M<<7&4294967295|M>>>25),M=z+(N^I&(A^N))+V[13]+4254626195&4294967295,z=I+(M<<12&4294967295|M>>>20),M=N+(A^z&(I^A))+V[14]+2792965006&4294967295,N=z+(M<<17&4294967295|M>>>15),M=A+(I^N&(z^I))+V[15]+1236535329&4294967295,A=N+(M<<22&4294967295|M>>>10),M=I+(N^z&(A^N))+V[1]+4129170786&4294967295,I=A+(M<<5&4294967295|M>>>27),M=z+(A^N&(I^A))+V[6]+3225465664&4294967295,z=I+(M<<9&4294967295|M>>>23),M=N+(I^A&(z^I))+V[11]+643717713&4294967295,N=z+(M<<14&4294967295|M>>>18),M=A+(z^I&(N^z))+V[0]+3921069994&4294967295,A=N+(M<<20&4294967295|M>>>12),M=I+(N^z&(A^N))+V[5]+3593408605&4294967295,I=A+(M<<5&4294967295|M>>>27),M=z+(A^N&(I^A))+V[10]+38016083&4294967295,z=I+(M<<9&4294967295|M>>>23),M=N+(I^A&(z^I))+V[15]+3634488961&4294967295,N=z+(M<<14&4294967295|M>>>18),M=A+(z^I&(N^z))+V[4]+3889429448&4294967295,A=N+(M<<20&4294967295|M>>>12),M=I+(N^z&(A^N))+V[9]+568446438&4294967295,I=A+(M<<5&4294967295|M>>>27),M=z+(A^N&(I^A))+V[14]+3275163606&4294967295,z=I+(M<<9&4294967295|M>>>23),M=N+(I^A&(z^I))+V[3]+4107603335&4294967295,N=z+(M<<14&4294967295|M>>>18),M=A+(z^I&(N^z))+V[8]+1163531501&4294967295,A=N+(M<<20&4294967295|M>>>12),M=I+(N^z&(A^N))+V[13]+2850285829&4294967295,I=A+(M<<5&4294967295|M>>>27),M=z+(A^N&(I^A))+V[2]+4243563512&4294967295,z=I+(M<<9&4294967295|M>>>23),M=N+(I^A&(z^I))+V[7]+1735328473&4294967295,N=z+(M<<14&4294967295|M>>>18),M=A+(z^I&(N^z))+V[12]+2368359562&4294967295,A=N+(M<<20&4294967295|M>>>12),M=I+(A^N^z)+V[5]+4294588738&4294967295,I=A+(M<<4&4294967295|M>>>28),M=z+(I^A^N)+V[8]+2272392833&4294967295,z=I+(M<<11&4294967295|M>>>21),M=N+(z^I^A)+V[11]+1839030562&4294967295,N=z+(M<<16&4294967295|M>>>16),M=A+(N^z^I)+V[14]+4259657740&4294967295,A=N+(M<<23&4294967295|M>>>9),M=I+(A^N^z)+V[1]+2763975236&4294967295,I=A+(M<<4&4294967295|M>>>28),M=z+(I^A^N)+V[4]+1272893353&4294967295,z=I+(M<<11&4294967295|M>>>21),M=N+(z^I^A)+V[7]+4139469664&4294967295,N=z+(M<<16&4294967295|M>>>16),M=A+(N^z^I)+V[10]+3200236656&4294967295,A=N+(M<<23&4294967295|M>>>9),M=I+(A^N^z)+V[13]+681279174&4294967295,I=A+(M<<4&4294967295|M>>>28),M=z+(I^A^N)+V[0]+3936430074&4294967295,z=I+(M<<11&4294967295|M>>>21),M=N+(z^I^A)+V[3]+3572445317&4294967295,N=z+(M<<16&4294967295|M>>>16),M=A+(N^z^I)+V[6]+76029189&4294967295,A=N+(M<<23&4294967295|M>>>9),M=I+(A^N^z)+V[9]+3654602809&4294967295,I=A+(M<<4&4294967295|M>>>28),M=z+(I^A^N)+V[12]+3873151461&4294967295,z=I+(M<<11&4294967295|M>>>21),M=N+(z^I^A)+V[15]+530742520&4294967295,N=z+(M<<16&4294967295|M>>>16),M=A+(N^z^I)+V[2]+3299628645&4294967295,A=N+(M<<23&4294967295|M>>>9),M=I+(N^(A|~z))+V[0]+4096336452&4294967295,I=A+(M<<6&4294967295|M>>>26),M=z+(A^(I|~N))+V[7]+1126891415&4294967295,z=I+(M<<10&4294967295|M>>>22),M=N+(I^(z|~A))+V[14]+2878612391&4294967295,N=z+(M<<15&4294967295|M>>>17),M=A+(z^(N|~I))+V[5]+4237533241&4294967295,A=N+(M<<21&4294967295|M>>>11),M=I+(N^(A|~z))+V[12]+1700485571&4294967295,I=A+(M<<6&4294967295|M>>>26),M=z+(A^(I|~N))+V[3]+2399980690&4294967295,z=I+(M<<10&4294967295|M>>>22),M=N+(I^(z|~A))+V[10]+4293915773&4294967295,N=z+(M<<15&4294967295|M>>>17),M=A+(z^(N|~I))+V[1]+2240044497&4294967295,A=N+(M<<21&4294967295|M>>>11),M=I+(N^(A|~z))+V[8]+1873313359&4294967295,I=A+(M<<6&4294967295|M>>>26),M=z+(A^(I|~N))+V[15]+4264355552&4294967295,z=I+(M<<10&4294967295|M>>>22),M=N+(I^(z|~A))+V[6]+2734768916&4294967295,N=z+(M<<15&4294967295|M>>>17),M=A+(z^(N|~I))+V[13]+1309151649&4294967295,A=N+(M<<21&4294967295|M>>>11),M=I+(N^(A|~z))+V[4]+4149444226&4294967295,I=A+(M<<6&4294967295|M>>>26),M=z+(A^(I|~N))+V[11]+3174756917&4294967295,z=I+(M<<10&4294967295|M>>>22),M=N+(I^(z|~A))+V[2]+718787259&4294967295,N=z+(M<<15&4294967295|M>>>17),M=A+(z^(N|~I))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,D.g[2]=D.g[2]+N&4294967295,D.g[3]=D.g[3]+z&4294967295}i.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,V=this.B,N=this.h,z=0;z<I;){if(N==0)for(;z<=A;)r(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<I;)if(V[N++]=D.charCodeAt(z++),N==this.blockSize){r(this,V),N=0;break}}else for(;z<I;)if(V[N++]=D[z++],N==this.blockSize){r(this,V),N=0;break}}this.h=N,this.o+=I},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var V=0;32>V;V+=8)D[A++]=this.g[I]>>>V&255;return D};function a(D,I){var A=c;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function l(D,I){this.h=I;for(var A=[],V=!0,N=D.length-1;0<=N;N--){var z=D[N]|0;V&&z==I||(A[N]=z,V=!1)}this.g=A}var c={};function d(D){return-128<=D&&128>D?a(D,function(I){return new l([I|0],0>I?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return b(p(-D));for(var I=[],A=1,V=0;D>=A;V++)I[V]=D/A|0,A*=4294967296;return new l(I,0)}function m(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return b(m(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(I,8)),V=v,N=0;N<D.length;N+=8){var z=Math.min(8,D.length-N),M=parseInt(D.substring(N,N+z),I);8>z?(z=p(Math.pow(I,z)),V=V.j(z).add(p(M))):(V=V.j(A),V=V.add(p(M)))}return V}var v=d(0),w=d(1),x=d(16777216);n=l.prototype,n.m=function(){if(k(this))return-b(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var V=this.i(A);D+=(0<=V?V:4294967296+V)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(P(this))return"0";if(k(this))return"-"+b(this).toString(D);for(var I=p(Math.pow(D,6)),A=this,V="";;){var N=G(A,I).g;A=F(A,N.j(I));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=N,P(A))return z+V;for(;6>z.length;)z="0"+z;V=z+V}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function P(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function k(D){return D.h==-1}n.l=function(D){return D=F(this,D),k(D)?-1:P(D)?0:1};function b(D){for(var I=D.g.length,A=[],V=0;V<I;V++)A[V]=~D.g[V];return new l(A,~D.h).add(w)}n.abs=function(){return k(this)?b(this):this},n.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0,N=0;N<=I;N++){var z=V+(this.i(N)&65535)+(D.i(N)&65535),M=(z>>>16)+(this.i(N)>>>16)+(D.i(N)>>>16);V=M>>>16,z&=65535,M&=65535,A[N]=M<<16|z}return new l(A,A[A.length-1]&-2147483648?-1:0)};function F(D,I){return D.add(b(I))}n.j=function(D){if(P(this)||P(D))return v;if(k(this))return k(D)?b(this).j(b(D)):b(b(this).j(D));if(k(D))return b(this.j(b(D)));if(0>this.l(x)&&0>D.l(x))return p(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],V=0;V<2*I;V++)A[V]=0;for(V=0;V<this.g.length;V++)for(var N=0;N<D.g.length;N++){var z=this.i(V)>>>16,M=this.i(V)&65535,Ue=D.i(N)>>>16,gt=D.i(N)&65535;A[2*V+2*N]+=M*gt,U(A,2*V+2*N),A[2*V+2*N+1]+=z*gt,U(A,2*V+2*N+1),A[2*V+2*N+1]+=M*Ue,U(A,2*V+2*N+1),A[2*V+2*N+2]+=z*Ue,U(A,2*V+2*N+2)}for(V=0;V<I;V++)A[V]=A[2*V+1]<<16|A[2*V];for(V=I;V<2*I;V++)A[V]=0;return new l(A,0)};function U(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function q(D,I){this.g=D,this.h=I}function G(D,I){if(P(I))throw Error("division by zero");if(P(D))return new q(v,v);if(k(D))return I=G(b(D),I),new q(b(I.g),b(I.h));if(k(I))return I=G(D,b(I)),new q(b(I.g),I.h);if(30<D.g.length){if(k(D)||k(I))throw Error("slowDivide_ only works with positive integers.");for(var A=w,V=I;0>=V.l(D);)A=Y(A),V=Y(V);var N=ie(A,1),z=ie(V,1);for(V=ie(V,2),A=ie(A,2);!P(V);){var M=z.add(V);0>=M.l(D)&&(N=N.add(A),z=M),V=ie(V,1),A=ie(A,1)}return I=F(D,N.j(I)),new q(N,I)}for(N=v;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),V=Math.ceil(Math.log(A)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),z=p(A),M=z.j(I);k(M)||0<M.l(D);)A-=V,z=p(A),M=z.j(I);P(z)&&(z=w),N=N.add(z),D=F(D,M)}return new q(N,D)}n.A=function(D){return G(this,D).h},n.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0;V<I;V++)A[V]=this.i(V)&D.i(V);return new l(A,this.h&D.h)},n.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0;V<I;V++)A[V]=this.i(V)|D.i(V);return new l(A,this.h|D.h)},n.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],V=0;V<I;V++)A[V]=this.i(V)^D.i(V);return new l(A,this.h^D.h)};function Y(D){for(var I=D.g.length+1,A=[],V=0;V<I;V++)A[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(A,D.h)}function ie(D,I){var A=I>>5;I%=32;for(var V=D.g.length-A,N=[],z=0;z<V;z++)N[z]=0<I?D.i(z+A)>>>I|D.i(z+A+1)<<32-I:D.i(z+A);return new l(N,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Px=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=m,Cs=l}).apply(typeof bw<"u"?bw:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cx,Gu,kx,bd,Pg,Ax,Rx,Dx;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,E){return h==Array.prototype||h==Object.prototype||(h[y]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=t(this);function r(h,y){if(y)e:{var E=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var B=h[S];if(!(B in E))break e;E=E[B]}h=h[h.length-1],S=E[h],y=y(S),y!=S&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}function a(h,y){h instanceof String&&(h+="");var E=0,S=!1,B={next:function(){if(!S&&E<h.length){var K=E++;return{value:y(K,h[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}r("Array.prototype.values",function(h){return h||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function p(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function m(h,y,E){return h.call.apply(h.bind,arguments)}function v(h,y,E){if(!h)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),h.apply(y,B)}}return function(){return h.apply(y,arguments)}}function w(h,y,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,w.apply(null,arguments)}function x(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function P(h,y){function E(){}E.prototype=y.prototype,h.aa=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(S,B,K){for(var ae=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ae[Ge-2]=arguments[Ge];return y.prototype[B].apply(S,ae)}}function k(h){const y=h.length;if(0<y){const E=Array(y);for(let S=0;S<y;S++)E[S]=h[S];return E}return[]}function b(h,y){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(d(S)){const B=h.length||0,K=S.length||0;h.length=B+K;for(let ae=0;ae<K;ae++)h[B+ae]=S[ae]}else h.push(S)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){return/^[\s\xa0]*$/.test(h)}function q(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var Y=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ie(h,y,E){for(const S in h)y.call(E,h[S],S,h)}function D(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function I(h){const y={};for(const E in h)y[E]=h[E];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,y){let E,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(E in S)h[E]=S[E];for(let K=0;K<A.length;K++)E=A[K],Object.prototype.hasOwnProperty.call(S,E)&&(h[E]=S[E])}}function N(h){var y=1;h=h.split(":");const E=[];for(;0<y&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function z(h){c.setTimeout(()=>{throw h},0)}function M(){var h=ge;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ue{constructor(){this.h=this.g=null}add(y,E){const S=gt.get();S.set(y,E),this.h?this.h.next=S:this.g=S,this.h=S}}var gt=new F(()=>new dt,h=>h.reset());class dt{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,se=!1,ge=new Ue,te=()=>{const h=c.Promise.resolve(void 0);Ie=()=>{h.then(j)}};var j=()=>{for(var h;h=M();){try{h.h.call(h.g)}catch(E){z(E)}var y=gt;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}se=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h}();function Ae(h,y){if(ue.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(Y){e:{try{G(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ae.aa.h.call(this)}}P(Ae,ue);var Le={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Je(h,y,E,S,B){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!S,this.ha=B,this.key=++qe,this.da=this.fa=!1}function Lt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function hr(h){this.src=h,this.g={},this.h=0}hr.prototype.add=function(h,y,E,S,B){var K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);var ae=Hr(h,y,S,B);return-1<ae?(y=h[ae],E||(y.fa=!1)):(y=new Je(y,this.src,K,!!S,B),y.fa=E,h.push(y)),y};function ra(h,y){var E=y.type;if(E in h.g){var S=h.g[E],B=Array.prototype.indexOf.call(S,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(Lt(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Hr(h,y,E,S){for(var B=0;B<h.length;++B){var K=h[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==S)return B}return-1}var Gs="closure_lm_"+(1e6*Math.random()|0),sa={};function Kl(h,y,E,S,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Kl(h,y[K],E,S,B);return null}return E=Xl(E),h&&h[He]?h.K(y,E,p(S)?!!S.capture:!1,B):Ql(h,y,E,!1,S,B)}function Ql(h,y,E,S,B,K){if(!y)throw Error("Invalid event type");var ae=p(B)?!!B.capture:!!B,Ge=aa(h);if(Ge||(h[Gs]=Ge=new hr(h)),E=Ge.add(y,E,S,ae,K),E.proxy)return E;if(S=Hc(),E.proxy=S,S.src=h,S.listener=E,h.addEventListener)Pe||(B=ae),B===void 0&&(B=!1),h.addEventListener(y.toString(),S,B);else if(h.attachEvent)h.attachEvent(fr(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Hc(){function h(E){return y.call(h.src,h.listener,E)}const y=Yl;return h}function oa(h,y,E,S,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)oa(h,y[K],E,S,B);else S=p(S)?!!S.capture:!!S,E=Xl(E),h&&h[He]?(h=h.i,y=String(y).toString(),y in h.g&&(K=h.g[y],E=Hr(K,E,S,B),-1<E&&(Lt(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete h.g[y],h.h--)))):h&&(h=aa(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Hr(y,E,S,B)),(E=-1<h?y[h]:null)&&dr(E))}function dr(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[He])ra(y.i,h);else{var E=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(E,S,h.capture):y.detachEvent?y.detachEvent(fr(E),S):y.addListener&&y.removeListener&&y.removeListener(S),(E=aa(y))?(ra(E,h),E.h==0&&(E.src=null,y[Gs]=null)):Lt(h)}}}function fr(h){return h in sa?sa[h]:sa[h]="on"+h}function Yl(h,y){if(h.da)h=!0;else{y=new Ae(y,this);var E=h.listener,S=h.ha||h.src;h.fa&&dr(h),h=E.call(S,y)}return h}function aa(h){return h=h[Gs],h instanceof hr?h:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(h){return typeof h=="function"?h:(h[la]||(h[la]=function(y){return h.handleEvent(y)}),h[la])}function Ct(){Q.call(this),this.i=new hr(this),this.M=this,this.F=null}P(Ct,Q),Ct.prototype[He]=!0,Ct.prototype.removeEventListener=function(h,y,E,S){oa(this,h,y,E,S)};function kt(h,y){var E,S=h.F;if(S)for(E=[];S;S=S.F)E.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new ue(y,h);else if(y instanceof ue)y.target=y.target||h;else{var B=y;y=new ue(S,h),V(y,B)}if(B=!0,E)for(var K=E.length-1;0<=K;K--){var ae=y.g=E[K];B=pr(ae,S,!0,y)&&B}if(ae=y.g=h,B=pr(ae,S,!0,y)&&B,B=pr(ae,S,!1,y)&&B,E)for(K=0;K<E.length;K++)ae=y.g=E[K],B=pr(ae,S,!1,y)&&B}Ct.prototype.N=function(){if(Ct.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var E=h.g[y],S=0;S<E.length;S++)Lt(E[S]);delete h.g[y],h.h--}}this.F=null},Ct.prototype.K=function(h,y,E,S){return this.i.add(String(h),y,!1,E,S)},Ct.prototype.L=function(h,y,E,S){return this.i.add(String(h),y,!0,E,S)};function pr(h,y,E,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==E){var Ge=ae.listener,At=ae.ha||ae.src;ae.fa&&ra(h.i,ae),B=Ge.call(At,S)!==!1&&B}}return B&&!S.defaultPrevented}function Jl(h,y,E){if(typeof h=="function")E&&(h=w(h,E));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(h,y||0)}function qr(h){h.g=Jl(()=>{h.g=null,h.i&&(h.i=!1,qr(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Ks extends Q{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(h){Q.call(this),this.h=h,this.g={}}P(Qs,Q);var Zl=[];function eu(h){ie(h.g,function(y,E){this.g.hasOwnProperty(E)&&dr(y)},h),h.g={}}Qs.prototype.N=function(){Qs.aa.N.call(this),eu(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tu=c.JSON.stringify,nu=c.JSON.parse,iu=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Ys(){}Ys.prototype.h=null;function ua(h){return h.h||(h.h=h.i())}function ca(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){ue.call(this,"d")}P(Fi,ue);function ha(){ue.call(this,"c")}P(ha,ue);var ji={},ru=null;function Xs(){return ru=ru||new Ct}ji.La="serverreachability";function su(h){ue.call(this,ji.La,h)}P(su,ue);function mr(h){const y=Xs();kt(y,new su(y))}ji.STAT_EVENT="statevent";function ou(h,y){ue.call(this,ji.STAT_EVENT,h),this.stat=y}P(ou,ue);function yt(h){const y=Xs();kt(y,new ou(y,h))}ji.Ma="timingevent";function da(h,y){ue.call(this,ji.Ma,h),this.size=y}P(da,ue);function hi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function Zs(h,y,E,S,B,K){h.info(function(){if(h.g)if(K)for(var ae="",Ge=K.split("&"),At=0;At<Ge.length;At++){var Fe=Ge[At].split("=");if(1<Fe.length){var Ft=Fe[0];Fe=Fe[1];var Tt=Ft.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(Ft+"="+Fe+"&"):ae+(Ft+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+E+`
`+ae})}function fa(h,y,E,S,B,K,ae){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+ae})}function di(h,y,E,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+tp(h,E)+(S?" "+S:"")})}function au(h,y){h.info(function(){return"TIMEOUT: "+y})}Js.prototype.info=function(){};function tp(h,y){if(!h.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var S=E[h];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return tu(E)}catch{return y}}var pa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fi;function eo(){}P(eo,Ys),eo.prototype.g=function(){return new XMLHttpRequest},eo.prototype.i=function(){return{}},fi=new eo;function pi(h,y,E,S){this.j=h,this.i=y,this.l=E,this.R=S||1,this.U=new Qs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wc}function Wc(){this.i=null,this.g="",this.h=!1}var lu={},ma={};function ga(h,y,E){h.L=1,h.v=Yr(Vn(y)),h.m=E,h.P=!0,uu(h,null)}function uu(h,y){h.F=Date.now(),Ze(h),h.A=Vn(h.v);var E=h.A,S=h.R;Array.isArray(S)||(S=[String(S)]),Jr(E.i,"t",S),h.C=0,E=h.j.J,h.h=new Wc,h.g=ch(h.j,E?y:null,!h.m),0<h.O&&(h.M=new Ks(w(h.Y,h,h.g),h.O)),y=h.U,E=h.g,S=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(Zl[0]=B.toString()),B=Zl);for(var K=0;K<B.length;K++){var ae=Kl(E,B[K],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=h.H?I(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),mr(),Zs(h.i,h.u,h.A,h.l,h.R,h.m)}pi.prototype.ca=function(h){h=h.target;const y=this.M;y&&Sn(h)==3?y.j():this.Y(h)},pi.prototype.Y=function(h){try{if(h==this.g)e:{const Tt=Sn(this.g);var y=this.g.Ba();const Yn=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Yn?mr(3):mr(2)),to(this);var E=this.g.Z();this.X=E;t:if(Gc(this)){var S=mu(this.g);h="";var B=S.length,K=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Wr(this);var ae="";break t}this.h.i=new c.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,h+=this.h.i.decode(S[y],{stream:!(K&&y==B-1)});S.length=0,this.h.g+=h,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,fa(this.i,this.u,this.A,this.l,this.R,Tt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,At=this.g;if((Ge=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Ge)){var Fe=Ge;break t}}Fe=null}if(E=Fe)di(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cu(this,E);else{this.o=!1,this.s=3,yt(12),Kn(this),Wr(this);break e}}if(this.P){E=!0;let Nn;for(;!this.J&&this.C<ae.length;)if(Nn=np(this,ae),Nn==ma){Tt==4&&(this.s=4,yt(14),E=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==lu){this.s=4,yt(15),di(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else di(this.i,this.l,Nn,null),cu(this,Nn);if(Gc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)di(this.i,this.l,ae,"[Invalid Chunked Response]"),Kn(this),Wr(this);else if(0<ae.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),yu(Ft),Ft.M=!0,yt(11))}}else di(this.i,this.l,ae,null),cu(this,ae);Tt==4&&Kn(this),this.o&&!this.J&&(Tt==4?Pa(this.j,this):(this.o=!1,Ze(this)))}else Ta(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Kn(this),Wr(this)}}}catch{}finally{}};function Gc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function np(h,y){var E=h.C,S=y.indexOf(`
`,E);return S==-1?ma:(E=Number(y.substring(E,S)),isNaN(E)?lu:(S+=1,S+E>y.length?ma:(y=y.slice(S,S+E),h.C=S+E,y)))}pi.prototype.cancel=function(){this.J=!0,Kn(this)};function Ze(h){h.S=Date.now()+h.I,Kc(h,h.I)}function Kc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=hi(w(h.ba,h),y)}function to(h){h.B&&(c.clearTimeout(h.B),h.B=null)}pi.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(au(this.i,this.A),this.L!=2&&(mr(),yt(17)),Kn(this),this.s=2,Wr(this)):Kc(this,this.S-h)};function Wr(h){h.j.G==0||h.J||Pa(h.j,h)}function Kn(h){to(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,eu(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function cu(h,y){try{var E=h.j;if(E.G!=0&&(E.g==h||yn(E.h,h))){if(!h.K&&yn(E.h,h)&&E.G==3){try{var S=E.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)ba(E),_i(E);else break e;Ia(E),yt(18)}}else E.za=B[1],0<E.za-E.T&&37500>B[2]&&E.F&&E.v==0&&!E.C&&(E.C=hi(w(E.Za,E),6e3));if(1>=Yc(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else wr(E,11)}else if((h.K||E.g==h)&&ba(E),!U(y))for(B=E.Da.g.parse(y),y=0;y<B.length;y++){let Fe=B[y];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const Ft=Fe[3];Ft!=null&&(E.la=Ft,E.j.info("VER="+E.la));const Tt=Fe[4];Tt!=null&&(E.Aa=Tt,E.j.info("SVER="+E.Aa));const Yn=Fe[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(S=1.5*Yn,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Nn=h.g;if(Nn){const lo=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var K=S.h;K.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(hu(K,K.h),K.h=null))}if(S.D){const ka=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(S.ya=ka,Ye(S.I,S.D,ka))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var ae=h;if(S.qa=uh(S,S.J?S.ia:null,S.W),ae.K){Xc(S.h,ae);var Ge=ae,At=S.L;At&&(Ge.I=At),Ge.B&&(to(Ge),Ze(Ge)),S.g=ae}else ao(S);0<E.i.length&&$i(E)}else Fe[0]!="stop"&&Fe[0]!="close"||wr(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?wr(E,7):qt(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}mr(4)}catch{}}var Qc=class{constructor(h,y){this.g=h,this.map=y}};function no(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Yc(h){return h.h?1:h.g?h.g.size:0}function yn(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function hu(h,y){h.g?h.g.add(y):h.h=y}function Xc(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}no.prototype.cancel=function(){if(this.i=Jc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.D);return y}return k(h.i)}function ya(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var y=[],E=h.length,S=0;S<E;S++)y.push(h[S]);return y}y=[],E=0;for(S in h)y[E++]=h[S];return y}function va(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var y=[];h=h.length;for(var E=0;E<h;E++)y.push(E);return y}y=[],E=0;for(const S in h)y[E++]=S;return y}}}function Gr(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var E=va(h),S=ya(h),B=S.length,K=0;K<B;K++)y.call(void 0,S[K],E&&E[K],h)}var io=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ip(h,y){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var S=h[E].indexOf("="),B=null;if(0<=S){var K=h[E].substring(0,S);B=h[E].substring(S+1)}else K=h[E];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof gr){this.h=h.h,ro(this,h.j),this.o=h.o,this.g=h.g,Kr(this,h.s),this.l=h.l;var y=h.i,E=new zi;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Qr(this,E),this.m=h.m}else h&&(y=String(h).match(io))?(this.h=!1,ro(this,y[1]||"",!0),this.o=Ne(y[2]||""),this.g=Ne(y[3]||"",!0),Kr(this,y[4]),this.l=Ne(y[5]||"",!0),Qr(this,y[6]||"",!0),this.m=Ne(y[7]||"")):(this.h=!1,this.i=new zi(null,this.h))}gr.prototype.toString=function(){var h=[],y=this.j;y&&h.push(Xr(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Xr(y,_a,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Xr(E,E.charAt(0)=="/"?th:eh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Xr(E,du)),h.join("")};function Vn(h){return new gr(h)}function ro(h,y,E){h.j=E?Ne(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Kr(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function Qr(h,y,E){y instanceof zi?(h.i=y,Ui(h.i,h.h)):(E||(y=Xr(y,nh)),h.i=new zi(y,h.h))}function Ye(h,y,E){h.i.set(y,E)}function Yr(h){return Ye(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ne(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xr(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Zc),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var _a=/[#\/\?@]/g,eh=/[#\?:]/g,th=/[#\?]/g,nh=/[#\?@]/g,du=/#/g;function zi(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Ht(h){h.g||(h.g=new Map,h.h=0,h.i&&ip(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}n=zi.prototype,n.add=function(h,y){Ht(this),this.i=null,h=Qn(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function mi(h,y){Ht(h),y=Qn(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function gi(h,y){return Ht(h),y=Qn(h,y),h.g.has(y)}n.forEach=function(h,y){Ht(this),this.g.forEach(function(E,S){E.forEach(function(B){h.call(y,B,S,this)},this)},this)},n.na=function(){Ht(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let S=0;S<y.length;S++){const B=h[S];for(let K=0;K<B.length;K++)E.push(y[S])}return E},n.V=function(h){Ht(this);let y=[];if(typeof h=="string")gi(this,h)&&(y=y.concat(this.g.get(Qn(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)y=y.concat(h[E])}return y},n.set=function(h,y){return Ht(this),this.i=null,h=Qn(this,h),gi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function Jr(h,y,E){mi(h,y),0<E.length&&(h.i=null,h.g.set(Qn(h,y),k(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var S=y[E];const K=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var B=K;ae[S]!==""&&(B+="="+encodeURIComponent(String(ae[S]))),h.push(B)}}return this.i=h.join("&")};function Qn(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ui(h,y){y&&!h.j&&(Ht(h),h.i=null,h.g.forEach(function(E,S){var B=S.toLowerCase();S!=B&&(mi(this,S),Jr(this,B,E))},h)),h.j=y}function rp(h,y){const E=new Js;if(c.Image){const S=new Image;S.onload=x(xn,E,"TestLoadImage: loaded",!0,y,S),S.onerror=x(xn,E,"TestLoadImage: error",!1,y,S),S.onabort=x(xn,E,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(xn,E,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function ih(h,y){const E=new Js,S=new AbortController,B=setTimeout(()=>{S.abort(),xn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?xn(E,"TestPingServer: ok",!0,y):xn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),xn(E,"TestPingServer: error",!1,y)})}function xn(h,y,E,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(E)}catch{}}function sp(){this.g=new iu}function rh(h,y,E){const S=E||"";try{Gr(h,function(B,K){let ae=B;p(B)&&(ae=tu(B)),y.push(S+K+"="+encodeURIComponent(ae))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function yr(h){this.l=h.Ub||null,this.j=h.eb||!1}P(yr,Ys),yr.prototype.g=function(){return new so(this.l,this.j)},yr.prototype.i=function(h){return function(){return h}}({});function so(h,y){Ct.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(so,Ct),n=so.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,vi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;sh(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function sh(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?yi(this):vi(this),this.readyState==3&&sh(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,yi(this))},n.Qa=function(h){this.g&&(this.response=h,yi(this))},n.ga=function(){this.g&&yi(this)};function yi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,vi(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function vr(h){let y="";return ie(h,function(E,S){y+=S,y+=":",y+=E,y+=`\r
`}),y}function Zr(h,y,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=vr(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Ye(h,y,E))}function ot(h){Ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ot,Ct);var op=/^https?$/i,fu=["POST","PUT"];n=ot.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fi.g(),this.v=this.o?ua(this.o):ua(fi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(K){oo(this,K);return}if(h=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)E.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())E.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(fu,y,void 0))||S||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ea(this),this.u=!0,this.g.send(h),this.u=!1}catch(K){oo(this,K)}};function oo(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,wa(h),On(h)}function wa(h){h.A||(h.A=!0,kt(h,"complete"),kt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,kt(this,"complete"),kt(this,"abort"),On(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),On(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pu(this):this.bb())},n.bb=function(){pu(this)};function pu(h){if(h.h&&typeof l<"u"&&(!h.v[1]||Sn(h)!=4||h.Z()!=2)){if(h.u&&Sn(h)==4)Jl(h.Ea,0,h);else if(kt(h,"readystatechange"),Sn(h)==4){h.h=!1;try{const ae=h.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var S;if(S=ae===0){var B=String(h.D).match(io)[1]||null;!B&&c.self&&c.self.location&&(B=c.self.location.protocol.slice(0,-1)),S=!op.test(B?B.toLowerCase():"")}E=S}if(E)kt(h,"complete"),kt(h,"success");else{h.m=6;try{var K=2<Sn(h)?h.g.statusText:""}catch{K=""}h.l=K+" ["+h.Z()+"]",wa(h)}}finally{On(h)}}}}function On(h,y){if(h.g){Ea(h);const E=h.g,S=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||kt(h,"ready");try{E.onreadystatechange=S}catch{}}}function Ea(h){h.I&&(c.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Sn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),nu(y)}};function mu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ta(h){const y={};h=(h.g&&2<=Sn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(U(h[S]))continue;var E=N(h[S]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}D(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function gu(h){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bi("baseRetryDelayMs",5e3,h),this.cb=Bi("retryDelaySeedMs",1e4,h),this.Wa=Bi("forwardChannelMaxRetries",2,h),this.wa=Bi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new no(h&&h.concurrentRequestLimit),this.Da=new sp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=gu.prototype,n.la=8,n.G=1,n.connect=function(h,y,E,S){yt(0),this.W=h,this.H=y||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=uh(this,null,this.W),$i(this)};function qt(h){if(xa(h),h.G==3){var y=h.U++,E=Vn(h.I);if(Ye(E,"SID",h.K),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),_r(h,E),y=new pi(h,h.j,y),y.L=2,y.v=Yr(Vn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=ch(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ze(y)}lh(h)}function _i(h){h.g&&(yu(h),h.g.cancel(),h.g=null)}function xa(h){_i(h),h.u&&(c.clearTimeout(h.u),h.u=null),ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function $i(h){if(!Mn(h.h)&&!h.s){h.s=!0;var y=h.Ga;Ie||te(),se||(Ie(),se=!0),ge.add(y,h),h.B=0}}function ap(h,y){return Yc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=hi(w(h.Ga,h,y),ah(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new pi(this,this.j,h);let K=this.o;if(this.S&&(K?(K=I(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=es(this,B,y),E=Vn(this.I),Ye(E,"RID",h),Ye(E,"CVER",22),this.D&&Ye(E,"X-HTTP-Session-Id",this.D),_r(this,E),K&&(this.O?y="headers="+encodeURIComponent(String(vr(K)))+"&"+y:this.m&&Zr(E,this.m,K)),hu(this.h,B),this.Ua&&Ye(E,"TYPE","init"),this.P?(Ye(E,"$req",y),Ye(E,"SID","null"),B.T=!0,ga(B,E,null)):ga(B,E,y),this.G=2}}else this.G==3&&(h?Sa(this,h):this.i.length==0||Mn(this.h)||Sa(this))};function Sa(h,y){var E;y?E=y.l:E=h.U++;const S=Vn(h.I);Ye(S,"SID",h.K),Ye(S,"RID",E),Ye(S,"AID",h.T),_r(h,S),h.m&&h.o&&Zr(S,h.m,h.o),E=new pi(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),y&&(h.i=y.D.concat(h.i)),y=es(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),hu(h.h,E),ga(E,S,y)}function _r(h,y){h.H&&ie(h.H,function(E,S){Ye(y,S,E)}),h.l&&Gr({},function(E,S){Ye(y,S,E)})}function es(h,y,E){E=Math.min(h.i.length,E);var S=h.l?w(h.l.Na,h.l,h):null;e:{var B=h.i;let K=-1;for(;;){const ae=["count="+E];K==-1?0<E?(K=B[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ge=!0;for(let At=0;At<E;At++){let Fe=B[At].g;const Ft=B[At].map;if(Fe-=K,0>Fe)K=Math.max(0,B[At].g-100),Ge=!1;else try{rh(Ft,ae,"req"+Fe+"_")}catch{S&&S(Ft)}}if(Ge){S=ae.join("&");break e}}}return h=h.i.splice(0,E),y.D=h,S}function ao(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;Ie||te(),se||(Ie(),se=!0),ge.add(y,h),h.v=0}}function Ia(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=hi(w(h.Fa,h),ah(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,oh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=hi(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),_i(this),oh(this))};function yu(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function oh(h){h.g=new pi(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=Vn(h.qa);Ye(y,"RID","rpc"),Ye(y,"SID",h.K),Ye(y,"AID",h.T),Ye(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ye(y,"TO",h.ja),Ye(y,"TYPE","xmlhttp"),_r(h,y),h.m&&h.o&&Zr(y,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Yr(Vn(y)),E.m=null,E.P=!0,uu(E,h)}n.Za=function(){this.C!=null&&(this.C=null,_i(this),Ia(this),yt(19))};function ba(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Pa(h,y){var E=null;if(h.g==y){ba(h),yu(h),h.g=null;var S=2}else if(yn(h.h,y))E=y.D,Xc(h.h,y),S=1;else return;if(h.G!=0){if(y.o)if(S==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var B=h.B;S=Xs(),kt(S,new da(S,E)),$i(h)}else ao(h);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&ap(h,y)||S==2&&Ia(h)))switch(E&&0<E.length&&(y=h.h,y.i=y.i.concat(E)),B){case 1:wr(h,5);break;case 4:wr(h,10);break;case 3:wr(h,6);break;default:wr(h,2)}}}function ah(h,y){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*y}function wr(h,y){if(h.j.info("Error code "+y),y==2){var E=w(h.fb,h),S=h.Xa;const B=!S;S=new gr(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ro(S,"https"),Yr(S),B?rp(S.toString(),E):ih(S.toString(),E)}else yt(2);h.G=0,h.l&&h.l.sa(y),lh(h),xa(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function lh(h){if(h.G=0,h.ka=[],h.l){const y=Jc(h.h);(y.length!=0||h.i.length!=0)&&(b(h.ka,y),b(h.ka,h.i),h.h.i.length=0,k(h.i),h.i.length=0),h.l.ra()}}function uh(h,y,E){var S=E instanceof gr?Vn(E):new gr(E);if(S.g!="")y&&(S.g=y+"."+S.g),Kr(S,S.s);else{var B=c.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new gr(null);S&&ro(K,S),y&&(K.g=y),B&&Kr(K,B),E&&(K.l=E),S=K}return E=h.D,y=h.ya,E&&y&&Ye(S,E,y),Ye(S,"VER",h.la),_r(h,S),S}function ch(h,y,E){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new ot(new yr({eb:E})):new ot(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}n=vu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ca(){}Ca.prototype.g=function(h,y){return new vn(h,y)};function vn(h,y){Ct.call(this),this.g=new gu(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!U(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!U(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Hi(this)}P(vn,Ct),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){qt(this.g)},vn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=tu(h),h=E);y.i.push(new Qc(y.Ya++,h)),y.G==3&&$i(y)},vn.prototype.N=function(){this.g.l=null,delete this.j,qt(this.g),delete this.g,vn.aa.N.call(this)};function hh(h){Fi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}P(hh,Fi);function dh(){ha.call(this),this.status=1}P(dh,ha);function Hi(h){this.g=h}P(Hi,vu),Hi.prototype.ua=function(){kt(this.g,"a")},Hi.prototype.ta=function(h){kt(this.g,new hh(h))},Hi.prototype.sa=function(h){kt(this.g,new dh)},Hi.prototype.ra=function(){kt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,Dx=function(){return new Ca},Rx=function(){return Xs()},Ax=ji,Pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pa.NO_ERROR=0,pa.TIMEOUT=8,pa.HTTP_ERROR=6,bd=pa,qc.COMPLETE="complete",kx=qc,ca.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.K,Gu=ca,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,Cx=ot}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const Pw="@firebase/firestore",Cw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Ty("@firebase/firestore");function Za(){return $o.logLevel}function he(n,...e){if($o.logLevel<=De.DEBUG){const t=e.map(Iy);$o.debug(`Firestore (${zl}): ${n}`,...t)}}function jr(n,...e){if($o.logLevel<=De.ERROR){const t=e.map(Iy);$o.error(`Firestore (${zl}): ${n}`,...t)}}function xl(n,...e){if($o.logLevel<=De.WARN){const t=e.map(Iy);$o.warn(`Firestore (${zl}): ${n}`,...t)}}function Iy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Mx(n,i,t)}function Mx(n,e,t){let i=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw jr(i),new Error(i)}function We(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||Mx(e,r,i)}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends $r{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class aA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lA{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let a=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Mr,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const d=a;e.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},c=d=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mr)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new Vx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class uA{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cA{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new uA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,he("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=dA(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%62))}return i}}function Me(n,e){return n<e?-1:n>e?1:0}function Cg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),a=e.charAt(i);if(r!==a)return Lm(r)===Lm(a)?Me(r,a):Lm(r)?1:-1}return Me(n.length,e.length)}const fA=55296,pA=57343;function Lm(n){const e=n.charCodeAt(0);return e>=fA&&e<=pA}function Sl(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="__name__";class Yi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=Yi.compareSegments(e.get(r),t.get(r));if(a!==0)return a}return Me(e.length,t.length)}static compareSegments(e,t){const i=Yi.isNumericId(e),r=Yi.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Yi.extractNumericId(e).compare(Yi.extractNumericId(t)):Cg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cs.fromString(e.substring(4,e.length-2))}}class it extends Yi{construct(e,t,i){return new it(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new it(t)}static emptyPath(){return new it([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Yi{construct(e,t,i){return new Xt(e,t,i)}static isValidIdentifier(e){return mA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Aw}static keyField(){return new Xt([Aw])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(i.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const c=e[r];if(c==="\\"){if(r+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,r+=2}else c==="`"?(l=!l,r++):c!=="."||l?(i+=c,r++):(a(),r++)}if(a(),l)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(n,e,t){if(!t)throw new me(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gA(n,e,t,i){if(e===!0&&i===!0)throw new me(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Rw(n){if(!_e.isDocumentKey(n))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Dw(n){if(_e.isDocumentKey(n))throw new me(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Nx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Py(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Ho(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Py(n);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Rc(n,e){if(!Nx(n))throw new me(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${i}' field to equal '${a.value}'`;break}}if(t)throw new me(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=-62135596800,Vw=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Vw);return new rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Mw)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Vw}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:bt("string",rt._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new rt(0,0))}static max(){return new Ce(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=-1;function yA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(i===1e9?new rt(t+1,0):new rt(t,i));return new Ms(r,_e.empty(),e)}function vA(n){return new Ms(n.readTime,n.key,dc)}class Ms{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ms(Ce.min(),_e.empty(),dc)}static max(){return new Ms(Ce.max(),_e.empty(),dc)}}function _A(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:Me(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==wA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,i)=>{t(e)})}static reject(e){return new X((t,i)=>{i(e)})}static waitFor(e){return new X((t,i)=>{let r=0,a=0,l=!1;e.forEach(c=>{++r,c.next(()=>{++a,l&&a===r&&t()},d=>i(d))}),l=!0,a===r&&t()})}static or(e){let t=X.resolve(!1);for(const i of e)t=t.next(r=>r?X.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new X((i,r)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;t(e[p]).next(m=>{l[p]=m,++c,c===a&&i(l)},m=>r(m))}})}static doWhile(e,t){return new X((i,r)=>{const a=()=>{e()===!0?t().next(()=>{a()},r):i()};a()})}}function TA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}If.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function bf(n){return n==null}function Hd(n){return n===0&&1/n==-1/0}function xA(n){return typeof n=="number"&&Number.isInteger(n)&&!Hd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="";function SA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Ow(e)),e=IA(n.get(t),e);return Ow(e)}function IA(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="";break;case Lx:t+="";break;default:t+=a}}return t}function Ow(n){return n+Lx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Xo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ad(this.root,e,this.comparator,!0)}}class ad{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Yt.RED,this.left=r??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Yt(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):a===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Yt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,r,a){return this}insert(e,t,i){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lw(this.data.getIterator())}getIteratorFrom(e){return new Lw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class Lw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Ri([])}unionWith(e){let t=new Nt(Xt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ri(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sl(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jx("Invalid base64 string: "+a):a}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const bA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(n){if(We(!!n,39018),typeof n=="string"){let e=0;const t=bA.exec(n);if(We(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Os(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="server_timestamp",Ux="__type__",Bx="__previous_value__",$x="__local_write_time__";function ky(n){return(n?.mapValue?.fields||{})[Ux]?.stringValue===zx}function Pf(n){const e=n.mapValue.fields[Bx];return ky(e)?Pf(e):e}function fc(n){const e=Vs(n.mapValue.fields[$x].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,i,r,a,l,c,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=m}}const qd="(default)";class pc{constructor(e,t){this.projectId=e,this.database=t||qd}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="__type__",CA="__max__",ld={mapValue:{}},qx="__vector__",Wd="value";function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ky(n)?4:AA(n)?9007199254740991:kA(n)?10:11:Se(28295,{value:n})}function ar(n,e){if(n===e)return!0;const t=Ns(n);if(t!==Ns(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fc(n).isEqual(fc(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=Vs(r.timestampValue),c=Vs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,a){return Os(r.bytesValue).isEqual(Os(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return wt(r.geoPointValue.latitude)===wt(a.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return wt(r.integerValue)===wt(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=wt(r.doubleValue),c=wt(a.doubleValue);return l===c?Hd(l)===Hd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return Sl(n.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return function(r,a){const l=r.mapValue.fields||{},c=a.mapValue.fields||{};if(Nw(l)!==Nw(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ar(l[d],c[d])))return!1;return!0}(n,e);default:return Se(52216,{left:n})}}function mc(n,e){return(n.values||[]).find(t=>ar(t,e))!==void 0}function Il(n,e){if(n===e)return 0;const t=Ns(n),i=Ns(e);if(t!==i)return Me(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Me(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=wt(a.integerValue||a.doubleValue),d=wt(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return Fw(n.timestampValue,e.timestampValue);case 4:return Fw(fc(n),fc(e));case 5:return Cg(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Os(a),d=Os(l);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const m=Me(c[p],d[p]);if(m!==0)return m}return Me(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Me(wt(a.latitude),wt(l.latitude));return c!==0?c:Me(wt(a.longitude),wt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jw(n.arrayValue,e.arrayValue);case 10:return function(a,l){const c=a.fields||{},d=l.fields||{},p=c[Wd]?.arrayValue,m=d[Wd]?.arrayValue,v=Me(p?.values?.length||0,m?.values?.length||0);return v!==0?v:jw(p,m)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===ld.mapValue&&l===ld.mapValue)return 0;if(a===ld.mapValue)return 1;if(l===ld.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},m=Object.keys(p);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const w=Cg(d[v],m[v]);if(w!==0)return w;const x=Il(c[d[v]],p[m[v]]);if(x!==0)return x}return Me(d.length,m.length)}(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Fw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Me(n,e);const t=Vs(n),i=Vs(e),r=Me(t.seconds,i.seconds);return r!==0?r:Me(t.nanos,i.nanos)}function jw(n,e){const t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){const a=Il(t[r],i[r]);if(a)return a}return Me(t.length,i.length)}function bl(n){return kg(n)}function kg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Vs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Os(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const a of t.values||[])r?r=!1:i+=",",i+=kg(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",a=!0;for(const l of i)a?a=!1:r+=",",r+=`${l}:${kg(t.fields[l])}`;return r+"}"}(n.mapValue):Se(61005,{value:n})}function Pd(n){switch(Ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(n);return e?16+Pd(e):16;case 5:return 2*n.stringValue.length;case 6:return Os(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,a)=>r+Pd(a),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Xo(i.fields,(a,l)=>{r+=a.length+Pd(l)}),r}(n.mapValue);default:throw Se(13486,{value:n})}}function Ag(n){return!!n&&"integerValue"in n}function Ay(n){return!!n&&"arrayValue"in n}function zw(n){return!!n&&"nullValue"in n}function Uw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Cd(n){return!!n&&"mapValue"in n}function kA(n){return(n?.mapValue?.fields||{})[Hx]?.stringValue===qx}function tc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Xo(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=tc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tc(n.arrayValue.values[t]);return e}return{...n}}function AA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===CA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Cd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(t)}setAll(e){let t=Xt.emptyPath(),i={},r=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,i,r),i={},r=[],t=c.popLast()}l?i[c.lastSegment()]=tc(l):r.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Cd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Cd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Xo(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new oi(tc(this.value))}}function Wx(n){const e=[];return Xo(n.fields,(t,i)=>{const r=new Xt([t]);if(Cd(i)){const a=Wx(i.mapValue).fields;if(a.length===0)e.push(r);else for(const l of a)e.push(r.child(l))}else e.push(r)}),new Ri(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,r,a,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),oi.empty(),0)}static newFoundDocument(e,t,i,r){return new ln(e,1,t,Ce.min(),i,r,0)}static newNoDocument(e,t){return new ln(e,2,t,Ce.min(),Ce.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ce.min(),Ce.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.position=e,this.inclusive=t}}function Bw(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],l=n.position[r];if(a.field.isKeyField()?i=_e.comparator(_e.fromName(l.referenceValue),t.key):i=Il(l,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function $w(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ar(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t="asc"){this.field=e,this.dir=t}}function RA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class Mt extends Gx{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new MA(e,t,i):t==="array-contains"?new NA(e,i):t==="in"?new LA(e,i):t==="not-in"?new FA(e,i):t==="array-contains-any"?new jA(e,i):new Mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new VA(e,i):new OA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Il(t,this.value)):t!==null&&Ns(this.value)===Ns(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends Gx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new lr(e,t)}matches(e){return Kx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kx(n){return n.op==="and"}function Qx(n){return DA(n)&&Kx(n)}function DA(n){for(const e of n.filters)if(e instanceof lr)return!1;return!0}function Rg(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+bl(n.value);if(Qx(n))return n.filters.map(e=>Rg(e)).join(",");{const e=n.filters.map(t=>Rg(t)).join(",");return`${n.op}(${e})`}}function Yx(n,e){return n instanceof Mt?function(i,r){return r instanceof Mt&&i.op===r.op&&i.field.isEqual(r.field)&&ar(i.value,r.value)}(n,e):n instanceof lr?function(i,r){return r instanceof lr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((a,l,c)=>a&&Yx(l,r.filters[c]),!0):!1}(n,e):void Se(19439)}function Xx(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${bl(t.value)}`}(n):n instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(Xx).join(" ,")+"}"}(n):"Filter"}class MA extends Mt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class VA extends Mt{constructor(e,t){super(e,"in",t),this.keys=Jx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OA extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=Jx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jx(n,e){return(e.arrayValue?.values||[]).map(t=>_e.fromName(t.referenceValue))}class NA extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ay(t)&&mc(t.arrayValue,this.value)}}class LA extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&mc(this.value.arrayValue,t)}}class FA extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!mc(this.value.arrayValue,t)}}class jA extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ay(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>mc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,t=null,i=[],r=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function Hw(n,e=null,t=[],i=[],r=null,a=null,l=null){return new zA(n,e,t,i,r,a,l)}function Ry(n){const e=ke(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>bl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>bl(i)).join(",")),e.Te=t}return e.Te}function Dy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Yx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$w(n.startAt,e.startAt)&&$w(n.endAt,e.endAt)}function Dg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t=null,i=[],r=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function UA(n,e,t,i,r,a,l,c){return new Cf(n,e,t,i,r,a,l,c)}function My(n){return new Cf(n)}function qw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function BA(n){return n.collectionGroup!==null}function nc(n){const e=ke(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Nt(Xt.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Kd(a,i))}),t.has(Xt.keyField().canonicalString())||e.Ie.push(new Kd(Xt.keyField(),i))}return e.Ie}function Zi(n){const e=ke(n);return e.Ee||(e.Ee=$A(e,nc(n))),e.Ee}function $A(n,e){if(n.limitType==="F")return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new Kd(r.field,a)});const t=n.endAt?new Gd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gd(n.startAt.position,n.startAt.inclusive):null;return Hw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Mg(n,e,t){return new Cf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Dy(Zi(n),Zi(e))&&n.limitType===e.limitType}function Zx(n){return`${Ry(Zi(n))}|lt:${n.limitType}`}function el(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>Xx(r)).join(", ")}]`),bf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>bl(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>bl(r)).join(",")),`Target(${i})`}(Zi(n))}; limitType=${n.limitType})`}function Af(n,e){return e.isFoundDocument()&&function(i,r){const a=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):_e.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,r){for(const a of nc(i))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,r){for(const a of i.filters)if(!a.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(l,c,d){const p=Bw(l,c,d);return l.inclusive?p<=0:p<0}(i.startAt,nc(i),r)||i.endAt&&!function(l,c,d){const p=Bw(l,c,d);return l.inclusive?p>=0:p>0}(i.endAt,nc(i),r))}(n,e)}function HA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eS(n){return(e,t)=>{let i=!1;for(const r of nc(n)){const a=qA(r,e,t);if(a!==0)return a;i=i||r.field.isKeyField()}return 0}}function qA(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?Il(d,p):Se(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[r,a]of i)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xo(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return Fx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new ht(_e.comparator);function zr(){return WA}const tS=new ht(_e.comparator);function Ku(...n){let e=tS;for(const t of n)e=e.insert(t.key,t);return e}function nS(n){let e=tS;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Do(){return ic()}function iS(){return ic()}function ic(){return new Jo(n=>n.toString(),(n,e)=>n.isEqual(e))}const GA=new ht(_e.comparator),KA=new Nt(_e.comparator);function Oe(...n){let e=KA;for(const t of n)e=e.add(t);return e}const QA=new Nt(Me);function YA(){return QA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function rS(n){return{integerValue:""+n}}function XA(n,e){return xA(e)?rS(e):Vy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this._=void 0}}function JA(n,e,t){return n instanceof Qd?function(r,a){const l={fields:{[Ux]:{stringValue:zx},[$x]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&ky(a)&&(a=Pf(a)),a&&(l.fields[Bx]=a),{mapValue:l}}(t,e):n instanceof gc?oS(n,e):n instanceof yc?aS(n,e):function(r,a){const l=sS(r,a),c=Ww(l)+Ww(r.Ae);return Ag(l)&&Ag(r.Ae)?rS(c):Vy(r.serializer,c)}(n,e)}function ZA(n,e,t){return n instanceof gc?oS(n,e):n instanceof yc?aS(n,e):t}function sS(n,e){return n instanceof Yd?function(i){return Ag(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Qd extends Rf{}class gc extends Rf{constructor(e){super(),this.elements=e}}function oS(n,e){const t=lS(e);for(const i of n.elements)t.some(r=>ar(r,i))||t.push(i);return{arrayValue:{values:t}}}class yc extends Rf{constructor(e){super(),this.elements=e}}function aS(n,e){let t=lS(e);for(const i of n.elements)t=t.filter(r=>!ar(r,i));return{arrayValue:{values:t}}}class Yd extends Rf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ww(n){return wt(n.integerValue||n.doubleValue)}function lS(n){return Ay(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function eR(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof gc&&r instanceof gc||i instanceof yc&&r instanceof yc?Sl(i.elements,r.elements,ar):i instanceof Yd&&r instanceof Yd?ar(i.Ae,r.Ae):i instanceof Qd&&r instanceof Qd}(n.transform,e.transform)}class tR{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Df{}function uS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new hS(n.key,Vr.none()):new Dc(n.key,n.data,Vr.none());{const t=n.data,i=oi.empty();let r=new Nt(Xt.comparator);for(let a of e.fields)if(!r.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?i.delete(a):i.set(a,l),r=r.add(a)}return new Zo(n.key,i,new Ri(r.toArray()),Vr.none())}}function nR(n,e,t){n instanceof Dc?function(r,a,l){const c=r.value.clone(),d=Kw(r.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Zo?function(r,a,l){if(!kd(r.precondition,a))return void a.convertToUnknownDocument(l.version);const c=Kw(r.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(cS(r)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(r,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function rc(n,e,t,i){return n instanceof Dc?function(a,l,c,d){if(!kd(a.precondition,l))return c;const p=a.value.clone(),m=Qw(a.fieldTransforms,d,l);return p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,i):n instanceof Zo?function(a,l,c,d){if(!kd(a.precondition,l))return c;const p=Qw(a.fieldTransforms,d,l),m=l.data;return m.setAll(cS(a)),m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,i):function(a,l,c){return kd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function iR(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=sS(i.transform,r||null);a!=null&&(t===null&&(t=oi.empty()),t.set(i.field,a))}return t||null}function Gw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sl(i,r,(a,l)=>eR(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dc extends Df{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zo extends Df{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cS(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Kw(n,e,t){const i=new Map;We(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const a=n[r],l=a.transform,c=e.data.field(a.field);i.set(a.field,ZA(l,c,t[r]))}return i}function Qw(n,e,t){const i=new Map;for(const r of n){const a=r.transform,l=t.data.field(r.field);i.set(r.field,JA(a,l,e))}return i}class hS extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rR extends Df{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&nR(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=iS();return this.mutations.forEach(r=>{const a=e.get(r.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(r.key)?null:c;const d=uS(l,c);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Sl(this.mutations,e.mutations,(t,i)=>Gw(t,i))&&Sl(this.baseMutations,e.baseMutations,(t,i)=>Gw(t,i))}}class Oy{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return GA}();const a=e.mutations;for(let l=0;l<a.length;l++)r=r.insert(a[l].key,i[l].version);return new Oy(e,t,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,je;function lR(n){switch(n){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function dS(n){if(n===void 0)return jr("GRPC error has no .code"),J.UNKNOWN;switch(n){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:n})}}(je=St||(St={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Cs([4294967295,4294967295],0);function Yw(n){const e=uR().encode(n),t=new Px;return t.update(e),new Uint8Array(t.digest())}function Xw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Cs([t,i],0),new Cs([r,a],0)]}class Ny{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qu(`Invalid padding: ${t}`);if(i<0)throw new Qu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Cs.fromNumber(this.ge)}ye(e,t,i){let r=e.add(t.multiply(Cs.fromNumber(i)));return r.compare(cR)===1&&(r=new Cs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Yw(e),[i,r]=Xw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);if(!this.we(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Ny(a,r,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.ge===0)return;const t=Yw(e),[i,r]=Xw(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(i,r,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Mc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Mf(Ce.min(),r,new ht(Me),zr(),Oe())}}class Mc{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Mc(i,t,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,i,r){this.be=e,this.removedTargetIds=t,this.key=i,this.De=r}}class fS{constructor(e,t){this.targetId=e,this.Ce=t}}class pS{constructor(e,t,i=Jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class Jw{constructor(){this.ve=0,this.Fe=Zw(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),t=Oe(),i=Oe();return this.Fe.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Se(38017,{changeType:a})}}),new Mc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=Zw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hR{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=ud(),this.He=ud(),this.Ye=new ht(Me)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((i,r)=>{this.rt(r)&&t(r)})}st(e){const t=e.targetId,i=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Dg(a))if(i===0){const l=new _e(a.path);this.et(t,l,ln.newNoDocument(l,Ce.min()))}else We(i===1,20013,{expectedCount:i});else{const l=this._t(t);if(l!==i){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:a=0}=t;let l,c;try{l=Os(i).toUint8Array()}catch(d){if(d instanceof jx)return xl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Ny(l,r,a)}catch(d){return xl(d instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let r=0;return i.forEach(a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Dg(c.target)){const d=new _e(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,ln.newNoDocument(d,e))}a.Be&&(t.set(l,a.ke()),a.qe())}});let i=Oe();this.He.forEach((a,l)=>{let c=!0;l.forEachWhile(d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const r=new Mf(e,t,this.Ye,this.je,i);return this.je=zr(),this.Je=ud(),this.He=ud(),this.Ye=new ht(Me),r}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Nt(Me),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Nt(Me),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jw),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ud(){return new ht(_e.comparator)}function Zw(){return new ht(_e.comparator)}const dR={asc:"ASCENDING",desc:"DESCENDING"},fR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pR={and:"AND",or:"OR"};class mR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Vg(n,e){return n.useProto3Json||bf(e)?e:{value:e}}function Xd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function gR(n,e){return Xd(n,e.toTimestamp())}function er(n){return We(!!n,49232),Ce.fromTimestamp(function(t){const i=Vs(t);return new rt(i.seconds,i.nanos)}(n))}function Ly(n,e){return Og(n,e).canonicalString()}function Og(n,e){const t=function(r){return new it(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function gS(n){const e=it.fromString(n);return We(ES(e),10190,{key:e.toString()}),e}function Ng(n,e){return Ly(n.databaseId,e.path)}function Fm(n,e){const t=gS(e);if(t.get(1)!==n.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(vS(t))}function yS(n,e){return Ly(n.databaseId,e)}function yR(n){const e=gS(n);return e.length===4?it.emptyPath():vS(e)}function Lg(n){return new it(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vS(n){return We(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function e1(n,e,t){return{name:Ng(n,e),fields:t.value.mapValue.fields}}function vR(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(p,m){return p.useProto3Json?(We(m===void 0||typeof m=="string",58123),Jt.fromBase64String(m||"")):(We(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Jt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const m=p.code===void 0?J.UNKNOWN:dS(p.code);return new me(m,p.message||"")}(l);t=new pS(i,r,a,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Fm(n,i.document.name),a=er(i.document.updateTime),l=i.document.createTime?er(i.document.createTime):Ce.min(),c=new oi({mapValue:{fields:i.document.fields}}),d=ln.newFoundDocument(r,a,l,c),p=i.targetIds||[],m=i.removedTargetIds||[];t=new Ad(p,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Fm(n,i.document),a=i.readTime?er(i.readTime):Ce.min(),l=ln.newNoDocument(r,a),c=i.removedTargetIds||[];t=new Ad([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Fm(n,i.document),a=i.removedTargetIds||[];t=new Ad([],a,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:a}=i,l=new aR(r,a),c=i.targetId;t=new fS(c,l)}}return t}function _R(n,e){let t;if(e instanceof Dc)t={update:e1(n,e.key,e.value)};else if(e instanceof hS)t={delete:Ng(n,e.key)};else if(e instanceof Zo)t={update:e1(n,e.key,e.data),updateMask:CR(e.fieldMask)};else{if(!(e instanceof rR))return Se(16599,{Vt:e.type});t={verify:Ng(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,l){const c=l.transform;if(c instanceof Qd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof gc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof yc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Yd)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Se(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:gR(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Se(27497)}(n,e.precondition)),t}function wR(n,e){return n&&n.length>0?(We(e!==void 0,14353),n.map(t=>function(r,a){let l=r.updateTime?er(r.updateTime):er(a);return l.isEqual(Ce.min())&&(l=er(a)),new tR(l,r.transformResults||[])}(t,e))):[]}function ER(n,e){return{documents:[yS(n,e.path)]}}function TR(n,e){const t={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=yS(n,r);const a=function(p){if(p.length!==0)return wS(lr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(m=>function(w){return{field:tl(w.field),direction:IR(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Vg(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:r}}function xR(n){let e=yR(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){We(i===1,65062);const m=t.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const w=_S(v);return w instanceof lr&&Qx(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(w=>function(P){return new Kd(nl(P.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,bf(w)?null:w}(t.limit));let d=null;t.startAt&&(d=function(v){const w=!!v.before,x=v.values||[];return new Gd(x,w)}(t.startAt));let p=null;return t.endAt&&(p=function(v){const w=!v.before,x=v.values||[];return new Gd(x,w)}(t.endAt)),UA(e,r,l,a,c,"F",d,p)}function SR(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _S(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=nl(t.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=nl(t.unaryFilter.field);return Mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=nl(t.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=nl(t.unaryFilter.field);return Mt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(nl(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(i=>_S(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(n):Se(30097,{filter:n})}function IR(n){return dR[n]}function bR(n){return fR[n]}function PR(n){return pR[n]}function tl(n){return{fieldPath:n.canonicalString()}}function nl(n){return Xt.fromServerFormat(n.fieldPath)}function wS(n){return n instanceof Mt?function(t){if(t.op==="=="){if(Uw(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NAN"}};if(zw(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Uw(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NAN"}};if(zw(t.value))return{unaryFilter:{field:tl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(t.field),op:bR(t.op),value:t.value}}}(n):n instanceof lr?function(t){const i=t.getFilters().map(r=>wS(r));return i.length===1?i[0]:{compositeFilter:{op:PR(t.op),filters:i}}}(n):Se(54877,{filter:n})}function CR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ES(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,t,i,r,a=Ce.min(),l=Ce.min(),c=Jt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.yt=e}}function AR(n){const e=xR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.Cn=new DR}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Ms.min())}updateCollectionGroup(e,t,i){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class DR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Nt(it.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Nt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TS=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(TS,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pl(0)}static cr(){return new Pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="LruGarbageCollector",MR=1048576;function i1([n,e],[t,i]){const r=Me(n,t);return r===0?Me(e,i):r}class VR{constructor(e){this.Ir=e,this.buffer=new Nt(i1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();i1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(n1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bl(t)?he(n1,"Ignoring IndexedDB error during garbage collection: ",t):await Ul(t)}await this.Vr(3e5)})}}class NR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return X.resolve(If.ce);const i=new VR(t);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(t1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t1):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,r,a,l,c,d,p;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),r=this.params.maximumSequenceNumbersToCollect):r=v,l=Date.now(),this.nthSequenceNumber(e,r))).next(v=>(i=v,c=Date.now(),this.removeTargets(e,i,t))).next(v=>(a=v,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(p=Date.now(),Za()<=De.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${r} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-m}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:v})))}}function LR(n,e){return new NR(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(){this.changes=new Jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?X.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&rc(i.mutation,r,Ri.empty(),rt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Oe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Oe()){const r=Do();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let l=Ku();return a.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=Do();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Oe()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,r){let a=zr();const l=ic(),c=function(){return ic()}();return t.forEach((d,p)=>{const m=i.get(p.key);r.has(p.key)&&(m===void 0||m.mutation instanceof Zo)?a=a.insert(p.key,p):m!==void 0?(l.set(p.key,m.mutation.getFieldMask()),rc(m.mutation,p,m.mutation.getFieldMask(),rt.now())):l.set(p.key,Ri.empty())}),this.recalculateAndSaveOverlays(e,a).next(d=>(d.forEach((p,m)=>l.set(p,m)),t.forEach((p,m)=>c.set(p,new jR(m,l.get(p)??null))),c))}recalculateAndSaveOverlays(e,t){const i=ic();let r=new ht((l,c)=>l-c),a=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let m=i.get(d)||Ri.empty();m=c.applyToLocalView(p,m),i.set(d,m);const v=(r.get(c.batchId)||Oe()).add(d);r=r.insert(c.batchId,v)})}).next(()=>{const l=[],c=r.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,m=d.value,v=iS();m.forEach(w=>{if(!a.has(w)){const x=uS(t.get(w),i.get(w));x!==null&&v.set(w,x),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return X.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const l=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):X.resolve(Do());let c=dc,d=a;return l.next(p=>X.forEach(p,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(m)?X.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{d=d.insert(m,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,d,p,Oe())).next(m=>({batchId:c,changes:nS(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let r=Ku();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const a=t.collectionGroup;let l=Ku();return this.indexManager.getCollectionParents(e,a).next(c=>X.forEach(c,d=>{const p=function(v,w){return new Cf(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,r).next(m=>{m.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,r))).next(l=>{a.forEach((d,p)=>{const m=p.getKey();l.get(m)===null&&(l=l.insert(m,ln.newInvalidDocument(m)))});let c=Ku();return l.forEach((d,p)=>{const m=a.get(d);m!==void 0&&rc(m.mutation,p,Ri.empty(),rt.now()),Af(t,p)&&(c=c.insert(d,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:er(r.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(r){return{name:r.name,query:AR(r.bundledQuery),readTime:er(r.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.overlays=new ht(_e.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Do();return X.forEach(t,r=>this.getOverlay(e,r).next(a=>{a!==null&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.St(e,t,a)}),X.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(i)),X.resolve()}getOverlaysForCollection(e,t,i){const r=Do(),a=t.length+1,l=new _e(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>i&&r.set(d.getKey(),d)}return X.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new ht((p,m)=>p-m);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let m=a.get(p.largestBatchId);m===null&&(m=Do(),a=a.insert(p.largestBatchId,m)),m.set(p.getKey(),p)}}const c=Do(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,m)=>c.set(p,m)),!(c.size()>=r)););return X.resolve(c)}St(e,t,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new oR(t,i));let a=this.qr.get(t);a===void 0&&(a=Oe(),this.qr.set(t,a)),this.qr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Qr=new Nt(Bt.$r),this.Ur=new Nt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Bt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Gr(new Bt(e,t))}zr(e,t){e.forEach(i=>this.removeReference(i,t))}jr(e){const t=new _e(new it([])),i=new Bt(t,e),r=new Bt(t,e+1),a=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new it([])),i=new Bt(t,e),r=new Bt(t,e+1);let a=Oe();return this.Ur.forEachInRange([i,r],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Bt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Bt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Me(e.Yr,t.Yr)}static Kr(e,t){return Me(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Bt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new sR(a,t,i,r);this.mutationQueue.push(l);for(const c of r)this.Zr=this.Zr.add(new Bt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return X.resolve(l)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=this.ei(i),a=r<0?0:r;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cy:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Bt(t,0),r=new Bt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([i,r],l=>{const c=this.Xr(l.Yr);a.push(c)}),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Nt(Me);return t.forEach(r=>{const a=new Bt(r,0),l=new Bt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],c=>{i=i.add(c.Yr)})}),X.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;_e.isDocumentKey(a)||(a=a.child(""));const l=new Bt(new _e(a),0);let c=new Nt(Me);return this.Zr.forEachWhile(d=>{const p=d.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(c=c.add(d.Yr)),!0)},l),X.resolve(this.ti(c))}ti(e){const t=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return X.forEach(t.mutations,r=>{const a=new Bt(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,t){const i=new Bt(t,0),r=this.Zr.firstAfterOrEqual(i);return X.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.ri=e,this.docs=function(){return new ht(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,l=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return X.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ln.newInvalidDocument(r))}),X.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=zr();const l=t.path,c=new _e(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:m}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||_A(vA(m),i)<=0||(r.has(m.key)||Af(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,i,r){Se(9500)}ii(e,t){return X.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new WR(this)}getSize(e){return X.resolve(this.size)}}class WR extends FR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.persistence=e,this.si=new Jo(t=>Ry(t),Dy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Fy,this.targetCount=0,this.ai=Pl.ur()}forEachTarget(e,t){return this.si.forEach((i,r)=>t(r)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.si.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),X.waitFor(a).next(()=>r)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return X.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),X.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(l=>{a.push(r.markPotentiallyOrphaned(e,l))}),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return X.resolve(i)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,t){this.ui={},this.overlays={},this.ci=new If(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=e(this),this.Pi=new GR(this),this.indexManager=new RR,this.remoteDocumentCache=function(r){return new qR(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new kR(t),this.Ii=new UR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new BR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new HR(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const r=new KR(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(a=>this.referenceDelegate.di(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ai(e,t){return X.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,t)))}}class KR extends EA{constructor(e){super(),this.currentSequenceNumber=e}}class jy{constructor(e){this.persistence=e,this.Ri=new Fy,this.Vi=null}static mi(e){return new jy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),X.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.fi.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,i=>{const r=_e.fromPath(i);return this.gi(e,r).next(a=>{a||t.removeEntry(r,Ce.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Jd{constructor(e,t){this.persistence=e,this.pi=new Jo(i=>SA(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=LR(this,t)}static mi(e,t){return new Jd(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}wr(e){let t=0;return this.pr(e,i=>{t++}).next(()=>t)}pr(e,t){return X.forEach(this.pi,(i,r)=>this.br(e,i,r).next(a=>a?X.resolve():t(r)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.ii(e,l=>this.br(e,l,t).next(c=>{c||(i++,a.removeEntry(l,Ce.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pd(e.data.value)),t}br(e,t,i){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return X.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=r}static As(e,t){let i=Oe(),r=Oe();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new zy(e,t.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return z2()?8:TA(fn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,r){const a={result:null};return this.ys(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,t,r,i).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new QR;return this.Ss(e,t,l).next(c=>{if(a.result=c,this.Vs)return this.bs(e,t,l,c.size)})}).next(()=>a.result)}bs(e,t,i,r){return i.documentReadCount<this.fs?(Za()<=De.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",el(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Za()<=De.DEBUG&&he("QueryEngine","Query:",el(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(Za()<=De.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",el(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zi(t))):X.resolve())}ys(e,t){if(qw(t))return X.resolve(null);let i=Zi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=Mg(t,null,"F"),i=Zi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const l=Oe(...a);return this.ps.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(d=>{const p=this.Ds(t,c);return this.Cs(t,p,l,d.readTime)?this.ys(e,Mg(t,null,"F")):this.vs(e,p,t,d)}))})))}ws(e,t,i,r){return qw(t)||r.isEqual(Ce.min())?X.resolve(null):this.ps.getDocuments(e,i).next(a=>{const l=this.Ds(t,a);return this.Cs(t,l,i,r)?X.resolve(null):(Za()<=De.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),el(t)),this.vs(e,l,t,yA(r,dc)).next(c=>c))})}Ds(e,t){let i=new Nt(eS(e));return t.forEach((r,a)=>{Af(e,a)&&(i=i.add(a))}),i}Cs(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,t,i){return Za()<=De.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",el(t)),this.ps.getDocumentsMatchingQuery(e,t,Ms.min(),i)}vs(e,t,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="LocalStore",XR=3e8;class JR{constructor(e,t,i,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ht(Me),this.xs=new Jo(a=>Ry(a),Dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function ZR(n,e,t,i){return new JR(n,e,t,i)}async function SS(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const l=[],c=[];let d=Oe();for(const p of r){l.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}for(const p of a){c.push(p.batchId);for(const m of p.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(i,d).next(p=>({Ls:p,removedBatchIds:l,addedBatchIds:c}))})})}function e4(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(c,d,p,m){const v=p.batch,w=v.keys();let x=X.resolve();return w.forEach(P=>{x=x.next(()=>m.getEntry(d,P)).next(k=>{const b=p.docVersions.get(P);We(b!==null,48541),k.version.compareTo(b)<0&&(v.applyToRemoteDocument(k,p),k.isValidDocument()&&(k.setReadTime(p.commitVersion),m.addEntry(k)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Oe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function IS(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function t4(n,e){const t=ke(n),i=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const c=[];e.targetChanges.forEach((m,v)=>{const w=r.get(v);if(!w)return;c.push(t.Pi.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Pi.addMatchingKeys(a,m.addedDocuments,v)));let x=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(Jt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,i)),r=r.insert(v,x),function(k,b,F){return k.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=XR?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(w,x,m)&&c.push(t.Pi.updateTargetData(a,x))});let d=zr(),p=Oe();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(n4(a,l,e.documentUpdates).next(m=>{d=m.ks,p=m.qs})),!i.isEqual(Ce.min())){const m=t.Pi.getLastRemoteSnapshotVersion(a).next(v=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,i));c.push(m)}return X.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,d,p)).next(()=>d)}).then(a=>(t.Ms=r,a))}function n4(n,e,t){let i=Oe(),r=Oe();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let l=zr();return t.forEach((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(c)),d.isNoDocument()&&d.version.isEqual(Ce.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):he(Uy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),{ks:l,qs:r}})}function i4(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Cy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r4(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Pi.getTargetData(i,e).next(a=>a?(r=a,X.resolve(r)):t.Pi.allocateTargetId(i).next(l=>(r=new Ts(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i})}async function Fg(n,e,t){const i=ke(n),r=i.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!Bl(l))throw l;he(Uy,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function r1(n,e,t){const i=ke(n);let r=Ce.min(),a=Oe();return i.persistence.runTransaction("Execute query","readwrite",l=>function(d,p,m){const v=ke(d),w=v.xs.get(m);return w!==void 0?X.resolve(v.Ms.get(w)):v.Pi.getTargetData(p,m)}(i,l,Zi(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{a=d})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,e,t?r:Ce.min(),t?a:Oe())).next(c=>(s4(i,HA(e),c),{documents:c,Qs:a})))}function s4(n,e,t){let i=n.Os.get(e)||Ce.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Os.set(e,i)}class s1{constructor(){this.activeTargetIds=YA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o4{constructor(){this.Mo=new s1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="ConnectivityMonitor";class a1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(o1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(o1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd=null;function jg(){return cd===null?cd=function(){return 268435456+Math.round(2147483648*Math.random())}():cd++,"0x"+cd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",l4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class u4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===qd?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,t,i,r,a){const l=jg(),c=this.zo(e,t.toUriEncodedString());he(jm,`Sending RPC '${e}' ${l}:`,c,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,a);const{host:p}=new URL(c),m=Fl(p);return this.Jo(e,c,d,i,m).then(v=>(he(jm,`Received RPC '${e}' ${l}: `,v),v),v=>{throw xl(jm,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",i),v})}Ho(e,t,i,r,a,l){return this.Go(e,t,i,r,a)}jo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}zo(e,t){const i=l4[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class h4 extends u4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,r,a){const l=jg();return new Promise((c,d)=>{const p=new Cx;p.setWithCredentials(!0),p.listenOnce(kx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case bd.NO_ERROR:const v=p.getResponseJson();he(rn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case bd.TIMEOUT:he(rn,`RPC '${e}' ${l} timed out`),d(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case bd.HTTP_ERROR:const w=p.getStatus();if(he(rn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x?.error;if(P&&P.status&&P.message){const k=function(F){const U=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(U)>=0?U:J.UNKNOWN}(P.status);d(new me(k,P.message))}else d(new me(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new me(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(rn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(r);he(rn,`RPC '${e}' ${l} sending request:`,r),p.send(t,"POST",m,i,15)})}T_(e,t,i){const r=jg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Dx(),c=Rx(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const m=a.join("");he(rn,`Creating RPC '${e}' stream ${r}: ${m}`,d);const v=l.createWebChannel(m,d);this.I_(v);let w=!1,x=!1;const P=new c4({Yo:b=>{x?he(rn,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(w||(he(rn,`Opening RPC '${e}' stream ${r} transport.`),v.open(),w=!0),he(rn,`RPC '${e}' stream ${r} sending:`,b),v.send(b))},Zo:()=>v.close()}),k=(b,F,U)=>{b.listen(F,q=>{try{U(q)}catch(G){setTimeout(()=>{throw G},0)}})};return k(v,Gu.EventType.OPEN,()=>{x||(he(rn,`RPC '${e}' stream ${r} transport opened.`),P.o_())}),k(v,Gu.EventType.CLOSE,()=>{x||(x=!0,he(rn,`RPC '${e}' stream ${r} transport closed`),P.a_(),this.E_(v))}),k(v,Gu.EventType.ERROR,b=>{x||(x=!0,xl(rn,`RPC '${e}' stream ${r} transport errored. Name:`,b.name,"Message:",b.message),P.a_(new me(J.UNAVAILABLE,"The operation could not be completed")))}),k(v,Gu.EventType.MESSAGE,b=>{if(!x){const F=b.data[0];We(!!F,16349);const U=F,q=U?.error||U[0]?.error;if(q){he(rn,`RPC '${e}' stream ${r} received error:`,q);const G=q.status;let Y=function(I){const A=St[I];if(A!==void 0)return dS(A)}(G),ie=q.message;Y===void 0&&(Y=J.INTERNAL,ie="Unknown error status: "+G+" with message "+q.message),x=!0,P.a_(new me(Y,ie)),v.close()}else he(rn,`RPC '${e}' stream ${r} received:`,F),P.u_(F)}}),k(c,Ax.STAT_EVENT,b=>{b.stat===Pg.PROXY?he(rn,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===Pg.NOPROXY&&he(rn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n){return new mR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=r,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="PersistentStream";class PS{constructor(e,t,i,r,a,l,c,d){this.Mi=e,this.S_=i,this.b_=r,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===t&&this.G_(i,r)},i=>{e(()=>{const r=new me(J.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return he(l1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(he(l1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d4 extends PS{constructor(e,t,i,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vR(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ce.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ce.min():l.readTime?er(l.readTime):Ce.min()}(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=Lg(this.serializer),t.addTarget=function(a,l){let c;const d=l.target;if(c=Dg(d)?{documents:ER(a,d)}:{query:TR(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=mS(a,l.resumeToken);const p=Vg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ce.min())>0){c.readTime=Xd(a,l.snapshotVersion.toTimestamp());const p=Vg(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const i=SR(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=Lg(this.serializer),t.removeTarget=e,this.q_(t)}}class f4 extends PS{constructor(e,t,i,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=wR(e.writeResults,e.commitTime),i=er(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Lg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>_R(this.serializer,i))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{}class m4 extends p4{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,Og(t,i),r,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(J.UNKNOWN,a.toString())})}Ho(e,t,i,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Ho(e,Og(t,i),r,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(J.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class g4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jr(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo="RemoteStore";class y4{constructor(e,t,i,r,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{ea(this)&&(he(qo,"Restarting streams for network reachability change."),await async function(d){const p=ke(d);p.Ea.add(4),await Vc(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Of(p)}(this))})}),this.Ra=new g4(i,r)}}async function Of(n){if(ea(n))for(const e of n.da)await e(!0)}async function Vc(n){for(const e of n.da)await e(!1)}function CS(n,e){const t=ke(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qy(t)?Hy(t):$l(t).O_()&&$y(t,e))}function By(n,e){const t=ke(n),i=$l(t);t.Ia.delete(e),i.O_()&&kS(t,e),t.Ia.size===0&&(i.O_()?i.L_():ea(t)&&t.Ra.set("Unknown"))}function $y(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(n).Y_(e)}function kS(n,e){n.Va.Ue(e),$l(n).Z_(e)}function Hy(n){n.Va=new hR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),$l(n).start(),n.Ra.ua()}function qy(n){return ea(n)&&!$l(n).x_()&&n.Ia.size>0}function ea(n){return ke(n).Ea.size===0}function AS(n){n.Va=void 0}async function v4(n){n.Ra.set("Online")}async function _4(n){n.Ia.forEach((e,t)=>{$y(n,e)})}async function w4(n,e){AS(n),qy(n)?(n.Ra.ha(e),Hy(n)):n.Ra.set("Unknown")}async function E4(n,e,t){if(n.Ra.set("Online"),e instanceof pS&&e.state===2&&e.cause)try{await async function(r,a){const l=a.cause;for(const c of a.targetIds)r.Ia.has(c)&&(await r.remoteSyncer.rejectListen(c,l),r.Ia.delete(c),r.Va.removeTarget(c))}(n,e)}catch(i){he(qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zd(n,i)}else if(e instanceof Ad?n.Va.Ze(e):e instanceof fS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ce.min()))try{const i=await IS(n.localStore);t.compareTo(i)>=0&&await function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const m=a.Ia.get(p);m&&a.Ia.set(p,m.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,p)=>{const m=a.Ia.get(d);if(!m)return;a.Ia.set(d,m.withResumeToken(Jt.EMPTY_BYTE_STRING,m.snapshotVersion)),kS(a,d);const v=new Ts(m.target,d,p,m.sequenceNumber);$y(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){he(qo,"Failed to raise snapshot:",i),await Zd(n,i)}}async function Zd(n,e,t){if(!Bl(e))throw e;n.Ea.add(1),await Vc(n),n.Ra.set("Offline"),t||(t=()=>IS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(qo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Of(n)})}function RS(n,e){return e().catch(t=>Zd(n,t,e))}async function Nf(n){const e=ke(n),t=Ls(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cy;for(;T4(e);)try{const r=await i4(e.localStore,i);if(r===null){e.Ta.length===0&&t.L_();break}i=r.batchId,x4(e,r)}catch(r){await Zd(e,r)}DS(e)&&MS(e)}function T4(n){return ea(n)&&n.Ta.length<10}function x4(n,e){n.Ta.push(e);const t=Ls(n);t.O_()&&t.X_&&t.ea(e.mutations)}function DS(n){return ea(n)&&!Ls(n).x_()&&n.Ta.length>0}function MS(n){Ls(n).start()}async function S4(n){Ls(n).ra()}async function I4(n){const e=Ls(n);for(const t of n.Ta)e.ea(t.mutations)}async function b4(n,e,t){const i=n.Ta.shift(),r=Oy.from(i,e,t);await RS(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Nf(n)}async function P4(n,e){e&&Ls(n).X_&&await async function(i,r){if(function(l){return lR(l)&&l!==J.ABORTED}(r.code)){const a=i.Ta.shift();Ls(i).B_(),await RS(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Nf(i)}}(n,e),DS(n)&&MS(n)}async function u1(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),he(qo,"RemoteStore received new credentials");const i=ea(t);t.Ea.add(3),await Vc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Of(t)}async function C4(n,e){const t=ke(n);e?(t.Ea.delete(2),await Of(t)):e||(t.Ea.add(2),await Vc(t),t.Ra.set("Unknown"))}function $l(n){return n.ma||(n.ma=function(t,i,r){const a=ke(t);return a.sa(),new d4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{Xo:v4.bind(null,n),t_:_4.bind(null,n),r_:w4.bind(null,n),H_:E4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),qy(n)?Hy(n):n.Ra.set("Unknown")):(await n.ma.stop(),AS(n))})),n.ma}function Ls(n){return n.fa||(n.fa=function(t,i,r){const a=ke(t);return a.sa(),new f4(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:S4.bind(null,n),r_:P4.bind(null,n),ta:I4.bind(null,n),na:b4.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Nf(n)):(await n.fa.stop(),n.Ta.length>0&&(he(qo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,a){const l=Date.now()+i,c=new Wy(e,t,l,r,a);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(n,e){if(jr("AsyncQueue",`${e}: ${n}`),Bl(n))return new me(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Ku(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new dl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.ga=new ht(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,i)=>{e.push(i)}),e}}class Cl{constructor(e,t,i,r,a,l,c,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,r,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new Cl(e,t,dl.emptySet(t),l,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class A4{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const r=ke(t),a=r.queries;r.queries=h1(),a.forEach((l,c)=>{for(const d of c.Sa)d.onError(i)})})(this,new me(J.ABORTED,"Firestore shutting down"))}}function h1(){return new Jo(n=>Zx(n),kf)}async function VS(n,e){const t=ke(n);let i=3;const r=e.query;let a=t.queries.get(r);a?!a.ba()&&e.Da()&&(i=2):(a=new k4,i=e.Da()?0:1);try{switch(i){case 0:a.wa=await t.onListen(r,!0);break;case 1:a.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(l){const c=Gy(l,`Initialization of query '${el(e.query)}' failed`);return void e.onError(c)}t.queries.set(r,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ky(t)}async function OS(n,e){const t=ke(n),i=e.query;let r=3;const a=t.queries.get(i);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?r=e.Da()?0:1:!a.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function R4(n,e){const t=ke(n);let i=!1;for(const r of e){const a=r.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Fa(r)&&(i=!0);l.wa=r}}i&&Ky(t)}function D4(n,e,t){const i=ke(n),r=i.queries.get(e);if(r)for(const a of r.Sa)a.onError(t);i.queries.delete(e)}function Ky(n){n.Ca.forEach(e=>{e.next()})}var zg,d1;(d1=zg||(zg={})).Ma="default",d1.Cache="cache";class NS{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Cl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class M4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=eS(e),this.tu=new dl(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new c1,r=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=r,c=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,v)=>{const w=r.get(m),x=Af(this.query,v)?v:null,P=!!w&&this.mutatedKeys.has(w.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;w&&x?w.data.isEqual(x.data)?P!==k&&(i.track({type:3,doc:x}),b=!0):this.su(w,x)||(i.track({type:2,doc:x}),b=!0,(d&&this.eu(x,d)>0||p&&this.eu(x,p)<0)&&(c=!0)):!w&&x?(i.track({type:0,doc:x}),b=!0):w&&!x&&(i.track({type:1,doc:w}),b=!0,(d||p)&&(c=!0)),b&&(x?(l=l.add(x),a=k?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,v)=>function(x,P){const k=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:b})}};return k(x)-k(P)}(m.type,v.type)||this.eu(m.doc,v.doc)),this.ou(i),r=r??!1;const c=t&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,p=d!==this.Za;return this.Za=d,l.length!==0||p?{snapshot:new Cl(this.query,e.tu,a,l,e.mutatedKeys,d===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const t=[];return e.forEach(i=>{this.Xa.has(i)||t.push(new FS(i))}),this.Xa.forEach(i=>{e.has(i)||t.push(new LS(i))}),t}cu(e){this.Ya=e.Qs,this.Xa=Oe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qy="SyncEngine";class V4{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class O4{constructor(e){this.key=e,this.hu=!1}}class N4{constructor(e,t,i,r,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Jo(c=>Zx(c),kf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(_e.comparator),this.Au=new Map,this.Ru=new Fy,this.Vu={},this.mu=new Map,this.fu=Pl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function L4(n,e,t=!0){const i=HS(n);let r;const a=i.Tu.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.lu()):r=await jS(i,e,t,!0),r}async function F4(n,e){const t=HS(n);await jS(t,e,!0,!1)}async function jS(n,e,t,i){const r=await r4(n.localStore,Zi(e)),a=r.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return i&&(c=await j4(n,e,a,l==="current",r.resumeToken)),n.isPrimaryClient&&t&&CS(n.remoteStore,r),c}async function j4(n,e,t,i,r){n.pu=(v,w,x)=>async function(k,b,F,U){let q=b.view.ru(F);q.Cs&&(q=await r1(k.localStore,b.query,!1).then(({documents:D})=>b.view.ru(D,q)));const G=U&&U.targetChanges.get(b.targetId),Y=U&&U.targetMismatches.get(b.targetId)!=null,ie=b.view.applyChanges(q,k.isPrimaryClient,G,Y);return p1(k,b.targetId,ie.au),ie.snapshot}(n,v,w,x);const a=await r1(n.localStore,e,!0),l=new M4(e,a.Qs),c=l.ru(a.documents),d=Mc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),p=l.applyChanges(c,n.isPrimaryClient,d);p1(n,t,p.au);const m=new V4(e,t,l);return n.Tu.set(e,m),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function z4(n,e,t){const i=ke(n),r=i.Tu.get(e),a=i.Iu.get(r.targetId);if(a.length>1)return i.Iu.set(r.targetId,a.filter(l=>!kf(l,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Fg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&By(i.remoteStore,r.targetId),Ug(i,r.targetId)}).catch(Ul)):(Ug(i,r.targetId),await Fg(i.localStore,r.targetId,!0))}async function U4(n,e){const t=ke(n),i=t.Tu.get(e),r=t.Iu.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),By(t.remoteStore,i.targetId))}async function B4(n,e,t){const i=Q4(n);try{const r=await function(l,c){const d=ke(l),p=rt.now(),m=c.reduce((x,P)=>x.add(P.key),Oe());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let P=zr(),k=Oe();return d.Ns.getEntries(x,m).next(b=>{P=b,P.forEach((F,U)=>{U.isValidDocument()||(k=k.add(F))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,P)).next(b=>{v=b;const F=[];for(const U of c){const q=iR(U,v.get(U.key).overlayedDocument);q!=null&&F.push(new Zo(U.key,q,Wx(q.value.mapValue),Vr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,p,F,c)}).next(b=>{w=b;const F=b.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(x,b.batchId,F)})}).then(()=>({batchId:w.batchId,changes:nS(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,c,d){let p=l.Vu[l.currentUser.toKey()];p||(p=new ht(Me)),p=p.insert(c,d),l.Vu[l.currentUser.toKey()]=p}(i,r.batchId,t),await Oc(i,r.changes),await Nf(i.remoteStore)}catch(r){const a=Gy(r,"Failed to persist write");t.reject(a)}}async function zS(n,e){const t=ke(n);try{const i=await t4(t.localStore,e);e.targetChanges.forEach((r,a)=>{const l=t.Au.get(a);l&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?We(l.hu,14607):r.removedDocuments.size>0&&(We(l.hu,42227),l.hu=!1))}),await Oc(t,i,e)}catch(i){await Ul(i)}}function f1(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const r=[];i.Tu.forEach((a,l)=>{const c=l.view.va(e);c.snapshot&&r.push(c.snapshot)}),function(l,c){const d=ke(l);d.onlineState=c;let p=!1;d.queries.forEach((m,v)=>{for(const w of v.Sa)w.va(c)&&(p=!0)}),p&&Ky(d)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $4(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.Au.get(e),a=r&&r.key;if(a){let l=new ht(_e.comparator);l=l.insert(a,ln.newNoDocument(a,Ce.min()));const c=Oe().add(a),d=new Mf(Ce.min(),new Map,new ht(Me),l,c);await zS(i,d),i.du=i.du.remove(a),i.Au.delete(e),Yy(i)}else await Fg(i.localStore,e,!1).then(()=>Ug(i,e,t)).catch(Ul)}async function H4(n,e){const t=ke(n),i=e.batch.batchId;try{const r=await e4(t.localStore,e);BS(t,i,null),US(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Oc(t,r)}catch(r){await Ul(r)}}async function q4(n,e,t){const i=ke(n);try{const r=await function(l,c){const d=ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let m;return d.mutationQueue.lookupMutationBatch(p,c).next(v=>(We(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,m)).next(()=>d.localDocuments.getDocuments(p,m))})}(i.localStore,e);BS(i,e,t),US(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Oc(i,r)}catch(r){await Ul(r)}}function US(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function BS(n,e,t){const i=ke(n);let r=i.Vu[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Ug(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(i=>{n.Ru.containsKey(i)||$S(n,i)})}function $S(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(By(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Yy(n))}function p1(n,e,t){for(const i of t)i instanceof LS?(n.Ru.addReference(i.key,e),W4(n,i)):i instanceof FS?(he(Qy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||$S(n,i.key)):Se(19791,{wu:i})}function W4(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(he(Qy,"New document in limbo: "+t),n.Eu.add(i),Yy(n))}function Yy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(it.fromString(e)),i=n.fu.next();n.Au.set(i,new O4(t)),n.du=n.du.insert(t,i),CS(n.remoteStore,new Ts(Zi(My(t.path)),i,"TargetPurposeLimboResolution",If.ce))}}async function Oc(n,e,t){const i=ke(n),r=[],a=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((c,d)=>{l.push(i.pu(d,e,t).then(p=>{if((p||t)&&i.isPrimaryClient){const m=p?!p.fromCache:t?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,m?"current":"not-current")}if(p){r.push(p);const m=zy.As(d.targetId,p);a.push(m)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(d,p){const m=ke(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>X.forEach(p,w=>X.forEach(w.Es,x=>m.persistence.referenceDelegate.addReference(v,w.targetId,x)).next(()=>X.forEach(w.ds,x=>m.persistence.referenceDelegate.removeReference(v,w.targetId,x)))))}catch(v){if(!Bl(v))throw v;he(Uy,"Failed to update sequence numbers: "+v)}for(const v of p){const w=v.targetId;if(!v.fromCache){const x=m.Ms.get(w),P=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(P);m.Ms=m.Ms.insert(w,k)}}}(i.localStore,a))}async function G4(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){he(Qy,"User change. New user:",e.toKey());const i=await SS(t.localStore,e);t.currentUser=e,function(a,l){a.mu.forEach(c=>{c.forEach(d=>{d.reject(new me(J.CANCELLED,l))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Oc(t,i.Ls)}}function K4(n,e){const t=ke(n),i=t.Au.get(e);if(i&&i.hu)return Oe().add(i.key);{let r=Oe();const a=t.Iu.get(e);if(!a)return r;for(const l of a){const c=t.Tu.get(l);r=r.unionWith(c.view.nu)}return r}}function HS(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$4.bind(null,e),e.Pu.H_=R4.bind(null,e.eventManager),e.Pu.yu=D4.bind(null,e.eventManager),e}function Q4(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q4.bind(null,e),e}class ef{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ZR(this.persistence,new YR,e.initialUser,this.serializer)}Cu(e){return new xS(jy.mi,this.serializer)}Du(e){return new o4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ef.provider={build:()=>new ef};class Y4 extends ef{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof Jd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new OR(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new xS(i=>Jd.mi(i,t),this.serializer)}}class Bg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>f1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G4.bind(null,this.syncEngine),await C4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A4}()}createDatastore(e){const t=Vf(e.databaseInfo.databaseId),i=function(a){return new h4(a)}(e.databaseInfo);return function(a,l,c,d){return new m4(a,l,c,d)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,a,l,c){return new y4(i,r,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>f1(this.syncEngine,t,0),function(){return a1.v()?new a1:new a4}())}createSyncEngine(e,t){return function(r,a,l,c,d,p,m){const v=new N4(r,a,l,c,d,p);return m&&(v.gu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const i=ke(t);he(qo,"RemoteStore shutting down."),i.Ea.add(5),await Vc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class X4{constructor(e,t,i,r,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=by.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async l=>{he(Fs,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(he(Fs,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Gy(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Um(n,e){n.asyncQueue.verifyOperationInProgress(),he(Fs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await SS(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function m1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await J4(n);he(Fs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>u1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>u1(e.remoteStore,r)),n._onlineComponents=e}async function J4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(Fs,"Using user provided OfflineComponentProvider");try{await Um(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(r){return r.name==="FirebaseError"?r.code===J.FAILED_PRECONDITION||r.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(t))throw t;xl("Error using user provided cache. Falling back to memory cache: "+t),await Um(n,new ef)}}else he(Fs,"Using default OfflineComponentProvider"),await Um(n,new Y4(void 0));return n._offlineComponents}async function WS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(Fs,"Using user provided OnlineComponentProvider"),await m1(n,n._uninitializedComponentsProvider._online)):(he(Fs,"Using default OnlineComponentProvider"),await m1(n,new Bg))),n._onlineComponents}function Z4(n){return WS(n).then(e=>e.syncEngine)}async function GS(n){const e=await WS(n),t=e.eventManager;return t.onListen=L4.bind(null,e.syncEngine),t.onUnlisten=z4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=U4.bind(null,e.syncEngine),t}function eD(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const m=new qS({next:w=>{m.Nu(),l.enqueueAndForget(()=>OS(a,v));const x=w.docs.has(c);!x&&w.fromCache?p.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&d&&d.source==="server"?p.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new NS(My(c.path),m,{includeMetadataChanges:!0,qa:!0});return VS(a,v)}(await GS(n),n.asyncQueue,e,t,i)),i.promise}function tD(n,e,t={}){const i=new Mr;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,d,p){const m=new qS({next:w=>{m.Nu(),l.enqueueAndForget(()=>OS(a,v)),w.fromCache&&d.source==="server"?p.reject(new me(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),v=new NS(c,m,{includeMetadataChanges:!0,qa:!0});return VS(a,v)}(await GS(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firestore.googleapis.com",y1=!0;class v1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QS,this.ssl=y1}else this.host=e.host,this.ssl=e.ssl??y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MR)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KS(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lf{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new oA;switch(i.type){case"firstParty":return new cA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=g1.get(t);i&&(he("ComponentProvider","Removing Datastore"),g1.delete(t),i.terminate())}(this),Promise.resolve()}}function nD(n,e,t,i={}){n=Ho(n,Lf);const r=Fl(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;r&&(_x(`https://${c}`),wx("Firestore",!0)),a.host!==QS&&a.host!==c&&xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:r,emulatorOptions:i};if(!Uo(d,l)&&(n._setSettings(d),i.mockUserToken)){let p,m;if(typeof i.mockUserToken=="string")p=i.mockUserToken,m=on.MOCK_USER;else{p=R2(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new on(v)}n._authCredentials=new aA(new Vx(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ff(this.firestore,e,this._query)}}class Ot{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Rc(t,Ot._jsonSchema))return new Ot(e,i||null,new _e(it.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:bt("string",Ot._jsonSchemaVersion),referencePath:bt("string")};class ks extends Ff{constructor(e,t,i){super(e,t,My(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new _e(e))}withConverter(e){return new ks(this.firestore,e,this._path)}}function iD(n,e,...t){if(n=Hn(n),Ox("collection","path",e),n instanceof Lf){const i=it.fromString(e,...t);return Dw(i),new ks(n,null,i)}{if(!(n instanceof Ot||n instanceof ks))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return Dw(i),new ks(n.firestore,null,i)}}function _1(n,e,...t){if(n=Hn(n),arguments.length===1&&(e=by.newId()),Ox("doc","path",e),n instanceof Lf){const i=it.fromString(e,...t);return Rw(i),new Ot(n,null,new _e(i))}{if(!(n instanceof Ot||n instanceof ks))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(it.fromString(e,...t));return Rw(i),new Ot(n.firestore,n instanceof ks?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="AsyncQueue";class E1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bS(this,"async_queue_retry"),this._c=()=>{const i=zm();i&&he(w1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=zm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Bl(e))throw e;he(w1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,jr("INTERNAL UNHANDLED ERROR: ",T1(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Wy.createAndSchedule(this,e,t,i,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:T1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function T1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class jf extends Lf{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new E1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E1(e),this._firestoreClient=void 0,await e}}}function rD(n,e){const t=typeof n=="object"?n:Sx(),i=typeof n=="string"?n:qd,r=Sy(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=k2("firestore");a&&nD(r,...a)}return r}function Xy(n){if(n._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||sD(n),n._firestoreClient}function sD(n){const e=n._freezeSettings(),t=function(r,a,l,c){return new PA(r,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KS(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new X4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(r){const a=r?._online.build();return{_offline:r?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(Jt.fromBase64String(e))}catch(t){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ai(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:bt("string",ai._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:bt("string",tr._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:nr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,nr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new nr(e.vectorValues);throw new me(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}nr._jsonSchemaVersion="firestore/vectorValue/1.0",nr._jsonSchema={type:bt("string",nr._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^__.*__$/;class aD{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Zo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dc(e,this.data,t,this.fieldTransforms)}}function XS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class Zy{constructor(e,t,i,r,a,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return tf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XS(this.Ac)&&oD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class lD{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Vf(e)}Cc(e,t,i,r=!1){return new Zy({Ac:e,methodName:t,Dc:i,path:Xt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uD(n){const e=n._freezeSettings(),t=Vf(n._databaseId);return new lD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function cD(n,e,t,i,r,a={}){const l=n.Cc(a.merge||a.mergeFields?2:0,e,t,r);tI("Data must be an object, but it was:",l,i);const c=ZS(i,l);let d,p;if(a.merge)d=new Ri(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const w=hD(e,v,t);if(!l.contains(w))throw new me(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);fD(m,w)||m.push(w)}d=new Ri(m),p=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=l.fieldTransforms;return new aD(new oi(c),d,p)}function JS(n,e){if(eI(n=Hn(n)))return tI("Unsupported field value:",e,n),ZS(n,e);if(n instanceof YS)return function(i,r){if(!XS(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const a=[];let l=0;for(const c of i){let d=JS(c,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}}(n,e)}return function(i,r){if((i=Hn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XA(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=rt.fromDate(i);return{timestampValue:Xd(r.serializer,a)}}if(i instanceof rt){const a=new rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xd(r.serializer,a)}}if(i instanceof tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ai)return{bytesValue:mS(r.serializer,i._byteString)};if(i instanceof Ot){const a=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(a))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ly(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof nr)return function(l,c){return{mapValue:{fields:{[Hx]:{stringValue:qx},[Wd]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Sc("VectorValues must only contain numeric values.");return Vy(c.serializer,p)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${Py(i)}`)}(n,e)}function ZS(n,e){const t={};return Fx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xo(n,(i,r)=>{const a=JS(r,e.mc(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function eI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof tr||n instanceof ai||n instanceof Ot||n instanceof YS||n instanceof nr)}function tI(n,e,t){if(!eI(t)||!Nx(t)){const i=Py(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function hD(n,e,t){if((e=Hn(e))instanceof Jy)return e._internalPath;if(typeof e=="string")return nI(n,e);throw tf("Field path arguments must be of type string or ",n,!1,void 0,t)}const dD=new RegExp("[~\\*/\\[\\]]");function nI(n,e,t){if(e.search(dD)>=0)throw tf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jy(...e.split("."))._internalPath}catch{throw tf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tf(n,e,t,i,r){const a=i&&!i.isEmpty(),l=r!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new me(J.INVALID_ARGUMENT,c+n+d)}function fD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pD extends iI{data(){return super.data()}}function rI(n,e){return typeof e=="string"?nI(n,e):e instanceof Jy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gD{convertValue(e,t="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Xo(e,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertVectorValue(e){const t=e.fields?.[Wd].arrayValue?.values?.map(i=>wt(i.doubleValue));return new nr(t)}convertGeoPoint(e){return new tr(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Pf(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=Vs(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=it.fromString(e);We(ES(i),9688,{name:e});const r=new pc(i.get(1),i.get(3)),a=new _e(i.popFirst(5));return r.isEqual(t)||jr(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fo extends iI{constructor(e,t,i,r,a,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fo._jsonSchema={type:bt("string",Fo._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Rd extends Fo{data(e={}){return super.data(e)}}class fl{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Yu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Rd(this._firestore,this._userDataWriter,i.key,i,new Yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>{const d=new Rd(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Yu(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const d=new Rd(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Yu(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,m=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:vD(c.type),doc:d,oldIndex:p,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=by.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n){n=Ho(n,Ot);const e=Ho(n.firestore,jf);return eD(Xy(e),n._key).then(t=>ED(e,n,t))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:bt("string",fl._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class sI extends gD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function _D(n){n=Ho(n,Ff);const e=Ho(n.firestore,jf),t=Xy(e),i=new sI(e);return mD(n._query),tD(t,n._query).then(r=>new fl(e,i,n,r))}function B7(n,e,t){n=Ho(n,Ot);const i=Ho(n.firestore,jf),r=yD(n.converter,e,t);return wD(i,[cD(uD(i),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,Vr.none())])}function wD(n,e){return function(i,r){const a=new Mr;return i.asyncQueue.enqueueAndForget(async()=>B4(await Z4(i),r,a)),a.promise}(Xy(n),e)}function ED(n,e,t){const i=t.docs.get(e._key),r=new sI(n);return new Fo(n,r,e._key,i,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(r){zl=r})(jl),Tl(new Bo("firestore",(i,{instanceIdentifier:r,options:a})=>{const l=i.getProvider("app").getImmediate(),c=new jf(new lA(i.getProvider("auth-internal")),new hA(l,i.getProvider("app-check-internal")),function(p,m){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(p.options.projectId,m)}(l,r),l);return a={useFetchStreams:t,...a},c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Ps(Pw,Cw,e),Ps(Pw,Cw,"esm2020")})();function oI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TD=oI,aI=new kc("auth","Firebase",oI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=new Ty("@firebase/auth");function xD(n,...e){nf.logLevel<=De.WARN&&nf.warn(`Auth (${jl}): ${n}`,...e)}function Dd(n,...e){nf.logLevel<=De.ERROR&&nf.error(`Auth (${jl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(n,...e){throw ev(n,...e)}function ir(n,...e){return ev(n,...e)}function lI(n,e,t){const i={...TD(),[e]:t};return new kc("auth","Firebase",i).create(e,{appName:n.name})}function As(n){return lI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ev(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return aI.create(n,...e)}function xe(n,e,...t){if(!n)throw ev(e,...t)}function Ar(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Dd(e),new Error(e)}function Ur(n,e){n||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){return typeof self<"u"&&self.location?.href||""}function SD(){return S1()==="http:"||S1()==="https:"}function S1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||L2()||"connection"in navigator)?navigator.onLine:!0}function bD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=V2()||F2()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(n,e){Ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kD=new Nc(3e4,6e4);function ta(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $s(n,e,t,i,r={}){return cI(n,r,async()=>{let a={},l={};i&&(e==="GET"?l=i:a={body:JSON.stringify(i)});const c=Ac({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...a};return N2()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Fl(n.emulatorConfig.host)&&(p.credentials="include"),uI.fetch()(await hI(n,n.config.apiHost,t,c),p)})}async function cI(n,e,t){n._canInitEmulator=!1;const i={...PD,...e};try{const r=new RD(n),a=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw hd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw hd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw hd(n,"user-disabled",l);const m=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw lI(n,m,p);Ni(n,m)}}catch(r){if(r instanceof $r)throw r;Ni(n,"network-request-failed",{message:String(r)})}}async function zf(n,e,t,i,r={}){const a=await $s(n,e,t,i,r);return"mfaPendingCredential"in a&&Ni(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function hI(n,e,t,i){const r=`${e}${t}?${i}`,a=n,l=a.config.emulator?tv(n.config,r):`${n.config.apiScheme}://${r}`;return CD.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function AD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ir(this.auth,"network-request-failed")),kD.get())})}}function hd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=ir(n,e,i);return r.customData._tokenResponse=t,r}function I1(n){return n!==void 0&&n.enterprise!==void 0}class DD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MD(n,e){return $s(n,"GET","/v2/recaptchaConfig",ta(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e){return $s(n,"POST","/v1/accounts:delete",e)}async function rf(n,e){return $s(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OD(n,e=!1){const t=Hn(n),i=await t.getIdToken(e),r=nv(i);xe(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a?.sign_in_provider;return{claims:r,token:i,authTime:sc(Bm(r.auth_time)),issuedAtTime:sc(Bm(r.iat)),expirationTime:sc(Bm(r.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Bm(n){return Number(n)*1e3}function nv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{const r=mx(t);return r?JSON.parse(r):(Dd("Failed to decode base64 JWT payload"),null)}catch(r){return Dd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function b1(n){const e=nv(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $r&&ND(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function ND({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sc(this.lastLoginAt),this.creationTime=sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(n){const e=n.auth,t=await n.getIdToken(),i=await vc(n,rf(e,{idToken:t}));xe(i?.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const a=r.providerUserInfo?.length?dI(r.providerUserInfo):[],l=jD(n.providerData,a),c=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,p=c?d:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Hg(r.createdAt,r.lastLoginAt),isAnonymous:p};Object.assign(n,m)}async function FD(n){const e=Hn(n);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jD(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function dI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e){const t=await cI(n,{},async()=>{const i=Ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=n.config,l=await hI(n,r,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:i};return n.emulatorConfig&&Fl(n.emulatorConfig.host)&&(d.credentials="include"),uI.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UD(n,e){return $s(n,"POST","/v2/accounts:revokeToken",ta(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):b1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=b1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:a}=await zD(e,t);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:a}=t,l=new pl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(xe(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(n,e){xe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Hg(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await vc(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return OD(this,e)}reload(){return FD(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await sf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await vc(this,VD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,m=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:x,providerData:P,stsTokenManager:k}=t;xe(v&&k,e,"internal-error");const b=pl.fromJSON(this.name,k);xe(typeof v=="string",e,"internal-error"),ms(i,e.name),ms(r,e.name),xe(typeof w=="boolean",e,"internal-error"),xe(typeof x=="boolean",e,"internal-error"),ms(a,e.name),ms(l,e.name),ms(c,e.name),ms(d,e.name),ms(p,e.name),ms(m,e.name);const F=new Di({uid:v,auth:e,email:r,emailVerified:w,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:b,createdAt:p,lastLoginAt:m});return P&&Array.isArray(P)&&(F.providerData=P.map(U=>({...U}))),d&&(F._redirectEventId=d),F}static async _fromIdTokenResponse(e,t,i=!1){const r=new pl;r.updateFromServerResponse(t);const a=new Di({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await sf(a),a}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];xe(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?dI(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!a?.length,c=new pl;c.updateFromIdToken(i);const d=new Di({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Hg(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!a?.length};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function Rr(n){Ur(n instanceof Function,"Expected a class definition");let e=P1.get(n);return e?(Ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,P1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fI.type="NONE";const C1=fI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(n,e,t){return`firebase:${n}:${e}:${t}`}class ml{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Md(this.userKey,r.apiKey,a),this.fullPersistenceKey=Md("persistence",r.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await rf(this.auth,{idToken:e}).catch(()=>{});return t?Di._fromGetAccountInfoResponse(this.auth,t,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ml(Rr(C1),e,i);const r=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=r[0]||Rr(C1);const l=Md(i,e.config.apiKey,e.name);let c=null;for(const p of t)try{const m=await p._get(l);if(m){let v;if(typeof m=="string"){const w=await rf(e,{idToken:m}).catch(()=>{});if(!w)break;v=await Di._fromGetAccountInfoResponse(e,w,m)}else v=Di._fromJSON(e,m);p!==a&&(c=v),a=p;break}}catch{}const d=r.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new ml(a,e,i):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ml(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_I(e))return"Blackberry";if(wI(e))return"Webos";if(mI(e))return"Safari";if((e.includes("chrome/")||gI(e))&&!e.includes("edge/"))return"Chrome";if(vI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function pI(n=fn()){return/firefox\//i.test(n)}function mI(n=fn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gI(n=fn()){return/crios\//i.test(n)}function yI(n=fn()){return/iemobile/i.test(n)}function vI(n=fn()){return/android/i.test(n)}function _I(n=fn()){return/blackberry/i.test(n)}function wI(n=fn()){return/webos/i.test(n)}function iv(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function BD(n=fn()){return iv(n)&&!!window.navigator?.standalone}function $D(){return j2()&&document.documentMode===10}function EI(n=fn()){return iv(n)||vI(n)||wI(n)||_I(n)||/windows phone/i.test(n)||yI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(n,e=[]){let t;switch(n){case"Browser":t=k1(fn());break;case"Worker":t=`${k1(fn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(n,e={}){return $s(n,"GET","/v2/passwordPolicy",ta(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=6;class GD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??WD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A1(this),this.idTokenSubscription=new A1(this),this.beforeStateQueue=new HD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Rr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await rf(this,{idToken:e}),i=await Di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ci(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ci(this.app))return Promise.reject(As(this));const t=e?Hn(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ci(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qD(this),t=new GD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await UD(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Rr(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[Rr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,r);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hl(n){return Hn(n)}class A1{constructor(e){this.auth=e,this.observer=null,this.addObserver=G2(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QD(n){Uf=n}function xI(n){return Uf.loadJS(n)}function YD(){return Uf.recaptchaEnterpriseScript}function XD(){return Uf.gapiScript}function JD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZD{constructor(){this.enterprise=new e3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class e3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const t3="recaptcha-enterprise",SI="NO_RECAPTCHA";class n3{constructor(e){this.type=t3,this.auth=Hl(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{MD(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new DD(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function r(a,l,c){const d=window.grecaptcha;I1(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(SI)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZD().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{i(this.auth).then(c=>{if(!t&&I1(window.grecaptcha))r(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=YD();d.length!==0&&(d+=c),xI(d).then(()=>{r(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function R1(n,e,t,i=!1,r=!1){const a=new n3(n);let l;if(r)l=SI;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function D1(n,e,t,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await R1(n,e,t,t==="getOobCode");return i(n,a)}else return i(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await R1(n,e,t,t==="getOobCode");return i(n,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(n,e){const t=Sy(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),a=t.getOptions();if(Uo(a,e??{}))return r;Ni(r,"already-initialized")}return t.initialize({options:e})}function r3(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Rr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function s3(n,e,t){const i=Hl(n);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,a=II(e),{host:l,port:c}=o3(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},m=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(Uo(p,i.config.emulator)&&Uo(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Fl(l)?(_x(`${a}//${l}${d}`),wx("Auth",!0)):a3()}function II(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function o3(n){const e=II(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:M1(i.substr(a.length+1))}}else{const[a,l]=i.split(":");return{host:a,port:M1(l)}}}function M1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function a3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,t){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function l3(n,e){return $s(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(n,e){return zf(n,"POST","/v1/accounts:signInWithPassword",ta(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(n,e){return zf(n,"POST","/v1/accounts:signInWithEmailLink",ta(n,e))}async function h3(n,e){return zf(n,"POST","/v1/accounts:signInWithEmailLink",ta(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c extends rv{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _c(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new _c(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D1(e,t,"signInWithPassword",u3);case"emailLink":return c3(e,{email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return D1(e,i,"signUpPassword",l3);case"emailLink":return h3(e,{idToken:t,email:this._email,oobCode:this._password});default:Ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(n,e){return zf(n,"POST","/v1/accounts:signInWithIdp",ta(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="http://localhost";class Wo extends rv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ni("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=t;if(!i||!r)return null;const l=new Wo(i,r);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return gl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,gl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,gl(e,t)}buildRequest(){const e={requestUri:d3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ac(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function p3(n){const e=qu(Wu(n)).link,t=e?qu(Wu(e)).deep_link_id:null,i=qu(Wu(n)).deep_link_id;return(i?qu(Wu(i)).link:null)||i||t||e||n}class sv{constructor(e){const t=qu(Wu(e)),i=t.apiKey??null,r=t.oobCode??null,a=f3(t.mode??null);xe(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=p3(e);try{return new sv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.providerId=ql.PROVIDER_ID}static credential(e,t){return _c._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=sv.parseLink(t);return xe(i,"argument-error"),_c._fromEmailAndCode(e,i.code,i.tenantId)}}ql.PROVIDER_ID="password";ql.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ql.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends bI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Lc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.FACEBOOK_SIGN_IN_METHOD="facebook.com";ys.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wo._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return vs.credential(t,i)}catch{return null}}}vs.GOOGLE_SIGN_IN_METHOD="google.com";vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Lc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.GITHUB_SIGN_IN_METHOD="github.com";_s.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Lc{constructor(){super("twitter.com")}static credential(e,t){return Wo._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ws.credential(t,i)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const a=await Di._fromIdTokenResponse(e,i,r),l=V1(i);return new kl({user:a,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=V1(i);return new kl({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function V1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of extends $r{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,of.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new of(e,t,i,r)}}function PI(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?of._fromErrorAndOperation(n,a,e,i):a})}async function m3(n,e,t=!1){const i=await vc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return kl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(n,e,t=!1){const{auth:i}=n;if(Ci(i.app))return Promise.reject(As(i));const r="reauthenticate";try{const a=await vc(n,PI(i,r,e,n),t);xe(a.idToken,i,"internal-error");const l=nv(a.idToken);xe(l,i,"internal-error");const{sub:c}=l;return xe(n.uid===c,i,"user-mismatch"),kl._forOperation(n,r,a)}catch(a){throw a?.code==="auth/user-not-found"&&Ni(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(n,e,t=!1){if(Ci(n.app))return Promise.reject(As(n));const i="signIn",r=await PI(n,i,e),a=await kl._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(a.user),a}async function y3(n,e){return CI(Hl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v3(n){const e=Hl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function $7(n,e,t){return Ci(n.app)?Promise.reject(As(n)):y3(Hn(n),ql.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&v3(n),i})}function _3(n,e,t,i){return Hn(n).onIdTokenChanged(e,t,i)}function w3(n,e,t){return Hn(n).beforeAuthStateChanged(e,t)}function H7(n,e,t,i){return Hn(n).onAuthStateChanged(e,t,i)}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=1e3,T3=10;class AI extends kI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=EI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},a=this.storage.getItem(i);$D()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,T3):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},E3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AI.type="LOCAL";const x3=AI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends kI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}RI.type="SESSION";const DI=RI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new Bf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:a}=t.data,l=this.handlersMap[r];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const c=Array.from(l).map(async p=>p(t.origin,a)),d=await S3(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=ov("",20);r.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(v){const w=v;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(w.data.response);break;default:clearTimeout(m),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(){return window}function b3(n){rr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(){return typeof rr().WorkerGlobalScope<"u"&&typeof rr().importScripts=="function"}async function P3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C3(){return navigator?.serviceWorker?.controller||null}function k3(){return MI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firebaseLocalStorageDb",A3=1,lf="firebaseLocalStorage",OI="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $f(n,e){return n.transaction([lf],e?"readwrite":"readonly").objectStore(lf)}function R3(){const n=indexedDB.deleteDatabase(VI);return new Fc(n).toPromise()}function qg(){const n=indexedDB.open(VI,A3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(lf,{keyPath:OI})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(lf)?e(i):(i.close(),await R3(),e(await qg()))})})}async function O1(n,e,t){const i=$f(n,!0).put({[OI]:e,value:t});return new Fc(i).toPromise()}async function D3(n,e){const t=$f(n,!1).get(e),i=await new Fc(t).toPromise();return i===void 0?null:i.value}function N1(n,e){const t=$f(n,!0).delete(e);return new Fc(t).toPromise()}const M3=800,V3=3;class NI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>V3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(k3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await P3(),!this.activeServiceWorker)return;this.sender=new I3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qg();return await O1(e,af,"1"),await N1(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>O1(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>D3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>N1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=$f(r,!1).getAll();return new Fc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NI.type="LOCAL";const O3=NI;new Nc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(n,e){return e?Rr(e):(xe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av extends rv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return gl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return gl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function L3(n){return CI(n.auth,new av(n),n.bypassAuthState)}function F3(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),g3(t,new av(n),n.bypassAuthState)}async function j3(n){const{auth:e,user:t}=n;return xe(t,e,"internal-error"),m3(t,new av(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L3;case"linkViaPopup":case"linkViaRedirect":return j3;case"reauthViaPopup":case"reauthViaRedirect":return F3;default:Ni(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=new Nc(2e3,1e4);class il extends LI{constructor(e,t,i,r,a){super(e,t,r,a),this.provider=i,this.authWindow=null,this.pollId=null,il.currentPopupAction&&il.currentPopupAction.cancel(),il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,il.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,z3.get())};e()}}il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3="pendingRedirect",Vd=new Map;class B3 extends LI{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const i=await $3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $3(n,e){const t=W3(e),i=q3(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function H3(n,e){Vd.set(n._key(),e)}function q3(n){return Rr(n._redirectPersistence)}function W3(n){return Md(U3,n.config.apiKey,n.name)}async function G3(n,e,t=!1){if(Ci(n.app))return Promise.reject(As(n));const i=Hl(n),r=N3(i,e),l=await new B3(i,r,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=600*1e3;class Q3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Y3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!FI(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ir(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K3&&this.cachedEventUids.clear(),this.cachedEventUids.has(L1(e))}saveEventToCache(e){this.cachedEventUids.add(L1(e)),this.lastProcessedEventTime=Date.now()}}function L1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FI({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Y3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(n,e={}){return $s(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Z3=/^https?/;async function eM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await X3(n);for(const t of e)try{if(tM(t))return}catch{}Ni(n,"unauthorized-domain")}function tM(n){const e=$g(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!Z3.test(t))return!1;if(J3.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=new Nc(3e4,6e4);function F1(){const n=rr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function iM(n){return new Promise((e,t)=>{function i(){F1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{F1(),t(ir(n,"network-request-failed"))},timeout:nM.get()})}if(rr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(rr().gapi?.load)i();else{const r=JD("iframefcb");return rr()[r]=()=>{gapi.load?i():t(ir(n,"network-request-failed"))},xI(`${XD()}?onload=${r}`).catch(a=>t(a))}}).catch(e=>{throw Od=null,e})}let Od=null;function rM(n){return Od=Od||iM(n),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=new Nc(5e3,15e3),oM="__/auth/iframe",aM="emulator/auth/iframe",lM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cM(n){const e=n.config;xe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?tv(e,aM):`https://${n.config.authDomain}/${oM}`,i={apiKey:e.apiKey,appName:n.name,v:jl},r=uM.get(n.config.apiHost);r&&(i.eid=r);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Ac(i).slice(1)}`}async function hM(n){const e=await rM(n),t=rr().gapi;return xe(t,n,"internal-error"),e.open({where:document.body,url:cM(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lM,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const l=ir(n,"network-request-failed"),c=rr().setTimeout(()=>{a(l)},sM.get());function d(){rr().clearTimeout(c),r(i)}i.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fM=500,pM=600,mM="_blank",gM="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yM(n,e,t,i=fM,r=pM){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const d={...dM,width:i.toString(),height:r.toString(),top:a,left:l},p=fn().toLowerCase();t&&(c=gI(p)?mM:t),pI(p)&&(e=e||gM,d.scrollbars="yes");const m=Object.entries(d).reduce((w,[x,P])=>`${w}${x}=${P},`,"");if(BD(p)&&c!=="_self")return vM(e||"",c),new j1(null);const v=window.open(e||"",c,m);xe(v,n,"popup-blocked");try{v.focus()}catch{}return new j1(v)}function vM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="__/auth/handler",wM="emulator/auth/handler",EM=encodeURIComponent("fac");async function z1(n,e,t,i,r,a){xe(n.config.authDomain,n,"auth-domain-config-required"),xe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:jl,eventId:r};if(e instanceof bI){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",W2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof Lc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const d=await n._getAppCheckToken(),p=d?`#${EM}=${encodeURIComponent(d)}`:"";return`${TM(n)}?${Ac(c).slice(1)}${p}`}function TM({config:n}){return n.emulator?tv(n,wM):`https://${n.authDomain}/${_M}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="webStorageSupport";class xM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DI,this._completeRedirectFn=G3,this._overrideRedirectResult=H3}async _openPopup(e,t,i,r){Ur(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await z1(e,t,i,$g(),r);return yM(e,a,ov())}async _openRedirect(e,t,i,r){await this._originValidation(e);const a=await z1(e,t,i,$g(),r);return b3(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:a}=this.eventManagers[t];return r?Promise.resolve(r):(Ur(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await hM(e),i=new Q3(e);return t.register("authEvent",r=>(xe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($m,{type:$m},r=>{const a=r?.[0]?.[$m];a!==void 0&&t(!!a),Ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return EI()||mI()||iv()}}const SM=xM;var U1="@firebase/auth",B1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PM(n){Tl(new Bo("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TI(n)},p=new KD(i,r,a,d);return r3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Tl(new Bo("auth-internal",e=>{const t=Hl(e.getProvider("auth").getImmediate());return(i=>new IM(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ps(U1,B1,bM(n)),Ps(U1,B1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=300,kM=vx("authIdTokenMaxAge")||CM;let $1=null;const AM=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>kM)return;const r=t?.token;$1!==r&&($1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function RM(n=Sx()){const e=Sy(n,"auth");if(e.isInitialized())return e.getImmediate();const t=i3(n,{popupRedirectResolver:SM,persistence:[O3,x3,DI]}),i=vx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const l=AM(a.toString());w3(t,l,()=>l(t.currentUser)),_3(t,c=>l(c))}}const r=gx("auth");return r&&s3(t,`http://${r}`),t}function DM(){return document.getElementsByTagName("head")?.[0]??document}QD({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const a=ir("internal-error");a.customData=r,t(a)},i.type="text/javascript",i.charset="UTF-8",DM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PM("Browser");const lv=Z.createContext({});function uv(n){const e=Z.useRef(null);return e.current===null&&(e.current=n()),e.current}const Hf=Z.createContext(null),cv=Z.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class MM extends Z.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function VM({children:n,isPresent:e}){const t=Z.useId(),i=Z.useRef(null),r=Z.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=Z.useContext(cv);return Z.useInsertionEffect(()=>{const{width:l,height:c,top:d,left:p}=r.current;if(e||!i.current||!l||!c)return;i.current.dataset.motionPopId=t;const m=document.createElement("style");return a&&(m.nonce=a),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            top: ${d}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),C.jsx(MM,{isPresent:e,childRef:i,sizeRef:r,children:Z.cloneElement(n,{ref:i})})}const OM=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:a,mode:l})=>{const c=uv(NM),d=Z.useId(),p=Z.useCallback(v=>{c.set(v,!0);for(const w of c.values())if(!w)return;i&&i()},[c,i]),m=Z.useMemo(()=>({id:d,initial:e,isPresent:t,custom:r,onExitComplete:p,register:v=>(c.set(v,!1),()=>c.delete(v))}),a?[Math.random(),p]:[t,p]);return Z.useMemo(()=>{c.forEach((v,w)=>c.set(w,!1))},[t]),Z.useEffect(()=>{!t&&!c.size&&i&&i()},[t]),l==="popLayout"&&(n=C.jsx(VM,{isPresent:t,children:n})),C.jsx(Hf.Provider,{value:m,children:n})};function NM(){return new Map}function jI(n=!0){const e=Z.useContext(Hf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,a=Z.useId();Z.useEffect(()=>{n&&r(a)},[n]);const l=Z.useCallback(()=>n&&i&&i(a),[a,i,n]);return!t&&i?[!1,l]:[!0]}const dd=n=>n.key||"";function H1(n){const e=[];return Z.Children.forEach(n,t=>{Z.isValidElement(t)&&e.push(t)}),e}const hv=typeof window<"u",zI=hv?Z.useLayoutEffect:Z.useEffect,qf=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1})=>{const[c,d]=jI(l),p=Z.useMemo(()=>H1(n),[n]),m=l&&!c?[]:p.map(dd),v=Z.useRef(!0),w=Z.useRef(p),x=uv(()=>new Map),[P,k]=Z.useState(p),[b,F]=Z.useState(p);zI(()=>{v.current=!1,w.current=p;for(let G=0;G<b.length;G++){const Y=dd(b[G]);m.includes(Y)?x.delete(Y):x.get(Y)!==!0&&x.set(Y,!1)}},[b,m.length,m.join("-")]);const U=[];if(p!==P){let G=[...p];for(let Y=0;Y<b.length;Y++){const ie=b[Y],D=dd(ie);m.includes(D)||(G.splice(Y,0,ie),U.push(ie))}a==="wait"&&U.length&&(G=U),F(H1(G)),k(p);return}const{forceRender:q}=Z.useContext(lv);return C.jsx(C.Fragment,{children:b.map(G=>{const Y=dd(G),ie=l&&!c?!1:p===b||m.includes(Y),D=()=>{if(x.has(Y))x.set(Y,!0);else return;let I=!0;x.forEach(A=>{A||(I=!1)}),I&&(q?.(),F(w.current),l&&d?.(),i&&i())};return C.jsx(OM,{isPresent:ie,initial:!v.current||t?void 0:!1,custom:ie?void 0:e,presenceAffectsLayout:r,mode:a,onExitComplete:ie?void 0:D,children:G},Y)})})},Bn=n=>n;let UI=Bn;function dv(n){let e;return()=>(e===void 0&&(e=n()),e)}const Al=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},Or=n=>n*1e3,Nr=n=>n/1e3,LM={useManualTiming:!1};function FM(n){let e=new Set,t=new Set,i=!1,r=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),n()),p(l)}const d={schedule:(p,m=!1,v=!1)=>{const x=v&&i?e:t;return m&&a.add(p),x.has(p)||x.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(l=p,i){r=!0;return}i=!0,[e,t]=[t,e],e.forEach(c),e.clear(),i=!1,r&&(r=!1,d.process(p))}};return d}const fd=["read","resolveKeyframes","update","preRender","render","postRender"],jM=40;function BI(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,l=fd.reduce((F,U)=>(F[U]=FM(a),F),{}),{read:c,resolveKeyframes:d,update:p,preRender:m,render:v,postRender:w}=l,x=()=>{const F=performance.now();t=!1,r.delta=i?1e3/60:Math.max(Math.min(F-r.timestamp,jM),1),r.timestamp=F,r.isProcessing=!0,c.process(r),d.process(r),p.process(r),m.process(r),v.process(r),w.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(x))},P=()=>{t=!0,i=!0,r.isProcessing||n(x)};return{schedule:fd.reduce((F,U)=>{const q=l[U];return F[U]=(G,Y=!1,ie=!1)=>(t||P(),q.schedule(G,Y,ie)),F},{}),cancel:F=>{for(let U=0;U<fd.length;U++)l[fd[U]].cancel(F)},state:r,steps:l}}const{schedule:st,cancel:js,state:Kt,steps:Hm}=BI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0),fv=Z.createContext({strict:!1}),q1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rl={};for(const n in q1)Rl[n]={isEnabled:e=>q1[n].some(t=>!!e[t])};function Wg(n){for(const e in n)Rl[e]={...Rl[e],...n[e]}}function zM({children:n,features:e,strict:t=!1}){const[,i]=Z.useState(!qm(e)),r=Z.useRef(void 0);if(!qm(e)){const{renderer:a,...l}=e;r.current=a,Wg(l)}return Z.useEffect(()=>{qm(e)&&e().then(({renderer:a,...l})=>{Wg(l),r.current=a,i(!0)})},[]),C.jsx(fv.Provider,{value:{renderer:r.current,strict:t},children:n})}function qm(n){return typeof n=="function"}const UM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uf(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UM.has(n)}let $I=n=>!uf(n);function BM(n){n&&($I=e=>e.startsWith("on")?!uf(e):n(e))}try{BM(require("@emotion/is-prop-valid").default)}catch{}function $M(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||($I(r)||t===!0&&uf(r)||!e&&!uf(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function HM(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Wf=Z.createContext({});function wc(n){return typeof n=="string"||Array.isArray(n)}function Gf(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const pv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mv=["initial",...pv];function Kf(n){return Gf(n.animate)||mv.some(e=>wc(n[e]))}function HI(n){return!!(Kf(n)||n.variants)}function qM(n,e){if(Kf(n)){const{initial:t,animate:i}=n;return{initial:t===!1||wc(t)?t:void 0,animate:wc(i)?i:void 0}}return n.inherit!==!1?e:{}}function WM(n){const{initial:e,animate:t}=qM(n,Z.useContext(Wf));return Z.useMemo(()=>({initial:e,animate:t}),[W1(e),W1(t)])}function W1(n){return Array.isArray(n)?n.join(" "):n}const GM=Symbol.for("motionComponentSymbol");function rl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function KM(n,e,t){return Z.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):rl(t)&&(t.current=i))},[e])}const gv=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),QM="framerAppearId",qI="data-"+gv(QM),{schedule:yv}=BI(queueMicrotask,!1),WI=Z.createContext({});function YM(n,e,t,i,r){var a,l;const{visualElement:c}=Z.useContext(Wf),d=Z.useContext(fv),p=Z.useContext(Hf),m=Z.useContext(cv).reducedMotion,v=Z.useRef(null);i=i||d.renderer,!v.current&&i&&(v.current=i(n,{visualState:e,parent:c,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const w=v.current,x=Z.useContext(WI);w&&!w.projection&&r&&(w.type==="html"||w.type==="svg")&&XM(v.current,t,r,x);const P=Z.useRef(!1);Z.useInsertionEffect(()=>{w&&P.current&&w.update(t,p)});const k=t[qI],b=Z.useRef(!!k&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,k))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,k)));return zI(()=>{w&&(P.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),yv.render(w.render),b.current&&w.animationState&&w.animationState.animateChanges())}),Z.useEffect(()=>{w&&(!b.current&&w.animationState&&w.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,k)}),b.current=!1))}),w}function XM(n,e,t,i){const{layoutId:r,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:GI(n.parent)),n.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||c&&rl(c),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:p})}function GI(n){if(n)return n.options.allowProjection!==!1?n.projection:GI(n.parent)}function JM({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){var a,l;n&&Wg(n);function c(p,m){let v;const w={...Z.useContext(cv),...p,layoutId:ZM(p)},{isStatic:x}=w,P=WM(p),k=i(p,x);if(!x&&hv){eV();const b=tV(w);v=b.MeasureLayout,P.visualElement=YM(r,k,w,e,b.ProjectionNode)}return C.jsxs(Wf.Provider,{value:P,children:[v&&P.visualElement?C.jsx(v,{visualElement:P.visualElement,...w}):null,t(r,p,KM(k,P.visualElement,m),k,x,P.visualElement)]})}c.displayName=`motion.${typeof r=="string"?r:`create(${(l=(a=r.displayName)!==null&&a!==void 0?a:r.name)!==null&&l!==void 0?l:""})`}`;const d=Z.forwardRef(c);return d[GM]=r,d}function ZM({layoutId:n}){const e=Z.useContext(lv).id;return e&&n!==void 0?e+"-"+n:n}function eV(n,e){Z.useContext(fv).strict}function tV(n){const{drag:e,layout:t}=Rl;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const nV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(n){return typeof n!="string"||n.includes("-")?!1:!!(nV.indexOf(n)>-1||/[A-Z]/u.test(n))}function G1(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function _v(n,e,t,i){if(typeof e=="function"){const[r,a]=G1(i);e=e(t!==void 0?t:n.custom,r,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,a]=G1(i);e=e(t!==void 0?t:n.custom,r,a)}return e}const Gg=n=>Array.isArray(n),iV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),rV=n=>Gg(n)?n[n.length-1]||0:n,un=n=>!!(n&&n.getVelocity);function Nd(n){const e=un(n)?n.get():n;return iV(e)?e.toValue():e}function sV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},i,r,a){const l={latestValues:oV(i,r,a,n),renderState:e()};return t&&(l.onMount=c=>t({props:i,current:c,...l}),l.onUpdate=c=>t(c)),l}const KI=n=>(e,t)=>{const i=Z.useContext(Wf),r=Z.useContext(Hf),a=()=>sV(n,e,i,r);return t?a():uv(a)};function oV(n,e,t,i){const r={},a=i(n,{});for(const w in a)r[w]=Nd(a[w]);let{initial:l,animate:c}=n;const d=Kf(n),p=HI(n);e&&p&&!d&&n.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!Gf(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const P=_v(n,w[x]);if(P){const{transitionEnd:k,transition:b,...F}=P;for(const U in F){let q=F[U];if(Array.isArray(q)){const G=m?q.length-1:0;q=q[G]}q!==null&&(r[U]=q)}for(const U in k)r[U]=k[U]}}}return r}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],na=new Set(Wl),QI=n=>e=>typeof e=="string"&&e.startsWith(n),YI=QI("--"),aV=QI("var(--"),wv=n=>aV(n)?lV.test(n.split("/*")[0].trim()):!1,lV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,XI=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Br=(n,e,t)=>t>e?e:t<n?n:t,Gl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ec={...Gl,transform:n=>Br(0,1,n)},pd={...Gl,default:1},jc=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),gs=jc("deg"),sr=jc("%"),Te=jc("px"),uV=jc("vh"),cV=jc("vw"),K1={...sr,parse:n=>sr.parse(n)/100,transform:n=>sr.transform(n*100)},hV={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},dV={rotate:gs,rotateX:gs,rotateY:gs,rotateZ:gs,scale:pd,scaleX:pd,scaleY:pd,scaleZ:pd,skew:gs,skewX:gs,skewY:gs,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Ec,originX:K1,originY:K1,originZ:Te},Q1={...Gl,transform:Math.round},Ev={...hV,...dV,zIndex:Q1,size:Te,fillOpacity:Ec,strokeOpacity:Ec,numOctaves:Q1},fV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pV=Wl.length;function mV(n,e,t){let i="",r=!0;for(let a=0;a<pV;a++){const l=Wl[a],c=n[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||t){const p=XI(c,Ev[l]);if(!d){r=!1;const m=fV[l]||l;i+=`${m}(${p}) `}t&&(e[l]=p)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function Tv(n,e,t){const{style:i,vars:r,transformOrigin:a}=n;let l=!1,c=!1;for(const d in e){const p=e[d];if(na.has(d)){l=!0;continue}else if(YI(d)){r[d]=p;continue}else{const m=XI(p,Ev[d]);d.startsWith("origin")?(c=!0,a[d]=m):i[d]=m}}if(e.transform||(l||t?i.transform=mV(e,n.transform,t):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;i.transformOrigin=`${d} ${p} ${m}`}}const gV={offset:"stroke-dashoffset",array:"stroke-dasharray"},yV={offset:"strokeDashoffset",array:"strokeDasharray"};function vV(n,e,t=1,i=0,r=!0){n.pathLength=1;const a=r?gV:yV;n[a.offset]=Te.transform(-i);const l=Te.transform(e),c=Te.transform(t);n[a.array]=`${l} ${c}`}function Y1(n,e,t){return typeof n=="string"?n:Te.transform(e+t*n)}function _V(n,e,t){const i=Y1(e,n.x,n.width),r=Y1(t,n.y,n.height);return`${i} ${r}`}function xv(n,{attrX:e,attrY:t,attrScale:i,originX:r,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},m,v){if(Tv(n,p,v),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:w,style:x,dimensions:P}=n;w.transform&&(P&&(x.transform=w.transform),delete w.transform),P&&(r!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=_V(P,r!==void 0?r:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),t!==void 0&&(w.y=t),i!==void 0&&(w.scale=i),l!==void 0&&vV(w,l,c,d,!1)}const Sv=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),JI=()=>({...Sv(),attrs:{}}),Iv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function ZI(n,{style:e,vars:t},i,r){Object.assign(n.style,e,r&&r.getProjectionStyles(i));for(const a in t)n.style.setProperty(a,t[a])}const eb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tb(n,e,t,i){ZI(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(eb.has(r)?r:gv(r),e.attrs[r])}const cf={};function wV(n){Object.assign(cf,n)}function nb(n,{layout:e,layoutId:t}){return na.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!cf[n]||n==="opacity")}function bv(n,e,t){var i;const{style:r}=n,a={};for(const l in r)(un(r[l])||e.style&&un(e.style[l])||nb(l,n)||((i=t?.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[l]=r[l]);return a}function ib(n,e,t){const i=bv(n,e,t);for(const r in n)if(un(n[r])||un(e[r])){const a=Wl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[a]=n[r]}return i}function EV(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const X1=["x","y","width","height","cx","cy","r"],TV={useVisualState:KI({scrapeMotionValuesFromProps:ib,createRenderState:JI,onUpdate:({props:n,prevProps:e,current:t,renderState:i,latestValues:r})=>{if(!t)return;let a=!!n.drag;if(!a){for(const c in r)if(na.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<X1.length;c++){const d=X1[c];n[d]!==e[d]&&(l=!0)}l&&st.read(()=>{EV(t,i),st.render(()=>{xv(i,r,Iv(t.tagName),n.transformTemplate),tb(t,i)})})}})},xV={useVisualState:KI({scrapeMotionValuesFromProps:bv,createRenderState:Sv})};function rb(n,e,t){for(const i in e)!un(e[i])&&!nb(i,t)&&(n[i]=e[i])}function SV({transformTemplate:n},e){return Z.useMemo(()=>{const t=Sv();return Tv(t,e,n),Object.assign({},t.vars,t.style)},[e])}function IV(n,e){const t=n.style||{},i={};return rb(i,t,n),Object.assign(i,SV(n,e)),i}function bV(n,e){const t={},i=IV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}function PV(n,e,t,i){const r=Z.useMemo(()=>{const a=JI();return xv(a,e,Iv(i),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};rb(a,n.style,n),r.style={...a,...r.style}}return r}function CV(n=!1){return(t,i,r,{latestValues:a},l)=>{const d=(vv(t)?PV:bV)(i,a,l,t),p=$M(i,typeof t=="string",n),m=t!==Z.Fragment?{...p,...d,ref:r}:{},{children:v}=i,w=Z.useMemo(()=>un(v)?v.get():v,[v]);return Z.createElement(t,{...m,children:w})}}function kV(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...vv(i)?TV:xV,preloadedFeatures:n,useRender:CV(r),createVisualElement:e,Component:i};return JM(l)}}function sb(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}function Qf(n,e,t){const i=n.getProps();return _v(i,e,t!==void 0?t:i.custom,n)}const AV=dv(()=>window.ScrollTimeline!==void 0);class RV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=t}attachTimeline(e,t){const i=this.animations.map(r=>{if(AV()&&r.attachTimeline)return r.attachTimeline(e);if(typeof t=="function")return t(r)});return()=>{i.forEach((r,a)=>{r&&r(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class DV extends RV{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Pv(n,e){return n?n[e]||n.default||n:void 0}const Kg=2e4;function ob(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Kg;)e+=t,i=n.next(e);return e>=Kg?1/0:e}function Cv(n){return typeof n=="function"}function J1(n,e){n.timeline=e,n.onfinish=null}const kv=n=>Array.isArray(n)&&typeof n[0]=="number",MV={linearEasing:void 0};function VV(n,e){const t=dv(n);return()=>{var i;return(i=MV[e])!==null&&i!==void 0?i:t()}}const hf=VV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ab=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let a=0;a<r;a++)i+=n(Al(0,r-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function lb(n){return!!(typeof n=="function"&&hf()||!n||typeof n=="string"&&(n in Qg||hf())||kv(n)||Array.isArray(n)&&n.every(lb))}const Xu=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,Qg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xu([0,.65,.55,1]),circOut:Xu([.55,0,1,.45]),backIn:Xu([.31,.01,.66,-.59]),backOut:Xu([.33,1.53,.69,.99])};function ub(n,e){if(n)return typeof n=="function"&&hf()?ab(n,e):kv(n)?Xu(n):Array.isArray(n)?n.map(t=>ub(t,e)||Qg.easeOut):Qg[n]}const bi={x:!1,y:!1};function cb(){return bi.x||bi.y}function hb(n,e,t){var i;if(n instanceof Element)return[n];if(typeof n=="string"){let r=document;const a=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function db(n,e){const t=hb(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function Z1(n){return e=>{e.pointerType==="touch"||cb()||n(e)}}function OV(n,e,t={}){const[i,r,a]=db(n,t),l=Z1(c=>{const{target:d}=c,p=e(c);if(typeof p!="function"||!d)return;const m=Z1(v=>{p(v),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,r)});return i.forEach(c=>{c.addEventListener("pointerenter",l,r)}),a}const fb=(n,e)=>e?n===e?!0:fb(n,e.parentElement):!1,Av=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,NV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function LV(n){return NV.has(n.tagName)||n.tabIndex!==-1}const Ju=new WeakSet;function eE(n){return e=>{e.key==="Enter"&&n(e)}}function Wm(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const FV=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=eE(()=>{if(Ju.has(t))return;Wm(t,"down");const r=eE(()=>{Wm(t,"up")}),a=()=>Wm(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function tE(n){return Av(n)&&!cb()}function jV(n,e,t={}){const[i,r,a]=db(n,t),l=c=>{const d=c.currentTarget;if(!tE(c)||Ju.has(d))return;Ju.add(d);const p=e(c),m=(x,P)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),!(!tE(x)||!Ju.has(d))&&(Ju.delete(d),typeof p=="function"&&p(x,{success:P}))},v=x=>{m(x,t.useGlobalTarget||fb(d,x.target))},w=x=>{m(x,!1)};window.addEventListener("pointerup",v,r),window.addEventListener("pointercancel",w,r)};return i.forEach(c=>{!LV(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(t.useGlobalTarget?window:c).addEventListener("pointerdown",l,r),c.addEventListener("focus",p=>FV(p,r),r)}),a}function zV(n){return n==="x"||n==="y"?bi[n]?null:(bi[n]=!0,()=>{bi[n]=!1}):bi.x||bi.y?null:(bi.x=bi.y=!0,()=>{bi.x=bi.y=!1})}const pb=new Set(["width","height","top","left","right","bottom",...Wl]);let Ld;function UV(){Ld=void 0}const or={now:()=>(Ld===void 0&&or.set(Kt.isProcessing||LM.useManualTiming?Kt.timestamp:performance.now()),Ld),set:n=>{Ld=n,queueMicrotask(UV)}};function Rv(n,e){n.indexOf(e)===-1&&n.push(e)}function Dv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Mv{constructor(){this.subscriptions=[]}add(e){return Rv(this.subscriptions,e),()=>Dv(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function mb(n,e){return e?n*(1e3/e):0}const nE=30,BV=n=>!isNaN(parseFloat(n));class $V{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const a=or.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Mv);const i=this.events[e].add(t);return e==="change"?()=>{i(),st.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nE)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,nE);return mb(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tc(n,e){return new $V(n,e)}function HV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Tc(t))}function qV(n,e){const t=Qf(n,e);let{transitionEnd:i={},transition:r={},...a}=t||{};a={...a,...i};for(const l in a){const c=rV(a[l]);HV(n,l,c)}}function WV(n){return!!(un(n)&&n.add)}function Yg(n,e){const t=n.getValue("willChange");if(WV(t))return t.add(e)}function gb(n){return n.props[qI]}const yb=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,GV=1e-7,KV=12;function QV(n,e,t,i,r){let a,l,c=0;do l=e+(t-e)/2,a=yb(l,i,r)-n,a>0?t=l:e=l;while(Math.abs(a)>GV&&++c<KV);return l}function zc(n,e,t,i){if(n===e&&t===i)return Bn;const r=a=>QV(a,0,1,n,t);return a=>a===0||a===1?a:yb(r(a),e,i)}const vb=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,_b=n=>e=>1-n(1-e),wb=zc(.33,1.53,.69,.99),Vv=_b(wb),Eb=vb(Vv),Tb=n=>(n*=2)<1?.5*Vv(n):.5*(2-Math.pow(2,-10*(n-1))),Ov=n=>1-Math.sin(Math.acos(n)),xb=_b(Ov),Sb=vb(Ov),Ib=n=>/^0[^.\s]+$/u.test(n);function YV(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Ib(n):!0}const oc=n=>Math.round(n*1e5)/1e5,Nv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XV(n){return n==null}const JV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lv=(n,e)=>t=>!!(typeof t=="string"&&JV.test(t)&&t.startsWith(n)||e&&!XV(t)&&Object.prototype.hasOwnProperty.call(t,e)),bb=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,a,l,c]=i.match(Nv);return{[n]:parseFloat(r),[e]:parseFloat(a),[t]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},ZV=n=>Br(0,255,n),Gm={...Gl,transform:n=>Math.round(ZV(n))},Mo={test:Lv("rgb","red"),parse:bb("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Gm.transform(n)+", "+Gm.transform(e)+", "+Gm.transform(t)+", "+oc(Ec.transform(i))+")"};function eO(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Xg={test:Lv("#"),parse:eO,transform:Mo.transform},sl={test:Lv("hsl","hue"),parse:bb("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+sr.transform(oc(e))+", "+sr.transform(oc(t))+", "+oc(Ec.transform(i))+")"},sn={test:n=>Mo.test(n)||Xg.test(n)||sl.test(n),parse:n=>Mo.test(n)?Mo.parse(n):sl.test(n)?sl.parse(n):Xg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Mo.transform(n):sl.transform(n)},tO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function nO(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Nv))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(tO))===null||t===void 0?void 0:t.length)||0)>0}const Pb="number",Cb="color",iO="var",rO="var(",iE="${}",sO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xc(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let a=0;const c=e.replace(sO,d=>(sn.test(d)?(i.color.push(a),r.push(Cb),t.push(sn.parse(d))):d.startsWith(rO)?(i.var.push(a),r.push(iO),t.push(d)):(i.number.push(a),r.push(Pb),t.push(parseFloat(d))),++a,iE)).split(iE);return{values:t,split:c,indexes:i,types:r}}function kb(n){return xc(n).values}function Ab(n){const{split:e,types:t}=xc(n),i=e.length;return r=>{let a="";for(let l=0;l<i;l++)if(a+=e[l],r[l]!==void 0){const c=t[l];c===Pb?a+=oc(r[l]):c===Cb?a+=sn.transform(r[l]):a+=r[l]}return a}}const oO=n=>typeof n=="number"?0:n;function aO(n){const e=kb(n);return Ab(n)(e.map(oO))}const zs={test:nO,parse:kb,createTransformer:Ab,getAnimatableNone:aO},lO=new Set(["brightness","contrast","saturate","opacity"]);function uO(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(Nv)||[];if(!i)return n;const r=t.replace(i,"");let a=lO.has(e)?1:0;return i!==t&&(a*=100),e+"("+a+r+")"}const cO=/\b([a-z-]*)\(.*?\)/gu,Jg={...zs,getAnimatableNone:n=>{const e=n.match(cO);return e?e.map(uO).join(" "):n}},hO={...Ev,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Jg,WebkitFilter:Jg},Fv=n=>hO[n];function Rb(n,e){let t=Fv(n);return t!==Jg&&(t=zs),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const dO=new Set(["auto","none","0"]);function fO(n,e,t){let i=0,r;for(;i<n.length&&!r;){const a=n[i];typeof a=="string"&&!dO.has(a)&&xc(a).values.length&&(r=n[i]),i++}if(r&&t)for(const a of e)n[a]=Rb(t,r)}const rE=n=>n===Gl||n===Te,sE=(n,e)=>parseFloat(n.split(", ")[e]),oE=(n,e)=>(t,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return sE(r[1],e);{const a=i.match(/^matrix\((.+)\)$/u);return a?sE(a[1],n):0}},pO=new Set(["x","y","z"]),mO=Wl.filter(n=>!pO.has(n));function gO(n){const e=[];return mO.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Dl={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:oE(4,13),y:oE(5,14)};Dl.translateX=Dl.x;Dl.translateY=Dl.y;const jo=new Set;let Zg=!1,ey=!1;function Db(){if(ey){const n=Array.from(jo).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=gO(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([a,l])=>{var c;(c=i.getValue(a))===null||c===void 0||c.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}ey=!1,Zg=!1,jo.forEach(n=>n.complete()),jo.clear()}function Mb(){jo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(ey=!0)})}function yO(){Mb(),Db()}class jv{constructor(e,t,i,r,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(jo.add(this),Zg||(Zg=!0,st.read(Mb),st.resolveKeyframes(Db))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=r?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&t){const d=i.readValue(t,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),r&&l===void 0&&r.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),jo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,jo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Vb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),vO=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _O(n){const e=vO.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function Ob(n,e,t=1){const[i,r]=_O(n);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const l=a.trim();return Vb(l)?parseFloat(l):l}return wv(r)?Ob(r,e,t+1):r}const Nb=n=>e=>e.test(n),wO={test:n=>n==="auto",parse:n=>n},Lb=[Gl,Te,sr,gs,cV,uV,wO],aE=n=>Lb.find(Nb(n));class Fb extends jv{constructor(e,t,i,r,a){super(e,t,i,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),wv(p))){const m=Ob(p,t.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!pb.has(i)||e.length!==2)return;const[r,a]=e,l=aE(r),c=aE(a);if(l!==c)if(rE(l)&&rE(c))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)YV(e[r])&&i.push(r);i.length&&fO(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dl[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:i,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(i);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Dl[i](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const lE=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(zs.test(n)||n==="0")&&!n.startsWith("url("));function EO(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function TO(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],l=lE(r,e),c=lE(a,e);return!l||!c?!1:EO(n)||(t==="spring"||Cv(t))&&i}const xO=n=>n!==null;function Yf(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(xO),a=e&&t!=="loop"&&e%2===1?0:r.length-1;return!a||i===void 0?r[a]:i}const SO=40;class jb{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=or.now(),this.options={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>SO?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&yO(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=or.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!TO(e,i,r,a))if(l)this.options.duration=0;else{d&&d(Yf(e,this.options,t)),c&&c(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,t);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...m},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ct=(n,e,t)=>n+(e-n)*t;function Km(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function IO({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,a=0,l=0;if(!e)r=a=l=t;else{const c=t<.5?t*(1+e):t+e-t*e,d=2*t-c;r=Km(d,c,n+1/3),a=Km(d,c,n),l=Km(d,c,n-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:i}}function df(n,e){return t=>t>0?e:n}const Qm=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},bO=[Xg,Mo,sl],PO=n=>bO.find(e=>e.test(n));function uE(n){const e=PO(n);if(!e)return!1;let t=e.parse(n);return e===sl&&(t=IO(t)),t}const cE=(n,e)=>{const t=uE(n),i=uE(e);if(!t||!i)return df(n,e);const r={...t};return a=>(r.red=Qm(t.red,i.red,a),r.green=Qm(t.green,i.green,a),r.blue=Qm(t.blue,i.blue,a),r.alpha=ct(t.alpha,i.alpha,a),Mo.transform(r))},CO=(n,e)=>t=>e(n(t)),Uc=(...n)=>n.reduce(CO),ty=new Set(["none","hidden"]);function kO(n,e){return ty.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function AO(n,e){return t=>ct(n,e,t)}function zv(n){return typeof n=="number"?AO:typeof n=="string"?wv(n)?df:sn.test(n)?cE:MO:Array.isArray(n)?zb:typeof n=="object"?sn.test(n)?cE:RO:df}function zb(n,e){const t=[...n],i=t.length,r=n.map((a,l)=>zv(a)(a,e[l]));return a=>{for(let l=0;l<i;l++)t[l]=r[l](a);return t}}function RO(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=zv(n[r])(n[r],e[r]));return r=>{for(const a in i)t[a]=i[a](r);return t}}function DO(n,e){var t;const i=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][r[l]],d=(t=n.values[c])!==null&&t!==void 0?t:0;i[a]=d,r[l]++}return i}const MO=(n,e)=>{const t=zs.createTransformer(e),i=xc(n),r=xc(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?ty.has(n)&&!r.values.length||ty.has(e)&&!i.values.length?kO(n,e):Uc(zb(DO(i,r),r.values),t):df(n,e)};function Ub(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ct(n,e,t):zv(n)(n,e)}const VO=5;function Bb(n,e,t){const i=Math.max(e-VO,0);return mb(t-n(i),e-i)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ym=.001;function OO({duration:n=mt.duration,bounce:e=mt.bounce,velocity:t=mt.velocity,mass:i=mt.mass}){let r,a,l=1-e;l=Br(mt.minDamping,mt.maxDamping,l),n=Br(mt.minDuration,mt.maxDuration,Nr(n)),l<1?(r=p=>{const m=p*l,v=m*n,w=m-t,x=ny(p,l),P=Math.exp(-v);return Ym-w/x*P},a=p=>{const v=p*l*n,w=v*t+t,x=Math.pow(l,2)*Math.pow(p,2)*n,P=Math.exp(-v),k=ny(Math.pow(p,2),l);return(-r(p)+Ym>0?-1:1)*((w-x)*P)/k}):(r=p=>{const m=Math.exp(-p*n),v=(p-t)*n+1;return-Ym+m*v},a=p=>{const m=Math.exp(-p*n),v=(t-p)*(n*n);return m*v});const c=5/n,d=LO(r,a,c);if(n=Or(n),isNaN(d))return{stiffness:mt.stiffness,damping:mt.damping,duration:n};{const p=Math.pow(d,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const NO=12;function LO(n,e,t){let i=t;for(let r=1;r<NO;r++)i=i-n(i)/e(i);return i}function ny(n,e){return n*Math.sqrt(1-e*e)}const FO=["duration","bounce"],jO=["stiffness","damping","mass"];function hE(n,e){return e.some(t=>n[t]!==void 0)}function zO(n){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...n};if(!hE(n,jO)&&hE(n,FO))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,a=2*Br(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:mt.mass,stiffness:r,damping:a}}else{const t=OO(n);e={...e,...t,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function $b(n=mt.visualDuration,e=mt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const a=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:m,duration:v,velocity:w,isResolvedFromDuration:x}=zO({...t,velocity:-Nr(t.velocity||0)}),P=w||0,k=p/(2*Math.sqrt(d*m)),b=l-a,F=Nr(Math.sqrt(d/m)),U=Math.abs(b)<5;i||(i=U?mt.restSpeed.granular:mt.restSpeed.default),r||(r=U?mt.restDelta.granular:mt.restDelta.default);let q;if(k<1){const Y=ny(F,k);q=ie=>{const D=Math.exp(-k*F*ie);return l-D*((P+k*F*b)/Y*Math.sin(Y*ie)+b*Math.cos(Y*ie))}}else if(k===1)q=Y=>l-Math.exp(-F*Y)*(b+(P+F*b)*Y);else{const Y=F*Math.sqrt(k*k-1);q=ie=>{const D=Math.exp(-k*F*ie),I=Math.min(Y*ie,300);return l-D*((P+k*F*b)*Math.sinh(I)+Y*b*Math.cosh(I))/Y}}const G={calculatedDuration:x&&v||null,next:Y=>{const ie=q(Y);if(x)c.done=Y>=v;else{let D=0;k<1&&(D=Y===0?Or(P):Bb(q,Y,ie));const I=Math.abs(D)<=i,A=Math.abs(l-ie)<=r;c.done=I&&A}return c.value=c.done?l:ie,c},toString:()=>{const Y=Math.min(ob(G),Kg),ie=ab(D=>G.next(Y*D).value,Y,30);return Y+"ms "+ie}};return G}function dE({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const v=n[0],w={done:!1,value:v},x=I=>c!==void 0&&I<c||d!==void 0&&I>d,P=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let k=t*e;const b=v+k,F=l===void 0?b:l(b);F!==b&&(k=F-v);const U=I=>-k*Math.exp(-I/i),q=I=>F+U(I),G=I=>{const A=U(I),V=q(I);w.done=Math.abs(A)<=p,w.value=w.done?F:V};let Y,ie;const D=I=>{x(w.value)&&(Y=I,ie=$b({keyframes:[w.value,P(w.value)],velocity:Bb(q,I,w.value),damping:r,stiffness:a,restDelta:p,restSpeed:m}))};return D(0),{calculatedDuration:null,next:I=>{let A=!1;return!ie&&Y===void 0&&(A=!0,G(I),D(I)),Y!==void 0&&I>=Y?ie.next(I-Y):(!A&&G(I),w)}}}const UO=zc(.42,0,1,1),BO=zc(0,0,.58,1),Hb=zc(.42,0,.58,1),$O=n=>Array.isArray(n)&&typeof n[0]!="number",HO={linear:Bn,easeIn:UO,easeInOut:Hb,easeOut:BO,circIn:Ov,circInOut:Sb,circOut:xb,backIn:Vv,backInOut:Eb,backOut:wb,anticipate:Tb},fE=n=>{if(kv(n)){UI(n.length===4);const[e,t,i,r]=n;return zc(e,t,i,r)}else if(typeof n=="string")return HO[n];return n};function qO(n,e,t){const i=[],r=t||Ub,a=n.length-1;for(let l=0;l<a;l++){let c=r(n[l],n[l+1]);if(e){const d=Array.isArray(e)?e[l]||Bn:e;c=Uc(d,c)}i.push(c)}return i}function WO(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const a=n.length;if(UI(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=qO(e,i,r),d=c.length,p=m=>{if(l&&m<n[0])return e[0];let v=0;if(d>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const w=Al(n[v],n[v+1],m);return c[v](w)};return t?m=>p(Br(n[0],n[a-1],m)):p}function GO(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=Al(0,e,i);n.push(ct(t,1,r))}}function KO(n){const e=[0];return GO(e,n.length-1),e}function QO(n,e){return n.map(t=>t*e)}function YO(n,e){return n.map(()=>e||Hb).splice(0,n.length-1)}function ff({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=$O(i)?i.map(fE):fE(i),a={done:!1,value:e[0]},l=QO(t&&t.length===e.length?t:KO(e),n),c=WO(l,e,{ease:Array.isArray(r)?r:YO(e,r)});return{calculatedDuration:n,next:d=>(a.value=c(d),a.done=d>=n,a)}}const XO=n=>{const e=({timestamp:t})=>n(t);return{start:()=>st.update(e,!0),stop:()=>js(e),now:()=>Kt.isProcessing?Kt.timestamp:or.now()}},JO={decay:dE,inertia:dE,tween:ff,keyframes:ff,spring:$b},ZO=n=>n/100;class Uv extends jb{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:t,motionValue:i,element:r,keyframes:a}=this.options,l=r?.KeyframeResolver||jv,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,t,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=this.options,c=Cv(t)?t:JO[t]||ff;let d,p;c!==ff&&typeof e[0]!="number"&&(d=Uc(ZO,Ub(e[0],e[1])),e=[0,100]);const m=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=ob(m));const{calculatedDuration:v}=m,w=v+r,x=w*(i+1)-r;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:v,resolvedDuration:w,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:r,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=i;if(this.startTime===null)return a.next(0);const{delay:w,repeat:x,repeatType:P,repeatDelay:k,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-w*(this.speed>=0?1:-1),U=this.speed>=0?F<0:F>m;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let q=this.currentTime,G=a;if(x){const I=Math.min(this.currentTime,m)/v;let A=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&A--,A=Math.min(A,x+1),!!(A%2)&&(P==="reverse"?(V=1-V,k&&(V-=k/v)):P==="mirror"&&(G=l)),q=Br(0,1,V)*v}const Y=U?{done:!1,value:d[0]}:G.next(q);c&&(Y.value=c(Y.value));let{done:ie}=Y;!U&&p!==null&&(ie=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return D&&r!==void 0&&(Y.value=Yf(d,this.options,r)),b&&b(Y.value),D&&this.finish(),Y}get duration(){const{resolved:e}=this;return e?Nr(e.calculatedDuration):0}get time(){return Nr(this.currentTime)}set time(e){e=Or(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Nr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=XO,onPlay:t,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const eN=new Set(["opacity","clipPath","filter","transform"]);function tN(n,e,t,{delay:i=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[e]:t};d&&(p.offset=d);const m=ub(c,r);return Array.isArray(m)&&(p.easing=m),n.animate(p,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const nN=dv(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),pf=10,iN=2e4;function rN(n){return Cv(n.type)||n.type==="spring"||!lb(n.ease)}function sN(n,e){const t=new Uv({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const r=[];let a=0;for(;!i.done&&a<iN;)i=t.sample(a),r.push(i.value),a+=pf;return{times:void 0,keyframes:r,duration:a-pf,ease:"linear"}}const qb={anticipate:Tb,backInOut:Eb,circInOut:Sb};function oN(n){return n in qb}class pE extends jb{constructor(e){super(e);const{name:t,motionValue:i,element:r,keyframes:a}=this.options;this.resolver=new Fb(a,(l,c)=>this.onKeyframesResolved(l,c),t,i,r),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:i=300,times:r,ease:a,type:l,motionValue:c,name:d,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&hf()&&oN(a)&&(a=qb[a]),rN(this.options)){const{onComplete:v,onUpdate:w,motionValue:x,element:P,...k}=this.options,b=sN(e,k);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,r=b.times,a=b.ease,l="keyframes"}const m=tN(c.owner.current,d,e,{...this.options,duration:i,times:r,ease:a});return m.startTime=p??this.calcStartTime(),this.pendingTimeline?(J1(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:v}=this.options;c.set(Yf(e,this.options,t)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Nr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Nr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.currentTime=Or(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:i}=t;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return Bn;const{animation:i}=t;J1(i,e)}return Bn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:i,duration:r,type:a,ease:l,times:c}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:w,...x}=this.options,P=new Uv({...x,keyframes:i,duration:r,type:a,ease:l,times:c,isGenerator:!0}),k=Or(this.time);p.setWithVelocity(P.sample(k-pf).value,P.sample(k).value,pf)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:i,repeatDelay:r,repeatType:a,damping:l,type:c}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=t.owner.getProps();return nN()&&i&&eN.has(i)&&!d&&!p&&!r&&a!=="mirror"&&l!==0&&c!=="inertia"}}const aN={type:"spring",stiffness:500,damping:25,restSpeed:10},lN=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),uN={type:"keyframes",duration:.8},cN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hN=(n,{keyframes:e})=>e.length>2?uN:na.has(n)?n.startsWith("scale")?lN(e[1]):aN:cN;function dN({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const Bv=(n,e,t,i={},r,a)=>l=>{const c=Pv(i,n)||{},d=c.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Or(d);let m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:a?void 0:r};dN(c)||(m={...m,...hN(n,m)}),m.duration&&(m.duration=Or(m.duration)),m.repeatDelay&&(m.repeatDelay=Or(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!a&&e.get()!==void 0){const w=Yf(m.keyframes,c);if(w!==void 0)return st.update(()=>{m.onUpdate(w),m.onComplete()}),new DV([])}return!a&&pE.supports(m)?new pE(m):new Uv(m)};function fN({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function Wb(n,e,{delay:t=0,transitionOverride:i,type:r}={}){var a;let{transition:l=n.getDefaultTransition(),transitionEnd:c,...d}=e;i&&(l=i);const p=[],m=r&&n.animationState&&n.animationState.getState()[r];for(const v in d){const w=n.getValue(v,(a=n.latestValues[v])!==null&&a!==void 0?a:null),x=d[v];if(x===void 0||m&&fN(m,v))continue;const P={delay:t,...Pv(l||{},v)};let k=!1;if(window.MotionHandoffAnimation){const F=gb(n);if(F){const U=window.MotionHandoffAnimation(F,v,st);U!==null&&(P.startTime=U,k=!0)}}Yg(n,v),w.start(Bv(v,w,x,n.shouldReduceMotion&&pb.has(v)?{type:!1}:P,n,k));const b=w.animation;b&&p.push(b)}return c&&Promise.all(p).then(()=>{st.update(()=>{c&&qV(n,c)})}),p}function iy(n,e,t={}){var i;const r=Qf(n,e,t.type==="exit"?(i=n.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(a=t.transitionOverride);const l=r?()=>Promise.all(Wb(n,r,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:w}=a;return pN(n,e,m+p,v,w,t)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(t.delay)])}function pN(n,e,t=0,i=0,r=1,a){const l=[],c=(n.variantChildren.size-1)*i,d=r===1?(p=0)=>p*i:(p=0)=>c-p*i;return Array.from(n.variantChildren).sort(mN).forEach((p,m)=>{p.notify("AnimationStart",e),l.push(iy(p,e,{...a,delay:t+d(m)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function mN(n,e){return n.sortNodePosition(e)}function gN(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(a=>iy(n,a,t));i=Promise.all(r)}else if(typeof e=="string")i=iy(n,e,t);else{const r=typeof e=="function"?Qf(n,e,t.custom):e;i=Promise.all(Wb(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}const yN=mv.length;function Gb(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?Gb(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<yN;t++){const i=mv[t],r=n.props[i];(wc(r)||r===!1)&&(e[i]=r)}return e}const vN=[...pv].reverse(),_N=pv.length;function wN(n){return e=>Promise.all(e.map(({animation:t,options:i})=>gN(n,t,i)))}function EN(n){let e=wN(n),t=mE(),i=!0;const r=d=>(p,m)=>{var v;const w=Qf(n,m,d==="exit"?(v=n.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(w){const{transition:x,transitionEnd:P,...k}=w;p={...p,...k,...P}}return p};function a(d){e=d(n)}function l(d){const{props:p}=n,m=Gb(n.parent)||{},v=[],w=new Set;let x={},P=1/0;for(let b=0;b<_N;b++){const F=vN[b],U=t[F],q=p[F]!==void 0?p[F]:m[F],G=wc(q),Y=F===d?U.isActive:null;Y===!1&&(P=b);let ie=q===m[F]&&q!==p[F]&&G;if(ie&&i&&n.manuallyAnimateOnMount&&(ie=!1),U.protectedKeys={...x},!U.isActive&&Y===null||!q&&!U.prevProp||Gf(q)||typeof q=="boolean")continue;const D=TN(U.prevProp,q);let I=D||F===d&&U.isActive&&!ie&&G||b>P&&G,A=!1;const V=Array.isArray(q)?q:[q];let N=V.reduce(r(F),{});Y===!1&&(N={});const{prevResolvedValues:z={}}=U,M={...z,...N},Ue=Ie=>{I=!0,w.has(Ie)&&(A=!0,w.delete(Ie)),U.needsAnimating[Ie]=!0;const se=n.getValue(Ie);se&&(se.liveStyle=!1)};for(const Ie in M){const se=N[Ie],ge=z[Ie];if(x.hasOwnProperty(Ie))continue;let te=!1;Gg(se)&&Gg(ge)?te=!sb(se,ge):te=se!==ge,te?se!=null?Ue(Ie):w.add(Ie):se!==void 0&&w.has(Ie)?Ue(Ie):U.protectedKeys[Ie]=!0}U.prevProp=q,U.prevResolvedValues=N,U.isActive&&(x={...x,...N}),i&&n.blockInitialAnimation&&(I=!1),I&&(!(ie&&D)||A)&&v.push(...V.map(Ie=>({animation:Ie,options:{type:F}})))}if(w.size){const b={};w.forEach(F=>{const U=n.getBaseTarget(F),q=n.getValue(F);q&&(q.liveStyle=!0),b[F]=U??null}),v.push({animation:b})}let k=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function c(d,p){var m;if(t[d].isActive===p)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(w=>{var x;return(x=w.animationState)===null||x===void 0?void 0:x.setActive(d,p)}),t[d].isActive=p;const v=l(d);for(const w in t)t[w].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>t,reset:()=>{t=mE(),i=!0}}}function TN(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!sb(e,n):!1}function To(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mE(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class Hs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xN extends Hs{constructor(e){super(e),e.animationState||(e.animationState=EN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let SN=0;class IN extends Hs{constructor(){super(...arguments),this.id=SN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Kb={animation:{Feature:xN},exit:{Feature:IN}};function Sc(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Bc(n){return{point:{x:n.pageX,y:n.pageY}}}const bN=n=>e=>Av(e)&&n(e,Bc(e));function ac(n,e,t,i){return Sc(n,e,bN(t),i)}const gE=(n,e)=>Math.abs(n-e);function PN(n,e){const t=gE(n.x,e.x),i=gE(n.y,e.y);return Math.sqrt(t**2+i**2)}class Qb{constructor(e,t,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Jm(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=PN(v.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:P}=v,{timestamp:k}=Kt;this.history.push({...P,timestamp:k});const{onStart:b,onMove:F}=this.handlers;w||(b&&b(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Xm(w,this.transformPagePoint),st.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:x,onSessionEnd:P,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Jm(v.type==="pointercancel"?this.lastMoveEventInfo:Xm(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,b),P&&P(v,b)},!Av(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=i,this.contextWindow=r||window;const l=Bc(e),c=Xm(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=Kt;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=t;m&&m(e,Jm(c,this.history)),this.removeListeners=Uc(ac(this.contextWindow,"pointermove",this.handlePointerMove),ac(this.contextWindow,"pointerup",this.handlePointerUp),ac(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),js(this.updatePoint)}}function Xm(n,e){return e?{point:e(n.point)}:n}function yE(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Jm({point:n},e){return{point:n,delta:yE(n,Yb(e)),offset:yE(n,CN(e)),velocity:kN(e,.1)}}function CN(n){return n[0]}function Yb(n){return n[n.length-1]}function kN(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=Yb(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>Or(e)));)t--;if(!i)return{x:0,y:0};const a=Nr(r.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-i.x)/a,y:(r.y-i.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const Xb=1e-4,AN=1-Xb,RN=1+Xb,Jb=.01,DN=0-Jb,MN=0+Jb;function qn(n){return n.max-n.min}function VN(n,e,t){return Math.abs(n-e)<=t}function vE(n,e,t,i=.5){n.origin=i,n.originPoint=ct(e.min,e.max,n.origin),n.scale=qn(t)/qn(e),n.translate=ct(t.min,t.max,n.origin)-n.originPoint,(n.scale>=AN&&n.scale<=RN||isNaN(n.scale))&&(n.scale=1),(n.translate>=DN&&n.translate<=MN||isNaN(n.translate))&&(n.translate=0)}function lc(n,e,t,i){vE(n.x,e.x,t.x,i?i.originX:void 0),vE(n.y,e.y,t.y,i?i.originY:void 0)}function _E(n,e,t){n.min=t.min+e.min,n.max=n.min+qn(e)}function ON(n,e,t){_E(n.x,e.x,t.x),_E(n.y,e.y,t.y)}function wE(n,e,t){n.min=e.min-t.min,n.max=n.min+qn(e)}function uc(n,e,t){wE(n.x,e.x,t.x),wE(n.y,e.y,t.y)}function NN(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ct(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ct(t,n,i.max):Math.min(n,t)),n}function EE(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function LN(n,{top:e,left:t,bottom:i,right:r}){return{x:EE(n.x,t,r),y:EE(n.y,e,i)}}function TE(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function FN(n,e){return{x:TE(n.x,e.x),y:TE(n.y,e.y)}}function jN(n,e){let t=.5;const i=qn(n),r=qn(e);return r>i?t=Al(e.min,e.max-i,n.min):i>r&&(t=Al(n.min,n.max-r,e.min)),Br(0,1,t)}function zN(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ry=.35;function UN(n=ry){return n===!1?n=0:n===!0&&(n=ry),{x:xE(n,"left","right"),y:xE(n,"top","bottom")}}function xE(n,e,t){return{min:SE(n,e),max:SE(n,t)}}function SE(n,e){return typeof n=="number"?n:n[e]||0}const IE=()=>({translate:0,scale:1,origin:0,originPoint:0}),ol=()=>({x:IE(),y:IE()}),bE=()=>({min:0,max:0}),_t=()=>({x:bE(),y:bE()});function si(n){return[n("x"),n("y")]}function Zb({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function BN({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $N(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Zm(n){return n===void 0||n===1}function sy({scale:n,scaleX:e,scaleY:t}){return!Zm(n)||!Zm(e)||!Zm(t)}function ko(n){return sy(n)||eP(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function eP(n){return PE(n.x)||PE(n.y)}function PE(n){return n&&n!=="0%"}function mf(n,e,t){const i=n-t,r=e*i;return t+r}function CE(n,e,t,i,r){return r!==void 0&&(n=mf(n,r,i)),mf(n,t,i)+e}function oy(n,e=0,t=1,i,r){n.min=CE(n.min,e,t,i,r),n.max=CE(n.max,e,t,i,r)}function tP(n,{x:e,y:t}){oy(n.x,e.translate,e.scale,e.originPoint),oy(n.y,t.translate,t.scale,t.originPoint)}const kE=.999999999999,AE=1.0000000000001;function HN(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let a,l;for(let c=0;c<r;c++){a=t[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ll(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,tP(n,l)),i&&ko(a.latestValues)&&ll(n,a.latestValues))}e.x<AE&&e.x>kE&&(e.x=1),e.y<AE&&e.y>kE&&(e.y=1)}function al(n,e){n.min=n.min+e,n.max=n.max+e}function RE(n,e,t,i,r=.5){const a=ct(n.min,n.max,r);oy(n,e,t,a,i)}function ll(n,e){RE(n.x,e.x,e.scaleX,e.scale,e.originX),RE(n.y,e.y,e.scaleY,e.scale,e.originY)}function nP(n,e){return Zb($N(n.getBoundingClientRect(),e))}function qN(n,e,t){const i=nP(n,t),{scroll:r}=e;return r&&(al(i.x,r.offset.x),al(i.y,r.offset.y)),i}const iP=({current:n})=>n?n.ownerDocument.defaultView:null,WN=new WeakMap;class GN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Bc(m).point)},a=(m,v)=>{const{drag:w,dragPropagation:x,onDragStart:P}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zV(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),si(b=>{let F=this.getAxisMotionValue(b).get()||0;if(sr.test(F)){const{projection:U}=this.visualElement;if(U&&U.layout){const q=U.layout.layoutBox[b];q&&(F=qn(q)*(parseFloat(F)/100))}}this.originPoint[b]=F}),P&&st.postRender(()=>P(m,v)),Yg(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:P,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=v;if(x&&this.currentDirection===null){this.currentDirection=KN(b),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",v.point,b),this.updateAxis("y",v.point,b),this.visualElement.render(),k&&k(m,v)},c=(m,v)=>this.stop(m,v),d=()=>si(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Qb(e,{onSessionStart:r,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:iP(this.visualElement)})}stop(e,t){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:a}=this.getProps();a&&st.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!md(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=NN(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&rl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=LN(r.layoutBox,t):this.constraints=!1,this.elastic=UN(i),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&si(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=zN(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!rl(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=qN(i,r.root,this.visualElement.getTransformPagePoint());let l=FN(r.layout.layoutBox,a);if(t){const c=t(BN(l));this.hasMutatedConstraints=!!c,c&&(l=Zb(c))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=si(m=>{if(!md(m,t,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const w=r?200:1e6,x=r?40:1e7,P={type:"inertia",velocity:i?e[m]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,P)});return Promise.all(p).then(c)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return Yg(this.visualElement,e),i.start(Bv(e,i,0,t,this.visualElement,!1))}stopAnimation(){si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){si(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){si(t=>{const{drag:i}=this.getProps();if(!md(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(t);if(r&&r.layout){const{min:l,max:c}=r.layout.layoutBox[t];a.set(e[t]-ct(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!rl(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};si(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();r[l]=jN({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),si(l=>{if(!md(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(ct(d,p,r[l]))})}addListeners(){if(!this.visualElement.current)return;WN.set(this.visualElement,this);const e=this.visualElement.current,t=ac(e,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();rl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),st.read(i);const l=Sc(window,"resize",()=>this.scalePositionWithinConstraints()),c=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(si(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),t(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=ry,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function md(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function KN(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class QN extends Hs{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new GN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const DE=n=>(e,t)=>{n&&st.postRender(()=>n(e,t))};class YN extends Hs{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new Qb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:DE(e),onStart:DE(t),onMove:i,onEnd:(a,l)=>{delete this.session,r&&st.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=ac(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ME(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $u={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Te.test(n))n=parseFloat(n);else return n;const t=ME(n,e.target.x),i=ME(n,e.target.y);return`${t}% ${i}%`}},XN={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=zs.parse(n);if(r.length>5)return i;const a=zs.createTransformer(n),l=typeof r[0]!="number"?1:0,c=t.x.scale*e.x,d=t.y.scale*e.y;r[0+l]/=c,r[1+l]/=d;const p=ct(c,d,.5);return typeof r[2+l]=="number"&&(r[2+l]/=p),typeof r[3+l]=="number"&&(r[3+l]/=p),a(r)}};class JN extends Z.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:a}=e;wV(ZN),a&&(t.group&&t.group.add(a),i&&i.register&&r&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:a}=this.props,l=i.projection;return l&&(l.isPresent=a,r||e.layoutDependency!==t||t===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||st.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yv.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rP(n){const[e,t]=jI(),i=Z.useContext(lv);return C.jsx(JN,{...n,layoutGroup:i,switchLayoutGroup:Z.useContext(WI),isPresent:e,safeToRemove:t})}const ZN={borderRadius:{...$u,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$u,borderTopRightRadius:$u,borderBottomLeftRadius:$u,borderBottomRightRadius:$u,boxShadow:XN};function e6(n,e,t){const i=un(n)?n:Tc(n);return i.start(Bv("",i,e,t)),i.animation}function t6(n){return n instanceof SVGElement&&n.tagName!=="svg"}const n6=(n,e)=>n.depth-e.depth;class i6{constructor(){this.children=[],this.isDirty=!1}add(e){Rv(this.children,e),this.isDirty=!0}remove(e){Dv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n6),this.isDirty=!1,this.children.forEach(e)}}function r6(n,e){const t=or.now(),i=({timestamp:r})=>{const a=r-t;a>=e&&(js(i),n(a-e))};return st.read(i,!0),()=>js(i)}const sP=["TopLeft","TopRight","BottomLeft","BottomRight"],s6=sP.length,VE=n=>typeof n=="string"?parseFloat(n):n,OE=n=>typeof n=="number"||Te.test(n);function o6(n,e,t,i,r,a){r?(n.opacity=ct(0,t.opacity!==void 0?t.opacity:1,a6(i)),n.opacityExit=ct(e.opacity!==void 0?e.opacity:1,0,l6(i))):a&&(n.opacity=ct(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,i));for(let l=0;l<s6;l++){const c=`border${sP[l]}Radius`;let d=NE(e,c),p=NE(t,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||OE(d)===OE(p)?(n[c]=Math.max(ct(VE(d),VE(p),i),0),(sr.test(p)||sr.test(d))&&(n[c]+="%")):n[c]=p}(e.rotate||t.rotate)&&(n.rotate=ct(e.rotate||0,t.rotate||0,i))}function NE(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const a6=oP(0,.5,xb),l6=oP(.5,.95,Bn);function oP(n,e,t){return i=>i<n?0:i>e?1:t(Al(n,e,i))}function LE(n,e){n.min=e.min,n.max=e.max}function ii(n,e){LE(n.x,e.x),LE(n.y,e.y)}function FE(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function jE(n,e,t,i,r){return n-=e,n=mf(n,1/t,i),r!==void 0&&(n=mf(n,1/r,i)),n}function u6(n,e=0,t=1,i=.5,r,a=n,l=n){if(sr.test(e)&&(e=parseFloat(e),e=ct(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=ct(a.min,a.max,i);n===a&&(c-=e),n.min=jE(n.min,e,t,c,r),n.max=jE(n.max,e,t,c,r)}function zE(n,e,[t,i,r],a,l){u6(n,e[t],e[i],e[r],e.scale,a,l)}const c6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function UE(n,e,t,i){zE(n.x,e,c6,t?t.x:void 0,i?i.x:void 0),zE(n.y,e,h6,t?t.y:void 0,i?i.y:void 0)}function BE(n){return n.translate===0&&n.scale===1}function aP(n){return BE(n.x)&&BE(n.y)}function $E(n,e){return n.min===e.min&&n.max===e.max}function d6(n,e){return $E(n.x,e.x)&&$E(n.y,e.y)}function HE(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function lP(n,e){return HE(n.x,e.x)&&HE(n.y,e.y)}function qE(n){return qn(n.x)/qn(n.y)}function WE(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class f6{constructor(){this.members=[]}add(e){Rv(this.members,e),e.scheduleRender()}remove(e){if(Dv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function p6(n,e,t){let i="";const r=n.x.translate/e.x,a=n.y.translate/e.y,l=t?.z||0;if((r||a||l)&&(i=`translate3d(${r}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:w,skewX:x,skewY:P}=t;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),x&&(i+=`skewX(${x}deg) `),P&&(i+=`skewY(${P}deg) `)}const c=n.x.scale*e.x,d=n.y.scale*e.y;return(c!==1||d!==1)&&(i+=`scale(${c}, ${d})`),i||"none"}const Ao={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Zu=typeof window<"u"&&window.MotionDebug!==void 0,eg=["","X","Y","Z"],m6={visibility:"hidden"},GE=1e3;let g6=0;function tg(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function uP(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=gb(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",st,!(r||a))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&uP(i)}function cP({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},c=e?.()){this.id=g6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Zu&&(Ao.totalNodes=Ao.resolvedTargetDeltas=Ao.recalculatedProjection=0),this.nodes.forEach(_6),this.nodes.forEach(S6),this.nodes.forEach(I6),this.nodes.forEach(w6),Zu&&window.MotionDebug.record(Ao)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new i6)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Mv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=t6(l),this.instance=l;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),n){let v;const w=()=>this.root.updateBlockedByResize=!1;n(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=r6(w,250),Fd.hasAnimatedSinceResize&&(Fd.hasAnimatedSinceResize=!1,this.nodes.forEach(QE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:w,hasRelativeTargetChanged:x,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||m.getDefaultTransition()||A6,{onLayoutAnimationStart:b,onLayoutAnimationComplete:F}=m.getProps(),U=!this.targetLayout||!lP(this.targetLayout,P)||x,q=!w&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||q||w&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,q);const G={...Pv(k,"layout"),onPlay:b,onComplete:F};(m.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else w||QE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KE);return}this.isUpdating||this.nodes.forEach(T6),this.isUpdating=!1,this.nodes.forEach(x6),this.nodes.forEach(y6),this.nodes.forEach(v6),this.clearAllSnapshots();const c=or.now();Kt.delta=Br(0,1e3/60,c-Kt.timestamp),Kt.timestamp=c,Kt.isProcessing=!0,Hm.update.process(Kt),Hm.preRender.process(Kt),Hm.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(E6),this.sharedNodes.forEach(P6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,st.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){st.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!aP(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||ko(this.latestValues)||m)&&(r(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),R6(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return _t();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(D6))){const{scroll:m}=this.root;m&&(al(d.x,m.offset.x),al(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=_t();if(ii(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:w}=m;m!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&ii(d,l),al(d.x,v.offset.x),al(d.y,v.offset.y))}return d}applyTransform(l,c=!1){const d=_t();ii(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&ll(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ko(m.latestValues)&&ll(d,m.latestValues)}return ko(this.latestValues)&&ll(d,this.latestValues),d}removeTransform(l){const c=_t();ii(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!ko(p.latestValues))continue;sy(p.latestValues)&&p.updateSnapshot();const m=_t(),v=p.measurePageBox();ii(m,v),UE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return ko(this.latestValues)&&UE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:w}=this.options;if(!(!this.layout||!(v||w))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),uc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ON(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),tP(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),uc(this.relativeTargetOrigin,this.target,x.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Zu&&Ao.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sy(this.parent.latestValues)||eP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;ii(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,x=this.treeScale.y;HN(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_t());const{target:P}=c;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FE(this.prevProjectionDelta.x,this.projectionDelta.x),FE(this.prevProjectionDelta.y,this.projectionDelta.y)),lc(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==x||!WE(this.projectionDelta.x,this.prevProjectionDelta.x)||!WE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),Zu&&Ao.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ol(),this.projectionDelta=ol(),this.projectionDeltaWithTransform=ol()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=ol();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=_t(),x=d?d.source:void 0,P=this.layout?this.layout.source:void 0,k=x!==P,b=this.getStack(),F=!b||b.members.length<=1,U=!!(k&&!F&&this.options.crossfade===!0&&!this.path.some(k6));this.animationProgress=0;let q;this.mixTargetDelta=G=>{const Y=G/1e3;YE(v.x,l.x,Y),YE(v.y,l.y,Y),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C6(this.relativeTarget,this.relativeTargetOrigin,w,Y),q&&d6(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=_t()),ii(q,this.relativeTarget)),k&&(this.animationValues=m,o6(m,p,this.latestValues,Y,U,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=st.update(()=>{Fd.hasAnimatedSinceResize=!0,this.currentAnimation=e6(0,GE,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&hP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||_t();const v=qn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const w=qn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}ii(c,d),ll(c,m),lc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f6),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&tg("z",l,p,this.animationValues);for(let m=0;m<eg.length;m++)tg(`rotate${eg[m]}`,l,p,this.animationValues),tg(`skew${eg[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return m6;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Nd(l?.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Nd(l?.pointerEvents)||""),this.hasProjected&&!ko(this.latestValues)&&(k.transform=m?m({},""):"none",this.hasProjected=!1),k}const w=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=p6(this.projectionDeltaWithTransform,this.treeScale,w),m&&(p.transform=m(w,p.transform));const{x,y:P}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${P.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(c=w.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=v===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const k in cf){if(w[k]===void 0)continue;const{correct:b,applyTo:F}=cf[k],U=p.transform==="none"?w[k]:b(w[k],v);if(F){const q=F.length;for(let G=0;G<q;G++)p[F[G]]=U}else p[k]=U}return this.options.layoutId&&(p.pointerEvents=v===this?Nd(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(KE),this.root.sharedNodes.clear()}}}function y6(n){n.updateLayout()}function v6(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?si(v=>{const w=l?t.measuredBox[v]:t.layoutBox[v],x=qn(w);w.min=i[v].min,w.max=w.min+x}):hP(a,t.layoutBox,i)&&si(v=>{const w=l?t.measuredBox[v]:t.layoutBox[v],x=qn(i[v]);w.max=w.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+x)});const c=ol();lc(c,i,t.layoutBox);const d=ol();l?lc(d,n.applyTransform(r,!0),t.measuredBox):lc(d,i,t.layoutBox);const p=!aP(c);let m=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:x}=v;if(w&&x){const P=_t();uc(P,t.layoutBox,w.layoutBox);const k=_t();uc(k,i,x.layoutBox),lP(P,k)||(m=!0),v.options.layoutRoot&&(n.relativeTarget=k,n.relativeTargetOrigin=P,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function _6(n){Zu&&Ao.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function w6(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function E6(n){n.clearSnapshot()}function KE(n){n.clearMeasurements()}function T6(n){n.isLayoutDirty=!1}function x6(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function QE(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function S6(n){n.resolveTargetDelta()}function I6(n){n.calcProjection()}function b6(n){n.resetSkewAndRotation()}function P6(n){n.removeLeadSnapshot()}function YE(n,e,t){n.translate=ct(e.translate,0,t),n.scale=ct(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function XE(n,e,t,i){n.min=ct(e.min,t.min,i),n.max=ct(e.max,t.max,i)}function C6(n,e,t,i){XE(n.x,e.x,t.x,i),XE(n.y,e.y,t.y,i)}function k6(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const A6={duration:.45,ease:[.4,0,.1,1]},JE=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ZE=JE("applewebkit/")&&!JE("chrome/")?Math.round:Bn;function eT(n){n.min=ZE(n.min),n.max=ZE(n.max)}function R6(n){eT(n.x),eT(n.y)}function hP(n,e,t){return n==="position"||n==="preserve-aspect"&&!VN(qE(e),qE(t),.2)}function D6(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const M6=cP({attachResizeListener:(n,e)=>Sc(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},dP=cP({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!ng.current){const n=new M6({});n.mount(window),n.setOptions({layoutScroll:!0}),ng.current=n}return ng.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),V6={pan:{Feature:YN},drag:{Feature:QN,ProjectionNode:dP,MeasureLayout:rP}};function tT(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,a=i[r];a&&st.postRender(()=>a(e,Bc(e)))}class O6 extends Hs{mount(){const{current:e}=this.node;e&&(this.unmount=OV(e,t=>(tT(this.node,t,"Start"),i=>tT(this.node,i,"End"))))}unmount(){}}class N6 extends Hs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uc(Sc(this.node.current,"focus",()=>this.onFocus()),Sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nT(n,e,t){const{props:i}=n;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),a=i[r];a&&st.postRender(()=>a(e,Bc(e)))}class L6 extends Hs{mount(){const{current:e}=this.node;e&&(this.unmount=jV(e,t=>(nT(this.node,t,"Start"),(i,{success:r})=>nT(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ay=new WeakMap,ig=new WeakMap,F6=n=>{const e=ay.get(n.target);e&&e(n)},j6=n=>{n.forEach(F6)};function z6({root:n,...e}){const t=n||document;ig.has(t)||ig.set(t,{});const i=ig.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(j6,{root:n,...e})),i[r]}function U6(n,e,t){const i=z6(e);return ay.set(n,t),i.observe(n),()=>{ay.delete(n),i.unobserve(n)}}const B6={some:0,all:1};class $6 extends Hs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:a}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:B6[r]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),w=p?m:v;w&&w(d)};return U6(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(H6(e,t))&&this.startObserver()}unmount(){}}function H6({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const fP={inView:{Feature:$6},tap:{Feature:L6},focus:{Feature:N6},hover:{Feature:O6}},q6={layout:{ProjectionNode:dP,MeasureLayout:rP}},ly={current:null},pP={current:!1};function W6(){if(pP.current=!0,!!hv)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>ly.current=n.matches;n.addListener(e),e()}else ly.current=!1}const G6=[...Lb,sn,zs],K6=n=>G6.find(Nb(n)),iT=new WeakMap;function Q6(n,e,t){for(const i in e){const r=e[i],a=t[i];if(un(r))n.addValue(i,r);else if(un(a))n.addValue(i,Tc(r,{owner:n}));else if(a!==r)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=n.getStaticValue(i);n.addValue(i,Tc(l!==void 0?l:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const rT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Y6{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=or.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,st.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:m}=l;this.onUpdate=m,this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Kf(t),this.isVariantNode=HI(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in w){const P=w[x];d[x]!==void 0&&un(P)&&P.set(d[x],!1)}}mount(e){this.current=e,iT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),pP.current||W6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ly.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){iT.delete(this.current),this.projection&&this.projection.unmount(),js(this.notifyUpdate),js(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=na.has(e),r=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&st.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rl){const t=Rl[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<rT.length;i++){const r=rT[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=e[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=Q6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Tc(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Vb(r)||Ib(r))?r=parseFloat(r):!K6(r)&&zs.test(t)&&(r=Rb(e,t)),this.setBaseTarget(e,un(r)?r.get():r)),un(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const l=_v(this.props,i,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);l&&(r=l[e])}if(i&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!un(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Mv),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class mP extends Y6{constructor(){super(...arguments),this.KeyframeResolver=Fb}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function X6(n){return window.getComputedStyle(n)}class J6 extends mP{constructor(){super(...arguments),this.type="html",this.renderInstance=ZI}readValueFromInstance(e,t){if(na.has(t)){const i=Fv(t);return i&&i.default||0}else{const i=X6(e),r=(YI(t)?i.getPropertyValue(t):i[t])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return nP(e,t)}build(e,t,i){Tv(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return bv(e,t,i)}}class Z6 extends mP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(na.has(t)){const i=Fv(t);return i&&i.default||0}return t=eb.has(t)?t:gv(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return ib(e,t,i)}build(e,t,i){xv(e,t,this.isSVGTag,i.transformTemplate)}renderInstance(e,t,i,r){tb(e,t,i,r)}mount(e){this.isSVGTag=Iv(e.tagName),super.mount(e)}}const gP=(n,e)=>vv(n)?new Z6(e):new J6(e,{allowProjection:n!==Z.Fragment}),eL=kV({...Kb,...fP,...V6,...q6},gP),Ke=HM(eL),tL={renderer:gP,...Kb,...fP},nL={some:0,all:1};function iL(n,e,{root:t,margin:i,amount:r="some"}={}){const a=hb(n),l=new WeakMap,c=p=>{p.forEach(m=>{const v=l.get(m.target);if(m.isIntersecting!==!!v)if(m.isIntersecting){const w=e(m);typeof w=="function"?l.set(m.target,w):d.unobserve(m.target)}else typeof v=="function"&&(v(m),l.delete(m.target))})},d=new IntersectionObserver(c,{root:t,rootMargin:i,threshold:typeof r=="number"?r:nL[r]});return a.forEach(p=>d.observe(p)),()=>d.disconnect()}function yP(n,{root:e,margin:t,amount:i,once:r=!1}={}){const[a,l]=Z.useState(!1);return Z.useEffect(()=>{if(!n.current||r&&a)return;const c=()=>(l(!0),r?void 0:()=>l(!1)),d={root:e&&e.current||void 0,margin:t,amount:i};return iL(n.current,c,d)},[e,n,t,r,i]),a}const rL=Xe.memo(()=>C.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[C.jsx("style",{children:`
            /* * Defines the keyframes for the rotation animation.
             * It smoothly rotates the element 360 degrees.
             */
            @keyframes move {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }

            /* * Styles the element that will be animated. It's made oversized
             * (150vmax) to ensure it covers the screen even on large displays.
             * The background is composed of two soft radial gradients to create
             * an abstract, nebula-like effect.
             */
            .gradient-bg {
                width: 150vmax;
                height: 150vmax;
                position: absolute;
                top: 50%;
                left: 50%;
                background: radial-gradient(circle, rgba(37, 99, 235, 0.15), transparent 50%),
                            radial-gradient(circle, rgba(29, 78, 216, 0.1), transparent 60%);
                animation: move 25s linear infinite;
                opacity: 0.5;
            }
        `}),C.jsx("div",{className:"gradient-bg"})]})),sT=Xe.memo(()=>C.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:C.jsxs("div",{className:"relative w-24 h-24",children:[C.jsx("style",{children:`
          /* Defines the main spinning animation for the rings */
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          /* Defines the pulsing animation for the central dot */
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
          }

          /* Base styles for the orbiting rings */
          .orb {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #2563eb; /* Primary blue color */
            animation: spin 1.5s linear infinite;
          }

          /* Second ring with a delayed animation and different color */
          .orb-2 {
            animation-delay: -0.5s;
            border-top-color: #1e3a8a; /* Darker blue */
          }

          /* Third ring with another delay and color for a layered effect */
          .orb-3 {
            animation-delay: -1s;
            border-top-color: #60a5fa; /* Lighter blue */
          }

          /* The central pulsing dot */
          .dot {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #2563eb;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            margin: -5px 0 0 -5px; /* Center the dot perfectly */
            animation: pulse 1.5s ease-in-out infinite;
          }
        `}),C.jsx("div",{className:"orb"}),C.jsx("div",{className:"orb orb-2"}),C.jsx("div",{className:"orb orb-3"}),C.jsx("div",{className:"dot"})]})})),qs=Xe.memo(()=>{const n=Z.useRef(null),e=yP(n,{once:!0,amount:.5});return C.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:C.jsx(Ke.div,{className:"h-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})}),sL=({href:n,label:e,children:t,onClick:i})=>C.jsxs("a",{href:n,onClick:i,className:"group relative flex items-center justify-center p-2 rounded-full text-gray-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300",children:[t,C.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-gray-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 group-hover:translate-x-0 translate-x-2 transition-all duration-300 pointer-events-none",children:e})]}),oL=Xe.memo(({isMobileMenuOpen:n,toggleMobileMenu:e,closeMobileMenu:t})=>{const i=r=>{r.preventDefault();const a=r.currentTarget.getAttribute("href"),l=document.querySelector(a);t(),l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)};return C.jsxs("header",{className:"bg-white/70 backdrop-blur-md fixed top-0 w-full z-50 border-b border-gray-200/80",children:[C.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[C.jsx(sL,{href:"#home",label:"Home",onClick:i,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),C.jsxs("div",{className:"hidden md:flex space-x-4 items-center font-medium text-[#4b5563]",children:[C.jsx("a",{href:"#about",onClick:i,className:"hover:text-[#2563eb] transition-colors",children:"About"}),C.jsx("a",{href:"#experience",onClick:i,className:"hover:text-[#2563eb] transition-colors",children:"Experience"}),C.jsx("a",{href:"#skills",onClick:i,className:"hover:text-[#2563eb] transition-colors",children:"Skills"}),C.jsx("a",{href:"#projects",onClick:i,className:"hover:text-[#2563eb] transition-colors",children:"Projects"}),C.jsx("a",{href:"#contact",onClick:i,className:"hover:text-[#2563eb] transition-colors",children:"Contact"})]}),C.jsx("div",{className:"md:hidden",children:C.jsx("button",{onClick:e,className:"text-[#4b5563] focus:outline-none",children:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),C.jsx(qf,{children:n&&C.jsxs(Ke.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-md px-6 py-4 space-y-3 text-[#4b5563] font-medium",children:[C.jsx("a",{href:"#about",onClick:i,className:"block hover:text-[#2563eb]",children:"About"}),C.jsx("a",{href:"#experience",onClick:i,className:"block hover:text-[#2563eb]",children:"Experience"}),C.jsx("a",{href:"#skills",onClick:i,className:"block hover:text-[#2563eb]",children:"Skills"}),C.jsx("a",{href:"#projects",onClick:i,className:"block hover:text-[#2563eb]",children:"Projects"}),C.jsx("a",{href:"#contact",onClick:i,className:"block hover:text-[#2563eb]",children:"Contact"})]})})]})});function Xf(n,e,t,i){return new(t||(t=Promise))(function(r,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function c(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){var m;p.done?r(p.value):(m=p.value,m instanceof t?m:new t(function(v){v(m)})).then(l,c)}d((i=i.apply(n,[])).next())})}function Rs(n,e){var t,i,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(d){return function(p){return function(m){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,i&&(r=2&m[0]?i.return:m[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,m[1])).done)return r;switch(i=0,r&&(m=[2&m[0],r.value]),m[0]){case 0:case 1:r=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,i=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(r=l.trys,!((r=r.length>0&&r[r.length-1])||m[0]!==6&&m[0]!==2)){l=0;continue}if(m[0]===3&&(!r||m[1]>r[0]&&m[1]<r[3])){l.label=m[1];break}if(m[0]===6&&l.label<r[1]){l.label=r[1],r=m;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(m);break}r[2]&&l.ops.pop(),l.trys.pop();continue}m=e.call(n,l)}catch(v){m=[6,v],i=0}finally{t=r=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([d,p])}}}function uy(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ki(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i,r,a=t.call(n),l=[];try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)l.push(i.value)}catch(c){r={error:c}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return l}function Xi(n,e,t){if(arguments.length===2)for(var i,r=0,a=e.length;r<a;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function oT(n,e,t,i,r){for(var a=[],l=5;l<arguments.length;l++)a[l-5]=arguments[l];return Xf(this,void 0,void 0,function(){var c,d,p,m,v,w;return Rs(this,function(x){switch(x.label){case 0:x.trys.push([0,12,13,14]),c=uy(a),d=c.next(),x.label=1;case 1:if(d.done)return[3,11];switch(p=d.value,typeof p){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,aL(n,e,p,t,i,r)];case 3:return x.sent(),[3,10];case 4:return[4,vP(p)];case 5:return x.sent(),[3,10];case 6:return[4,p.apply(void 0,Xi([n,e,t,i,r],ki(a),!1))];case 7:return x.sent(),[3,10];case 8:return[4,p];case 9:x.sent(),x.label=10;case 10:return d=c.next(),[3,1];case 11:return[3,14];case 12:return m=x.sent(),v={error:m},[3,14];case 13:try{d&&!d.done&&(w=c.return)&&w.call(c)}finally{if(v)throw v.error}return[7];case 14:return[2]}})})}function aL(n,e,t,i,r,a){return Xf(this,void 0,void 0,function(){var l,c;return Rs(this,function(d){switch(d.label){case 0:return l=n.textContent||"",c=function(p,m){var v=ki(m).slice(0);return Xi(Xi([],ki(p),!1),[NaN],!1).findIndex(function(w,x){return v[x]!==w})}(l,t),[4,lL(n,Xi(Xi([],ki(cL(l,e,c)),!1),ki(uL(t,e,c)),!1),i,r,a)];case 1:return d.sent(),[2]}})})}function vP(n){return Xf(this,void 0,void 0,function(){return Rs(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,n)})];case 1:return e.sent(),[2]}})})}function lL(n,e,t,i,r){return Xf(this,void 0,void 0,function(){var a,l,c,d,p,m,v,w,x,P,k,b,F;return Rs(this,function(U){switch(U.label){case 0:if(a=e,r){for(l=0,c=1;c<e.length;c++)if(d=ki([e[c-1],e[c]],2),p=d[0],(m=d[1]).length>p.length||m===""){l=c;break}a=e.slice(l,e.length)}U.label=1;case 1:U.trys.push([1,6,7,8]),v=uy(function(q){var G,Y,ie,D,I,A,V;return Rs(this,function(N){switch(N.label){case 0:G=function(z){return Rs(this,function(M){switch(M.label){case 0:return[4,{op:function(Ue){return requestAnimationFrame(function(){return Ue.textContent=z})},opCode:function(Ue){var gt=Ue.textContent||"";return z===""||gt.length>z.length?"DELETE":"WRITING"}}];case 1:return M.sent(),[2]}})},N.label=1;case 1:N.trys.push([1,6,7,8]),Y=uy(q),ie=Y.next(),N.label=2;case 2:return ie.done?[3,5]:(D=ie.value,[5,G(D)]);case 3:N.sent(),N.label=4;case 4:return ie=Y.next(),[3,2];case 5:return[3,8];case 6:return I=N.sent(),A={error:I},[3,8];case 7:try{ie&&!ie.done&&(V=Y.return)&&V.call(Y)}finally{if(A)throw A.error}return[7];case 8:return[2]}})}(a)),w=v.next(),U.label=2;case 2:return w.done?[3,5]:(x=w.value,P=x.opCode(n)==="WRITING"?t+t*(Math.random()-.5):i+i*(Math.random()-.5),x.op(n),[4,vP(P)]);case 3:U.sent(),U.label=4;case 4:return w=v.next(),[3,2];case 5:return[3,8];case 6:return k=U.sent(),b={error:k},[3,8];case 7:try{w&&!w.done&&(F=v.return)&&F.call(v)}finally{if(b)throw b.error}return[7];case 8:return[2]}})})}function uL(n,e,t){var i,r;return t===void 0&&(t=0),Rs(this,function(a){switch(a.label){case 0:i=e(n),r=i.length,a.label=1;case 1:return t<r?[4,i.slice(0,++t).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}function cL(n,e,t){var i,r;return t===void 0&&(t=0),Rs(this,function(a){switch(a.label){case 0:i=e(n),r=i.length,a.label=1;case 1:return r>t?[4,i.slice(0,--r).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}var hL="index-module_type__E-SaG";(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var dL=Z.memo(Z.forwardRef(function(n,e){var t=n.sequence,i=n.repeat,r=n.className,a=n.speed,l=a===void 0?40:a,c=n.deletionSpeed,d=n.omitDeletionAnimation,p=d!==void 0&&d,m=n.preRenderFirstString,v=m!==void 0&&m,w=n.wrapper,x=w===void 0?"span":w,P=n.splitter,k=P===void 0?function(te){return Xi([],ki(te),!1)}:P,b=n.cursor,F=b===void 0||b,U=n.style,q=function(te,j){var Q={};for(var ue in te)Object.prototype.hasOwnProperty.call(te,ue)&&j.indexOf(ue)<0&&(Q[ue]=te[ue]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function"){var Pe=0;for(ue=Object.getOwnPropertySymbols(te);Pe<ue.length;Pe++)j.indexOf(ue[Pe])<0&&Object.prototype.propertyIsEnumerable.call(te,ue[Pe])&&(Q[ue[Pe]]=te[ue[Pe]])}return Q}(n,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),G=q["aria-label"],Y=q["aria-hidden"],ie=q.role;c||(c=l);var D=new Array(2).fill(40);[l,c].forEach(function(te,j){switch(typeof te){case"number":D[j]=Math.abs(te-100);break;case"object":var Q=te.type,ue=te.value;if(typeof ue!="number")break;Q==="keyStrokeDelayInMs"&&(D[j]=ue)}});var I,A,V,N,z,M,Ue=D[0],gt=D[1],dt=function(te,j){j===void 0&&(j=null);var Q=Z.useRef(j);return Z.useEffect(function(){te&&(typeof te=="function"?te(Q.current):te.current=Q.current)},[te]),Q}(e),Ie=hL;I=r?"".concat(F?Ie+" ":"").concat(r):F?Ie:"",A=Z.useRef(function(){var te,j=t;i===1/0?te=oT:typeof i=="number"&&(j=Array(1+i).fill(t).flat());var Q=te?Xi(Xi([],ki(j),!1),[te],!1):Xi([],ki(j),!1);return oT.apply(void 0,Xi([dt.current,k,Ue,gt,p],ki(Q),!1)),function(){dt.current}}),V=Z.useRef(),N=Z.useRef(!1),z=Z.useRef(!1),M=ki(Z.useState(0),2)[1],N.current&&(z.current=!0),Z.useEffect(function(){return N.current||(V.current=A.current(),N.current=!0),M(function(te){return te+1}),function(){z.current&&V.current&&V.current()}},[]);var se=x,ge=v?t.find(function(te){return typeof te=="string"})||"":null;return Xe.createElement(se,{"aria-hidden":Y,"aria-label":G,role:ie,style:U,className:I,children:G?Xe.createElement("span",{"aria-hidden":"true",ref:dt,children:ge}):ge,ref:G?void 0:dt})}),function(n,e){return!0});const Vo="generated",fL="pointerdown",pL="pointerup",cy="pointerleave",mL="pointerout",Go="pointermove",gL="touchstart",aT="touchend",yL="touchmove",vL="touchcancel",_L="resize",wL="visibilitychange",ui="tsParticles - Error",xs=100,Vt=.5,cn=1e3,an={x:0,y:0,z:0},gd={a:1,b:0,c:0,d:1},Ml="random",jd="mid",hn=2,EL=Math.PI*hn,rg=60,_P="true",lT="false",sg="canvas",uT=0,kr=2,cT=4,TL=1,hT=1,dT=1,xL=4,wP=1,zd=255,Oo=360,hy=100,dy=100,fT=0,fy=0,SL=60,IL=0,gf=.25,pT=Vt+gf,mT=0,bL=1,PL=0,CL=0,kL=1,$v=1,AL=1,gT=1,yf=0,EP=1,RL=0,DL=120,ML=0,VL=0,OL=1e4,NL=0,LL=1,vf=0,TP=1,FL=1,jL=0,yT=1,zL=0,UL=0,vT=-gf,_T=1.5,wT=0,BL=1,$L=0,py=0,xP=1,HL=1,_f=1,qL=500,ET=50,WL=0,my=1,SP=0,TT=1,GL=0,xo=255,og=3,ag=6,KL=1,QL=1,YL=0,XL=0,JL=0,ZL=0;var Qt;(function(n){n.bottom="bottom",n.bottomLeft="bottom-left",n.bottomRight="bottom-right",n.left="left",n.none="none",n.right="right",n.top="top",n.topLeft="top-left",n.topRight="top-right",n.outside="outside",n.inside="inside"})(Qt||(Qt={}));function IP(n){return typeof n=="boolean"}function Us(n){return typeof n=="string"}function Bs(n){return typeof n=="number"}function ul(n){return typeof n=="object"&&n!==null}function ur(n){return Array.isArray(n)}function le(n){return n==null}class zn{constructor(e,t,i){if(this._updateFromAngle=(r,a)=>{this.x=Math.cos(r)*a,this.y=Math.sin(r)*a},!Bs(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:an.z}else if(e!==void 0&&t!==void 0)this.x=e,this.y=t,this.z=i??an.z;else throw new Error(`${ui} Vector3d not initialized correctly`)}static get origin(){return zn.create(an.x,an.y,an.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return zn.create(e.x,e.y,e.z)}static create(e,t,i){return new zn(e,t,i)}add(e){return zn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return zn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return zn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**kr+this.y**kr}mult(e){return zn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=vf&&this.multTo(wP/e)}rotate(e){return zn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),an.z)}setTo(e){this.x=e.x,this.y=e.y;const t=e;this.z=t.z?t.z:an.z}sub(e){return zn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class $t extends zn{constructor(e,t){super(e,t,an.z)}static get origin(){return $t.create(an.x,an.y)}static clone(e){return $t.create(e.x,e.y)}static create(e,t){return new $t(e,t)}}let e5=Math.random;const bP={nextFrame:n=>requestAnimationFrame(n),cancel:n=>cancelAnimationFrame(n)};function Qe(){return ci(e5(),0,1-Number.EPSILON)}function t5(n){return bP.nextFrame(n)}function n5(n){bP.cancel(n)}function ci(n,e,t){return Math.min(Math.max(n,e),t)}function lg(n,e,t,i){return Math.floor((n*t+e*i)/(t+i))}function Un(n){const e=Ji(n),t=0;let i=Jf(n);return e===i&&(i=t),Qe()*(e-i)+i}function ve(n){return Bs(n)?n:Un(n)}function Jf(n){return Bs(n)?n:n.min}function Ji(n){return Bs(n)?n:n.max}function $e(n,e){if(n===e||e===void 0&&Bs(n))return n;const t=Jf(n),i=Ji(n);return e!==void 0?{min:Math.min(t,e),max:Math.max(i,e)}:$e(t,i)}function Tn(n,e){const t=n.x-e.x,i=n.y-e.y,r=2;return{dx:t,dy:i,distance:Math.sqrt(t**r+i**r)}}function $n(n,e){return Tn(n,e).distance}function Ds(n){return n*Math.PI/180}function i5(n,e,t){if(Bs(n))return Ds(n);switch(n){case Qt.top:return-Math.PI*Vt;case Qt.topRight:return-Math.PI*gf;case Qt.right:return IL;case Qt.bottomRight:return Math.PI*gf;case Qt.bottom:return Math.PI*Vt;case Qt.bottomLeft:return Math.PI*pT;case Qt.left:return Math.PI;case Qt.topLeft:return-Math.PI*pT;case Qt.inside:return Math.atan2(t.y-e.y,t.x-e.x);case Qt.outside:return Math.atan2(e.y-t.y,e.x-t.x);default:return Qe()*EL}}function r5(n){const e=$t.origin;return e.length=1,e.angle=n,e}function xT(n,e,t,i){return $t.create(n.x*(t-i)/(t+i)+e.x*hn*i/(t+i),n.y)}function s5(n){return{x:n.position?.x??Qe()*n.size.width,y:n.position?.y??Qe()*n.size.height}}function PP(n){return n?n.endsWith("%")?parseFloat(n)/xs:parseFloat(n):1}var No;(function(n){n.auto="auto",n.increase="increase",n.decrease="decrease",n.random="random"})(No||(No={}));var It;(function(n){n.increasing="increasing",n.decreasing="decreasing"})(It||(It={}));var Ko;(function(n){n.none="none",n.max="max",n.min="min"})(Ko||(Ko={}));var Ve;(function(n){n.bottom="bottom",n.left="left",n.right="right",n.top="top"})(Ve||(Ve={}));var Vl;(function(n){n.precise="precise",n.percent="percent"})(Vl||(Vl={}));var yl;(function(n){n.max="max",n.min="min",n.random="random"})(yl||(yl={}));const o5={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function Qo(){return o5}function a5(n){const e=new Map;return(...t)=>{const i=JSON.stringify(t);if(e.has(i))return e.get(i);const r=n(...t);return e.set(i,r),r}}function ST(n){const e={bounced:!1},{pSide:t,pOtherSide:i,rectSide:r,rectOtherSide:a,velocity:l,factor:c}=n;return i.min<a.min||i.min>a.max||i.max<a.min||i.max>a.max||(t.max>=r.min&&t.max<=(r.max+r.min)*Vt&&l>mT||t.min<=r.max&&t.min>(r.max+r.min)*Vt&&l<mT)&&(e.velocity=l*-c,e.bounced=!0),e}function l5(n,e){const t=Wn(e,i=>n.matches(i));return ur(t)?t.some(i=>i):t}function Yo(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function u5(){return!Yo()&&typeof matchMedia<"u"}function CP(n){if(u5())return matchMedia(n)}function c5(n){if(!(Yo()||typeof IntersectionObserver>"u"))return new IntersectionObserver(n)}function h5(n){if(!(Yo()||typeof MutationObserver>"u"))return new MutationObserver(n)}function Et(n,e){return n===e||ur(e)&&e.indexOf(n)>-1}async function IT(n,e){try{await document.fonts.load(`${e??"400"} 36px '${n??"Verdana"}'`)}catch{}}function d5(n){return Math.floor(Qe()*n.length)}function Zf(n,e,t=!0){return n[e!==void 0&&t?e%n.length:d5(n)]}function Hv(n,e,t,i,r){return f5($c(n,i??0),e,t,r)}function f5(n,e,t,i){let r=!0;return(!i||i===Ve.bottom)&&(r=n.top<e.height+t.x),r&&(!i||i===Ve.left)&&(r=n.right>t.x),r&&(!i||i===Ve.right)&&(r=n.left<e.width+t.y),r&&(!i||i===Ve.top)&&(r=n.bottom>t.y),r}function $c(n,e){return{bottom:n.y+e,left:n.x-e,right:n.x+e,top:n.y-e}}function pn(n,...e){for(const t of e){if(t==null)continue;if(!ul(t)){n=t;continue}const i=Array.isArray(t);i&&(ul(n)||!n||!Array.isArray(n))?n=[]:!i&&(ul(n)||!n||Array.isArray(n))&&(n={});for(const r in t){if(r==="__proto__")continue;const a=t,l=a[r],c=n;c[r]=ul(l)&&Array.isArray(l)?l.map(d=>pn(c[r],d)):pn(c[r],l)}}return n}function qv(n,e){return!!RP(e,t=>t.enable&&Et(n,t.mode))}function Wv(n,e,t){Wn(e,i=>{const r=i.mode;i.enable&&Et(n,r)&&p5(i,t)})}function p5(n,e){const t=n.selectors;Wn(t,i=>{e(i,n)})}function kP(n,e){if(!(!e||!n))return RP(n,t=>l5(e,t.selectors))}function gy(n){return{position:n.getPosition(),radius:n.getRadius(),mass:n.getMass(),velocity:n.velocity,factor:$t.create(ve(n.options.bounce.horizontal.value),ve(n.options.bounce.vertical.value))}}function AP(n,e){const{x:t,y:i}=n.velocity.sub(e.velocity),[r,a]=[n.position,e.position],{dx:l,dy:c}=Tn(a,r);if(t*l+i*c<0)return;const p=-Math.atan2(c,l),m=n.mass,v=e.mass,w=n.velocity.rotate(p),x=e.velocity.rotate(p),P=xT(w,x,m,v),k=xT(x,w,m,v),b=P.rotate(-p),F=k.rotate(-p);n.velocity.x=b.x*n.factor.x,n.velocity.y=b.y*n.factor.y,e.velocity.x=F.x*e.factor.x,e.velocity.y=F.y*e.factor.y}function m5(n,e){const t=n.getPosition(),i=n.getRadius(),r=$c(t,i),a=n.options.bounce,l=ST({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:n.velocity.x,factor:ve(a.horizontal.value)});l.bounced&&(l.velocity!==void 0&&(n.velocity.x=l.velocity),l.position!==void 0&&(n.position.x=l.position));const c=ST({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:n.velocity.y,factor:ve(a.vertical.value)});c.bounced&&(c.velocity!==void 0&&(n.velocity.y=c.velocity),c.position!==void 0&&(n.position.y=c.position))}function Wn(n,e){return ur(n)?n.map((i,r)=>e(i,r)):e(n,0)}function li(n,e,t){return ur(n)?Zf(n,e,t):n}function RP(n,e){return ur(n)?n.find((i,r)=>e(i,r)):e(n,0)?n:void 0}function DP(n,e){const t=n.value,i=n.animation,r={delayTime:ve(i.delay)*cn,enable:i.enable,value:ve(n.value)*e,max:Ji(t)*e,min:Jf(t)*e,loops:0,maxLoops:ve(i.count),time:0},a=1;if(i.enable){switch(r.decay=a-ve(i.decay),i.mode){case No.increase:r.status=It.increasing;break;case No.decrease:r.status=It.decreasing;break;case No.random:r.status=Qe()>=Vt?It.increasing:It.decreasing;break}const l=i.mode===No.auto;switch(i.startValue){case yl.min:r.value=r.min,l&&(r.status=It.increasing);break;case yl.max:r.value=r.max,l&&(r.status=It.decreasing);break;case yl.random:default:r.value=Un(r),l&&(r.status=Qe()>=Vt?It.increasing:It.decreasing);break}}return r.initialValue=r.value,r}function g5(n,e){if(!(n.mode===Vl.percent)){const{mode:r,...a}=n;return a}return"x"in n?{x:n.x/xs*e.width,y:n.y/xs*e.height}:{width:n.width/xs*e.width,height:n.height/xs*e.height}}function MP(n,e){return g5(n,e)}function y5(n,e,t,i,r){switch(e){case Ko.max:t>=r&&n.destroy();break;case Ko.min:t<=i&&n.destroy();break}}function Gv(n,e,t,i,r){if(n.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const m=(e.velocity??0)*r.factor,v=e.min,w=e.max,x=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case It.increasing:e.value>=w?(t?e.status=It.decreasing:e.value-=w,e.loops||(e.loops=0),e.loops++):e.value+=m;break;case It.decreasing:e.value<=v?(t?e.status=It.increasing:e.value+=w,e.loops||(e.loops=0),e.loops++):e.value-=m}e.velocity&&x!==1&&(e.velocity*=x),y5(n,i,e.value,v,w),n.destroyed||(e.value=ci(e.value,v,w))}}function v5(n){const e=document.createElement("div").style;if(!n)return e;for(const t in n){const i=n[t];if(!Object.prototype.hasOwnProperty.call(n,t)||le(i))continue;const r=n.getPropertyValue?.(i);if(!r)continue;const a=n.getPropertyPriority?.(i);a?e.setProperty?.(i,r,a):e.setProperty?.(i,r)}return e}function _5(n){const e=document.createElement("div").style,t=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:n.toString(t),"z-index":n.toString(t),top:"0",left:"0"};for(const r in i){const a=i[r];e.setProperty(r,a)}return e}const w5=a5(_5);var yy;(function(n){n.darken="darken",n.enlighten="enlighten"})(yy||(yy={}));function E5(n,e){if(e){for(const t of n.colorManagers.values())if(e.startsWith(t.stringPrefix))return t.parseString(e)}}function Vi(n,e,t,i=!0){if(!e)return;const r=Us(e)?{value:e}:e;if(Us(r.value))return VP(n,r.value,t,i);if(ur(r.value))return Vi(n,{value:Zf(r.value,t,i)});for(const a of n.colorManagers.values()){const l=a.handleRangeColor(r);if(l)return l}}function VP(n,e,t,i=!0){if(!e)return;const r=Us(e)?{value:e}:e;if(Us(r.value))return r.value===Ml?NP():T5(n,r.value);if(ur(r.value))return VP(n,{value:Zf(r.value,t,i)});for(const a of n.colorManagers.values()){const l=a.handleColor(r);if(l)return l}}function Ic(n,e,t,i=!0){const r=Vi(n,e,t,i);return r?OP(r):void 0}function OP(n){const e=n.r/zd,t=n.g/zd,i=n.b/zd,r=Math.max(e,t,i),a=Math.min(e,t,i),l={h:fT,l:(r+a)*Vt,s:fy};return r!==a&&(l.s=l.l<Vt?(r-a)/(r+a):(r-a)/(hn-r-a),l.h=e===r?(t-i)/(r-a):l.h=t===r?hn+(i-e)/(r-a):hn*hn+(e-t)/(r-a)),l.l*=dy,l.s*=hy,l.h*=SL,l.h<fT&&(l.h+=Oo),l.h>=Oo&&(l.h-=Oo),l}function T5(n,e){return E5(n,e)}function Ol(n){const e=(n.h%Oo+Oo)%Oo,t=Math.max(fy,Math.min(hy,n.s)),i=Math.max(GL,Math.min(dy,n.l)),r=e/Oo,a=t/hy,l=i/dy;if(t===fy){const P=Math.round(l*xo);return{r:P,g:P,b:P}}const c=(P,k,b)=>{if(b<0&&b++,b>1&&b--,b*ag<1)return P+(k-P)*ag*b;if(b*hn<1)return k;if(b*og<1*hn){const q=hn/og;return P+(k-P)*(q-b)*ag}return P},d=l<Vt?l*(KL+a):l+a-l*a,p=hn*l-d,m=QL/og,v=Math.min(xo,xo*c(p,d,r+m)),w=Math.min(xo,xo*c(p,d,r)),x=Math.min(xo,xo*c(p,d,r-m));return{r:Math.round(v),g:Math.round(w),b:Math.round(x)}}function x5(n){const e=Ol(n);return{a:n.a,b:e.b,g:e.g,r:e.r}}function NP(n){const e=YL,t=zd+my;return{b:Math.floor(Un($e(e,t))),g:Math.floor(Un($e(e,t))),r:Math.floor(Un($e(e,t)))}}function Lr(n,e){return`rgba(${n.r}, ${n.g}, ${n.b}, ${e??$v})`}function bc(n,e){return`hsla(${n.h}, ${n.s}%, ${n.l}%, ${e??$v})`}function Kv(n,e,t,i){let r=n,a=e;return r.r===void 0&&(r=Ol(n)),a.r===void 0&&(a=Ol(e)),{b:lg(r.b,a.b,t,i),g:lg(r.g,a.g,t,i),r:lg(r.r,a.r,t,i)}}function vy(n,e,t){if(t===Ml)return NP();if(t===jd){const i=n.getFillColor()??n.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return Kv(i,r,n.getRadius(),e.getRadius());{const a=i??r;if(a)return Ol(a)}}else return t}function LP(n,e,t,i){const r=Us(e)?e:e.value;return r===Ml?i?Vi(n,{value:r}):t?Ml:jd:r===jd?jd:Vi(n,{value:r})}function bT(n){return n!==void 0?{h:n.h.value,s:n.s.value,l:n.l.value}:void 0}function FP(n,e,t){const i={h:{enable:!1,value:n.h},s:{enable:!1,value:n.s},l:{enable:!1,value:n.l}};return e&&(ug(i.h,e.h,t),ug(i.s,e.s,t),ug(i.l,e.l,t)),i}function ug(n,e,t){n.enable=e.enable,n.enable?(n.velocity=ve(e.speed)/xs*t,n.decay=TP-ve(e.decay),n.status=It.increasing,n.loops=JL,n.maxLoops=ve(e.count),n.time=ZL,n.delayTime=ve(e.delay)*cn,e.sync||(n.velocity*=Qe(),n.value*=Qe()),n.initialValue=n.value,n.offset=$e(e.offset)):n.velocity=XL}function cg(n,e,t,i){if(!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0)||(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=i.value),(n.delayTime??0)>0&&n.time<(n.delayTime??0)))return;const m=n.offset?Un(n.offset):0,v=(n.velocity??0)*i.factor+m*3.6,w=n.decay??1,x=Ji(e),P=Jf(e);!t||n.status===It.increasing?(n.value+=v,n.value>x&&(n.loops||(n.loops=0),n.loops++,t?n.status=It.decreasing:n.value-=x)):(n.value-=v,n.value<0&&(n.loops||(n.loops=0),n.loops++,n.status=It.increasing)),n.velocity&&w!==1&&(n.velocity*=w),n.value=ci(n.value,P,x)}function jP(n,e){if(!n)return;const{h:t,s:i,l:r}=n,a={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};t&&cg(t,a.h,!1,e),i&&cg(i,a.s,!0,e),r&&cg(r,a.l,!0,e)}function cc(n,e,t){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.closePath()}function S5(n,e,t){n.fillStyle=t??"rgba(0,0,0,0)",n.fillRect(an.x,an.y,e.width,e.height)}function I5(n,e,t,i){t&&(n.globalAlpha=i,n.drawImage(t,an.x,an.y,e.width,e.height),n.globalAlpha=1)}function hg(n,e){n.clearRect(an.x,an.y,e.width,e.height)}function b5(n){const{container:e,context:t,particle:i,delta:r,colorStyles:a,backgroundMask:l,composite:c,radius:d,opacity:p,shadow:m,transform:v}=n,w=i.getPosition(),x=i.rotation+(i.pathRotation?i.velocity.angle:WL),P={sin:Math.sin(x),cos:Math.cos(x)},k=!!x,b={a:P.cos*(v.a??gd.a),b:k?P.sin*(v.b??my):v.b??gd.b,c:k?-P.sin*(v.c??my):v.c??gd.c,d:P.cos*(v.d??gd.d)};t.setTransform(b.a,b.b,b.c,b.d,w.x,w.y),l&&(t.globalCompositeOperation=c);const F=i.shadowColor;m.enable&&F&&(t.shadowBlur=m.blur,t.shadowColor=Lr(F),t.shadowOffsetX=m.offset.x,t.shadowOffsetY=m.offset.y),a.fill&&(t.fillStyle=a.fill);const U=i.strokeWidth??SP;t.lineWidth=U,a.stroke&&(t.strokeStyle=a.stroke);const q={container:e,context:t,particle:i,radius:d,opacity:p,delta:r,transformData:b,strokeWidth:U};C5(q),k5(q),P5(q),t.globalCompositeOperation="source-over",t.resetTransform()}function P5(n){const{container:e,context:t,particle:i,radius:r,opacity:a,delta:l,transformData:c}=n;if(!i.effect)return;const d=e.effectDrawers.get(i.effect);d&&d.draw({context:t,particle:i,radius:r,opacity:a,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...c}})}function C5(n){const{container:e,context:t,particle:i,radius:r,opacity:a,delta:l,strokeWidth:c,transformData:d}=n;if(!i.shape)return;const p=e.shapeDrawers.get(i.shape);p&&(t.beginPath(),p.draw({context:t,particle:i,radius:r,opacity:a,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...d}}),i.shapeClose&&t.closePath(),c>SP&&t.stroke(),i.shapeFill&&t.fill())}function k5(n){const{container:e,context:t,particle:i,radius:r,opacity:a,delta:l,transformData:c}=n;if(!i.shape)return;const d=e.shapeDrawers.get(i.shape);d?.afterDraw&&d.afterDraw({context:t,particle:i,radius:r,opacity:a,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...c}})}function A5(n,e,t){e.draw&&e.draw(n,t)}function R5(n,e,t,i){e.drawParticle&&e.drawParticle(n,t,i)}function D5(n,e,t){return{h:n.h,s:n.s,l:n.l+(e===yy.darken?-TT:TT)*t}}function M5(n,e,t){const i=e[t];i!==void 0&&(n[t]=(n[t]??bL)*i)}function PT(n,e,t=!1){if(!e)return;const i=n;if(!i)return;const r=i.style;if(!r)return;const a=new Set;for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&a.add(r[l]);for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.add(e[l]);for(const l of a){const c=e.getPropertyValue(l);c?r.setProperty(l,c,t?"important":""):r.removeProperty(l)}}class V5{constructor(e,t){this.container=e,this._applyPostDrawUpdaters=a=>{for(const l of this._postDrawUpdaters)l.afterDraw?.(a)},this._applyPreDrawUpdaters=(a,l,c,d,p,m)=>{for(const v of this._preDrawUpdaters){if(v.getColorStyles){const{fill:w,stroke:x}=v.getColorStyles(l,a,c,d);w&&(p.fill=w),x&&(p.stroke=x)}if(v.getTransformValues){const w=v.getTransformValues(l);for(const x in w)M5(m,w,x)}v.beforeDraw?.(l)}},this._applyResizePlugins=()=>{for(const a of this._resizePlugins)a.resize?.()},this._getPluginParticleColors=a=>{let l,c;for(const d of this._colorPlugins)if(!l&&d.particleFillColor&&(l=Ic(this._engine,d.particleFillColor(a))),!c&&d.particleStrokeColor&&(c=Ic(this._engine,d.particleStrokeColor(a))),l&&c)break;return[l,c]},this._initCover=async()=>{const a=this.container.actualOptions,l=a.backgroundMask.cover,c=l.color;if(c){const d=Vi(this._engine,c);if(d){const p={...d,a:l.opacity};this._coverColorStyle=Lr(p,p.a)}}else await new Promise((d,p)=>{if(!l.image)return;const m=document.createElement("img");m.addEventListener("load",()=>{this._coverImage={image:m,opacity:l.opacity},d()}),m.addEventListener("error",v=>{p(v.error)}),m.src=l.image})},this._initStyle=()=>{const a=this.element,l=this.container.actualOptions;if(a){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const c in l.style){if(!c||!l.style||!Object.prototype.hasOwnProperty.call(l.style,c))continue;const d=l.style[c];d&&a.style.setProperty(c,d,"important")}}},this._initTrail=async()=>{const a=this.container.actualOptions,l=a.particles.move.trail,c=l.fill;if(!l.enable)return;const d=wP/l.length;if(c.color){const p=Vi(this._engine,c.color);if(!p)return;this._trailFill={color:{...p},opacity:d}}else await new Promise((p,m)=>{if(!c.image)return;const v=document.createElement("img");v.addEventListener("load",()=>{this._trailFill={image:v,opacity:d},p()}),v.addEventListener("error",w=>{m(w.error)}),v.src=c.image})},this._paintBase=a=>{this.draw(l=>S5(l,this.size,a))},this._paintImage=(a,l)=>{this.draw(c=>I5(c,this.size,a,l))},this._repairStyle=()=>{const a=this.element;if(!a)return;this._safeMutationObserver(c=>c.disconnect()),this._initStyle(),this.initBackground();const l=this._pointerEvents;a.style.pointerEvents=l,a.setAttribute("pointer-events",l),this._safeMutationObserver(c=>{!a||!(a instanceof Node)||c.observe(a,{attributes:!0})})},this._resetOriginalStyle=()=>{const a=this.element,l=this._originalStyle;!a||!l||PT(a,l,!0)},this._safeMutationObserver=a=>{this._mutationObserver&&a(this._mutationObserver)},this._setFullScreenStyle=()=>{const a=this.element;a&&PT(a,w5(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=t,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,t=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():t.enable&&t.length>CL&&i?i.color?this._paintBase(Lr(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{hg(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const t=this._context;if(t)return e(t)}drawAsync(e){const t=this._context;if(t)return e(t)}drawParticle(e,t){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=PL)return;const r=e.getFillColor(),a=e.getStrokeColor()??r;let[l,c]=this._getPluginParticleColors(e);l||(l=r),c||(c=a),!(!l&&!c)&&this.draw(d=>{const p=this.container,m=p.actualOptions,v=e.options.zIndex,w=kL-e.zIndexFactor,x=w**v.opacityRate,P=e.bubble.opacity??e.opacity?.value??$v,k=e.strokeOpacity??P,b=P*x,F=k*x,U={},q={fill:l?bc(l,b):void 0};q.stroke=c?bc(c,F):q.fill,this._applyPreDrawUpdaters(d,e,i,b,q,U),b5({container:p,context:d,particle:e,delta:t,colorStyles:q,backgroundMask:m.backgroundMask.enable,composite:m.backgroundMask.composite,radius:i*w**v.sizeRate,opacity:b,shadow:e.options.shadow,transform:U}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,t,i){this.draw(r=>R5(r,e,t,i))}drawPlugin(e,t){this.draw(i=>A5(i,e,t))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=h5(e=>{for(const t of e)t.type==="attributes"&&t.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){Qo().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,t=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(t.color){const a=Vi(this._engine,t.color);r.backgroundColor=a?Lr(a,t.opacity):""}else r.backgroundColor="";r.backgroundImage=t.image||"",r.backgroundPosition=t.position||"",r.backgroundRepeat=t.repeat||"",r.backgroundSize=t.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Vo in e.dataset?e.dataset[Vo]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=v5(this.element.style);const t=this._standardSize;t.height=e.offsetHeight,t.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=t.height*i,e.width=r.width=t.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(a=>a.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(a=>{!this.element||!(this.element instanceof Node)||a.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(t=>{e.backgroundMask.enable&&e.backgroundMask.cover?(hg(t,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,t=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,a={width:i.width*r,height:i.height*r};if(i.height===t.height&&i.width===t.width&&a.height===this.element.height&&a.width===this.element.width)return!1;const l={...t};t.height=i.height,t.width=i.width;const c=this.size;return this.element.width=c.width=a.width,this.element.height=c.height=a.height,this.container.started&&e.particles.setResizeFactor({width:t.width/l.width,height:t.height/l.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>hg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,t=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),t&&await e.refresh()}}var vl;(function(n){n.canvas="canvas",n.parent="parent",n.window="window"})(vl||(vl={}));function ri(n,e,t,i,r){if(i){let a={passive:!0};IP(r)?a.capture=r:r!==void 0&&(a=r),n.addEventListener(e,t,a)}else{const a=r;n.removeEventListener(e,t,a)}}class O5{constructor(e){this.container=e,this._doMouseTouchClick=t=>{const i=this.container,r=i.actualOptions;if(this._canPush){const a=i.interactivity.mouse,l=a.position;if(!l)return;a.clickPosition={...l},a.clickTime=new Date().getTime();const c=r.interactivity.events.onClick;Wn(c.mode,d=>this.container.handleClickMode(d))}t.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),qL)},this._handleThemeChange=t=>{const i=t,r=this.container,a=r.options,l=a.defaultThemes,c=i.matches?l.dark:l.light;a.themes.find(p=>p.name===c)?.default.auto&&r.loadTheme(c)},this._handleVisibilityChange=()=>{const t=this.container,i=t.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(t.pageHidden=!0,t.pause()):(t.pageHidden=!1,t.animationStatus?t.play(!0):t.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const t=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void t(),this.container.actualOptions.interactivity.events.resize.delay*cn)},this._manageInteractivityListeners=(t,i)=>{const r=this._handlers,a=this.container,l=a.actualOptions,c=a.interactivity.element;if(!c)return;const d=c,p=a.canvas;p.setPointerEvents(d===p.element?"initial":"none"),(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(ri(c,Go,r.mouseMove,i),ri(c,gL,r.touchStart,i),ri(c,yL,r.touchMove,i),l.interactivity.events.onClick.enable?(ri(c,aT,r.touchEndClick,i),ri(c,pL,r.mouseUp,i),ri(c,fL,r.mouseDown,i)):ri(c,aT,r.touchEnd,i),ri(c,t,r.mouseLeave,i),ri(c,vL,r.touchCancel,i))},this._manageListeners=t=>{const i=this._handlers,r=this.container,a=r.actualOptions,l=a.interactivity.detectsOn,c=r.canvas.element;let d=cy;l===vl.window?(r.interactivity.element=window,d=mL):l===vl.parent&&c?r.interactivity.element=c.parentElement??c.parentNode:r.interactivity.element=c,this._manageMediaMatch(t),this._manageResize(t),this._manageInteractivityListeners(d,t),document&&ri(document,wL,i.visibilityChange,t,!1)},this._manageMediaMatch=t=>{const i=this._handlers,r=CP("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){ri(r,"change",i.themeChange,t);return}r.addListener!==void 0&&(t?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=t=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ri(window,_L,i.resize,t);return}const l=r.canvas.element;this._resizeObserver&&!t?(l&&this._resizeObserver.unobserve(l),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&t&&l&&(this._resizeObserver=new ResizeObserver(c=>{c.find(p=>p.target===l)&&this._handleWindowResize()}),this._resizeObserver.observe(l))},this._mouseDown=()=>{const{interactivity:t}=this.container;if(!t)return;const{mouse:i}=t;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=t=>{const i=this.container,r=i.actualOptions,{mouse:a}=i.interactivity;a.inside=!0;let l=!1;const c=a.position;if(!(!c||!r.interactivity.events.onClick.enable)){for(const d of i.plugins.values())if(d.clickPositionValid&&(l=d.clickPositionValid(c),l))break;l||this._doMouseTouchClick(t),a.clicking=!1}},this._mouseTouchFinish=()=>{const t=this.container.interactivity;if(!t)return;const i=t.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,t.status=cy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=t=>{const i=this.container,r=i.actualOptions,a=i.interactivity,l=i.canvas.element;if(!a?.element)return;a.mouse.inside=!0;let c;if(t.type.startsWith("pointer")){this._canPush=!0;const p=t;if(a.element===window){if(l){const m=l.getBoundingClientRect();c={x:p.clientX-m.left,y:p.clientY-m.top}}}else if(r.interactivity.detectsOn===vl.parent){const m=p.target,v=p.currentTarget;if(m&&v&&l){const w=m.getBoundingClientRect(),x=v.getBoundingClientRect(),P=l.getBoundingClientRect();c={x:p.offsetX+hn*w.left-(x.left+P.left),y:p.offsetY+hn*w.top-(x.top+P.top)}}else c={x:p.offsetX??p.clientX,y:p.offsetY??p.clientY}}else p.target===l&&(c={x:p.offsetX??p.clientX,y:p.offsetY??p.clientY})}else if(this._canPush=t.type!=="touchmove",l){const p=t,m=p.touches[p.touches.length-xP],v=l.getBoundingClientRect();c={x:m.clientX-(v.left??yf),y:m.clientY-(v.top??yf)}}const d=i.retina.pixelRatio;c&&(c.x*=d,c.y*=d),a.mouse.position=c,a.status=Go},this._touchEnd=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchFinish()},this._touchEndClick=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.delete(a.identifier);this._mouseTouchClick(t)},this._touchStart=t=>{const i=t,r=Array.from(i.changedTouches);for(const a of r)this._touches.set(a.identifier,performance.now());this._mouseTouchMove(t)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:t=>this._mouseTouchMove(t),mouseUp:t=>this._mouseTouchClick(t),touchStart:t=>this._touchStart(t),touchMove:t=>this._mouseTouchMove(t),touchEnd:t=>this._touchEnd(t),touchCancel:t=>this._touchEnd(t),touchEndClick:t=>this._touchEndClick(t),visibilityChange:()=>this._handleVisibilityChange(),themeChange:t=>this._handleThemeChange(t),oldThemeChange:t=>this._handleThemeChange(t),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var En;(function(n){n.configAdded="configAdded",n.containerInit="containerInit",n.particlesSetup="particlesSetup",n.containerStarted="containerStarted",n.containerStopped="containerStopped",n.containerDestroyed="containerDestroyed",n.containerPaused="containerPaused",n.containerPlay="containerPlay",n.containerBuilt="containerBuilt",n.particleAdded="particleAdded",n.particleDestroyed="particleDestroyed",n.particleRemoved="particleRemoved"})(En||(En={}));class mn{constructor(){this.value=""}static create(e,t){const i=new mn;return i.load(e),t!==void 0&&(Us(t)||ur(t)?i.load({value:t}):i.load(t)),i}load(e){le(e)||le(e.value)||(this.value=e.value)}}class N5{constructor(){this.color=new mn,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){le(e)||(e.color!==void 0&&(this.color=mn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class L5{constructor(){this.opacity=1}load(e){le(e)||(e.color!==void 0&&(this.color=mn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class F5{constructor(){this.composite="destination-out",this.cover=new L5,this.enable=!1}load(e){if(!le(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const t=e.cover,i=Us(e.cover)?{color:e.cover}:e.cover;this.cover.load(t.color!==void 0||t.image!==void 0?t:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class j5{constructor(){this.enable=!0,this.zIndex=0}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class z5{constructor(){this.enable=!1,this.mode=[]}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Nl;(function(n){n.circle="circle",n.rectangle="rectangle"})(Nl||(Nl={}));class CT{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Nl.circle}load(e){le(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class U5{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class B5{constructor(){this.enable=!1,this.mode=[],this.parallax=new U5}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class $5{constructor(){this.delay=.5,this.enable=!0}load(e){le(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class H5{constructor(){this.onClick=new z5,this.onDiv=new CT,this.onHover=new B5,this.resize=new $5}load(e){if(le(e))return;this.onClick.load(e.onClick);const t=e.onDiv;t!==void 0&&(this.onDiv=Wn(t,i=>{const r=new CT;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class q5{constructor(e,t){this._engine=e,this._container=t}load(e){if(le(e)||!this._container)return;const t=this._engine.interactors.get(this._container);if(t)for(const i of t)i.loadModeOptions&&i.loadModeOptions(this,e)}}class zP{constructor(e,t){this.detectsOn=vl.window,this.events=new H5,this.modes=new q5(e,t)}load(e){if(le(e))return;const t=e.detectsOn;t!==void 0&&(this.detectsOn=t),this.events.load(e.events),this.modes.load(e.modes)}}class W5{load(e){le(e)||(e.position&&(this.position={x:e.position.x??ET,y:e.position.y??ET,mode:e.position.mode??Vl.percent}),e.options&&(this.options=pn({},e.options)))}}var Lo;(function(n){n.screen="screen",n.canvas="canvas"})(Lo||(Lo={}));class G5{constructor(){this.maxWidth=1/0,this.options={},this.mode=Lo.canvas}load(e){le(e)||(le(e.maxWidth)||(this.maxWidth=e.maxWidth),le(e.mode)||(e.mode===Lo.screen?this.mode=Lo.screen:this.mode=Lo.canvas),le(e.options)||(this.options=pn({},e.options)))}}var Es;(function(n){n.any="any",n.dark="dark",n.light="light"})(Es||(Es={}));class K5{constructor(){this.auto=!1,this.mode=Es.any,this.value=!1}load(e){le(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Q5{constructor(){this.name="",this.default=new K5}load(e){le(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=pn({},e.options)))}}class Qv{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){le(e)||(e.count!==void 0&&(this.count=$e(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.delay!==void 0&&(this.delay=$e(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Yv extends Qv{constructor(){super(),this.mode=No.auto,this.startValue=yl.random}load(e){super.load(e),!le(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class dg extends Qv{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!le(e)&&e.offset!==void 0&&(this.offset=$e(e.offset))}}class Y5{constructor(){this.h=new dg,this.s=new dg,this.l=new dg}load(e){le(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Pc extends mn{constructor(){super(),this.animation=new Y5}static create(e,t){const i=new Pc;return i.load(e),t!==void 0&&(Us(t)||ur(t)?i.load({value:t}):i.load(t)),i}load(e){if(super.load(e),le(e))return;const t=e.animation;t!==void 0&&(t.enable!==void 0?this.animation.h.load(t):this.animation.load(e.animation))}}var _l;(function(n){n.absorb="absorb",n.bounce="bounce",n.destroy="destroy"})(_l||(_l={}));class X5{constructor(){this.speed=2}load(e){le(e)||e.speed!==void 0&&(this.speed=e.speed)}}class J5{constructor(){this.enable=!0,this.retries=0}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class ia{constructor(){this.value=0}load(e){le(e)||le(e.value)||(this.value=$e(e.value))}}class Z5 extends ia{constructor(){super(),this.animation=new Qv}load(e){if(super.load(e),le(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class UP extends Z5{constructor(){super(),this.animation=new Yv}load(e){super.load(e)}}class kT extends ia{constructor(){super(),this.value=1}}class BP{constructor(){this.horizontal=new kT,this.vertical=new kT}load(e){le(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class e9{constructor(){this.absorb=new X5,this.bounce=new BP,this.enable=!1,this.maxSpeed=50,this.mode=_l.bounce,this.overlap=new J5}load(e){le(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class t9{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(le(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=pn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class n9{constructor(){this.offset=0,this.value=90}load(e){le(e)||(e.offset!==void 0&&(this.offset=$e(e.offset)),e.value!==void 0&&(this.value=$e(e.value)))}}class i9{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!le(e)&&(e.distance!==void 0&&(this.distance=$e(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const t=e.rotate.x;t!==void 0&&(this.rotate.x=t);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class r9{constructor(){this.x=50,this.y=50,this.mode=Vl.percent,this.radius=0}load(e){le(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class s9{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){le(e)||(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=$e(e.maxSpeed)))}}class o9{constructor(){this.clamp=!0,this.delay=new ia,this.enable=!1,this.options={}}load(e){le(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=pn(this.options,e.options)))}}class a9{load(e){le(e)||(e.color!==void 0&&(this.color=mn.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class l9{constructor(){this.enable=!1,this.length=10,this.fill=new a9}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Pt;(function(n){n.bounce="bounce",n.none="none",n.out="out",n.destroy="destroy",n.split="split"})(Pt||(Pt={}));class u9{constructor(){this.default=Pt.out}load(e){le(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class c9{constructor(){this.acceleration=0,this.enable=!1}load(e){le(e)||(e.acceleration!==void 0&&(this.acceleration=$e(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=pn({},e.position)))}}class h9{constructor(){this.angle=new n9,this.attract=new i9,this.center=new r9,this.decay=0,this.distance={},this.direction=Qt.none,this.drift=0,this.enable=!1,this.gravity=new s9,this.path=new o9,this.outModes=new u9,this.random=!1,this.size=!1,this.speed=2,this.spin=new c9,this.straight=!1,this.trail=new l9,this.vibrate=!1,this.warp=!1}load(e){if(le(e))return;this.angle.load(Bs(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=$e(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Bs(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=$e(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const t=e.outModes;t!==void 0&&(ul(t)?this.outModes.load(t):this.outModes.load({default:t})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=$e(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class d9 extends Yv{constructor(){super(),this.destroy=Ko.none,this.speed=2}load(e){super.load(e),!le(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class f9 extends UP{constructor(){super(),this.animation=new d9,this.value=1}load(e){if(le(e))return;super.load(e);const t=e.animation;t!==void 0&&this.animation.load(t)}}class p9{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(le(e))return;e.enable!==void 0&&(this.enable=e.enable);const t=e.width;t!==void 0&&(this.width=t);const i=e.height;i!==void 0&&(this.height=i)}}var Cc;(function(n){n.delete="delete",n.wait="wait"})(Cc||(Cc={}));class m9{constructor(){this.mode=Cc.delete,this.value=0}load(e){le(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class g9{constructor(){this.density=new p9,this.limit=new m9,this.value=0}load(e){le(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class y9{constructor(){this.blur=0,this.color=new mn,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){le(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=mn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class v9{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(le(e))return;const t=e.options;if(t!==void 0)for(const i in t){const r=t[i];r&&(this.options[i]=pn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class _9 extends Yv{constructor(){super(),this.destroy=Ko.none,this.speed=5}load(e){super.load(e),!le(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class w9 extends UP{constructor(){super(),this.animation=new _9,this.value=3}load(e){if(super.load(e),le(e))return;const t=e.animation;t!==void 0&&this.animation.load(t)}}class AT{constructor(){this.width=0}load(e){le(e)||(e.color!==void 0&&(this.color=Pc.create(this.color,e.color)),e.width!==void 0&&(this.width=$e(e.width)),e.opacity!==void 0&&(this.opacity=$e(e.opacity)))}}class E9 extends ia{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!le(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class T9{constructor(e,t){this._engine=e,this._container=t,this.bounce=new BP,this.collisions=new e9,this.color=new Pc,this.color.value="#fff",this.effect=new t9,this.groups={},this.move=new h9,this.number=new g9,this.opacity=new f9,this.reduceDuplicates=!1,this.shadow=new y9,this.shape=new v9,this.size=new w9,this.stroke=new AT,this.zIndex=new E9}load(e){if(le(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=pn(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Pc.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=pn({},e.interactivity));const t=e.stroke;if(t&&(this.stroke=Wn(t,i=>{const r=new AT;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const a of i)a.loadOptions&&a.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const a of r)a.loadParticlesOptions&&a.loadParticlesOptions(this,e)}}}function $P(n,...e){for(const t of e)n.load(t)}function HP(n,e,...t){const i=new T9(n,e);return $P(i,...t),i}class x9{constructor(e,t){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Es.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=t,this.autoPlay=!0,this.background=new N5,this.backgroundMask=new F5,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new j5,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new zP(e,t),this.manualParticles=[],this.particles=HP(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(le(e))return;e.preset!==void 0&&Wn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=$e(e.delay));const t=e.detectRetina;t!==void 0&&(this.detectRetina=t),e.duration!==void 0&&(this.duration=$e(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;IP(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new W5;return c.load(l),c})),this.particles.load(e.particles),this.style=pn(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const a=this._engine.interactors.get(this._container);if(a)for(const l of a)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new G5;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new Q5;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=this._findDefaultTheme(Es.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Es.light)?.name}setResponsive(e,t,i){this.load(i);const r=this.responsive.find(a=>a.mode===Lo.screen&&screen?a.maxWidth>screen.availWidth:a.maxWidth*t>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const t=this.themes.find(i=>i.name===e);t&&this.load(t.options)}else{const t=CP("(prefers-color-scheme: dark)"),i=t?.matches,r=this._findDefaultTheme(i?Es.dark:Es.light);r&&this.load(r.options)}}}var Ll;(function(n){n.external="external",n.particles="particles"})(Ll||(Ll={}));class S9{constructor(e,t){this.container=t,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const t of this._externalInteractors)t.isEnabled()&&t.interact(e)}handleClickMode(e){for(const t of this._externalInteractors)t.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Ll.external:this._externalInteractors.push(e);break;case Ll.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,t){for(const i of this._externalInteractors)i.clear(e,t);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,t)}reset(e){for(const t of this._externalInteractors)t.isEnabled()&&t.reset(e);for(const t of this._particleInteractors)t.isEnabled(e)&&t.reset(e)}}var Oi;(function(n){n.normal="normal",n.inside="inside",n.outside="outside"})(Oi||(Oi={}));function I9(n,e,t,i){const r=e.options[n];if(r)return pn({close:e.close,fill:e.fill},li(r,t,i))}function b9(n,e,t,i){const r=e.options[n];if(r)return pn({close:e.close,fill:e.fill},li(r,t,i))}function RT(n){if(!Et(n.outMode,n.checkModes))return;const e=n.radius*hn;n.coord>n.maxCoord-e?n.setCb(-n.radius):n.coord<e&&n.setCb(n.radius)}class P9{constructor(e,t){this.container=t,this._calcPosition=(i,r,a,l=uT)=>{for(const P of i.plugins.values()){const k=P.particlePosition!==void 0?P.particlePosition(r,this):void 0;if(k)return zn.create(k.x,k.y,a)}const c=i.canvas.size,d=s5({size:c,position:r}),p=zn.create(d.x,d.y,a),m=this.getRadius(),v=this.options.move.outModes,w=P=>{RT({outMode:P,checkModes:[Pt.bounce],coord:p.x,maxCoord:i.canvas.size.width,setCb:k=>p.x+=k,radius:m})},x=P=>{RT({outMode:P,checkModes:[Pt.bounce],coord:p.y,maxCoord:i.canvas.size.height,setCb:k=>p.y+=k,radius:m})};return w(v.left??v.default),w(v.right??v.default),x(v.top??v.default),x(v.bottom??v.default),this._checkOverlap(p,l)?this._calcPosition(i,void 0,a,l+FL):p},this._calculateVelocity=()=>{const i=r5(this.direction),r=i.copy(),a=this.options.move;if(a.direction===Qt.inside||a.direction===Qt.outside)return r;const l=Ds(ve(a.angle.value)),c=Ds(ve(a.angle.offset)),d={left:c-l*Vt,right:c+l*Vt};return a.straight||(r.angle+=Un($e(d.left,d.right))),a.random&&typeof a.speed=="number"&&(r.length*=Qe()),r},this._checkOverlap=(i,r=uT)=>{const a=this.options.collisions,l=this.getRadius();if(!a.enable)return!1;const c=a.overlap;if(c.enable)return!1;const d=c.retries;if(d>=jL&&r>d)throw new Error(`${ui} particle is overlapping and can't be placed`);return!!this.container.particles.find(p=>$n(i,p.position)<l+p.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?hn*yT:yT,a=this.roll.horizontal?Math.PI*Vt:vf;return Math.floor(((this.roll.angle??vf)+a)/(Math.PI/r))%hn?this.backColor?this.backColor:this.roll.alter?D5(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,a=ve(this.options.zIndex.value);this.position=this._calcPosition(r,i,ci(a,zL,r.zLayers)),this.initialPosition=this.position.copy();const l=r.canvas.size;switch(this.moveCenter={...MP(this.options.move.center,l),radius:this.options.move.center.radius??UL,mode:this.options.move.center.mode??Vl.percent},this.direction=i5(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Qt.inside:this.outType=Oi.inside;break;case Qt.outside:this.outType=Oi.outside;break}this.offset=$t.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const t=this.container,i=this.pathGenerator;t.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const a of t.plugins.values())a.particleDestroyed?.(this,e);for(const a of t.particles.updaters)a.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(En.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const t=this.container,i=t.canvas;for(const r of t.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??bT(this.color))}getMass(){return this.getRadius()**kr*Math.PI*Vt}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??bT(this.strokeColor))}init(e,t,i,r){const a=this.container,l=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Oi.normal,this.ignoresResizeRatio=!0;const c=a.retina.pixelRatio,d=a.actualOptions,p=HP(this._engine,a,d.particles),{reduceDuplicates:m}=p,v=p.effect.type,w=p.shape.type;this.effect=li(v,this.id,m),this.shape=li(w,this.id,m);const x=p.effect,P=p.shape;if(i){if(i.effect?.type){const D=i.effect.type,I=li(D,this.id,m);I&&(this.effect=I,x.load(i.effect))}if(i.shape?.type){const D=i.shape.type,I=li(D,this.id,m);I&&(this.shape=I,P.load(i.shape))}}if(this.effect===Ml){const D=[...this.container.effectDrawers.keys()];this.effect=D[Math.floor(Qe()*D.length)]}if(this.shape===Ml){const D=[...this.container.shapeDrawers.keys()];this.shape=D[Math.floor(Qe()*D.length)]}this.effectData=I9(this.effect,x,this.id,m),this.shapeData=b9(this.shape,P,this.id,m),p.load(i);const k=this.effectData;k&&p.load(k.particles);const b=this.shapeData;b&&p.load(b.particles);const F=new zP(l,a);F.load(a.actualOptions.interactivity),F.load(p.interactivity),this.interactivity=F,this.effectFill=k?.fill??p.effect.fill,this.effectClose=k?.close??p.effect.close,this.shapeFill=b?.fill??p.shape.fill,this.shapeClose=b?.close??p.shape.close,this.options=p;const U=this.options.move.path;this.pathDelay=ve(U.delay.value)*cn,U.generator&&(this.pathGenerator=this._engine.getPathGenerator(U.generator),this.pathGenerator&&a.addPath(U.generator,this.pathGenerator)&&this.pathGenerator.init(a)),a.retina.initParticle(this),this.size=DP(this.options.size,c),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(t),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=TP-ve(this.options.move.decay);const q=a.particles;q.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/a.zLayers,this.sides=24;let G=a.effectDrawers.get(this.effect);G||(G=this._engine.getEffectDrawer(this.effect),G&&a.effectDrawers.set(this.effect,G)),G?.loadEffect&&G.loadEffect(this);let Y=a.shapeDrawers.get(this.shape);Y||(Y=this._engine.getShapeDrawer(this.shape),Y&&a.shapeDrawers.set(this.shape,Y)),Y?.loadShape&&Y.loadShape(this);const ie=Y?.getSidesCount;ie&&(this.sides=ie(this)),this.spawning=!1,this.shadowColor=Vi(this._engine,this.options.shadow.color);for(const D of q.updaters)D.init(this);for(const D of q.movers)D.init?.(this);G?.particleInit?.(a,this),Y?.particleInit?.(a,this);for(const D of a.plugins.values())D.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),t=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=t.height+e&&i.x<=t.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class C9{constructor(e,t){this.position=e,this.particle=t}}var wl;(function(n){n.circle="circle",n.rectangle="rectangle"})(wl||(wl={}));class qP{constructor(e,t,i){this.position={x:e,y:t},this.type=i}}class dn extends qP{constructor(e,t,i){super(e,t,wl.circle),this.radius=i}contains(e){return $n(e,this.position)<=this.radius}intersects(e){const t=this.position,i=e.position,r={x:Math.abs(i.x-t.x),y:Math.abs(i.y-t.y)},a=this.radius;if(e instanceof dn||e.type===wl.circle){const l=e,c=a+l.radius,d=Math.sqrt(r.x**kr+r.y**kr);return c>d}else if(e instanceof Li||e.type===wl.rectangle){const l=e,{width:c,height:d}=l.size;return Math.pow(r.x-c,kr)+Math.pow(r.y-d,kr)<=a**kr||r.x<=a+c&&r.y<=a+d||r.x<=c||r.y<=d}return!1}}class Li extends qP{constructor(e,t,i,r){super(e,t,wl.rectangle),this.size={height:r,width:i}}contains(e){const t=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+t&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof dn)return e.intersects(this);const t=this.size.width,i=this.size.height,r=this.position,a=e.position,l=e instanceof Li?e.size:{width:0,height:0},c=l.width,d=l.height;return a.x<r.x+t&&a.x+c>r.x&&a.y<r.y+i&&a.y+d>r.y}}class wf{constructor(e,t){this.rectangle=e,this.capacity=t,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:a,height:l}=this.rectangle.size,{capacity:c}=this;for(let d=0;d<xL;d++){const p=d%hn;this._subs.push(new wf(new Li(i+a*Vt*p,r+l*Vt*(Math.round(d*Vt)-p),a*Vt,l*Vt),c))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(t=>t.insert(e))):!1}query(e,t){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&$n(e.position,r.position)>r.particle.getRadius()&&(!t||t(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,t));return i}queryCircle(e,t,i){return this.query(new dn(e.x,e.y,t),i)}queryRectangle(e,t,i){return this.query(new Li(e.x,e.y,t.width,t.height),i)}}const DT=n=>{const{height:e,width:t}=n;return new Li(vT*t,vT*e,_T*t,_T*e)};class k9{constructor(e,t){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,a,l,c)=>{const d=r.number;if(!r.number.density?.enable){l===void 0?this._limit=d.limit.value:(c?.number.limit?.value??d.limit.value)&&this._groupLimits.set(l,c?.number.limit?.value??d.limit.value);return}const p=this._initDensityFactor(d.density),m=d.value,v=d.limit.value>wT?d.limit.value:m,w=Math.min(m,v)*p+a,x=Math.min(this.count,this.filter(P=>P.group===l).length);l===void 0?this._limit=d.limit.value*p:this._groupLimits.set(l,d.limit.value*p),x<w?this.push(Math.abs(w-x),void 0,r,l):x>w&&this.removeQuantity(x-w,l)},this._initDensityFactor=r=>{const a=this._container;if(!a.canvas.element||!r.enable)return HL;const l=a.canvas.element,c=a.retina.pixelRatio;return l.width*l.height/(r.height*r.width*c**kr)},this._pushParticle=(r,a,l,c)=>{try{let d=this._pool.pop();d||(d=new P9(this._engine,this._container)),d.init(this._nextId,r,a,l);let p=!0;return c&&(p=c(d)),p?(this._array.push(d),this._zArray.push(d),this._nextId++,this._engine.dispatchEvent(En.particleAdded,{container:this._container,data:{particle:d}}),d):void 0}catch(d){Qo().warning(`${ui} adding particle: ${d}`)}},this._removeParticle=(r,a,l)=>{const c=this._array[r];if(!c||c.group!==a)return!1;const d=this._zArray.indexOf(c);return this._array.splice(r,_f),this._zArray.splice(d,_f),c.destroy(l),this._engine.dispatchEvent(En.particleRemoved,{container:this._container,data:{particle:c}}),this._addToPool(c),!0},this._engine=e,this._container=t,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new S9(e,t),this._pluginsInitialized=!1;const i=t.canvas.size;this.quadTree=new wf(DT(i),cT),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?MP(i.position,e.canvas.size):void 0,i.options))}addParticle(e,t,i,r){const a=this._container.actualOptions.particles.number.limit.mode,l=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,c=this.count;if(l>wT)switch(a){case Cc.delete:{const d=c+BL-l;d>$L&&this.removeQuantity(d);break}case Cc.wait:if(c>=l)return;break}return this._pushParticle(e,t,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const t=this._container,i=t.canvas;i.clear(),this.update(e);for(const r of t.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,t=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=t.particles,a=r.groups;for(const l in a){const c=a[l];for(let d=this.count,p=0;p<c.number?.value&&d<r.number.value;d++,p++)this.addParticle(void 0,c,l)}for(let l=this.count;l<r.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const t of e.pathGenerators.values())t.init(e)}push(e,t,i,r){for(let a=0;a<e;a++)this.addParticle(t?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,t,i){this.removeAt(this._array.indexOf(e),void 0,t,i)}removeAt(e,t=TL,i,r){if(e<py||e>this.count)return;let a=0;for(let l=e;a<t&&l<this.count;l++)this._removeParticle(l,i,r)&&(l--,a++)}removeQuantity(e,t){this.removeAt(py,e,t)}setDensity(){const e=this._container.actualOptions,t=e.particles.groups,i=e.manualParticles.length;for(const r in t)this._applyDensity(t[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const t=this._container,i=new Set;this.quadTree=new wf(DT(t.canvas.size),cT);for(const a of t.pathGenerators.values())a.update();for(const a of t.plugins.values())a.update?.(e);const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const l of this._container.plugins.values()){if(a.destroyed)break;l.particleUpdate?.(a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new C9(a.getPosition(),a))}if(i.size){const a=l=>!i.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of i)this._engine.dispatchEvent(En.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this._lastZIndex=a[a.length-xP].position.z,this._needsSort=!1}}}class A9{constructor(e){this.container=e,this.pixelRatio=hT,this.reduceFactor=dT}init(){const e=this.container,t=e.actualOptions;this.pixelRatio=!t.detectRetina||Yo()?hT:devicePixelRatio,this.reduceFactor=dT;const i=this.pixelRatio,r=e.canvas;if(r.element){const c=r.element;r.size.width=c.offsetWidth*i,r.size.height=c.offsetHeight*i}const a=t.particles,l=a.move;this.maxSpeed=ve(l.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ve(a.size.animation.speed)*i}initParticle(e){const t=e.options,i=this.pixelRatio,r=t.move,a=r.distance,l=e.retina;l.moveDrift=ve(r.drift)*i,l.moveSpeed=ve(r.speed)*i,l.sizeAnimationSpeed=ve(t.size.animation.speed)*i;const c=l.maxDistance;c.horizontal=a.horizontal!==void 0?a.horizontal*i:void 0,c.vertical=a.vertical!==void 0?a.vertical*i:void 0,l.maxSpeed=ve(r.gravity.maxSpeed)*i}}function pt(n){return n&&!n.destroyed}function R9(n,e=rg,t=!1){return{value:n,factor:t?rg/e:rg*n/cn}}function Ya(n,e,...t){const i=new x9(n,e);return $P(i,...t),i}class D9{constructor(e,t,i){this._intersectionManager=r=>{if(!(!pt(this)||!this.actualOptions.pauseOnOutsideViewport))for(const a of r)a.target===this.interactivity.element&&(a.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+cn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const a=R9(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(a.value),this._lastFrameTime=r,a.value>cn){this.draw(!1);return}if(this.particles.draw(a),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(a){Qo().error(`${ui} in animation loop`,a)}},this._engine=e,this.id=Symbol(t),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new A9(this),this.canvas=new V5(this,this._engine),this.particles=new k9(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Ya(this._engine,this),this.actualOptions=Ya(this._engine,this),this._eventListeners=new O5(this),this._intersectionObserver=c5(r=>this._intersectionManager(r)),this._engine.dispatchEvent(En.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&pt(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!pt(this))return;const t=this.interactivity.element;if(!t)return;const i=(v,w,x)=>{if(!pt(this))return;const P=this.retina.pixelRatio,k={x:w.x*P,y:w.y*P},b=this.particles.quadTree.queryCircle(k,x*P);e(v,b)},r=v=>{if(!pt(this))return;const w=v,x={x:w.offsetX||w.clientX,y:w.offsetY||w.clientY};i(v,x,AL)},a=()=>{pt(this)&&(p=!0,m=!1)},l=()=>{pt(this)&&(m=!0)},c=v=>{if(pt(this)){if(p&&!m){const w=v;let x=w.touches[w.touches.length-gT];if(!x&&(x=w.changedTouches[w.changedTouches.length-gT],!x))return;const P=this.canvas.element,k=P?P.getBoundingClientRect():void 0,b={x:x.clientX-(k?k.left:yf),y:x.clientY-(k?k.top:yf)};i(v,b,Math.max(x.radiusX,x.radiusY))}p=!1,m=!1}},d=()=>{pt(this)&&(p=!1,m=!1)};let p=!1,m=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",a),this._clickHandlers.set("touchmove",l),this._clickHandlers.set("touchend",c),this._clickHandlers.set("touchcancel",d);for(const[v,w]of this._clickHandlers)t.addEventListener(v,w)}addLifeTime(e){this._lifeTime+=e}addPath(e,t,i=!1){return!pt(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,t),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(pt(this)){for(const[e,t]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,t);this._clickHandlers.clear()}}destroy(e=!0){if(pt(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const t of this.effectDrawers.values())t.destroy?.(this);for(const t of this.shapeDrawers.values())t.destroy?.(this);for(const t of this.effectDrawers.keys())this.effectDrawers.delete(t);for(const t of this.shapeDrawers.keys())this.shapeDrawers.delete(t);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const t=this._engine.items,i=t.findIndex(r=>r===this);i>=RL&&t.splice(i,EP)}this._engine.dispatchEvent(En.containerDestroyed,{container:this})}}draw(e){if(!pt(this))return;let t=e;const i=r=>{t&&(this._lastFrameTime=void 0,t=!1),this._nextFrame(r)};this._drawAnimationFrame=t5(r=>i(r))}async export(e,t={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,t);if(r.supported)return r.blob}Qo().error(`${ui} - Export plugin with type ${e} not found`)}handleClickMode(e){if(pt(this)){this.particles.handleClickMode(e);for(const t of this.plugins.values())t.handleClickMode?.(e)}}async init(){if(!pt(this))return;const e=this._engine.getSupportedEffects();for(const p of e){const m=this._engine.getEffectDrawer(p);m&&this.effectDrawers.set(p,m)}const t=this._engine.getSupportedShapes();for(const p of t){const m=this._engine.getShapeDrawer(p);m&&this.shapeDrawers.set(p,m)}await this.particles.initPlugins(),this._options=Ya(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Ya(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[p,m]of i)this.plugins.set(p,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:a,delay:l,fpsLimit:c,smooth:d}=this.actualOptions;this.zLayers=r,this._duration=ve(a)*cn,this._delay=ve(l)*cn,this._lifeTime=0,this.fpsLimit=c>ML?c:DL,this._smooth=d;for(const p of this.effectDrawers.values())await p.init?.(this);for(const p of this.shapeDrawers.values())await p.init?.(this);for(const p of this.plugins.values())await p.init?.();this._engine.dispatchEvent(En.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const p of this.plugins.values())p.particlesSetup?.();this._engine.dispatchEvent(En.particlesSetup,{container:this})}async loadTheme(e){pt(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(pt(this)&&(this._drawAnimationFrame!==void 0&&(n5(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(En.containerPaused,{container:this})}}play(e){if(!pt(this))return;const t=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),t)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(En.containerPlay,{container:this}),this.draw(t??!1)}async refresh(){if(pt(this))return this.stop(),this.start()}async reset(e){if(pt(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=Ya(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Ya(this._engine,this,this._options),this.refresh()}async start(){!pt(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const t=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(En.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void t(),this._delay)}))}stop(){if(!(!pt(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(En.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class M9{constructor(){this._listeners=new Map}addEventListener(e,t){this.removeEventListener(e,t);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(t)}dispatchEvent(e,t){this._listeners.get(e)?.forEach(r=>r(t))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,t){const i=this._listeners.get(e);if(!i)return;const r=i.length,a=i.indexOf(t);a<py||(r===_f?this._listeners.delete(e):i.splice(a,_f))}}async function fg(n,e,t,i=!1){let r=e.get(n);return(!r||i)&&(r=await Promise.all([...t.values()].map(a=>a(n))),e.set(n,r)),r}async function V9(n){const e=li(n.url,n.index);if(!e)return n.fallback;const t=await fetch(e);return t.ok?await t.json():(Qo().error(`${ui} ${t.status} while retrieving config file`),n.fallback)}const O9=n=>{let e;if(n instanceof HTMLCanvasElement||n.tagName.toLowerCase()===sg)e=n,e.dataset[Vo]||(e.dataset[Vo]=lT);else{const i=n.getElementsByTagName(sg);i.length?(e=i[VL],e.dataset[Vo]=lT):(e=document.createElement(sg),e.dataset[Vo]=_P,n.appendChild(e))}const t="100%";return e.style.width||(e.style.width=t),e.style.height||(e.style.height=t),e},N9=(n,e)=>{let t=e??document.getElementById(n);return t||(t=document.createElement("div"),t.id=n,t.dataset[Vo]=_P,document.body.append(t),t)};class L9{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new M9,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[t,i]of this._configs)e[t]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,t=!0){this.colorManagers.set(e.key,e),await this.refresh(t)}addConfig(e){const t=e.key??e.name??"default";this._configs.set(t,e),this._eventDispatcher.dispatchEvent(En.configAdded,{data:{name:t,config:e}})}async addEasing(e,t,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,t),await this.refresh(i))}async addEffect(e,t,i=!0){Wn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,t)}),await this.refresh(i)}addEventListener(e,t){this._eventDispatcher.addEventListener(e,t)}async addInteractor(e,t,i=!0){this._initializers.interactors.set(e,t),await this.refresh(i)}async addMover(e,t,i=!0){this._initializers.movers.set(e,t),await this.refresh(i)}async addParticleUpdater(e,t,i=!0){this._initializers.updaters.set(e,t),await this.refresh(i)}async addPathGenerator(e,t,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,t),await this.refresh(i)}async addPlugin(e,t=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(t)}async addPreset(e,t,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,t),await this.refresh(r)}async addShape(e,t=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(t)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,t){this._eventDispatcher.dispatchEvent(e,t)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const t=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&t.set(i.id,await i.getPlugin(e));return t}getEasing(e){return this.easingFunctions.get(e)??(t=>t)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,t=!1){return fg(e,this.interactors,this._initializers.interactors,t)}async getMovers(e,t=!1){return fg(e,this.movers,this._initializers.movers,t)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(t=>t.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,t=!1){return fg(e,this.updaters,this._initializers.updaters,t)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:t}=this,i=t[e];if(!i||i.destroyed){t.splice(e,EP);return}return i}async load(e){const t=e.id??e.element?.id??`tsparticles${Math.floor(Qe()*OL)}`,{index:i,url:r}=e,a=r?await V9({fallback:e.options,url:r,index:i}):e.options,l=li(a,i),{items:c}=this,d=c.findIndex(w=>w.id.description===t),p=new D9(this,t,l);if(d>=NL){const w=this.item(d),x=w?LL:vf;w&&!w.destroyed&&w.destroy(!1),c.splice(d,x,p)}else c.push(p);const m=N9(t,e.element),v=O9(m);return p.canvas.loadCanvas(v),await p.start(),p}loadOptions(e,t){this.plugins.forEach(i=>i.loadOptions?.(e,t))}loadParticlesOptions(e,t,...i){const r=this.updaters.get(e);r&&r.forEach(a=>a.loadOptions?.(t,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(t=>t.refresh()))}removeEventListener(e,t){this._eventDispatcher.removeEventListener(e,t)}setOnClickHandler(e){const{items:t}=this;if(!t.length)throw new Error(`${ui} can only set click handlers after calling tsParticles.load()`);t.forEach(i=>i.addClickHandler(e))}}function F9(){const n=new L9;return n.init(),n}class cr{constructor(e){this.type=Ll.external,this.container=e}}class Xv{constructor(e){this.type=Ll.particles,this.container=e}}var Ai;(function(n){n.clockwise="clockwise",n.counterClockwise="counter-clockwise",n.random="random"})(Ai||(Ai={}));var MT;(function(n){n.linear="linear",n.radial="radial",n.random="random"})(MT||(MT={}));var zo;(function(n){n.easeInBack="ease-in-back",n.easeInCirc="ease-in-circ",n.easeInCubic="ease-in-cubic",n.easeInLinear="ease-in-linear",n.easeInQuad="ease-in-quad",n.easeInQuart="ease-in-quart",n.easeInQuint="ease-in-quint",n.easeInExpo="ease-in-expo",n.easeInSine="ease-in-sine",n.easeOutBack="ease-out-back",n.easeOutCirc="ease-out-circ",n.easeOutCubic="ease-out-cubic",n.easeOutLinear="ease-out-linear",n.easeOutQuad="ease-out-quad",n.easeOutQuart="ease-out-quart",n.easeOutQuint="ease-out-quint",n.easeOutExpo="ease-out-expo",n.easeOutSine="ease-out-sine",n.easeInOutBack="ease-in-out-back",n.easeInOutCirc="ease-in-out-circ",n.easeInOutCubic="ease-in-out-cubic",n.easeInOutLinear="ease-in-out-linear",n.easeInOutQuad="ease-in-out-quad",n.easeInOutQuart="ease-in-out-quart",n.easeInOutQuint="ease-in-out-quint",n.easeInOutExpo="ease-in-out-expo",n.easeInOutSine="ease-in-out-sine"})(zo||(zo={}));const Jv=F9();Yo()||(window.tsParticles=Jv);const j9=n=>{const e=n.id??"tsparticles";return Z.useEffect(()=>{let t;return Jv.load({id:e,url:n.url,options:n.options}).then(i=>{var r;t=i,(r=n.particlesLoaded)==null||r.call(n,i)}),()=>{t?.destroy()}},[e,n,n.url,n.options]),C.jsx("div",{id:e,className:n.className})};async function z9(n){await n(Jv)}const _y=.5,U9=2,Ss=0,Mi=1,VT=60,OT=0,B9=.01,$9=Math.PI*U9;function H9(n){const e=n.initialPosition,{dx:t,dy:i}=Tn(e,n.position),r=Math.abs(t),a=Math.abs(i),{maxDistance:l}=n.retina,c=l.horizontal,d=l.vertical;if(!c&&!d)return;const p=(c&&r>=c)??!1,m=(d&&a>=d)??!1;if((p||m)&&!n.misplaced)n.misplaced=!!c&&r>c||!!d&&a>d,c&&(n.velocity.x=n.velocity.y*_y-n.velocity.x),d&&(n.velocity.y=n.velocity.x*_y-n.velocity.y);else if((!c||r<c)&&(!d||a<d)&&n.misplaced)n.misplaced=!1;else if(n.misplaced){const v=n.position,w=n.velocity;c&&(v.x<e.x&&w.x<Ss||v.x>e.x&&w.x>Ss)&&(w.x*=-Qe()),d&&(v.y<e.y&&w.y<Ss||v.y>e.y&&w.y>Ss)&&(w.y*=-Qe())}}function q9(n,e,t,i,r,a,l){G9(n,l);const c=n.gravity,d=c?.enable&&c.inverse?-Mi:Mi;r&&t&&(n.velocity.x+=r*l.factor/(VT*t)),c?.enable&&t&&(n.velocity.y+=d*(c.acceleration*l.factor)/(VT*t));const p=n.moveDecay;n.velocity.multTo(p);const m=n.velocity.mult(t);c?.enable&&i>Ss&&(!c.inverse&&m.y>=Ss&&m.y>=i||c.inverse&&m.y<=Ss&&m.y<=-i)&&(m.y=d*i,t&&(n.velocity.y=m.y/t));const v=n.options.zIndex,w=(Mi-n.zIndexFactor)**v.velocityRate;m.multTo(w),m.multTo(a);const{position:x}=n;x.addTo(m),e.vibrate&&(x.x+=Math.sin(x.x*Math.cos(x.y))*a,x.y+=Math.cos(x.y*Math.sin(x.x))*a)}function W9(n,e,t){const i=n.container;if(!n.spin)return;const r=n.spin.direction===Ai.clockwise,a={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};n.position.x=n.spin.center.x+n.spin.radius*a.x(n.spin.angle)*t,n.position.y=n.spin.center.y+n.spin.radius*a.y(n.spin.angle)*t,n.spin.radius+=n.spin.acceleration*t;const l=Math.max(i.canvas.size.width,i.canvas.size.height),c=l*_y;n.spin.radius>c?(n.spin.radius=c,n.spin.acceleration*=-Mi):n.spin.radius<OT&&(n.spin.radius=OT,n.spin.acceleration*=-Mi),n.spin.angle+=e*B9*(Mi-n.spin.radius/l)}function G9(n,e){const t=n.options,i=t.move.path;if(!i.enable)return;if(n.lastPathTime<=n.pathDelay){n.lastPathTime+=e.value;return}const a=n.pathGenerator?.generate(n,e);a&&n.velocity.addTo(a),i.clamp&&(n.velocity.x=ci(n.velocity.x,-Mi,Mi),n.velocity.y=ci(n.velocity.y,-Mi,Mi)),n.lastPathTime-=n.pathDelay}function K9(n){return n.slow.inRange?n.slow.factor:Mi}function Q9(n){const e=n.container,t=n.options,i=t.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},a=.01,l={x:r.x*a*e.canvas.size.width,y:r.y*a*e.canvas.size.height},c=n.getPosition(),d=$n(c,l),p=ve(i.acceleration);n.retina.spinAcceleration=p*e.retina.pixelRatio,n.spin={center:l,direction:n.velocity.x>=Ss?Ai.clockwise:Ai.counterClockwise,angle:Qe()*$9,radius:d,acceleration:n.retina.spinAcceleration}}const Y9=2,X9=1,J9=1;class Z9{init(e){const t=e.options,i=t.move.gravity;e.gravity={enable:i.enable,acceleration:ve(i.acceleration),inverse:i.inverse},Q9(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,t){const i=e.options,r=i.move;if(!r.enable)return;const a=e.container,l=a.retina.pixelRatio;e.retina.moveSpeed??=ve(r.speed)*l,e.retina.moveDrift??=ve(e.options.move.drift)*l;const c=K9(e),d=a.retina.reduceFactor,p=e.retina.moveSpeed,m=e.retina.moveDrift,v=Ji(i.size.value)*l,w=r.size?e.getRadius()/v:X9,x=t.factor||J9,P=p*w*c*x/Y9,k=e.retina.maxSpeed??a.retina.maxSpeed;r.spin.enable?W9(e,P,d):q9(e,r,P,k,m,d,t),H9(e)}}async function eF(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("base",()=>Promise.resolve(new Z9),e)}const tF=2,nF=Math.PI*tF,iF=0,NT={x:0,y:0};function rF(n){const{context:e,particle:t,radius:i}=n;t.circleRange||(t.circleRange={min:iF,max:nF});const r=t.circleRange;e.arc(NT.x,NT.y,i,r.min,r.max,!1)}const sF=12,oF=360,LT=0;class aF{constructor(){this.validTypes=["circle"]}draw(e){rF(e)}getSidesCount(){return sF}particleInit(e,t){const i=t.shapeData,r=i?.angle??{max:oF,min:LT};t.circleRange=ul(r)?{min:Ds(r.min),max:Ds(r.max)}:{min:LT,max:Ds(r)}}}async function lF(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new aF,e)}class uF{constructor(e,t){this._container=e,this._engine=t}init(e){const t=Ic(this._engine,e.options.color,e.id,e.options.reduceDuplicates);t&&(e.color=FP(t,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:t,s:i,l:r}=e.options.color.animation,{color:a}=e;return!e.destroyed&&!e.spawning&&(a?.h.value!==void 0&&t.enable||a?.s.value!==void 0&&i.enable||a?.l.value!==void 0&&r.enable)}update(e,t){jP(e.color,t)}}async function cF(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("color",t=>Promise.resolve(new uF(t,n)),e)}var Ro;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=4]="a"})(Ro||(Ro={}));const hF=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,dF=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,yd=16,fF=1,pF=255;class mF{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const t=e.replace(hF,(r,a,l,c,d)=>a+a+l+l+c+c+(d!==void 0?d+d:"")),i=dF.exec(t);return i?{a:i[Ro.a]!==void 0?parseInt(i[Ro.a],yd)/pF:fF,b:parseInt(i[Ro.b],yd),g:parseInt(i[Ro.g],yd),r:parseInt(i[Ro.r],yd)}:void 0}}async function gF(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new mF,e)}var cl;(function(n){n[n.h=1]="h",n[n.s=2]="s",n[n.l=3]="l",n[n.a=5]="a"})(cl||(cl={}));class yF{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ol(i)}handleRangeColor(e){const t=e.value,i=t.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ol({h:ve(i.h),l:ve(i.l),s:ve(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const t=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=4,a=1,l=10;return i?x5({a:i.length>r?PP(i[cl.a]):a,h:parseInt(i[cl.h],l),l:parseInt(i[cl.l],l),s:parseInt(i[cl.s],l)}):void 0}}async function vF(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new yF,e)}class _F{constructor(e){this.container=e}init(e){const t=e.options.opacity,i=1;e.opacity=DP(t,i);const r=t.animation;r.enable&&(e.opacity.velocity=ve(r.speed)/xs*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Qe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,t){!this.isEnabled(e)||!e.opacity||Gv(e,e.opacity,!0,e.options.opacity.animation.destroy,t)}}async function wF(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("opacity",t=>Promise.resolve(new _F(t)),e)}const Ef=0,El=0;function EF(n){if(n.outMode!==Pt.bounce&&n.outMode!==Pt.split||n.direction!==Ve.left&&n.direction!==Ve.right)return;n.bounds.right<El&&n.direction===Ve.left?n.particle.position.x=n.size+n.offset.x:n.bounds.left>n.canvasSize.width&&n.direction===Ve.right&&(n.particle.position.x=n.canvasSize.width-n.size-n.offset.x);const e=n.particle.velocity.x;let t=!1;if(n.direction===Ve.right&&n.bounds.right>=n.canvasSize.width&&e>Ef||n.direction===Ve.left&&n.bounds.left<=El&&e<Ef){const r=ve(n.particle.options.bounce.horizontal.value);n.particle.velocity.x*=-r,t=!0}if(!t)return;const i=n.offset.x+n.size;n.bounds.right>=n.canvasSize.width&&n.direction===Ve.right?n.particle.position.x=n.canvasSize.width-i:n.bounds.left<=El&&n.direction===Ve.left&&(n.particle.position.x=i),n.outMode===Pt.split&&n.particle.destroy()}function TF(n){if(n.outMode!==Pt.bounce&&n.outMode!==Pt.split||n.direction!==Ve.bottom&&n.direction!==Ve.top)return;n.bounds.bottom<El&&n.direction===Ve.top?n.particle.position.y=n.size+n.offset.y:n.bounds.top>n.canvasSize.height&&n.direction===Ve.bottom&&(n.particle.position.y=n.canvasSize.height-n.size-n.offset.y);const e=n.particle.velocity.y;let t=!1;if(n.direction===Ve.bottom&&n.bounds.bottom>=n.canvasSize.height&&e>Ef||n.direction===Ve.top&&n.bounds.top<=El&&e<Ef){const r=ve(n.particle.options.bounce.vertical.value);n.particle.velocity.y*=-r,t=!0}if(!t)return;const i=n.offset.y+n.size;n.bounds.bottom>=n.canvasSize.height&&n.direction===Ve.bottom?n.particle.position.y=n.canvasSize.height-i:n.bounds.top<=El&&n.direction===Ve.top&&(n.particle.position.y=i),n.outMode===Pt.split&&n.particle.destroy()}class xF{constructor(e){this.container=e,this.modes=[Pt.bounce,Pt.split]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;let l=!1;for(const w of a.plugins.values())if(w.particleBounce!==void 0&&(l=w.particleBounce(e,i,t)),l)break;if(l)return;const c=e.getPosition(),d=e.offset,p=e.getRadius(),m=$c(c,p),v=a.canvas.size;EF({particle:e,outMode:r,direction:t,bounds:m,canvasSize:v,offset:d,size:p}),TF({particle:e,outMode:r,direction:t,bounds:m,canvasSize:v,offset:d,size:p})}}const vd=0;class SF{constructor(e){this.container=e,this.modes=[Pt.destroy]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case Oi.normal:case Oi.outside:if(Hv(e.position,a.canvas.size,$t.origin,e.getRadius(),t))return;break;case Oi.inside:{const{dx:l,dy:c}=Tn(e.position,e.moveCenter),{x:d,y:p}=e.velocity;if(d<vd&&l>e.moveCenter.radius||p<vd&&c>e.moveCenter.radius||d>=vd&&l<-e.moveCenter.radius||p>=vd&&c<-e.moveCenter.radius)return;break}}a.particles.remove(e,e.group,!0)}}const _d=0;class IF{constructor(e){this.container=e,this.modes=[Pt.none]}update(e,t,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(t===Ve.left||t===Ve.right))??(e.options.move.distance.vertical&&(t===Ve.top||t===Ve.bottom))))return;const a=e.options.move.gravity,l=this.container,c=l.canvas.size,d=e.getRadius();if(a.enable){const p=e.position;(!a.inverse&&p.y>c.height+d&&t===Ve.bottom||a.inverse&&p.y<-d&&t===Ve.top)&&l.particles.remove(e)}else{if(e.velocity.y>_d&&e.position.y<=c.height+d||e.velocity.y<_d&&e.position.y>=-d||e.velocity.x>_d&&e.position.x<=c.width+d||e.velocity.x<_d&&e.position.x>=-d)return;Hv(e.position,l.canvas.size,$t.origin,d,t)||l.particles.remove(e)}}}const wd=0,Ed=0;class bF{constructor(e){this.container=e,this.modes=[Pt.out]}update(e,t,i,r){if(!this.modes.includes(r))return;const a=this.container;switch(e.outType){case Oi.inside:{const{x:l,y:c}=e.velocity,d=$t.origin;d.length=e.moveCenter.radius,d.angle=e.velocity.angle+Math.PI,d.addTo($t.create(e.moveCenter));const{dx:p,dy:m}=Tn(e.position,d);if(l<=wd&&p>=Ed||c<=wd&&m>=Ed||l>=wd&&p<=Ed||c>=wd&&m<=Ed)return;e.position.x=Math.floor(Un({min:0,max:a.canvas.size.width})),e.position.y=Math.floor(Un({min:0,max:a.canvas.size.height}));const{dx:v,dy:w}=Tn(e.position,e.moveCenter);e.direction=Math.atan2(-w,-v),e.velocity.angle=e.direction;break}default:{if(Hv(e.position,a.canvas.size,$t.origin,e.getRadius(),t))return;switch(e.outType){case Oi.outside:{e.position.x=Math.floor(Un({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Un({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:l,dy:c}=Tn(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(c,l),e.velocity.angle=e.direction);break}case Oi.normal:{const l=e.options.move.warp,c=a.canvas.size,d={bottom:c.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:c.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},p=e.getRadius(),m=$c(e.position,p);t===Ve.right&&m.left>c.width+e.offset.x?(e.position.x=d.left,e.initialPosition.x=e.position.x,l||(e.position.y=Qe()*c.height,e.initialPosition.y=e.position.y)):t===Ve.left&&m.right<-e.offset.x&&(e.position.x=d.right,e.initialPosition.x=e.position.x,l||(e.position.y=Qe()*c.height,e.initialPosition.y=e.position.y)),t===Ve.bottom&&m.top>c.height+e.offset.y?(l||(e.position.x=Qe()*c.width,e.initialPosition.x=e.position.x),e.position.y=d.top,e.initialPosition.y=e.position.y):t===Ve.top&&m.bottom<-e.offset.y&&(l||(e.position.x=Qe()*c.width,e.initialPosition.x=e.position.x),e.position.y=d.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const PF=(n,e)=>n.default===e||n.bottom===e||n.left===e||n.right===e||n.top===e;class CF{constructor(e){this._addUpdaterIfMissing=(t,i,r)=>{const a=t.options.move.outModes;!this.updaters.has(i)&&PF(a,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(t,i,r,a)=>{for(const l of this.updaters.values())l.update(t,a,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Pt.bounce,t=>new xF(t)),this._addUpdaterIfMissing(e,Pt.out,t=>new bF(t)),this._addUpdaterIfMissing(e,Pt.destroy,t=>new SF(t)),this._addUpdaterIfMissing(e,Pt.none,t=>new IF(t))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,t){const i=e.options.move.outModes;this._updateOutMode(e,t,i.bottom??i.default,Ve.bottom),this._updateOutMode(e,t,i.left??i.default,Ve.left),this._updateOutMode(e,t,i.right??i.default,Ve.right),this._updateOutMode(e,t,i.top??i.default,Ve.top)}}async function kF(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("outModes",t=>Promise.resolve(new CF(t)),e)}var hl;(function(n){n[n.r=1]="r",n[n.g=2]="g",n[n.b=3]="b",n[n.a=5]="a"})(hl||(hl={}));class AF{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const t=e.value,i=t.rgb??e.value;if(i.r!==void 0)return{r:ve(i.r),g:ve(i.g),b:ve(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const t=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=t.exec(e),r=10;return i?{a:i.length>4?PP(i[hl.a]):1,b:parseInt(i[hl.b],r),g:parseInt(i[hl.g],r),r:parseInt(i[hl.r],r)}:void 0}}async function RF(n,e=!0){n.checkVersion("3.9.1"),await n.addColorManager(new AF,e)}const So=0;class DF{init(e){const t=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??t.retina.sizeAnimationSpeed)/xs*t.retina.reduceFactor,r.sync||(e.size.velocity*=Qe()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??So)<=So||(e.size.maxLoops??So)>So&&(e.size.loops??So)<(e.size.maxLoops??So))}reset(e){e.size.loops=So}update(e,t){this.isEnabled(e)&&Gv(e,e.size,!0,e.options.size.animation.destroy,t)}}async function MF(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("size",()=>Promise.resolve(new DF),e)}async function VF(n,e=!0){n.checkVersion("3.9.1"),await gF(n,!1),await vF(n,!1),await RF(n,!1),await eF(n,!1),await lF(n,!1),await cF(n,!1),await wF(n,!1),await kF(n,!1),await MF(n,!1),await n.refresh(e)}async function OF(n,e=!0){n.checkVersion("3.9.1"),await n.addEasing(zo.easeInQuad,t=>t**2,!1),await n.addEasing(zo.easeOutQuad,t=>1-(1-t)**2,!1),await n.addEasing(zo.easeInOutQuad,t=>t<.5?2*t**2:1-(-2*t+2)**2/2,!1),await n.refresh(e)}function NF(n,e){const{context:t,opacity:i}=n,r=.5,a=t.globalAlpha;if(!e)return;const l=e.width,c=l*r;t.globalAlpha=i,t.drawImage(e,-c,-c,l,l),t.globalAlpha=a}const pg='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',FT=0;class LF{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,t]of this._emojiShapeDict)t instanceof ImageBitmap&&t?.close(),this._emojiShapeDict.delete(e)}draw(e){const t=e.particle.emojiDataKey;if(!t)return;const i=this._emojiShapeDict.get(t);i&&NF(e,i)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(!i.find(l=>Et(l,t.particles.shape.type)))return;const r=[IT(pg)],a=i.map(l=>t.particles.shape.options[l]).find(l=>!!l);a&&Wn(a,l=>{l.font&&r.push(IT(l.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,t){const r=t.shapeData;if(!r?.value)return;const a=li(r.value,t.randomIndexData);if(!a)return;const l=typeof a=="string"?{font:r.font??pg,padding:r.padding??FT,value:a}:{font:pg,padding:FT,...r,...a},c=l.font,d=l.value,p=`${d}_${c}`;if(this._emojiShapeDict.has(p)){t.emojiDataKey=p;return}const m=l.padding*2,v=Ji(t.size.value),w=v+m,x=w*2;let P;if(typeof OffscreenCanvas<"u"){const k=new OffscreenCanvas(x,x),b=k.getContext("2d");if(!b)return;b.font=`400 ${v*2}px ${c}`,b.textBaseline="middle",b.textAlign="center",b.fillText(d,w,w),P=k.transferToImageBitmap()}else{const k=document.createElement("canvas");k.width=x,k.height=x;const b=k.getContext("2d");if(!b)return;b.font=`400 ${v*2}px ${c}`,b.textBaseline="middle",b.textAlign="center",b.fillText(d,w,w),P=k}this._emojiShapeDict.set(p,P),t.emojiDataKey=p}}async function FF(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new LF,e)}const jF=1,zF=1,WP=0;function GP(n,e,t,i,r,a){const l=e.actualOptions.interactivity.modes.attract;if(!l)return;const c=e.particles.quadTree.query(r,a);for(const d of c){const{dx:p,dy:m,distance:v}=Tn(d.position,t),w=l.speed*l.factor,x=ci(n.getEasing(l.easing)(zF-v/i)*w,jF,l.maxSpeed),P=$t.create(v?p/v*x:w,v?m/v*x:w);d.position.subFrom(P)}}function UF(n,e,t){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,a=e.retina.attractModeDistance;if(!a||a<WP||!r)return;GP(n,e,r,a,new dn(r.x,r.y,a),l=>t(l))}else i.clicking===!1&&(i.particles=[])}function BF(n,e,t){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<WP||!i||GP(n,e,i,r,new dn(i.x,i.y,r),a=>t(a))}class $F{constructor(){this.distance=200,this.duration=.4,this.easing=zo.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const Hu="attract";let HF=class extends cr{constructor(e,t){super(t),this._engine=e,t.attract||(t.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.attract;if(!(!a||i!==Hu)){t.attract||(t.attract={particles:[]}),t.attract.clicking=!0,t.attract.count=0;for(const l of t.attract.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);t.attract.particles=[],t.attract.finish=!1,setTimeout(()=>{t.destroyed||(t.attract||(t.attract={particles:[]}),t.attract.clicking=!1)},a.duration*cn)}}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.attract;t&&(e.retina.attractModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Go,r=t.interactivity.events,{enable:a,mode:l}=r.onHover,{enable:c,mode:d}=r.onClick;i&&a&&Et(Hu,l)?BF(this._engine,this.container,p=>this.isEnabled(p)):c&&Et(Hu,d)&&UF(this._engine,this.container,p=>this.isEnabled(p))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events;if((!r.position||!a.onHover.enable)&&(!r.clickPosition||!a.onClick.enable))return!1;const l=a.onHover.mode,c=a.onClick.mode;return Et(Hu,l)||Et(Hu,c)}loadModeOptions(e,...t){e.attract||(e.attract=new $F);for(const i of t)e.attract.load(i?.attract)}reset(){}};async function qF(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalAttract",t=>Promise.resolve(new HF(n,t)),e)}const WF=2,Ud=.5,GF=Math.PI*Ud,jT=2,KP=10,KF=0;function QP(n,e,t,i,r){const a=n.particles.quadTree.query(i,r);for(const l of a)i instanceof dn?AP(gy(l),{position:e,mass:t**WF*GF,velocity:$t.origin,factor:$t.origin}):i instanceof Li&&m5(l,$c(e,t))}function QF(n,e,t,i){const r=document.querySelectorAll(e);r.length&&r.forEach(a=>{const l=a,c=n.retina.pixelRatio,d={x:(l.offsetLeft+l.offsetWidth*Ud)*c,y:(l.offsetTop+l.offsetHeight*Ud)*c},p=l.offsetWidth*Ud*c,m=KP*c,v=t.type===Nl.circle?new dn(d.x,d.y,p+m):new Li(l.offsetLeft*c-m,l.offsetTop*c-m,l.offsetWidth*c+m*jT,l.offsetHeight*c+m*jT);i(d,p,v)})}function YF(n,e,t,i){Wv(t,e,(r,a)=>QF(n,r,a,(l,c,d)=>QP(n,l,c,d,i)))}function XF(n,e){const t=n.retina.pixelRatio,i=KP*t,r=n.interactivity.mouse.position,a=n.retina.bounceModeDistance;!a||a<KF||!r||QP(n,r,a,new dn(r.x,r.y,a+i),e)}class JF{constructor(){this.distance=200}load(e){le(e)||e.distance!==void 0&&(this.distance=e.distance)}}const Td="bounce";class ZF extends cr{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity.events,r=e.interactivity.status===Go,a=i.onHover.enable,l=i.onHover.mode,c=i.onDiv;r&&a&&Et(Td,l)?XF(this.container,d=>this.isEnabled(d)):YF(this.container,c,Td,d=>this.isEnabled(d))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,l=a.onDiv;return!!r.position&&a.onHover.enable&&Et(Td,a.onHover.mode)||qv(Td,l)}loadModeOptions(e,...t){e.bounce||(e.bounce=new JF);for(const i of t)e.bounce.load(i?.bounce)}reset(){}}async function e8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBounce",t=>Promise.resolve(new ZF(t)),e)}class YP{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!le(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const t=ur(this.color)?void 0:this.color;this.color=Wn(e.color,i=>mn.create(t,i))}e.size!==void 0&&(this.size=e.size)}}}class t8 extends YP{constructor(){super(),this.selectors=[]}load(e){super.load(e),!le(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class n8 extends YP{load(e){super.load(e),!le(e)&&(this.divs=Wn(e.divs,t=>{const i=new t8;return i.load(t),i}))}}var Qi;(function(n){n.color="color",n.opacity="opacity",n.size="size"})(Qi||(Qi={}));function zT(n,e,t,i){if(e>=t){const r=n+(e-t)*i;return ci(r,n,e)}else if(e<t){const r=n-(t-e)*i;return ci(r,e,n)}}const Io="bubble",mg=0,i8=0,r8=2,UT=1,BT=1,s8=0,o8=0,gg=.5,yg=1;class a8 extends cr{constructor(e,t){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,a=i.interactivity.mouse.clickPosition,l=r.interactivity.modes.bubble;if(!l||!a)return;i.bubble||(i.bubble={});const c=i.retina.bubbleModeDistance;if(!c||c<mg)return;const d=i.particles.quadTree.queryCircle(a,c,m=>this.isEnabled(m)),{bubble:p}=i;for(const m of d){if(!p.clicking)continue;m.bubble.inRange=!p.durationEnd;const v=m.getPosition(),w=$n(v,a),x=(new Date().getTime()-(i.interactivity.mouse.clickTime??i8))/cn;x>l.duration&&(p.durationEnd=!0),x>l.duration*r8&&(p.clicking=!1,p.durationEnd=!1);const P={bubbleObj:{optValue:i.retina.bubbleModeSize,value:m.bubble.radius},particlesObj:{optValue:Ji(m.options.size.value)*i.retina.pixelRatio,value:m.size.value},type:Qi.size};this._process(m,w,x,P);const k={bubbleObj:{optValue:l.opacity,value:m.bubble.opacity},particlesObj:{optValue:Ji(m.options.opacity.value),value:m.opacity?.value??UT},type:Qi.opacity};this._process(m,w,x,k),!p.durationEnd&&w<=c?this._hoverBubbleColor(m,w):delete m.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.bubbleModeDistance;if(!a||a<mg||!r)return;const l=i.particles.quadTree.queryCircle(r,a,c=>this.isEnabled(c));for(const c of l){c.bubble.inRange=!0;const d=c.getPosition(),p=$n(d,r),m=BT-p/a;p<=a?m>=o8&&i.interactivity.status===Go&&(this._hoverBubbleSize(c,m),this._hoverBubbleOpacity(c,m),this._hoverBubbleColor(c,m)):this.reset(c),i.interactivity.status===cy&&this.reset(c)}},this._hoverBubbleColor=(i,r,a)=>{const l=this.container.actualOptions,c=a??l.interactivity.modes.bubble;if(c){if(!i.bubble.finalColor){const d=c.color;if(!d)return;const p=li(d);i.bubble.finalColor=Ic(this._engine,p)}if(i.bubble.finalColor)if(c.mix){i.bubble.color=void 0;const d=i.getFillColor();i.bubble.color=d?OP(Kv(d,i.bubble.finalColor,BT-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,a)=>{const l=this.container,c=l.actualOptions,d=a?.opacity??c.interactivity.modes.bubble?.opacity;if(!d)return;const p=i.options.opacity.value,m=i.opacity?.value??UT,v=zT(m,d,Ji(p),r);v!==void 0&&(i.bubble.opacity=v)},this._hoverBubbleSize=(i,r,a)=>{const l=this.container,c=a?.size?a.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(c===void 0)return;const d=Ji(i.options.size.value)*l.retina.pixelRatio,p=i.size.value,m=zT(p,c,d,r);m!==void 0&&(i.bubble.radius=m)},this._process=(i,r,a,l)=>{const c=this.container,d=l.bubbleObj.optValue,p=c.actualOptions,m=p.interactivity.modes.bubble;if(!m||d===void 0)return;const v=m.duration,w=c.retina.bubbleModeDistance,x=l.particlesObj.optValue,P=l.bubbleObj.value,k=l.particlesObj.value??s8,b=l.type;if(!(!w||w<mg||d===x))if(c.bubble||(c.bubble={}),c.bubble.durationEnd)P&&(b===Qi.size&&delete i.bubble.radius,b===Qi.opacity&&delete i.bubble.opacity);else if(r<=w){if((P??k)!==d){const U=k-a*(k-d)/v;b===Qi.size&&(i.bubble.radius=U),b===Qi.opacity&&(i.bubble.opacity=U)}}else b===Qi.size&&delete i.bubble.radius,b===Qi.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,a)=>{const l=this.container,c=document.querySelectorAll(r),d=l.actualOptions.interactivity.modes.bubble;!d||!c.length||c.forEach(p=>{const m=p,v=l.retina.pixelRatio,w={x:(m.offsetLeft+m.offsetWidth*gg)*v,y:(m.offsetTop+m.offsetHeight*gg)*v},x=m.offsetWidth*gg*v,P=a.type===Nl.circle?new dn(w.x,w.y,x):new Li(m.offsetLeft*v,m.offsetTop*v,m.offsetWidth*v,m.offsetHeight*v),k=l.particles.quadTree.query(P,b=>this.isEnabled(b));for(const b of k){if(!P.contains(b.getPosition()))continue;b.bubble.inRange=!0;const F=d.divs,U=kP(F,m);(!b.bubble.div||b.bubble.div!==m)&&(this.clear(b,i,!0),b.bubble.div=m),this._hoverBubbleSize(b,yg,U),this._hoverBubbleOpacity(b,yg,U),this._hoverBubbleColor(b,yg,U)}})},this._engine=t,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Io&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,t,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bubble;t&&(e.retina.bubbleModeDistance=t.distance*e.retina.pixelRatio,t.size!==void 0&&(e.retina.bubbleModeSize=t.size*e.retina.pixelRatio))}interact(e){const t=this.container.actualOptions,i=t.interactivity.events,r=i.onHover,a=i.onClick,l=r.enable,c=r.mode,d=a.enable,p=a.mode,m=i.onDiv;l&&Et(Io,c)?this._hoverBubble():d&&Et(Io,p)?this._clickBubble():Wv(Io,m,(v,w)=>this._singleSelectorHover(e,v,w))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,{onClick:l,onDiv:c,onHover:d}=a,p=qv(Io,c);return p||d.enable&&r.position||l.enable&&r.clickPosition?Et(Io,d.mode)||Et(Io,l.mode)||p:!1}loadModeOptions(e,...t){e.bubble||(e.bubble=new n8);for(const i of t)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function l8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalBubble",t=>Promise.resolve(new a8(t,n)),e)}class u8{constructor(){this.opacity=.5}load(e){le(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class c8{constructor(){this.distance=80,this.links=new u8,this.radius=60}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const $T=0,HT=1,h8=0;function d8(n,e,t,i){const r=Math.floor(t.getRadius()/e.getRadius()),a=e.getFillColor(),l=t.getFillColor();if(!a||!l)return;const c=e.getPosition(),d=t.getPosition(),p=Kv(a,l,e.getRadius(),t.getRadius()),m=n.createLinearGradient(c.x,c.y,d.x,d.y);return m.addColorStop($T,bc(a,i)),m.addColorStop(ci(r,$T,HT),Lr(p,i)),m.addColorStop(HT,bc(l,i)),m}function f8(n,e,t,i,r){cc(n,i,r),n.lineWidth=e,n.strokeStyle=t,n.stroke()}function p8(n,e,t,i){const r=n.actualOptions,a=r.interactivity.modes.connect;if(a)return d8(e,t,i,a.links.opacity)}function m8(n,e,t){n.canvas.draw(i=>{const r=p8(n,i,e,t);if(!r)return;const a=e.getPosition(),l=t.getPosition();f8(i,e.retina.linksWidth??h8,r,a,l)})}const g8="connect",qT=0;class y8 extends cr{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.connect;t&&(e.retina.connectModeDistance=t.distance*e.retina.pixelRatio,e.retina.connectModeRadius=t.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:a}=e.retina;if(!r||r<qT||!a||a<qT||!i)return;const l=Math.abs(a),c=e.particles.quadTree.queryCircle(i,l,d=>this.isEnabled(d));c.forEach((d,p)=>{const m=d.getPosition(),v=1;for(const w of c.slice(p+v)){const x=w.getPosition(),P=Math.abs(r),k=Math.abs(m.x-x.x),b=Math.abs(m.y-x.y);k<P&&b<P&&m8(e,d,w)}})}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Et(g8,r.onHover.mode):!1}loadModeOptions(e,...t){e.connect||(e.connect=new c8);for(const i of t)e.connect.load(i?.connect)}reset(){}}async function v8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalConnect",t=>Promise.resolve(new y8(t)),e)}class _8{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){le(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=mn.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class w8{constructor(){this.distance=100,this.links=new _8}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const E8=0;function T8(n,e,t,i,r,a){cc(n,t,i),n.strokeStyle=Lr(r,a),n.lineWidth=e,n.stroke()}function x8(n,e,t,i,r){n.canvas.draw(a=>{const l=e.getPosition();T8(a,e.retina.linksWidth??E8,l,r,t,i)})}const S8="grab",I8=0,b8=0;class P8 extends cr{constructor(e,t){super(e),this._engine=t}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.grab;t&&(e.retina.grabModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=t.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==Go)return;const r=e.interactivity.mouse.position;if(!r)return;const a=e.retina.grabModeDistance;if(!a||a<I8)return;const l=e.particles.quadTree.queryCircle(r,a,c=>this.isEnabled(c));for(const c of l){const d=c.getPosition(),p=$n(d,r);if(p>a)continue;const m=i.modes.grab.links,v=m.opacity,w=v-p*v/a;if(w<=b8)continue;const x=m.color??c.options.links?.color;if(!e.particles.grabLineColor&&x){const k=i.modes.grab.links;e.particles.grabLineColor=LP(this._engine,x,k.blink,k.consent)}const P=vy(c,void 0,e.particles.grabLineColor);P&&x8(e,c,P,w,r)}}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Et(S8,r.onHover.mode)}loadModeOptions(e,...t){e.grab||(e.grab=new w8);for(const i of t)e.grab.load(i?.grab)}reset(){}}async function C8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalGrab",t=>Promise.resolve(new P8(t,n)),e)}const k8="pause";class A8 extends cr{constructor(e){super(e),this.handleClickMode=t=>{if(t!==k8)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function R8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPause",t=>Promise.resolve(new A8(t)),e)}class D8{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(le(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const t=e.quantity;t!==void 0&&(this.quantity=$e(t)),this.particles=Wn(e.particles,i=>pn({},i))}}const M8="push",V8=0;class O8 extends cr{constructor(e){super(e),this.handleClickMode=t=>{if(t!==M8)return;const i=this.container,r=i.actualOptions,a=r.interactivity.modes.push;if(!a)return;const l=ve(a.quantity);if(l<=V8)return;const c=Zf([void 0,...a.groups]),d=c!==void 0?i.actualOptions.particles.groups[c]:void 0,p=li(a.particles),m=pn(d,p);i.particles.push(l,i.interactivity.mouse,m,c)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.push||(e.push=new D8);for(const i of t)e.push.load(i?.push)}reset(){}}async function N8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalPush",t=>Promise.resolve(new O8(t)),e)}class L8{constructor(){this.quantity=2}load(e){if(le(e))return;const t=e.quantity;t!==void 0&&(this.quantity=$e(t))}}const F8="remove";class j8 extends cr{constructor(e){super(e),this.handleClickMode=t=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||t!==F8)return;const a=ve(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...t){e.remove||(e.remove=new L8);for(const i of t)e.remove.load(i?.remove)}reset(){}}async function z8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRemove",t=>Promise.resolve(new j8(t)),e)}class XP{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=zo.easeOutQuad}load(e){le(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class U8 extends XP{constructor(){super(),this.selectors=[]}load(e){super.load(e),!le(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class B8 extends XP{load(e){super.load(e),!le(e)&&(this.divs=Wn(e.divs,t=>{const i=new U8;return i.load(t),i}))}}const bo="repulse",$8=0,H8=6,q8=3,W8=2,G8=0,K8=0,Q8=1,vg=.5;class Y8 extends cr{constructor(e,t){super(t),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const a=i.repulse??{particles:[]};if(a.finish||(a.count||(a.count=0),a.count++,a.count===i.particles.count&&(a.finish=!0)),a.clicking){const l=i.retina.repulseModeDistance;if(!l||l<$8)return;const c=Math.pow(l/H8,q8),d=i.interactivity.mouse.clickPosition;if(d===void 0)return;const p=new dn(d.x,d.y,c),m=i.particles.quadTree.query(p,v=>this.isEnabled(v));for(const v of m){const{dx:w,dy:x,distance:P}=Tn(d,v.position),k=P**W8,b=r.speed,F=-c*b/k;if(k<=c){a.particles.push(v);const U=$t.create(w,x);U.length=F,v.velocity.setTo(U)}}}else if(a.clicking===!1){for(const l of a.particles)l.velocity.setTo(l.initialVelocity);a.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,a=i.retina.repulseModeDistance;!a||a<G8||!r||this._processRepulse(r,a,new dn(r.x,r.y,a))},this._processRepulse=(i,r,a,l)=>{const c=this.container,d=c.particles.quadTree.query(a,b=>this.isEnabled(b)),p=c.actualOptions.interactivity.modes.repulse;if(!p)return;const{easing:m,speed:v,factor:w,maxSpeed:x}=p,P=this._engine.getEasing(m),k=(l?.speed??v)*w;for(const b of d){const{dx:F,dy:U,distance:q}=Tn(b.position,i),G=ci(P(Q8-q/r)*k,K8,x),Y=$t.create(q?F/q*G:k,q?U/q*G:k);b.position.addTo(Y)}},this._singleSelectorRepulse=(i,r)=>{const a=this.container,l=a.actualOptions.interactivity.modes.repulse;if(!l)return;const c=document.querySelectorAll(i);c.length&&c.forEach(d=>{const p=d,m=a.retina.pixelRatio,v={x:(p.offsetLeft+p.offsetWidth*vg)*m,y:(p.offsetTop+p.offsetHeight*vg)*m},w=p.offsetWidth*vg*m,x=r.type===Nl.circle?new dn(v.x,v.y,w):new Li(p.offsetLeft*m,p.offsetTop*m,p.offsetWidth*m,p.offsetHeight*m),P=l.divs,k=kP(P,p);this._processRepulse(v,w,x,k)})},this._engine=e,t.repulse||(t.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,a=r.interactivity.modes.repulse;if(!a||i!==bo)return;t.repulse||(t.repulse={particles:[]});const l=t.repulse;l.clicking=!0,l.count=0;for(const c of t.repulse.particles)this.isEnabled(c)&&c.velocity.setTo(c.initialVelocity);l.particles=[],l.finish=!1,setTimeout(()=>{t.destroyed||(l.clicking=!1)},a.duration*cn)}}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.repulse;t&&(e.retina.repulseModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,i=e.interactivity.status===Go,r=t.interactivity.events,a=r.onHover,l=a.enable,c=a.mode,d=r.onClick,p=d.enable,m=d.mode,v=r.onDiv;i&&l&&Et(bo,c)?this._hoverRepulse():p&&Et(bo,m)?this._clickRepulse():Wv(bo,v,(w,x)=>this._singleSelectorRepulse(w,x))}isEnabled(e){const t=this.container,i=t.actualOptions,r=t.interactivity.mouse,a=(e?.interactivity??i.interactivity).events,l=a.onDiv,c=a.onHover,d=a.onClick,p=qv(bo,l);if(!(p||c.enable&&r.position||d.enable&&r.clickPosition))return!1;const m=c.mode,v=d.mode;return Et(bo,m)||Et(bo,v)||p}loadModeOptions(e,...t){e.repulse||(e.repulse=new B8);for(const i of t)e.repulse.load(i?.repulse)}reset(){}}async function X8(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalRepulse",t=>Promise.resolve(new Y8(n,t)),e)}class J8{constructor(){this.factor=3,this.radius=200}load(e){le(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const Z8="slow",ej=0;class tj extends cr{constructor(e){super(e)}clear(e,t,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,t=e.actualOptions.interactivity.modes.slow;t&&(e.retina.slowModeRadius=t.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const t=this.container,i=t.interactivity.mouse,r=(e?.interactivity??t.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Et(Z8,r.onHover.mode)}loadModeOptions(e,...t){e.slow||(e.slow=new J8);for(const i of t)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const t=this.container,i=t.actualOptions,r=t.interactivity.mouse.position,a=t.retina.slowModeRadius,l=i.interactivity.modes.slow;if(!l||!a||a<ej||!r)return;const c=e.getPosition(),d=$n(r,c),p=d/a,m=l.factor,{slow:v}=e;d>a||(v.inRange=!0,v.factor=p/m)}}async function nj(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("externalSlow",t=>Promise.resolve(new tj(t)),e)}const ij=0,rj=1,sj=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function oj(n,e,t){const{svgData:i}=n;if(!i)return"";const r=bc(e,t);if(i.includes("fill"))return i.replace(sj,()=>r);const a=i.indexOf(">");return`${i.substring(ij,a)} fill="${r}"${i.substring(a)}`}async function ep(n){return new Promise(e=>{n.loading=!0;const t=new Image;n.element=t,t.addEventListener("load",()=>{n.loading=!1,e()}),t.addEventListener("error",()=>{n.element=void 0,n.error=!0,n.loading=!1,Qo().error(`${ui} loading image: ${n.source}`),e()}),t.src=n.source})}async function aj(n){if(n.type!=="svg"){await ep(n);return}n.loading=!0;const e=await fetch(n.source);e.ok?n.svgData=await e.text():(Qo().error(`${ui} Image not found`),n.error=!0),n.loading=!1}function lj(n,e,t,i){const r=oj(n,t,i.opacity?.value??rj),a={color:t,gif:e.gif,data:{...n,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(l=>{const c=new Blob([r],{type:"image/svg+xml"}),d=URL||window.URL||window.webkitURL||window,p=d.createObjectURL(c),m=new Image;m.addEventListener("load",()=>{a.loaded=!0,a.element=m,l(a),d.revokeObjectURL(p)});const v=async()=>{d.revokeObjectURL(p);const w={...n,error:!1,loading:!0};await ep(w),a.loaded=!0,a.element=w.element,l(a)};m.addEventListener("error",()=>void v()),m.src=p})}const _g=[0,4,2,1],WT=[8,8,4,2];class uj{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const t=this.data.slice(this.pos,this.pos+e);return this.pos+=t.length,t.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",t=0;const i=0,r=0;do{t=this.data[this.pos++];for(let a=t;--a>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(t!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],t=0;const i=0,r=1;for(let l=0;e!==i;l+=e+r,e=this.data[this.pos+l])t+=e;const a=new Uint8Array(t);e=this.data[this.pos++];for(let l=0;e!==i;e=this.data[this.pos++])for(let c=e;--c>=i;a[l++]=this.data[this.pos++]);return a}skipSubBlocks(){for(const e=1,t=0;this.data[this.pos]!==t;this.pos+=this.data[this.pos]+e);this.pos++}}var Pi;(function(n){n[n.Replace=0]="Replace",n[n.Combine=1]="Combine",n[n.RestoreBackground=2]="RestoreBackground",n[n.RestorePrevious=3]="RestorePrevious",n[n.UndefinedA=4]="UndefinedA",n[n.UndefinedB=5]="UndefinedB",n[n.UndefinedC=6]="UndefinedC",n[n.UndefinedD=7]="UndefinedD"})(Pi||(Pi={}));var Dr;(function(n){n[n.Extension=33]="Extension",n[n.ApplicationExtension=255]="ApplicationExtension",n[n.GraphicsControlExtension=249]="GraphicsControlExtension",n[n.PlainTextExtension=1]="PlainTextExtension",n[n.CommentExtension=254]="CommentExtension",n[n.Image=44]="Image",n[n.EndOfFile=59]="EndOfFile"})(Dr||(Dr={}));const Rn={x:0,y:0},cj=0,GT=.5,hj=0,KT=0,wy=0;function JP(n,e){const t=[];for(let i=0;i<e;i++)t.push({r:n.data[n.pos],g:n.data[n.pos+1],b:n.data[n.pos+2]}),n.pos+=3;return t}function dj(n,e,t,i){switch(n.nextByte()){case Dr.GraphicsControlExtension:{const r=e.frames[t(!1)];n.pos++;const a=n.nextByte();r.GCreserved=(a&224)>>>5,r.disposalMethod=(a&28)>>>2,r.userInputDelayFlag=(a&2)===2;const l=(a&1)===1;r.delayTime=n.nextTwoBytes()*10;const c=n.nextByte();l&&i(c),n.pos++;break}case Dr.ApplicationExtension:{n.pos++;const r={identifier:n.getString(8),authenticationCode:n.getString(3),data:n.readSubBlocksBin()};e.applicationExtensions.push(r);break}case Dr.CommentExtension:{e.comments.push([t(!1),n.readSubBlocks()]);break}case Dr.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");n.pos++,e.frames[t(!1)].plainTextData={left:n.nextTwoBytes(),top:n.nextTwoBytes(),width:n.nextTwoBytes(),height:n.nextTwoBytes(),charSize:{width:n.nextTwoBytes(),height:n.nextTwoBytes()},foregroundColor:n.nextByte(),backgroundColor:n.nextByte(),text:n.readSubBlocks()};break}default:n.skipSubBlocks();break}}async function fj(n,e,t,i,r,a){const l=e.frames[i(!0)];l.left=n.nextTwoBytes(),l.top=n.nextTwoBytes(),l.width=n.nextTwoBytes(),l.height=n.nextTwoBytes();const c=n.nextByte(),d=(c&128)===128,p=(c&64)===64;l.sortFlag=(c&32)===32,l.reserved=(c&24)>>>3;const m=1<<(c&7)+1;d&&(l.localColorTable=JP(n,m));const v=F=>{const{r:U,g:q,b:G}=(d?l.localColorTable:e.globalColorTable)[F];return F!==r(null)?{r:U,g:q,b:G,a:255}:{r:U,g:q,b:G,a:t?~~((U+q+G)/3):0}},w=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(F){if(F instanceof DOMException&&F.name==="IndexSizeError")return null;throw F}})();if(w==null)throw new EvalError("GIF frame size is to large");const x=n.nextByte(),P=n.readSubBlocksBin(),k=1<<x,b=(F,U)=>{const q=F>>>3,G=F&7;return(P[q]+(P[q+1]<<8)+(P[q+2]<<16)&(1<<U)-1<<G)>>>G};if(p){for(let F=0,U=x+1,q=0,G=[[0]],Y=0;Y<4;Y++)if(_g[Y]<l.height){let ie=0,D=0,I=!1;for(;!I;){const A=F;if(F=b(q,U),q+=U+1,F===k){U=x+1,G.length=k+2;for(let V=0;V<G.length;V++)G[V]=V<k?[V]:[]}else{F>=G.length?G.push(G[A].concat(G[A][0])):A!==k&&G.push(G[A].concat(G[F][0]));for(const V of G[F]){const{r:N,g:z,b:M,a:Ue}=v(V);w.data.set([N,z,M,Ue],_g[Y]*l.width+WT[Y]*D+ie%(l.width*4)),ie+=4}G.length===1<<U&&U<12&&U++}ie===l.width*4*(D+1)&&(D++,_g[Y]+WT[Y]*D>=l.height&&(I=!0))}}l.image=w,l.bitmap=await createImageBitmap(w)}else{let F=0,U=x+1,q=0,G=-4,Y=!1;const ie=[[0]];for(;!Y;){const D=F;if(F=b(q,U),q+=U,F===k){U=x+1,ie.length=k+2;for(let I=0;I<ie.length;I++)ie[I]=I<k?[I]:[]}else{if(F===k+1){Y=!0;break}F>=ie.length?ie.push(ie[D].concat(ie[D][0])):D!==k&&ie.push(ie[D].concat(ie[F][0]));for(const I of ie[F]){const{r:A,g:V,b:N,a:z}=v(I);w.data.set([A,V,N,z],G+=4)}ie.length>=1<<U&&U<12&&U++}}l.image=w,l.bitmap=await createImageBitmap(w)}}async function pj(n,e,t,i,r,a){switch(n.nextByte()){case Dr.EndOfFile:return!0;case Dr.Image:await fj(n,e,t,i,r);break;case Dr.Extension:dj(n,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function mj(n){for(const e of n.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function gj(n,e,t){t||(t=!1);const i=await fetch(n);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),a={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},l=new uj(new Uint8ClampedArray(r));if(l.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");a.width=l.nextTwoBytes(),a.height=l.nextTwoBytes();const c=l.nextByte(),d=(c&128)===128;a.colorRes=(c&112)>>>4,a.sortFlag=(c&8)===8;const p=1<<(c&7)+1,m=l.nextByte();a.pixelAspectRatio=l.nextByte(),a.pixelAspectRatio!==0&&(a.pixelAspectRatio=(a.pixelAspectRatio+15)/64),d&&(a.globalColorTable=JP(l,p));const v=(()=>{try{return new ImageData(a.width,a.height,{colorSpace:"srgb"})}catch(G){if(G instanceof DOMException&&G.name==="IndexSizeError")return null;throw G}})();if(v==null)throw new Error("GIF frame size is to large");const{r:w,g:x,b:P}=a.globalColorTable[m];v.data.set(d?[w,x,P,255]:[0,0,0,0]);for(let G=4;G<v.data.length;G*=2)v.data.copyWithin(G,0,G);a.backgroundImage=v;let k=-1,b=!0,F=-1;const U=G=>(G&&(b=!0),k),q=G=>(G!=null&&(F=G),F);try{do b&&(a.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Pi.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),k++,F=-1,b=!1);while(!await pj(l,a,t,U,q,e));a.frames.length--;for(const G of a.frames){if(G.userInputDelayFlag&&G.delayTime===0){a.totalTime=1/0;break}a.totalTime+=G.delayTime}return a}catch(G){throw G instanceof EvalError?new Error(`error while parsing frame ${k} "${G.message}"`):G}}function yj(n){const{context:e,radius:t,particle:i,delta:r}=n,a=i.image;if(!a?.gifData||!a.gif)return;const l=new OffscreenCanvas(a.gifData.width,a.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(Rn.x,Rn.y,l.width,l.height),i.gifLoopCount===void 0&&(i.gifLoopCount=a.gifLoopCount??wy);let d=i.gifFrame??cj;const p={x:-a.gifData.width*GT,y:-a.gifData.height*GT},m=a.gifData.frames[d];if(i.gifTime===void 0&&(i.gifTime=hj),!!m.bitmap){switch(e.scale(t/a.gifData.width,t/a.gifData.height),m.disposalMethod){case Pi.UndefinedA:case Pi.UndefinedB:case Pi.UndefinedC:case Pi.UndefinedD:case Pi.Replace:c.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,p.x,p.y),c.clearRect(Rn.x,Rn.y,l.width,l.height);break;case Pi.Combine:c.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,p.x,p.y);break;case Pi.RestoreBackground:c.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,p.x,p.y),c.clearRect(Rn.x,Rn.y,l.width,l.height),a.gifData.globalColorTable.length?c.putImageData(a.gifData.backgroundImage,p.x,p.y):c.putImageData(a.gifData.frames[KT].image,p.x+m.left,p.y+m.top);break;case Pi.RestorePrevious:{const v=c.getImageData(Rn.x,Rn.y,l.width,l.height);c.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,p.x,p.y),c.clearRect(Rn.x,Rn.y,l.width,l.height),c.putImageData(v,Rn.x,Rn.y)}break}if(i.gifTime+=r.value,i.gifTime>m.delayTime){if(i.gifTime-=m.delayTime,++d>=a.gifData.frames.length){if(--i.gifLoopCount<=wy)return;d=KT,c.clearRect(Rn.x,Rn.y,l.width,l.height)}i.gifFrame=d}e.scale(a.gifData.width/t,a.gifData.height/t)}}async function vj(n){if(n.type!=="gif"){await ep(n);return}n.loading=!0;try{n.gifData=await gj(n.source),n.gifLoopCount=mj(n.gifData)??wy,n.gifLoopCount||(n.gifLoopCount=1/0)}catch{n.error=!0}n.loading=!1}const _j=2,wj=1,Ej=12,Tj=1;class xj{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async t=>{if(!this._engine.loadImage)throw new Error(`${ui} image shape not initialized`);await this._engine.loadImage({gif:t.gif,name:t.name,replaceColor:t.replaceColor??!1,src:t.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:t,radius:i,particle:r,opacity:a}=e,l=r.image,c=l?.element;if(l){if(t.globalAlpha=a,l.gif&&l.gifData)yj(e);else if(c){const d=l.ratio,p={x:-i,y:-i},m=i*_j;t.drawImage(c,p.x,p.y,m,m/d)}t.globalAlpha=wj}}getSidesCount(){return Ej}async init(e){const t=e.actualOptions;if(!(!t.preload||!this._engine.loadImage))for(const i of t.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const t=e.shapeData;if(!t)return;this._engine.images.find(r=>r.name===t.name||r.source===t.src)||this.loadImageShape(t).then(()=>{this.loadShape(e)})}particleInit(e,t){if(t.shape!=="image"&&t.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=t.shapeData;if(!r)return;const a=t.getFillColor(),l=i.find(d=>d.name===r.name||d.source===r.src);if(!l)return;const c=r.replaceColor??l.replaceColor;if(l.loading){setTimeout(()=>{this.particleInit(e,t)});return}(async()=>{let d;l.svgData&&a?d=await lj(l,r,a,t):d={color:a,data:l,element:l.element,gif:l.gif,gifData:l.gifData,gifLoopCount:l.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:l.ratio??Tj,replaceColor:c,source:r.src},d.ratio||(d.ratio=1);const p=r.fill??t.shapeFill,m=r.close??t.shapeClose,v={image:d,fill:p,close:m};t.image=v.image,t.shapeFill=v.fill,t.shapeClose=v.close})()}}class Sj{constructor(){this.src="",this.gif=!1}load(e){le(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class Ij{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,t){if(!t?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of t.preload){const a=i.find(l=>l.name===r.name||l.src===r.src);if(a)a.load(r);else{const l=new Sj;l.load(r),i.push(l)}}}needsPlugin(){return!0}}const bj=3;function Pj(n){n.loadImage||(n.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${ui} no image source provided`);if(n.images||(n.images=[]),!n.images.find(t=>t.name===e.name||t.source===e.src))try{const t={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-bj),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};n.images.push(t);let i;e.gif?i=vj:i=e.replaceColor?aj:ep,await i(t)}catch{throw new Error(`${ui} ${e.name??e.src} not found`)}})}async function Cj(n,e=!0){n.checkVersion("3.9.1"),Pj(n);const t=new Ij(n);await n.addPlugin(t,e),await n.addShape(new xj(n),e)}class kj extends ia{constructor(){super(),this.sync=!1}load(e){le(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Aj extends ia{constructor(){super(),this.sync=!1}load(e){le(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Rj{constructor(){this.count=0,this.delay=new kj,this.duration=new Aj}load(e){le(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Xa=0,Dj=-1,QT=0,YT=0;function Mj(n,e,t){if(!n.life)return;const i=n.life;let r=!1;if(n.spawning)if(i.delayTime+=e.value,i.delayTime>=n.life.delay)r=!0,n.spawning=!1,i.delayTime=Xa,i.time=Xa;else return;if(i.duration===Dj||n.spawning||(r?i.time=Xa:i.time+=e.value,i.time<i.duration))return;if(i.time=Xa,n.life.count>QT&&n.life.count--,n.life.count===QT){n.destroy();return}const a=$e(YT,t.width),l=$e(YT,t.width);n.position.x=Un(a),n.position.y=Un(l),n.spawning=!0,i.delayTime=Xa,i.time=Xa,n.reset();const c=n.options.life;c&&(i.delay=ve(c.delay.value)*cn,i.duration=ve(c.duration.value)*cn)}const Po=0,XT=1,JT=-1;class Vj{constructor(e){this.container=e}init(e){const t=this.container,i=e.options,r=i.life;r&&(e.life={delay:t.retina.reduceFactor?ve(r.delay.value)*(r.delay.sync?XT:Qe())/t.retina.reduceFactor*cn:Po,delayTime:Po,duration:t.retina.reduceFactor?ve(r.duration.value)*(r.duration.sync?XT:Qe())/t.retina.reduceFactor*cn:Po,time:Po,count:r.count},e.life.duration<=Po&&(e.life.duration=JT),e.life.count<=Po&&(e.life.count=JT),e.life&&(e.spawning=e.life.delay>Po))}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.life||(e.life=new Rj);for(const i of t)e.life.load(i?.life)}update(e,t){!this.isEnabled(e)||!e.life||Mj(e,t,this.container.canvas.size)}}async function Oj(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("life",async t=>Promise.resolve(new Vj(t)),e)}function Nj(n){const{context:e,particle:t,radius:i}=n,r=t.shapeData,a=0;e.moveTo(-i,a),e.lineTo(i,a),e.lineCap=r?.cap??"butt"}const Lj=1;class Fj{constructor(){this.validTypes=["line"]}draw(e){Nj(e)}getSidesCount(){return Lj}}async function jj(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Fj,e)}const ZT=.5;class zj{init(){}isEnabled(e){return!Yo()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const t=e.container,i=t.actualOptions,r=i.interactivity.events.onHover.parallax;if(Yo()||!r.enable)return;const a=r.force,l=t.interactivity.mouse.position;if(!l)return;const c=t.canvas.size,d={x:c.width*ZT,y:c.height*ZT},p=r.smooth,m=e.getRadius()/a,v={x:(l.x-d.x)*m,y:(l.y-d.y)*m},{offset:w}=e;w.x+=(v.x-w.x)/p,w.y+=(v.y-w.y)/p}}async function Uj(n,e=!0){n.checkVersion("3.9.1"),await n.addMover("parallax",()=>Promise.resolve(new zj),e)}const ex=1e3,Bj=1;class $j extends Xv{constructor(e){super(e)}clear(){}init(){}interact(e){const t=this.container;e.attractDistance===void 0&&(e.attractDistance=ve(e.options.move.attract.distance)*t.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),a=t.particles.quadTree.queryCircle(r,i);for(const l of a){if(e===l||!l.options.move.attract.enable||l.destroyed||l.spawning)continue;const c=l.getPosition(),{dx:d,dy:p}=Tn(r,c),m=e.options.move.attract.rotate,v=d/(m.x*ex),w=p/(m.y*ex),x=l.size.value/e.size.value,P=Bj/x;e.velocity.x-=v*x,e.velocity.y-=w*x,l.velocity.x+=v*P,l.velocity.y+=w*P}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function Hj(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesAttract",t=>Promise.resolve(new $j(t)),e)}const qj=.5,Wj=10,Gj=0;function tx(n,e,t,i,r,a){const l=ci(n.options.collisions.absorb.speed*r.factor/Wj,Gj,i);n.size.value+=l*qj,t.size.value-=l,i<=a&&(t.size.value=0,t.destroy())}function Kj(n,e,t,i){const r=n.getRadius(),a=e.getRadius();r===void 0&&a!==void 0?n.destroy():r!==void 0&&a===void 0?e.destroy():r!==void 0&&a!==void 0&&(r>=a?tx(n,r,e,a,t,i):tx(e,a,n,r,t,i))}const nx=n=>{n.collisionMaxSpeed===void 0&&(n.collisionMaxSpeed=ve(n.options.collisions.maxSpeed)),n.velocity.length>n.collisionMaxSpeed&&(n.velocity.length=n.collisionMaxSpeed)};function ZP(n,e){AP(gy(n),gy(e)),nx(n),nx(e)}function Qj(n,e){!n.unbreakable&&!e.unbreakable&&ZP(n,e),n.getRadius()===void 0&&e.getRadius()!==void 0?n.destroy():n.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():n.getRadius()!==void 0&&e.getRadius()!==void 0&&(n.getRadius()>=e.getRadius()?e:n).destroy()}function Yj(n,e,t,i){switch(n.options.collisions.mode){case _l.absorb:{Kj(n,e,t,i);break}case _l.bounce:{ZP(n,e);break}case _l.destroy:{Qj(n,e);break}}}const Xj=2;class Jj extends Xv{constructor(e){super(e)}clear(){}init(){}interact(e,t){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),a=e.getRadius(),l=i.particles.quadTree.queryCircle(r,a*Xj);for(const c of l){if(e===c||!c.options.collisions.enable||e.options.collisions.mode!==c.options.collisions.mode||c.destroyed||c.spawning)continue;const d=c.getPosition(),p=c.getRadius();if(Math.abs(Math.round(r.z)-Math.round(d.z))>a+p)continue;const m=$n(r,d),v=a+p;m>v||Yj(e,c,t,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function Zj(n,e=!0){n.checkVersion("3.9.1"),await n.addInteractor("particlesCollisions",t=>Promise.resolve(new Jj(t)),e)}const wg=2;class ez extends dn{constructor(e,t,i,r){super(e,t,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:t,height:i}=this.canvasSize,{x:r,y:a}=e;return super.contains(e)||super.contains({x:r-t,y:a})||super.contains({x:r-t,y:a-i})||super.contains({x:r,y:a-i})}intersects(e){if(super.intersects(e))return!0;const t=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const a=new dn(r.x,r.y,i.radius*wg);return super.intersects(a)}else if(t.size!==void 0){const a=new Li(r.x,r.y,t.size.width*wg,t.size.height*wg);return super.intersects(a)}return!1}}class tz{constructor(){this.blur=5,this.color=new mn,this.color.value="#000",this.enable=!1}load(e){le(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=mn.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class nz{constructor(){this.enable=!1,this.frequency=1}load(e){le(e)||(e.color!==void 0&&(this.color=mn.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class iz{constructor(){this.blink=!1,this.color=new mn,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new tz,this.triangles=new nz,this.width=1,this.warp=!1}load(e){le(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=mn.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const ix=2,rz=1,xd={x:0,y:0},sz=0;function oz(n,e,t,i,r){const{dx:a,dy:l,distance:c}=Tn(n,e);if(!r||c<=t)return c;const d={x:Math.abs(a),y:Math.abs(l)},p={x:Math.min(d.x,i.width-d.x),y:Math.min(d.y,i.height-d.y)};return Math.sqrt(p.x**ix+p.y**ix)}class az extends Xv{constructor(e,t){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,a=i.options.links;let l=a.id===void 0?r.particles.linksColor:r.particles.linksColors.get(a.id);if(l)return;const c=a.color;l=LP(this._engine,c,a.blink,a.consent),a.id===void 0?r.particles.linksColor=l:r.particles.linksColors.set(a.id,l)},this._linkContainer=e,this._engine=t}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const t=e.getPosition(),i=this.container,r=i.canvas.size;if(t.x<xd.x||t.y<xd.y||t.x>r.width||t.y>r.height)return;const a=e.options.links,l=a.opacity,c=e.retina.linksDistance??sz,d=a.warp;let p;d?p=new ez(t.x,t.y,c,r):p=new dn(t.x,t.y,c);const m=i.particles.quadTree.query(p);for(const v of m){const w=v.options.links;if(e===v||!w?.enable||a.id!==w.id||v.spawning||v.destroyed||!v.links||e.links.some(b=>b.destination===v)||v.links.some(b=>b.destination===e))continue;const x=v.getPosition();if(x.x<xd.x||x.y<xd.y||x.x>r.width||x.y>r.height)continue;const P=oz(t,x,c,r,d&&w.warp);if(P>c)continue;const k=(rz-P/c)*l;this._setColor(e),e.links.push({destination:v,opacity:k})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...t){e.links||(e.links=new iz);for(const i of t)e.links.load(i?.links)}reset(){}}async function lz(n,e=!0){await n.addInteractor("particlesLinks",async t=>Promise.resolve(new az(t,n)),e)}function uz(n,e,t,i){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(i.x,i.y),n.closePath()}function cz(n){let e=!1;const{begin:t,end:i,engine:r,maxDistance:a,context:l,canvasSize:c,width:d,backgroundMask:p,colorLine:m,opacity:v,links:w}=n;if($n(t,i)<=a)cc(l,t,i),e=!0;else if(w.warp){let P,k;const b={x:i.x-c.width,y:i.y},F=Tn(t,b);if(F.distance<=a){const U=t.y-F.dy/F.dx*t.x;P={x:0,y:U},k={x:c.width,y:U}}else{const U={x:i.x,y:i.y-c.height},q=Tn(t,U);if(q.distance<=a){const Y=-(t.y-q.dy/q.dx*t.x)/(q.dy/q.dx);P={x:Y,y:0},k={x:Y,y:c.height}}else{const G={x:i.x-c.width,y:i.y-c.height},Y=Tn(t,G);if(Y.distance<=a){const ie=t.y-Y.dy/Y.dx*t.x;P={x:-ie/(Y.dy/Y.dx),y:ie},k={x:P.x+c.width,y:P.y+c.height}}}}P&&k&&(cc(l,t,P),cc(l,i,k),e=!0)}if(!e)return;l.lineWidth=d,p.enable&&(l.globalCompositeOperation=p.composite),l.strokeStyle=Lr(m,v);const{shadow:x}=w;if(x.enable){const P=Vi(r,x.color);P&&(l.shadowBlur=x.blur,l.shadowColor=Lr(P))}l.stroke()}function hz(n){const{context:e,pos1:t,pos2:i,pos3:r,backgroundMask:a,colorTriangle:l,opacityTriangle:c}=n;uz(e,t,i,r),a.enable&&(e.globalCompositeOperation=a.composite),e.fillStyle=Lr(l,c),e.fill()}function dz(n){return n.sort((e,t)=>e-t),n.join("_")}function rx(n,e){const t=dz(n.map(r=>r.id));let i=e.get(t);return i===void 0&&(i=Qe(),e.set(t,i)),i}const sx=0,Eg=0,ox=0,fz=.5,pz=1;class mz{constructor(e,t){this._drawLinkLine=(i,r)=>{const a=i.options.links;if(!a?.enable)return;const l=this._container,c=l.actualOptions,d=r.destination,p=i.getPosition(),m=d.getPosition();let v=r.opacity;l.canvas.draw(w=>{let x;const P=i.options.twinkle?.lines;if(P?.enable){const U=P.frequency,q=Vi(this._engine,P.color);Qe()<U&&q&&(x=q,v=ve(P.opacity))}if(!x){const U=a.id!==void 0?l.particles.linksColors.get(a.id):l.particles.linksColor;x=vy(i,d,U)}if(!x)return;const k=i.retina.linksWidth??Eg,b=i.retina.linksDistance??ox,{backgroundMask:F}=c;cz({context:w,width:k,begin:p,end:m,engine:this._engine,maxDistance:b,canvasSize:l.canvas.size,links:a,backgroundMask:F,colorLine:x,opacity:v})})},this._drawLinkTriangle=(i,r,a)=>{const l=i.options.links;if(!l?.enable)return;const c=l.triangles;if(!c.enable)return;const d=this._container,p=d.actualOptions,m=r.destination,v=a.destination,w=c.opacity??(r.opacity+a.opacity)*fz;w<=sx||d.canvas.draw(x=>{const P=i.getPosition(),k=m.getPosition(),b=v.getPosition(),F=i.retina.linksDistance??ox;if($n(P,k)>F||$n(b,k)>F||$n(b,P)>F)return;let U=Vi(this._engine,c.color);if(!U){const q=l.id!==void 0?d.particles.linksColors.get(l.id):d.particles.linksColor;U=vy(i,m,q)}U&&hz({context:x,pos1:P,pos2:k,pos3:b,backgroundMask:p.backgroundMask,colorTriangle:U,opacityTriangle:w})})},this._drawTriangles=(i,r,a,l)=>{const c=a.destination;if(!(i.links?.triangles.enable&&c.options.links?.triangles.enable))return;const d=c.links?.filter(p=>{const m=this._getLinkFrequency(c,p.destination);return c.options.links&&m<=c.options.links.frequency&&l.findIndex(w=>w.destination===p.destination)>=0});if(d?.length)for(const p of d){const m=p.destination;this._getTriangleFrequency(r,c,m)>i.links.triangles.frequency||this._drawLinkTriangle(r,a,p)}},this._getLinkFrequency=(i,r)=>rx([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,a)=>rx([i,r,a],this._freqs.triangles),this._container=e,this._engine=t,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,t){const{links:i,options:r}=t;if(!i?.length)return;const a=i.filter(l=>r.links&&(r.links.frequency>=pz||this._getLinkFrequency(t,l.destination)<=r.links.frequency));for(const l of a)this._drawTriangles(r,t,l,a),l.opacity>sx&&(t.retina.linksWidth??Eg)>Eg&&this._drawLinkLine(t,l)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const t=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:a}=e.options.links;i.linksDistance=r*t,i.linksWidth=a*t}particleDestroyed(e){e.links=[]}}class gz{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new mz(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function yz(n,e=!0){const t=new gz(n);await n.addPlugin(t,e)}async function vz(n,e=!0){n.checkVersion("3.9.1"),await lz(n,e),await yz(n,e)}const _z=180,Sd={x:0,y:0},wz=2;function Ez(n,e,t){const{context:i}=n,r=t.count.numerator*t.count.denominator,a=t.count.numerator/t.count.denominator,l=_z*(a-wz)/a,c=Math.PI-Ds(l);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(Sd.x,Sd.y);for(let d=0;d<r;d++)i.lineTo(t.length,Sd.y),i.translate(t.length,Sd.y),i.rotate(c)}}const Tz=5;class eC{draw(e){const{particle:t,radius:i}=e,r=this.getCenter(t,i),a=this.getSidesData(t,i);Ez(e,r,a)}getSidesCount(e){const t=e.shapeData;return Math.round(ve(t?.sides??Tz))}}const ax=3.5,lx=2.66,xz=3;class Sz extends eC{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,t){return{x:-t/(e.sides/ax),y:-t/(lx/ax)}}getSidesData(e,t){const i=e.sides;return{count:{denominator:1,numerator:i},length:t*lx/(i/xz)}}}const Iz=1.66,bz=3,Pz=2;class Cz extends eC{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,t){return{x:-t,y:t/Iz}}getSidesCount(){return bz}getSidesData(e,t){const i=t*Pz;return{count:{denominator:2,numerator:3},length:i}}}async function kz(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Sz,e)}async function Az(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Cz,e)}async function Rz(n,e=!0){n.checkVersion("3.9.1"),await kz(n,e),await Az(n,e)}class Dz{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){le(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=$e(e.speed)),e.decay!==void 0&&(this.decay=$e(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Mz extends ia{constructor(){super(),this.animation=new Dz,this.direction=Ai.clockwise,this.path=!1,this.value=0}load(e){le(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const tC=2,Vz=Math.PI*tC,Oz=1,Nz=360;class Lz{constructor(e){this.container=e}init(e){const t=e.options.rotate;if(!t)return;e.rotate={enable:t.animation.enable,value:Ds(ve(t.value)),min:0,max:Vz},e.pathRotation=t.path;let i=t.direction;switch(i===Ai.random&&(i=Math.floor(Qe()*tC)>0?Ai.counterClockwise:Ai.clockwise),i){case Ai.counterClockwise:case"counterClockwise":e.rotate.status=It.decreasing;break;case Ai.clockwise:e.rotate.status=It.increasing;break}const r=t.animation;r.enable&&(e.rotate.decay=Oz-ve(r.decay),e.rotate.velocity=ve(r.speed)/Nz*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Qe())),e.rotation=e.rotate.value}isEnabled(e){const t=e.options.rotate;return t?!e.destroyed&&!e.spawning&&(!!t.value||t.animation.enable||t.path):!1}loadOptions(e,...t){e.rotate||(e.rotate=new Mz);for(const i of t)e.rotate.load(i?.rotate)}update(e,t){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(Gv(e,e.rotate,!1,Ko.none,t),e.rotation=e.rotate.value))}}async function Fz(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("rotate",t=>Promise.resolve(new Lz(t)),e)}const jz=2,zz=Math.sqrt(jz),Uz=2;function Bz(n){const{context:e,radius:t}=n,i=t/zz,r=i*Uz;e.rect(-i,-i,r,r)}const $z=4;class Hz{constructor(){this.validTypes=["edge","square"]}draw(e){Bz(e)}getSidesCount(){return $z}}async function qz(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Hz,e)}const Wz=2,Ja={x:0,y:0};function Gz(n){const{context:e,particle:t,radius:i}=n,r=t.sides,a=t.starInset??Wz;e.moveTo(Ja.x,Ja.y-i);for(let l=0;l<r;l++)e.rotate(Math.PI/r),e.lineTo(Ja.x,Ja.y-i*a),e.rotate(Math.PI/r),e.lineTo(Ja.x,Ja.y-i)}const Kz=2,Qz=5;class Yz{constructor(){this.validTypes=["star"]}draw(e){Gz(e)}getSidesCount(e){const t=e.shapeData;return Math.round(ve(t?.sides??Qz))}particleInit(e,t){const i=t.shapeData;t.starInset=ve(i?.inset??Kz)}}async function Xz(n,e=!0){n.checkVersion("3.9.1"),await n.addShape(new Yz,e)}const Jz=1;class Zz{constructor(e,t){this._container=e,this._engine=t}init(e){const t=this._container,i=e.options,r=li(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ve(r.width)*t.retina.pixelRatio,e.strokeOpacity=ve(r.opacity??Jz),e.strokeAnimation=r.color?.animation;const a=Ic(this._engine,r.color)??e.getFillColor();a&&(e.strokeColor=FP(a,e.strokeAnimation,t.retina.reduceFactor))}isEnabled(e){const t=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!t&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,t){this.isEnabled(e)&&jP(e.strokeColor,t)}}async function e7(n,e=!0){n.checkVersion("3.9.1"),await n.addParticleUpdater("strokeColor",t=>Promise.resolve(new Zz(t,n)),e)}async function t7(n,e=!0){n.checkVersion("3.9.1"),await Uj(n,!1),await qF(n,!1),await e8(n,!1),await l8(n,!1),await v8(n,!1),await C8(n,!1),await R8(n,!1),await N8(n,!1),await z8(n,!1),await X8(n,!1),await nj(n,!1),await Hj(n,!1),await Zj(n,!1),await vz(n,!1),await OF(n,!1),await FF(n,!1),await Cj(n,!1),await jj(n,!1),await Rz(n,!1),await qz(n,!1),await Xz(n,!1),await Oj(n,!1),await Fz(n,!1),await e7(n,!1),await VF(n,e)}var nC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ux=Xe.createContext&&Xe.createContext(nC),n7=["attr","size","title"];function i7(n,e){if(n==null)return{};var t=r7(n,e),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)i=a[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function r7(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function Tf(){return Tf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Tf.apply(this,arguments)}function cx(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cx(Object(t),!0).forEach(function(i){s7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cx(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function s7(n,e,t){return e=o7(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function o7(n){var e=a7(n,"string");return typeof e=="symbol"?e:e+""}function a7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function iC(n){return n&&n.map((e,t)=>Xe.createElement(e.tag,xf({key:t},e.attr),iC(e.child)))}function gn(n){return e=>Xe.createElement(l7,Tf({attr:xf({},n.attr)},e),iC(n.child))}function l7(n){var e=t=>{var{attr:i,size:r,title:a}=n,l=i7(n,n7),c=r||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Xe.createElement("svg",Tf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:d,style:xf(xf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&Xe.createElement("title",null,a),n.children)};return ux!==void 0?Xe.createElement(ux.Consumer,null,t=>e(t)):e(nC)}function u7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(n)}function c7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function h7(n){return gn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function d7(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function f7(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function p7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function m7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function g7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function y7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function v7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function _7(n){return gn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function G7(n){return gn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}function K7(n){return gn({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function Q7(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function w7(n){return gn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const E7=Xe.memo(()=>{const[n,e]=Z.useState(!1);Z.useEffect(()=>{z9(async a=>{await t7(a)}).then(()=>{e(!0)})},[]);const t=Z.useMemo(()=>({background:{color:{value:"transparent"}},fpsLimit:120,interactivity:{events:{onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{repulse:{distance:80,duration:.4}}},particles:{color:{value:"#a1a1aa"},links:{color:"#a1a1aa",distance:150,enable:!0,opacity:.3,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:1,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.3},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}),[]),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return n?C.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-slate-50",children:[C.jsx(j9,{id:"tsparticles",options:t,className:"absolute top-0 left-0 w-full h-full z-0"}),C.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[C.jsxs(Ke.div,{variants:i,initial:"hidden",animate:"visible",className:"md:col-span-3",children:[C.jsxs(Ke.h1,{variants:r,className:"text-5xl md:text-7xl font-extrabold text-slate-800 mb-4",children:[C.jsx("span",{className:"block mb-2 text-xl font-medium text-slate-500",children:"Hello, I'm"}),"Costas Pinto"]}),C.jsx(Ke.div,{variants:r,children:C.jsx(dL,{sequence:["AI Innovator",2e3,"Full-Stack Developer",2e3,"Data Scientist",2e3,"Problem Solver",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-indigo-800 h-10",repeat:1/0})}),C.jsx(Ke.p,{variants:r,className:"max-w-xl text-slate-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),C.jsxs(Ke.div,{variants:r,className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[C.jsxs(Ke.a,{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.95},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-800 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all",children:[C.jsx(y7,{}),"Download CV"]}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx(Ke.a,{whileHover:{y:-3},href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-blue-600 transition-colors",children:C.jsx(f7,{size:32})}),C.jsx(Ke.a,{whileHover:{y:-3},href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-slate-800 transition-colors",children:C.jsx(h7,{size:32})})]})]})]}),C.jsx(Ke.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,y:[0,-15,0]},transition:{opacity:{duration:.8,delay:.4},scale:{duration:.8,delay:.4,type:"spring"},y:{duration:2.5,repeat:1/0,ease:"easeInOut"}},className:"md:col-span-2 flex justify-center items-center",children:C.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px]",children:[C.jsx(Ke.div,{animate:{rotate:360,scale:[1,1.05,1]},transition:{rotate:{duration:40,repeat:1/0,ease:"linear"},scale:{duration:5,repeat:1/0,ease:"easeInOut"}},className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-indigo-200 to-blue-300 rounded-full opacity-50 blur-3xl"}),C.jsx("div",{className:"relative z-10 flex justify-center items-center h-full",children:C.jsx("img",{loading:"lazy",src:"/Costas.png",onError:a=>{a.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain"})})]})})]})]}):null}),Ws=Xe.memo(({children:n,id:e,className:t=""})=>{const i=Z.useRef(null),r=yP(i,{once:!0,amount:.2});return C.jsx(Ke.section,{id:e,ref:i,initial:{opacity:0,y:50},animate:{opacity:r?1:0,y:r?0:50},transition:{duration:.8,ease:"easeOut"},className:`py-12 md:py-16 ${t}`,children:n})}),T7=Xe.memo(()=>C.jsxs(Ws,{id:"about",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"About Me"}),C.jsx(qs,{}),C.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("p",{className:"text-lg leading-relaxed text-[#4b5563] text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})]})]})),hx=Xe.memo(({date:n,title:e,company:t,details:i})=>C.jsxs(Ke.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-[#a5b4fc]",children:[C.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-[#2563eb] to-[#1e3a8a] rounded-full border-4 border-white"}),C.jsx("p",{className:"text-[#64748b] mb-1 font-medium",children:n}),C.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),C.jsx("p",{className:"text-lg text-[#2563eb] font-semibold mb-3",children:t}),C.jsx("ul",{className:"list-disc list-inside text-[#4b5563] space-y-2",children:i.map((r,a)=>C.jsx("li",{children:r},a))})]})),x7=Xe.memo(()=>C.jsxs(Ws,{id:"experience",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Experience"}),C.jsx(qs,{}),C.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[C.jsx(hx,{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]}),C.jsx(hx,{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]})),S7=Xe.memo(()=>{const[n,e]=Z.useState("Programming Languages"),t=l=>{e(c=>c===l?null:l)},i={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return C.jsxs(Ws,{id:"skills",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Skills"}),C.jsx(qs,{}),C.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("div",{className:"space-y-2",children:Object.entries(i).map(([l,c])=>C.jsxs("div",{className:"border-b border-gray-300/50 last:border-b-0",children:[C.jsxs("button",{onClick:()=>t(l),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-[#334155] focus:outline-none",children:[C.jsx("span",{children:l}),C.jsx(Ke.span,{animate:{rotate:n===l?180:0},children:C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),C.jsx(qf,{children:n===l&&C.jsx(Ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:C.jsx(Ke.div,{variants:r,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:c.map(d=>C.jsxs(Ke.div,{variants:a,children:[C.jsx("p",{className:"text-lg font-medium text-[#4b5563] mb-1",children:d.name}),C.jsx("div",{className:"bg-gray-300 w-full rounded-full h-2.5",children:C.jsx(Ke.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a]",initial:{width:0},animate:{width:`${d.level}%`},transition:{duration:1,ease:"easeOut"}})})]},d.name))})})})]},l))})]})]})}),I7=Xe.memo(()=>C.jsxs(Ws,{id:"achievements",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Key Achievements"}),C.jsx(qs,{}),C.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsxs("ul",{className:"list-disc list-inside text-[#4b5563] space-y-3 text-lg",children:[C.jsxs("li",{children:["Completed ",C.jsx("strong",{children:"60+ Certifications"})," from IBM, Google, Meta, Microsoft, and Forage."]}),C.jsxs("li",{children:["Built and deployed ",C.jsx("strong",{children:"25+ AI/Data/Full-stack projects"})," solving real-world problems."]}),C.jsxs("li",{children:["Earned top-tier recognitions in job simulations at ",C.jsx("strong",{children:"BCG, Lloyds, BA, EA, TATA"}),", and more."]}),C.jsxs("li",{children:["Founded ",C.jsx("strong",{children:"JHT SMART STEPS LEARNING"}),"  empowering students through digital education."]})]})]})]})),b7=Xe.memo(({year:n,title:e,details:t,icon:i})=>C.jsxs(Ke.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[C.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center",children:i}),C.jsx("p",{className:"text-blue-500 mb-1 font-semibold",children:n}),C.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),C.jsx("p",{className:"text-[#4b5563] mt-1",children:t})]})),P7=Xe.memo(()=>{const n=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:C.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:C.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:C.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return C.jsxs(Ws,{id:"journey",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Learning Journey"}),C.jsx(qs,{}),C.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("div",{className:"space-y-12",children:n.map(e=>C.jsx(b7,{...e},e.title))})]})]})}),C7=Z.memo(({projects:n,isMobile:e})=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},i={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return C.jsxs(Ws,{id:"projects",className:"!py-0",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Projects"}),C.jsx(qs,{}),C.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?C.jsx(Ke.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>C.jsxs(Ke.div,{variants:i,className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("img",{loading:"lazy",src:r.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:r.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),C.jsx("h3",{className:"text-xl font-bold text-[#334155] mb-2",children:r.title}),C.jsx("p",{className:"text-[#4b5563] flex-grow mb-4",children:r.description}),C.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags?.map(a=>C.jsx("span",{className:"bg-[#dbeafe] text-[#1e3a8a] text-xs font-medium px-2.5 py-1 rounded-full",children:a},a))}),r.projectLink&&C.jsx("a",{href:r.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-[#2563eb] border border-[#2563eb] rounded-full py-2 px-4 hover:bg-[#2563eb] hover:text-white transition-all duration-300 z-10",children:"View Project"})]},r.id))}):C.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:C.jsx("p",{className:"text-center text-[#4b5563] text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]})}),k7=({url:n,onClose:e})=>C.jsx(qf,{children:n&&C.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:C.jsxs(Ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[C.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Certificate Viewer"}),C.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsx("div",{className:"flex-grow p-2",children:C.jsx("iframe",{src:n,title:"Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})}),A7=Xe.memo(({licensesPdfUrl:n,internshipsPdfUrl:e})=>{const[t,i]=Z.useState(null);return C.jsxs(C.Fragment,{children:[C.jsxs(Ws,{id:"certifications",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Certificates"}),C.jsx(qs,{}),C.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[C.jsx(Ke.button,{onClick:()=>i(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),C.jsx(Ke.button,{onClick:()=>i(e),disabled:!e,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),C.jsx(k7,{url:t,onClose:()=>i(null)})]})}),R7=({url:n,onClose:e})=>C.jsx(qf,{children:n&&C.jsx(Ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:C.jsxs(Ke.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[C.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Internship Certificate"}),C.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsx("div",{className:"flex-grow p-2",children:C.jsx("iframe",{src:n,title:"Internship Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})});Xe.memo(({internshipsPdfUrl:n})=>{const[e,t]=Z.useState(null);return C.jsxs(C.Fragment,{children:[C.jsxs(Ws,{id:"internships",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Internship Certificate"}),C.jsx(qs,{}),C.jsx("div",{className:"text-center",children:C.jsx(Ke.button,{onClick:()=>t(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certificate"})})]}),C.jsx(R7,{url:e,onClose:()=>t(null)})]})});function D7(n){return gn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}const M7=Xe.memo(()=>{const[n,e]=Z.useState({submitting:!1,succeeded:!1,error:null}),[t,i]=Z.useState(null),r=Z.useCallback(async c=>{c.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const d=c.target,p=new FormData(d);try{const m=await fetch(d.action,{method:d.method,body:p,headers:{Accept:"application/json"}});if(m.ok)e({submitting:!1,succeeded:!0,error:null}),d.reset(),setTimeout(()=>e(v=>({...v,succeeded:!1})),5e3);else{const w=(await m.json()).errors?.map(x=>x.message).join(", ")||"An unknown error occurred.";throw new Error(w)}}catch(m){e({submitting:!1,succeeded:!1,error:m.message}),setTimeout(()=>e(v=>({...v,error:null})),5e3)}},[]),a=Z.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{i("Email copied to clipboard!"),setTimeout(()=>i(null),3e3)}).catch(d=>{i("Could not copy email."),setTimeout(()=>i(null),3e3)})},[]),l=[{name:"Instagram",icon:C.jsx(d7,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:C.jsx(u7,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:C.jsx(p7,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:C.jsx(c7,{}),url:"https://facebook.com/costaspinto"}];return C.jsxs("div",{className:"min-h-screen flex flex-col justify-between bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans",children:[C.jsxs("main",{className:"container mx-auto px-6 py-20 max-w-7xl flex flex-col lg:flex-row justify-between items-start gap-16",children:[C.jsxs("div",{className:"flex-1 space-y-10",children:[C.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:"Lets get connected!"}),C.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),C.jsxs("div",{children:[C.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),C.jsx("div",{className:"flex items-center gap-4",children:l.map(c=>C.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer","aria-label":c.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:c.icon},c.name))})]})]}),C.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-[40px] shadow-2xl w-full max-w-lg",children:C.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:r,className:"space-y-6",children:[C.jsxs("div",{className:"relative",children:[C.jsx("label",{className:"block font-medium mb-1",children:"Your Name *"}),C.jsx(w7,{className:"absolute left-3 top-10 text-slate-400"}),C.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{className:"relative",children:[C.jsx("label",{className:"block font-medium mb-1",children:"Your Email *"}),C.jsx(v7,{className:"absolute left-3 top-10 text-slate-400"}),C.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{className:"relative",children:[C.jsx("label",{className:"block font-medium mb-1",children:"Service you are looking for *"}),C.jsx(g7,{className:"absolute left-3 top-10 text-slate-400"}),C.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block font-medium mb-1",children:"Your Message"}),C.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),C.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#2563eb] to-[#3b82f6] text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n.submitting,children:n.submitting?"Submitting...":"Submit"}),n.succeeded&&C.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[C.jsx(m7,{})," Thanks for your feedback! I'll get back to you soon."]}),n.error&&C.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[C.jsx(_7,{})," Error: ",n.error]})]})})]}),C.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:C.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[C.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),C.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and lets explore how we can collaborate."})]}),C.jsxs("div",{className:"flex gap-4 relative",children:[C.jsxs("button",{onClick:a,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[C.jsx(D7,{})," COPY EMAIL"]}),t&&C.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:t})]})]}),C.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[C.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),C.jsxs("nav",{className:"flex gap-6",children:[C.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),C.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"}),C.jsx("a",{href:"#portfolio",className:"hover:text-blue-500 transition",children:"Portfolio"})]}),C.jsx("div",{className:"flex items-center gap-4",children:l.map(c=>C.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:c.icon},c.name))})]}),C.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:[" ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})})]})}),V7=Z.lazy(()=>w2(()=>import("./AdminPanel-DiBTAjT9.js"),[])),O7={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},rC=xx(O7),Id=rD(rC),N7=RM(rC),L7=(n=768)=>{const[e,t]=Z.useState(window.innerWidth<n);return Z.useEffect(()=>{const i=()=>t(window.innerWidth<n);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[n]),e};function F7(){const[n,e]=Z.useState("home"),[t,i]=Z.useState([]),[r,a]=Z.useState(""),[l,c]=Z.useState(""),[d,p]=Z.useState(!0),[m,v]=Z.useState(!1),w=L7(),x=Z.useCallback(async()=>{p(!0);try{const b=await _D(iD(Id,"projects"));i(b.docs.map(F=>({id:F.id,...F.data()})))}catch(b){console.error("Error fetching projects: ",b)}try{const b=await x1(_1(Id,"portfolioAssets","licenses"));b.exists()&&a(b.data().pdfUrl);const F=await x1(_1(Id,"portfolioAssets","internships"));F.exists()&&c(F.data().pdfUrl)}catch(b){console.error("Error fetching portfolio assets: ",b)}finally{p(!1)}},[]);Z.useEffect(()=>{x();const b=()=>{const F=window.location.hash.replace("#","");e(F==="admin"?"admin":"home")};return window.addEventListener("hashchange",b,!1),b(),()=>window.removeEventListener("hashchange",b)},[x]);const P=Z.useCallback(()=>v(!1),[]),k=Z.useCallback(()=>v(b=>!b),[]);return d?C.jsx(sT,{}):C.jsxs(zM,{features:tL,children:[C.jsx(rL,{}),C.jsx("div",{className:"relative text-[#334155] font-sans overflow-x-hidden",children:n==="admin"?C.jsx(Z.Suspense,{fallback:C.jsx(sT,{}),children:C.jsx(V7,{db:Id,projects:t,fetchProjects:x,auth:N7})}):C.jsxs(C.Fragment,{children:[C.jsx(oL,{isMobileMenuOpen:m,closeMobileMenu:P,toggleMobileMenu:k}),C.jsxs("main",{className:"relative z-10",children:[C.jsx(E7,{}),C.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[C.jsx(T7,{}),C.jsx(x7,{}),C.jsx(S7,{}),C.jsx(I7,{}),C.jsx(P7,{}),C.jsx(C7,{projects:t,isMobile:w}),C.jsx(A7,{licensesPdfUrl:r,internshipsPdfUrl:l})]})]}),C.jsx(M7,{})]})})]})}class j7 extends Xe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?C.jsx("div",{className:"bg-[#f8fafc] text-[#334155] min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:C.jsxs("div",{className:"max-w-md mx-auto",children:[C.jsx("div",{className:"mb-8",children:C.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),C.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Oops, something went wrong!"}),C.jsx("p",{className:"text-lg text-[#4b5563] mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),C.jsxs("div",{className:"flex justify-center gap-4",children:[C.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#2563eb] text-white px-6 py-3 rounded-md font-semibold hover:bg-[#1e40af] transition-colors",children:"Refresh Page"}),C.jsx("a",{href:"/",className:"bg-gray-200 text-[#334155] px-6 py-3 rounded-md font-semibold hover:bg-gray-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const z7=document.getElementById("root");y2.createRoot(z7).render(C.jsx(Xe.StrictMode,{children:C.jsx(j7,{children:C.jsx(F7,{})})}));export{qf as A,Bo as C,$r as F,Xe as R,jl as S,Ci as _,Tl as a,Z as b,v7 as c,Q7 as d,G7 as e,K7 as f,Hn as g,_1 as h,Fl as i,C as j,B7 as k,Ke as m,H7 as o,Ps as r,$7 as s};
