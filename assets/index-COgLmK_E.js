(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function _w(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wf={exports:{}},fl={},Ef={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function PI(){if(wv)return Re;wv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(L){return L===null||typeof L!="object"?null:(L=w&&L[w]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,F={};function b(L,q,le){this.props=L,this.context=q,this.refs=F,this.updater=le||A}b.prototype.isReactComponent={},b.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},b.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=b.prototype;function G(L,q,le){this.props=L,this.context=q,this.refs=F,this.updater=le||A}var Q=G.prototype=new W;Q.constructor=G,O(Q,b.prototype),Q.isPureReactComponent=!0;var oe=Array.isArray,ne=Object.prototype.hasOwnProperty,ae={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function I(L,q,le){var Ae,xe={},be=null,Fe=null;if(q!=null)for(Ae in q.ref!==void 0&&(Fe=q.ref),q.key!==void 0&&(be=""+q.key),q)ne.call(q,Ae)&&!k.hasOwnProperty(Ae)&&(xe[Ae]=q[Ae]);var Ue=arguments.length-2;if(Ue===1)xe.children=le;else if(1<Ue){for(var We=Array(Ue),Ct=0;Ct<Ue;Ct++)We[Ct]=arguments[Ct+2];xe.children=We}if(L&&L.defaultProps)for(Ae in Ue=L.defaultProps,Ue)xe[Ae]===void 0&&(xe[Ae]=Ue[Ae]);return{$$typeof:n,type:L,key:be,ref:Fe,props:xe,_owner:ae.current}}function x(L,q){return{$$typeof:n,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function V(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function D(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(le){return q[le]})}var j=/\/+/g;function R(L,q){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):q.toString(36)}function Be(L,q,le,Ae,xe){var be=typeof L;(be==="undefined"||be==="boolean")&&(L=null);var Fe=!1;if(L===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(L.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=L,xe=xe(Fe),L=Ae===""?"."+R(Fe,0):Ae,oe(xe)?(le="",L!=null&&(le=L.replace(j,"$&/")+"/"),Be(xe,q,le,"",function(Ct){return Ct})):xe!=null&&(V(xe)&&(xe=x(xe,le+(!xe.key||Fe&&Fe.key===xe.key?"":(""+xe.key).replace(j,"$&/")+"/")+L)),q.push(xe)),1;if(Fe=0,Ae=Ae===""?".":Ae+":",oe(L))for(var Ue=0;Ue<L.length;Ue++){be=L[Ue];var We=Ae+R(be,Ue);Fe+=Be(be,q,le,We,xe)}else if(We=E(L),typeof We=="function")for(L=We.call(L),Ue=0;!(be=L.next()).done;)be=be.value,We=Ae+R(be,Ue++),Fe+=Be(be,q,le,We,xe);else if(be==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Fe}function ut(L,q,le){if(L==null)return L;var Ae=[],xe=0;return Be(L,Ae,"","",function(be){return q.call(le,be,xe++)}),Ae}function ot(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(le){(L._status===0||L._status===-1)&&(L._status=1,L._result=le)},function(le){(L._status===0||L._status===-1)&&(L._status=2,L._result=le)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var Te={current:null},re={transition:null},me={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:re,ReactCurrentOwner:ae};function J(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ut,forEach:function(L,q,le){ut(L,function(){q.apply(this,arguments)},le)},count:function(L){var q=0;return ut(L,function(){q++}),q},toArray:function(L){return ut(L,function(q){return q})||[]},only:function(L){if(!V(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Re.Component=b,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=J,Re.cloneElement=function(L,q,le){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ae=O({},L.props),xe=L.key,be=L.ref,Fe=L._owner;if(q!=null){if(q.ref!==void 0&&(be=q.ref,Fe=ae.current),q.key!==void 0&&(xe=""+q.key),L.type&&L.type.defaultProps)var Ue=L.type.defaultProps;for(We in q)ne.call(q,We)&&!k.hasOwnProperty(We)&&(Ae[We]=q[We]===void 0&&Ue!==void 0?Ue[We]:q[We])}var We=arguments.length-2;if(We===1)Ae.children=le;else if(1<We){Ue=Array(We);for(var Ct=0;Ct<We;Ct++)Ue[Ct]=arguments[Ct+2];Ae.children=Ue}return{$$typeof:n,type:L.type,key:xe,ref:be,props:Ae,_owner:Fe}},Re.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:a,_context:L},L.Consumer=L},Re.createElement=I,Re.createFactory=function(L){var q=I.bind(null,L);return q.type=L,q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(L){return{$$typeof:d,render:L}},Re.isValidElement=V,Re.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:ot}},Re.memo=function(L,q){return{$$typeof:m,type:L,compare:q===void 0?null:q}},Re.startTransition=function(L){var q=re.transition;re.transition={};try{L()}finally{re.transition=q}},Re.unstable_act=J,Re.useCallback=function(L,q){return Te.current.useCallback(L,q)},Re.useContext=function(L){return Te.current.useContext(L)},Re.useDebugValue=function(){},Re.useDeferredValue=function(L){return Te.current.useDeferredValue(L)},Re.useEffect=function(L,q){return Te.current.useEffect(L,q)},Re.useId=function(){return Te.current.useId()},Re.useImperativeHandle=function(L,q,le){return Te.current.useImperativeHandle(L,q,le)},Re.useInsertionEffect=function(L,q){return Te.current.useInsertionEffect(L,q)},Re.useLayoutEffect=function(L,q){return Te.current.useLayoutEffect(L,q)},Re.useMemo=function(L,q){return Te.current.useMemo(L,q)},Re.useReducer=function(L,q,le){return Te.current.useReducer(L,q,le)},Re.useRef=function(L){return Te.current.useRef(L)},Re.useState=function(L){return Te.current.useState(L)},Re.useSyncExternalStore=function(L,q,le){return Te.current.useSyncExternalStore(L,q,le)},Re.useTransition=function(){return Te.current.useTransition()},Re.version="18.3.1",Re}var Ev;function Bp(){return Ev||(Ev=1,Ef.exports=PI()),Ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function CI(){if(Tv)return fl;Tv=1;var n=Bp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},E=null,A=null;m!==void 0&&(E=""+m),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:E,ref:A,props:w,_owner:o.current}}return fl.Fragment=t,fl.jsx=u,fl.jsxs=u,fl}var Sv;function xI(){return Sv||(Sv=1,wf.exports=CI()),wf.exports}var C=xI(),ee=Bp();const vt=_w(ee);var Ec={},Tf={exports:{}},cn={},Sf={exports:{}},If={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function RI(){return Iv||(Iv=1,function(n){function e(re,me){var J=re.length;re.push(me);e:for(;0<J;){var L=J-1>>>1,q=re[L];if(0<o(q,me))re[L]=me,re[J]=q,J=L;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],J=re.pop();if(J!==me){re[0]=J;e:for(var L=0,q=re.length,le=q>>>1;L<le;){var Ae=2*(L+1)-1,xe=re[Ae],be=Ae+1,Fe=re[be];if(0>o(xe,J))be<q&&0>o(Fe,xe)?(re[L]=Fe,re[be]=J,L=be):(re[L]=xe,re[Ae]=J,L=Ae);else if(be<q&&0>o(Fe,J))re[L]=Fe,re[be]=J,L=be;else break e}}return me}function o(re,me){var J=re.sortIndex-me.sortIndex;return J!==0?J:re.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,E=3,A=!1,O=!1,F=!1,b=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var me=t(m);me!==null;){if(me.callback===null)r(m);else if(me.startTime<=re)r(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function oe(re){if(F=!1,Q(re),!O)if(t(f)!==null)O=!0,ot(ne);else{var me=t(m);me!==null&&Te(oe,me.startTime-re)}}function ne(re,me){O=!1,F&&(F=!1,W(I),I=-1),A=!0;var J=E;try{for(Q(me),w=t(f);w!==null&&(!(w.expirationTime>me)||re&&!D());){var L=w.callback;if(typeof L=="function"){w.callback=null,E=w.priorityLevel;var q=L(w.expirationTime<=me);me=n.unstable_now(),typeof q=="function"?w.callback=q:w===t(f)&&r(f),Q(me)}else r(f);w=t(f)}if(w!==null)var le=!0;else{var Ae=t(m);Ae!==null&&Te(oe,Ae.startTime-me),le=!1}return le}finally{w=null,E=J,A=!1}}var ae=!1,k=null,I=-1,x=5,V=-1;function D(){return!(n.unstable_now()-V<x)}function j(){if(k!==null){var re=n.unstable_now();V=re;var me=!0;try{me=k(!0,re)}finally{me?R():(ae=!1,k=null)}}else ae=!1}var R;if(typeof G=="function")R=function(){G(j)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,ut=Be.port2;Be.port1.onmessage=j,R=function(){ut.postMessage(null)}}else R=function(){b(j,0)};function ot(re){k=re,ae||(ae=!0,R())}function Te(re,me){I=b(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){O||A||(O=!0,ot(ne))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(re){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var J=E;E=me;try{return re()}finally{E=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var J=E;E=re;try{return me()}finally{E=J}},n.unstable_scheduleCallback=function(re,me,J){var L=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?L+J:L):J=L,re){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=J+q,re={id:v++,callback:me,priorityLevel:re,startTime:J,expirationTime:q,sortIndex:-1},J>L?(re.sortIndex=J,e(m,re),t(f)===null&&re===t(m)&&(F?(W(I),I=-1):F=!0,Te(oe,J-L))):(re.sortIndex=q,e(f,re),O||A||(O=!0,ot(ne))),re},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(re){var me=E;return function(){var J=E;E=me;try{return re.apply(this,arguments)}finally{E=J}}}}(If)),If}var Av;function kI(){return Av||(Av=1,Sf.exports=RI()),Sf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function VI(){if(Pv)return cn;Pv=1;var n=Bp(),e=kI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(i){return f.call(w,i)?!0:f.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function A(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,s,l,h){if(s===null||typeof s>"u"||A(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function F(i,s,l,h,p,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new F(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];b[s]=new F(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new F(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new F(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new F(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new F(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new F(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new F(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new F(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,G);b[s]=new F(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,G);b[s]=new F(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,G);b[s]=new F(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new F(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new F(i,1,!1,i.toLowerCase(),null,!0,!0)});function Q(i,s,l,h){var p=b.hasOwnProperty(s)?b[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,h)&&(l=null),h||p===null?E(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var oe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),ae=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),ut=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),re=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=re&&i[re]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,L;function q(i){if(L===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+i}var le=!1;function Ae(i,s){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),T=p.length-1,P=y.length-1;1<=T&&0<=P&&p[T]!==y[P];)P--;for(;1<=T&&0<=P;T--,P--)if(p[T]!==y[P]){if(T!==1||P!==1)do if(T--,P--,0>P||p[T]!==y[P]){var N=`
`+p[T].replace(" at new "," at ");return i.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",i.displayName)),N}while(1<=T&&0<=P);break}}}finally{le=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?q(i):""}function xe(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case ae:return"Portal";case x:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ut:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case ot:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function Fe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ct(i){var s=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,y.call(this,T)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ar(i){i._valueTracker||(i._valueTracker=Ct(i))}function Hs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=We(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Zi(i,s){var l=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ws(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function _a(i,s){s=s.checked,s!=null&&Q(i,"checked",s,!1)}function wa(i,s){_a(i,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?qs(i,s.type,l):s.hasOwnProperty("defaultValue")&&qs(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function ou(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function qs(i,s,l){(s!=="number"||ni(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Pr=Array.isArray;function Cr(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Ea(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Gs(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Pr(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Ue(l)}}function Ks(i,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Ta(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var xr,Sa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ri(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ts=["Webkit","ms","Moz","O"];Object.keys(es).forEach(function(i){ts.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),es[s]=es[i]})});function Ia(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||es.hasOwnProperty(i)&&es[i]?(""+s).trim():s+"px"}function Aa(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ia(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var Pa=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ca(i,s){if(s){if(Pa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function xa(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ns=null;function Qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xs=null,Sn=null,tr=null;function Ys(i){if(i=Ja(i)){if(typeof Xs!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Lu(s),Xs(i.stateNode,i.type,s))}}function nr(i){Sn?tr?tr.push(i):tr=[i]:Sn=i}function Ra(){if(Sn){var i=Sn,s=tr;if(tr=Sn=null,Ys(i),s)for(i=0;i<s.length;i++)Ys(s[i])}}function rs(i,s){return i(s)}function ka(){}var Rr=!1;function Va(i,s,l){if(Rr)return i(s,l);Rr=!0;try{return rs(i,s,l)}finally{Rr=!1,(Sn!==null||tr!==null)&&(ka(),Ra())}}function ct(i,s){var l=i.stateNode;if(l===null)return null;var h=Lu(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Js=!1;if(d)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Js=!1}function is(i,s,l,h,p,y,T,P,N){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(Z){this.onError(Z)}}var ss=!1,Zs=null,On=!1,Na=null,Gh={onError:function(i){ss=!0,Zs=i}};function eo(i,s,l,h,p,y,T,P,N){ss=!1,Zs=null,is.apply(Gh,arguments)}function au(i,s,l,h,p,y,T,P,N){if(eo.apply(this,arguments),ss){if(ss){var $=Zs;ss=!1,Zs=null}else throw Error(t(198));On||(On=!0,Na=$)}}function jn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function os(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(i){if(jn(i)!==i)throw Error(t(188))}function lu(i){var s=i.alternate;if(!s){if(s=jn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Fn(p),i;if(y===h)return Fn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var T=!1,P=p.child;P;){if(P===l){T=!0,l=p,h=y;break}if(P===h){T=!0,h=p,l=y;break}P=P.sibling}if(!T){for(P=y.child;P;){if(P===l){T=!0,l=y,h=p;break}if(P===h){T=!0,h=y,l=p;break}P=P.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Da(i){return i=lu(i),i!==null?to(i):null}function to(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=to(i);if(s!==null)return s;i=i.sibling}return null}var no=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,uu=e.unstable_shouldYield,Kh=e.unstable_requestPaint,qe=e.unstable_now,cu=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,ii=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Ma=e.unstable_LowPriority,hu=e.unstable_IdlePriority,ls=null,fn=null;function du(i){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(ls,i,void 0,(i.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:pu,La=Math.log,fu=Math.LN2;function pu(i){return i>>>=0,i===0?32:31-(La(i)/fu|0)|0}var ro=64,io=4194304;function si(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function us(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var P=T&~p;P!==0?h=si(P):(y&=T,y!==0&&(h=si(y)))}else T=l&~p,T!==0?h=si(T):y!==0&&(h=si(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Yt(s),p=1<<l,h|=i[l],s&=~p;return h}function Qh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-Yt(y),P=1<<T,N=p[T];N===-1?((P&l)===0||(P&h)!==0)&&(p[T]=Qh(P,s)):N<=s&&(i.expiredLanes|=P),y&=~P}}function pn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function cs(){var i=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),i}function oi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function ai(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Yt(s),i[s]=l}function He(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Yt(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function li(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Yt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var De=0;function ui(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var mu,so,gu,yu,vu,Oa=!1,rr=[],Dt=null,Un=null,Bn=null,ci=new Map,An=new Map,ir=[],Xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(i,s){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ci.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(s.pointerId)}}function nn(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ja(s),s!==null&&so(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function Yh(i,s,l,h,p){switch(s){case"focusin":return Dt=nn(Dt,i,s,l,h,p),!0;case"dragenter":return Un=nn(Un,i,s,l,h,p),!0;case"mouseover":return Bn=nn(Bn,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return ci.set(y,nn(ci.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,An.set(y,nn(An.get(y)||null,i,s,l,h,p)),!0}return!1}function wu(i){var s=ms(i.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=os(l),s!==null){i.blockedOn=s,vu(i.priority,function(){gu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=oo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ns=h,l.target.dispatchEvent(h),ns=null}else return s=Ja(l),s!==null&&so(s),i.blockedOn=l,!1;s.shift()}return!0}function hs(i,s,l){Vr(i)&&l.delete(s)}function Eu(){Oa=!1,Dt!==null&&Vr(Dt)&&(Dt=null),Un!==null&&Vr(Un)&&(Un=null),Bn!==null&&Vr(Bn)&&(Bn=null),ci.forEach(hs),An.forEach(hs)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eu)))}function $n(i){function s(p){return zn(p,i)}if(0<rr.length){zn(rr[0],i);for(var l=1;l<rr.length;l++){var h=rr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Dt!==null&&zn(Dt,i),Un!==null&&zn(Un,i),Bn!==null&&zn(Bn,i),ci.forEach(s),An.forEach(s),l=0;l<ir.length;l++)h=ir[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<ir.length&&(l=ir[0],l.blockedOn===null);)wu(l),l.blockedOn===null&&ir.shift()}var Nr=oe.ReactCurrentBatchConfig,hi=!0;function Ze(i,s,l,h){var p=De,y=Nr.transition;Nr.transition=null;try{De=1,ja(i,s,l,h)}finally{De=p,Nr.transition=y}}function Jh(i,s,l,h){var p=De,y=Nr.transition;Nr.transition=null;try{De=4,ja(i,s,l,h)}finally{De=p,Nr.transition=y}}function ja(i,s,l,h){if(hi){var p=oo(i,s,l,h);if(p===null)ud(i,s,h,ds,l),_u(i,h);else if(Yh(p,i,s,l,h))h.stopPropagation();else if(_u(i,h),s&4&&-1<Xh.indexOf(i)){for(;p!==null;){var y=Ja(p);if(y!==null&&mu(y),y=oo(i,s,l,h),y===null&&ud(i,s,h,ds,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else ud(i,s,h,null,l)}}var ds=null;function oo(i,s,l,h){if(ds=null,i=Qs(h),i=ms(i),i!==null)if(s=jn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=os(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return ds=i,null}function Fa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cu()){case as:return 1;case ii:return 4;case In:case Ma:return 16;case hu:return 536870912;default:return 16}default:return 16}}var mn=null,ao=null,rn=null;function Ua(){if(rn)return rn;var i,s=ao,l=s.length,h,p="value"in mn?mn.value:mn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&s[l-h]===p[y-h];h++);return rn=p.slice(i,1<h?1-h:void 0)}function lo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function sr(){return!0}function Ba(){return!1}function bt(i){function s(l,h,p,y,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(l=i[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sr:Ba,this.isPropagationStopped=Ba,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=bt(Hn),or=J({},Hn,{view:0,detail:0}),Zh=bt(or),co,Dr,di,fs=J({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==di&&(di&&i.type==="mousemove"?(co=i.screenX-di.screenX,Dr=i.screenY-di.screenY):Dr=co=0,di=i),co)},movementY:function(i){return"movementY"in i?i.movementY:Dr}}),ho=bt(fs),za=J({},fs,{dataTransfer:0}),Tu=bt(za),fo=J({},or,{relatedTarget:0}),po=bt(fo),Su=J({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),br=bt(Su),Iu=J({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Au=bt(Iu),Pu=J({},Hn,{data:0}),$a=bt(Pu),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Cu[i])?!!s[i]:!1}function ar(){return xu}var c=J({},or,{key:function(i){if(i.key){var s=mo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(i){return i.type==="keypress"?lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=bt(c),_=J({},fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=bt(_),U=J({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),H=bt(U),se=J({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=bt(se),Et=J({},fs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=bt(Et),xt=[9,13,27,32],pt=d&&"CompositionEvent"in window,Pn=null;d&&"documentMode"in document&&(Pn=document.documentMode);var gn=d&&"TextEvent"in window&&!Pn,ps=d&&(!pt||Pn&&8<Pn&&11>=Pn),go=" ",pg=!1;function mg(i,s){switch(i){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function SS(i,s){switch(i){case"compositionend":return gg(s);case"keypress":return s.which!==32?null:(pg=!0,go);case"textInput":return i=s.data,i===go&&pg?null:i;default:return null}}function IS(i,s){if(yo)return i==="compositionend"||!pt&&mg(i,s)?(i=Ua(),rn=ao=mn=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ps&&s.locale!=="ko"?null:s.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!AS[i.type]:s==="textarea"}function vg(i,s,l,h){nr(h),s=Du(s,"onChange"),0<s.length&&(l=new uo("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Ha=null,Wa=null;function PS(i){Lg(i,0)}function Ru(i){var s=To(i);if(Hs(s))return i}function CS(i,s){if(i==="change")return s}var _g=!1;if(d){var ed;if(d){var td="oninput"in document;if(!td){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),td=typeof wg.oninput=="function"}ed=td}else ed=!1;_g=ed&&(!document.documentMode||9<document.documentMode)}function Eg(){Ha&&(Ha.detachEvent("onpropertychange",Tg),Wa=Ha=null)}function Tg(i){if(i.propertyName==="value"&&Ru(Wa)){var s=[];vg(s,Wa,i,Qs(i)),Va(PS,s)}}function xS(i,s,l){i==="focusin"?(Eg(),Ha=s,Wa=l,Ha.attachEvent("onpropertychange",Tg)):i==="focusout"&&Eg()}function RS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ru(Wa)}function kS(i,s){if(i==="click")return Ru(s)}function VS(i,s){if(i==="input"||i==="change")return Ru(s)}function NS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:NS;function qa(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Wn(i[p],s[p]))return!1}return!0}function Sg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ig(i,s){var l=Sg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Sg(l)}}function Ag(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ag(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Pg(){for(var i=window,s=ni();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ni(i.document)}return s}function nd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function DS(i){var s=Pg(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&Ag(l.ownerDocument.documentElement,l)){if(h!==null&&nd(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=Ig(l,y);var T=Ig(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bS=d&&"documentMode"in document&&11>=document.documentMode,vo=null,rd=null,Ga=null,id=!1;function Cg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;id||vo==null||vo!==ni(h)||(h=vo,"selectionStart"in h&&nd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ga&&qa(Ga,h)||(Ga=h,h=Du(rd,"onSelect"),0<h.length&&(s=new uo("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=vo)))}function ku(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},sd={},xg={};d&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Vu(i){if(sd[i])return sd[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in xg)return sd[i]=s[l];return i}var Rg=Vu("animationend"),kg=Vu("animationiteration"),Vg=Vu("animationstart"),Ng=Vu("transitionend"),Dg=new Map,bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(i,s){Dg.set(i,s),a(s,[i])}for(var od=0;od<bg.length;od++){var ad=bg[od],MS=ad.toLowerCase(),LS=ad[0].toUpperCase()+ad.slice(1);fi(MS,"on"+LS)}fi(Rg,"onAnimationEnd"),fi(kg,"onAnimationIteration"),fi(Vg,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Ng,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function Mg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,au(h,s,void 0,i),i.currentTarget=null}function Lg(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var T=h.length-1;0<=T;T--){var P=h[T],N=P.instance,$=P.currentTarget;if(P=P.listener,N!==y&&p.isPropagationStopped())break e;Mg(p,P,$),y=N}else for(T=0;T<h.length;T++){if(P=h[T],N=P.instance,$=P.currentTarget,P=P.listener,N!==y&&p.isPropagationStopped())break e;Mg(p,P,$),y=N}}}if(On)throw i=Na,On=!1,Na=null,i}function Ke(i,s){var l=s[md];l===void 0&&(l=s[md]=new Set);var h=i+"__bubble";l.has(h)||(Og(s,i,2,!1),l.add(h))}function ld(i,s,l){var h=0;s&&(h|=4),Og(l,i,h,s)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Qa(i){if(!i[Nu]){i[Nu]=!0,r.forEach(function(l){l!=="selectionchange"&&(OS.has(l)||ld(l,!1,i),ld(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nu]||(s[Nu]=!0,ld("selectionchange",!1,s))}}function Og(i,s,l,h){switch(Fa(s)){case 1:var p=Ze;break;case 4:p=Jh;break;default:p=ja}l=p.bind(null,s,l,i),p=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function ud(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var P=h.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var N=T.tag;if((N===3||N===4)&&(N=T.stateNode.containerInfo,N===p||N.nodeType===8&&N.parentNode===p))return;T=T.return}for(;P!==null;){if(T=ms(P),T===null)return;if(N=T.tag,N===5||N===6){h=y=T;continue e}P=P.parentNode}}h=h.return}Va(function(){var $=y,Z=Qs(l),te=[];e:{var Y=Dg.get(i);if(Y!==void 0){var ue=uo,de=i;switch(i){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":ue=g;break;case"focusin":de="focus",ue=po;break;case"focusout":de="blur",ue=po;break;case"beforeblur":case"afterblur":ue=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=H;break;case Rg:case kg:case Vg:ue=br;break;case Ng:ue=$e;break;case"scroll":ue=Zh;break;case"wheel":ue=Me;break;case"copy":case"cut":case"paste":ue=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var fe=(s&4)!==0,ht=!fe&&i==="scroll",B=fe?Y!==null?Y+"Capture":null:Y;fe=[];for(var M=$,z;M!==null;){z=M;var ie=z.stateNode;if(z.tag===5&&ie!==null&&(z=ie,B!==null&&(ie=ct(M,B),ie!=null&&fe.push(Xa(M,ie,z)))),ht)break;M=M.return}0<fe.length&&(Y=new ue(Y,de,null,l,Z),te.push({event:Y,listeners:fe}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",Y&&l!==ns&&(de=l.relatedTarget||l.fromElement)&&(ms(de)||de[Mr]))break e;if((ue||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=$,de=de?ms(de):null,de!==null&&(ht=jn(de),de!==ht||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=$),ue!==de)){if(fe=ho,ie="onMouseLeave",B="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(fe=S,ie="onPointerLeave",B="onPointerEnter",M="pointer"),ht=ue==null?Y:To(ue),z=de==null?Y:To(de),Y=new fe(ie,M+"leave",ue,l,Z),Y.target=ht,Y.relatedTarget=z,ie=null,ms(Z)===$&&(fe=new fe(B,M+"enter",de,l,Z),fe.target=z,fe.relatedTarget=ht,ie=fe),ht=ie,ue&&de)t:{for(fe=ue,B=de,M=0,z=fe;z;z=wo(z))M++;for(z=0,ie=B;ie;ie=wo(ie))z++;for(;0<M-z;)fe=wo(fe),M--;for(;0<z-M;)B=wo(B),z--;for(;M--;){if(fe===B||B!==null&&fe===B.alternate)break t;fe=wo(fe),B=wo(B)}fe=null}else fe=null;ue!==null&&jg(te,Y,ue,fe,!1),de!==null&&ht!==null&&jg(te,ht,de,fe,!0)}}e:{if(Y=$?To($):window,ue=Y.nodeName&&Y.nodeName.toLowerCase(),ue==="select"||ue==="input"&&Y.type==="file")var ge=CS;else if(yg(Y))if(_g)ge=VS;else{ge=RS;var ve=xS}else(ue=Y.nodeName)&&ue.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(ge=kS);if(ge&&(ge=ge(i,$))){vg(te,ge,l,Z);break e}ve&&ve(i,Y,$),i==="focusout"&&(ve=Y._wrapperState)&&ve.controlled&&Y.type==="number"&&qs(Y,"number",Y.value)}switch(ve=$?To($):window,i){case"focusin":(yg(ve)||ve.contentEditable==="true")&&(vo=ve,rd=$,Ga=null);break;case"focusout":Ga=rd=vo=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,Cg(te,l,Z);break;case"selectionchange":if(bS)break;case"keydown":case"keyup":Cg(te,l,Z)}var _e;if(pt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else yo?mg(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(ps&&l.locale!=="ko"&&(yo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&yo&&(_e=Ua()):(mn=Z,ao="value"in mn?mn.value:mn.textContent,yo=!0)),ve=Du($,Se),0<ve.length&&(Se=new $a(Se,i,null,l,Z),te.push({event:Se,listeners:ve}),_e?Se.data=_e:(_e=gg(l),_e!==null&&(Se.data=_e)))),(_e=gn?SS(i,l):IS(i,l))&&($=Du($,"onBeforeInput"),0<$.length&&(Z=new $a("onBeforeInput","beforeinput",null,l,Z),te.push({event:Z,listeners:$}),Z.data=_e))}Lg(te,s)})}function Xa(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Du(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ct(i,l),y!=null&&h.unshift(Xa(i,y,p)),y=ct(i,s),y!=null&&h.push(Xa(i,y,p))),i=i.return}return h}function wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jg(i,s,l,h,p){for(var y=s._reactName,T=[];l!==null&&l!==h;){var P=l,N=P.alternate,$=P.stateNode;if(N!==null&&N===h)break;P.tag===5&&$!==null&&(P=$,p?(N=ct(l,y),N!=null&&T.unshift(Xa(l,N,P))):p||(N=ct(l,y),N!=null&&T.push(Xa(l,N,P)))),l=l.return}T.length!==0&&i.push({event:s,listeners:T})}var jS=/\r\n?/g,FS=/\u0000|\uFFFD/g;function Fg(i){return(typeof i=="string"?i:""+i).replace(jS,`
`).replace(FS,"")}function bu(i,s,l){if(s=Fg(s),Fg(i)!==s&&l)throw Error(t(425))}function Mu(){}var cd=null,hd=null;function dd(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fd=typeof setTimeout=="function"?setTimeout:void 0,US=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,BS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(i){return Ug.resolve(null).then(i).catch(zS)}:fd;function zS(i){setTimeout(function(){throw i})}function pd(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),$n(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);$n(s)}function pi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Bg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),lr="__reactFiber$"+Eo,Ya="__reactProps$"+Eo,Mr="__reactContainer$"+Eo,md="__reactEvents$"+Eo,$S="__reactListeners$"+Eo,HS="__reactHandles$"+Eo;function ms(i){var s=i[lr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[Mr]||l[lr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Bg(i);i!==null;){if(l=i[lr])return l;i=Bg(i)}return s}i=l,l=i.parentNode}return null}function Ja(i){return i=i[lr]||i[Mr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function To(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Lu(i){return i[Ya]||null}var gd=[],So=-1;function mi(i){return{current:i}}function Qe(i){0>So||(i.current=gd[So],gd[So]=null,So--)}function Ge(i,s){So++,gd[So]=i.current,i.current=s}var gi={},Bt=mi(gi),sn=mi(!1),gs=gi;function Io(i,s){var l=i.type.contextTypes;if(!l)return gi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function on(i){return i=i.childContextTypes,i!=null}function Ou(){Qe(sn),Qe(Bt)}function zg(i,s,l){if(Bt.current!==gi)throw Error(t(168));Ge(Bt,s),Ge(sn,l)}function $g(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Fe(i)||"Unknown",p));return J({},l,h)}function ju(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gi,gs=Bt.current,Ge(Bt,i),Ge(sn,sn.current),!0}function Hg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=$g(i,s,gs),h.__reactInternalMemoizedMergedChildContext=i,Qe(sn),Qe(Bt),Ge(Bt,i)):Qe(sn),Ge(sn,l)}var Lr=null,Fu=!1,yd=!1;function Wg(i){Lr===null?Lr=[i]:Lr.push(i)}function WS(i){Fu=!0,Wg(i)}function yi(){if(!yd&&Lr!==null){yd=!0;var i=0,s=De;try{var l=Lr;for(De=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Lr=null,Fu=!1}catch(p){throw Lr!==null&&(Lr=Lr.slice(i+1)),no(as,yi),p}finally{De=s,yd=!1}}return null}var Ao=[],Po=0,Uu=null,Bu=0,Cn=[],xn=0,ys=null,Or=1,jr="";function vs(i,s){Ao[Po++]=Bu,Ao[Po++]=Uu,Uu=i,Bu=s}function qg(i,s,l){Cn[xn++]=Or,Cn[xn++]=jr,Cn[xn++]=ys,ys=i;var h=Or;i=jr;var p=32-Yt(h)-1;h&=~(1<<p),l+=1;var y=32-Yt(s)+p;if(30<y){var T=p-p%5;y=(h&(1<<T)-1).toString(32),h>>=T,p-=T,Or=1<<32-Yt(s)+p|l<<p|h,jr=y+i}else Or=1<<y|l<<p|h,jr=i}function vd(i){i.return!==null&&(vs(i,1),qg(i,1,0))}function _d(i){for(;i===Uu;)Uu=Ao[--Po],Ao[Po]=null,Bu=Ao[--Po],Ao[Po]=null;for(;i===ys;)ys=Cn[--xn],Cn[xn]=null,jr=Cn[--xn],Cn[xn]=null,Or=Cn[--xn],Cn[xn]=null}var yn=null,vn=null,et=!1,qn=null;function Gg(i,s){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function Kg(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,yn=i,vn=pi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,yn=i,vn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ys!==null?{id:Or,overflow:jr}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,yn=i,vn=null,!0):!1;default:return!1}}function wd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ed(i){if(et){var s=vn;if(s){var l=s;if(!Kg(i,s)){if(wd(i))throw Error(t(418));s=pi(l.nextSibling);var h=yn;s&&Kg(i,s)?Gg(h,l):(i.flags=i.flags&-4097|2,et=!1,yn=i)}}else{if(wd(i))throw Error(t(418));i.flags=i.flags&-4097|2,et=!1,yn=i}}}function Qg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;yn=i}function zu(i){if(i!==yn)return!1;if(!et)return Qg(i),et=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!dd(i.type,i.memoizedProps)),s&&(s=vn)){if(wd(i))throw Xg(),Error(t(418));for(;s;)Gg(i,s),s=pi(s.nextSibling)}if(Qg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){vn=pi(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}vn=null}}else vn=yn?pi(i.stateNode.nextSibling):null;return!0}function Xg(){for(var i=vn;i;)i=pi(i.nextSibling)}function Co(){vn=yn=null,et=!1}function Td(i){qn===null?qn=[i]:qn.push(i)}var qS=oe.ReactCurrentBatchConfig;function Za(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var P=p.refs;T===null?delete P[y]:P[y]=T},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function $u(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Yg(i){var s=i._init;return s(i._payload)}function Jg(i){function s(B,M){if(i){var z=B.deletions;z===null?(B.deletions=[M],B.flags|=16):z.push(M)}}function l(B,M){if(!i)return null;for(;M!==null;)s(B,M),M=M.sibling;return null}function h(B,M){for(B=new Map;M!==null;)M.key!==null?B.set(M.key,M):B.set(M.index,M),M=M.sibling;return B}function p(B,M){return B=Ai(B,M),B.index=0,B.sibling=null,B}function y(B,M,z){return B.index=z,i?(z=B.alternate,z!==null?(z=z.index,z<M?(B.flags|=2,M):z):(B.flags|=2,M)):(B.flags|=1048576,M)}function T(B){return i&&B.alternate===null&&(B.flags|=2),B}function P(B,M,z,ie){return M===null||M.tag!==6?(M=pf(z,B.mode,ie),M.return=B,M):(M=p(M,z),M.return=B,M)}function N(B,M,z,ie){var ge=z.type;return ge===k?Z(B,M,z.props.children,ie,z.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ot&&Yg(ge)===M.type)?(ie=p(M,z.props),ie.ref=Za(B,M,z),ie.return=B,ie):(ie=fc(z.type,z.key,z.props,null,B.mode,ie),ie.ref=Za(B,M,z),ie.return=B,ie)}function $(B,M,z,ie){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=mf(z,B.mode,ie),M.return=B,M):(M=p(M,z.children||[]),M.return=B,M)}function Z(B,M,z,ie,ge){return M===null||M.tag!==7?(M=Ps(z,B.mode,ie,ge),M.return=B,M):(M=p(M,z),M.return=B,M)}function te(B,M,z){if(typeof M=="string"&&M!==""||typeof M=="number")return M=pf(""+M,B.mode,z),M.return=B,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ne:return z=fc(M.type,M.key,M.props,null,B.mode,z),z.ref=Za(B,null,M),z.return=B,z;case ae:return M=mf(M,B.mode,z),M.return=B,M;case ot:var ie=M._init;return te(B,ie(M._payload),z)}if(Pr(M)||me(M))return M=Ps(M,B.mode,z,null),M.return=B,M;$u(B,M)}return null}function Y(B,M,z,ie){var ge=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:P(B,M,""+z,ie);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ne:return z.key===ge?N(B,M,z,ie):null;case ae:return z.key===ge?$(B,M,z,ie):null;case ot:return ge=z._init,Y(B,M,ge(z._payload),ie)}if(Pr(z)||me(z))return ge!==null?null:Z(B,M,z,ie,null);$u(B,z)}return null}function ue(B,M,z,ie,ge){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return B=B.get(z)||null,P(M,B,""+ie,ge);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case ne:return B=B.get(ie.key===null?z:ie.key)||null,N(M,B,ie,ge);case ae:return B=B.get(ie.key===null?z:ie.key)||null,$(M,B,ie,ge);case ot:var ve=ie._init;return ue(B,M,z,ve(ie._payload),ge)}if(Pr(ie)||me(ie))return B=B.get(z)||null,Z(M,B,ie,ge,null);$u(M,ie)}return null}function de(B,M,z,ie){for(var ge=null,ve=null,_e=M,Se=M=0,Vt=null;_e!==null&&Se<z.length;Se++){_e.index>Se?(Vt=_e,_e=null):Vt=_e.sibling;var je=Y(B,_e,z[Se],ie);if(je===null){_e===null&&(_e=Vt);break}i&&_e&&je.alternate===null&&s(B,_e),M=y(je,M,Se),ve===null?ge=je:ve.sibling=je,ve=je,_e=Vt}if(Se===z.length)return l(B,_e),et&&vs(B,Se),ge;if(_e===null){for(;Se<z.length;Se++)_e=te(B,z[Se],ie),_e!==null&&(M=y(_e,M,Se),ve===null?ge=_e:ve.sibling=_e,ve=_e);return et&&vs(B,Se),ge}for(_e=h(B,_e);Se<z.length;Se++)Vt=ue(_e,B,Se,z[Se],ie),Vt!==null&&(i&&Vt.alternate!==null&&_e.delete(Vt.key===null?Se:Vt.key),M=y(Vt,M,Se),ve===null?ge=Vt:ve.sibling=Vt,ve=Vt);return i&&_e.forEach(function(Pi){return s(B,Pi)}),et&&vs(B,Se),ge}function fe(B,M,z,ie){var ge=me(z);if(typeof ge!="function")throw Error(t(150));if(z=ge.call(z),z==null)throw Error(t(151));for(var ve=ge=null,_e=M,Se=M=0,Vt=null,je=z.next();_e!==null&&!je.done;Se++,je=z.next()){_e.index>Se?(Vt=_e,_e=null):Vt=_e.sibling;var Pi=Y(B,_e,je.value,ie);if(Pi===null){_e===null&&(_e=Vt);break}i&&_e&&Pi.alternate===null&&s(B,_e),M=y(Pi,M,Se),ve===null?ge=Pi:ve.sibling=Pi,ve=Pi,_e=Vt}if(je.done)return l(B,_e),et&&vs(B,Se),ge;if(_e===null){for(;!je.done;Se++,je=z.next())je=te(B,je.value,ie),je!==null&&(M=y(je,M,Se),ve===null?ge=je:ve.sibling=je,ve=je);return et&&vs(B,Se),ge}for(_e=h(B,_e);!je.done;Se++,je=z.next())je=ue(_e,B,Se,je.value,ie),je!==null&&(i&&je.alternate!==null&&_e.delete(je.key===null?Se:je.key),M=y(je,M,Se),ve===null?ge=je:ve.sibling=je,ve=je);return i&&_e.forEach(function(AI){return s(B,AI)}),et&&vs(B,Se),ge}function ht(B,M,z,ie){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ne:e:{for(var ge=z.key,ve=M;ve!==null;){if(ve.key===ge){if(ge=z.type,ge===k){if(ve.tag===7){l(B,ve.sibling),M=p(ve,z.props.children),M.return=B,B=M;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ot&&Yg(ge)===ve.type){l(B,ve.sibling),M=p(ve,z.props),M.ref=Za(B,ve,z),M.return=B,B=M;break e}l(B,ve);break}else s(B,ve);ve=ve.sibling}z.type===k?(M=Ps(z.props.children,B.mode,ie,z.key),M.return=B,B=M):(ie=fc(z.type,z.key,z.props,null,B.mode,ie),ie.ref=Za(B,M,z),ie.return=B,B=ie)}return T(B);case ae:e:{for(ve=z.key;M!==null;){if(M.key===ve)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){l(B,M.sibling),M=p(M,z.children||[]),M.return=B,B=M;break e}else{l(B,M);break}else s(B,M);M=M.sibling}M=mf(z,B.mode,ie),M.return=B,B=M}return T(B);case ot:return ve=z._init,ht(B,M,ve(z._payload),ie)}if(Pr(z))return de(B,M,z,ie);if(me(z))return fe(B,M,z,ie);$u(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,M!==null&&M.tag===6?(l(B,M.sibling),M=p(M,z),M.return=B,B=M):(l(B,M),M=pf(z,B.mode,ie),M.return=B,B=M),T(B)):l(B,M)}return ht}var xo=Jg(!0),Zg=Jg(!1),Hu=mi(null),Wu=null,Ro=null,Sd=null;function Id(){Sd=Ro=Wu=null}function Ad(i){var s=Hu.current;Qe(Hu),i._currentValue=s}function Pd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function ko(i,s){Wu=i,Sd=Ro=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(an=!0),i.firstContext=null)}function Rn(i){var s=i._currentValue;if(Sd!==i)if(i={context:i,memoizedValue:s,next:null},Ro===null){if(Wu===null)throw Error(t(308));Ro=i,Wu.dependencies={lanes:0,firstContext:i}}else Ro=Ro.next=i;return s}var _s=null;function Cd(i){_s===null?_s=[i]:_s.push(i)}function ey(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,Cd(s)):(l.next=p.next,p.next=l),s.interleaved=l,Fr(i,h)}function Fr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var vi=!1;function xd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ty(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ur(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function _i(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,Fr(i,l)}return p=h.interleaved,p===null?(s.next=s,Cd(h)):(s.next=p.next,p.next=s),h.interleaved=s,Fr(i,l)}function qu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,li(i,l)}}function ny(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Gu(i,s,l,h){var p=i.updateQueue;vi=!1;var y=p.firstBaseUpdate,T=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var N=P,$=N.next;N.next=null,T===null?y=$:T.next=$,T=N;var Z=i.alternate;Z!==null&&(Z=Z.updateQueue,P=Z.lastBaseUpdate,P!==T&&(P===null?Z.firstBaseUpdate=$:P.next=$,Z.lastBaseUpdate=N))}if(y!==null){var te=p.baseState;T=0,Z=$=N=null,P=y;do{var Y=P.lane,ue=P.eventTime;if((h&Y)===Y){Z!==null&&(Z=Z.next={eventTime:ue,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var de=i,fe=P;switch(Y=s,ue=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){te=de.call(ue,te,Y);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,Y=typeof de=="function"?de.call(ue,te,Y):de,Y==null)break e;te=J({},te,Y);break e;case 2:vi=!0}}P.callback!==null&&P.lane!==0&&(i.flags|=64,Y=p.effects,Y===null?p.effects=[P]:Y.push(P))}else ue={eventTime:ue,lane:Y,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Z===null?($=Z=ue,N=te):Z=Z.next=ue,T|=Y;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;Y=P,P=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(Z===null&&(N=te),p.baseState=N,p.firstBaseUpdate=$,p.lastBaseUpdate=Z,s=p.shared.interleaved,s!==null){p=s;do T|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ts|=T,i.lanes=T,i.memoizedState=te}}function ry(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var el={},ur=mi(el),tl=mi(el),nl=mi(el);function ws(i){if(i===el)throw Error(t(174));return i}function Rd(i,s){switch(Ge(nl,s),Ge(tl,i),Ge(ur,el),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=wt(s,i)}Qe(ur),Ge(ur,s)}function Vo(){Qe(ur),Qe(tl),Qe(nl)}function iy(i){ws(nl.current);var s=ws(ur.current),l=wt(s,i.type);s!==l&&(Ge(tl,i),Ge(ur,l))}function kd(i){tl.current===i&&(Qe(ur),Qe(tl))}var tt=mi(0);function Ku(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vd=[];function Nd(){for(var i=0;i<Vd.length;i++)Vd[i]._workInProgressVersionPrimary=null;Vd.length=0}var Qu=oe.ReactCurrentDispatcher,Dd=oe.ReactCurrentBatchConfig,Es=0,nt=null,Tt=null,Rt=null,Xu=!1,rl=!1,il=0,GS=0;function zt(){throw Error(t(321))}function bd(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Wn(i[l],s[l]))return!1;return!0}function Md(i,s,l,h,p,y){if(Es=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qu.current=i===null||i.memoizedState===null?YS:JS,i=l(h,p),rl){y=0;do{if(rl=!1,il=0,25<=y)throw Error(t(301));y+=1,Rt=Tt=null,s.updateQueue=null,Qu.current=ZS,i=l(h,p)}while(rl)}if(Qu.current=Zu,s=Tt!==null&&Tt.next!==null,Es=0,Rt=Tt=nt=null,Xu=!1,s)throw Error(t(300));return i}function Ld(){var i=il!==0;return il=0,i}function cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?nt.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function kn(){if(Tt===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var s=Rt===null?nt.memoizedState:Rt.next;if(s!==null)Rt=s,Tt=i;else{if(i===null)throw Error(t(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?nt.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function sl(i,s){return typeof s=="function"?s(i):s}function Od(i){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Tt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var T=p.next;p.next=y.next,y.next=T}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var P=T=null,N=null,$=y;do{var Z=$.lane;if((Es&Z)===Z)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var te={lane:Z,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(P=N=te,T=h):N=N.next=te,nt.lanes|=Z,Ts|=Z}$=$.next}while($!==null&&$!==y);N===null?T=h:N.next=P,Wn(h,s.memoizedState)||(an=!0),s.memoizedState=h,s.baseState=T,s.baseQueue=N,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,nt.lanes|=y,Ts|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function jd(i){var s=kn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do y=i(y,T.action),T=T.next;while(T!==p);Wn(y,s.memoizedState)||(an=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function sy(){}function oy(i,s){var l=nt,h=kn(),p=s(),y=!Wn(h.memoizedState,p);if(y&&(h.memoizedState=p,an=!0),h=h.queue,Fd(uy.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,ol(9,ly.bind(null,l,h,p,s),void 0,null),kt===null)throw Error(t(349));(Es&30)!==0||ay(l,s,p)}return p}function ay(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function ly(i,s,l,h){s.value=l,s.getSnapshot=h,cy(s)&&hy(i)}function uy(i,s,l){return l(function(){cy(s)&&hy(i)})}function cy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Wn(i,l)}catch{return!0}}function hy(i){var s=Fr(i,1);s!==null&&Xn(s,i,1,-1)}function dy(i){var s=cr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:i},s.queue=i,i=i.dispatch=XS.bind(null,nt,i),[s.memoizedState,i]}function ol(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function fy(){return kn().memoizedState}function Yu(i,s,l,h){var p=cr();nt.flags|=i,p.memoizedState=ol(1|s,l,void 0,h===void 0?null:h)}function Ju(i,s,l,h){var p=kn();h=h===void 0?null:h;var y=void 0;if(Tt!==null){var T=Tt.memoizedState;if(y=T.destroy,h!==null&&bd(h,T.deps)){p.memoizedState=ol(s,l,y,h);return}}nt.flags|=i,p.memoizedState=ol(1|s,l,y,h)}function py(i,s){return Yu(8390656,8,i,s)}function Fd(i,s){return Ju(2048,8,i,s)}function my(i,s){return Ju(4,2,i,s)}function gy(i,s){return Ju(4,4,i,s)}function yy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function vy(i,s,l){return l=l!=null?l.concat([i]):null,Ju(4,4,yy.bind(null,s,i),l)}function Ud(){}function _y(i,s){var l=kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&bd(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function wy(i,s){var l=kn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&bd(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function Ey(i,s,l){return(Es&21)===0?(i.baseState&&(i.baseState=!1,an=!0),i.memoizedState=l):(Wn(l,s)||(l=cs(),nt.lanes|=l,Ts|=l,i.baseState=!0),s)}function KS(i,s){var l=De;De=l!==0&&4>l?l:4,i(!0);var h=Dd.transition;Dd.transition={};try{i(!1),s()}finally{De=l,Dd.transition=h}}function Ty(){return kn().memoizedState}function QS(i,s,l){var h=Si(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Sy(i))Iy(s,l);else if(l=ey(i,s,l,h),l!==null){var p=en();Xn(l,i,h,p),Ay(l,s,h)}}function XS(i,s,l){var h=Si(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Sy(i))Iy(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,P=y(T,l);if(p.hasEagerState=!0,p.eagerState=P,Wn(P,T)){var N=s.interleaved;N===null?(p.next=p,Cd(s)):(p.next=N.next,N.next=p),s.interleaved=p;return}}catch{}finally{}l=ey(i,s,p,h),l!==null&&(p=en(),Xn(l,i,h,p),Ay(l,s,h))}}function Sy(i){var s=i.alternate;return i===nt||s!==null&&s===nt}function Iy(i,s){rl=Xu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Ay(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,li(i,l)}}var Zu={readContext:Rn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},YS={readContext:Rn,useCallback:function(i,s){return cr().memoizedState=[i,s===void 0?null:s],i},useContext:Rn,useEffect:py,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Yu(4194308,4,yy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Yu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Yu(4,2,i,s)},useMemo:function(i,s){var l=cr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=cr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=QS.bind(null,nt,i),[h.memoizedState,i]},useRef:function(i){var s=cr();return i={current:i},s.memoizedState=i},useState:dy,useDebugValue:Ud,useDeferredValue:function(i){return cr().memoizedState=i},useTransition:function(){var i=dy(!1),s=i[0];return i=KS.bind(null,i[1]),cr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=nt,p=cr();if(et){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),kt===null)throw Error(t(349));(Es&30)!==0||ay(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,py(uy.bind(null,h,y,i),[i]),h.flags|=2048,ol(9,ly.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=cr(),s=kt.identifierPrefix;if(et){var l=jr,h=Or;l=(h&~(1<<32-Yt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=il++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=GS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},JS={readContext:Rn,useCallback:_y,useContext:Rn,useEffect:Fd,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:wy,useReducer:Od,useRef:fy,useState:function(){return Od(sl)},useDebugValue:Ud,useDeferredValue:function(i){var s=kn();return Ey(s,Tt.memoizedState,i)},useTransition:function(){var i=Od(sl)[0],s=kn().memoizedState;return[i,s]},useMutableSource:sy,useSyncExternalStore:oy,useId:Ty,unstable_isNewReconciler:!1},ZS={readContext:Rn,useCallback:_y,useContext:Rn,useEffect:Fd,useImperativeHandle:vy,useInsertionEffect:my,useLayoutEffect:gy,useMemo:wy,useReducer:jd,useRef:fy,useState:function(){return jd(sl)},useDebugValue:Ud,useDeferredValue:function(i){var s=kn();return Tt===null?s.memoizedState=i:Ey(s,Tt.memoizedState,i)},useTransition:function(){var i=jd(sl)[0],s=kn().memoizedState;return[i,s]},useMutableSource:sy,useSyncExternalStore:oy,useId:Ty,unstable_isNewReconciler:!1};function Gn(i,s){if(i&&i.defaultProps){s=J({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Bd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:J({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var ec={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=en(),p=Si(i),y=Ur(h,p);y.payload=s,l!=null&&(y.callback=l),s=_i(i,y,p),s!==null&&(Xn(s,i,p,h),qu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=en(),p=Si(i),y=Ur(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=_i(i,y,p),s!==null&&(Xn(s,i,p,h),qu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=en(),h=Si(i),p=Ur(l,h);p.tag=2,s!=null&&(p.callback=s),s=_i(i,p,h),s!==null&&(Xn(s,i,h,l),qu(s,i,h))}};function Py(i,s,l,h,p,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,T):s.prototype&&s.prototype.isPureReactComponent?!qa(l,h)||!qa(p,y):!0}function Cy(i,s,l){var h=!1,p=gi,y=s.contextType;return typeof y=="object"&&y!==null?y=Rn(y):(p=on(s)?gs:Bt.current,h=s.contextTypes,y=(h=h!=null)?Io(i,p):gi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ec,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function xy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&ec.enqueueReplaceState(s,s.state,null)}function zd(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},xd(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Rn(y):(y=on(s)?gs:Bt.current,p.context=Io(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Bd(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&ec.enqueueReplaceState(p,p.state,null),Gu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function No(i,s){try{var l="",h=s;do l+=xe(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function $d(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Hd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var eI=typeof WeakMap=="function"?WeakMap:Map;function Ry(i,s,l){l=Ur(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){ac||(ac=!0,of=h),Hd(i,s)},l}function ky(i,s,l){l=Ur(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Hd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Hd(i,s),typeof h!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function Vy(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new eI;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=pI.bind(null,i,s,l),s.then(i,i))}function Ny(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Dy(i,s,l,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ur(-1,1),s.tag=2,_i(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var tI=oe.ReactCurrentOwner,an=!1;function Zt(i,s,l,h){s.child=i===null?Zg(s,null,l,h):xo(s,i.child,l,h)}function by(i,s,l,h,p){l=l.render;var y=s.ref;return ko(s,p),h=Md(i,s,l,h,y,p),l=Ld(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Br(i,s,p)):(et&&l&&vd(s),s.flags|=1,Zt(i,s,h,p),s.child)}function My(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!ff(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Ly(i,s,y,h,p)):(i=fc(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(T,h)&&i.ref===s.ref)return Br(i,s,p)}return s.flags|=1,i=Ai(y,h),i.ref=s.ref,i.return=s,s.child=i}function Ly(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(qa(y,h)&&i.ref===s.ref)if(an=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(an=!0);else return s.lanes=i.lanes,Br(i,s,p)}return Wd(i,s,l,h,p)}function Oy(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(bo,_n),_n|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ge(bo,_n),_n|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ge(bo,_n),_n|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,Ge(bo,_n),_n|=h;return Zt(i,s,p,l),s.child}function jy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Wd(i,s,l,h,p){var y=on(l)?gs:Bt.current;return y=Io(s,y),ko(s,p),l=Md(i,s,l,h,y,p),h=Ld(),i!==null&&!an?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Br(i,s,p)):(et&&h&&vd(s),s.flags|=1,Zt(i,s,l,p),s.child)}function Fy(i,s,l,h,p){if(on(l)){var y=!0;ju(s)}else y=!1;if(ko(s,p),s.stateNode===null)nc(i,s),Cy(s,l,h),zd(s,l,h,p),h=!0;else if(i===null){var T=s.stateNode,P=s.memoizedProps;T.props=P;var N=T.context,$=l.contextType;typeof $=="object"&&$!==null?$=Rn($):($=on(l)?gs:Bt.current,$=Io(s,$));var Z=l.getDerivedStateFromProps,te=typeof Z=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==h||N!==$)&&xy(s,T,h,$),vi=!1;var Y=s.memoizedState;T.state=Y,Gu(s,h,T,p),N=s.memoizedState,P!==h||Y!==N||sn.current||vi?(typeof Z=="function"&&(Bd(s,l,Z,h),N=s.memoizedState),(P=vi||Py(s,l,P,h,Y,N,$))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=N),T.props=h,T.state=N,T.context=$,h=P):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{T=s.stateNode,ty(i,s),P=s.memoizedProps,$=s.type===s.elementType?P:Gn(s.type,P),T.props=$,te=s.pendingProps,Y=T.context,N=l.contextType,typeof N=="object"&&N!==null?N=Rn(N):(N=on(l)?gs:Bt.current,N=Io(s,N));var ue=l.getDerivedStateFromProps;(Z=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==te||Y!==N)&&xy(s,T,h,N),vi=!1,Y=s.memoizedState,T.state=Y,Gu(s,h,T,p);var de=s.memoizedState;P!==te||Y!==de||sn.current||vi?(typeof ue=="function"&&(Bd(s,l,ue,h),de=s.memoizedState),($=vi||Py(s,l,$,h,Y,de,N)||!1)?(Z||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,de,N),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,de,N)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=de),T.props=h,T.state=de,T.context=N,h=$):(typeof T.componentDidUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),h=!1)}return qd(i,s,l,h,y,p)}function qd(i,s,l,h,p,y){jy(i,s);var T=(s.flags&128)!==0;if(!h&&!T)return p&&Hg(s,l,!1),Br(i,s,y);h=s.stateNode,tI.current=s;var P=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&T?(s.child=xo(s,i.child,null,y),s.child=xo(s,null,P,y)):Zt(i,s,P,y),s.memoizedState=h.state,p&&Hg(s,l,!0),s.child}function Uy(i){var s=i.stateNode;s.pendingContext?zg(i,s.pendingContext,s.pendingContext!==s.context):s.context&&zg(i,s.context,!1),Rd(i,s.containerInfo)}function By(i,s,l,h,p){return Co(),Td(p),s.flags|=256,Zt(i,s,l,h),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Kd(i){return{baseLanes:i,cachePool:null,transitions:null}}function zy(i,s,l){var h=s.pendingProps,p=tt.current,y=!1,T=(s.flags&128)!==0,P;if((P=T)||(P=i!==null&&i.memoizedState===null?!1:(p&2)!==0),P?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),Ge(tt,p&1),i===null)return Ed(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(T=h.children,i=h.fallback,y?(h=s.mode,y=s.child,T={mode:"hidden",children:T},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=pc(T,h,0,null),i=Ps(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Kd(l),s.memoizedState=Gd,i):Qd(s,T));if(p=i.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return nI(i,s,T,h,P,p,l);if(y){y=h.fallback,T=s.mode,p=i.child,P=p.sibling;var N={mode:"hidden",children:h.children};return(T&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=N,s.deletions=null):(h=Ai(p,N),h.subtreeFlags=p.subtreeFlags&14680064),P!==null?y=Ai(P,y):(y=Ps(y,T,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,T=i.child.memoizedState,T=T===null?Kd(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,s.memoizedState=Gd,h}return y=i.child,i=y.sibling,h=Ai(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Qd(i,s){return s=pc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function tc(i,s,l,h){return h!==null&&Td(h),xo(s,i.child,null,l),i=Qd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function nI(i,s,l,h,p,y,T){if(l)return s.flags&256?(s.flags&=-257,h=$d(Error(t(422))),tc(i,s,T,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=pc({mode:"visible",children:h.children},p,0,null),y=Ps(y,p,T,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&xo(s,i.child,null,T),s.child.memoizedState=Kd(T),s.memoizedState=Gd,y);if((s.mode&1)===0)return tc(i,s,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var P=h.dgst;return h=P,y=Error(t(419)),h=$d(y,h,void 0),tc(i,s,T,h)}if(P=(T&i.childLanes)!==0,an||P){if(h=kt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Fr(i,p),Xn(h,i,p,-1))}return df(),h=$d(Error(t(421))),tc(i,s,T,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=mI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,vn=pi(p.nextSibling),yn=s,et=!0,qn=null,i!==null&&(Cn[xn++]=Or,Cn[xn++]=jr,Cn[xn++]=ys,Or=i.id,jr=i.overflow,ys=s),s=Qd(s,h.children),s.flags|=4096,s)}function $y(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Pd(i.return,s,l)}function Xd(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Hy(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Zt(i,s,h.children,l),h=tt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$y(i,l,s);else if(i.tag===19)$y(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ge(tt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Ku(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Xd(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Ku(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Xd(s,!0,l,null,y);break;case"together":Xd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function nc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Br(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Ts|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Ai(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Ai(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function rI(i,s,l){switch(s.tag){case 3:Uy(s),Co();break;case 5:iy(s);break;case 1:on(s.type)&&ju(s);break;case 4:Rd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;Ge(Hu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ge(tt,tt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?zy(i,s,l):(Ge(tt,tt.current&1),i=Br(i,s,l),i!==null?i.sibling:null);Ge(tt,tt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Hy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Ge(tt,tt.current),h)break;return null;case 22:case 23:return s.lanes=0,Oy(i,s,l)}return Br(i,s,l)}var Wy,Yd,qy,Gy;Wy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Yd=function(){},qy=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,ws(ur.current);var y=null;switch(l){case"input":p=Zi(i,p),h=Zi(i,h),y=[];break;case"select":p=J({},p,{value:void 0}),h=J({},h,{value:void 0}),y=[];break;case"textarea":p=Ea(i,p),h=Ea(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Mu)}Ca(l,h);var T;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var P=p[$];for(T in P)P.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var N=h[$];if(P=p?.[$],h.hasOwnProperty($)&&N!==P&&(N!=null||P!=null))if($==="style")if(P){for(T in P)!P.hasOwnProperty(T)||N&&N.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in N)N.hasOwnProperty(T)&&P[T]!==N[T]&&(l||(l={}),l[T]=N[T])}else l||(y||(y=[]),y.push($,l)),l=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,P=P?P.__html:void 0,N!=null&&P!==N&&(y=y||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(y=y||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(N!=null&&$==="onScroll"&&Ke("scroll",i),y||P===N||(y=[])):(y=y||[]).push($,N))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},Gy=function(i,s,l,h){l!==h&&(s.flags|=4)};function al(i,s){if(!et)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function iI(i,s,l){var h=s.pendingProps;switch(_d(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return on(s.type)&&Ou(),$t(s),null;case 3:return h=s.stateNode,Vo(),Qe(sn),Qe(Bt),Nd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(zu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(uf(qn),qn=null))),Yd(i,s),$t(s),null;case 5:kd(s);var p=ws(nl.current);if(l=s.type,i!==null&&s.stateNode!=null)qy(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(i=ws(ur.current),zu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[lr]=s,h[Ya]=y,i=(s.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(p=0;p<Ka.length;p++)Ke(Ka[p],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":Ws(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Gs(h,y),Ke("invalid",h)}Ca(l,y),p=null;for(var T in y)if(y.hasOwnProperty(T)){var P=y[T];T==="children"?typeof P=="string"?h.textContent!==P&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,P,i),p=["children",P]):typeof P=="number"&&h.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&bu(h.textContent,P,i),p=["children",""+P]):o.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&Ke("scroll",h)}switch(l){case"input":Ar(h),ou(h,y,!0);break;case"textarea":Ar(h),Ta(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Mu)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[lr]=s,i[Ya]=h,Wy(i,s,!1,!1),s.stateNode=i;e:{switch(T=xa(l,h),l){case"dialog":Ke("cancel",i),Ke("close",i),p=h;break;case"iframe":case"object":case"embed":Ke("load",i),p=h;break;case"video":case"audio":for(p=0;p<Ka.length;p++)Ke(Ka[p],i);p=h;break;case"source":Ke("error",i),p=h;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),p=h;break;case"details":Ke("toggle",i),p=h;break;case"input":Ws(i,h),p=Zi(i,h),Ke("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=J({},h,{value:void 0}),Ke("invalid",i);break;case"textarea":Gs(i,h),p=Ea(i,h),Ke("invalid",i);break;default:p=h}Ca(l,p),P=p;for(y in P)if(P.hasOwnProperty(y)){var N=P[y];y==="style"?Aa(i,N):y==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&Sa(i,N)):y==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&ri(i,N):typeof N=="number"&&ri(i,""+N):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?N!=null&&y==="onScroll"&&Ke("scroll",i):N!=null&&Q(i,y,N,T))}switch(l){case"input":Ar(i),ou(i,h,!1);break;case"textarea":Ar(i),Ta(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Cr(i,!!h.multiple,y,!1):h.defaultValue!=null&&Cr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Mu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(i&&s.stateNode!=null)Gy(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ws(nl.current),ws(ur.current),zu(s)){if(h=s.stateNode,l=s.memoizedProps,h[lr]=s,(y=h.nodeValue!==l)&&(i=yn,i!==null))switch(i.tag){case 3:bu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&bu(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[lr]=s,s.stateNode=h}return $t(s),null;case 13:if(Qe(tt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&vn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Xg(),Co(),s.flags|=98560,y=!1;else if(y=zu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[lr]=s}else Co(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else qn!==null&&(uf(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(tt.current&1)!==0?St===0&&(St=3):df())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return Vo(),Yd(i,s),i===null&&Qa(s.stateNode.containerInfo),$t(s),null;case 10:return Ad(s.type._context),$t(s),null;case 17:return on(s.type)&&Ou(),$t(s),null;case 19:if(Qe(tt),y=s.memoizedState,y===null)return $t(s),null;if(h=(s.flags&128)!==0,T=y.rendering,T===null)if(h)al(y,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(T=Ku(i),T!==null){for(s.flags|=128,al(y,!1),h=T.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ge(tt,tt.current&1|2),s.child}i=i.sibling}y.tail!==null&&qe()>Mo&&(s.flags|=128,h=!0,al(y,!1),s.lanes=4194304)}else{if(!h)if(i=Ku(T),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),al(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!et)return $t(s),null}else 2*qe()-y.renderingStartTime>Mo&&l!==1073741824&&(s.flags|=128,h=!0,al(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=qe(),s.sibling=null,l=tt.current,Ge(tt,h?l&1|2:l&1),s):($t(s),null);case 22:case 23:return hf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(_n&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function sI(i,s){switch(_d(s),s.tag){case 1:return on(s.type)&&Ou(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Vo(),Qe(sn),Qe(Bt),Nd(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return kd(s),null;case 13:if(Qe(tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Co()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Qe(tt),null;case 4:return Vo(),null;case 10:return Ad(s.type._context),null;case 22:case 23:return hf(),null;case 24:return null;default:return null}}var rc=!1,Ht=!1,oI=typeof WeakSet=="function"?WeakSet:Set,he=null;function Do(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(i,s,h)}else l.current=null}function Jd(i,s,l){try{l()}catch(h){at(i,s,h)}}var Ky=!1;function aI(i,s){if(cd=hi,i=Pg(),nd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,P=-1,N=-1,$=0,Z=0,te=i,Y=null;t:for(;;){for(var ue;te!==l||p!==0&&te.nodeType!==3||(P=T+p),te!==y||h!==0&&te.nodeType!==3||(N=T+h),te.nodeType===3&&(T+=te.nodeValue.length),(ue=te.firstChild)!==null;)Y=te,te=ue;for(;;){if(te===i)break t;if(Y===l&&++$===p&&(P=T),Y===y&&++Z===h&&(N=T),(ue=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=ue}l=P===-1||N===-1?null:{start:P,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(hd={focusedElem:i,selectionRange:l},hi=!1,he=s;he!==null;)if(s=he,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,he=i;else for(;he!==null;){s=he;try{var de=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ht=de.memoizedState,B=s.stateNode,M=B.getSnapshotBeforeUpdate(s.elementType===s.type?fe:Gn(s.type,fe),ht);B.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ie){at(s,s.return,ie)}if(i=s.sibling,i!==null){i.return=s.return,he=i;break}he=s.return}return de=Ky,Ky=!1,de}function ll(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&Jd(s,l,y)}p=p.next}while(p!==h)}}function ic(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function Zd(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Qy(i){var s=i.alternate;s!==null&&(i.alternate=null,Qy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[lr],delete s[Ya],delete s[md],delete s[$S],delete s[HS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Xy(i){return i.tag===5||i.tag===3||i.tag===4}function Yy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ef(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Mu));else if(h!==4&&(i=i.child,i!==null))for(ef(i,s,l),i=i.sibling;i!==null;)ef(i,s,l),i=i.sibling}function tf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(tf(i,s,l),i=i.sibling;i!==null;)tf(i,s,l),i=i.sibling}var Mt=null,Kn=!1;function wi(i,s,l){for(l=l.child;l!==null;)Jy(i,s,l),l=l.sibling}function Jy(i,s,l){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 5:Ht||Do(l,s);case 6:var h=Mt,p=Kn;Mt=null,wi(i,s,l),Mt=h,Kn=p,Mt!==null&&(Kn?(i=Mt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(Kn?(i=Mt,l=l.stateNode,i.nodeType===8?pd(i.parentNode,l):i.nodeType===1&&pd(i,l),$n(i)):pd(Mt,l.stateNode));break;case 4:h=Mt,p=Kn,Mt=l.stateNode.containerInfo,Kn=!0,wi(i,s,l),Mt=h,Kn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Jd(l,s,T),p=p.next}while(p!==h)}wi(i,s,l);break;case 1:if(!Ht&&(Do(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(P){at(l,s,P)}wi(i,s,l);break;case 21:wi(i,s,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,wi(i,s,l),Ht=h):wi(i,s,l);break;default:wi(i,s,l)}}function Zy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new oI),s.forEach(function(h){var p=gI.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Qn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,T=s,P=T;e:for(;P!==null;){switch(P.tag){case 5:Mt=P.stateNode,Kn=!1;break e;case 3:Mt=P.stateNode.containerInfo,Kn=!0;break e;case 4:Mt=P.stateNode.containerInfo,Kn=!0;break e}P=P.return}if(Mt===null)throw Error(t(160));Jy(y,T,p),Mt=null,Kn=!1;var N=p.alternate;N!==null&&(N.return=null),p.return=null}catch($){at(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)ev(s,i),s=s.sibling}function ev(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),hr(i),h&4){try{ll(3,i,i.return),ic(3,i)}catch(fe){at(i,i.return,fe)}try{ll(5,i,i.return)}catch(fe){at(i,i.return,fe)}}break;case 1:Qn(s,i),hr(i),h&512&&l!==null&&Do(l,l.return);break;case 5:if(Qn(s,i),hr(i),h&512&&l!==null&&Do(l,l.return),i.flags&32){var p=i.stateNode;try{ri(p,"")}catch(fe){at(i,i.return,fe)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,P=i.type,N=i.updateQueue;if(i.updateQueue=null,N!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&_a(p,y),xa(P,T);var $=xa(P,y);for(T=0;T<N.length;T+=2){var Z=N[T],te=N[T+1];Z==="style"?Aa(p,te):Z==="dangerouslySetInnerHTML"?Sa(p,te):Z==="children"?ri(p,te):Q(p,Z,te,$)}switch(P){case"input":wa(p,y);break;case"textarea":Ks(p,y);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ue=y.value;ue!=null?Cr(p,!!y.multiple,ue,!1):Y!==!!y.multiple&&(y.defaultValue!=null?Cr(p,!!y.multiple,y.defaultValue,!0):Cr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ya]=y}catch(fe){at(i,i.return,fe)}}break;case 6:if(Qn(s,i),hr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(fe){at(i,i.return,fe)}}break;case 3:if(Qn(s,i),hr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(fe){at(i,i.return,fe)}break;case 4:Qn(s,i),hr(i);break;case 13:Qn(s,i),hr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(sf=qe())),h&4&&Zy(i);break;case 22:if(Z=l!==null&&l.memoizedState!==null,i.mode&1?(Ht=($=Ht)||Z,Qn(s,i),Ht=$):Qn(s,i),hr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!Z&&(i.mode&1)!==0)for(he=i,Z=i.child;Z!==null;){for(te=he=Z;he!==null;){switch(Y=he,ue=Y.child,Y.tag){case 0:case 11:case 14:case 15:ll(4,Y,Y.return);break;case 1:Do(Y,Y.return);var de=Y.stateNode;if(typeof de.componentWillUnmount=="function"){h=Y,l=Y.return;try{s=h,de.props=s.memoizedProps,de.state=s.memoizedState,de.componentWillUnmount()}catch(fe){at(h,l,fe)}}break;case 5:Do(Y,Y.return);break;case 22:if(Y.memoizedState!==null){rv(te);continue}}ue!==null?(ue.return=Y,he=ue):rv(te)}Z=Z.sibling}e:for(Z=null,te=i;;){if(te.tag===5){if(Z===null){Z=te;try{p=te.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=te.stateNode,N=te.memoizedProps.style,T=N!=null&&N.hasOwnProperty("display")?N.display:null,P.style.display=Ia("display",T))}catch(fe){at(i,i.return,fe)}}}else if(te.tag===6){if(Z===null)try{te.stateNode.nodeValue=$?"":te.memoizedProps}catch(fe){at(i,i.return,fe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;Z===te&&(Z=null),te=te.return}Z===te&&(Z=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Qn(s,i),hr(i),h&4&&Zy(i);break;case 21:break;default:Qn(s,i),hr(i)}}function hr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Xy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ri(p,""),h.flags&=-33);var y=Yy(i);tf(i,y,p);break;case 3:case 4:var T=h.stateNode.containerInfo,P=Yy(i);ef(i,P,T);break;default:throw Error(t(161))}}catch(N){at(i,i.return,N)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function lI(i,s,l){he=i,tv(i)}function tv(i,s,l){for(var h=(i.mode&1)!==0;he!==null;){var p=he,y=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||rc;if(!T){var P=p.alternate,N=P!==null&&P.memoizedState!==null||Ht;P=rc;var $=Ht;if(rc=T,(Ht=N)&&!$)for(he=p;he!==null;)T=he,N=T.child,T.tag===22&&T.memoizedState!==null?iv(p):N!==null?(N.return=T,he=N):iv(p);for(;y!==null;)he=y,tv(y),y=y.sibling;he=p,rc=P,Ht=$}nv(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,he=y):nv(i)}}function nv(i){for(;he!==null;){var s=he;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ht||ic(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Gn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&ry(s,y,h);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}ry(s,T,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var N=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var Z=$.memoizedState;if(Z!==null){var te=Z.dehydrated;te!==null&&$n(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&Zd(s)}catch(Y){at(s,s.return,Y)}}if(s===i){he=null;break}if(l=s.sibling,l!==null){l.return=s.return,he=l;break}he=s.return}}function rv(i){for(;he!==null;){var s=he;if(s===i){he=null;break}var l=s.sibling;if(l!==null){l.return=s.return,he=l;break}he=s.return}}function iv(i){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ic(4,s)}catch(N){at(s,l,N)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(N){at(s,p,N)}}var y=s.return;try{Zd(s)}catch(N){at(s,y,N)}break;case 5:var T=s.return;try{Zd(s)}catch(N){at(s,T,N)}}}catch(N){at(s,s.return,N)}if(s===i){he=null;break}var P=s.sibling;if(P!==null){P.return=s.return,he=P;break}he=s.return}}var uI=Math.ceil,sc=oe.ReactCurrentDispatcher,nf=oe.ReactCurrentOwner,Vn=oe.ReactCurrentBatchConfig,Oe=0,kt=null,mt=null,Lt=0,_n=0,bo=mi(0),St=0,ul=null,Ts=0,oc=0,rf=0,cl=null,ln=null,sf=0,Mo=1/0,zr=null,ac=!1,of=null,Ei=null,lc=!1,Ti=null,uc=0,hl=0,af=null,cc=-1,hc=0;function en(){return(Oe&6)!==0?qe():cc!==-1?cc:cc=qe()}function Si(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Lt!==0?Lt&-Lt:qS.transition!==null?(hc===0&&(hc=cs()),hc):(i=De,i!==0||(i=window.event,i=i===void 0?16:Fa(i.type)),i)}function Xn(i,s,l,h){if(50<hl)throw hl=0,af=null,Error(t(185));ai(i,l,h),((Oe&2)===0||i!==kt)&&(i===kt&&((Oe&2)===0&&(oc|=l),St===4&&Ii(i,Lt)),un(i,h),l===1&&Oe===0&&(s.mode&1)===0&&(Mo=qe()+500,Fu&&yi()))}function un(i,s){var l=i.callbackNode;kr(i,s);var h=us(i,i===kt?Lt:0);if(h===0)l!==null&&ba(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&ba(l),s===1)i.tag===0?WS(ov.bind(null,i)):Wg(ov.bind(null,i)),BS(function(){(Oe&6)===0&&yi()}),l=null;else{switch(ui(h)){case 1:l=as;break;case 4:l=ii;break;case 16:l=In;break;case 536870912:l=hu;break;default:l=In}l=pv(l,sv.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function sv(i,s){if(cc=-1,hc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Lo()&&i.callbackNode!==l)return null;var h=us(i,i===kt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=dc(i,h);else{s=h;var p=Oe;Oe|=2;var y=lv();(kt!==i||Lt!==s)&&(zr=null,Mo=qe()+500,Is(i,s));do try{dI();break}catch(P){av(i,P)}while(!0);Id(),sc.current=y,Oe=p,mt!==null?s=0:(kt=null,Lt=0,s=St)}if(s!==0){if(s===2&&(p=pn(i),p!==0&&(h=p,s=lf(i,p))),s===1)throw l=ul,Is(i,0),Ii(i,h),un(i,qe()),l;if(s===6)Ii(i,h);else{if(p=i.current.alternate,(h&30)===0&&!cI(p)&&(s=dc(i,h),s===2&&(y=pn(i),y!==0&&(h=y,s=lf(i,y))),s===1))throw l=ul,Is(i,0),Ii(i,h),un(i,qe()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:As(i,ln,zr);break;case 3:if(Ii(i,h),(h&130023424)===h&&(s=sf+500-qe(),10<s)){if(us(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){en(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=fd(As.bind(null,i,ln,zr),s);break}As(i,ln,zr);break;case 4:if(Ii(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var T=31-Yt(h);y=1<<T,T=s[T],T>p&&(p=T),h&=~y}if(h=p,h=qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*uI(h/1960))-h,10<h){i.timeoutHandle=fd(As.bind(null,i,ln,zr),h);break}As(i,ln,zr);break;case 5:As(i,ln,zr);break;default:throw Error(t(329))}}}return un(i,qe()),i.callbackNode===l?sv.bind(null,i):null}function lf(i,s){var l=cl;return i.current.memoizedState.isDehydrated&&(Is(i,s).flags|=256),i=dc(i,s),i!==2&&(s=ln,ln=l,s!==null&&uf(s)),i}function uf(i){ln===null?ln=i:ln.push.apply(ln,i)}function cI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Wn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(i,s){for(s&=~rf,s&=~oc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Yt(s),h=1<<l;i[l]=-1,s&=~h}}function ov(i){if((Oe&6)!==0)throw Error(t(327));Lo();var s=us(i,0);if((s&1)===0)return un(i,qe()),null;var l=dc(i,s);if(i.tag!==0&&l===2){var h=pn(i);h!==0&&(s=h,l=lf(i,h))}if(l===1)throw l=ul,Is(i,0),Ii(i,s),un(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,As(i,ln,zr),un(i,qe()),null}function cf(i,s){var l=Oe;Oe|=1;try{return i(s)}finally{Oe=l,Oe===0&&(Mo=qe()+500,Fu&&yi())}}function Ss(i){Ti!==null&&Ti.tag===0&&(Oe&6)===0&&Lo();var s=Oe;Oe|=1;var l=Vn.transition,h=De;try{if(Vn.transition=null,De=1,i)return i()}finally{De=h,Vn.transition=l,Oe=s,(Oe&6)===0&&yi()}}function hf(){_n=bo.current,Qe(bo)}function Is(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,US(l)),mt!==null)for(l=mt.return;l!==null;){var h=l;switch(_d(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Ou();break;case 3:Vo(),Qe(sn),Qe(Bt),Nd();break;case 5:kd(h);break;case 4:Vo();break;case 13:Qe(tt);break;case 19:Qe(tt);break;case 10:Ad(h.type._context);break;case 22:case 23:hf()}l=l.return}if(kt=i,mt=i=Ai(i.current,null),Lt=_n=s,St=0,ul=null,rf=oc=Ts=0,ln=cl=null,_s!==null){for(s=0;s<_s.length;s++)if(l=_s[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var T=y.next;y.next=p,h.next=T}l.pending=h}_s=null}return i}function av(i,s){do{var l=mt;try{if(Id(),Qu.current=Zu,Xu){for(var h=nt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Xu=!1}if(Es=0,Rt=Tt=nt=null,rl=!1,il=0,nf.current=null,l===null||l.return===null){St=1,ul=s,mt=null;break}e:{var y=i,T=l.return,P=l,N=s;if(s=Lt,P.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,Z=P,te=Z.tag;if((Z.mode&1)===0&&(te===0||te===11||te===15)){var Y=Z.alternate;Y?(Z.updateQueue=Y.updateQueue,Z.memoizedState=Y.memoizedState,Z.lanes=Y.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ue=Ny(T);if(ue!==null){ue.flags&=-257,Dy(ue,T,P,y,s),ue.mode&1&&Vy(y,$,s),s=ue,N=$;var de=s.updateQueue;if(de===null){var fe=new Set;fe.add(N),s.updateQueue=fe}else de.add(N);break e}else{if((s&1)===0){Vy(y,$,s),df();break e}N=Error(t(426))}}else if(et&&P.mode&1){var ht=Ny(T);if(ht!==null){(ht.flags&65536)===0&&(ht.flags|=256),Dy(ht,T,P,y,s),Td(No(N,P));break e}}y=N=No(N,P),St!==4&&(St=2),cl===null?cl=[y]:cl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var B=Ry(y,N,s);ny(y,B);break e;case 1:P=N;var M=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Ei===null||!Ei.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var ie=ky(y,P,s);ny(y,ie);break e}}y=y.return}while(y!==null)}cv(l)}catch(ge){s=ge,mt===l&&l!==null&&(mt=l=l.return);continue}break}while(!0)}function lv(){var i=sc.current;return sc.current=Zu,i===null?Zu:i}function df(){(St===0||St===3||St===2)&&(St=4),kt===null||(Ts&268435455)===0&&(oc&268435455)===0||Ii(kt,Lt)}function dc(i,s){var l=Oe;Oe|=2;var h=lv();(kt!==i||Lt!==s)&&(zr=null,Is(i,s));do try{hI();break}catch(p){av(i,p)}while(!0);if(Id(),Oe=l,sc.current=h,mt!==null)throw Error(t(261));return kt=null,Lt=0,St}function hI(){for(;mt!==null;)uv(mt)}function dI(){for(;mt!==null&&!uu();)uv(mt)}function uv(i){var s=fv(i.alternate,i,_n);i.memoizedProps=i.pendingProps,s===null?cv(i):mt=s,nf.current=null}function cv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=iI(l,s,_n),l!==null){mt=l;return}}else{if(l=sI(l,s),l!==null){l.flags&=32767,mt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=i}while(s!==null);St===0&&(St=5)}function As(i,s,l){var h=De,p=Vn.transition;try{Vn.transition=null,De=1,fI(i,s,l,h)}finally{Vn.transition=p,De=h}return null}function fI(i,s,l,h){do Lo();while(Ti!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(He(i,y),i===kt&&(mt=kt=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||lc||(lc=!0,pv(In,function(){return Lo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Vn.transition,Vn.transition=null;var T=De;De=1;var P=Oe;Oe|=4,nf.current=null,aI(i,l),ev(l,i),DS(hd),hi=!!cd,hd=cd=null,i.current=l,lI(l),Kh(),Oe=P,De=T,Vn.transition=y}else i.current=l;if(lc&&(lc=!1,Ti=i,uc=p),y=i.pendingLanes,y===0&&(Ei=null),du(l.stateNode),un(i,qe()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(ac)throw ac=!1,i=of,of=null,i;return(uc&1)!==0&&i.tag!==0&&Lo(),y=i.pendingLanes,(y&1)!==0?i===af?hl++:(hl=0,af=i):hl=0,yi(),null}function Lo(){if(Ti!==null){var i=ui(uc),s=Vn.transition,l=De;try{if(Vn.transition=null,De=16>i?16:i,Ti===null)var h=!1;else{if(i=Ti,Ti=null,uc=0,(Oe&6)!==0)throw Error(t(331));var p=Oe;for(Oe|=4,he=i.current;he!==null;){var y=he,T=y.child;if((he.flags&16)!==0){var P=y.deletions;if(P!==null){for(var N=0;N<P.length;N++){var $=P[N];for(he=$;he!==null;){var Z=he;switch(Z.tag){case 0:case 11:case 15:ll(8,Z,y)}var te=Z.child;if(te!==null)te.return=Z,he=te;else for(;he!==null;){Z=he;var Y=Z.sibling,ue=Z.return;if(Qy(Z),Z===$){he=null;break}if(Y!==null){Y.return=ue,he=Y;break}he=ue}}}var de=y.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ht=fe.sibling;fe.sibling=null,fe=ht}while(fe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,he=T;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ll(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,he=B;break e}he=y.return}}var M=i.current;for(he=M;he!==null;){T=he;var z=T.child;if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,he=z;else e:for(T=M;he!==null;){if(P=he,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:ic(9,P)}}catch(ge){at(P,P.return,ge)}if(P===T){he=null;break e}var ie=P.sibling;if(ie!==null){ie.return=P.return,he=ie;break e}he=P.return}}if(Oe=p,yi(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(ls,i)}catch{}h=!0}return h}finally{De=l,Vn.transition=s}}return!1}function hv(i,s,l){s=No(l,s),s=Ry(i,s,1),i=_i(i,s,1),s=en(),i!==null&&(ai(i,1,s),un(i,s))}function at(i,s,l){if(i.tag===3)hv(i,i,l);else for(;s!==null;){if(s.tag===3){hv(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ei===null||!Ei.has(h))){i=No(l,i),i=ky(s,i,1),s=_i(s,i,1),i=en(),s!==null&&(ai(s,1,i),un(s,i));break}}s=s.return}}function pI(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=en(),i.pingedLanes|=i.suspendedLanes&l,kt===i&&(Lt&l)===l&&(St===4||St===3&&(Lt&130023424)===Lt&&500>qe()-sf?Is(i,0):rf|=l),un(i,s)}function dv(i,s){s===0&&((i.mode&1)===0?s=1:(s=io,io<<=1,(io&130023424)===0&&(io=4194304)));var l=en();i=Fr(i,s),i!==null&&(ai(i,s,l),un(i,l))}function mI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),dv(i,l)}function gI(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),dv(i,l)}var fv;fv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||sn.current)an=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return an=!1,rI(i,s,l);an=(i.flags&131072)!==0}else an=!1,et&&(s.flags&1048576)!==0&&qg(s,Bu,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;nc(i,s),i=s.pendingProps;var p=Io(s,Bt.current);ko(s,l),p=Md(null,s,h,i,p,l);var y=Ld();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,on(h)?(y=!0,ju(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,xd(s),p.updater=ec,s.stateNode=p,p._reactInternals=s,zd(s,h,i,l),s=qd(null,s,h,!0,y,l)):(s.tag=0,et&&y&&vd(s),Zt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(nc(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=vI(h),i=Gn(h,i),p){case 0:s=Wd(null,s,h,i,l);break e;case 1:s=Fy(null,s,h,i,l);break e;case 11:s=by(null,s,h,i,l);break e;case 14:s=My(null,s,h,Gn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),Wd(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),Fy(i,s,h,p,l);case 3:e:{if(Uy(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,ty(i,s),Gu(s,h,null,l);var T=s.memoizedState;if(h=T.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=No(Error(t(423)),s),s=By(i,s,h,l,p);break e}else if(h!==p){p=No(Error(t(424)),s),s=By(i,s,h,l,p);break e}else for(vn=pi(s.stateNode.containerInfo.firstChild),yn=s,et=!0,qn=null,l=Zg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Co(),h===p){s=Br(i,s,l);break e}Zt(i,s,h,l)}s=s.child}return s;case 5:return iy(s),i===null&&Ed(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,T=p.children,dd(h,p)?T=null:y!==null&&dd(h,y)&&(s.flags|=32),jy(i,s),Zt(i,s,T,l),s.child;case 6:return i===null&&Ed(s),null;case 13:return zy(i,s,l);case 4:return Rd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=xo(s,null,h,l):Zt(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),by(i,s,h,p,l);case 7:return Zt(i,s,s.pendingProps,l),s.child;case 8:return Zt(i,s,s.pendingProps.children,l),s.child;case 12:return Zt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,T=p.value,Ge(Hu,h._currentValue),h._currentValue=T,y!==null)if(Wn(y.value,T)){if(y.children===p.children&&!sn.current){s=Br(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){T=y.child;for(var N=P.firstContext;N!==null;){if(N.context===h){if(y.tag===1){N=Ur(-1,l&-l),N.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var Z=$.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),$.pending=N}}y.lanes|=l,N=y.alternate,N!==null&&(N.lanes|=l),Pd(y.return,l,s),P.lanes|=l;break}N=N.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(t(341));T.lanes|=l,P=T.alternate,P!==null&&(P.lanes|=l),Pd(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Zt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,ko(s,l),p=Rn(p),h=h(p),s.flags|=1,Zt(i,s,h,l),s.child;case 14:return h=s.type,p=Gn(h,s.pendingProps),p=Gn(h.type,p),My(i,s,h,p,l);case 15:return Ly(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Gn(h,p),nc(i,s),s.tag=1,on(h)?(i=!0,ju(s)):i=!1,ko(s,l),Cy(s,h,p),zd(s,h,p,l),qd(null,s,h,!0,i,l);case 19:return Hy(i,s,l);case 22:return Oy(i,s,l)}throw Error(t(156,s.tag))};function pv(i,s){return no(i,s)}function yI(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,l,h){return new yI(i,s,l,h)}function ff(i){return i=i.prototype,!(!i||!i.isReactComponent)}function vI(i){if(typeof i=="function")return ff(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===ut)return 14}return 2}function Ai(i,s){var l=i.alternate;return l===null?(l=Nn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function fc(i,s,l,h,p,y){var T=2;if(h=i,typeof i=="function")ff(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case k:return Ps(l.children,p,y,s);case I:T=8,p|=8;break;case x:return i=Nn(12,l,s,p|2),i.elementType=x,i.lanes=y,i;case R:return i=Nn(13,l,s,p),i.elementType=R,i.lanes=y,i;case Be:return i=Nn(19,l,s,p),i.elementType=Be,i.lanes=y,i;case Te:return pc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case D:T=9;break e;case j:T=11;break e;case ut:T=14;break e;case ot:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Nn(T,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ps(i,s,l,h){return i=Nn(7,i,h,s),i.lanes=l,i}function pc(i,s,l,h){return i=Nn(22,i,h,s),i.elementType=Te,i.lanes=l,i.stateNode={isHidden:!1},i}function pf(i,s,l){return i=Nn(6,i,null,s),i.lanes=l,i}function mf(i,s,l){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function _I(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function gf(i,s,l,h,p,y,T,P,N){return i=new _I(i,s,l,P,N),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Nn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},xd(y),i}function wI(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ae,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function mv(i){if(!i)return gi;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(on(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(on(l))return $g(i,l,s)}return s}function gv(i,s,l,h,p,y,T,P,N){return i=gf(l,h,!0,i,p,y,T,P,N),i.context=mv(null),l=i.current,h=en(),p=Si(l),y=Ur(h,p),y.callback=s??null,_i(l,y,p),i.current.lanes=p,ai(i,p,h),un(i,h),i}function mc(i,s,l,h){var p=s.current,y=en(),T=Si(p);return l=mv(l),s.context===null?s.context=l:s.pendingContext=l,s=Ur(y,T),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=_i(p,s,T),i!==null&&(Xn(i,p,T,y),qu(i,p,T)),T}function gc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function yv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function yf(i,s){yv(i,s),(i=i.alternate)&&yv(i,s)}function EI(){return null}var vv=typeof reportError=="function"?reportError:function(i){console.error(i)};function vf(i){this._internalRoot=i}yc.prototype.render=vf.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));mc(i,s,null,null)},yc.prototype.unmount=vf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ss(function(){mc(null,i,null,null)}),s[Mr]=null}};function yc(i){this._internalRoot=i}yc.prototype.unstable_scheduleHydration=function(i){if(i){var s=yu();i={blockedOn:null,target:i,priority:s};for(var l=0;l<ir.length&&s!==0&&s<ir[l].priority;l++);ir.splice(l,0,i),l===0&&wu(i)}};function _f(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function vc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _v(){}function TI(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=gc(T);y.call($)}}var T=gv(s,h,i,0,null,!1,!1,"",_v);return i._reactRootContainer=T,i[Mr]=T.current,Qa(i.nodeType===8?i.parentNode:i),Ss(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var P=h;h=function(){var $=gc(N);P.call($)}}var N=gf(i,0,!1,null,null,!1,!1,"",_v);return i._reactRootContainer=N,i[Mr]=N.current,Qa(i.nodeType===8?i.parentNode:i),Ss(function(){mc(s,N,l,h)}),N}function _c(i,s,l,h,p){var y=l._reactRootContainer;if(y){var T=y;if(typeof p=="function"){var P=p;p=function(){var N=gc(T);P.call(N)}}mc(s,T,i,p)}else T=TI(l,s,i,p,h);return gc(T)}mu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=si(s.pendingLanes);l!==0&&(li(s,l|1),un(s,qe()),(Oe&6)===0&&(Mo=qe()+500,yi()))}break;case 13:Ss(function(){var h=Fr(i,1);if(h!==null){var p=en();Xn(h,i,1,p)}}),yf(i,1)}},so=function(i){if(i.tag===13){var s=Fr(i,134217728);if(s!==null){var l=en();Xn(s,i,134217728,l)}yf(i,134217728)}},gu=function(i){if(i.tag===13){var s=Si(i),l=Fr(i,s);if(l!==null){var h=en();Xn(l,i,s,h)}yf(i,s)}},yu=function(){return De},vu=function(i,s){var l=De;try{return De=i,s()}finally{De=l}},Xs=function(i,s,l){switch(s){case"input":if(wa(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=Lu(h);if(!p)throw Error(t(90));Hs(h),wa(h,p)}}}break;case"textarea":Ks(i,l);break;case"select":s=l.value,s!=null&&Cr(i,!!l.multiple,s,!1)}},rs=cf,ka=Ss;var SI={usingClientEntryPoint:!1,Events:[Ja,To,Lu,nr,Ra,cf]},dl={findFiberByHostInstance:ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},II={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Da(i),i===null?null:i.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||EI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{ls=wc.inject(II),fn=wc}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SI,cn.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(s))throw Error(t(200));return wI(i,s,null,l)},cn.createRoot=function(i,s){if(!_f(i))throw Error(t(299));var l=!1,h="",p=vv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=gf(i,1,!1,null,null,l,!1,h,p),i[Mr]=s.current,Qa(i.nodeType===8?i.parentNode:i),new vf(s)},cn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Da(s),i=i===null?null:i.stateNode,i},cn.flushSync=function(i){return Ss(i)},cn.hydrate=function(i,s,l){if(!vc(s))throw Error(t(200));return _c(null,i,s,!0,l)},cn.hydrateRoot=function(i,s,l){if(!_f(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",T=vv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=gv(s,null,i,1,l??null,p,!1,y,T),i[Mr]=s.current,Qa(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new yc(s)},cn.render=function(i,s,l){if(!vc(s))throw Error(t(200));return _c(null,i,s,!1,l)},cn.unmountComponentAtNode=function(i){if(!vc(i))throw Error(t(40));return i._reactRootContainer?(Ss(function(){_c(null,null,i,!1,function(){i._reactRootContainer=null,i[Mr]=null})}),!0):!1},cn.unstable_batchedUpdates=cf,cn.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!vc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return _c(i,s,l,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Cv;function NI(){if(Cv)return Tf.exports;Cv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tf.exports=VI(),Tf.exports}var xv;function DI(){if(xv)return Ec;xv=1;var n=NI();return Ec.createRoot=n.createRoot,Ec.hydrateRoot=n.hydrateRoot,Ec}var bI=DI();const MI=_w(bI),LI="modulepreload",OI=function(n){return"/Costas_Portfolio/"+n},Rv={},jI=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=OI(m),m in Rv)return;Rv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":LI,v||(E.as="script"),E.crossOrigin="",E.href=m,d&&E.setAttribute("nonce",d),document.head.appendChild(E),v)return new Promise((A,O)=>{E.addEventListener("load",A),E.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},FI=()=>{};var kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},UI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Ew={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let E=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(E=64)),r.push(t[v],t[w],t[E],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ww(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):UI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new BI;const E=a<<2|d>>4;if(r.push(E),m!==64){const A=d<<4&240|m>>2;if(r.push(A),w!==64){const O=m<<6&192|w;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class BI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zI=function(n){const e=ww(n);return Ew.encodeByteArray(e,!0)},qc=function(n){return zI(n).replace(/\./g,"")},Tw=function(n){try{return Ew.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=()=>$I().__FIREBASE_DEFAULTS__,WI=()=>{if(typeof process>"u"||typeof kv>"u")return;const n=kv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Tw(n[1]);return e&&JSON.parse(e)},_h=()=>{try{return FI()||HI()||WI()||qI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sw=n=>_h()?.emulatorHosts?.[n],GI=n=>{const e=Sw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Iw=()=>_h()?.config,Aw=n=>_h()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Pw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[qc(JSON.stringify(t)),qc(JSON.stringify(u)),""].join(".")}const Sl={};function XI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Sl))Sl[e]?n.emulator.push(e):n.prod.push(e);return n}function YI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Vv=!1;function Cw(n,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||Sl[n]===e||Sl[n]||Vv)return;Sl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=XI().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function m(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{Vv=!0,u()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function w(){const E=YI(r),A=t("text"),O=document.getElementById(A)||document.createElement("span"),F=t("learnmore"),b=document.getElementById(F)||document.createElement("a"),W=t("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const Q=E.element;d(Q),v(b,F);const oe=m();f(G,W),Q.append(G,O,b,oe),document.body.appendChild(Q)}a?(O.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function ZI(){const n=_h()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function nA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iA(){return!ZI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="FirebaseError";class ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=aA,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?lA(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new ti(o,d,r)}}function lA(n,e){return n.replace(uA,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const uA=/\{\$([^}]+)}/g;function cA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ls(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Nv(a)&&Nv(u)){if(!Ls(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Nv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hA(n,e){const t=new dA(n,e);return t.subscribe.bind(t)}class dA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");fA(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Af),o.error===void 0&&(o.error=Af),o.complete===void 0&&(o.complete=Af);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(n){return n&&n._delegate?n._delegate:n}class Os{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new KI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gA(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(n){return n===xs?void 0:n}function gA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const vA={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},_A=ke.INFO,wA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},EA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=wA[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=_A,this._logHandler=EA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const TA=(n,e)=>e.some(t=>n instanceof t);let Dv,bv;function SA(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IA(){return bv||(bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xw=new WeakMap,Yf=new WeakMap,Rw=new WeakMap,Pf=new WeakMap,$p=new WeakMap;function AA(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(bi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xw.set(t,n)}).catch(()=>{}),$p.set(e,n),e}function PA(n){if(Yf.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Yf.set(n,e)}let Jf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Yf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Rw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CA(n){Jf=n(Jf)}function xA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Cf(this),e,...t);return Rw.set(r,e.sort?e.sort():[e]),bi(r)}:IA().includes(n)?function(...e){return n.apply(Cf(this),e),bi(xw.get(this))}:function(...e){return bi(n.apply(Cf(this),e))}}function RA(n){return typeof n=="function"?xA(n):(n instanceof IDBTransaction&&PA(n),TA(n,SA())?new Proxy(n,Jf):n)}function bi(n){if(n instanceof IDBRequest)return AA(n);if(Pf.has(n))return Pf.get(n);const e=RA(n);return e!==n&&(Pf.set(n,e),$p.set(e,n)),e}const Cf=n=>$p.get(n);function kA(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=bi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(bi(u.result),f.oldVersion,f.newVersion,bi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const VA=["get","getKey","getAll","getAllKeys","count"],NA=["put","add","delete","clear"],xf=new Map;function Mv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=NA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||VA.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return xf.set(e,a),a}CA(n=>({...n,get:(e,t,r)=>Mv(e,t)||n.get(e,t,r),has:(e,t)=>!!Mv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function bA(n){return n.getComponent()?.type==="VERSION"}const Zf="@firebase/app",Lv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new zp("@firebase/app"),MA="@firebase/app-compat",LA="@firebase/analytics-compat",OA="@firebase/analytics",jA="@firebase/app-check-compat",FA="@firebase/app-check",UA="@firebase/auth",BA="@firebase/auth-compat",zA="@firebase/database",$A="@firebase/data-connect",HA="@firebase/database-compat",WA="@firebase/functions",qA="@firebase/functions-compat",GA="@firebase/installations",KA="@firebase/installations-compat",QA="@firebase/messaging",XA="@firebase/messaging-compat",YA="@firebase/performance",JA="@firebase/performance-compat",ZA="@firebase/remote-config",eP="@firebase/remote-config-compat",tP="@firebase/storage",nP="@firebase/storage-compat",rP="@firebase/firestore",iP="@firebase/ai",sP="@firebase/firestore-compat",oP="firebase",aP="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",lP={[Zf]:"fire-core",[MA]:"fire-core-compat",[OA]:"fire-analytics",[LA]:"fire-analytics-compat",[FA]:"fire-app-check",[jA]:"fire-app-check-compat",[UA]:"fire-auth",[BA]:"fire-auth-compat",[zA]:"fire-rtdb",[$A]:"fire-data-connect",[HA]:"fire-rtdb-compat",[WA]:"fire-fn",[qA]:"fire-fn-compat",[GA]:"fire-iid",[KA]:"fire-iid-compat",[QA]:"fire-fcm",[XA]:"fire-fcm-compat",[YA]:"fire-perf",[JA]:"fire-perf-compat",[ZA]:"fire-rc",[eP]:"fire-rc-compat",[tP]:"fire-gcs",[nP]:"fire-gcs-compat",[rP]:"fire-fst",[sP]:"fire-fst-compat",[iP]:"fire-vertex","fire-js":"fire-js",[oP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,uP=new Map,tp=new Map;function Ov(n,e){try{n.container.addComponent(e)}catch(t){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(tp.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,n);for(const t of Gc.values())Ov(t,n);for(const t of uP.values())Ov(t,n);return!0}function Hp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new ql("app","Firebase",cP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=aP;function kw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:ep,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(t||(t=Iw()),!t)throw Mi.create("no-options");const a=Gc.get(o);if(a){if(Ls(t,a.options)&&Ls(r,a.config))return a;throw Mi.create("duplicate-app",{appName:o})}const u=new yA(o);for(const f of tp.values())u.addComponent(f);const d=new hP(t,r,u);return Gc.set(o,d),d}function Vw(n=ep){const e=Gc.get(n);if(!e&&n===ep&&Iw())return kw();if(!e)throw Mi.create("no-app",{appName:n});return e}function Li(n,e,t){let r=lP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(u.join(" "));return}Jo(new Os(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebase-heartbeat-database",fP=1,Dl="firebase-heartbeat-store";let Rf=null;function Nw(){return Rf||(Rf=kA(dP,fP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Dl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Mi.create("idb-open",{originalErrorMessage:n.message})})),Rf}async function pP(n){try{const t=(await Nw()).transaction(Dl),r=await t.objectStore(Dl).get(Dw(n));return await t.done,r}catch(e){if(e instanceof ti)Kr.warn(e.message);else{const t=Mi.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(t.message)}}}async function jv(n,e){try{const r=(await Nw()).transaction(Dl,"readwrite");await r.objectStore(Dl).put(e,Dw(n)),await r.done}catch(t){if(t instanceof ti)Kr.warn(t.message);else{const r=Mi.create("idb-set",{originalErrorMessage:t?.message});Kr.warn(r.message)}}}function Dw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=1024,gP=30;class yP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _P(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>gP){const o=wP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:t,unsentEntries:r}=vP(this._heartbeatsCache.heartbeats),o=qc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Kr.warn(e),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function vP(n,e=mP){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Uv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Uv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class _P{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await pP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uv(n){return qc(JSON.stringify({version:2,heartbeats:n})).length}function wP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(n){Jo(new Os("platform-logger",e=>new DA(e),"PRIVATE")),Jo(new Os("heartbeat",e=>new yP(e),"PRIVATE")),Li(Zf,Lv,n),Li(Zf,Lv,"esm2020"),Li("fire-js","")}EP("");var TP="firebase",SP="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(TP,SP,"app");var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi,bw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function x(){}x.prototype=I.prototype,k.D=I.prototype,k.prototype=new x,k.prototype.constructor=k,k.C=function(V,D,j){for(var R=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)R[Be-2]=arguments[Be];return I.prototype[D].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,x){x||(x=0);var V=Array(16);if(typeof I=="string")for(var D=0;16>D;++D)V[D]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(D=0;16>D;++D)V[D]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=k.g[0],x=k.g[1],D=k.g[2];var j=k.g[3],R=I+(j^x&(D^j))+V[0]+3614090360&4294967295;I=x+(R<<7&4294967295|R>>>25),R=j+(D^I&(x^D))+V[1]+3905402710&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(x^j&(I^x))+V[2]+606105819&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(I^D&(j^I))+V[3]+3250441966&4294967295,x=D+(R<<22&4294967295|R>>>10),R=I+(j^x&(D^j))+V[4]+4118548399&4294967295,I=x+(R<<7&4294967295|R>>>25),R=j+(D^I&(x^D))+V[5]+1200080426&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(x^j&(I^x))+V[6]+2821735955&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(I^D&(j^I))+V[7]+4249261313&4294967295,x=D+(R<<22&4294967295|R>>>10),R=I+(j^x&(D^j))+V[8]+1770035416&4294967295,I=x+(R<<7&4294967295|R>>>25),R=j+(D^I&(x^D))+V[9]+2336552879&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(x^j&(I^x))+V[10]+4294925233&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(I^D&(j^I))+V[11]+2304563134&4294967295,x=D+(R<<22&4294967295|R>>>10),R=I+(j^x&(D^j))+V[12]+1804603682&4294967295,I=x+(R<<7&4294967295|R>>>25),R=j+(D^I&(x^D))+V[13]+4254626195&4294967295,j=I+(R<<12&4294967295|R>>>20),R=D+(x^j&(I^x))+V[14]+2792965006&4294967295,D=j+(R<<17&4294967295|R>>>15),R=x+(I^D&(j^I))+V[15]+1236535329&4294967295,x=D+(R<<22&4294967295|R>>>10),R=I+(D^j&(x^D))+V[1]+4129170786&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(I^x))+V[6]+3225465664&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^x&(j^I))+V[11]+643717713&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(D^j))+V[0]+3921069994&4294967295,x=D+(R<<20&4294967295|R>>>12),R=I+(D^j&(x^D))+V[5]+3593408605&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(I^x))+V[10]+38016083&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^x&(j^I))+V[15]+3634488961&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(D^j))+V[4]+3889429448&4294967295,x=D+(R<<20&4294967295|R>>>12),R=I+(D^j&(x^D))+V[9]+568446438&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(I^x))+V[14]+3275163606&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^x&(j^I))+V[3]+4107603335&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(D^j))+V[8]+1163531501&4294967295,x=D+(R<<20&4294967295|R>>>12),R=I+(D^j&(x^D))+V[13]+2850285829&4294967295,I=x+(R<<5&4294967295|R>>>27),R=j+(x^D&(I^x))+V[2]+4243563512&4294967295,j=I+(R<<9&4294967295|R>>>23),R=D+(I^x&(j^I))+V[7]+1735328473&4294967295,D=j+(R<<14&4294967295|R>>>18),R=x+(j^I&(D^j))+V[12]+2368359562&4294967295,x=D+(R<<20&4294967295|R>>>12),R=I+(x^D^j)+V[5]+4294588738&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^D)+V[8]+2272392833&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^x)+V[11]+1839030562&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^I)+V[14]+4259657740&4294967295,x=D+(R<<23&4294967295|R>>>9),R=I+(x^D^j)+V[1]+2763975236&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^D)+V[4]+1272893353&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^x)+V[7]+4139469664&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^I)+V[10]+3200236656&4294967295,x=D+(R<<23&4294967295|R>>>9),R=I+(x^D^j)+V[13]+681279174&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^D)+V[0]+3936430074&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^x)+V[3]+3572445317&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^I)+V[6]+76029189&4294967295,x=D+(R<<23&4294967295|R>>>9),R=I+(x^D^j)+V[9]+3654602809&4294967295,I=x+(R<<4&4294967295|R>>>28),R=j+(I^x^D)+V[12]+3873151461&4294967295,j=I+(R<<11&4294967295|R>>>21),R=D+(j^I^x)+V[15]+530742520&4294967295,D=j+(R<<16&4294967295|R>>>16),R=x+(D^j^I)+V[2]+3299628645&4294967295,x=D+(R<<23&4294967295|R>>>9),R=I+(D^(x|~j))+V[0]+4096336452&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~D))+V[7]+1126891415&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~x))+V[14]+2878612391&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~I))+V[5]+4237533241&4294967295,x=D+(R<<21&4294967295|R>>>11),R=I+(D^(x|~j))+V[12]+1700485571&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~D))+V[3]+2399980690&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~x))+V[10]+4293915773&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~I))+V[1]+2240044497&4294967295,x=D+(R<<21&4294967295|R>>>11),R=I+(D^(x|~j))+V[8]+1873313359&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~D))+V[15]+4264355552&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~x))+V[6]+2734768916&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~I))+V[13]+1309151649&4294967295,x=D+(R<<21&4294967295|R>>>11),R=I+(D^(x|~j))+V[4]+4149444226&4294967295,I=x+(R<<6&4294967295|R>>>26),R=j+(x^(I|~D))+V[11]+3174756917&4294967295,j=I+(R<<10&4294967295|R>>>22),R=D+(I^(j|~x))+V[2]+718787259&4294967295,D=j+(R<<15&4294967295|R>>>17),R=x+(j^(D|~I))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var x=I-this.blockSize,V=this.B,D=this.h,j=0;j<I;){if(D==0)for(;j<=x;)o(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<I;)if(V[D++]=k.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<I;)if(V[D++]=k[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=I},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var x=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=x&255,x/=256;for(this.u(k),k=Array(16),I=x=0;4>I;++I)for(var V=0;32>V;V+=8)k[x++]=this.g[I]>>>V&255;return k};function a(k,I){var x=d;return Object.prototype.hasOwnProperty.call(x,k)?x[k]:x[k]=I(k)}function u(k,I){this.h=I;for(var x=[],V=!0,D=k.length-1;0<=D;D--){var j=k[D]|0;V&&j==I||(x[D]=j,V=!1)}this.g=x}var d={};function f(k){return-128<=k&&128>k?a(k,function(I){return new u([I|0],0>I?-1:0)}):new u([k|0],0>k?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return w;if(0>k)return b(m(-k));for(var I=[],x=1,V=0;k>=x;V++)I[V]=k/x|0,x*=4294967296;return new u(I,0)}function v(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return b(v(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=m(Math.pow(I,8)),V=w,D=0;D<k.length;D+=8){var j=Math.min(8,k.length-D),R=parseInt(k.substring(D,D+j),I);8>j?(j=m(Math.pow(I,j)),V=V.j(j).add(m(R))):(V=V.j(x),V=V.add(m(R)))}return V}var w=f(0),E=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(F(this))return-b(this).m();for(var k=0,I=1,x=0;x<this.g.length;x++){var V=this.i(x);k+=(0<=V?V:4294967296+V)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(F(this))return"-"+b(this).toString(k);for(var I=m(Math.pow(k,6)),x=this,V="";;){var D=oe(x,I).g;x=W(x,D.j(I));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(k);if(x=D,O(x))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function F(k){return k.h==-1}n.l=function(k){return k=W(this,k),F(k)?-1:O(k)?0:1};function b(k){for(var I=k.g.length,x=[],V=0;V<I;V++)x[V]=~k.g[V];return new u(x,~k.h).add(E)}n.abs=function(){return F(this)?b(this):this},n.add=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],V=0,D=0;D<=I;D++){var j=V+(this.i(D)&65535)+(k.i(D)&65535),R=(j>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);V=R>>>16,j&=65535,R&=65535,x[D]=R<<16|j}return new u(x,x[x.length-1]&-2147483648?-1:0)};function W(k,I){return k.add(b(I))}n.j=function(k){if(O(this)||O(k))return w;if(F(this))return F(k)?b(this).j(b(k)):b(b(this).j(k));if(F(k))return b(this.j(b(k)));if(0>this.l(A)&&0>k.l(A))return m(this.m()*k.m());for(var I=this.g.length+k.g.length,x=[],V=0;V<2*I;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var D=0;D<k.g.length;D++){var j=this.i(V)>>>16,R=this.i(V)&65535,Be=k.i(D)>>>16,ut=k.i(D)&65535;x[2*V+2*D]+=R*ut,G(x,2*V+2*D),x[2*V+2*D+1]+=j*ut,G(x,2*V+2*D+1),x[2*V+2*D+1]+=R*Be,G(x,2*V+2*D+1),x[2*V+2*D+2]+=j*Be,G(x,2*V+2*D+2)}for(V=0;V<I;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=I;V<2*I;V++)x[V]=0;return new u(x,0)};function G(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function Q(k,I){this.g=k,this.h=I}function oe(k,I){if(O(I))throw Error("division by zero");if(O(k))return new Q(w,w);if(F(k))return I=oe(b(k),I),new Q(b(I.g),b(I.h));if(F(I))return I=oe(k,b(I)),new Q(b(I.g),I.h);if(30<k.g.length){if(F(k)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var x=E,V=I;0>=V.l(k);)x=ne(x),V=ne(V);var D=ae(x,1),j=ae(V,1);for(V=ae(V,2),x=ae(x,2);!O(V);){var R=j.add(V);0>=R.l(k)&&(D=D.add(x),j=R),V=ae(V,1),x=ae(x,1)}return I=W(k,D.j(I)),new Q(D,I)}for(D=w;0<=k.l(I);){for(x=Math.max(1,Math.floor(k.m()/I.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=m(x),R=j.j(I);F(R)||0<R.l(k);)x-=V,j=m(x),R=j.j(I);O(j)&&(j=E),D=D.add(j),k=W(k,R)}return new Q(D,k)}n.A=function(k){return oe(this,k).h},n.and=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)&k.i(V);return new u(x,this.h&k.h)},n.or=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)|k.i(V);return new u(x,this.h|k.h)},n.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)^k.i(V);return new u(x,this.h^k.h)};function ne(k){for(var I=k.g.length+1,x=[],V=0;V<I;V++)x[V]=k.i(V)<<1|k.i(V-1)>>>31;return new u(x,k.h)}function ae(k,I){var x=I>>5;I%=32;for(var V=k.g.length-x,D=[],j=0;j<V;j++)D[j]=0<I?k.i(j+x)>>>I|k.i(j+x+1)<<32-I:k.i(j+x);return new u(D,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bw=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Oi=u}).apply(typeof Bv<"u"?Bv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mw,gl,Lw,Dc,np,Ow,jw,Fw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function A(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function O(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,H){for(var se=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)se[$e-2]=arguments[$e];return g.prototype[U].apply(S,se)}}function F(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function b(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const U=c.length||0,H=S.length||0;c.length=U+H;for(let se=0;se<H;se++)c[U+se]=S[se]}else c.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ne=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function ae(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function k(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let H=0;H<x.length;H++)_=x[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function D(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,_){const S=ut.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var ut=new W(()=>new ot,c=>c.reset());class ot{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,re=!1,me=new Be,J=()=>{const c=d.Promise.resolve(void 0);Te=()=>{c.then(L)}};var L=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){j(_)}var g=ut;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}re=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function xe(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ne){e:{try{oe(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}O(xe,le);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,g,_,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function Ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,g,_,S,U){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var se=ni(c,g,S,U);return-1<se?(g=c[se],_||(g.fa=!1)):(g=new We(g,this.src,H,!!S,U),g.fa=_,c.push(g)),g};function Hs(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=U)&&Array.prototype.splice.call(S,U,1),H&&(Ct(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ni(c,g,_,S){for(var U=0;U<c.length;++U){var H=c[U];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return U}return-1}var Zi="closure_lm_"+(1e6*Math.random()|0),Ws={};function _a(c,g,_,S,U){if(Array.isArray(g)){for(var H=0;H<g.length;H++)_a(c,g[H],_,S,U);return null}return _=Ta(_),c&&c[Fe]?c.K(g,_,m(S)?!!S.capture:!1,U):wa(c,g,_,!1,S,U)}function wa(c,g,_,S,U,H){if(!g)throw Error("Invalid event type");var se=m(U)?!!U.capture:!!U,$e=Gs(c);if($e||(c[Zi]=$e=new Ar(c)),_=$e.add(g,_,S,se,H),_.proxy)return _;if(S=ou(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Ae||(U=se),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(Cr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ou(){function c(_){return g.call(c.src,c.listener,_)}const g=Ea;return c}function qs(c,g,_,S,U){if(Array.isArray(g))for(var H=0;H<g.length;H++)qs(c,g[H],_,S,U);else S=m(S)?!!S.capture:!!S,_=Ta(_),c&&c[Fe]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=ni(H,_,S,U),-1<_&&(Ct(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=Gs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ni(g,_,S,U)),(_=-1<c?g[c]:null)&&Pr(_))}function Pr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Fe])Hs(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Cr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Gs(g))?(Hs(_,c),_.h==0&&(_.src=null,g[Zi]=null)):Ct(c)}}}function Cr(c){return c in Ws?Ws[c]:Ws[c]="on"+c}function Ea(c,g){if(c.da)c=!0;else{g=new xe(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Pr(c),c=_.call(S,g)}return c}function Gs(c){return c=c[Zi],c instanceof Ar?c:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(c){return typeof c=="function"?c:(c[Ks]||(c[Ks]=function(g){return c.handleEvent(g)}),c[Ks])}function _t(){q.call(this),this.i=new Ar(this),this.M=this,this.F=null}O(_t,q),_t.prototype[Fe]=!0,_t.prototype.removeEventListener=function(c,g,_,S){qs(this,c,g,_,S)};function wt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var U=g;g=new le(S,c),V(g,U)}if(U=!0,_)for(var H=_.length-1;0<=H;H--){var se=g.g=_[H];U=xr(se,S,!0,g)&&U}if(se=g.g=c,U=xr(se,S,!0,g)&&U,U=xr(se,S,!1,g)&&U,_)for(H=0;H<_.length;H++)se=g.g=_[H],U=xr(se,S,!1,g)&&U}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Ct(_[S]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},_t.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function xr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,H=0;H<g.length;++H){var se=g[H];if(se&&!se.da&&se.capture==_){var $e=se.listener,Et=se.ha||se.src;se.fa&&Hs(c.i,se),U=$e.call(Et,S)!==!1&&U}}return U&&!S.defaultPrevented}function Sa(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ri(c){c.g=Sa(()=>{c.g=null,c.i&&(c.i=!1,ri(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class es extends q{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ri(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(c){q.call(this),this.h=c,this.g={}}O(ts,q);var Ia=[];function Aa(c){ae(c.g,function(g,_){this.g.hasOwnProperty(_)&&Pr(g)},c),c.g={}}ts.prototype.N=function(){ts.aa.N.call(this),Aa(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pa=d.JSON.stringify,Ca=d.JSON.parse,xa=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ns(){}ns.prototype.h=null;function Qs(c){return c.h||(c.h=c.i())}function Xs(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){le.call(this,"d")}O(tr,le);function Ys(){le.call(this,"c")}O(Ys,le);var nr={},Ra=null;function rs(){return Ra=Ra||new _t}nr.La="serverreachability";function ka(c){le.call(this,nr.La,c)}O(ka,le);function Rr(c){const g=rs();wt(g,new ka(g))}nr.STAT_EVENT="statevent";function Va(c,g){le.call(this,nr.STAT_EVENT,c),this.stat=g}O(Va,le);function ct(c){const g=rs();wt(g,new Va(g,c))}nr.Ma="timingevent";function Js(c,g){le.call(this,nr.Ma,c),this.size=g}O(Js,le);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function is(){this.g=!0}is.prototype.xa=function(){this.g=!1};function ss(c,g,_,S,U,H){c.info(function(){if(c.g)if(H)for(var se="",$e=H.split("&"),Et=0;Et<$e.length;Et++){var Me=$e[Et].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var pt=xt.split("_");se=2<=pt.length&&pt[1]=="type"?se+(xt+"="+Me+"&"):se+(xt+"=redacted&")}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+se})}function Zs(c,g,_,S,U,H,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+H+" "+se})}function On(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Gh(c,_)+(S?" "+S:"")})}function Na(c,g){c.info(function(){return"TIMEOUT: "+g})}is.prototype.info=function(){};function Gh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Pa(_)}catch{return g}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},au={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function os(){}O(os,ns),os.prototype.g=function(){return new XMLHttpRequest},os.prototype.i=function(){return{}},jn=new os;function Fn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var Da={},to={};function no(c,g,_){c.L=1,c.v=li(pn(g)),c.m=_,c.P=!0,ba(c,null)}function ba(c,g){c.F=Date.now(),qe(c),c.A=pn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ci(_.i,"t",S),c.C=0,_=c.j.J,c.h=new lu,c.g=Pu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new es(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ia[0]=U.toString()),U=Ia);for(var H=0;H<U.length;H++){var se=_a(_,U[H],S||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Rr(),ss(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&rn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const pt=rn(this.g);var g=this.g.Ba();const Pn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||pt!=4||g==7||(g==8||0>=Pn?Rr(3):Rr(2)),as(this);var _=this.g.Z();this.X=_;t:if(uu(this)){var S=Ua(this.g);c="";var U=S.length,H=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ii(this);var se="";break t}this.h.i=new d.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(H&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Zs(this.i,this.u,this.A,this.l,this.R,pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Et=this.g;if(($e=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G($e)){var Me=$e;break t}}Me=null}if(_=Me)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,_);else{this.o=!1,this.s=3,ct(12),In(this),ii(this);break e}}if(this.P){_=!0;let gn;for(;!this.J&&this.C<se.length;)if(gn=Kh(this,se),gn==to){pt==4&&(this.s=4,ct(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Da){this.s=4,ct(15),On(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,gn,null),Ma(this,gn);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||se.length!=0||this.h.h||(this.s=1,ct(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,se,"[Invalid Chunked Response]"),In(this),ii(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),za(xt),xt.M=!0,ct(11))}}else On(this.i,this.l,se,null),Ma(this,se);pt==4&&In(this),this.o&&!this.J&&(pt==4?po(this.j,this):(this.o=!1,qe(this)))}else lo(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),In(this),ii(this)}}}catch{}finally{}};function uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Kh(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?to:(_=Number(g.substring(_,S)),isNaN(_)?Da:(S+=1,S+_>g.length?to:(g=g.slice(S,S+_),c.C=S+_,g)))}Fn.prototype.cancel=function(){this.J=!0,In(this)};function qe(c){c.S=Date.now()+c.I,cu(c,c.I)}function cu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(E(c.ba,c),g)}function as(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Na(this.i,this.A),this.L!=2&&(Rr(),ct(17)),In(this),this.s=2,ii(this)):cu(this,this.S-c)};function ii(c){c.j.G==0||c.J||po(c.j,c)}function In(c){as(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Aa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ma(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Yt(_.h,c))){if(!c.K&&Yt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fo(_),Hn(_);else break e;ho(_),ct(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(E(_.Za,_),6e3));if(1>=du(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else br(_,11)}else if((c.K||_.g==c)&&fo(_),!G(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Me=U[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const xt=Me[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const pt=Me[4];pt!=null&&(_.Aa=pt,_.j.info("SVER="+_.Aa));const Pn=Me[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(S=1.5*Pn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const gn=c.g;if(gn){const ps=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var H=S.h;H.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(La(H,H.h),H.h=null))}if(S.D){const go=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(S.ya=go,He(S.I,S.D,go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var se=c;if(S.qa=Au(S,S.J?S.ia:null,S.W),se.K){fu(S.h,se);var $e=se,Et=S.L;Et&&($e.I=Et),$e.B&&(as($e),qe($e)),S.g=se}else fs(S);0<_.i.length&&or(_)}else Me[0]!="stop"&&Me[0]!="close"||br(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?br(_,7):bt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Rr(4)}catch{}}var hu=class{constructor(c,g){this.g=c,this.map=g}};function ls(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function du(c){return c.h?1:c.g?c.g.size:0}function Yt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function La(c,g){c.g?c.g.add(g):c.h=g}function fu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ls.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return F(c.i)}function ro(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function io(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function si(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=io(c),S=ro(c),U=S.length,H=0;H<U;H++)g.call(void 0,S[H],_&&_[H],c)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var H=c[_].substring(0,S);U=c[_].substring(S+1)}else H=c[_];g(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function kr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof kr){this.h=c.h,cs(this,c.j),this.o=c.o,this.g=c.g,oi(this,c.s),this.l=c.l;var g=c.i,_=new rr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ai(this,_),this.m=c.m}else c&&(g=String(c).match(us))?(this.h=!1,cs(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),oi(this,g[4]),this.l=De(g[5]||"",!0),ai(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}kr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ui(g,so,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ui(g,so,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ui(_,_.charAt(0)=="/"?yu:gu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ui(_,Oa)),c.join("")};function pn(c){return new kr(c)}function cs(c,g,_){c.j=_?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function oi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ai(c,g,_){g instanceof rr?(c.i=g,ir(c.i,c.h)):(_||(g=ui(g,vu)),c.i=new rr(g,c.h))}function He(c,g,_){c.i.set(g,_)}function li(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ui(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,mu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var so=/[#\/\?@]/g,gu=/[#\?:]/g,yu=/[#\?]/g,vu=/[#\?@]/g,Oa=/#/g;function rr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&Qh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=rr.prototype,n.add=function(c,g){Dt(this),this.i=null,c=An(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Un(c,g){Dt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Dt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Dt(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(g,U,S,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=c[S];for(let H=0;H<U.length;H++)_.push(g[S])}return _},n.V=function(c){Dt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Dt(this),this.i=null,c=An(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ci(c,g,_){Un(c,g),0<_.length&&(c.i=null,c.g.set(An(c,g),F(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var U=H;se[S]!==""&&(U+="="+encodeURIComponent(String(se[S]))),c.push(U)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function ir(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(Un(this,S),ci(this,U,_))},c)),c.j=g}function Xh(c,g){const _=new is;if(d.Image){const S=new Image;S.onload=A(nn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=A(nn,_,"TestLoadImage: error",!1,g,S),S.onabort=A(nn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(nn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function _u(c,g){const _=new is,S=new AbortController,U=setTimeout(()=>{S.abort(),nn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(U),H.ok?nn(_,"TestPingServer: ok",!0,g):nn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),nn(_,"TestPingServer: error",!1,g)})}function nn(c,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Yh(){this.g=new xa}function wu(c,g,_){const S=_||"";try{si(c,function(U,H){let se=U;m(U)&&(se=Pa(U)),g.push(S+H+"="+encodeURIComponent(se))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(Vr,ns),Vr.prototype.g=function(){return new hs(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function hs(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(hs,_t),n=hs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&Eu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let g="";return ae(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function hi(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Nr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):He(c,g,_))}function Ze(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ze,_t);var Jh=/^https?$/i,ja=["POST","PUT"];n=Ze.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Qs(this.o):Qs(jn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){ds(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ja,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of _)this.g.setRequestHeader(H,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){ds(this,H)}};function ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oo(c),mn(c)}function oo(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)Sa(c.Ea,0,c);else if(wt(c,"readystatechange"),rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=se===0){var U=String(c.D).match(us)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),S=!Jh.test(U?U.toLowerCase():"")}_=S}if(_)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var H=2<rn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",oo(c)}}finally{mn(c)}}}}function mn(c,g){if(c.g){ao(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ao(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ca(g)}};function Ua(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(c){const g={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(G(c[S]))continue;var _=D(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[U]||[];g[U]=H,H.push(_)}k(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ba(c){this.Aa=0,this.i=[],this.j=new is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,c),this.cb=sr("retryDelaySeedMs",1e4,c),this.Wa=sr("forwardChannelMaxRetries",2,c),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ls(c&&c.concurrentRequestLimit),this.Da=new Yh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){ct(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Au(this,null,this.W),or(this)};function bt(c){if(uo(c),c.G==3){var g=c.U++,_=pn(c.I);if(He(_,"SID",c.K),He(_,"RID",g),He(_,"TYPE","terminate"),Dr(c,_),g=new Fn(c,c.j,g),g.L=2,g.v=li(pn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),qe(g)}Iu(c)}function Hn(c){c.g&&(za(c),c.g.cancel(),c.g=null)}function uo(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function or(c){if(!fn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||J(),re||(Te(),re=!0),me.add(g,c),c.B=0}}function Zh(c,g){return du(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(E(c.Ga,c,g),Su(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Fn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=I(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=di(this,U,g),_=pn(this.I),He(_,"RID",c),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),Dr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Nr(H)))+"&"+g:this.m&&hi(_,this.m,H)),La(this.h,U),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),U.T=!0,no(U,_,null)):no(U,_,g),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||fn(this.h)||co(this))};function co(c,g){var _;g?_=g.l:_=c.U++;const S=pn(c.I);He(S,"SID",c.K),He(S,"RID",_),He(S,"AID",c.T),Dr(c,S),c.m&&c.o&&hi(S,c.m,c.o),_=new Fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=di(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),La(c.h,_),no(_,S,g)}function Dr(c,g){c.H&&ae(c.H,function(_,S){He(g,S,_)}),c.l&&si({},function(_,S){He(g,S,_)})}function di(c,g,_){_=Math.min(c.i.length,_);var S=c.l?E(c.l.Na,c.l,c):null;e:{var U=c.i;let H=-1;for(;;){const se=["count="+_];H==-1?0<_?(H=U[0].g,se.push("ofs="+H)):H=0:se.push("ofs="+H);let $e=!0;for(let Et=0;Et<_;Et++){let Me=U[Et].g;const xt=U[Et].map;if(Me-=H,0>Me)H=Math.max(0,U[Et].g-100),$e=!1;else try{wu(xt,se,"req"+Me+"_")}catch{S&&S(xt)}}if($e){S=se.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function fs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||J(),re||(Te(),re=!0),me.add(g,c),c.v=0}}function ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(E(c.Fa,c),Su(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),Hn(this),Tu(this))};function za(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Tu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=pn(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Dr(c,g),c.m&&c.o&&hi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=li(pn(g)),_.m=null,_.P=!0,ba(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),ho(this),ct(19))};function fo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function po(c,g){var _=null;if(c.g==g){fo(c),za(c),c.g=null;var S=2}else if(Yt(c.h,g))_=g.D,fu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=rs(),wt(S,new Js(S,_)),or(c)}else fs(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Zh(c,g)||S==2&&ho(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:br(c,5);break;case 4:br(c,10);break;case 3:br(c,6);break;default:br(c,2)}}}function Su(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function br(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),S=c.Xa;const U=!S;S=new kr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||cs(S,"https"),li(S),U?Xh(S.toString(),_):_u(S.toString(),_)}else ct(2);c.G=0,c.l&&c.l.sa(g),Iu(c),uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const g=pu(c.h);(g.length!=0||c.i.length!=0)&&(b(c.ka,g),b(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Au(c,g,_){var S=_ instanceof kr?pn(_):new kr(_);if(S.g!="")g&&(S.g=g+"."+S.g),oi(S,S.s);else{var U=d.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var H=new kr(null);S&&cs(H,S),g&&(H.g=g),U&&oi(H,U),_&&(H.l=_),S=H}return _=c.D,g=c.ya,_&&g&&He(S,_,g),He(S,"VER",c.la),Dr(c,S),S}function Pu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ze(new Vr({eb:_})):new Ze(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){_t.call(this),this.g=new Ba(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!G(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ar(this)}O(Jt,_t),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){bt(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pa(c),c=_);g.i.push(new hu(g.Ya++,c)),g.G==3&&or(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Jt.aa.N.call(this)};function Cu(c){tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}O(Cu,tr);function xu(){Ys.call(this),this.status=1}O(xu,Ys);function ar(c){this.g=c}O(ar,$a),ar.prototype.ua=function(){wt(this.g,"a")},ar.prototype.ta=function(c){wt(this.g,new Cu(c))},ar.prototype.sa=function(c){wt(this.g,new xu)},ar.prototype.ra=function(){wt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Fw=function(){return new mo},jw=function(){return rs()},Ow=nr,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Dc=eo,au.COMPLETE="complete",Lw=au,Xs.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,gl=Xs,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Mw=Ze}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const zv="@firebase/firestore",$v="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new zp("@firebase/firestore");function Oo(){return js.logLevel}function ce(n,...e){if(js.logLevel<=ke.DEBUG){const t=e.map(Wp);js.debug(`Firestore (${ha}): ${n}`,...t)}}function Qr(n,...e){if(js.logLevel<=ke.ERROR){const t=e.map(Wp);js.error(`Firestore (${ha}): ${n}`,...t)}}function Zo(n,...e){if(js.logLevel<=ke.WARN){const t=e.map(Wp);js.warn(`Firestore (${ha}): ${n}`,...t)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Uw(n,r,t)}function Uw(n,e,t){let r=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qr(r),new Error(r)}function ze(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||Uw(e,o,r)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class AP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PP{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new Bw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class CP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new CP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Hv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=kP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function rp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return kf(o)===kf(a)?Ve(o,a):kf(o)?1:-1}return Ve(n.length,e.length)}const VP=55296,NP=57343;function kf(n){const e=n.charCodeAt(0);return e>=VP&&e<=NP}function ea(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="__name__";class dr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=dr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ve(e.length,t.length)}static compareSegments(e,t){const r=dr.isNumericId(e),o=dr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?dr.extractNumericId(e).compare(dr.extractNumericId(t)):rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oi.fromString(e.substring(4,e.length-2))}}class Xe extends dr{construct(e,t,r){return new Xe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Xe(t)}static emptyPath(){return new Xe([])}}const DP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends dr{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return DP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wv}static keyField(){return new Ft([Wv])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Xe.fromString(e))}static fromName(e){return new ye(Xe.fromString(e).popFirst(5))}static empty(){return new ye(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Xe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n,e,t){if(!t)throw new pe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function bP(n,e,t,r){if(e===!0&&r===!0)throw new pe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function qv(n){if(!ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Gv(n){if(ye.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $w(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Gp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Xr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gp(n);throw new pe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Kl(n,e){if(!$w(n))throw new pe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,Qv=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Qv);return new Ye(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Kv)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:yt("string",Ye._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ye(0,0))}static max(){return new Pe(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=-1;function MP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new Ui(o,ye.empty(),e)}function LP(n){return new Ui(n.readTime,n.key,bl)}class Ui{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ui(Pe.min(),ye.empty(),bl)}static max(){return new Ui(Pe.max(),ye.empty(),bl)}}function OP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==jP)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,r)=>{t(e)})}static reject(e){return new K((t,r)=>{r(e)})}static waitFor(e){return new K((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=K.resolve(!1);for(const r of e)t=t.next(o=>o?K.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new K((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new K((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function UP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp=-1;function Eh(n){return n==null}function Kc(n){return n===0&&1/n==-1/0}function BP(n){return typeof n=="number"&&Number.isInteger(n)&&!Kc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="";function zP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xv(e)),e=$P(n.get(t),e);return Xv(e)}function $P(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case Hw:t+="";break;default:t+=a}}return t}function Xv(n){return n+Hw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ww(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??jt.RED,this.left=o??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new jt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pt(this.comparator);return t.data=e,t}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new wn([])}unionWith(e){let t=new Pt(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new qw("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const HP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=HP.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zi(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="server_timestamp",Kw="__type__",Qw="__previous_value__",Xw="__local_write_time__";function Qp(n){return(n?.mapValue?.fields||{})[Kw]?.stringValue===Gw}function Th(n){const e=n.mapValue.fields[Qw];return Qp(e)?Th(e):e}function Ml(n){const e=Bi(n.mapValue.fields[Xw].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const Qc="(default)";class Ll{constructor(e,t){this.projectId=e,this.database=t||Qc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__type__",qP="__max__",Ic={mapValue:{}},Jw="__vector__",Xc="value";function $i(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qp(n)?4:KP(n)?9007199254740991:GP(n)?10:11:Ee(28295,{value:n})}function Sr(n,e){if(n===e)return!0;const t=$i(n);if(t!==$i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ml(n).isEqual(Ml(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Bi(o.timestampValue),d=Bi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return zi(o.bytesValue).isEqual(zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return ft(o.geoPointValue.latitude)===ft(a.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ft(o.integerValue)===ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ft(o.doubleValue),d=ft(a.doubleValue);return u===d?Kc(u)===Kc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],Sr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(Yv(u)!==Yv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Sr(u[f],d[f])))return!1;return!0}(n,e);default:return Ee(52216,{left:n})}}function Ol(n,e){return(n.values||[]).find(t=>Sr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;const t=$i(n),r=$i(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=ft(a.integerValue||a.doubleValue),f=ft(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Zv(n.timestampValue,e.timestampValue);case 4:return Zv(Ml(n),Ml(e));case 5:return rp(n.stringValue,e.stringValue);case 6:return function(a,u){const d=zi(a),f=zi(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ve(d[m],f[m]);if(v!==0)return v}return Ve(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ve(ft(a.latitude),ft(u.latitude));return d!==0?d:Ve(ft(a.longitude),ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return e0(n.arrayValue,e.arrayValue);case 10:return function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Xc]?.arrayValue,v=f[Xc]?.arrayValue,w=Ve(m?.values?.length||0,v?.values?.length||0);return w!==0?w:e0(m,v)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ic.mapValue&&u===Ic.mapValue)return 0;if(a===Ic.mapValue)return 1;if(u===Ic.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=rp(f[w],v[w]);if(E!==0)return E;const A=ta(d[f[w]],m[v[w]]);if(A!==0)return A}return Ve(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function Zv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Bi(n),r=Bi(e),o=Ve(t.seconds,r.seconds);return o!==0?o:Ve(t.nanos,r.nanos)}function e0(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ta(t[o],r[o]);if(a)return a}return Ve(t.length,r.length)}function na(n){return ip(n)}function ip(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Bi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=ip(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${ip(t.fields[u])}`;return o+"}"}(n.mapValue):Ee(61005,{value:n})}function bc(n){switch($i(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(n);return e?16+bc(e):16;case 5:return 2*n.stringValue.length;case 6:return zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+bc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Ki(r.fields,(a,u)=>{o+=a.length+bc(u)}),o}(n.mapValue);default:throw Ee(13486,{value:n})}}function sp(n){return!!n&&"integerValue"in n}function Xp(n){return!!n&&"arrayValue"in n}function t0(n){return!!n&&"nullValue"in n}function n0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mc(n){return!!n&&"mapValue"in n}function GP(n){return(n?.mapValue?.fields||{})[Yw]?.stringValue===Jw}function Il(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Ki(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Il(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Il(n.arrayValue.values[t]);return e}return{...n}}function KP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Il(t)}setAll(e){let t=Ft.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Il(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Mc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Ki(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new dn(Il(this.value))}}function Zw(n){const e=[];return Ki(n.fields,(t,r)=>{const o=new Ft([t]);if(Mc(r)){const a=Zw(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,Pe.min(),Pe.min(),Pe.min(),dn.empty(),0)}static newFoundDocument(e,t,r,o){return new Kt(e,1,t,Pe.min(),r,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Pe.min(),Pe.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Pe.min(),Pe.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.position=e,this.inclusive=t}}function r0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ta(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function i0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Sr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function QP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{}class It extends eE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YP(e,t,r):t==="array-contains"?new eC(e,r):t==="in"?new tC(e,r):t==="not-in"?new nC(e,r):t==="array-contains-any"?new rC(e,r):new It(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new JP(e,r):new ZP(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ta(t,this.value)):t!==null&&$i(this.value)===$i(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends eE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ir(e,t)}matches(e){return tE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tE(n){return n.op==="and"}function nE(n){return XP(n)&&tE(n)}function XP(n){for(const e of n.filters)if(e instanceof Ir)return!1;return!0}function op(n){if(n instanceof It)return n.field.canonicalString()+n.op.toString()+na(n.value);if(nE(n))return n.filters.map(e=>op(e)).join(",");{const e=n.filters.map(t=>op(t)).join(",");return`${n.op}(${e})`}}function rE(n,e){return n instanceof It?function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&Sr(r.value,o.value)}(n,e):n instanceof Ir?function(r,o){return o instanceof Ir&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&rE(u,o.filters[d]),!0):!1}(n,e):void Ee(19439)}function iE(n){return n instanceof It?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof Ir?function(t){return t.op.toString()+" {"+t.getFilters().map(iE).join(" ,")+"}"}(n):"Filter"}class YP extends It{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class JP extends It{constructor(e,t){super(e,"in",t),this.keys=sE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZP extends It{constructor(e,t){super(e,"not-in",t),this.keys=sE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sE(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class eC extends It{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xp(t)&&Ol(t.arrayValue,this.value)}}class tC extends It{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ol(this.value.arrayValue,t)}}class nC extends It{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ol(this.value.arrayValue,t)}}class rC extends It{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function s0(n,e=null,t=[],r=[],o=null,a=null,u=null){return new iC(n,e,t,r,o,a,u)}function Yp(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>op(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Eh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>na(r)).join(",")),e.Te=t}return e.Te}function Jp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!i0(n.startAt,e.startAt)&&i0(n.endAt,e.endAt)}function ap(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sC(n,e,t,r,o,a,u,d){return new Sh(n,e,t,r,o,a,u,d)}function Zp(n){return new Sh(n)}function o0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function oC(n){return n.collectionGroup!==null}function Al(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Pt(Ft.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Jc(a,r))}),t.has(Ft.keyField().canonicalString())||e.Ie.push(new Jc(Ft.keyField(),r))}return e.Ie}function mr(n){const e=Ce(n);return e.Ee||(e.Ee=aC(e,Al(n))),e.Ee}function aC(n,e){if(n.limitType==="F")return s0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Jc(o.field,a)});const t=n.endAt?new Yc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Yc(n.startAt.position,n.startAt.inclusive):null;return s0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function lp(n,e,t){return new Sh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ih(n,e){return Jp(mr(n),mr(e))&&n.limitType===e.limitType}function oE(n){return`${Yp(mr(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>iE(o)).join(", ")}]`),Eh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>na(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>na(o)).join(",")),`Target(${r})`}(mr(n))}; limitType=${n.limitType})`}function Ah(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Al(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=r0(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Al(r),o)||r.endAt&&!function(u,d,f){const m=r0(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Al(r),o))}(n,e)}function lC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aE(n){return(e,t)=>{let r=!1;for(const o of Al(n)){const a=uC(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function uC(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ta(f,m):Ee(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return Ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new st(ye.comparator);function Yr(){return cC}const lE=new st(ye.comparator);function yl(...n){let e=lE;for(const t of n)e=e.insert(t.key,t);return e}function uE(n){let e=lE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Vs(){return Pl()}function cE(){return Pl()}function Pl(){return new Bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const hC=new st(ye.comparator),dC=new Pt(ye.comparator);function Ne(...n){let e=dC;for(const t of n)e=e.add(t);return e}const fC=new Pt(Ve);function pC(){return fC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(e)?"-0":e}}function hE(n){return{integerValue:""+n}}function mC(n,e){return BP(e)?hE(e):em(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function gC(n,e,t){return n instanceof Zc?function(o,a){const u={fields:{[Kw]:{stringValue:Gw},[Xw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Qp(a)&&(a=Th(a)),a&&(u.fields[Qw]=a),{mapValue:u}}(t,e):n instanceof jl?fE(n,e):n instanceof Fl?pE(n,e):function(o,a){const u=dE(o,a),d=a0(u)+a0(o.Ae);return sp(u)&&sp(o.Ae)?hE(d):em(o.serializer,d)}(n,e)}function yC(n,e,t){return n instanceof jl?fE(n,e):n instanceof Fl?pE(n,e):t}function dE(n,e){return n instanceof eh?function(r){return sp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Zc extends Ph{}class jl extends Ph{constructor(e){super(),this.elements=e}}function fE(n,e){const t=mE(e);for(const r of n.elements)t.some(o=>Sr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Fl extends Ph{constructor(e){super(),this.elements=e}}function pE(n,e){let t=mE(e);for(const r of n.elements)t=t.filter(o=>!Sr(o,r));return{arrayValue:{values:t}}}class eh extends Ph{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function a0(n){return ft(n.integerValue||n.doubleValue)}function mE(n){return Xp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function vC(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof jl&&o instanceof jl||r instanceof Fl&&o instanceof Fl?ea(r.elements,o.elements,Sr):r instanceof eh&&o instanceof eh?Sr(r.Ae,o.Ae):r instanceof Zc&&o instanceof Zc}(n.transform,e.transform)}class _C{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Ch{}function gE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tm(n.key,er.none()):new Ql(n.key,n.data,er.none());{const t=n.data,r=dn.empty();let o=new Pt(Ft.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Qi(n.key,r,new wn(o.toArray()),er.none())}}function wC(n,e,t){n instanceof Ql?function(o,a,u){const d=o.value.clone(),f=u0(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Qi?function(o,a,u){if(!Lc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=u0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(yE(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Cl(n,e,t,r){return n instanceof Ql?function(a,u,d,f){if(!Lc(a.precondition,u))return d;const m=a.value.clone(),v=c0(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Qi?function(a,u,d,f){if(!Lc(a.precondition,u))return d;const m=c0(a.fieldTransforms,f,u),v=u.data;return v.setAll(yE(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return Lc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function EC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=dE(r.transform,o||null);a!=null&&(t===null&&(t=dn.empty()),t.set(r.field,a))}return t||null}function l0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ea(r,o,(a,u)=>vC(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ql extends Ch{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qi extends Ch{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function u0(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,yC(u,d,t[o]))}return r}function c0(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,gC(a,u,e))}return r}class tm extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Ch{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&wC(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=gE(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,r)=>l0(t,r))&&ea(this.baseMutations,e.baseMutations,(t,r)=>l0(t,r))}}class nm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return hC}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new nm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Le;function PC(n){switch(n){case X.OK:return Ee(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function vE(n){if(n===void 0)return Qr("GRPC error has no .code"),X.UNKNOWN;switch(n){case gt.OK:return X.OK;case gt.CANCELLED:return X.CANCELLED;case gt.UNKNOWN:return X.UNKNOWN;case gt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case gt.INTERNAL:return X.INTERNAL;case gt.UNAVAILABLE:return X.UNAVAILABLE;case gt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case gt.NOT_FOUND:return X.NOT_FOUND;case gt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case gt.ABORTED:return X.ABORTED;case gt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case gt.DATA_LOSS:return X.DATA_LOSS;default:return Ee(39323,{code:n})}}(Le=gt||(gt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=new Oi([4294967295,4294967295],0);function h0(n){const e=CC().encode(n),t=new bw;return t.update(e),new Uint8Array(t.digest())}function d0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Oi([t,r],0),new Oi([o,a],0)]}class rm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vl(`Invalid padding: ${t}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new vl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Oi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Oi.fromNumber(r)));return o.compare(xC)===1&&(o=new Oi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=h0(e),[r,o]=d0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new rm(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=h0(e),[r,o]=d0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xh(Pe.min(),o,new st(Ve),Yr(),Ne())}}class Xl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xl(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class _E{constructor(e,t){this.targetId=e,this.Ce=t}}class wE{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class f0{constructor(){this.ve=0,this.Fe=p0(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),r=Ne();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Ee(38017,{changeType:a})}}),new Xl(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=p0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=Ac(),this.He=Ac(),this.Ye=new st(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(ap(a))if(r===0){const u=new ye(a.path);this.et(t,u,Kt.newNoDocument(u,Pe.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=zi(r).toUint8Array()}catch(f){if(f instanceof qw)return Zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new rm(u,o,a)}catch(f){return Zo(f instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const d=this.ot(u);if(d){if(a.current&&ap(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Kt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const o=new xh(e,t,this.Ye,this.je,r);return this.je=Yr(),this.Je=Ac(),this.He=Ac(),this.Ye=new st(Ve),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new f0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Pt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Pt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ac(){return new st(ye.comparator)}function p0(){return new st(ye.comparator)}const kC={asc:"ASCENDING",desc:"DESCENDING"},VC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NC={and:"AND",or:"OR"};class DC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function up(n,e){return n.useProto3Json||Eh(e)?e:{value:e}}function th(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function bC(n,e){return th(n,e.toTimestamp())}function gr(n){return ze(!!n,49232),Pe.fromTimestamp(function(t){const r=Bi(t);return new Ye(r.seconds,r.nanos)}(n))}function im(n,e){return cp(n,e).canonicalString()}function cp(n,e){const t=function(o){return new Xe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function TE(n){const e=Xe.fromString(n);return ze(CE(e),10190,{key:e.toString()}),e}function hp(n,e){return im(n.databaseId,e.path)}function Vf(n,e){const t=TE(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(IE(t))}function SE(n,e){return im(n.databaseId,e)}function MC(n){const e=TE(n);return e.length===4?Xe.emptyPath():IE(e)}function dp(n){return new Xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IE(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function m0(n,e,t){return{name:hp(n,e),fields:t.value.mapValue.fields}}function LC(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ee(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(ze(v===void 0||typeof v=="string",58123),Ut.fromBase64String(v||"")):(ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?X.UNKNOWN:vE(m.code);return new pe(v,m.message||"")}(u);t=new wE(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Vf(n,r.document.name),a=gr(r.document.updateTime),u=r.document.createTime?gr(r.document.createTime):Pe.min(),d=new dn({mapValue:{fields:r.document.fields}}),f=Kt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Oc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Vf(n,r.document),a=r.readTime?gr(r.readTime):Pe.min(),u=Kt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Oc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Vf(n,r.document),a=r.removedTargetIds||[];t=new Oc([],a,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new AC(o,a),d=r.targetId;t=new _E(d,u)}}return t}function OC(n,e){let t;if(e instanceof Ql)t={update:m0(n,e.key,e.value)};else if(e instanceof tm)t={delete:hp(n,e.key)};else if(e instanceof Qi)t={update:m0(n,e.key,e.data),updateMask:qC(e.fieldMask)};else{if(!(e instanceof TC))return Ee(16599,{Vt:e.type});t={verify:hp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof Zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof jl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof eh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:bC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)}(n,e.precondition)),t}function jC(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?gr(o.updateTime):gr(a);return u.isEqual(Pe.min())&&(u=gr(a)),new _C(u,o.transformResults||[])}(t,e))):[]}function FC(n,e){return{documents:[SE(n,e.path)]}}function UC(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=SE(n,o);const a=function(m){if(m.length!==0)return PE(Ir.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(E){return{field:Fo(E.field),direction:$C(E.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=up(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function BC(n){let e=MC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ze(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const E=AE(w);return E instanceof Ir&&nE(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(E=>function(O){return new Jc(Uo(O.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(E))}(t.orderBy));let d=null;t.limit&&(d=function(w){let E;return E=typeof w=="object"?w.value:w,Eh(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(w){const E=!!w.before,A=w.values||[];return new Yc(A,E)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const E=!w.before,A=w.values||[];return new Yc(A,E)}(t.endAt)),sC(e,o,u,a,d,"F",f,m)}function zC(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function AE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Uo(t.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uo(t.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Uo(t.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(n):n.fieldFilter!==void 0?function(t){return It.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ir.create(t.compositeFilter.filters.map(r=>AE(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(n):Ee(30097,{filter:n})}function $C(n){return kC[n]}function HC(n){return VC[n]}function WC(n){return NC[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return Ft.fromServerFormat(n.fieldPath)}function PE(n){return n instanceof It?function(t){if(t.op==="=="){if(n0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(t0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(n0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(t0(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:HC(t.op),value:t.value}}}(n):n instanceof Ir?function(t){const r=t.getFilters().map(o=>PE(o));return r.length===1?r[0]:{compositeFilter:{op:WC(t.op),filters:r}}}(n):Ee(54877,{filter:n})}function qC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,t,r,o,a=Pe.min(),u=Pe.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.yt=e}}function KC(n){const e=BC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.Cn=new XC}addToCollectionParentIndex(e,t){return this.Cn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Ui.min())}updateCollectionGroup(e,t,r){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class XC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Pt(Xe.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(xE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="LruGarbageCollector",YC=1048576;function v0([n,e],[t,r]){const o=Ve(n,t);return o===0?Ve(e,r):o}class JC{constructor(e){this.Ir=e,this.buffer=new Pt(v0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();v0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ZC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(y0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?ce(y0,"Ignoring IndexedDB error during garbage collection: ",t):await da(t)}await this.Vr(3e5)})}}class ex{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return K.resolve(wh.ce);const r=new JC(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(g0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),g0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Oo()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function tx(n,e){return new ex(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.changes=new Bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?K.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Cl(r.mutation,o,wn.empty(),Ye.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const o=Vs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=yl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Vs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=Yr();const u=Pl(),d=function(){return Pl()}();return t.forEach((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Qi)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Cl(v.mutation,m,v.mutation.getFieldMask(),Ye.now())):u.set(m.key,wn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>d.set(m,new rx(v,u.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const r=Pl();let o=new st((u,d)=>u-d),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||wn.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||Ne()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=cE();v.forEach(E=>{if(!a.has(E)){const A=gE(t.get(E),r.get(E));A!==null&&w.set(E,A),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return K.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):K.resolve(Vs());let d=bl,f=a;return u.next(m=>K.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?K.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ne())).next(v=>({batchId:d,changes:uE(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let o=yl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(d=>K.forEach(d,f=>{const m=function(w,E){return new Sh(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Kt.newInvalidDocument(v)))});let d=yl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Cl(v.mutation,m,wn.empty(),Ye.now()),Ah(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return K.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:gr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:KC(o.bundledQuery),readTime:gr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new st(ye.comparator),this.qr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vs();return K.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),K.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),K.resolve()}getOverlaysForCollection(e,t,r){const o=Vs(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new st((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Vs(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Vs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return K.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new IC(t,r));let a=this.qr.get(t);a===void 0&&(a=Ne(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Qr=new Pt(Nt.$r),this.Ur=new Pt(Nt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Nt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Nt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Xe([])),r=new Nt(t,e),o=new Nt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Xe([])),r=new Nt(t,e),o=new Nt(t,e+1);let a=Ne();return this.Ur.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Nt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Nt.$r)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new SC(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new Nt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(u)}lookupMutationBatch(e,t){return K.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Kp:this.tr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nt(t,0),o=new Nt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],u=>{const d=this.Xr(u.Yr);a.push(d)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pt(Ve);return t.forEach(o=>{const a=new Nt(o,0),u=new Nt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],d=>{r=r.add(d.Yr)})}),K.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new ye(a),0);let d=new Pt(Ve);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)},u),K.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return K.forEach(t.mutations,o=>{const a=new Nt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Nt(t,0),o=this.Zr.firstAfterOrEqual(r);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.ri=e,this.docs=function(){return new st(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return K.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let r=Yr();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Kt.newInvalidDocument(o))}),K.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Yr();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||OP(LP(v),r)<=0||(o.has(v.key)||Ah(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Ee(9500)}ii(e,t){return K.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cx(this)}getSize(e){return K.resolve(this.size)}}class cx extends nx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),K.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.persistence=e,this.si=new Bs(t=>Yp(t),Jp),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new sm,this.targetCount=0,this.ai=ra.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),K.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.Pr(t),K.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(a).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return K.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),K.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),K.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),K.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return K.resolve(r)}containsKey(e,t){return K.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new ax,this.referenceDelegate=e(this),this.Pi=new hx(this),this.indexManager=new QC,this.remoteDocumentCache=function(o){return new ux(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new GC(t),this.Ii=new sx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ox,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new lx(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const o=new dx(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,t){return K.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class dx extends FP{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.Ri=new sm,this.Vi=null}static mi(e){return new om(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),K.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),K.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,r=>{const o=ye.fromPath(r);return this.gi(e,o).next(a=>{a||t.removeEntry(o,Pe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return K.or([()=>K.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class nh{constructor(e,t){this.persistence=e,this.pi=new Bs(r=>zP(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=tx(this,t)}static mi(e,t){return new nh(e,t)}Ei(){}di(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return K.forEach(this.pi,(r,o)=>this.br(e,r,o).next(a=>a?K.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),K.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bc(e.data.value)),t}br(e,t,r){return K.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return K.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ne(),o=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new am(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return iA()?8:UP(Xt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new fx;return this.Ss(e,t,u).next(d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>a.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(Oo()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Oo()<=ke.DEBUG&&ce("QueryEngine","Query:",jo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Oo()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(t))):K.resolve())}ys(e,t){if(o0(t))return K.resolve(null);let r=mr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=lp(t,null,"F"),r=mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,lp(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,o){return o0(t)||o.isEqual(Pe.min())?K.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?K.resolve(null):(Oo()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(t)),this.vs(e,u,t,MP(o,bl)).next(d=>d))})}Ds(e,t){let r=new Pt(aE(e));return t.forEach((o,a)=>{Ah(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Oo()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",jo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ui.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="LocalStore",mx=3e8;class gx{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new st(Ve),this.xs=new Bs(a=>Yp(a),Jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ix(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function yx(n,e,t,r){return new gx(n,e,t,r)}async function kE(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Ne();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:d}))})})}function vx(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const w=m.batch,E=w.keys();let A=K.resolve();return E.forEach(O=>{A=A.next(()=>v.getEntry(f,O)).next(F=>{const b=m.docVersions.get(O);ze(b!==null,48541),F.version.compareTo(b)<0&&(w.applyToRemoteDocument(F,m),F.isValidDocument()&&(F.setReadTime(m.commitVersion),v.addEntry(F)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Ne();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function VE(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function _x(n,e){const t=Ce(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w)));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(Ut.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),o=o.insert(w,A),function(F,b,W){return F.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=mx?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(E,A,v)&&d.push(t.Pi.updateTargetData(a,A))});let f=Yr(),m=Ne();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(wx(a,u,e.documentUpdates).next(v=>{f=v.ks,m=v.qs})),!r.isEqual(Pe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return K.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ms=o,a))}function wx(n,e,t){let r=Ne(),o=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Yr();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(lm,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{ks:u,qs:o}})}function Ex(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Kp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Tx(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(a=>a?(o=a,K.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new Di(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function fp(n,e,t){const r=Ce(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!fa(u))throw u;ce(lm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function _0(n,e,t){const r=Ce(n);let o=Pe.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=Ce(f),E=w.xs.get(v);return E!==void 0?K.resolve(w.Ms.get(E)):w.Pi.getTargetData(m,v)}(r,u,mr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Pe.min(),t?a:Ne())).next(d=>(Sx(r,lC(e),d),{documents:d,Qs:a})))}function Sx(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class w0{constructor(){this.activeTargetIds=pC()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ix{constructor(){this.Mo=new w0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new w0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="ConnectivityMonitor";class T0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(E0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc=null;function pp(){return Pc===null?Pc=function(){return 268435456+Math.round(2147483648*Math.random())}():Pc++,"0x"+Pc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="RestConnection",Px={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Qc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=pp(),d=this.zo(e,t.toUriEncodedString());ce(Nf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),v=ua(m);return this.Jo(e,d,f,r,v).then(w=>(ce(Nf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Zo(Nf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}zo(e,t){const r=Px[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Rx extends Cx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=pp();return new Promise((d,f)=>{const m=new Mw;m.setWithCredentials(!0),m.listenOnce(Lw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Dc.NO_ERROR:const w=m.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Dc.TIMEOUT:ce(Wt,`RPC '${e}' ${u} timed out`),f(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const E=m.getStatus();if(ce(Wt,`RPC '${e}' ${u} failed with status:`,E,"response text:",m.getResponseText()),E>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A?.error;if(O&&O.status&&O.message){const F=function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(G)>=0?G:X.UNKNOWN}(O.status);f(new pe(F,O.message))}else f(new pe(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pe(X.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);ce(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}T_(e,t,r){const o=pp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Fw(),d=jw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let E=!1,A=!1;const O=new xx({Yo:b=>{A?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,b):(E||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,b),w.send(b))},Zo:()=>w.close()}),F=(b,W,G)=>{b.listen(W,Q=>{try{G(Q)}catch(oe){setTimeout(()=>{throw oe},0)}})};return F(w,gl.EventType.OPEN,()=>{A||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),O.o_())}),F(w,gl.EventType.CLOSE,()=>{A||(A=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),O.a_(),this.E_(w))}),F(w,gl.EventType.ERROR,b=>{A||(A=!0,Zo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,b.name,"Message:",b.message),O.a_(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),F(w,gl.EventType.MESSAGE,b=>{if(!A){const W=b.data[0];ze(!!W,16349);const G=W,Q=G?.error||G[0]?.error;if(Q){ce(Wt,`RPC '${e}' stream ${o} received error:`,Q);const oe=Q.status;let ne=function(I){const x=gt[I];if(x!==void 0)return vE(x)}(oe),ae=Q.message;ne===void 0&&(ne=X.INTERNAL,ae="Unknown error status: "+oe+" with message "+Q.message),A=!0,O.a_(new pe(ne,ae)),w.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,W),O.u_(W)}}),F(d,Ow.STAT_EVENT,b=>{b.stat===np.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):b.stat===np.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Df(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(n){return new DC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class DE{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new pe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ce(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kx extends DE{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LC(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?gr(u.readTime):Pe.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=dp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=ap(f)?{documents:FC(a,f)}:{query:UC(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=EE(a,u.resumeToken);const m=up(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Pe.min())>0){d.readTime=th(a,u.snapshotVersion.toTimestamp());const m=up(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=zC(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=dp(this.serializer),t.removeTarget=e,this.q_(t)}}class Vx extends DE{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=jC(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=dp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>OC(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{}class Dx extends Nx{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,cp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(X.UNKNOWN,a.toString())})}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,cp(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(X.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class bx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class Mx{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{zs(this)&&(ce(Fs,"Restarting streams for network reachability change."),await async function(f){const m=Ce(f);m.Ea.add(4),await Yl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await kh(m)}(this))})}),this.Ra=new bx(r,o)}}async function kh(n){if(zs(n))for(const e of n.da)await e(!0)}async function Yl(n){for(const e of n.da)await e(!1)}function bE(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),dm(t)?hm(t):pa(t).O_()&&cm(t,e))}function um(n,e){const t=Ce(n),r=pa(t);t.Ia.delete(e),r.O_()&&ME(t,e),t.Ia.size===0&&(r.O_()?r.L_():zs(t)&&t.Ra.set("Unknown"))}function cm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).Y_(e)}function ME(n,e){n.Va.Ue(e),pa(n).Z_(e)}function hm(n){n.Va=new RC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.Ra.ua()}function dm(n){return zs(n)&&!pa(n).x_()&&n.Ia.size>0}function zs(n){return Ce(n).Ea.size===0}function LE(n){n.Va=void 0}async function Lx(n){n.Ra.set("Online")}async function Ox(n){n.Ia.forEach((e,t)=>{cm(n,e)})}async function jx(n,e){LE(n),dm(n)?(n.Ra.ha(e),hm(n)):n.Ra.set("Unknown")}async function Fx(n,e,t){if(n.Ra.set("Online"),e instanceof wE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(r){ce(Fs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rh(n,r)}else if(e instanceof Oc?n.Va.Ze(e):e instanceof _E?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await VE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),ME(a,f);const w=new Di(v.target,f,m,v.sequenceNumber);cm(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){ce(Fs,"Failed to raise snapshot:",r),await rh(n,r)}}async function rh(n,e,t){if(!fa(e))throw e;n.Ea.add(1),await Yl(n),n.Ra.set("Offline"),t||(t=()=>VE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Fs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await kh(n)})}function OE(n,e){return e().catch(t=>rh(n,t,e))}async function Vh(n){const e=Ce(n),t=Hi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kp;for(;Ux(e);)try{const o=await Ex(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,Bx(e,o)}catch(o){await rh(e,o)}jE(e)&&FE(e)}function Ux(n){return zs(n)&&n.Ta.length<10}function Bx(n,e){n.Ta.push(e);const t=Hi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function jE(n){return zs(n)&&!Hi(n).x_()&&n.Ta.length>0}function FE(n){Hi(n).start()}async function zx(n){Hi(n).ra()}async function $x(n){const e=Hi(n);for(const t of n.Ta)e.ea(t.mutations)}async function Hx(n,e,t){const r=n.Ta.shift(),o=nm.from(r,e,t);await OE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Vh(n)}async function Wx(n,e){e&&Hi(n).X_&&await async function(r,o){if(function(u){return PC(u)&&u!==X.ABORTED}(o.code)){const a=r.Ta.shift();Hi(r).B_(),await OE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Vh(r)}}(n,e),jE(n)&&FE(n)}async function I0(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),ce(Fs,"RemoteStore received new credentials");const r=zs(t);t.Ea.add(3),await Yl(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kh(t)}async function qx(n,e){const t=Ce(n);e?(t.Ea.delete(2),await kh(t)):e||(t.Ea.add(2),await Yl(t),t.Ra.set("Unknown"))}function pa(n){return n.ma||(n.ma=function(t,r,o){const a=Ce(t);return a.sa(),new kx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:Lx.bind(null,n),t_:Ox.bind(null,n),r_:jx.bind(null,n),H_:Fx.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),dm(n)?hm(n):n.Ra.set("Unknown")):(await n.ma.stop(),LE(n))})),n.ma}function Hi(n){return n.fa||(n.fa=function(t,r,o){const a=Ce(t);return a.sa(),new Vx(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:zx.bind(null,n),r_:Wx.bind(null,n),ta:$x.bind(null,n),na:Hx.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Vh(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Fs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new fm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),fa(n))return new pe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=yl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ga=new st(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ia{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ia(e,t,Go.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Kx{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ce(t),a=o.queries;o.queries=P0(),a.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new pe(X.ABORTED,"Firestore shutting down"))}}function P0(){return new Bs(n=>oE(n),Ih)}async function UE(n,e){const t=Ce(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new Gx,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=pm(u,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&mm(t)}async function BE(n,e){const t=Ce(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function Qx(n,e){const t=Ce(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&mm(t)}function Xx(n,e,t){const r=Ce(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function mm(n){n.Ca.forEach(e=>{e.next()})}var mp,C0;(C0=mp||(mp={})).Ma="default",C0.Cache="cache";class zE{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.key=e}}class HE{constructor(e){this.key=e}}class Yx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=aE(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new A0,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),A=Ah(this.query,w)?w:null,O=!!E&&this.mutatedKeys.has(E.key),F=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let b=!1;E&&A?E.data.isEqual(A.data)?O!==F&&(r.track({type:3,doc:A}),b=!0):this.su(E,A)||(r.track({type:2,doc:A}),b=!0,(f&&this.eu(A,f)>0||m&&this.eu(A,m)<0)&&(d=!0)):!E&&A?(r.track({type:0,doc:A}),b=!0):E&&!A&&(r.track({type:1,doc:E}),b=!0,(f||m)&&(d=!0)),b&&(A?(u=u.add(A),a=F?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(A,O){const F=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:b})}};return F(A)-F(O)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ia(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new A0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new HE(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new $E(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const gm="SyncEngine";class Jx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Zx{constructor(e){this.key=e,this.hu=!1}}class eR{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bs(d=>oE(d),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new st(ye.comparator),this.Au=new Map,this.Ru=new sm,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tR(n,e,t=!0){const r=XE(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await WE(r,e,t,!0),o}async function nR(n,e){const t=XE(n);await WE(t,e,!0,!1)}async function WE(n,e,t,r){const o=await Tx(n.localStore,mr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await rR(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&bE(n.remoteStore,o),d}async function rR(n,e,t,r,o){n.pu=(w,E,A)=>async function(F,b,W,G){let Q=b.view.ru(W);Q.Cs&&(Q=await _0(F.localStore,b.query,!1).then(({documents:k})=>b.view.ru(k,Q)));const oe=G&&G.targetChanges.get(b.targetId),ne=G&&G.targetMismatches.get(b.targetId)!=null,ae=b.view.applyChanges(Q,F.isPrimaryClient,oe,ne);return R0(F,b.targetId,ae.au),ae.snapshot}(n,w,E,A);const a=await _0(n.localStore,e,!0),u=new Yx(e,a.Qs),d=u.ru(a.documents),f=Xl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);R0(n,t,m.au);const v=new Jx(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function iR(n,e,t){const r=Ce(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter(u=>!Ih(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&um(r.remoteStore,o.targetId),gp(r,o.targetId)}).catch(da)):(gp(r,o.targetId),await fp(r.localStore,o.targetId,!0))}async function sR(n,e){const t=Ce(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),um(t.remoteStore,r.targetId))}async function oR(n,e,t){const r=fR(n);try{const o=await function(u,d){const f=Ce(u),m=Ye.now(),v=d.reduce((A,O)=>A.add(O.key),Ne());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let O=Yr(),F=Ne();return f.Ns.getEntries(A,v).next(b=>{O=b,O.forEach((W,G)=>{G.isValidDocument()||(F=F.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,O)).next(b=>{w=b;const W=[];for(const G of d){const Q=EC(G,w.get(G.key).overlayedDocument);Q!=null&&W.push(new Qi(G.key,Q,Zw(Q.value.mapValue),er.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,W,d)}).next(b=>{E=b;const W=b.applyToLocalDocumentSet(w,F);return f.documentOverlayCache.saveOverlays(A,b.batchId,W)})}).then(()=>({batchId:E.batchId,changes:uE(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new st(Ve)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await Jl(r,o.changes),await Vh(r.remoteStore)}catch(o){const a=pm(o,"Failed to persist write");t.reject(a)}}async function qE(n,e){const t=Ce(n);try{const r=await _x(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Au.get(a);u&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ze(u.hu,14607):o.removedDocuments.size>0&&(ze(u.hu,42227),u.hu=!1))}),await Jl(t,r,e)}catch(r){await da(r)}}function x0(n,e,t){const r=Ce(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Ce(u);f.onlineState=d;let m=!1;f.queries.forEach((v,w)=>{for(const E of w.Sa)E.va(d)&&(m=!0)}),m&&mm(f)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aR(n,e,t){const r=Ce(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new st(ye.comparator);u=u.insert(a,Kt.newNoDocument(a,Pe.min()));const d=Ne().add(a),f=new xh(Pe.min(),new Map,new st(Ve),u,d);await qE(r,f),r.du=r.du.remove(a),r.Au.delete(e),ym(r)}else await fp(r.localStore,e,!1).then(()=>gp(r,e,t)).catch(da)}async function lR(n,e){const t=Ce(n),r=e.batch.batchId;try{const o=await vx(t.localStore,e);KE(t,r,null),GE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(t,o)}catch(o){await da(o)}}async function uR(n,e,t){const r=Ce(n);try{const o=await function(u,d){const f=Ce(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(ze(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);KE(r,e,t),GE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jl(r,o)}catch(o){await da(o)}}function GE(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function KE(n,e,t){const r=Ce(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function gp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||QE(n,r)})}function QE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(um(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),ym(n))}function R0(n,e,t){for(const r of t)r instanceof $E?(n.Ru.addReference(r.key,e),cR(n,r)):r instanceof HE?(ce(gm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||QE(n,r.key)):Ee(19791,{wu:r})}function cR(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ce(gm,"New document in limbo: "+t),n.Eu.add(r),ym(n))}function ym(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Xe.fromString(e)),r=n.fu.next();n.Au.set(r,new Zx(t)),n.du=n.du.insert(t,r),bE(n.remoteStore,new Di(mr(Zp(t.path)),r,"TargetPurposeLimboResolution",wh.ce))}}async function Jl(n,e,t){const r=Ce(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,f)=>{u.push(r.pu(f,e,t).then(m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=am.As(f.targetId,m);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(f,m){const v=Ce(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>K.forEach(m,E=>K.forEach(E.Es,A=>v.persistence.referenceDelegate.addReference(w,E.targetId,A)).next(()=>K.forEach(E.ds,A=>v.persistence.referenceDelegate.removeReference(w,E.targetId,A)))))}catch(w){if(!fa(w))throw w;ce(lm,"Failed to update sequence numbers: "+w)}for(const w of m){const E=w.targetId;if(!w.fromCache){const A=v.Ms.get(E),O=A.snapshotVersion,F=A.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(E,F)}}}(r.localStore,a))}async function hR(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){ce(gm,"User change. New user:",e.toKey());const r=await kE(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(d=>{d.forEach(f=>{f.reject(new pe(X.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(t,r.Ls)}}function dR(n,e){const t=Ce(n),r=t.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let o=Ne();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function XE(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aR.bind(null,e),e.Pu.H_=Qx.bind(null,e.eventManager),e.Pu.yu=Xx.bind(null,e.eventManager),e}function fR(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uR.bind(null,e),e}class ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yx(this.persistence,new px,e.initialUser,this.serializer)}Cu(e){return new RE(om.mi,this.serializer)}Du(e){return new Ix}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ih.provider={build:()=>new ih};class pR extends ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new ZC(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new RE(r=>nh.mi(r,t),this.serializer)}}class yp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hR.bind(null,this.syncEngine),await qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kx}()}createDatastore(e){const t=Rh(e.databaseInfo.databaseId),r=function(a){return new Rx(a)}(e.databaseInfo);return function(a,u,d,f){return new Dx(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new Mx(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>x0(this.syncEngine,t,0),function(){return T0.v()?new T0:new Ax}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,v){const w=new eR(o,a,u,d,f,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Ce(t);ce(Fs,"RemoteStore shutting down."),r.Ea.add(5),await Yl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="FirestoreClient";class mR{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce(Wi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(Wi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bf(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Wi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await kE(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function k0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gR(n);ce(Wi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>I0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>I0(e.remoteStore,o)),n._onlineComponents=e}async function gR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Wi,"Using user provided OfflineComponentProvider");try{await bf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await bf(n,new ih)}}else ce(Wi,"Using default OfflineComponentProvider"),await bf(n,new pR(void 0));return n._offlineComponents}async function JE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Wi,"Using user provided OnlineComponentProvider"),await k0(n,n._uninitializedComponentsProvider._online)):(ce(Wi,"Using default OnlineComponentProvider"),await k0(n,new yp))),n._onlineComponents}function yR(n){return JE(n).then(e=>e.syncEngine)}async function ZE(n){const e=await JE(n),t=e.eventManager;return t.onListen=tR.bind(null,e.syncEngine),t.onUnlisten=iR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=nR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=sR.bind(null,e.syncEngine),t}function vR(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new YE({next:E=>{v.Nu(),u.enqueueAndForget(()=>BE(a,w));const A=E.docs.has(d);!A&&E.fromCache?m.reject(new pe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?m.reject(new pe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new zE(Zp(d.path),v,{includeMetadataChanges:!0,qa:!0});return UE(a,w)}(await ZE(n),n.asyncQueue,e,t,r)),r.promise}function _R(n,e,t={}){const r=new Wr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new YE({next:E=>{v.Nu(),u.enqueueAndForget(()=>BE(a,w)),E.fromCache&&f.source==="server"?m.reject(new pe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(E)},error:E=>m.reject(E)}),w=new zE(d,v,{includeMetadataChanges:!0,qa:!0});return UE(a,w)}(await ZE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firestore.googleapis.com",N0=!0;class D0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tT,this.ssl=N0}else this.host=e.host,this.ssl=e.ssl??N0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YC)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new IP;switch(r.type){case"firstParty":return new xP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=V0.get(t);r&&(ce("ComponentProvider","Removing Datastore"),V0.delete(t),r.terminate())}(this),Promise.resolve()}}function wR(n,e,t,r={}){n=Xr(n,Nh);const o=ua(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(Pw(`https://${d}`),Cw("Firestore",!0)),a.host!==tT&&a.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!Ls(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Gt.MOCK_USER;else{m=QI(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Gt(w)}n._authCredentials=new AP(new Bw(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Dh(this.firestore,e,this._query)}}class At{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Kl(t,At._jsonSchema))return new At(e,r||null,new ye(Xe.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:yt("string",At._jsonSchemaVersion),referencePath:yt("string")};class ji extends Dh{constructor(e,t,r){super(e,t,Zp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new ye(e))}withConverter(e){return new ji(this.firestore,e,this._path)}}function ER(n,e,...t){if(n=tn(n),zw("collection","path",e),n instanceof Nh){const r=Xe.fromString(e,...t);return Gv(r),new ji(n,null,r)}{if(!(n instanceof At||n instanceof ji))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return Gv(r),new ji(n.firestore,null,r)}}function vp(n,e,...t){if(n=tn(n),arguments.length===1&&(e=qp.newId()),zw("doc","path",e),n instanceof Nh){const r=Xe.fromString(e,...t);return qv(r),new At(n,null,new ye(r))}{if(!(n instanceof At||n instanceof ji))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xe.fromString(e,...t));return qv(r),new At(n.firestore,n instanceof ji?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="AsyncQueue";class M0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const r=Df();r&&ce(b0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Df();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Df();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fa(e))throw e;ce(b0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",L0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=fm.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function L0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ma extends Nh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new M0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new M0(e),this._firestoreClient=void 0,await e}}}function TR(n,e){const t=typeof n=="object"?n:Vw(),r=typeof n=="string"?n:Qc,o=Hp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=GI("firestore");a&&wR(o,...a)}return o}function vm(n){if(n._terminated)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SR(n),n._firestoreClient}function SR(n){const e=n._freezeSettings(),t=function(o,a,u,d){return new WP(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eT(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new mR(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ut.fromBase64String(e))}catch(t){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:yt("string",Mn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(Kl(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:yt("string",yr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kl(e,vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new vr(e.vectorValues);throw new pe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}vr._jsonSchemaVersion="firestore/vectorValue/1.0",vr._jsonSchema={type:yt("string",vr._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=/^__.*__$/;class AR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ql(e,this.data,t,this.fieldTransforms)}}class nT{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Qi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class wm{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new wm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(rT(this.Ac)&&IR.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class PR{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Rh(e)}Cc(e,t,r,o=!1){return new wm({Ac:e,methodName:t,Dc:r,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iT(n){const e=n._freezeSettings(),t=Rh(n._databaseId);return new PR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CR(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);Em("Data must be an object, but it was:",u,r);const d=sT(r,u);let f,m;if(a.merge)f=new wn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=_p(e,w,t);if(!u.contains(E))throw new pe(X.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);aT(v,E)||v.push(E)}f=new wn(v),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new AR(new dn(d),f,m)}class Mh extends _m{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function xR(n,e,t,r){const o=n.Cc(1,e,t);Em("Data must be an object, but it was:",o,r);const a=[],u=dn.empty();Ki(r,(f,m)=>{const v=Tm(e,f,t);m=tn(m);const w=o.yc(v);if(m instanceof Mh)a.push(v);else{const E=Lh(m,w);E!=null&&(a.push(v),u.set(v,E))}});const d=new wn(a);return new nT(u,d,o.fieldTransforms)}function RR(n,e,t,r,o,a){const u=n.Cc(1,e,t),d=[_p(e,r,t)],f=[o];if(a.length%2!=0)throw new pe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(_p(e,a[E])),f.push(a[E+1]);const m=[],v=dn.empty();for(let E=d.length-1;E>=0;--E)if(!aT(m,d[E])){const A=d[E];let O=f[E];O=tn(O);const F=u.yc(A);if(O instanceof Mh)m.push(A);else{const b=Lh(O,F);b!=null&&(m.push(A),v.set(A,b))}}const w=new wn(m);return new nT(v,w,u.fieldTransforms)}function Lh(n,e){if(oT(n=tn(n)))return Em("Unsupported field value:",e,n),sT(n,e);if(n instanceof _m)return function(r,o){if(!rT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=Lh(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=tn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:th(o.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(o.serializer,a)}}if(r instanceof yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:EE(o.serializer,r._byteString)};if(r instanceof At){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:im(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof vr)return function(u,d){return{mapValue:{fields:{[Yw]:{stringValue:Jw},[Xc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return em(d.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Gp(r)}`)}(n,e)}function sT(n,e){const t={};return Ww(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(n,(r,o)=>{const a=Lh(o,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function oT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof yr||n instanceof Mn||n instanceof At||n instanceof _m||n instanceof vr)}function Em(n,e,t){if(!oT(t)||!$w(t)){const r=Gp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function _p(n,e,t){if((e=tn(e))instanceof bh)return e._internalPath;if(typeof e=="string")return Tm(n,e);throw sh("Field path arguments must be of type string or ",n,!1,void 0,t)}const kR=new RegExp("[~\\*/\\[\\]]");function Tm(n,e,t){if(e.search(kR)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sh(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new pe(X.INVALID_ARGUMENT,d+n+f)}function aT(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VR extends lT{data(){return super.data()}}function uT(n,e){return typeof e=="string"?Tm(n,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DR{convertValue(e,t="none"){switch($i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ki(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[Xc].arrayValue?.values?.map(r=>ft(r.doubleValue));return new vr(t)}convertGeoPoint(e){return new yr(ft(e.latitude),ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Th(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const t=Bi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xe.fromString(e);ze(CE(r),9688,{name:e});const o=new Ll(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return o.isEqual(t)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class _l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ds extends lT{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(uT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ds._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ds._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ds._jsonSchema={type:yt("string",Ds._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class jc extends Ds{data(e={}){return super.data(e)}}class Ko{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _l(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jc(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _l(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new jc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _l(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:MR(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function MR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(n){n=Xr(n,At);const e=Xr(n.firestore,ma);return vR(vm(e),n._key).then(t=>OR(e,n,t))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:yt("string",Ko._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class cT extends DR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function LR(n){n=Xr(n,Dh);const e=Xr(n.firestore,ma),t=vm(e),r=new cT(e);return NR(n._query),_R(t,n._query).then(o=>new Ko(e,r,n,o))}function M4(n,e,t,...r){n=Xr(n,At);const o=Xr(n.firestore,ma),a=iT(o);let u;return u=typeof(e=tn(e))=="string"||e instanceof bh?RR(a,"updateDoc",n._key,e,t,r):xR(a,"updateDoc",n._key,e),Sm(o,[u.toMutation(n._key,er.exists(!0))])}function L4(n){return Sm(Xr(n.firestore,ma),[new tm(n._key,er.none())])}function O4(n,e){const t=Xr(n.firestore,ma),r=vp(n),o=bR(n.converter,e);return Sm(t,[CR(iT(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,er.exists(!1))]).then(()=>r)}function Sm(n,e){return function(r,o){const a=new Wr;return r.asyncQueue.enqueueAndForget(async()=>oR(await yR(r),o,a)),a.promise}(vm(n),e)}function OR(n,e,t){const r=t.docs.get(e._key),o=new cT(n);return new Ds(n,o,e._key,r,new _l(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ha=o})(ca),Jo(new Os("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new ma(new PP(r.getProvider("auth-internal")),new RP(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(m.options.projectId,v)}(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Li(zv,$v,e),Li(zv,$v,"esm2020")})();function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=hT,dT=new ql("auth","Firebase",hT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new zp("@firebase/auth");function FR(n,...e){oh.logLevel<=ke.WARN&&oh.warn(`Auth (${ca}): ${n}`,...e)}function Fc(n,...e){oh.logLevel<=ke.ERROR&&oh.error(`Auth (${ca}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(n,...e){throw Im(n,...e)}function _r(n,...e){return Im(n,...e)}function fT(n,e,t){const r={...jR(),[e]:t};return new ql("auth","Firebase",r).create(e,{appName:n.name})}function bs(n){return fT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Im(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dT.create(n,...e)}function Ie(n,e,...t){if(!n)throw Im(e,...t)}function $r(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function Zr(n,e){n||$r(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(){return typeof self<"u"&&self.location?.href||""}function UR(){return j0()==="http:"||j0()==="https:"}function j0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UR()||tA()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Zr(t>e,"Short delay should be less than long delay!"),this.isMobile=JI()||nA()}get(){return BR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(n,e){Zr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WR=new Zl(3e4,6e4);function Pm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function ga(n,e,t,r,o={}){return mT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Gl({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return eA()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ua(n.emulatorConfig.host)&&(m.credentials="include"),pT.fetch()(await gT(n,n.config.apiHost,t,d),m)})}async function mT(n,e,t){n._canInitEmulator=!1;const r={...$R,...e};try{const o=new GR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Cc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Cc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Cc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw fT(n,v,m);Jr(n,v)}}catch(o){if(o instanceof ti)throw o;Jr(n,"network-request-failed",{message:String(o)})}}async function qR(n,e,t,r,o={}){const a=await ga(n,e,t,r,o);return"mfaPendingCredential"in a&&Jr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function gT(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Am(n.config,o):`${n.config.apiScheme}://${o}`;return HR.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}class GR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),WR.get())})}}function Cc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=_r(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR(n,e){return ga(n,"POST","/v1/accounts:delete",e)}async function ah(n,e){return ga(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QR(n,e=!1){const t=tn(n),r=await t.getIdToken(e),o=Cm(r);Ie(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:xl(Mf(o.auth_time)),issuedAtTime:xl(Mf(o.iat)),expirationTime:xl(Mf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Mf(n){return Number(n)*1e3}function Cm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Tw(t);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function F0(n){const e=Cm(n);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ti&&XR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function XR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(n){const e=n.auth,t=await n.getIdToken(),r=await Ul(n,ah(e,{idToken:t}));Ie(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?yT(o.providerUserInfo):[],u=ZR(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function JR(n){const e=tn(n);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function yT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(n,e){const t=await mT(n,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await gT(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ua(n.emulatorConfig.host)&&(f.credentials="include"),pT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function t2(n,e){return ga(n,"POST","/v2/accounts:revokeToken",Pm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const t=F0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await e2(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qo;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ie(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ie(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(n,e){Ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new YR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return QR(this,e)}reload(){return JR(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fr(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Ul(this,KR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:E,isAnonymous:A,providerData:O,stsTokenManager:F}=t;Ie(w&&F,e,"internal-error");const b=Qo.fromJSON(this.name,F);Ie(typeof w=="string",e,"internal-error"),Ci(r,e.name),Ci(o,e.name),Ie(typeof E=="boolean",e,"internal-error"),Ie(typeof A=="boolean",e,"internal-error"),Ci(a,e.name),Ci(u,e.name),Ci(d,e.name),Ci(f,e.name),Ci(m,e.name),Ci(v,e.name);const W=new Zn({uid:w,auth:e,email:o,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:b,createdAt:m,lastLoginAt:v});return O&&Array.isArray(O)&&(W.providerData=O.map(G=>({...G}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qo;o.updateFromServerResponse(t);const a=new Zn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await lh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ie(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?yT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Qo;d.updateFromIdToken(r);const f=new Zn({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new Map;function Hr(n){Zr(n instanceof Function,"Expected a class definition");let e=U0.get(n);return e?(Zr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,U0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vT.type="NONE";const B0=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n,e,t){return`firebase:${n}:${e}:${t}`}class Xo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,a),this.fullPersistenceKey=Uc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ah(this.auth,{idToken:e}).catch(()=>{});return t?Zn._fromGetAccountInfoResponse(this.auth,t,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Xo(Hr(B0),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||Hr(B0);const u=Uc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const E=await ah(e,{idToken:v}).catch(()=>{});if(!E)break;w=await Zn._fromGetAccountInfoResponse(e,E,v)}else w=Zn._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Xo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Xo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(AT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||ET(e))&&!e.includes("edge/"))return"Chrome";if(ST(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function _T(n=Xt()){return/firefox\//i.test(n)}function wT(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ET(n=Xt()){return/crios\//i.test(n)}function TT(n=Xt()){return/iemobile/i.test(n)}function ST(n=Xt()){return/android/i.test(n)}function IT(n=Xt()){return/blackberry/i.test(n)}function AT(n=Xt()){return/webos/i.test(n)}function xm(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function n2(n=Xt()){return xm(n)&&!!window.navigator?.standalone}function r2(){return rA()&&document.documentMode===10}function PT(n=Xt()){return xm(n)||ST(n)||AT(n)||IT(n)||/windows phone/i.test(n)||TT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(n,e=[]){let t;switch(n){case"Browser":t=z0(Xt());break;case"Worker":t=`${z0(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(n,e={}){return ga(n,"GET","/v2/passwordPolicy",Pm(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=6;class a2{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??o2,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $0(this),this.idTokenSubscription=new $0(this),this.beforeStateQueue=new i2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Hr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ah(this,{idToken:e}),r=await Zn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fr(this.app))return Promise.reject(bs(this));const t=e?tn(e):null;return t&&Ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fr(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fr(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s2(this),t=new a2(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await t2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Hr(e)||this._popupRedirectResolver;Ie(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&FR(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Rm(n){return tn(n)}class $0{constructor(e){this.auth=e,this.observer=null,this.addObserver=hA(t=>this.observer=t)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(n){km=n}function c2(n){return km.loadJS(n)}function h2(){return km.gapiScript}function d2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n,e){const t=Hp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Ls(a,e??{}))return o;Jr(o,"already-initialized")}return t.initialize({options:e})}function p2(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Hr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function m2(n,e,t){const r=Rm(n);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=xT(e),{host:u,port:d}=g2(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ls(m,r.config.emulator)&&Ls(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ua(u)?(Pw(`${a}//${u}${f}`),Cw("Auth",!0)):y2()}function xT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function g2(n){const e=xT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:H0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:H0(u)}}}function H0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function y2(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,t){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(n,e){return qR(n,"POST","/v1/accounts:signInWithIdp",Pm(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="http://localhost";class Us extends RT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Us(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Yo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Yo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Yo(e,t)}buildRequest(){const e={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends kT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends eu{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Us._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends eu{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends eu{constructor(){super("twitter.com")}static credential(e,t){return Us._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ni.credential(t,r)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await Zn._fromIdTokenResponse(e,r,o),u=W0(r);return new sa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=W0(r);return new sa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function W0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends ti{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new uh(e,t,r,o)}}function VT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(n,a,e,r):a})}async function _2(n,e,t=!1){const r=await Ul(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return sa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(n,e,t=!1){const{auth:r}=n;if(fr(r.app))return Promise.reject(bs(r));const o="reauthenticate";try{const a=await Ul(n,VT(r,o,e,n),t);Ie(a.idToken,r,"internal-error");const u=Cm(a.idToken);Ie(u,r,"internal-error");const{sub:d}=u;return Ie(n.uid===d,r,"user-mismatch"),sa._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&Jr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E2(n,e,t=!1){if(fr(n.app))return Promise.reject(bs(n));const r="signIn",o=await VT(n,r,e),a=await sa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function T2(n,e,t,r){return tn(n).onIdTokenChanged(e,t,r)}function S2(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function j4(n,e,t,r){return tn(n).onAuthStateChanged(e,t,r)}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=1e3,A2=10;class DT extends NT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);r2()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,A2):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DT.type="LOCAL";const P2=DT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends NT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}bT.type="SESSION";const MT=bT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await C2(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=Vm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const E=w;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function R2(n){wr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function k2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function V2(){return navigator?.serviceWorker?.controller||null}function N2(){return LT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",D2=1,hh="firebaseLocalStorage",jT="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function jh(n,e){return n.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function b2(){const n=indexedDB.deleteDatabase(OT);return new tu(n).toPromise()}function Tp(){const n=indexedDB.open(OT,D2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(hh,{keyPath:jT})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(hh)?e(r):(r.close(),await b2(),e(await Tp()))})})}async function q0(n,e,t){const r=jh(n,!0).put({[jT]:e,value:t});return new tu(r).toPromise()}async function M2(n,e){const t=jh(n,!1).get(e),r=await new tu(t).toPromise();return r===void 0?null:r.value}function G0(n,e){const t=jh(n,!0).delete(e);return new tu(t).toPromise()}const L2=800,O2=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>O2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(N2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await k2(),!this.activeServiceWorker)return;this.sender=new x2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||V2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tp();return await q0(e,ch,"1"),await G0(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>M2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>G0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=jh(o,!1).getAll();return new tu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const j2=FT;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n,e){return e?Hr(e):(Ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm extends RT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function U2(n){return E2(n.auth,new Nm(n),n.bypassAuthState)}function B2(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),w2(t,new Nm(n),n.bypassAuthState)}async function z2(n){const{auth:e,user:t}=n;return Ie(t,e,"internal-error"),_2(t,new Nm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return U2;case"linkViaPopup":case"linkViaRedirect":return z2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:Jr(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new Zl(2e3,1e4);class Bo extends UT{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$2.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="pendingRedirect",Bc=new Map;class W2 extends UT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await q2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q2(n,e){const t=Q2(e),r=K2(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function G2(n,e){Bc.set(n._key(),e)}function K2(n){return Hr(n._redirectPersistence)}function Q2(n){return Uc(H2,n.config.apiKey,n.name)}async function X2(n,e,t=!1){if(fr(n.app))return Promise.reject(bs(n));const r=Rm(n),o=F2(r,e),u=await new W2(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=600*1e3;class J2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Z2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!BT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_r(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BT({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Z2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(n,e={}){return ga(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nk=/^https?/;async function rk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await ek(n);for(const t of e)try{if(ik(t))return}catch{}Jr(n,"unauthorized-domain")}function ik(n){const e=wp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!nk.test(t))return!1;if(tk.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=new Zl(3e4,6e4);function Q0(){const n=wr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ok(n){return new Promise((e,t)=>{function r(){Q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q0(),t(_r(n,"network-request-failed"))},timeout:sk.get()})}if(wr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wr().gapi?.load)r();else{const o=d2("iframefcb");return wr()[o]=()=>{gapi.load?r():t(_r(n,"network-request-failed"))},c2(`${h2()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw zc=null,e})}let zc=null;function ak(n){return zc=zc||ok(n),zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Zl(5e3,15e3),uk="__/auth/iframe",ck="emulator/auth/iframe",hk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fk(n){const e=n.config;Ie(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Am(e,ck):`https://${n.config.authDomain}/${uk}`,r={apiKey:e.apiKey,appName:n.name,v:ca},o=dk.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Gl(r).slice(1)}`}async function pk(n){const e=await ak(n),t=wr().gapi;return Ie(t,n,"internal-error"),e.open({where:document.body,url:fk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hk,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=_r(n,"network-request-failed"),d=wr().setTimeout(()=>{a(u)},lk.get());function f(){wr().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gk=500,yk=600,vk="_blank",_k="http://localhost";class X0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wk(n,e,t,r=gk,o=yk){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...mk,width:r.toString(),height:o.toString(),top:a,left:u},m=Xt().toLowerCase();t&&(d=ET(m)?vk:t),_T(m)&&(e=e||_k,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[A,O])=>`${E}${A}=${O},`,"");if(n2(m)&&d!=="_self")return Ek(e||"",d),new X0(null);const w=window.open(e||"",d,v);Ie(w,n,"popup-blocked");try{w.focus()}catch{}return new X0(w)}function Ek(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="__/auth/handler",Sk="emulator/auth/handler",Ik=encodeURIComponent("fac");async function Y0(n,e,t,r,o,a){Ie(n.config.authDomain,n,"auth-domain-config-required"),Ie(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ca,eventId:o};if(e instanceof kT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",cA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof eu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${Ik}=${encodeURIComponent(f)}`:"";return`${Ak(n)}?${Gl(d).slice(1)}${m}`}function Ak({config:n}){return n.emulator?Am(n,Sk):`https://${n.authDomain}/${Tk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="webStorageSupport";class Pk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=X2,this._overrideRedirectResult=G2}async _openPopup(e,t,r,o){Zr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Y0(e,t,r,wp(),o);return wk(e,a,Vm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await Y0(e,t,r,wp(),o);return R2(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Zr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await pk(e),r=new J2(e);return t.register("authEvent",o=>(Ie(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Lf,{type:Lf},o=>{const a=o?.[0]?.[Lf];a!==void 0&&t(!!a),Jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PT()||wT()||xm()}}const Ck=Pk;var J0="@firebase/auth",Z0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kk(n){Jo(new Os("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CT(n)},m=new l2(r,o,a,f);return p2(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Os("auth-internal",e=>{const t=Rm(e.getProvider("auth").getImmediate());return(r=>new xk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(J0,Z0,Rk(n)),Li(J0,Z0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=300,Nk=Aw("authIdTokenMaxAge")||Vk;let e_=null;const Dk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Nk)return;const o=t?.token;e_!==o&&(e_=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bk(n=Vw()){const e=Hp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=f2(n,{popupRedirectResolver:Ck,persistence:[j2,P2,MT]}),r=Aw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Dk(a.toString());S2(t,u,()=>u(t.currentUser)),T2(t,d=>u(d))}}const o=Sw("auth");return o&&m2(t,`http://${o}`),t}function Mk(){return document.getElementsByTagName("head")?.[0]??document}u2({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=_r("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",Mk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kk("Browser");const Dm=ee.createContext({});function bm(n){const e=ee.useRef(null);return e.current===null&&(e.current=n()),e.current}const Fh=ee.createContext(null),Mm=ee.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Lk extends ee.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ok({children:n,isPresent:e}){const t=ee.useId(),r=ee.useRef(null),o=ee.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=ee.useContext(Mm);return ee.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m}=o.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const v=document.createElement("style");return a&&(v.nonce=a),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),C.jsx(Lk,{isPresent:e,childRef:r,sizeRef:o,children:ee.cloneElement(n,{ref:r})})}const jk=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u})=>{const d=bm(Fk),f=ee.useId(),m=ee.useCallback(w=>{d.set(w,!0);for(const E of d.values())if(!E)return;r&&r()},[d,r]),v=ee.useMemo(()=>({id:f,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(d.set(w,!1),()=>d.delete(w))}),a?[Math.random(),m]:[t,m]);return ee.useMemo(()=>{d.forEach((w,E)=>d.set(E,!1))},[t]),ee.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=C.jsx(Ok,{isPresent:t,children:n})),C.jsx(Fh.Provider,{value:v,children:n})};function Fk(){return new Map}function zT(n=!0){const e=ee.useContext(Fh);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=ee.useId();ee.useEffect(()=>{n&&o(a)},[n]);const u=ee.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const xc=n=>n.key||"";function t_(n){const e=[];return ee.Children.forEach(n,t=>{ee.isValidElement(t)&&e.push(t)}),e}const Lm=typeof window<"u",$T=Lm?ee.useLayoutEffect:ee.useEffect,Uh=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=zT(u),m=ee.useMemo(()=>t_(n),[n]),v=u&&!d?[]:m.map(xc),w=ee.useRef(!0),E=ee.useRef(m),A=bm(()=>new Map),[O,F]=ee.useState(m),[b,W]=ee.useState(m);$T(()=>{w.current=!1,E.current=m;for(let oe=0;oe<b.length;oe++){const ne=xc(b[oe]);v.includes(ne)?A.delete(ne):A.get(ne)!==!0&&A.set(ne,!1)}},[b,v.length,v.join("-")]);const G=[];if(m!==O){let oe=[...m];for(let ne=0;ne<b.length;ne++){const ae=b[ne],k=xc(ae);v.includes(k)||(oe.splice(ne,0,ae),G.push(ae))}a==="wait"&&G.length&&(oe=G),W(t_(oe)),F(m);return}const{forceRender:Q}=ee.useContext(Dm);return C.jsx(C.Fragment,{children:b.map(oe=>{const ne=xc(oe),ae=u&&!d?!1:m===b||v.includes(ne),k=()=>{if(A.has(ne))A.set(ne,!0);else return;let I=!0;A.forEach(x=>{x||(I=!1)}),I&&(Q?.(),W(E.current),u&&f?.(),r&&r())};return C.jsx(jk,{isPresent:ae,initial:!w.current||t?void 0:!1,custom:ae?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:ae?void 0:k,children:oe},ne)})})},En=n=>n;let HT=En;function Om(n){let e;return()=>(e===void 0&&(e=n()),e)}const oa=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},qr=n=>n*1e3,Gr=n=>n/1e3,Uk={useManualTiming:!1};function Bk(n){let e=new Set,t=new Set,r=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,v=!1,w=!1)=>{const A=w&&r?e:t;return v&&a.add(m),A.has(m)||A.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const Rc=["read","resolveKeyframes","update","preRender","render","postRender"],zk=40;function WT(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Rc.reduce((W,G)=>(W[G]=Bk(a),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:v,render:w,postRender:E}=u,A=()=>{const W=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,zk),1),o.timestamp=W,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),v.process(o),w.process(o),E.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(A))},O=()=>{t=!0,r=!0,o.isProcessing||n(A)};return{schedule:Rc.reduce((W,G)=>{const Q=u[G];return W[G]=(oe,ne=!1,ae=!1)=>(t||O(),Q.schedule(oe,ne,ae)),W},{}),cancel:W=>{for(let G=0;G<Rc.length;G++)u[Rc[G]].cancel(W)},state:o,steps:u}}const{schedule:Je,cancel:qi,state:Ot,steps:Of}=WT(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),jm=ee.createContext({strict:!1}),n_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const n in n_)aa[n]={isEnabled:e=>n_[n].some(t=>!!e[t])};function Sp(n){for(const e in n)aa[e]={...aa[e],...n[e]}}function $k({children:n,features:e,strict:t=!1}){const[,r]=ee.useState(!jf(e)),o=ee.useRef(void 0);if(!jf(e)){const{renderer:a,...u}=e;o.current=a,Sp(u)}return ee.useEffect(()=>{jf(e)&&e().then(({renderer:a,...u})=>{Sp(u),o.current=a,r(!0)})},[]),C.jsx(jm.Provider,{value:{renderer:o.current,strict:t},children:n})}function jf(n){return typeof n=="function"}const Hk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Hk.has(n)}let qT=n=>!dh(n);function Wk(n){n&&(qT=e=>e.startsWith("on")?!dh(e):n(e))}try{Wk(require("@emotion/is-prop-valid").default)}catch{}function qk(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(qT(o)||t===!0&&dh(o)||!e&&!dh(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function Gk(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Bh=ee.createContext({});function Bl(n){return typeof n=="string"||Array.isArray(n)}function zh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Fm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Um=["initial",...Fm];function $h(n){return zh(n.animate)||Um.some(e=>Bl(n[e]))}function GT(n){return!!($h(n)||n.variants)}function Kk(n,e){if($h(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Bl(t)?t:void 0,animate:Bl(r)?r:void 0}}return n.inherit!==!1?e:{}}function Qk(n){const{initial:e,animate:t}=Kk(n,ee.useContext(Bh));return ee.useMemo(()=>({initial:e,animate:t}),[r_(e),r_(t)])}function r_(n){return Array.isArray(n)?n.join(" "):n}const Xk=Symbol.for("motionComponentSymbol");function zo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Yk(n,e,t){return ee.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):zo(t)&&(t.current=r))},[e])}const Bm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jk="framerAppearId",KT="data-"+Bm(Jk),{schedule:zm}=WT(queueMicrotask,!1),QT=ee.createContext({});function Zk(n,e,t,r,o){var a,u;const{visualElement:d}=ee.useContext(Bh),f=ee.useContext(jm),m=ee.useContext(Fh),v=ee.useContext(Mm).reducedMotion,w=ee.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const E=w.current,A=ee.useContext(QT);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&eV(w.current,t,o,A);const O=ee.useRef(!1);ee.useInsertionEffect(()=>{E&&O.current&&E.update(t,m)});const F=t[KT],b=ee.useRef(!!F&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,F))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,F)));return $T(()=>{E&&(O.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),zm.render(E.render),b.current&&E.animationState&&E.animationState.animateChanges())}),ee.useEffect(()=>{E&&(!b.current&&E.animationState&&E.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,F)}),b.current=!1))}),E}function eV(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:XT(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&zo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function XT(n){if(n)return n.options.allowProjection!==!1?n.projection:XT(n.parent)}function tV({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){var a,u;n&&Sp(n);function d(m,v){let w;const E={...ee.useContext(Mm),...m,layoutId:nV(m)},{isStatic:A}=E,O=Qk(m),F=r(m,A);if(!A&&Lm){rV();const b=iV(E);w=b.MeasureLayout,O.visualElement=Zk(o,F,E,e,b.ProjectionNode)}return C.jsxs(Bh.Provider,{value:O,children:[w&&O.visualElement?C.jsx(w,{visualElement:O.visualElement,...E}):null,t(o,m,Yk(F,O.visualElement,v),F,A,O.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=ee.forwardRef(d);return f[Xk]=o,f}function nV({layoutId:n}){const e=ee.useContext(Dm).id;return e&&n!==void 0?e+"-"+n:n}function rV(n,e){ee.useContext(jm).strict}function iV(n){const{drag:e,layout:t}=aa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const sV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $m(n){return typeof n!="string"||n.includes("-")?!1:!!(sV.indexOf(n)>-1||/[A-Z]/u.test(n))}function i_(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Hm(n,e,t,r){if(typeof e=="function"){const[o,a]=i_(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=i_(r);e=e(t!==void 0?t:n.custom,o,a)}return e}const Ip=n=>Array.isArray(n),oV=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),aV=n=>Ip(n)?n[n.length-1]||0:n,Qt=n=>!!(n&&n.getVelocity);function $c(n){const e=Qt(n)?n.get():n;return oV(e)?e.toValue():e}function lV({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,o,a){const u={latestValues:uV(r,o,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const YT=n=>(e,t)=>{const r=ee.useContext(Bh),o=ee.useContext(Fh),a=()=>lV(n,e,r,o);return t?a():bm(a)};function uV(n,e,t,r){const o={},a=r(n,{});for(const E in a)o[E]=$c(a[E]);let{initial:u,animate:d}=n;const f=$h(n),m=GT(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?d:u;if(w&&typeof w!="boolean"&&!zh(w)){const E=Array.isArray(w)?w:[w];for(let A=0;A<E.length;A++){const O=Hm(n,E[A]);if(O){const{transitionEnd:F,transition:b,...W}=O;for(const G in W){let Q=W[G];if(Array.isArray(Q)){const oe=v?Q.length-1:0;Q=Q[oe]}Q!==null&&(o[G]=Q)}for(const G in F)o[G]=F[G]}}}return o}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$s=new Set(ya),JT=n=>e=>typeof e=="string"&&e.startsWith(n),ZT=JT("--"),cV=JT("var(--"),Wm=n=>cV(n)?hV.test(n.split("/*")[0].trim()):!1,hV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,e1=(n,e)=>e&&typeof n=="number"?e.transform(n):n,ei=(n,e,t)=>t>e?e:t<n?n:t,va={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},zl={...va,transform:n=>ei(0,1,n)},kc={...va,default:1},nu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),xi=nu("deg"),Er=nu("%"),we=nu("px"),dV=nu("vh"),fV=nu("vw"),s_={...Er,parse:n=>Er.parse(n)/100,transform:n=>Er.transform(n*100)},pV={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},mV={rotate:xi,rotateX:xi,rotateY:xi,rotateZ:xi,scale:kc,scaleX:kc,scaleY:kc,scaleZ:kc,skew:xi,skewX:xi,skewY:xi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:zl,originX:s_,originY:s_,originZ:we},o_={...va,transform:Math.round},qm={...pV,...mV,zIndex:o_,size:we,fillOpacity:zl,strokeOpacity:zl,numOctaves:o_},gV={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yV=ya.length;function vV(n,e,t){let r="",o=!0;for(let a=0;a<yV;a++){const u=ya[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=e1(d,qm[u]);if(!f){o=!1;const v=gV[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function Gm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if($s.has(f)){u=!0;continue}else if(ZT(f)){o[f]=m;continue}else{const v=e1(m,qm[f]);f.startsWith("origin")?(d=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=vV(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${m} ${v}`}}const _V={offset:"stroke-dashoffset",array:"stroke-dasharray"},wV={offset:"strokeDashoffset",array:"strokeDasharray"};function EV(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?_V:wV;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function a_(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function TV(n,e,t){const r=a_(e,n.x,n.width),o=a_(t,n.y,n.height);return`${r} ${o}`}function Km(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},v,w){if(Gm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:A,dimensions:O}=n;E.transform&&(O&&(A.transform=E.transform),delete E.transform),O&&(o!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=TV(O,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),u!==void 0&&EV(E,u,d,f,!1)}const Qm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),t1=()=>({...Qm(),attrs:{}}),Xm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function n1(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const r1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i1(n,e,t,r){n1(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(r1.has(o)?o:Bm(o),e.attrs[o])}const fh={};function SV(n){Object.assign(fh,n)}function s1(n,{layout:e,layoutId:t}){return $s.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!fh[n]||n==="opacity")}function Ym(n,e,t){var r;const{style:o}=n,a={};for(const u in o)(Qt(o[u])||e.style&&Qt(e.style[u])||s1(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function o1(n,e,t){const r=Ym(n,e,t);for(const o in n)if(Qt(n[o])||Qt(e[o])){const a=ya.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}function IV(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const l_=["x","y","width","height","cx","cy","r"],AV={useVisualState:YT({scrapeMotionValuesFromProps:o1,createRenderState:t1,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:o})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in o)if($s.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<l_.length;d++){const f=l_[d];n[f]!==e[f]&&(u=!0)}u&&Je.read(()=>{IV(t,r),Je.render(()=>{Km(r,o,Xm(t.tagName),n.transformTemplate),i1(t,r)})})}})},PV={useVisualState:YT({scrapeMotionValuesFromProps:Ym,createRenderState:Qm})};function a1(n,e,t){for(const r in e)!Qt(e[r])&&!s1(r,t)&&(n[r]=e[r])}function CV({transformTemplate:n},e){return ee.useMemo(()=>{const t=Qm();return Gm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function xV(n,e){const t=n.style||{},r={};return a1(r,t,n),Object.assign(r,CV(n,e)),r}function RV(n,e){const t={},r=xV(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function kV(n,e,t,r){const o=ee.useMemo(()=>{const a=t1();return Km(a,e,Xm(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};a1(a,n.style,n),o.style={...a,...o.style}}return o}function VV(n=!1){return(t,r,o,{latestValues:a},u)=>{const f=($m(t)?kV:RV)(r,a,u,t),m=qk(r,typeof t=="string",n),v=t!==ee.Fragment?{...m,...f,ref:o}:{},{children:w}=r,E=ee.useMemo(()=>Qt(w)?w.get():w,[w]);return ee.createElement(t,{...v,children:E})}}function NV(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...$m(r)?AV:PV,preloadedFeatures:n,useRender:VV(o),createVisualElement:e,Component:r};return tV(u)}}function l1(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Hh(n,e,t){const r=n.getProps();return Hm(r,e,t!==void 0?t:r.custom,n)}const DV=Om(()=>window.ScrollTimeline!==void 0);class bV{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(o=>{if(DV()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class MV extends bV{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Jm(n,e){return n?n[e]||n.default||n:void 0}const Ap=2e4;function u1(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Ap;)e+=t,r=n.next(e);return e>=Ap?1/0:e}function Zm(n){return typeof n=="function"}function u_(n,e){n.timeline=e,n.onfinish=null}const eg=n=>Array.isArray(n)&&typeof n[0]=="number",LV={linearEasing:void 0};function OV(n,e){const t=Om(n);return()=>{var r;return(r=LV[e])!==null&&r!==void 0?r:t()}}const ph=OV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),c1=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=n(oa(0,o-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function h1(n){return!!(typeof n=="function"&&ph()||!n||typeof n=="string"&&(n in Pp||ph())||eg(n)||Array.isArray(n)&&n.every(h1))}const wl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Pp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wl([0,.65,.55,1]),circOut:wl([.55,0,1,.45]),backIn:wl([.31,.01,.66,-.59]),backOut:wl([.33,1.53,.69,.99])};function d1(n,e){if(n)return typeof n=="function"&&ph()?c1(n,e):eg(n)?wl(n):Array.isArray(n)?n.map(t=>d1(t,e)||Pp.easeOut):Pp[n]}const Yn={x:!1,y:!1};function f1(){return Yn.x||Yn.y}function p1(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const a=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function m1(n,e){const t=p1(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function c_(n){return e=>{e.pointerType==="touch"||f1()||n(e)}}function jV(n,e,t={}){const[r,o,a]=m1(n,t),u=c_(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const v=c_(w=>{m(w),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,o)});return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const g1=(n,e)=>e?n===e?!0:g1(n,e.parentElement):!1,tg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,FV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function UV(n){return FV.has(n.tagName)||n.tabIndex!==-1}const El=new WeakSet;function h_(n){return e=>{e.key==="Enter"&&n(e)}}function Ff(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BV=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=h_(()=>{if(El.has(t))return;Ff(t,"down");const o=h_(()=>{Ff(t,"up")}),a=()=>Ff(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function d_(n){return tg(n)&&!f1()}function zV(n,e,t={}){const[r,o,a]=m1(n,t),u=d=>{const f=d.currentTarget;if(!d_(d)||El.has(f))return;El.add(f);const m=e(d),v=(A,O)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",E),!(!d_(A)||!El.has(f))&&(El.delete(f),typeof m=="function"&&m(A,{success:O}))},w=A=>{v(A,t.useGlobalTarget||g1(f,A.target))},E=A=>{v(A,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",E,o)};return r.forEach(d=>{!UV(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",m=>BV(m,o),o)}),a}function $V(n){return n==="x"||n==="y"?Yn[n]?null:(Yn[n]=!0,()=>{Yn[n]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}const y1=new Set(["width","height","top","left","right","bottom",...ya]);let Hc;function HV(){Hc=void 0}const Tr={now:()=>(Hc===void 0&&Tr.set(Ot.isProcessing||Uk.useManualTiming?Ot.timestamp:performance.now()),Hc),set:n=>{Hc=n,queueMicrotask(HV)}};function ng(n,e){n.indexOf(e)===-1&&n.push(e)}function rg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class ig{constructor(){this.subscriptions=[]}add(e){return ng(this.subscriptions,e),()=>rg(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function v1(n,e){return e?n*(1e3/e):0}const f_=30,WV=n=>!isNaN(parseFloat(n));class qV{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const a=Tr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Tr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=WV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ig);const r=this.events[e].add(t);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Tr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>f_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,f_);return v1(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(n,e){return new qV(n,e)}function GV(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,$l(t))}function KV(n,e){const t=Hh(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=aV(a[u]);GV(n,u,d)}}function QV(n){return!!(Qt(n)&&n.add)}function Cp(n,e){const t=n.getValue("willChange");if(QV(t))return t.add(e)}function _1(n){return n.props[KT]}const w1=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,XV=1e-7,YV=12;function JV(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=w1(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>XV&&++d<YV);return u}function ru(n,e,t,r){if(n===e&&t===r)return En;const o=a=>JV(a,0,1,n,t);return a=>a===0||a===1?a:w1(o(a),e,r)}const E1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,T1=n=>e=>1-n(1-e),S1=ru(.33,1.53,.69,.99),sg=T1(S1),I1=E1(sg),A1=n=>(n*=2)<1?.5*sg(n):.5*(2-Math.pow(2,-10*(n-1))),og=n=>1-Math.sin(Math.acos(n)),P1=T1(og),C1=E1(og),x1=n=>/^0[^.\s]+$/u.test(n);function ZV(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||x1(n):!0}const Rl=n=>Math.round(n*1e5)/1e5,ag=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eN(n){return n==null}const tN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lg=(n,e)=>t=>!!(typeof t=="string"&&tN.test(t)&&t.startsWith(n)||e&&!eN(t)&&Object.prototype.hasOwnProperty.call(t,e)),R1=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(ag);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},nN=n=>ei(0,255,n),Uf={...va,transform:n=>Math.round(nN(n))},Ns={test:lg("rgb","red"),parse:R1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Uf.transform(n)+", "+Uf.transform(e)+", "+Uf.transform(t)+", "+Rl(zl.transform(r))+")"};function rN(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const xp={test:lg("#"),parse:rN,transform:Ns.transform},$o={test:lg("hsl","hue"),parse:R1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Er.transform(Rl(e))+", "+Er.transform(Rl(t))+", "+Rl(zl.transform(r))+")"},qt={test:n=>Ns.test(n)||xp.test(n)||$o.test(n),parse:n=>Ns.test(n)?Ns.parse(n):$o.test(n)?$o.parse(n):xp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ns.transform(n):$o.transform(n)},iN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sN(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(ag))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(iN))===null||t===void 0?void 0:t.length)||0)>0}const k1="number",V1="color",oN="var",aN="var(",p_="${}",lN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Hl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(lN,f=>(qt.test(f)?(r.color.push(a),o.push(V1),t.push(qt.parse(f))):f.startsWith(aN)?(r.var.push(a),o.push(oN),t.push(f)):(r.number.push(a),o.push(k1),t.push(parseFloat(f))),++a,p_)).split(p_);return{values:t,split:d,indexes:r,types:o}}function N1(n){return Hl(n).values}function D1(n){const{split:e,types:t}=Hl(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===k1?a+=Rl(o[u]):d===V1?a+=qt.transform(o[u]):a+=o[u]}return a}}const uN=n=>typeof n=="number"?0:n;function cN(n){const e=N1(n);return D1(n)(e.map(uN))}const Gi={test:sN,parse:N1,createTransformer:D1,getAnimatableNone:cN},hN=new Set(["brightness","contrast","saturate","opacity"]);function dN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ag)||[];if(!r)return n;const o=t.replace(r,"");let a=hN.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const fN=/\b([a-z-]*)\(.*?\)/gu,Rp={...Gi,getAnimatableNone:n=>{const e=n.match(fN);return e?e.map(dN).join(" "):n}},pN={...qm,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Rp,WebkitFilter:Rp},ug=n=>pN[n];function b1(n,e){let t=ug(n);return t!==Rp&&(t=Gi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const mN=new Set(["auto","none","0"]);function gN(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!mN.has(a)&&Hl(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=b1(t,o)}const m_=n=>n===va||n===we,g_=(n,e)=>parseFloat(n.split(", ")[e]),y_=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return g_(o[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?g_(a[1],n):0}},yN=new Set(["x","y","z"]),vN=ya.filter(n=>!yN.has(n));function _N(n){const e=[];return vN.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const la={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:y_(4,13),y:y_(5,14)};la.translateX=la.x;la.translateY=la.y;const Ms=new Set;let kp=!1,Vp=!1;function M1(){if(Vp){const n=Array.from(Ms).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=_N(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vp=!1,kp=!1,Ms.forEach(n=>n.complete()),Ms.clear()}function L1(){Ms.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vp=!0)})}function wN(){L1(),M1()}class cg{constructor(e,t,r,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ms.add(this),kp||(kp=!0,Je.read(L1),Je.resolveKeyframes(M1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ms.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ms.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const O1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),EN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TN(n){const e=EN.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function j1(n,e,t=1){const[r,o]=TN(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return O1(u)?parseFloat(u):u}return Wm(o)?j1(o,e,t+1):o}const F1=n=>e=>e.test(n),SN={test:n=>n==="auto",parse:n=>n},U1=[va,we,Er,xi,fV,dV,SN],v_=n=>U1.find(F1(n));class B1 extends cg{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Wm(m))){const v=j1(m,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!y1.has(r)||e.length!==2)return;const[o,a]=e,u=v_(o),d=v_(a);if(u!==d)if(m_(u)&&m_(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)ZV(e[o])&&r.push(o);r.length&&gN(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=la[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=la[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const __=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Gi.test(n)||n==="0")&&!n.startsWith("url("));function IN(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function AN(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=__(o,e),d=__(a,e);return!u||!d?!1:IN(n)||(t==="spring"||Zm(t))&&r}const PN=n=>n!==null;function Wh(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(PN),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const CN=40;class z1{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Tr.now(),this.options={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wN(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Tr.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!AN(e,r,o,a))if(u)this.options.duration=0;else{f&&f(Wh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(n,e,t)=>n+(e-n)*t;function Bf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function xN({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Bf(f,d,n+1/3),a=Bf(f,d,n),u=Bf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function mh(n,e){return t=>t>0?e:n}const zf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},RN=[xp,Ns,$o],kN=n=>RN.find(e=>e.test(n));function w_(n){const e=kN(n);if(!e)return!1;let t=e.parse(n);return e===$o&&(t=xN(t)),t}const E_=(n,e)=>{const t=w_(n),r=w_(e);if(!t||!r)return mh(n,e);const o={...t};return a=>(o.red=zf(t.red,r.red,a),o.green=zf(t.green,r.green,a),o.blue=zf(t.blue,r.blue,a),o.alpha=rt(t.alpha,r.alpha,a),Ns.transform(o))},VN=(n,e)=>t=>e(n(t)),iu=(...n)=>n.reduce(VN),Np=new Set(["none","hidden"]);function NN(n,e){return Np.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function DN(n,e){return t=>rt(n,e,t)}function hg(n){return typeof n=="number"?DN:typeof n=="string"?Wm(n)?mh:qt.test(n)?E_:LN:Array.isArray(n)?$1:typeof n=="object"?qt.test(n)?E_:bN:mh}function $1(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>hg(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function bN(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=hg(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function MN(n,e){var t;const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,o[u]++}return r}const LN=(n,e)=>{const t=Gi.createTransformer(e),r=Hl(n),o=Hl(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Np.has(n)&&!o.values.length||Np.has(e)&&!r.values.length?NN(n,e):iu($1(MN(r,o),o.values),t):mh(n,e)};function H1(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?rt(n,e,t):hg(n)(n,e)}const ON=5;function W1(n,e,t){const r=Math.max(e-ON,0);return v1(t-n(r),e-r)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},$f=.001;function jN({duration:n=lt.duration,bounce:e=lt.bounce,velocity:t=lt.velocity,mass:r=lt.mass}){let o,a,u=1-e;u=ei(lt.minDamping,lt.maxDamping,u),n=ei(lt.minDuration,lt.maxDuration,Gr(n)),u<1?(o=m=>{const v=m*u,w=v*n,E=v-t,A=Dp(m,u),O=Math.exp(-w);return $f-E/A*O},a=m=>{const w=m*u*n,E=w*t+t,A=Math.pow(u,2)*Math.pow(m,2)*n,O=Math.exp(-w),F=Dp(Math.pow(m,2),u);return(-o(m)+$f>0?-1:1)*((E-A)*O)/F}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-$f+v*w},a=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const d=5/n,f=UN(o,a,d);if(n=qr(n),isNaN(f))return{stiffness:lt.stiffness,damping:lt.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const FN=12;function UN(n,e,t){let r=t;for(let o=1;o<FN;o++)r=r-n(r)/e(r);return r}function Dp(n,e){return n*Math.sqrt(1-e*e)}const BN=["duration","bounce"],zN=["stiffness","damping","mass"];function T_(n,e){return e.some(t=>n[t]!==void 0)}function $N(n){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...n};if(!T_(n,zN)&&T_(n,BN))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*ei(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:lt.mass,stiffness:o,damping:a}}else{const t=jN(n);e={...e,...t,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function q1(n=lt.visualDuration,e=lt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:v,duration:w,velocity:E,isResolvedFromDuration:A}=$N({...t,velocity:-Gr(t.velocity||0)}),O=E||0,F=m/(2*Math.sqrt(f*v)),b=u-a,W=Gr(Math.sqrt(f/v)),G=Math.abs(b)<5;r||(r=G?lt.restSpeed.granular:lt.restSpeed.default),o||(o=G?lt.restDelta.granular:lt.restDelta.default);let Q;if(F<1){const ne=Dp(W,F);Q=ae=>{const k=Math.exp(-F*W*ae);return u-k*((O+F*W*b)/ne*Math.sin(ne*ae)+b*Math.cos(ne*ae))}}else if(F===1)Q=ne=>u-Math.exp(-W*ne)*(b+(O+W*b)*ne);else{const ne=W*Math.sqrt(F*F-1);Q=ae=>{const k=Math.exp(-F*W*ae),I=Math.min(ne*ae,300);return u-k*((O+F*W*b)*Math.sinh(I)+ne*b*Math.cosh(I))/ne}}const oe={calculatedDuration:A&&w||null,next:ne=>{const ae=Q(ne);if(A)d.done=ne>=w;else{let k=0;F<1&&(k=ne===0?qr(O):W1(Q,ne,ae));const I=Math.abs(k)<=r,x=Math.abs(u-ae)<=o;d.done=I&&x}return d.value=d.done?u:ae,d},toString:()=>{const ne=Math.min(u1(oe),Ap),ae=c1(k=>oe.next(ne*k).value,ne,30);return ne+"ms "+ae}};return oe}function S_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:v}){const w=n[0],E={done:!1,value:w},A=I=>d!==void 0&&I<d||f!==void 0&&I>f,O=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let F=t*e;const b=w+F,W=u===void 0?b:u(b);W!==b&&(F=W-w);const G=I=>-F*Math.exp(-I/r),Q=I=>W+G(I),oe=I=>{const x=G(I),V=Q(I);E.done=Math.abs(x)<=m,E.value=E.done?W:V};let ne,ae;const k=I=>{A(E.value)&&(ne=I,ae=q1({keyframes:[E.value,O(E.value)],velocity:W1(Q,I,E.value),damping:o,stiffness:a,restDelta:m,restSpeed:v}))};return k(0),{calculatedDuration:null,next:I=>{let x=!1;return!ae&&ne===void 0&&(x=!0,oe(I),k(I)),ne!==void 0&&I>=ne?ae.next(I-ne):(!x&&oe(I),E)}}}const HN=ru(.42,0,1,1),WN=ru(0,0,.58,1),G1=ru(.42,0,.58,1),qN=n=>Array.isArray(n)&&typeof n[0]!="number",GN={linear:En,easeIn:HN,easeInOut:G1,easeOut:WN,circIn:og,circInOut:C1,circOut:P1,backIn:sg,backInOut:I1,backOut:S1,anticipate:A1},I_=n=>{if(eg(n)){HT(n.length===4);const[e,t,r,o]=n;return ru(e,t,r,o)}else if(typeof n=="string")return GN[n];return n};function KN(n,e,t){const r=[],o=t||H1,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||En:e;d=iu(f,d)}r.push(d)}return r}function QN(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(HT(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=KN(e,r,o),f=d.length,m=v=>{if(u&&v<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const E=oa(n[w],n[w+1],v);return d[w](E)};return t?v=>m(ei(n[0],n[a-1],v)):m}function XN(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=oa(0,e,r);n.push(rt(t,1,o))}}function YN(n){const e=[0];return XN(e,n.length-1),e}function JN(n,e){return n.map(t=>t*e)}function ZN(n,e){return n.map(()=>e||G1).splice(0,n.length-1)}function gh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=qN(r)?r.map(I_):I_(r),a={done:!1,value:e[0]},u=JN(t&&t.length===e.length?t:YN(e),n),d=QN(u,e,{ease:Array.isArray(o)?o:ZN(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const eD=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>qi(e),now:()=>Ot.isProcessing?Ot.timestamp:Tr.now()}},tD={decay:S_,inertia:S_,tween:gh,keyframes:gh,spring:q1},nD=n=>n/100;class dg extends z1{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:o,keyframes:a}=this.options,u=o?.KeyframeResolver||cg,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(a,d,t,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=Zm(t)?t:tD[t]||gh;let f,m;d!==gh&&typeof e[0]!="number"&&(f=iu(nD,H1(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});a==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=u1(v));const{calculatedDuration:w}=v,E=w+o,A=E*(r+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:E,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:A,repeatType:O,repeatDelay:F,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-E*(this.speed>=0?1:-1),G=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let Q=this.currentTime,oe=a;if(A){const I=Math.min(this.currentTime,v)/w;let x=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&x--,x=Math.min(x,A+1),!!(x%2)&&(O==="reverse"?(V=1-V,F&&(V-=F/w)):O==="mirror"&&(oe=u)),Q=ei(0,1,V)*w}const ne=G?{done:!1,value:f[0]}:oe.next(Q);d&&(ne.value=d(ne.value));let{done:ae}=ne;!G&&m!==null&&(ae=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ae);return k&&o!==void 0&&(ne.value=Wh(f,this.options,o)),b&&b(ne.value),k&&this.finish(),ne}get duration(){const{resolved:e}=this;return e?Gr(e.calculatedDuration):0}get time(){return Gr(this.currentTime)}set time(e){e=qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Gr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eD,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const rD=new Set(["opacity","clipPath","filter","transform"]);function iD(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const v=d1(d,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const sD=Om(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yh=10,oD=2e4;function aD(n){return Zm(n.type)||n.type==="spring"||!h1(n.ease)}function lD(n,e){const t=new dg({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let a=0;for(;!r.done&&a<oD;)r=t.sample(a),o.push(r.value),a+=yh;return{times:void 0,keyframes:o,duration:a-yh,ease:"linear"}}const K1={anticipate:A1,backInOut:I1,circInOut:C1};function uD(n){return n in K1}class A_ extends z1{constructor(e){super(e);const{name:t,motionValue:r,element:o,keyframes:a}=this.options;this.resolver=new B1(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:o,ease:a,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&ph()&&uD(a)&&(a=K1[a]),aD(this.options)){const{onComplete:w,onUpdate:E,motionValue:A,element:O,...F}=this.options,b=lD(e,F);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,o=b.times,a=b.ease,u="keyframes"}const v=iD(d.owner.current,f,e,{...this.options,duration:r,times:o,ease:a});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(u_(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;d.set(Wh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Gr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Gr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return En;const{animation:r}=t;u_(r,e)}return En}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:o,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:E,...A}=this.options,O=new dg({...A,keyframes:r,duration:o,type:a,ease:u,times:d,isGenerator:!0}),F=qr(this.time);m.setWithVelocity(O.sample(F-yh).value,O.sample(F).value,yh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return sD()&&r&&rD.has(r)&&!f&&!m&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const cD={type:"spring",stiffness:500,damping:25,restSpeed:10},hD=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),dD={type:"keyframes",duration:.8},fD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pD=(n,{keyframes:e})=>e.length>2?dD:$s.has(n)?n.startsWith("scale")?hD(e[1]):cD:fD;function mD({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const fg=(n,e,t,r={},o,a)=>u=>{const d=Jm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-qr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};mD(d)||(v={...v,...pD(n,v)}),v.duration&&(v.duration=qr(v.duration)),v.repeatDelay&&(v.repeatDelay=qr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const E=Wh(v.keyframes,d);if(E!==void 0)return Je.update(()=>{v.onUpdate(E),v.onComplete()}),new MV([])}return!a&&A_.supports(v)?new A_(v):new dg(v)};function gD({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Q1(n,e,{delay:t=0,transitionOverride:r,type:o}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in f){const E=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),A=f[w];if(A===void 0||v&&gD(v,w))continue;const O={delay:t,...Jm(u||{},w)};let F=!1;if(window.MotionHandoffAnimation){const W=_1(n);if(W){const G=window.MotionHandoffAnimation(W,w,Je);G!==null&&(O.startTime=G,F=!0)}}Cp(n,w),E.start(fg(w,E,A,n.shouldReduceMotion&&y1.has(w)?{type:!1}:O,n,F));const b=E.animation;b&&m.push(b)}return d&&Promise.all(m).then(()=>{Je.update(()=>{d&&KV(n,d)})}),m}function bp(n,e,t={}){var r;const o=Hh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(a=t.transitionOverride);const u=o?()=>Promise.all(Q1(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:E}=a;return yD(n,e,v+m,w,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,v]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(t.delay)])}function yD(n,e,t=0,r=0,o=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=o===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(vD).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(bp(m,e,{...a,delay:t+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function vD(n,e){return n.sortNodePosition(e)}function _D(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>bp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=bp(n,e,t);else{const o=typeof e=="function"?Hh(n,e,t.custom):e;r=Promise.all(Q1(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const wD=Um.length;function X1(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?X1(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<wD;t++){const r=Um[t],o=n.props[r];(Bl(o)||o===!1)&&(e[r]=o)}return e}const ED=[...Fm].reverse(),TD=Fm.length;function SD(n){return e=>Promise.all(e.map(({animation:t,options:r})=>_D(n,t,r)))}function ID(n){let e=SD(n),t=P_(),r=!0;const o=f=>(m,v)=>{var w;const E=Hh(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:A,transitionEnd:O,...F}=E;m={...m,...F,...O}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,v=X1(n.parent)||{},w=[],E=new Set;let A={},O=1/0;for(let b=0;b<TD;b++){const W=ED[b],G=t[W],Q=m[W]!==void 0?m[W]:v[W],oe=Bl(Q),ne=W===f?G.isActive:null;ne===!1&&(O=b);let ae=Q===v[W]&&Q!==m[W]&&oe;if(ae&&r&&n.manuallyAnimateOnMount&&(ae=!1),G.protectedKeys={...A},!G.isActive&&ne===null||!Q&&!G.prevProp||zh(Q)||typeof Q=="boolean")continue;const k=AD(G.prevProp,Q);let I=k||W===f&&G.isActive&&!ae&&oe||b>O&&oe,x=!1;const V=Array.isArray(Q)?Q:[Q];let D=V.reduce(o(W),{});ne===!1&&(D={});const{prevResolvedValues:j={}}=G,R={...j,...D},Be=Te=>{I=!0,E.has(Te)&&(x=!0,E.delete(Te)),G.needsAnimating[Te]=!0;const re=n.getValue(Te);re&&(re.liveStyle=!1)};for(const Te in R){const re=D[Te],me=j[Te];if(A.hasOwnProperty(Te))continue;let J=!1;Ip(re)&&Ip(me)?J=!l1(re,me):J=re!==me,J?re!=null?Be(Te):E.add(Te):re!==void 0&&E.has(Te)?Be(Te):G.protectedKeys[Te]=!0}G.prevProp=Q,G.prevResolvedValues=D,G.isActive&&(A={...A,...D}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(ae&&k)||x)&&w.push(...V.map(Te=>({animation:Te,options:{type:W}})))}if(E.size){const b={};E.forEach(W=>{const G=n.getBaseTarget(W),Q=n.getValue(W);Q&&(Q.liveStyle=!0),b[W]=G??null}),w.push({animation:b})}let F=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(F=!1),r=!1,F?e(w):Promise.resolve()}function d(f,m){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(E=>{var A;return(A=E.animationState)===null||A===void 0?void 0:A.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const E in t)t[E].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=P_(),r=!0}}}function AD(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!l1(e,n):!1}function Cs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function P_(){return{animate:Cs(!0),whileInView:Cs(),whileHover:Cs(),whileTap:Cs(),whileDrag:Cs(),whileFocus:Cs(),exit:Cs()}}class Xi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PD extends Xi{constructor(e){super(e),e.animationState||(e.animationState=ID(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let CD=0;class xD extends Xi{constructor(){super(...arguments),this.id=CD++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Y1={animation:{Feature:PD},exit:{Feature:xD}};function Wl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function su(n){return{point:{x:n.pageX,y:n.pageY}}}const RD=n=>e=>tg(e)&&n(e,su(e));function kl(n,e,t,r){return Wl(n,e,RD(t),r)}const C_=(n,e)=>Math.abs(n-e);function kD(n,e){const t=C_(n.x,e.x),r=C_(n.y,e.y);return Math.sqrt(t**2+r**2)}class J1{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Wf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=kD(w.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:O}=w,{timestamp:F}=Ot;this.history.push({...O,timestamp:F});const{onStart:b,onMove:W}=this.handlers;E||(b&&b(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Hf(E,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:A,onSessionEnd:O,resumeAnimation:F}=this.handlers;if(this.dragSnapToOrigin&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Wf(w.type==="pointercancel"?this.lastMoveEventInfo:Hf(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(w,b),O&&O(w,b)},!tg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=su(e),d=Hf(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Ot;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Wf(d,this.history)),this.removeListeners=iu(kl(this.contextWindow,"pointermove",this.handlePointerMove),kl(this.contextWindow,"pointerup",this.handlePointerUp),kl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),qi(this.updatePoint)}}function Hf(n,e){return e?{point:e(n.point)}:n}function x_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Wf({point:n},e){return{point:n,delta:x_(n,Z1(e)),offset:x_(n,VD(e)),velocity:ND(e,.1)}}function VD(n){return n[0]}function Z1(n){return n[n.length-1]}function ND(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=Z1(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>qr(e)));)t--;if(!r)return{x:0,y:0};const a=Gr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const eS=1e-4,DD=1-eS,bD=1+eS,tS=.01,MD=0-tS,LD=0+tS;function Tn(n){return n.max-n.min}function OD(n,e,t){return Math.abs(n-e)<=t}function R_(n,e,t,r=.5){n.origin=r,n.originPoint=rt(e.min,e.max,n.origin),n.scale=Tn(t)/Tn(e),n.translate=rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=DD&&n.scale<=bD||isNaN(n.scale))&&(n.scale=1),(n.translate>=MD&&n.translate<=LD||isNaN(n.translate))&&(n.translate=0)}function Vl(n,e,t,r){R_(n.x,e.x,t.x,r?r.originX:void 0),R_(n.y,e.y,t.y,r?r.originY:void 0)}function k_(n,e,t){n.min=t.min+e.min,n.max=n.min+Tn(e)}function jD(n,e,t){k_(n.x,e.x,t.x),k_(n.y,e.y,t.y)}function V_(n,e,t){n.min=e.min-t.min,n.max=n.min+Tn(e)}function Nl(n,e,t){V_(n.x,e.x,t.x),V_(n.y,e.y,t.y)}function FD(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?rt(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?rt(t,n,r.max):Math.min(n,t)),n}function N_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function UD(n,{top:e,left:t,bottom:r,right:o}){return{x:N_(n.x,t,o),y:N_(n.y,e,r)}}function D_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function BD(n,e){return{x:D_(n.x,e.x),y:D_(n.y,e.y)}}function zD(n,e){let t=.5;const r=Tn(n),o=Tn(e);return o>r?t=oa(e.min,e.max-r,n.min):r>o&&(t=oa(n.min,n.max-o,e.min)),ei(0,1,t)}function $D(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Mp=.35;function HD(n=Mp){return n===!1?n=0:n===!0&&(n=Mp),{x:b_(n,"left","right"),y:b_(n,"top","bottom")}}function b_(n,e,t){return{min:M_(n,e),max:M_(n,t)}}function M_(n,e){return typeof n=="number"?n:n[e]||0}const L_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:L_(),y:L_()}),O_=()=>({min:0,max:0}),dt=()=>({x:O_(),y:O_()});function bn(n){return[n("x"),n("y")]}function nS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function WD({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function qD(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function qf(n){return n===void 0||n===1}function Lp({scale:n,scaleX:e,scaleY:t}){return!qf(n)||!qf(e)||!qf(t)}function Rs(n){return Lp(n)||rS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function rS(n){return j_(n.x)||j_(n.y)}function j_(n){return n&&n!=="0%"}function vh(n,e,t){const r=n-t,o=e*r;return t+o}function F_(n,e,t,r,o){return o!==void 0&&(n=vh(n,o,r)),vh(n,t,r)+e}function Op(n,e=0,t=1,r,o){n.min=F_(n.min,e,t,r,o),n.max=F_(n.max,e,t,r,o)}function iS(n,{x:e,y:t}){Op(n.x,e.translate,e.scale,e.originPoint),Op(n.y,t.translate,t.scale,t.originPoint)}const U_=.999999999999,B_=1.0000000000001;function GD(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,iS(n,u)),r&&Rs(a.latestValues)&&qo(n,a.latestValues))}e.x<B_&&e.x>U_&&(e.x=1),e.y<B_&&e.y>U_&&(e.y=1)}function Wo(n,e){n.min=n.min+e,n.max=n.max+e}function z_(n,e,t,r,o=.5){const a=rt(n.min,n.max,o);Op(n,e,t,a,r)}function qo(n,e){z_(n.x,e.x,e.scaleX,e.scale,e.originX),z_(n.y,e.y,e.scaleY,e.scale,e.originY)}function sS(n,e){return nS(qD(n.getBoundingClientRect(),e))}function KD(n,e,t){const r=sS(n,t),{scroll:o}=e;return o&&(Wo(r.x,o.offset.x),Wo(r.y,o.offset.y)),r}const oS=({current:n})=>n?n.ownerDocument.defaultView:null,QD=new WeakMap;class XD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=dt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(su(v).point)},a=(v,w)=>{const{drag:E,dragPropagation:A,onDragStart:O}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$V(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bn(b=>{let W=this.getAxisMotionValue(b).get()||0;if(Er.test(W)){const{projection:G}=this.visualElement;if(G&&G.layout){const Q=G.layout.layoutBox[b];Q&&(W=Tn(Q)*(parseFloat(W)/100))}}this.originPoint[b]=W}),O&&Je.postRender(()=>O(v,w)),Cp(this.visualElement,"transform");const{animationState:F}=this.visualElement;F&&F.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:O,onDrag:F}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:b}=w;if(A&&this.currentDirection===null){this.currentDirection=YD(b),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",w.point,b),this.updateAxis("y",w.point,b),this.visualElement.render(),F&&F(v,w)},d=(v,w)=>this.stop(v,w),f=()=>bn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new J1(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:oS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Je.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Vc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=FD(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=UD(o.layoutBox,t):this.constraints=!1,this.elastic=HD(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=$D(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=KD(r,o.root,this.visualElement.getTransformPagePoint());let u=BD(o.layout.layoutBox,a);if(t){const d=t(WD(u));this.hasMutatedConstraints=!!d,d&&(u=nS(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=bn(v=>{if(!Vc(v,t,this.currentDirection))return;let w=f&&f[v]||{};u&&(w={min:0,max:0});const E=o?200:1e6,A=o?40:1e7,O={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,O)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Cp(this.visualElement,e),r.start(fg(e,r,0,t,this.visualElement,!1))}stopAnimation(){bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bn(t=>{const{drag:r}=this.getProps();if(!Vc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-rt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!zo(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=zD({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bn(u=>{if(!Vc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(rt(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;QD.set(this.visualElement,this);const e=this.visualElement.current,t=kl(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();zo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Je.read(r);const u=Wl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(bn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Mp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Vc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function YD(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class JD extends Xi{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new XD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const $_=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class ZD extends Xi{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new J1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:$_(e),onStart:$_(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&Je.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=kl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function H_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const pl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=H_(n,e.target.x),r=H_(n,e.target.y);return`${t}% ${r}%`}},eb={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Gi.parse(n);if(o.length>5)return r;const a=Gi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=rt(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};class tb extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;SV(nb),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Je.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aS(n){const[e,t]=zT(),r=ee.useContext(Dm);return C.jsx(tb,{...n,layoutGroup:r,switchLayoutGroup:ee.useContext(QT),isPresent:e,safeToRemove:t})}const nb={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:eb};function rb(n,e,t){const r=Qt(n)?n:$l(n);return r.start(fg("",r,e,t)),r.animation}function ib(n){return n instanceof SVGElement&&n.tagName!=="svg"}const sb=(n,e)=>n.depth-e.depth;class ob{constructor(){this.children=[],this.isDirty=!1}add(e){ng(this.children,e),this.isDirty=!0}remove(e){rg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sb),this.isDirty=!1,this.children.forEach(e)}}function ab(n,e){const t=Tr.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(qi(r),n(a-e))};return Je.read(r,!0),()=>qi(r)}const lS=["TopLeft","TopRight","BottomLeft","BottomRight"],lb=lS.length,W_=n=>typeof n=="string"?parseFloat(n):n,q_=n=>typeof n=="number"||we.test(n);function ub(n,e,t,r,o,a){o?(n.opacity=rt(0,t.opacity!==void 0?t.opacity:1,cb(r)),n.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,hb(r))):a&&(n.opacity=rt(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<lb;u++){const d=`border${lS[u]}Radius`;let f=G_(e,d),m=G_(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||q_(f)===q_(m)?(n[d]=Math.max(rt(W_(f),W_(m),r),0),(Er.test(m)||Er.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=rt(e.rotate||0,t.rotate||0,r))}function G_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const cb=uS(0,.5,P1),hb=uS(.5,.95,En);function uS(n,e,t){return r=>r<n?0:r>e?1:t(oa(n,e,r))}function K_(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){K_(n.x,e.x),K_(n.y,e.y)}function Q_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function X_(n,e,t,r,o){return n-=e,n=vh(n,1/t,r),o!==void 0&&(n=vh(n,1/o,r)),n}function db(n,e=0,t=1,r=.5,o,a=n,u=n){if(Er.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=rt(a.min,a.max,r);n===a&&(d-=e),n.min=X_(n.min,e,t,d,o),n.max=X_(n.max,e,t,d,o)}function Y_(n,e,[t,r,o],a,u){db(n,e[t],e[r],e[o],e.scale,a,u)}const fb=["x","scaleX","originX"],pb=["y","scaleY","originY"];function J_(n,e,t,r){Y_(n.x,e,fb,t?t.x:void 0,r?r.x:void 0),Y_(n.y,e,pb,t?t.y:void 0,r?r.y:void 0)}function Z_(n){return n.translate===0&&n.scale===1}function cS(n){return Z_(n.x)&&Z_(n.y)}function ew(n,e){return n.min===e.min&&n.max===e.max}function mb(n,e){return ew(n.x,e.x)&&ew(n.y,e.y)}function tw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function hS(n,e){return tw(n.x,e.x)&&tw(n.y,e.y)}function nw(n){return Tn(n.x)/Tn(n.y)}function rw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class gb{constructor(){this.members=[]}add(e){ng(this.members,e),e.scheduleRender()}remove(e){if(rg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yb(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:E,skewX:A,skewY:O}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),O&&(r+=`skewY(${O}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const ks={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Tl=typeof window<"u"&&window.MotionDebug!==void 0,Gf=["","X","Y","Z"],vb={visibility:"hidden"},iw=1e3;let _b=0;function Kf(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function dS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=_1(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&dS(r)}function fS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=_b++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tl&&(ks.totalNodes=ks.resolvedTargetDeltas=ks.recalculatedProjection=0),this.nodes.forEach(Tb),this.nodes.forEach(Cb),this.nodes.forEach(xb),this.nodes.forEach(Sb),Tl&&window.MotionDebug.record(ks)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new ob)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ig),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ib(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=ab(E,250),Wc.hasAnimatedSinceResize&&(Wc.hasAnimatedSinceResize=!1,this.nodes.forEach(ow))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeTargetChanged:A,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const F=this.options.transition||v.getDefaultTransition()||Db,{onLayoutAnimationStart:b,onLayoutAnimationComplete:W}=v.getProps(),G=!this.targetLayout||!hS(this.targetLayout,O)||A,Q=!E&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||Q||E&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,Q);const oe={...Jm(F,"layout"),onPlay:b,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(oe.delay=0,oe.type=!1),this.startAnimation(oe)}else E||ow(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,qi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Rb),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sw);return}this.isUpdating||this.nodes.forEach(Ab),this.isUpdating=!1,this.nodes.forEach(Pb),this.nodes.forEach(wb),this.nodes.forEach(Eb),this.clearAllSnapshots();const d=Tr.now();Ot.delta=ei(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,Of.update.process(Ot),Of.preRender.process(Ot),Of.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ib),this.sharedNodes.forEach(kb)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!cS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||Rs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),bb(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return dt();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(Mb))){const{scroll:v}=this.root;v&&(Wo(f.x,v.offset.x),Wo(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=dt();if(Dn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:E}=v;v!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&Dn(f,u),Wo(f.x,w.offset.x),Wo(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=dt();Dn(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&qo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Rs(v.latestValues)&&qo(f,v.latestValues)}return Rs(this.latestValues)&&qo(f,this.latestValues),f}removeTransform(u){const d=dt();Dn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Rs(m.latestValues))continue;Lp(m.latestValues)&&m.updateSnapshot();const v=dt(),w=m.measurePageBox();Dn(v,w),J_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Rs(this.latestValues)&&J_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Nl(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=dt(),this.targetWithTransforms=dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),iS(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=dt(),this.relativeTargetOrigin=dt(),Nl(this.relativeTargetOrigin,this.target,A.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tl&&ks.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Lp(this.parent.latestValues)||rS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Dn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;GD(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=dt());const{target:O}=d;if(!O){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Q_(this.prevProjectionDelta.x,this.projectionDelta.x),Q_(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,O,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),Tl&&ks.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},w=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=dt(),A=f?f.source:void 0,O=this.layout?this.layout.source:void 0,F=A!==O,b=this.getStack(),W=!b||b.members.length<=1,G=!!(F&&!W&&this.options.crossfade===!0&&!this.path.some(Nb));this.animationProgress=0;let Q;this.mixTargetDelta=oe=>{const ne=oe/1e3;aw(w.x,u.x,ne),aw(w.y,u.y,ne),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vb(this.relativeTarget,this.relativeTargetOrigin,E,ne),Q&&mb(this.relativeTarget,Q)&&(this.isProjectionDirty=!1),Q||(Q=dt()),Dn(Q,this.relativeTarget)),F&&(this.animationValues=v,ub(v,m,this.latestValues,ne,G,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(qi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Wc.hasAnimatedSinceResize=!0,this.currentAnimation=rb(0,iw,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:v}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&pS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||dt();const w=Tn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=Tn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Dn(d,f),qo(d,v),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gb),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Kf("z",u,m,this.animationValues);for(let v=0;v<Gf.length;v++)Kf(`rotate${Gf[v]}`,u,m,this.animationValues),Kf(`skew${Gf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vb;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=$c(u?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const F={};return this.options.layoutId&&(F.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,F.pointerEvents=$c(u?.pointerEvents)||""),this.hasProjected&&!Rs(this.latestValues)&&(F.transform=v?v({},""):"none",this.hasProjected=!1),F}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=yb(this.projectionDeltaWithTransform,this.treeScale,E),v&&(m.transform=v(E,m.transform));const{x:A,y:O}=this.projectionDelta;m.transformOrigin=`${A.origin*100}% ${O.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:m.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const F in fh){if(E[F]===void 0)continue;const{correct:b,applyTo:W}=fh[F],G=m.transform==="none"?E[F]:b(E[F],w);if(W){const Q=W.length;for(let oe=0;oe<Q;oe++)m[W[oe]]=G}else m[F]=G}return this.options.layoutId&&(m.pointerEvents=w===this?$c(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(sw),this.root.sharedNodes.clear()}}}function wb(n){n.updateLayout()}function Eb(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?bn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],A=Tn(E);E.min=r[w].min,E.max=E.min+A}):pS(a,t.layoutBox,r)&&bn(w=>{const E=u?t.measuredBox[w]:t.layoutBox[w],A=Tn(r[w]);E.max=E.min+A,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+A)});const d=Ho();Vl(d,r,t.layoutBox);const f=Ho();u?Vl(f,n.applyTransform(o,!0),t.measuredBox):Vl(f,r,t.layoutBox);const m=!cS(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:A}=w;if(E&&A){const O=dt();Nl(O,t.layoutBox,E.layoutBox);const F=dt();Nl(F,r,A.layoutBox),hS(O,F)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=F,n.relativeTargetOrigin=O,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Tb(n){Tl&&ks.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Sb(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function Ib(n){n.clearSnapshot()}function sw(n){n.clearMeasurements()}function Ab(n){n.isLayoutDirty=!1}function Pb(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function ow(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Cb(n){n.resolveTargetDelta()}function xb(n){n.calcProjection()}function Rb(n){n.resetSkewAndRotation()}function kb(n){n.removeLeadSnapshot()}function aw(n,e,t){n.translate=rt(e.translate,0,t),n.scale=rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function lw(n,e,t,r){n.min=rt(e.min,t.min,r),n.max=rt(e.max,t.max,r)}function Vb(n,e,t,r){lw(n.x,e.x,t.x,r),lw(n.y,e.y,t.y,r)}function Nb(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Db={duration:.45,ease:[.4,0,.1,1]},uw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),cw=uw("applewebkit/")&&!uw("chrome/")?Math.round:En;function hw(n){n.min=cw(n.min),n.max=cw(n.max)}function bb(n){hw(n.x),hw(n.y)}function pS(n,e,t){return n==="position"||n==="preserve-aspect"&&!OD(nw(e),nw(t),.2)}function Mb(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const Lb=fS({attachResizeListener:(n,e)=>Wl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qf={current:void 0},mS=fS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Qf.current){const n=new Lb({});n.mount(window),n.setOptions({layoutScroll:!0}),Qf.current=n}return Qf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ob={pan:{Feature:ZD},drag:{Feature:JD,ProjectionNode:mS,MeasureLayout:aS}};function dw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&Je.postRender(()=>a(e,su(e)))}class jb extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=jV(e,t=>(dw(this.node,t,"Start"),r=>dw(this.node,r,"End"))))}unmount(){}}class Fb extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=iu(Wl(this.node.current,"focus",()=>this.onFocus()),Wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&Je.postRender(()=>a(e,su(e)))}class Ub extends Xi{mount(){const{current:e}=this.node;e&&(this.unmount=zV(e,t=>(fw(this.node,t,"Start"),(r,{success:o})=>fw(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jp=new WeakMap,Xf=new WeakMap,Bb=n=>{const e=jp.get(n.target);e&&e(n)},zb=n=>{n.forEach(Bb)};function $b({root:n,...e}){const t=n||document;Xf.has(t)||Xf.set(t,{});const r=Xf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(zb,{root:n,...e})),r[o]}function Hb(n,e,t){const r=$b(e);return jp.set(n,t),r.observe(n),()=>{jp.delete(n),r.unobserve(n)}}const Wb={some:0,all:1};class qb extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:Wb[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),E=m?v:w;E&&E(f)};return Hb(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Gb(e,t))&&this.startObserver()}unmount(){}}function Gb({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const gS={inView:{Feature:qb},tap:{Feature:Ub},focus:{Feature:Fb},hover:{Feature:jb}},Kb={layout:{ProjectionNode:mS,MeasureLayout:aS}},Fp={current:null},yS={current:!1};function Qb(){if(yS.current=!0,!!Lm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fp.current=n.matches;n.addListener(e),e()}else Fp.current=!1}const Xb=[...U1,qt,Gi],Yb=n=>Xb.find(F1(n)),pw=new WeakMap;function Jb(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Qt(o))n.addValue(r,o);else if(Qt(a))n.addValue(r,$l(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,$l(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const mw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zb{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Tr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Je.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=$h(t),this.isVariantNode=GT(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const A in E){const O=E[A];f[A]!==void 0&&Qt(O)&&O.set(f[A],!1)}}mount(e){this.current=e,pw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),yS.current||Qb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){pw.delete(this.current),this.projection&&this.projection.unmount(),qi(this.notifyUpdate),qi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$s.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aa){const t=aa[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<mw.length;r++){const o=mw[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Jb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=$l(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(O1(o)||x1(o))?o=parseFloat(o):!Yb(o)&&Gi.test(t)&&(o=b1(e,t)),this.setBaseTarget(e,Qt(o)?o.get():o)),Qt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=Hm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ig),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class vS extends Zb{constructor(){super(...arguments),this.KeyframeResolver=B1}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function e4(n){return window.getComputedStyle(n)}class t4 extends vS{constructor(){super(...arguments),this.type="html",this.renderInstance=n1}readValueFromInstance(e,t){if($s.has(t)){const r=ug(t);return r&&r.default||0}else{const r=e4(e),o=(ZT(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return sS(e,t)}build(e,t,r){Gm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Ym(e,t,r)}}class n4 extends vS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=dt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($s.has(t)){const r=ug(t);return r&&r.default||0}return t=r1.has(t)?t:Bm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return o1(e,t,r)}build(e,t,r){Km(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,o){i1(e,t,r,o)}mount(e){this.isSVGTag=Xm(e.tagName),super.mount(e)}}const _S=(n,e)=>$m(n)?new n4(e):new t4(e,{allowProjection:n!==ee.Fragment}),r4=NV({...Y1,...gS,...Ob,...Kb},_S),it=Gk(r4),i4={renderer:_S,...Y1,...gS},s4={some:0,all:1};function o4(n,e,{root:t,margin:r,amount:o="some"}={}){const a=p1(n),u=new WeakMap,d=m=>{m.forEach(v=>{const w=u.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const E=e(v);typeof E=="function"?u.set(v.target,E):f.unobserve(v.target)}else typeof w=="function"&&(w(v),u.delete(v.target))})},f=new IntersectionObserver(d,{root:t,rootMargin:r,threshold:typeof o=="number"?o:s4[o]});return a.forEach(m=>f.observe(m)),()=>f.disconnect()}function wS(n,{root:e,margin:t,amount:r,once:o=!1}={}){const[a,u]=ee.useState(!1);return ee.useEffect(()=>{if(!n.current||o&&a)return;const d=()=>(u(!0),o?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:t,amount:r};return o4(n.current,d,f)},[e,n,t,o,r]),a}const a4=vt.memo(()=>C.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[C.jsx("style",{children:`
            /* * Defines the keyframes for the rotation animation.
             * It smoothly rotates the element 360 degrees.
             */
            @keyframes move {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }

            /* * Styles the element that will be animated. It's made oversized
             * (150vmax) to ensure it covers the screen even on large displays.
             * The background is composed of two soft radial gradients to create
             * an abstract, nebula-like effect.
             */
            .gradient-bg {
                width: 150vmax;
                height: 150vmax;
                position: absolute;
                top: 50%;
                left: 50%;
                background: radial-gradient(circle, rgba(37, 99, 235, 0.15), transparent 50%),
                            radial-gradient(circle, rgba(29, 78, 216, 0.1), transparent 60%);
                animation: move 25s linear infinite;
                opacity: 0.5;
            }
        `}),C.jsx("div",{className:"gradient-bg"})]})),gw=vt.memo(()=>C.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:C.jsxs("div",{className:"relative w-24 h-24",children:[C.jsx("style",{children:`
          /* Defines the main spinning animation for the rings */
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          /* Defines the pulsing animation for the central dot */
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
          }

          /* Base styles for the orbiting rings */
          .orb {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #2563eb; /* Primary blue color */
            animation: spin 1.5s linear infinite;
          }

          /* Second ring with a delayed animation and different color */
          .orb-2 {
            animation-delay: -0.5s;
            border-top-color: #1e3a8a; /* Darker blue */
          }

          /* Third ring with another delay and color for a layered effect */
          .orb-3 {
            animation-delay: -1s;
            border-top-color: #60a5fa; /* Lighter blue */
          }

          /* The central pulsing dot */
          .dot {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #2563eb;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            margin: -5px 0 0 -5px; /* Center the dot perfectly */
            animation: pulse 1.5s ease-in-out infinite;
          }
        `}),C.jsx("div",{className:"orb"}),C.jsx("div",{className:"orb orb-2"}),C.jsx("div",{className:"orb orb-3"}),C.jsx("div",{className:"dot"})]})})),Yi=vt.memo(()=>{const n=ee.useRef(null),e=wS(n,{once:!0,amount:.5});return C.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:C.jsx(it.div,{className:"h-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})}),Ji=vt.memo(({children:n,id:e,className:t=""})=>{const r=ee.useRef(null),o=wS(r,{once:!0,amount:.2});return C.jsx(it.section,{id:e,ref:r,initial:{opacity:0,y:50},animate:{opacity:o?1:0,y:o?0:50},transition:{duration:.8,ease:"easeOut"},className:`py-12 md:py-16 ${t}`,children:n})}),ml=({href:n,label:e,children:t,onClick:r})=>C.jsxs("a",{href:n,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-gray-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300",children:[t,C.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-gray-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 group-hover:translate-x-0 translate-x-2 transition-all duration-300 pointer-events-none",children:e})]}),l4=vt.memo(({isMobileMenuOpen:n,toggleMobileMenu:e,closeMobileMenu:t})=>{const r=o=>{o.preventDefault();const a=o.currentTarget.getAttribute("href"),u=document.querySelector(a);t(),u&&setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"start"})},100)};return C.jsxs("header",{className:"bg-white/70 backdrop-blur-md fixed top-0 w-full z-50 border-b border-gray-200/80",children:[C.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[C.jsx("a",{href:"#home",className:"flex items-center space-x-2",onClick:r,children:C.jsx("img",{src:"/Costas_Portfolio/assets/logo.png",alt:"Logo",className:"h-10 w-auto md:h-12"})}),C.jsxs("div",{className:"hidden md:flex space-x-4 items-center",children:[C.jsx(ml,{href:"#about",label:"About",onClick:r,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),C.jsx(ml,{href:"#experience",label:"Experience",onClick:r,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),C.jsx(ml,{href:"#skills",label:"Skills",onClick:r,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),C.jsx(ml,{href:"#projects",label:"Projects",onClick:r,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),C.jsx(ml,{href:"#contact",label:"Contact",onClick:r,children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})]}),C.jsx("div",{className:"md:hidden",children:C.jsx("button",{onClick:e,className:"text-[#4b5563] focus:outline-none",children:C.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),C.jsx(Uh,{children:n&&C.jsxs(it.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-md px-6 py-4 space-y-3 text-[#4b5563] font-medium",children:[C.jsx("a",{href:"#about",onClick:r,className:"block hover:text-[#2563eb]",children:"About"}),C.jsx("a",{href:"#experience",onClick:r,className:"block hover:text-[#2563eb]",children:"Experience"}),C.jsx("a",{href:"#skills",onClick:r,className:"block hover:text-[#2563eb]",children:"Skills"}),C.jsx("a",{href:"#projects",onClick:r,className:"block hover:text-[#2563eb]",children:"Projects"}),C.jsx("a",{href:"#contact",onClick:r,className:"block hover:text-[#2563eb]",children:"Contact"})]})})]})});function qh(n,e,t,r){return new(t||(t=Promise))(function(o,a){function u(m){try{f(r.next(m))}catch(v){a(v)}}function d(m){try{f(r.throw(m))}catch(v){a(v)}}function f(m){var v;m.done?o(m.value):(v=m.value,v instanceof t?v:new t(function(w){w(v)})).then(u,d)}f((r=r.apply(n,[])).next())})}function Fi(n,e){var t,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function d(f){return function(m){return function(v){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(o=2&v[0]?r.return:v[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,v[1])).done)return o;switch(r=0,o&&(v=[2&v[0],o.value]),v[0]){case 0:case 1:o=v;break;case 4:return u.label++,{value:v[1],done:!1};case 5:u.label++,r=v[1],v=[0];continue;case 7:v=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!((o=o.length>0&&o[o.length-1])||v[0]!==6&&v[0]!==2)){u=0;continue}if(v[0]===3&&(!o||v[1]>o[0]&&v[1]<o[3])){u.label=v[1];break}if(v[0]===6&&u.label<o[1]){u.label=o[1],o=v;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(v);break}o[2]&&u.ops.pop(),u.trys.pop();continue}v=e.call(n,u)}catch(w){v=[6,w],r=0}finally{t=o=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([f,m])}}}function Up(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r,o,a=t.call(n),u=[];try{for(;(e===void 0||e-- >0)&&!(r=a.next()).done;)u.push(r.value)}catch(d){o={error:d}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return u}function pr(n,e,t){if(arguments.length===2)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}function yw(n,e,t,r,o){for(var a=[],u=5;u<arguments.length;u++)a[u-5]=arguments[u];return qh(this,void 0,void 0,function(){var d,f,m,v,w,E;return Fi(this,function(A){switch(A.label){case 0:A.trys.push([0,12,13,14]),d=Up(a),f=d.next(),A.label=1;case 1:if(f.done)return[3,11];switch(m=f.value,typeof m){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,u4(n,e,m,t,r,o)];case 3:return A.sent(),[3,10];case 4:return[4,ES(m)];case 5:return A.sent(),[3,10];case 6:return[4,m.apply(void 0,pr([n,e,t,r,o],Jn(a),!1))];case 7:return A.sent(),[3,10];case 8:return[4,m];case 9:A.sent(),A.label=10;case 10:return f=d.next(),[3,1];case 11:return[3,14];case 12:return v=A.sent(),w={error:v},[3,14];case 13:try{f&&!f.done&&(E=d.return)&&E.call(d)}finally{if(w)throw w.error}return[7];case 14:return[2]}})})}function u4(n,e,t,r,o,a){return qh(this,void 0,void 0,function(){var u,d;return Fi(this,function(f){switch(f.label){case 0:return u=n.textContent||"",d=function(m,v){var w=Jn(v).slice(0);return pr(pr([],Jn(m),!1),[NaN],!1).findIndex(function(E,A){return w[A]!==E})}(u,t),[4,c4(n,pr(pr([],Jn(d4(u,e,d)),!1),Jn(h4(t,e,d)),!1),r,o,a)];case 1:return f.sent(),[2]}})})}function ES(n){return qh(this,void 0,void 0,function(){return Fi(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,n)})];case 1:return e.sent(),[2]}})})}function c4(n,e,t,r,o){return qh(this,void 0,void 0,function(){var a,u,d,f,m,v,w,E,A,O,F,b,W;return Fi(this,function(G){switch(G.label){case 0:if(a=e,o){for(u=0,d=1;d<e.length;d++)if(f=Jn([e[d-1],e[d]],2),m=f[0],(v=f[1]).length>m.length||v===""){u=d;break}a=e.slice(u,e.length)}G.label=1;case 1:G.trys.push([1,6,7,8]),w=Up(function(Q){var oe,ne,ae,k,I,x,V;return Fi(this,function(D){switch(D.label){case 0:oe=function(j){return Fi(this,function(R){switch(R.label){case 0:return[4,{op:function(Be){return requestAnimationFrame(function(){return Be.textContent=j})},opCode:function(Be){var ut=Be.textContent||"";return j===""||ut.length>j.length?"DELETE":"WRITING"}}];case 1:return R.sent(),[2]}})},D.label=1;case 1:D.trys.push([1,6,7,8]),ne=Up(Q),ae=ne.next(),D.label=2;case 2:return ae.done?[3,5]:(k=ae.value,[5,oe(k)]);case 3:D.sent(),D.label=4;case 4:return ae=ne.next(),[3,2];case 5:return[3,8];case 6:return I=D.sent(),x={error:I},[3,8];case 7:try{ae&&!ae.done&&(V=ne.return)&&V.call(ne)}finally{if(x)throw x.error}return[7];case 8:return[2]}})}(a)),E=w.next(),G.label=2;case 2:return E.done?[3,5]:(A=E.value,O=A.opCode(n)==="WRITING"?t+t*(Math.random()-.5):r+r*(Math.random()-.5),A.op(n),[4,ES(O)]);case 3:G.sent(),G.label=4;case 4:return E=w.next(),[3,2];case 5:return[3,8];case 6:return F=G.sent(),b={error:F},[3,8];case 7:try{E&&!E.done&&(W=w.return)&&W.call(w)}finally{if(b)throw b.error}return[7];case 8:return[2]}})})}function h4(n,e,t){var r,o;return t===void 0&&(t=0),Fi(this,function(a){switch(a.label){case 0:r=e(n),o=r.length,a.label=1;case 1:return t<o?[4,r.slice(0,++t).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}function d4(n,e,t){var r,o;return t===void 0&&(t=0),Fi(this,function(a){switch(a.label){case 0:r=e(n),o=r.length,a.label=1;case 1:return o>t?[4,r.slice(0,--o).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}var f4="index-module_type__E-SaG";(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(document.createTextNode(n))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var p4=ee.memo(ee.forwardRef(function(n,e){var t=n.sequence,r=n.repeat,o=n.className,a=n.speed,u=a===void 0?40:a,d=n.deletionSpeed,f=n.omitDeletionAnimation,m=f!==void 0&&f,v=n.preRenderFirstString,w=v!==void 0&&v,E=n.wrapper,A=E===void 0?"span":E,O=n.splitter,F=O===void 0?function(J){return pr([],Jn(J),!1)}:O,b=n.cursor,W=b===void 0||b,G=n.style,Q=function(J,L){var q={};for(var le in J)Object.prototype.hasOwnProperty.call(J,le)&&L.indexOf(le)<0&&(q[le]=J[le]);if(J!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ae=0;for(le=Object.getOwnPropertySymbols(J);Ae<le.length;Ae++)L.indexOf(le[Ae])<0&&Object.prototype.propertyIsEnumerable.call(J,le[Ae])&&(q[le[Ae]]=J[le[Ae]])}return q}(n,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),oe=Q["aria-label"],ne=Q["aria-hidden"],ae=Q.role;d||(d=u);var k=new Array(2).fill(40);[u,d].forEach(function(J,L){switch(typeof J){case"number":k[L]=Math.abs(J-100);break;case"object":var q=J.type,le=J.value;if(typeof le!="number")break;q==="keyStrokeDelayInMs"&&(k[L]=le)}});var I,x,V,D,j,R,Be=k[0],ut=k[1],ot=function(J,L){L===void 0&&(L=null);var q=ee.useRef(L);return ee.useEffect(function(){J&&(typeof J=="function"?J(q.current):J.current=q.current)},[J]),q}(e),Te=f4;I=o?"".concat(W?Te+" ":"").concat(o):W?Te:"",x=ee.useRef(function(){var J,L=t;r===1/0?J=yw:typeof r=="number"&&(L=Array(1+r).fill(t).flat());var q=J?pr(pr([],Jn(L),!1),[J],!1):pr([],Jn(L),!1);return yw.apply(void 0,pr([ot.current,F,Be,ut,m],Jn(q),!1)),function(){ot.current}}),V=ee.useRef(),D=ee.useRef(!1),j=ee.useRef(!1),R=Jn(ee.useState(0),2)[1],D.current&&(j.current=!0),ee.useEffect(function(){return D.current||(V.current=x.current(),D.current=!0),R(function(J){return J+1}),function(){j.current&&V.current&&V.current()}},[]);var re=A,me=w?t.find(function(J){return typeof J=="string"})||"":null;return vt.createElement(re,{"aria-hidden":ne,"aria-label":oe,role:ae,style:G,className:I,children:oe?vt.createElement("span",{"aria-hidden":"true",ref:ot,children:me}):me,ref:oe?void 0:ot})}),function(n,e){return!0});const m4=vt.memo(()=>C.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden",children:C.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[C.jsxs(it.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[C.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-[#334155] mb-4",children:[C.jsx("span",{className:"block mb-2 text-xl font-normal text-[#64748b]",children:"Hello, I'm"})," Costas Pinto"]}),C.jsx(p4,{sequence:["Data Science Enthusiast",2e3,"Machine Learning Engineer",2e3,"Full-Stack Developer",2e3,"AI Innovator",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] h-10",repeat:1/0}),C.jsx("p",{className:"max-w-xl text-[#4b5563] leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),C.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[C.jsxs(it.a,{href:"/assets/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-[#2563eb]/20 transition-all hover:shadow-xl",children:[C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:C.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),C.jsxs("div",{className:"flex gap-4",children:[C.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#2563eb] transition-colors",children:C.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),C.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#334155] transition-colors",children:C.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),C.jsx(it.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:C.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[C.jsx(it.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-[#2563eb]/20 via-[#1e3a8a]/20 to-[#2563eb]/30 rounded-full opacity-40 blur-3xl"}),C.jsx("div",{className:"relative z-10 flex justify-center items-center",children:C.jsx("img",{loading:"lazy",src:"/assets/Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})})),g4=vt.memo(()=>C.jsxs(Ji,{id:"about",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"About Me"}),C.jsx(Yi,{}),C.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("p",{className:"text-lg leading-relaxed text-[#4b5563] text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})]})]})),vw=vt.memo(({date:n,title:e,company:t,details:r})=>C.jsxs(it.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-[#a5b4fc]",children:[C.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-[#2563eb] to-[#1e3a8a] rounded-full border-4 border-white"}),C.jsx("p",{className:"text-[#64748b] mb-1 font-medium",children:n}),C.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),C.jsx("p",{className:"text-lg text-[#2563eb] font-semibold mb-3",children:t}),C.jsx("ul",{className:"list-disc list-inside text-[#4b5563] space-y-2",children:r.map((o,a)=>C.jsx("li",{children:o},a))})]})),y4=vt.memo(()=>C.jsxs(Ji,{id:"experience",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Experience"}),C.jsx(Yi,{}),C.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[C.jsx(vw,{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]}),C.jsx(vw,{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]})),v4=vt.memo(()=>{const[n,e]=ee.useState("Programming Languages"),t=u=>{e(d=>d===u?null:u)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return C.jsxs(Ji,{id:"skills",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Skills"}),C.jsx(Yi,{}),C.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([u,d])=>C.jsxs("div",{className:"border-b border-gray-300/50 last:border-b-0",children:[C.jsxs("button",{onClick:()=>t(u),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-[#334155] focus:outline-none",children:[C.jsx("span",{children:u}),C.jsx(it.span,{animate:{rotate:n===u?180:0},children:C.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),C.jsx(Uh,{children:n===u&&C.jsx(it.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:C.jsx(it.div,{variants:o,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:d.map(f=>C.jsxs(it.div,{variants:a,children:[C.jsx("p",{className:"text-lg font-medium text-[#4b5563] mb-1",children:f.name}),C.jsx("div",{className:"bg-gray-300 w-full rounded-full h-2.5",children:C.jsx(it.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a]",initial:{width:0},animate:{width:`${f.level}%`},transition:{duration:1,ease:"easeOut"}})})]},f.name))})})})]},u))})]})]})}),_4=vt.memo(()=>C.jsxs(Ji,{id:"achievements",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Key Achievements"}),C.jsx(Yi,{}),C.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsxs("ul",{className:"list-disc list-inside text-[#4b5563] space-y-3 text-lg",children:[C.jsxs("li",{children:["Completed ",C.jsx("strong",{children:"60+ Certifications"})," from IBM, Google, Meta, Microsoft, and Forage."]}),C.jsxs("li",{children:["Built and deployed ",C.jsx("strong",{children:"25+ AI/Data/Full-stack projects"})," solving real-world problems."]}),C.jsxs("li",{children:["Earned top-tier recognitions in job simulations at ",C.jsx("strong",{children:"BCG, Lloyds, BA, EA, TATA"}),", and more."]}),C.jsxs("li",{children:["Founded ",C.jsx("strong",{children:"JHT SMART STEPS LEARNING"})," – empowering students through digital education."]})]})]})]})),w4=vt.memo(({year:n,title:e,details:t,icon:r})=>C.jsxs(it.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[C.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center",children:r}),C.jsx("p",{className:"text-blue-500 mb-1 font-semibold",children:n}),C.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),C.jsx("p",{className:"text-[#4b5563] mt-1",children:t})]})),E4=vt.memo(()=>{const n=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:C.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:C.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:C.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return C.jsxs(Ji,{id:"journey",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Learning Journey"}),C.jsx(Yi,{}),C.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("div",{className:"space-y-12",children:n.map(e=>C.jsx(w4,{...e},e.title))})]})]})}),T4=ee.memo(({projects:n,isMobile:e})=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return C.jsxs(Ji,{id:"projects",className:"!py-0",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Projects"}),C.jsx(Yi,{}),C.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?C.jsx(it.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(o=>C.jsxs(it.div,{variants:r,className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[C.jsx("div",{className:"glow-effect"}),C.jsx("img",{loading:"lazy",src:o.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:o.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),C.jsx("h3",{className:"text-xl font-bold text-[#334155] mb-2",children:o.title}),C.jsx("p",{className:"text-[#4b5563] flex-grow mb-4",children:o.description}),C.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.tags?.map(a=>C.jsx("span",{className:"bg-[#dbeafe] text-[#1e3a8a] text-xs font-medium px-2.5 py-1 rounded-full",children:a},a))}),o.projectLink&&C.jsx("a",{href:o.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-[#2563eb] border border-[#2563eb] rounded-full py-2 px-4 hover:bg-[#2563eb] hover:text-white transition-all duration-300 z-10",children:"View Project"})]},o.id))}):C.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:C.jsx("p",{className:"text-center text-[#4b5563] text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]})}),S4=({url:n,onClose:e})=>C.jsx(Uh,{children:n&&C.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:C.jsxs(it.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[C.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Certificate Viewer"}),C.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsx("div",{className:"flex-grow p-2",children:C.jsx("iframe",{src:n,title:"Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})}),I4=vt.memo(({licensesPdfUrl:n,internshipsPdfUrl:e})=>{const[t,r]=ee.useState(null);return C.jsxs(C.Fragment,{children:[C.jsxs(Ji,{id:"certifications",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Certificates"}),C.jsx(Yi,{}),C.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[C.jsx(it.button,{onClick:()=>r(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),C.jsx(it.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),C.jsx(S4,{url:t,onClose:()=>r(null)})]})}),A4=({url:n,onClose:e})=>C.jsx(Uh,{children:n&&C.jsx(it.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:C.jsxs(it.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[C.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[C.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Internship Certificate"}),C.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:C.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),C.jsx("div",{className:"flex-grow p-2",children:C.jsx("iframe",{src:n,title:"Internship Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})});vt.memo(({internshipsPdfUrl:n})=>{const[e,t]=ee.useState(null);return C.jsxs(C.Fragment,{children:[C.jsxs(Ji,{id:"internships",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Internship Certificate"}),C.jsx(Yi,{}),C.jsx("div",{className:"text-center",children:C.jsx(it.button,{onClick:()=>t(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certificate"})})]}),C.jsx(A4,{url:e,onClose:()=>t(null)})]})});const P4=vt.memo(()=>{const[n,e]=ee.useState({submitting:!1,succeeded:!1,error:null}),t=ee.useCallback(async r=>{r.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const o=r.target,a=new FormData(o);try{const u=await fetch(o.action,{method:o.method,body:a,headers:{Accept:"application/json"}});if(u.ok)e({submitting:!1,succeeded:!0,error:null}),o.reset();else{const f=(await u.json()).errors?.map(m=>m.message).join(", ")||"An unknown error occurred.";throw new Error(f)}}catch(u){console.error("Form submission error:",u),e({submitting:!1,succeeded:!1,error:u.message})}},[]);return C.jsx("footer",{id:"contact",className:"bg-[#e2e8f0] border-t border-gray-300 mt-20",children:C.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[C.jsx("h2",{className:"text-4xl font-bold text-[#334155] mb-4",children:"Let's Connect"}),C.jsx("p",{className:"text-[#4b5563] max-w-2xl mx-auto mb-8",children:"I'm always eager to connect. Whether you have a project in mind, a question, or just want to say hi, my inbox is always open."}),C.jsxs("form",{action:"https://formspree.io/f/YOUR_UNIQUE_CODE",method:"POST",onSubmit:t,className:"max-w-xl mx-auto space-y-4 text-left",children:[C.jsx("input",{type:"email",name:"email",placeholder:"Your Email",className:"input-field",required:!0,disabled:n.submitting}),C.jsx("textarea",{name:"message",placeholder:"Your Message",className:"input-field h-32",required:!0,disabled:n.submitting}),C.jsx("button",{type:"submit",className:"btn-primary w-full",disabled:n.submitting,children:n.submitting?"Sending...":"Send Message"}),n.succeeded&&C.jsx("p",{className:"text-center text-green-600 font-medium mt-4",children:"Thanks for your message! I'll get back to you soon."}),n.error&&C.jsxs("p",{className:"text-center text-red-600 font-medium mt-4",children:["Oops! There was a problem. ",n.error]})]}),C.jsxs("div",{className:"border-t border-gray-300 mt-12 pt-8 text-[#64748b]",children:[C.jsxs("div",{className:"flex justify-center items-center gap-6 mb-4",children:[C.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#2563eb] transition-colors",children:C.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),C.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#334155] transition-colors",children:C.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:C.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]}),C.jsxs("p",{children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})]})})}),C4=ee.lazy(()=>jI(()=>import("./AdminPanel-D6rq81FR.js"),[])),x4={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},TS=kw(x4),Nc=TR(TS),R4=bk(TS),k4=(n=768)=>{const[e,t]=ee.useState(window.innerWidth<n);return ee.useEffect(()=>{const r=()=>t(window.innerWidth<n);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e};function V4(){const[n,e]=ee.useState("home"),[t,r]=ee.useState([]),[o,a]=ee.useState(""),[u,d]=ee.useState(""),[f,m]=ee.useState(!0),[v,w]=ee.useState(!1),E=k4(),A=ee.useCallback(async()=>{m(!0);try{const b=await LR(ER(Nc,"projects"));r(b.docs.map(W=>({id:W.id,...W.data()})))}catch(b){console.error("Error fetching projects: ",b)}try{const b=await O0(vp(Nc,"portfolioAssets","licenses"));b.exists()&&a(b.data().pdfUrl);const W=await O0(vp(Nc,"portfolioAssets","internships"));W.exists()&&d(W.data().pdfUrl)}catch(b){console.error("Error fetching portfolio assets: ",b)}finally{m(!1)}},[]);ee.useEffect(()=>{A();const b=()=>{const W=window.location.hash.replace("#","");e(W==="admin"?"admin":"home")};return window.addEventListener("hashchange",b,!1),b(),()=>window.removeEventListener("hashchange",b)},[A]);const O=ee.useCallback(()=>w(!1),[]),F=ee.useCallback(()=>w(b=>!b),[]);return f?C.jsx(gw,{}):C.jsxs($k,{features:i4,children:[C.jsx(a4,{}),C.jsx("div",{className:"relative text-[#334155] font-sans overflow-x-hidden",children:n==="admin"?C.jsx(ee.Suspense,{fallback:C.jsx(gw,{}),children:C.jsx(C4,{db:Nc,projects:t,fetchProjects:A,auth:R4})}):C.jsxs(C.Fragment,{children:[C.jsx(l4,{isMobileMenuOpen:v,closeMobileMenu:O,toggleMobileMenu:F}),C.jsxs("main",{className:"relative z-10",children:[C.jsx(m4,{}),C.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[C.jsx(g4,{}),C.jsx(y4,{}),C.jsx(v4,{}),C.jsx(_4,{}),C.jsx(E4,{}),C.jsx(T4,{projects:t,isMobile:E}),C.jsx(I4,{licensesPdfUrl:o,internshipsPdfUrl:u})]})]}),C.jsx(P4,{})]})})]})}class N4 extends vt.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?C.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh",padding:"2rem",textAlign:"center",fontFamily:"sans-serif",color:"#334155"},children:[C.jsx("h1",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"Something went wrong."}),C.jsx("p",{children:"Please refresh the page. The error has been logged to the developer console."})]}):this.props.children}}const D4=document.getElementById("root");MI.createRoot(D4).render(C.jsx(vt.StrictMode,{children:C.jsx(N4,{children:C.jsx(V4,{})})}));export{Uh as A,vt as R,vp as a,O4 as b,ER as c,L4 as d,C as j,it as m,j4 as o,ee as r,M4 as u};
