(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Kw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fp={exports:{}},jl={},pp={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function Wx(){if(N_)return Re;N_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function R(U,Q,le){this.props=U,this.context=Q,this.refs=N,this.updater=le||I}R.prototype.isReactComponent={},R.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=R.prototype;function W(U,Q,le){this.props=U,this.context=Q,this.refs=N,this.updater=le||I}var q=W.prototype=new F;q.constructor=W,k(q,R.prototype),q.isPureReactComponent=!0;var X=Array.isArray,J=Object.prototype.hasOwnProperty,oe={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function x(U,Q,le){var xe,Ce={},Ve=null,je=null;if(Q!=null)for(xe in Q.ref!==void 0&&(je=Q.ref),Q.key!==void 0&&(Ve=""+Q.key),Q)J.call(Q,xe)&&!D.hasOwnProperty(xe)&&(Ce[xe]=Q[xe]);var Ue=arguments.length-2;if(Ue===1)Ce.children=le;else if(1<Ue){for(var We=Array(Ue),bt=0;bt<Ue;bt++)We[bt]=arguments[bt+2];Ce.children=We}if(U&&U.defaultProps)for(xe in Ue=U.defaultProps,Ue)Ce[xe]===void 0&&(Ce[xe]=Ue[xe]);return{$$typeof:t,type:U,key:Ve,ref:je,props:Ce,_owner:oe.current}}function P(U,Q){return{$$typeof:t,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function O(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return Q[le]})}var B=/\/+/g;function b(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):Q.toString(36)}function Be(U,Q,le,xe,Ce){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(Ve){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0}}if(je)return je=U,Ce=Ce(je),U=xe===""?"."+b(je,0):xe,X(Ce)?(le="",U!=null&&(le=U.replace(B,"$&/")+"/"),Be(Ce,Q,le,"",function(bt){return bt})):Ce!=null&&(V(Ce)&&(Ce=P(Ce,le+(!Ce.key||je&&je.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+U)),Q.push(Ce)),1;if(je=0,xe=xe===""?".":xe+":",X(U))for(var Ue=0;Ue<U.length;Ue++){Ve=U[Ue];var We=xe+b(Ve,Ue);je+=Be(Ve,Q,le,We,Ce)}else if(We=E(U),typeof We=="function")for(U=We.call(U),Ue=0;!(Ve=U.next()).done;)Ve=Ve.value,We=xe+b(Ve,Ue++),je+=Be(Ve,Q,le,We,Ce);else if(Ve==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return je}function dt(U,Q,le){if(U==null)return U;var xe=[],Ce=0;return Be(U,xe,"","",function(Ve){return Q.call(le,Ve,Ce++)}),xe}function ut(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var Se={current:null},ie={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ie,ReactCurrentOwner:oe};function te(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:dt,forEach:function(U,Q,le){dt(U,function(){Q.apply(this,arguments)},le)},count:function(U){var Q=0;return dt(U,function(){Q++}),Q},toArray:function(U){return dt(U,function(Q){return Q})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=R,Re.Fragment=n,Re.Profiler=s,Re.PureComponent=W,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=te,Re.cloneElement=function(U,Q,le){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var xe=k({},U.props),Ce=U.key,Ve=U.ref,je=U._owner;if(Q!=null){if(Q.ref!==void 0&&(Ve=Q.ref,je=oe.current),Q.key!==void 0&&(Ce=""+Q.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(We in Q)J.call(Q,We)&&!D.hasOwnProperty(We)&&(xe[We]=Q[We]===void 0&&Ue!==void 0?Ue[We]:Q[We])}var We=arguments.length-2;if(We===1)xe.children=le;else if(1<We){Ue=Array(We);for(var bt=0;bt<We;bt++)Ue[bt]=arguments[bt+2];xe.children=Ue}return{$$typeof:t,type:U.type,key:Ce,ref:Ve,props:xe,_owner:je}},Re.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Re.createElement=x,Re.createFactory=function(U){var Q=x.bind(null,U);return Q.type=U,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:h,render:U}},Re.isValidElement=V,Re.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ut}},Re.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Re.startTransition=function(U){var Q=ie.transition;ie.transition={};try{U()}finally{ie.transition=Q}},Re.unstable_act=te,Re.useCallback=function(U,Q){return Se.current.useCallback(U,Q)},Re.useContext=function(U){return Se.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return Se.current.useDeferredValue(U)},Re.useEffect=function(U,Q){return Se.current.useEffect(U,Q)},Re.useId=function(){return Se.current.useId()},Re.useImperativeHandle=function(U,Q,le){return Se.current.useImperativeHandle(U,Q,le)},Re.useInsertionEffect=function(U,Q){return Se.current.useInsertionEffect(U,Q)},Re.useLayoutEffect=function(U,Q){return Se.current.useLayoutEffect(U,Q)},Re.useMemo=function(U,Q){return Se.current.useMemo(U,Q)},Re.useReducer=function(U,Q,le){return Se.current.useReducer(U,Q,le)},Re.useRef=function(U){return Se.current.useRef(U)},Re.useState=function(U){return Se.current.useState(U)},Re.useSyncExternalStore=function(U,Q,le){return Se.current.useSyncExternalStore(U,Q,le)},Re.useTransition=function(){return Se.current.useTransition()},Re.version="18.3.1",Re}var D_;function Bm(){return D_||(D_=1,pp.exports=Wx()),pp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function qx(){if(V_)return jl;V_=1;var t=Bm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(h,f,p){var g,_={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:I,props:_,_owner:s.current}}return jl.Fragment=n,jl.jsx=l,jl.jsxs=l,jl}var L_;function Kx(){return L_||(L_=1,fp.exports=qx()),fp.exports}var A=Kx(),L=Bm();const Ge=Kw(L);var oh={},mp={exports:{}},mn={},gp={exports:{}},yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function Gx(){return M_||(M_=1,function(t){function e(ie,me){var te=ie.length;ie.push(me);e:for(;0<te;){var U=te-1>>>1,Q=ie[U];if(0<s(Q,me))ie[U]=me,ie[te]=Q,te=U;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var me=ie[0],te=ie.pop();if(te!==me){ie[0]=te;e:for(var U=0,Q=ie.length,le=Q>>>1;U<le;){var xe=2*(U+1)-1,Ce=ie[xe],Ve=xe+1,je=ie[Ve];if(0>s(Ce,te))Ve<Q&&0>s(je,Ce)?(ie[U]=je,ie[Ve]=te,U=Ve):(ie[U]=Ce,ie[xe]=te,U=xe);else if(Ve<Q&&0>s(je,te))ie[U]=je,ie[Ve]=te,U=Ve;else break e}}return me}function s(ie,me){var te=ie.sortIndex-me.sortIndex;return te!==0?te:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],p=[],g=1,_=null,E=3,I=!1,k=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(ie){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ie)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=n(p)}}function X(ie){if(N=!1,q(ie),!k)if(n(f)!==null)k=!0,ut(J);else{var me=n(p);me!==null&&Se(X,me.startTime-ie)}}function J(ie,me){k=!1,N&&(N=!1,F(x),x=-1),I=!0;var te=E;try{for(q(me),_=n(f);_!==null&&(!(_.expirationTime>me)||ie&&!O());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var Q=U(_.expirationTime<=me);me=t.unstable_now(),typeof Q=="function"?_.callback=Q:_===n(f)&&r(f),q(me)}else r(f);_=n(f)}if(_!==null)var le=!0;else{var xe=n(p);xe!==null&&Se(X,xe.startTime-me),le=!1}return le}finally{_=null,E=te,I=!1}}var oe=!1,D=null,x=-1,P=5,V=-1;function O(){return!(t.unstable_now()-V<P)}function B(){if(D!==null){var ie=t.unstable_now();V=ie;var me=!0;try{me=D(!0,ie)}finally{me?b():(oe=!1,D=null)}}else oe=!1}var b;if(typeof W=="function")b=function(){W(B)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,dt=Be.port2;Be.port1.onmessage=B,b=function(){dt.postMessage(null)}}else b=function(){R(B,0)};function ut(ie){D=ie,oe||(oe=!0,b())}function Se(ie,me){x=R(function(){ie(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){k||I||(k=!0,ut(J))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var te=E;E=me;try{return ie()}finally{E=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var te=E;E=ie;try{return me()}finally{E=te}},t.unstable_scheduleCallback=function(ie,me,te){var U=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?U+te:U):te=U,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,ie={id:g++,callback:me,priorityLevel:ie,startTime:te,expirationTime:Q,sortIndex:-1},te>U?(ie.sortIndex=te,e(p,ie),n(f)===null&&ie===n(p)&&(N?(F(x),x=-1):N=!0,Se(X,te-U))):(ie.sortIndex=Q,e(f,ie),k||I||(k=!0,ut(J))),ie},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ie){var me=E;return function(){var te=E;E=me;try{return ie.apply(this,arguments)}finally{E=te}}}}(yp)),yp}var O_;function Qx(){return O_||(O_=1,gp.exports=Gx()),gp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Xx(){if(F_)return mn;F_=1;var t=Bm(),e=Qx();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function I(i,o,u,d){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function k(i,o,u,d){if(o===null||typeof o>"u"||I(i,o,u,d))return!0;if(d)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,u,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){R[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];R[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){R[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){R[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){R[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){R[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){R[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){R[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){R[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function W(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,W);R[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,W);R[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,W);R[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){R[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function q(i,o,u,d){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(k(o,u,m,d)&&(u=null),d||m===null?E(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,d=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,d?i.setAttributeNS(d,o,u):i.setAttribute(o,u))))}var X=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),oe=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,U;function Q(i){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var le=!1;function xe(i,o){if(!i||le)return"";le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(i,[],o)}else{try{o.call()}catch(K){d=K}i.call(o.prototype)}else{try{throw Error()}catch(K){d=K}i()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var m=K.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,C=v.length-1;1<=T&&0<=C&&m[T]!==v[C];)C--;for(;1<=T&&0<=C;T--,C--)if(m[T]!==v[C]){if(T!==1||C!==1)do if(T--,C--,0>C||m[T]!==v[C]){var M=`
`+m[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=C);break}}}finally{le=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Q(i):""}function Ce(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case oe:return"Portal";case P:return"Profiler";case x:return"StrictMode";case b:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case dt:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case ut:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function bt(i){var o=We(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Fr(i){i._valueTracker||(i._valueTracker=bt(i))}function po(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==u?(o.setValue(i),!0):!1}function yi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function gs(i,o){var u=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function mo(i,o){var u=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;u=Ue(o.value!=null?o.value:u),i._wrapperState={initialChecked:d,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Wa(i,o){o=o.checked,o!=null&&q(i,"checked",o,!1)}function qa(i,o){Wa(i,o);var u=Ue(o.value),d=o.type;if(u!=null)d==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?go(i,o.type,u):o.hasOwnProperty("defaultValue")&&go(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Wu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function go(i,o,u){(o!=="number"||yi(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var jr=Array.isArray;function Ur(i,o,u,d){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&d&&(i[u].defaultSelected=!0)}else{for(u=""+Ue(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Ka(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function yo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(jr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ue(u)}}function vo(i,o){var u=Ue(o.value),d=Ue(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),d!=null&&(i.defaultValue=""+d)}function Ga(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function St(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function It(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?St(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Br,Qa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Br.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function vi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vs=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(i){vs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ys[o]=ys[i]})});function Xa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ys.hasOwnProperty(i)&&ys[i]?(""+o).trim():o+"px"}function Ya(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var d=u.indexOf("--")===0,m=Xa(u,o[u],d);u==="float"&&(u="cssFloat"),d?i.setProperty(u,m):i[u]=m}}var Ja=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Za(i,o){if(o){if(Ja[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function el(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _s=null;function _o(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var wo=null,Cn=null,cr=null;function Eo(i){if(i=Il(i)){if(typeof wo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=Ec(o),wo(i.stateNode,i.type,o))}}function hr(i){Cn?cr?cr.push(i):cr=[i]:Cn=i}function tl(){if(Cn){var i=Cn,o=cr;if(cr=Cn=null,Eo(i),o)for(i=0;i<o.length;i++)Eo(o[i])}}function ws(i,o){return i(o)}function nl(){}var zr=!1;function rl(i,o,u){if(zr)return i(o,u);zr=!0;try{return ws(i,o,u)}finally{zr=!1,(Cn!==null||cr!==null)&&(nl(),tl())}}function ft(i,o){var u=i.stateNode;if(u===null)return null;var d=Ec(u);if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var To=!1;if(h)try{var $n={};Object.defineProperty($n,"passive",{get:function(){To=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{To=!1}function Es(i,o,u,d,m,v,T,C,M){var K=Array.prototype.slice.call(arguments,3);try{o.apply(u,K)}catch(ne){this.onError(ne)}}var Ts=!1,So=null,Hn=!1,il=null,Ud={onError:function(i){Ts=!0,So=i}};function Io(i,o,u,d,m,v,T,C,M){Ts=!1,So=null,Es.apply(Ud,arguments)}function qu(i,o,u,d,m,v,T,C,M){if(Io.apply(this,arguments),Ts){if(Ts){var K=So;Ts=!1,So=null}else throw Error(n(198));Hn||(Hn=!0,il=K)}}function Wn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function Ss(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function qn(i){if(Wn(i)!==i)throw Error(n(188))}function Ku(i){var o=i.alternate;if(!o){if(o=Wn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,d=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){u=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return qn(m),i;if(v===d)return qn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==d.return)u=m,d=v;else{for(var T=!1,C=m.child;C;){if(C===u){T=!0,u=m,d=v;break}if(C===d){T=!0,d=m,u=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===u){T=!0,u=v,d=m;break}if(C===d){T=!0,d=v,u=m;break}C=C.sibling}if(!T)throw Error(n(189))}}if(u.alternate!==d)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function sl(i){return i=Ku(i),i!==null?xo(i):null}function xo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=xo(i);if(o!==null)return o;i=i.sibling}return null}var Ao=e.unstable_scheduleCallback,ol=e.unstable_cancelCallback,Gu=e.unstable_shouldYield,Bd=e.unstable_requestPaint,qe=e.unstable_now,Qu=e.unstable_getCurrentPriorityLevel,Is=e.unstable_ImmediatePriority,_i=e.unstable_UserBlockingPriority,Rn=e.unstable_NormalPriority,al=e.unstable_LowPriority,Xu=e.unstable_IdlePriority,xs=null,vn=null;function Yu(i){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(xs,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Zu,ll=Math.log,Ju=Math.LN2;function Zu(i){return i>>>=0,i===0?32:31-(ll(i)/Ju|0)|0}var Po=64,Co=4194304;function wi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function As(i,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,T=u&268435455;if(T!==0){var C=T&~m;C!==0?d=wi(C):(v&=T,v!==0&&(d=wi(v)))}else T=u&~m,T!==0?d=wi(T):v!==0&&(d=wi(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)u=31-nn(o),m=1<<u,d|=i[u],o&=~m;return d}function zd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(i,o){for(var u=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-nn(v),C=1<<T,M=m[T];M===-1?((C&u)===0||(C&d)!==0)&&(m[T]=zd(C,o)):M<=o&&(i.expiredLanes|=C),v&=~C}}function _n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ps(){var i=Po;return Po<<=1,(Po&4194240)===0&&(Po=64),i}function Ei(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ti(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nn(o),i[o]=u}function He(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-nn(u),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,u&=~v}}function Si(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var d=31-nn(u),m=1<<d;m&o|i[d]&o&&(i[d]|=o),u&=~m}}var De=0;function Ii(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var ec,Ro,tc,nc,rc,ul=!1,dr=[],Ft=null,Kn=null,Gn=null,xi=new Map,kn=new Map,fr=[],$d="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(i,o){switch(i){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(o.pointerId)}}function ln(i,o,u,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Il(o),o!==null&&Ro(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Hd(i,o,u,d,m){switch(o){case"focusin":return Ft=ln(Ft,i,o,u,d,m),!0;case"dragenter":return Kn=ln(Kn,i,o,u,d,m),!0;case"mouseover":return Gn=ln(Gn,i,o,u,d,m),!0;case"pointerover":var v=m.pointerId;return xi.set(v,ln(xi.get(v)||null,i,o,u,d,m)),!0;case"gotpointercapture":return v=m.pointerId,kn.set(v,ln(kn.get(v)||null,i,o,u,d,m)),!0}return!1}function sc(i){var o=Ns(i.target);if(o!==null){var u=Wn(o);if(u!==null){if(o=u.tag,o===13){if(o=Ss(u),o!==null){i.blockedOn=o,rc(i.priority,function(){tc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var d=new u.constructor(u.type,u);_s=d,u.target.dispatchEvent(d),_s=null}else return o=Il(u),o!==null&&Ro(o),i.blockedOn=u,!1;o.shift()}return!0}function Cs(i,o,u){Hr(i)&&u.delete(o)}function oc(){ul=!1,Ft!==null&&Hr(Ft)&&(Ft=null),Kn!==null&&Hr(Kn)&&(Kn=null),Gn!==null&&Hr(Gn)&&(Gn=null),xi.forEach(Cs),kn.forEach(Cs)}function Qn(i,o){i.blockedOn===o&&(i.blockedOn=null,ul||(ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oc)))}function Xn(i){function o(m){return Qn(m,i)}if(0<dr.length){Qn(dr[0],i);for(var u=1;u<dr.length;u++){var d=dr[u];d.blockedOn===i&&(d.blockedOn=null)}}for(Ft!==null&&Qn(Ft,i),Kn!==null&&Qn(Kn,i),Gn!==null&&Qn(Gn,i),xi.forEach(o),kn.forEach(o),u=0;u<fr.length;u++)d=fr[u],d.blockedOn===i&&(d.blockedOn=null);for(;0<fr.length&&(u=fr[0],u.blockedOn===null);)sc(u),u.blockedOn===null&&fr.shift()}var Wr=X.ReactCurrentBatchConfig,Ai=!0;function tt(i,o,u,d){var m=De,v=Wr.transition;Wr.transition=null;try{De=1,cl(i,o,u,d)}finally{De=m,Wr.transition=v}}function Wd(i,o,u,d){var m=De,v=Wr.transition;Wr.transition=null;try{De=4,cl(i,o,u,d)}finally{De=m,Wr.transition=v}}function cl(i,o,u,d){if(Ai){var m=ko(i,o,u,d);if(m===null)nf(i,o,d,Rs,u),ic(i,d);else if(Hd(m,i,o,u,d))d.stopPropagation();else if(ic(i,d),o&4&&-1<$d.indexOf(i)){for(;m!==null;){var v=Il(m);if(v!==null&&ec(v),v=ko(i,o,u,d),v===null&&nf(i,o,d,Rs,u),v===m)break;m=v}m!==null&&d.stopPropagation()}else nf(i,o,d,null,u)}}var Rs=null;function ko(i,o,u,d){if(Rs=null,i=_o(d),i=Ns(i),i!==null)if(o=Wn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=Ss(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Rs=i,null}function hl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qu()){case Is:return 1;case _i:return 4;case Rn:case al:return 16;case Xu:return 536870912;default:return 16}default:return 16}}var wn=null,bo=null,un=null;function dl(){if(un)return un;var i,o=bo,u=o.length,d,m="value"in wn?wn.value:wn.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var T=u-i;for(d=1;d<=T&&o[u-d]===m[v-d];d++);return un=m.slice(i,1<d?1-d:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pr(){return!0}function fl(){return!1}function jt(i){function o(u,d,m,v,T){this._reactName=u,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(u=i[C],this[C]=u?u(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?pr:fl,this.isPropagationStopped=fl,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),o}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Do=jt(Yn),mr=te({},Yn,{view:0,detail:0}),qd=jt(mr),Vo,qr,Pi,ks=te({},mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pi&&(Pi&&i.type==="mousemove"?(Vo=i.screenX-Pi.screenX,qr=i.screenY-Pi.screenY):qr=Vo=0,Pi=i),Vo)},movementY:function(i){return"movementY"in i?i.movementY:qr}}),Lo=jt(ks),pl=te({},ks,{dataTransfer:0}),ac=jt(pl),Mo=te({},mr,{relatedTarget:0}),Oo=jt(Mo),lc=te({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Kr=jt(lc),uc=te({},Yn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),cc=jt(uc),hc=te({},Yn,{data:0}),ml=jt(hc),Fo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=dc[i])?!!o[i]:!1}function gr(){return fc}var c=te({},mr,{key:function(i){if(i.key){var o=Fo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=jt(c),w=te({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=jt(w),z=te({},mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),G=jt(z),ae=te({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=jt(ae),xt=te({},ks,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=jt(xt),Nt=[9,13,27,32],yt=h&&"CompositionEvent"in window,bn=null;h&&"documentMode"in document&&(bn=document.documentMode);var En=h&&"TextEvent"in window&&!bn,bs=h&&(!yt||bn&&8<bn&&11>=bn),jo=" ",Ay=!1;function Py(i,o){switch(i){case"keyup":return Nt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Uo=!1;function zI(i,o){switch(i){case"compositionend":return Cy(o);case"keypress":return o.which!==32?null:(Ay=!0,jo);case"textInput":return i=o.data,i===jo&&Ay?null:i;default:return null}}function $I(i,o){if(Uo)return i==="compositionend"||!yt&&Py(i,o)?(i=dl(),un=bo=wn=null,Uo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return bs&&o.locale!=="ko"?null:o.data;default:return null}}var HI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ry(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!HI[i.type]:o==="textarea"}function ky(i,o,u,d){hr(d),o=vc(o,"onChange"),0<o.length&&(u=new Do("onChange","change",null,u,d),i.push({event:u,listeners:o}))}var gl=null,yl=null;function WI(i){Gy(i,0)}function pc(i){var o=Wo(i);if(po(o))return i}function qI(i,o){if(i==="change")return o}var by=!1;if(h){var Kd;if(h){var Gd="oninput"in document;if(!Gd){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),Gd=typeof Ny.oninput=="function"}Kd=Gd}else Kd=!1;by=Kd&&(!document.documentMode||9<document.documentMode)}function Dy(){gl&&(gl.detachEvent("onpropertychange",Vy),yl=gl=null)}function Vy(i){if(i.propertyName==="value"&&pc(yl)){var o=[];ky(o,yl,i,_o(i)),rl(WI,o)}}function KI(i,o,u){i==="focusin"?(Dy(),gl=o,yl=u,gl.attachEvent("onpropertychange",Vy)):i==="focusout"&&Dy()}function GI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return pc(yl)}function QI(i,o){if(i==="click")return pc(o)}function XI(i,o){if(i==="input"||i==="change")return pc(o)}function YI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Jn=typeof Object.is=="function"?Object.is:YI;function vl(i,o){if(Jn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var m=u[d];if(!f.call(o,m)||!Jn(i[m],o[m]))return!1}return!0}function Ly(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function My(i,o){var u=Ly(i);i=0;for(var d;u;){if(u.nodeType===3){if(d=i+u.textContent.length,i<=o&&d>=o)return{node:u,offset:o-i};i=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ly(u)}}function Oy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Oy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Fy(){for(var i=window,o=yi();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=yi(i.document)}return o}function Qd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function JI(i){var o=Fy(),u=i.focusedElem,d=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&Oy(u.ownerDocument.documentElement,u)){if(d!==null&&Qd(u)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=My(u,v);var T=My(u,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ZI=h&&"documentMode"in document&&11>=document.documentMode,Bo=null,Xd=null,_l=null,Yd=!1;function jy(i,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Yd||Bo==null||Bo!==yi(d)||(d=Bo,"selectionStart"in d&&Qd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),_l&&vl(_l,d)||(_l=d,d=vc(Xd,"onSelect"),0<d.length&&(o=new Do("onSelect","select",null,o,u),i.push({event:o,listeners:d}),o.target=Bo)))}function mc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var zo={animationend:mc("Animation","AnimationEnd"),animationiteration:mc("Animation","AnimationIteration"),animationstart:mc("Animation","AnimationStart"),transitionend:mc("Transition","TransitionEnd")},Jd={},Uy={};h&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function gc(i){if(Jd[i])return Jd[i];if(!zo[i])return i;var o=zo[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Uy)return Jd[i]=o[u];return i}var By=gc("animationend"),zy=gc("animationiteration"),$y=gc("animationstart"),Hy=gc("transitionend"),Wy=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ci(i,o){Wy.set(i,o),a(o,[i])}for(var Zd=0;Zd<qy.length;Zd++){var ef=qy[Zd],ex=ef.toLowerCase(),tx=ef[0].toUpperCase()+ef.slice(1);Ci(ex,"on"+tx)}Ci(By,"onAnimationEnd"),Ci(zy,"onAnimationIteration"),Ci($y,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(Hy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function Ky(i,o,u){var d=i.type||"unknown-event";i.currentTarget=u,qu(d,o,void 0,i),i.currentTarget=null}function Gy(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var d=i[u],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var C=d[T],M=C.instance,K=C.currentTarget;if(C=C.listener,M!==v&&m.isPropagationStopped())break e;Ky(m,C,K),v=M}else for(T=0;T<d.length;T++){if(C=d[T],M=C.instance,K=C.currentTarget,C=C.listener,M!==v&&m.isPropagationStopped())break e;Ky(m,C,K),v=M}}}if(Hn)throw i=il,Hn=!1,il=null,i}function Qe(i,o){var u=o[uf];u===void 0&&(u=o[uf]=new Set);var d=i+"__bubble";u.has(d)||(Qy(o,i,2,!1),u.add(d))}function tf(i,o,u){var d=0;o&&(d|=4),Qy(u,i,d,o)}var yc="_reactListening"+Math.random().toString(36).slice(2);function El(i){if(!i[yc]){i[yc]=!0,r.forEach(function(u){u!=="selectionchange"&&(nx.has(u)||tf(u,!1,i),tf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[yc]||(o[yc]=!0,tf("selectionchange",!1,o))}}function Qy(i,o,u,d){switch(hl(o)){case 1:var m=tt;break;case 4:m=Wd;break;default:m=cl}u=m.bind(null,o,u,i),m=void 0,!To||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function nf(i,o,u,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;C!==null;){if(T=Ns(C),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}C=C.parentNode}}d=d.return}rl(function(){var K=v,ne=_o(u),re=[];e:{var ee=Wy.get(i);if(ee!==void 0){var ue=Do,de=i;switch(i){case"keypress":if(No(u)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":de="focus",ue=Oo;break;case"focusout":de="blur",ue=Oo;break;case"beforeblur":case"afterblur":ue=Oo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case By:case zy:case $y:ue=Kr;break;case Hy:ue=$e;break;case"scroll":ue=qd;break;case"wheel":ue=Le;break;case"copy":case"cut":case"paste":ue=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var fe=(o&4)!==0,pt=!fe&&i==="scroll",$=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var j=K,H;j!==null;){H=j;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,$!==null&&(se=ft(j,$),se!=null&&fe.push(Tl(j,se,H)))),pt)break;j=j.return}0<fe.length&&(ee=new ue(ee,de,null,u,ne),re.push({event:ee,listeners:fe}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&u!==_s&&(de=u.relatedTarget||u.fromElement)&&(Ns(de)||de[Gr]))break e;if((ue||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=u.relatedTarget||u.toElement,ue=K,de=de?Ns(de):null,de!==null&&(pt=Wn(de),de!==pt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=K),ue!==de)){if(fe=Lo,se="onMouseLeave",$="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(fe=S,se="onPointerLeave",$="onPointerEnter",j="pointer"),pt=ue==null?ee:Wo(ue),H=de==null?ee:Wo(de),ee=new fe(se,j+"leave",ue,u,ne),ee.target=pt,ee.relatedTarget=H,se=null,Ns(ne)===K&&(fe=new fe($,j+"enter",de,u,ne),fe.target=H,fe.relatedTarget=pt,se=fe),pt=se,ue&&de)t:{for(fe=ue,$=de,j=0,H=fe;H;H=$o(H))j++;for(H=0,se=$;se;se=$o(se))H++;for(;0<j-H;)fe=$o(fe),j--;for(;0<H-j;)$=$o($),H--;for(;j--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=$o(fe),$=$o($)}fe=null}else fe=null;ue!==null&&Xy(re,ee,ue,fe,!1),de!==null&&pt!==null&&Xy(re,pt,de,fe,!0)}}e:{if(ee=K?Wo(K):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=qI;else if(Ry(ee))if(by)ge=XI;else{ge=GI;var ve=KI}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=QI);if(ge&&(ge=ge(i,K))){ky(re,ge,u,ne);break e}ve&&ve(i,ee,K),i==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&go(ee,"number",ee.value)}switch(ve=K?Wo(K):window,i){case"focusin":(Ry(ve)||ve.contentEditable==="true")&&(Bo=ve,Xd=K,_l=null);break;case"focusout":_l=Xd=Bo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,jy(re,u,ne);break;case"selectionchange":if(ZI)break;case"keydown":case"keyup":jy(re,u,ne)}var _e;if(yt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Uo?Py(i,u)&&(Ie="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(bs&&u.locale!=="ko"&&(Uo||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Uo&&(_e=dl()):(wn=ne,bo="value"in wn?wn.value:wn.textContent,Uo=!0)),ve=vc(K,Ie),0<ve.length&&(Ie=new ml(Ie,i,null,u,ne),re.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=Cy(u),_e!==null&&(Ie.data=_e)))),(_e=En?zI(i,u):$I(i,u))&&(K=vc(K,"onBeforeInput"),0<K.length&&(ne=new ml("onBeforeInput","beforeinput",null,u,ne),re.push({event:ne,listeners:K}),ne.data=_e))}Gy(re,o)})}function Tl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function vc(i,o){for(var u=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ft(i,u),v!=null&&d.unshift(Tl(i,v,m)),v=ft(i,o),v!=null&&d.push(Tl(i,v,m))),i=i.return}return d}function $o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Xy(i,o,u,d,m){for(var v=o._reactName,T=[];u!==null&&u!==d;){var C=u,M=C.alternate,K=C.stateNode;if(M!==null&&M===d)break;C.tag===5&&K!==null&&(C=K,m?(M=ft(u,v),M!=null&&T.unshift(Tl(u,M,C))):m||(M=ft(u,v),M!=null&&T.push(Tl(u,M,C)))),u=u.return}T.length!==0&&i.push({event:o,listeners:T})}var rx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function Yy(i){return(typeof i=="string"?i:""+i).replace(rx,`
`).replace(ix,"")}function _c(i,o,u){if(o=Yy(o),Yy(i)!==o&&u)throw Error(n(425))}function wc(){}var rf=null,sf=null;function of(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var af=typeof setTimeout=="function"?setTimeout:void 0,sx=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,ox=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(i){return Jy.resolve(null).then(i).catch(ax)}:af;function ax(i){setTimeout(function(){throw i})}function lf(i,o){var u=o,d=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(d===0){i.removeChild(m),Xn(o);return}d--}else u!=="$"&&u!=="$?"&&u!=="$!"||d++;u=m}while(u);Xn(o)}function Ri(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Zy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),yr="__reactFiber$"+Ho,Sl="__reactProps$"+Ho,Gr="__reactContainer$"+Ho,uf="__reactEvents$"+Ho,lx="__reactListeners$"+Ho,ux="__reactHandles$"+Ho;function Ns(i){var o=i[yr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Gr]||u[yr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Zy(i);i!==null;){if(u=i[yr])return u;i=Zy(i)}return o}i=u,u=i.parentNode}return null}function Il(i){return i=i[yr]||i[Gr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Wo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function Ec(i){return i[Sl]||null}var cf=[],qo=-1;function ki(i){return{current:i}}function Xe(i){0>qo||(i.current=cf[qo],cf[qo]=null,qo--)}function Ke(i,o){qo++,cf[qo]=i.current,i.current=o}var bi={},qt=ki(bi),cn=ki(!1),Ds=bi;function Ko(i,o){var u=i.type.contextTypes;if(!u)return bi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function hn(i){return i=i.childContextTypes,i!=null}function Tc(){Xe(cn),Xe(qt)}function ev(i,o,u){if(qt.current!==bi)throw Error(n(168));Ke(qt,o),Ke(cn,u)}function tv(i,o,u){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return u;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,je(i)||"Unknown",m));return te({},u,d)}function Sc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bi,Ds=qt.current,Ke(qt,i),Ke(cn,cn.current),!0}function nv(i,o,u){var d=i.stateNode;if(!d)throw Error(n(169));u?(i=tv(i,o,Ds),d.__reactInternalMemoizedMergedChildContext=i,Xe(cn),Xe(qt),Ke(qt,i)):Xe(cn),Ke(cn,u)}var Qr=null,Ic=!1,hf=!1;function rv(i){Qr===null?Qr=[i]:Qr.push(i)}function cx(i){Ic=!0,rv(i)}function Ni(){if(!hf&&Qr!==null){hf=!0;var i=0,o=De;try{var u=Qr;for(De=1;i<u.length;i++){var d=u[i];do d=d(!0);while(d!==null)}Qr=null,Ic=!1}catch(m){throw Qr!==null&&(Qr=Qr.slice(i+1)),Ao(Is,Ni),m}finally{De=o,hf=!1}}return null}var Go=[],Qo=0,xc=null,Ac=0,Nn=[],Dn=0,Vs=null,Xr=1,Yr="";function Ls(i,o){Go[Qo++]=Ac,Go[Qo++]=xc,xc=i,Ac=o}function iv(i,o,u){Nn[Dn++]=Xr,Nn[Dn++]=Yr,Nn[Dn++]=Vs,Vs=i;var d=Xr;i=Yr;var m=32-nn(d)-1;d&=~(1<<m),u+=1;var v=32-nn(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Xr=1<<32-nn(o)+m|u<<m|d,Yr=v+i}else Xr=1<<v|u<<m|d,Yr=i}function df(i){i.return!==null&&(Ls(i,1),iv(i,1,0))}function ff(i){for(;i===xc;)xc=Go[--Qo],Go[Qo]=null,Ac=Go[--Qo],Go[Qo]=null;for(;i===Vs;)Vs=Nn[--Dn],Nn[Dn]=null,Yr=Nn[--Dn],Nn[Dn]=null,Xr=Nn[--Dn],Nn[Dn]=null}var Tn=null,Sn=null,nt=!1,Zn=null;function sv(i,o){var u=On(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function ov(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Tn=i,Sn=Ri(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Tn=i,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Vs!==null?{id:Xr,overflow:Yr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=On(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Tn=i,Sn=null,!0):!1;default:return!1}}function pf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function mf(i){if(nt){var o=Sn;if(o){var u=o;if(!ov(i,o)){if(pf(i))throw Error(n(418));o=Ri(u.nextSibling);var d=Tn;o&&ov(i,o)?sv(d,u):(i.flags=i.flags&-4097|2,nt=!1,Tn=i)}}else{if(pf(i))throw Error(n(418));i.flags=i.flags&-4097|2,nt=!1,Tn=i}}}function av(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tn=i}function Pc(i){if(i!==Tn)return!1;if(!nt)return av(i),nt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!of(i.type,i.memoizedProps)),o&&(o=Sn)){if(pf(i))throw lv(),Error(n(418));for(;o;)sv(i,o),o=Ri(o.nextSibling)}if(av(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Sn=Ri(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Sn=null}}else Sn=Tn?Ri(i.stateNode.nextSibling):null;return!0}function lv(){for(var i=Sn;i;)i=Ri(i.nextSibling)}function Xo(){Sn=Tn=null,nt=!1}function gf(i){Zn===null?Zn=[i]:Zn.push(i)}var hx=X.ReactCurrentBatchConfig;function xl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var d=u.stateNode}if(!d)throw Error(n(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var C=m.refs;T===null?delete C[v]:C[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Cc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function uv(i){var o=i._init;return o(i._payload)}function cv(i){function o($,j){if(i){var H=$.deletions;H===null?($.deletions=[j],$.flags|=16):H.push(j)}}function u($,j){if(!i)return null;for(;j!==null;)o($,j),j=j.sibling;return null}function d($,j){for($=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function m($,j){return $=Ui($,j),$.index=0,$.sibling=null,$}function v($,j,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<j?($.flags|=2,j):H):($.flags|=2,j)):($.flags|=1048576,j)}function T($){return i&&$.alternate===null&&($.flags|=2),$}function C($,j,H,se){return j===null||j.tag!==6?(j=ap(H,$.mode,se),j.return=$,j):(j=m(j,H),j.return=$,j)}function M($,j,H,se){var ge=H.type;return ge===D?ne($,j,H.props.children,se,H.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ut&&uv(ge)===j.type)?(se=m(j,H.props),se.ref=xl($,j,H),se.return=$,se):(se=Jc(H.type,H.key,H.props,null,$.mode,se),se.ref=xl($,j,H),se.return=$,se)}function K($,j,H,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=lp(H,$.mode,se),j.return=$,j):(j=m(j,H.children||[]),j.return=$,j)}function ne($,j,H,se,ge){return j===null||j.tag!==7?(j=$s(H,$.mode,se,ge),j.return=$,j):(j=m(j,H),j.return=$,j)}function re($,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ap(""+j,$.mode,H),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case J:return H=Jc(j.type,j.key,j.props,null,$.mode,H),H.ref=xl($,null,j),H.return=$,H;case oe:return j=lp(j,$.mode,H),j.return=$,j;case ut:var se=j._init;return re($,se(j._payload),H)}if(jr(j)||me(j))return j=$s(j,$.mode,H,null),j.return=$,j;Cc($,j)}return null}function ee($,j,H,se){var ge=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:C($,j,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case J:return H.key===ge?M($,j,H,se):null;case oe:return H.key===ge?K($,j,H,se):null;case ut:return ge=H._init,ee($,j,ge(H._payload),se)}if(jr(H)||me(H))return ge!==null?null:ne($,j,H,se,null);Cc($,H)}return null}function ue($,j,H,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(H)||null,C(j,$,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case J:return $=$.get(se.key===null?H:se.key)||null,M(j,$,se,ge);case oe:return $=$.get(se.key===null?H:se.key)||null,K(j,$,se,ge);case ut:var ve=se._init;return ue($,j,H,ve(se._payload),ge)}if(jr(se)||me(se))return $=$.get(H)||null,ne(j,$,se,ge,null);Cc(j,se)}return null}function de($,j,H,se){for(var ge=null,ve=null,_e=j,Ie=j=0,Lt=null;_e!==null&&Ie<H.length;Ie++){_e.index>Ie?(Lt=_e,_e=null):Lt=_e.sibling;var Fe=ee($,_e,H[Ie],se);if(Fe===null){_e===null&&(_e=Lt);break}i&&_e&&Fe.alternate===null&&o($,_e),j=v(Fe,j,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe,_e=Lt}if(Ie===H.length)return u($,_e),nt&&Ls($,Ie),ge;if(_e===null){for(;Ie<H.length;Ie++)_e=re($,H[Ie],se),_e!==null&&(j=v(_e,j,Ie),ve===null?ge=_e:ve.sibling=_e,ve=_e);return nt&&Ls($,Ie),ge}for(_e=d($,_e);Ie<H.length;Ie++)Lt=ue(_e,$,Ie,H[Ie],se),Lt!==null&&(i&&Lt.alternate!==null&&_e.delete(Lt.key===null?Ie:Lt.key),j=v(Lt,j,Ie),ve===null?ge=Lt:ve.sibling=Lt,ve=Lt);return i&&_e.forEach(function(Bi){return o($,Bi)}),nt&&Ls($,Ie),ge}function fe($,j,H,se){var ge=me(H);if(typeof ge!="function")throw Error(n(150));if(H=ge.call(H),H==null)throw Error(n(151));for(var ve=ge=null,_e=j,Ie=j=0,Lt=null,Fe=H.next();_e!==null&&!Fe.done;Ie++,Fe=H.next()){_e.index>Ie?(Lt=_e,_e=null):Lt=_e.sibling;var Bi=ee($,_e,Fe.value,se);if(Bi===null){_e===null&&(_e=Lt);break}i&&_e&&Bi.alternate===null&&o($,_e),j=v(Bi,j,Ie),ve===null?ge=Bi:ve.sibling=Bi,ve=Bi,_e=Lt}if(Fe.done)return u($,_e),nt&&Ls($,Ie),ge;if(_e===null){for(;!Fe.done;Ie++,Fe=H.next())Fe=re($,Fe.value,se),Fe!==null&&(j=v(Fe,j,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return nt&&Ls($,Ie),ge}for(_e=d($,_e);!Fe.done;Ie++,Fe=H.next())Fe=ue(_e,$,Ie,Fe.value,se),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ie:Fe.key),j=v(Fe,j,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(Hx){return o($,Hx)}),nt&&Ls($,Ie),ge}function pt($,j,H,se){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case J:e:{for(var ge=H.key,ve=j;ve!==null;){if(ve.key===ge){if(ge=H.type,ge===D){if(ve.tag===7){u($,ve.sibling),j=m(ve,H.props.children),j.return=$,$=j;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ut&&uv(ge)===ve.type){u($,ve.sibling),j=m(ve,H.props),j.ref=xl($,ve,H),j.return=$,$=j;break e}u($,ve);break}else o($,ve);ve=ve.sibling}H.type===D?(j=$s(H.props.children,$.mode,se,H.key),j.return=$,$=j):(se=Jc(H.type,H.key,H.props,null,$.mode,se),se.ref=xl($,j,H),se.return=$,$=se)}return T($);case oe:e:{for(ve=H.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){u($,j.sibling),j=m(j,H.children||[]),j.return=$,$=j;break e}else{u($,j);break}else o($,j);j=j.sibling}j=lp(H,$.mode,se),j.return=$,$=j}return T($);case ut:return ve=H._init,pt($,j,ve(H._payload),se)}if(jr(H))return de($,j,H,se);if(me(H))return fe($,j,H,se);Cc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,j!==null&&j.tag===6?(u($,j.sibling),j=m(j,H),j.return=$,$=j):(u($,j),j=ap(H,$.mode,se),j.return=$,$=j),T($)):u($,j)}return pt}var Yo=cv(!0),hv=cv(!1),Rc=ki(null),kc=null,Jo=null,yf=null;function vf(){yf=Jo=kc=null}function _f(i){var o=Rc.current;Xe(Rc),i._currentValue=o}function wf(i,o,u){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===u)break;i=i.return}}function Zo(i,o){kc=i,yf=Jo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(dn=!0),i.firstContext=null)}function Vn(i){var o=i._currentValue;if(yf!==i)if(i={context:i,memoizedValue:o,next:null},Jo===null){if(kc===null)throw Error(n(308));Jo=i,kc.dependencies={lanes:0,firstContext:i}}else Jo=Jo.next=i;return o}var Ms=null;function Ef(i){Ms===null?Ms=[i]:Ms.push(i)}function dv(i,o,u,d){var m=o.interleaved;return m===null?(u.next=u,Ef(o)):(u.next=m.next,m.next=u),o.interleaved=u,Jr(i,d)}function Jr(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Di=!1;function Tf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Zr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Vi(i,o,u){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Jr(i,u)}return m=d.interleaved,m===null?(o.next=o,Ef(d)):(o.next=m.next,m.next=o),d.interleaved=o,Jr(i,u)}function bc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Si(i,u)}}function pv(i,o){var u=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=T:v=v.next=T,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Nc(i,o,u,d){var m=i.updateQueue;Di=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var M=C,K=M.next;M.next=null,T===null?v=K:T.next=K,T=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==T&&(C===null?ne.firstBaseUpdate=K:C.next=K,ne.lastBaseUpdate=M))}if(v!==null){var re=m.baseState;T=0,ne=K=M=null,C=v;do{var ee=C.lane,ue=C.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=i,fe=C;switch(ee=o,ue=u,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){re=de.call(ue,re,ee);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,ee=typeof de=="function"?de.call(ue,re,ee):de,ee==null)break e;re=te({},re,ee);break e;case 2:Di=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[C]:ee.push(C))}else ue={eventTime:ue,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(K=ne=ue,M=re):ne=ne.next=ue,T|=ee;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(M=re),m.baseState=M,m.firstBaseUpdate=K,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);js|=T,i.lanes=T,i.memoizedState=re}}function mv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=u,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Al={},vr=ki(Al),Pl=ki(Al),Cl=ki(Al);function Os(i){if(i===Al)throw Error(n(174));return i}function Sf(i,o){switch(Ke(Cl,o),Ke(Pl,i),Ke(vr,Al),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:It(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=It(o,i)}Xe(vr),Ke(vr,o)}function ea(){Xe(vr),Xe(Pl),Xe(Cl)}function gv(i){Os(Cl.current);var o=Os(vr.current),u=It(o,i.type);o!==u&&(Ke(Pl,i),Ke(vr,u))}function If(i){Pl.current===i&&(Xe(vr),Xe(Pl))}var rt=ki(0);function Dc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var xf=[];function Af(){for(var i=0;i<xf.length;i++)xf[i]._workInProgressVersionPrimary=null;xf.length=0}var Vc=X.ReactCurrentDispatcher,Pf=X.ReactCurrentBatchConfig,Fs=0,it=null,At=null,Dt=null,Lc=!1,Rl=!1,kl=0,dx=0;function Kt(){throw Error(n(321))}function Cf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Jn(i[u],o[u]))return!1;return!0}function Rf(i,o,u,d,m,v){if(Fs=v,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vc.current=i===null||i.memoizedState===null?gx:yx,i=u(d,m),Rl){v=0;do{if(Rl=!1,kl=0,25<=v)throw Error(n(301));v+=1,Dt=At=null,o.updateQueue=null,Vc.current=vx,i=u(d,m)}while(Rl)}if(Vc.current=Fc,o=At!==null&&At.next!==null,Fs=0,Dt=At=it=null,Lc=!1,o)throw Error(n(300));return i}function kf(){var i=kl!==0;return kl=0,i}function _r(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?it.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function Ln(){if(At===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=Dt===null?it.memoizedState:Dt.next;if(o!==null)Dt=o,At=i;else{if(i===null)throw Error(n(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Dt===null?it.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function bl(i,o){return typeof o=="function"?o(i):o}function bf(i){var o=Ln(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=At,m=d.baseQueue,v=u.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,d=d.baseState;var C=T=null,M=null,K=v;do{var ne=K.lane;if((Fs&ne)===ne)M!==null&&(M=M.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:i(d,K.action);else{var re={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};M===null?(C=M=re,T=d):M=M.next=re,it.lanes|=ne,js|=ne}K=K.next}while(K!==null&&K!==v);M===null?T=d:M.next=C,Jn(d,o.memoizedState)||(dn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,u.lastRenderedState=d}if(i=u.interleaved,i!==null){m=i;do v=m.lane,it.lanes|=v,js|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Nf(i){var o=Ln(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var d=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Jn(v,o.memoizedState)||(dn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,d]}function yv(){}function vv(i,o){var u=it,d=Ln(),m=o(),v=!Jn(d.memoizedState,m);if(v&&(d.memoizedState=m,dn=!0),d=d.queue,Df(Ev.bind(null,u,d,i),[i]),d.getSnapshot!==o||v||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Nl(9,wv.bind(null,u,d,m,o),void 0,null),Vt===null)throw Error(n(349));(Fs&30)!==0||_v(u,o,m)}return m}function _v(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function wv(i,o,u,d){o.value=u,o.getSnapshot=d,Tv(o)&&Sv(i)}function Ev(i,o,u){return u(function(){Tv(o)&&Sv(i)})}function Tv(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Jn(i,u)}catch{return!0}}function Sv(i){var o=Jr(i,1);o!==null&&rr(o,i,1,-1)}function Iv(i){var o=_r();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:i},o.queue=i,i=i.dispatch=mx.bind(null,it,i),[o.memoizedState,i]}function Nl(i,o,u,d){return i={tag:i,create:o,destroy:u,deps:d,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(d=u.next,u.next=i,i.next=d,o.lastEffect=i)),i}function xv(){return Ln().memoizedState}function Mc(i,o,u,d){var m=_r();it.flags|=i,m.memoizedState=Nl(1|o,u,void 0,d===void 0?null:d)}function Oc(i,o,u,d){var m=Ln();d=d===void 0?null:d;var v=void 0;if(At!==null){var T=At.memoizedState;if(v=T.destroy,d!==null&&Cf(d,T.deps)){m.memoizedState=Nl(o,u,v,d);return}}it.flags|=i,m.memoizedState=Nl(1|o,u,v,d)}function Av(i,o){return Mc(8390656,8,i,o)}function Df(i,o){return Oc(2048,8,i,o)}function Pv(i,o){return Oc(4,2,i,o)}function Cv(i,o){return Oc(4,4,i,o)}function Rv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function kv(i,o,u){return u=u!=null?u.concat([i]):null,Oc(4,4,Rv.bind(null,o,i),u)}function Vf(){}function bv(i,o){var u=Ln();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Cf(o,d[1])?d[0]:(u.memoizedState=[i,o],i)}function Nv(i,o){var u=Ln();o=o===void 0?null:o;var d=u.memoizedState;return d!==null&&o!==null&&Cf(o,d[1])?d[0]:(i=i(),u.memoizedState=[i,o],i)}function Dv(i,o,u){return(Fs&21)===0?(i.baseState&&(i.baseState=!1,dn=!0),i.memoizedState=u):(Jn(u,o)||(u=Ps(),it.lanes|=u,js|=u,i.baseState=!0),o)}function fx(i,o){var u=De;De=u!==0&&4>u?u:4,i(!0);var d=Pf.transition;Pf.transition={};try{i(!1),o()}finally{De=u,Pf.transition=d}}function Vv(){return Ln().memoizedState}function px(i,o,u){var d=Fi(i);if(u={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null},Lv(i))Mv(o,u);else if(u=dv(i,o,u,d),u!==null){var m=on();rr(u,i,d,m),Ov(u,o,d)}}function mx(i,o,u){var d=Fi(i),m={lane:d,action:u,hasEagerState:!1,eagerState:null,next:null};if(Lv(i))Mv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,C=v(T,u);if(m.hasEagerState=!0,m.eagerState=C,Jn(C,T)){var M=o.interleaved;M===null?(m.next=m,Ef(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=dv(i,o,m,d),u!==null&&(m=on(),rr(u,i,d,m),Ov(u,o,d))}}function Lv(i){var o=i.alternate;return i===it||o!==null&&o===it}function Mv(i,o){Rl=Lc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function Ov(i,o,u){if((u&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,u|=d,o.lanes=u,Si(i,u)}}var Fc={readContext:Vn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},gx={readContext:Vn,useCallback:function(i,o){return _r().memoizedState=[i,o===void 0?null:o],i},useContext:Vn,useEffect:Av,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Mc(4194308,4,Rv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Mc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Mc(4,2,i,o)},useMemo:function(i,o){var u=_r();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var d=_r();return o=u!==void 0?u(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=px.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var o=_r();return i={current:i},o.memoizedState=i},useState:Iv,useDebugValue:Vf,useDeferredValue:function(i){return _r().memoizedState=i},useTransition:function(){var i=Iv(!1),o=i[0];return i=fx.bind(null,i[1]),_r().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var d=it,m=_r();if(nt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Vt===null)throw Error(n(349));(Fs&30)!==0||_v(d,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,Av(Ev.bind(null,d,v,i),[i]),d.flags|=2048,Nl(9,wv.bind(null,d,v,u,o),void 0,null),u},useId:function(){var i=_r(),o=Vt.identifierPrefix;if(nt){var u=Yr,d=Xr;u=(d&~(1<<32-nn(d)-1)).toString(32)+u,o=":"+o+"R"+u,u=kl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=dx++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},yx={readContext:Vn,useCallback:bv,useContext:Vn,useEffect:Df,useImperativeHandle:kv,useInsertionEffect:Pv,useLayoutEffect:Cv,useMemo:Nv,useReducer:bf,useRef:xv,useState:function(){return bf(bl)},useDebugValue:Vf,useDeferredValue:function(i){var o=Ln();return Dv(o,At.memoizedState,i)},useTransition:function(){var i=bf(bl)[0],o=Ln().memoizedState;return[i,o]},useMutableSource:yv,useSyncExternalStore:vv,useId:Vv,unstable_isNewReconciler:!1},vx={readContext:Vn,useCallback:bv,useContext:Vn,useEffect:Df,useImperativeHandle:kv,useInsertionEffect:Pv,useLayoutEffect:Cv,useMemo:Nv,useReducer:Nf,useRef:xv,useState:function(){return Nf(bl)},useDebugValue:Vf,useDeferredValue:function(i){var o=Ln();return At===null?o.memoizedState=i:Dv(o,At.memoizedState,i)},useTransition:function(){var i=Nf(bl)[0],o=Ln().memoizedState;return[i,o]},useMutableSource:yv,useSyncExternalStore:vv,useId:Vv,unstable_isNewReconciler:!1};function er(i,o){if(i&&i.defaultProps){o=te({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Lf(i,o,u,d){o=i.memoizedState,u=u(d,o),u=u==null?o:te({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var jc={isMounted:function(i){return(i=i._reactInternals)?Wn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var d=on(),m=Fi(i),v=Zr(d,m);v.payload=o,u!=null&&(v.callback=u),o=Vi(i,v,m),o!==null&&(rr(o,i,m,d),bc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var d=on(),m=Fi(i),v=Zr(d,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=Vi(i,v,m),o!==null&&(rr(o,i,m,d),bc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=on(),d=Fi(i),m=Zr(u,d);m.tag=2,o!=null&&(m.callback=o),o=Vi(i,m,d),o!==null&&(rr(o,i,d,u),bc(o,i,d))}};function Fv(i,o,u,d,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!vl(u,d)||!vl(m,v):!0}function jv(i,o,u){var d=!1,m=bi,v=o.contextType;return typeof v=="object"&&v!==null?v=Vn(v):(m=hn(o)?Ds:qt.current,d=o.contextTypes,v=(d=d!=null)?Ko(i,m):bi),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=jc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function Uv(i,o,u,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==i&&jc.enqueueReplaceState(o,o.state,null)}function Mf(i,o,u,d){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Tf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Vn(v):(v=hn(o)?Ds:qt.current,m.context=Ko(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Lf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&jc.enqueueReplaceState(m,m.state,null),Nc(i,u,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ta(i,o){try{var u="",d=o;do u+=Ce(d),d=d.return;while(d);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Of(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Ff(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var _x=typeof WeakMap=="function"?WeakMap:Map;function Bv(i,o,u){u=Zr(-1,u),u.tag=3,u.payload={element:null};var d=o.value;return u.callback=function(){qc||(qc=!0,Zf=d),Ff(i,o)},u}function zv(i,o,u){u=Zr(-1,u),u.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;u.payload=function(){return d(m)},u.callback=function(){Ff(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Ff(i,o),typeof d!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),u}function $v(i,o,u){var d=i.pingCache;if(d===null){d=i.pingCache=new _x;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(u)||(m.add(u),i=Dx.bind(null,i,o,u),o.then(i,i))}function Hv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Wv(i,o,u,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Zr(-1,1),o.tag=2,Vi(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var wx=X.ReactCurrentOwner,dn=!1;function sn(i,o,u,d){o.child=i===null?hv(o,null,u,d):Yo(o,i.child,u,d)}function qv(i,o,u,d,m){u=u.render;var v=o.ref;return Zo(o,m),d=Rf(i,o,u,d,v,m),u=kf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(nt&&u&&df(o),o.flags|=1,sn(i,o,d,m),o.child)}function Kv(i,o,u,d,m){if(i===null){var v=u.type;return typeof v=="function"&&!op(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,Gv(i,o,v,d,m)):(i=Jc(u.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var T=v.memoizedProps;if(u=u.compare,u=u!==null?u:vl,u(T,d)&&i.ref===o.ref)return ei(i,o,m)}return o.flags|=1,i=Ui(v,d),i.ref=o.ref,i.return=o,o.child=i}function Gv(i,o,u,d,m){if(i!==null){var v=i.memoizedProps;if(vl(v,d)&&i.ref===o.ref)if(dn=!1,o.pendingProps=d=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(dn=!0);else return o.lanes=i.lanes,ei(i,o,m)}return jf(i,o,u,d,m)}function Qv(i,o,u){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ra,In),In|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke(ra,In),In|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:u,Ke(ra,In),In|=d}else v!==null?(d=v.baseLanes|u,o.memoizedState=null):d=u,Ke(ra,In),In|=d;return sn(i,o,m,u),o.child}function Xv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function jf(i,o,u,d,m){var v=hn(u)?Ds:qt.current;return v=Ko(o,v),Zo(o,m),u=Rf(i,o,u,d,v,m),d=kf(),i!==null&&!dn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ei(i,o,m)):(nt&&d&&df(o),o.flags|=1,sn(i,o,u,m),o.child)}function Yv(i,o,u,d,m){if(hn(u)){var v=!0;Sc(o)}else v=!1;if(Zo(o,m),o.stateNode===null)Bc(i,o),jv(o,u,d),Mf(o,u,d,m),d=!0;else if(i===null){var T=o.stateNode,C=o.memoizedProps;T.props=C;var M=T.context,K=u.contextType;typeof K=="object"&&K!==null?K=Vn(K):(K=hn(u)?Ds:qt.current,K=Ko(o,K));var ne=u.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==d||M!==K)&&Uv(o,T,d,K),Di=!1;var ee=o.memoizedState;T.state=ee,Nc(o,d,T,m),M=o.memoizedState,C!==d||ee!==M||cn.current||Di?(typeof ne=="function"&&(Lf(o,u,ne,d),M=o.memoizedState),(C=Di||Fv(o,u,C,d,ee,M,K))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=K,d=C):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,fv(i,o),C=o.memoizedProps,K=o.type===o.elementType?C:er(o.type,C),T.props=K,re=o.pendingProps,ee=T.context,M=u.contextType,typeof M=="object"&&M!==null?M=Vn(M):(M=hn(u)?Ds:qt.current,M=Ko(o,M));var ue=u.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==re||ee!==M)&&Uv(o,T,d,M),Di=!1,ee=o.memoizedState,T.state=ee,Nc(o,d,T,m);var de=o.memoizedState;C!==re||ee!==de||cn.current||Di?(typeof ue=="function"&&(Lf(o,u,ue,d),de=o.memoizedState),(K=Di||Fv(o,u,K,d,ee,de,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=K):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return Uf(i,o,u,d,v,m)}function Uf(i,o,u,d,m,v){Xv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&nv(o,u,!1),ei(i,o,v);d=o.stateNode,wx.current=o;var C=T&&typeof u.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Yo(o,i.child,null,v),o.child=Yo(o,null,C,v)):sn(i,o,C,v),o.memoizedState=d.state,m&&nv(o,u,!0),o.child}function Jv(i){var o=i.stateNode;o.pendingContext?ev(i,o.pendingContext,o.pendingContext!==o.context):o.context&&ev(i,o.context,!1),Sf(i,o.containerInfo)}function Zv(i,o,u,d,m){return Xo(),gf(m),o.flags|=256,sn(i,o,u,d),o.child}var Bf={dehydrated:null,treeContext:null,retryLane:0};function zf(i){return{baseLanes:i,cachePool:null,transitions:null}}function e_(i,o,u){var d=o.pendingProps,m=rt.current,v=!1,T=(o.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(rt,m&1),i===null)return mf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Zc(T,d,0,null),i=$s(i,d,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=zf(u),o.memoizedState=Bf,i):$f(o,T));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return Ex(i,o,T,d,C,m,u);if(v){v=d.fallback,T=o.mode,m=i.child,C=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=Ui(m,M),d.subtreeFlags=m.subtreeFlags&14680064),C!==null?v=Ui(C,v):(v=$s(v,T,u,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=i.child.memoizedState,T=T===null?zf(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~u,o.memoizedState=Bf,d}return v=i.child,i=v.sibling,d=Ui(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=u),d.return=o,d.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=d,o.memoizedState=null,d}function $f(i,o){return o=Zc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Uc(i,o,u,d){return d!==null&&gf(d),Yo(o,i.child,null,u),i=$f(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Ex(i,o,u,d,m,v,T){if(u)return o.flags&256?(o.flags&=-257,d=Of(Error(n(422))),Uc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=Zc({mode:"visible",children:d.children},m,0,null),v=$s(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Yo(o,i.child,null,T),o.child.memoizedState=zf(T),o.memoizedState=Bf,v);if((o.mode&1)===0)return Uc(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var C=d.dgst;return d=C,v=Error(n(419)),d=Of(v,d,void 0),Uc(i,o,T,d)}if(C=(T&i.childLanes)!==0,dn||C){if(d=Vt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Jr(i,m),rr(d,i,m,-1))}return sp(),d=Of(Error(n(421))),Uc(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=Vx.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Sn=Ri(m.nextSibling),Tn=o,nt=!0,Zn=null,i!==null&&(Nn[Dn++]=Xr,Nn[Dn++]=Yr,Nn[Dn++]=Vs,Xr=i.id,Yr=i.overflow,Vs=o),o=$f(o,d.children),o.flags|=4096,o)}function t_(i,o,u){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),wf(i.return,o,u)}function Hf(i,o,u,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=u,v.tailMode=m)}function n_(i,o,u){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(sn(i,o,d.children,u),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&t_(i,u,o);else if(i.tag===19)t_(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Dc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Hf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Dc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Hf(o,!0,u,null,v);break;case"together":Hf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Bc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ei(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),js|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ui(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ui(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Tx(i,o,u){switch(o.tag){case 3:Jv(o),Xo();break;case 5:gv(o);break;case 1:hn(o.type)&&Sc(o);break;case 4:Sf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ke(Rc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ke(rt,rt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?e_(i,o,u):(Ke(rt,rt.current&1),i=ei(i,o,u),i!==null?i.sibling:null);Ke(rt,rt.current&1);break;case 19:if(d=(u&o.childLanes)!==0,(i.flags&128)!==0){if(d)return n_(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Qv(i,o,u)}return ei(i,o,u)}var r_,Wf,i_,s_;r_=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Wf=function(){},i_=function(i,o,u,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,Os(vr.current);var v=null;switch(u){case"input":m=gs(i,m),d=gs(i,d),v=[];break;case"select":m=te({},m,{value:void 0}),d=te({},d,{value:void 0}),v=[];break;case"textarea":m=Ka(i,m),d=Ka(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=wc)}Za(u,d);var T;u=null;for(K in m)if(!d.hasOwnProperty(K)&&m.hasOwnProperty(K)&&m[K]!=null)if(K==="style"){var C=m[K];for(T in C)C.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?v||(v=[]):(v=v||[]).push(K,null));for(K in d){var M=d[K];if(C=m?.[K],d.hasOwnProperty(K)&&M!==C&&(M!=null||C!=null))if(K==="style")if(C){for(T in C)!C.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in M)M.hasOwnProperty(T)&&C[T]!==M[T]&&(u||(u={}),u[T]=M[T])}else u||(v||(v=[]),v.push(K,u)),u=M;else K==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(v=v||[]).push(K,M)):K==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(K,""+M):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(M!=null&&K==="onScroll"&&Qe("scroll",i),v||C===M||(v=[])):(v=v||[]).push(K,M))}u&&(v=v||[]).push("style",u);var K=v;(o.updateQueue=K)&&(o.flags|=4)}},s_=function(i,o,u,d){u!==d&&(o.flags|=4)};function Dl(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,d=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=u,o}function Sx(i,o,u){var d=o.pendingProps;switch(ff(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return hn(o.type)&&Tc(),Gt(o),null;case 3:return d=o.stateNode,ea(),Xe(cn),Xe(qt),Af(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Pc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Zn!==null&&(np(Zn),Zn=null))),Wf(i,o),Gt(o),null;case 5:If(o);var m=Os(Cl.current);if(u=o.type,i!==null&&o.stateNode!=null)i_(i,o,u,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return Gt(o),null}if(i=Os(vr.current),Pc(o)){d=o.stateNode,u=o.type;var v=o.memoizedProps;switch(d[yr]=o,d[Sl]=v,i=(o.mode&1)!==0,u){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<wl.length;m++)Qe(wl[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":mo(d,v),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",d);break;case"textarea":yo(d,v),Qe("invalid",d)}Za(u,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var C=v[T];T==="children"?typeof C=="string"?d.textContent!==C&&(v.suppressHydrationWarning!==!0&&_c(d.textContent,C,i),m=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&_c(d.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&Qe("scroll",d)}switch(u){case"input":Fr(d),Wu(d,v,!0);break;case"textarea":Fr(d),Ga(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=wc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=St(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(u,{is:d.is}):(i=T.createElement(u),u==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,u),i[yr]=o,i[Sl]=d,r_(i,o,!1,!1),o.stateNode=i;e:{switch(T=el(u,d),u){case"dialog":Qe("cancel",i),Qe("close",i),m=d;break;case"iframe":case"object":case"embed":Qe("load",i),m=d;break;case"video":case"audio":for(m=0;m<wl.length;m++)Qe(wl[m],i);m=d;break;case"source":Qe("error",i),m=d;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=d;break;case"details":Qe("toggle",i),m=d;break;case"input":mo(i,d),m=gs(i,d),Qe("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=te({},d,{value:void 0}),Qe("invalid",i);break;case"textarea":yo(i,d),m=Ka(i,d),Qe("invalid",i);break;default:m=d}Za(u,m),C=m;for(v in C)if(C.hasOwnProperty(v)){var M=C[v];v==="style"?Ya(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Qa(i,M)):v==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&vi(i,M):typeof M=="number"&&vi(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Qe("scroll",i):M!=null&&q(i,v,M,T))}switch(u){case"input":Fr(i),Wu(i,d,!1);break;case"textarea":Fr(i),Ga(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Ur(i,!!d.multiple,v,!1):d.defaultValue!=null&&Ur(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=wc)}switch(u){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)s_(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(u=Os(Cl.current),Os(vr.current),Pc(o)){if(d=o.stateNode,u=o.memoizedProps,d[yr]=o,(v=d.nodeValue!==u)&&(i=Tn,i!==null))switch(i.tag){case 3:_c(d.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&_c(d.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(u.nodeType===9?u:u.ownerDocument).createTextNode(d),d[yr]=o,o.stateNode=d}return Gt(o),null;case 13:if(Xe(rt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(nt&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)lv(),Xo(),o.flags|=98560,v=!1;else if(v=Pc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[yr]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gt(o),v=!1}else Zn!==null&&(np(Zn),Zn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(rt.current&1)!==0?Pt===0&&(Pt=3):sp())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return ea(),Wf(i,o),i===null&&El(o.stateNode.containerInfo),Gt(o),null;case 10:return _f(o.type._context),Gt(o),null;case 17:return hn(o.type)&&Tc(),Gt(o),null;case 19:if(Xe(rt),v=o.memoizedState,v===null)return Gt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)Dl(v,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Dc(i),T!==null){for(o.flags|=128,Dl(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=u,u=o.child;u!==null;)v=u,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ke(rt,rt.current&1|2),o.child}i=i.sibling}v.tail!==null&&qe()>ia&&(o.flags|=128,d=!0,Dl(v,!1),o.lanes=4194304)}else{if(!d)if(i=Dc(T),i!==null){if(o.flags|=128,d=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Dl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!nt)return Gt(o),null}else 2*qe()-v.renderingStartTime>ia&&u!==1073741824&&(o.flags|=128,d=!0,Dl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(u=v.last,u!==null?u.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=qe(),o.sibling=null,u=rt.current,Ke(rt,d?u&1|2:u&1),o):(Gt(o),null);case 22:case 23:return ip(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(In&1073741824)!==0&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Ix(i,o){switch(ff(o),o.tag){case 1:return hn(o.type)&&Tc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ea(),Xe(cn),Xe(qt),Af(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return If(o),null;case 13:if(Xe(rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Xo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Xe(rt),null;case 4:return ea(),null;case 10:return _f(o.type._context),null;case 22:case 23:return ip(),null;case 24:return null;default:return null}}var zc=!1,Qt=!1,xx=typeof WeakSet=="function"?WeakSet:Set,he=null;function na(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(d){ct(i,o,d)}else u.current=null}function qf(i,o,u){try{u()}catch(d){ct(i,o,d)}}var o_=!1;function Ax(i,o){if(rf=Ai,i=Fy(),Qd(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var T=0,C=-1,M=-1,K=0,ne=0,re=i,ee=null;t:for(;;){for(var ue;re!==u||m!==0&&re.nodeType!==3||(C=T+m),re!==v||d!==0&&re.nodeType!==3||(M=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ue=re.firstChild)!==null;)ee=re,re=ue;for(;;){if(re===i)break t;if(ee===u&&++K===m&&(C=T),ee===v&&++ne===d&&(M=T),(ue=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ue}u=C===-1||M===-1?null:{start:C,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(sf={focusedElem:i,selectionRange:u},Ai=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,pt=de.memoizedState,$=o.stateNode,j=$.getSnapshotBeforeUpdate(o.elementType===o.type?fe:er(o.type,fe),pt);$.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){ct(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=o_,o_=!1,de}function Vl(i,o,u){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&qf(o,u,v)}m=m.next}while(m!==d)}}function $c(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var d=u.create;u.destroy=d()}u=u.next}while(u!==o)}}function Kf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function a_(i){var o=i.alternate;o!==null&&(i.alternate=null,a_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[yr],delete o[Sl],delete o[uf],delete o[lx],delete o[ux])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function l_(i){return i.tag===5||i.tag===3||i.tag===4}function u_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||l_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=wc));else if(d!==4&&(i=i.child,i!==null))for(Gf(i,o,u),i=i.sibling;i!==null;)Gf(i,o,u),i=i.sibling}function Qf(i,o,u){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Qf(i,o,u),i=i.sibling;i!==null;)Qf(i,o,u),i=i.sibling}var Ut=null,tr=!1;function Li(i,o,u){for(u=u.child;u!==null;)c_(i,o,u),u=u.sibling}function c_(i,o,u){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(xs,u)}catch{}switch(u.tag){case 5:Qt||na(u,o);case 6:var d=Ut,m=tr;Ut=null,Li(i,o,u),Ut=d,tr=m,Ut!==null&&(tr?(i=Ut,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(tr?(i=Ut,u=u.stateNode,i.nodeType===8?lf(i.parentNode,u):i.nodeType===1&&lf(i,u),Xn(i)):lf(Ut,u.stateNode));break;case 4:d=Ut,m=tr,Ut=u.stateNode.containerInfo,tr=!0,Li(i,o,u),Ut=d,tr=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(d=u.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&qf(u,o,T),m=m.next}while(m!==d)}Li(i,o,u);break;case 1:if(!Qt&&(na(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=u.memoizedProps,d.state=u.memoizedState,d.componentWillUnmount()}catch(C){ct(u,o,C)}Li(i,o,u);break;case 21:Li(i,o,u);break;case 22:u.mode&1?(Qt=(d=Qt)||u.memoizedState!==null,Li(i,o,u),Qt=d):Li(i,o,u);break;default:Li(i,o,u)}}function h_(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new xx),o.forEach(function(d){var m=Lx.bind(null,i,d);u.has(d)||(u.add(d),d.then(m,m))})}}function nr(i,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];try{var v=i,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 5:Ut=C.stateNode,tr=!1;break e;case 3:Ut=C.stateNode.containerInfo,tr=!0;break e;case 4:Ut=C.stateNode.containerInfo,tr=!0;break e}C=C.return}if(Ut===null)throw Error(n(160));c_(v,T,m),Ut=null,tr=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(K){ct(m,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)d_(o,i),o=o.sibling}function d_(i,o){var u=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(nr(o,i),wr(i),d&4){try{Vl(3,i,i.return),$c(3,i)}catch(fe){ct(i,i.return,fe)}try{Vl(5,i,i.return)}catch(fe){ct(i,i.return,fe)}}break;case 1:nr(o,i),wr(i),d&512&&u!==null&&na(u,u.return);break;case 5:if(nr(o,i),wr(i),d&512&&u!==null&&na(u,u.return),i.flags&32){var m=i.stateNode;try{vi(m,"")}catch(fe){ct(i,i.return,fe)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=u!==null?u.memoizedProps:v,C=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Wa(m,v),el(C,T);var K=el(C,v);for(T=0;T<M.length;T+=2){var ne=M[T],re=M[T+1];ne==="style"?Ya(m,re):ne==="dangerouslySetInnerHTML"?Qa(m,re):ne==="children"?vi(m,re):q(m,ne,re,K)}switch(C){case"input":qa(m,v);break;case"textarea":vo(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Ur(m,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Ur(m,!!v.multiple,v.defaultValue,!0):Ur(m,!!v.multiple,v.multiple?[]:"",!1))}m[Sl]=v}catch(fe){ct(i,i.return,fe)}}break;case 6:if(nr(o,i),wr(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(fe){ct(i,i.return,fe)}}break;case 3:if(nr(o,i),wr(i),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Xn(o.containerInfo)}catch(fe){ct(i,i.return,fe)}break;case 4:nr(o,i),wr(i);break;case 13:nr(o,i),wr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Jf=qe())),d&4&&h_(i);break;case 22:if(ne=u!==null&&u.memoizedState!==null,i.mode&1?(Qt=(K=Qt)||ne,nr(o,i),Qt=K):nr(o,i),wr(i),d&8192){if(K=i.memoizedState!==null,(i.stateNode.isHidden=K)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(re=he=ne;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Vl(4,ee,ee.return);break;case 1:na(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){d=ee,u=ee.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){ct(d,u,fe)}}break;case 5:na(ee,ee.return);break;case 22:if(ee.memoizedState!==null){m_(re);continue}}ue!==null?(ue.return=ee,he=ue):m_(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,K?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=re.stateNode,M=re.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=Xa("display",T))}catch(fe){ct(i,i.return,fe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(fe){ct(i,i.return,fe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:nr(o,i),wr(i),d&4&&h_(i);break;case 21:break;default:nr(o,i),wr(i)}}function wr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(l_(u)){var d=u;break e}u=u.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(vi(m,""),d.flags&=-33);var v=u_(i);Qf(i,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,C=u_(i);Gf(i,C,T);break;default:throw Error(n(161))}}catch(M){ct(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Px(i,o,u){he=i,f_(i)}function f_(i,o,u){for(var d=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||zc;if(!T){var C=m.alternate,M=C!==null&&C.memoizedState!==null||Qt;C=zc;var K=Qt;if(zc=T,(Qt=M)&&!K)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?g_(m):M!==null?(M.return=T,he=M):g_(m);for(;v!==null;)he=v,f_(v),v=v.sibling;he=m,zc=C,Qt=K}p_(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):p_(i)}}function p_(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Qt||$c(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Qt)if(u===null)d.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:er(o.type,u.memoizedProps);d.componentDidUpdate(m,u.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&mv(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}mv(o,T,u)}break;case 5:var C=o.stateNode;if(u===null&&o.flags&4){u=C;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Xn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||o.flags&512&&Kf(o)}catch(ee){ct(o,o.return,ee)}}if(o===i){he=null;break}if(u=o.sibling,u!==null){u.return=o.return,he=u;break}he=o.return}}function m_(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var u=o.sibling;if(u!==null){u.return=o.return,he=u;break}he=o.return}}function g_(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{$c(4,o)}catch(M){ct(o,u,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){ct(o,m,M)}}var v=o.return;try{Kf(o)}catch(M){ct(o,v,M)}break;case 5:var T=o.return;try{Kf(o)}catch(M){ct(o,T,M)}}}catch(M){ct(o,o.return,M)}if(o===i){he=null;break}var C=o.sibling;if(C!==null){C.return=o.return,he=C;break}he=o.return}}var Cx=Math.ceil,Hc=X.ReactCurrentDispatcher,Xf=X.ReactCurrentOwner,Mn=X.ReactCurrentBatchConfig,Oe=0,Vt=null,vt=null,Bt=0,In=0,ra=ki(0),Pt=0,Ll=null,js=0,Wc=0,Yf=0,Ml=null,fn=null,Jf=0,ia=1/0,ti=null,qc=!1,Zf=null,Mi=null,Kc=!1,Oi=null,Gc=0,Ol=0,ep=null,Qc=-1,Xc=0;function on(){return(Oe&6)!==0?qe():Qc!==-1?Qc:Qc=qe()}function Fi(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Bt!==0?Bt&-Bt:hx.transition!==null?(Xc===0&&(Xc=Ps()),Xc):(i=De,i!==0||(i=window.event,i=i===void 0?16:hl(i.type)),i)}function rr(i,o,u,d){if(50<Ol)throw Ol=0,ep=null,Error(n(185));Ti(i,u,d),((Oe&2)===0||i!==Vt)&&(i===Vt&&((Oe&2)===0&&(Wc|=u),Pt===4&&ji(i,Bt)),pn(i,d),u===1&&Oe===0&&(o.mode&1)===0&&(ia=qe()+500,Ic&&Ni()))}function pn(i,o){var u=i.callbackNode;$r(i,o);var d=As(i,i===Vt?Bt:0);if(d===0)u!==null&&ol(u),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(u!=null&&ol(u),o===1)i.tag===0?cx(v_.bind(null,i)):rv(v_.bind(null,i)),ox(function(){(Oe&6)===0&&Ni()}),u=null;else{switch(Ii(d)){case 1:u=Is;break;case 4:u=_i;break;case 16:u=Rn;break;case 536870912:u=Xu;break;default:u=Rn}u=A_(u,y_.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function y_(i,o){if(Qc=-1,Xc=0,(Oe&6)!==0)throw Error(n(327));var u=i.callbackNode;if(sa()&&i.callbackNode!==u)return null;var d=As(i,i===Vt?Bt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Yc(i,d);else{o=d;var m=Oe;Oe|=2;var v=w_();(Vt!==i||Bt!==o)&&(ti=null,ia=qe()+500,Bs(i,o));do try{bx();break}catch(C){__(i,C)}while(!0);vf(),Hc.current=v,Oe=m,vt!==null?o=0:(Vt=null,Bt=0,o=Pt)}if(o!==0){if(o===2&&(m=_n(i),m!==0&&(d=m,o=tp(i,m))),o===1)throw u=Ll,Bs(i,0),ji(i,d),pn(i,qe()),u;if(o===6)ji(i,d);else{if(m=i.current.alternate,(d&30)===0&&!Rx(m)&&(o=Yc(i,d),o===2&&(v=_n(i),v!==0&&(d=v,o=tp(i,v))),o===1))throw u=Ll,Bs(i,0),ji(i,d),pn(i,qe()),u;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:zs(i,fn,ti);break;case 3:if(ji(i,d),(d&130023424)===d&&(o=Jf+500-qe(),10<o)){if(As(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){on(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=af(zs.bind(null,i,fn,ti),o);break}zs(i,fn,ti);break;case 4:if(ji(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-nn(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Cx(d/1960))-d,10<d){i.timeoutHandle=af(zs.bind(null,i,fn,ti),d);break}zs(i,fn,ti);break;case 5:zs(i,fn,ti);break;default:throw Error(n(329))}}}return pn(i,qe()),i.callbackNode===u?y_.bind(null,i):null}function tp(i,o){var u=Ml;return i.current.memoizedState.isDehydrated&&(Bs(i,o).flags|=256),i=Yc(i,o),i!==2&&(o=fn,fn=u,o!==null&&np(o)),i}function np(i){fn===null?fn=i:fn.push.apply(fn,i)}function Rx(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var d=0;d<u.length;d++){var m=u[d],v=m.getSnapshot;m=m.value;try{if(!Jn(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ji(i,o){for(o&=~Yf,o&=~Wc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-nn(o),d=1<<u;i[u]=-1,o&=~d}}function v_(i){if((Oe&6)!==0)throw Error(n(327));sa();var o=As(i,0);if((o&1)===0)return pn(i,qe()),null;var u=Yc(i,o);if(i.tag!==0&&u===2){var d=_n(i);d!==0&&(o=d,u=tp(i,d))}if(u===1)throw u=Ll,Bs(i,0),ji(i,o),pn(i,qe()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,zs(i,fn,ti),pn(i,qe()),null}function rp(i,o){var u=Oe;Oe|=1;try{return i(o)}finally{Oe=u,Oe===0&&(ia=qe()+500,Ic&&Ni())}}function Us(i){Oi!==null&&Oi.tag===0&&(Oe&6)===0&&sa();var o=Oe;Oe|=1;var u=Mn.transition,d=De;try{if(Mn.transition=null,De=1,i)return i()}finally{De=d,Mn.transition=u,Oe=o,(Oe&6)===0&&Ni()}}function ip(){In=ra.current,Xe(ra)}function Bs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,sx(u)),vt!==null)for(u=vt.return;u!==null;){var d=u;switch(ff(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tc();break;case 3:ea(),Xe(cn),Xe(qt),Af();break;case 5:If(d);break;case 4:ea();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:_f(d.type._context);break;case 22:case 23:ip()}u=u.return}if(Vt=i,vt=i=Ui(i.current,null),Bt=In=o,Pt=0,Ll=null,Yf=Wc=js=0,fn=Ml=null,Ms!==null){for(o=0;o<Ms.length;o++)if(u=Ms[o],d=u.interleaved,d!==null){u.interleaved=null;var m=d.next,v=u.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}u.pending=d}Ms=null}return i}function __(i,o){do{var u=vt;try{if(vf(),Vc.current=Fc,Lc){for(var d=it.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Lc=!1}if(Fs=0,Dt=At=it=null,Rl=!1,kl=0,Xf.current=null,u===null||u.return===null){Pt=1,Ll=o,vt=null;break}e:{var v=i,T=u.return,C=u,M=o;if(o=Bt,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var K=M,ne=C,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Hv(T);if(ue!==null){ue.flags&=-257,Wv(ue,T,C,v,o),ue.mode&1&&$v(v,K,o),o=ue,M=K;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(M),o.updateQueue=fe}else de.add(M);break e}else{if((o&1)===0){$v(v,K,o),sp();break e}M=Error(n(426))}}else if(nt&&C.mode&1){var pt=Hv(T);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),Wv(pt,T,C,v,o),gf(ta(M,C));break e}}v=M=ta(M,C),Pt!==4&&(Pt=2),Ml===null?Ml=[v]:Ml.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=Bv(v,M,o);pv(v,$);break e;case 1:C=M;var j=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Mi===null||!Mi.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=zv(v,C,o);pv(v,se);break e}}v=v.return}while(v!==null)}T_(u)}catch(ge){o=ge,vt===u&&u!==null&&(vt=u=u.return);continue}break}while(!0)}function w_(){var i=Hc.current;return Hc.current=Fc,i===null?Fc:i}function sp(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Vt===null||(js&268435455)===0&&(Wc&268435455)===0||ji(Vt,Bt)}function Yc(i,o){var u=Oe;Oe|=2;var d=w_();(Vt!==i||Bt!==o)&&(ti=null,Bs(i,o));do try{kx();break}catch(m){__(i,m)}while(!0);if(vf(),Oe=u,Hc.current=d,vt!==null)throw Error(n(261));return Vt=null,Bt=0,Pt}function kx(){for(;vt!==null;)E_(vt)}function bx(){for(;vt!==null&&!Gu();)E_(vt)}function E_(i){var o=x_(i.alternate,i,In);i.memoizedProps=i.pendingProps,o===null?T_(i):vt=o,Xf.current=null}function T_(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=Sx(u,o,In),u!==null){vt=u;return}}else{if(u=Ix(u,o),u!==null){u.flags&=32767,vt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Pt=6,vt=null;return}}if(o=o.sibling,o!==null){vt=o;return}vt=o=i}while(o!==null);Pt===0&&(Pt=5)}function zs(i,o,u){var d=De,m=Mn.transition;try{Mn.transition=null,De=1,Nx(i,o,u,d)}finally{Mn.transition=m,De=d}return null}function Nx(i,o,u,d){do sa();while(Oi!==null);if((Oe&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(He(i,v),i===Vt&&(vt=Vt=null,Bt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Kc||(Kc=!0,A_(Rn,function(){return sa(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Mn.transition,Mn.transition=null;var T=De;De=1;var C=Oe;Oe|=4,Xf.current=null,Ax(i,u),d_(u,i),JI(sf),Ai=!!rf,sf=rf=null,i.current=u,Px(u),Bd(),Oe=C,De=T,Mn.transition=v}else i.current=u;if(Kc&&(Kc=!1,Oi=i,Gc=m),v=i.pendingLanes,v===0&&(Mi=null),Yu(u.stateNode),pn(i,qe()),o!==null)for(d=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],d(m.value,{componentStack:m.stack,digest:m.digest});if(qc)throw qc=!1,i=Zf,Zf=null,i;return(Gc&1)!==0&&i.tag!==0&&sa(),v=i.pendingLanes,(v&1)!==0?i===ep?Ol++:(Ol=0,ep=i):Ol=0,Ni(),null}function sa(){if(Oi!==null){var i=Ii(Gc),o=Mn.transition,u=De;try{if(Mn.transition=null,De=16>i?16:i,Oi===null)var d=!1;else{if(i=Oi,Oi=null,Gc=0,(Oe&6)!==0)throw Error(n(331));var m=Oe;for(Oe|=4,he=i.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var C=v.deletions;if(C!==null){for(var M=0;M<C.length;M++){var K=C[M];for(he=K;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Vl(8,ne,v)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var ee=ne.sibling,ue=ne.return;if(a_(ne),ne===K){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=v.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var pt=fe.sibling;fe.sibling=null,fe=pt}while(fe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Vl(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var j=i.current;for(he=j;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=j;he!==null;){if(C=he,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:$c(9,C)}}catch(ge){ct(C,C.return,ge)}if(C===T){he=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,he=se;break e}he=C.return}}if(Oe=m,Ni(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(xs,i)}catch{}d=!0}return d}finally{De=u,Mn.transition=o}}return!1}function S_(i,o,u){o=ta(u,o),o=Bv(i,o,1),i=Vi(i,o,1),o=on(),i!==null&&(Ti(i,1,o),pn(i,o))}function ct(i,o,u){if(i.tag===3)S_(i,i,u);else for(;o!==null;){if(o.tag===3){S_(o,i,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))){i=ta(u,i),i=zv(o,i,1),o=Vi(o,i,1),i=on(),o!==null&&(Ti(o,1,i),pn(o,i));break}}o=o.return}}function Dx(i,o,u){var d=i.pingCache;d!==null&&d.delete(o),o=on(),i.pingedLanes|=i.suspendedLanes&u,Vt===i&&(Bt&u)===u&&(Pt===4||Pt===3&&(Bt&130023424)===Bt&&500>qe()-Jf?Bs(i,0):Yf|=u),pn(i,o)}function I_(i,o){o===0&&((i.mode&1)===0?o=1:(o=Co,Co<<=1,(Co&130023424)===0&&(Co=4194304)));var u=on();i=Jr(i,o),i!==null&&(Ti(i,o,u),pn(i,u))}function Vx(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),I_(i,u)}function Lx(i,o){var u=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),I_(i,u)}var x_;x_=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||cn.current)dn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return dn=!1,Tx(i,o,u);dn=(i.flags&131072)!==0}else dn=!1,nt&&(o.flags&1048576)!==0&&iv(o,Ac,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Bc(i,o),i=o.pendingProps;var m=Ko(o,qt.current);Zo(o,u),m=Rf(null,o,d,i,m,u);var v=kf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(d)?(v=!0,Sc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Tf(o),m.updater=jc,o.stateNode=m,m._reactInternals=o,Mf(o,d,i,u),o=Uf(null,o,d,!0,v,u)):(o.tag=0,nt&&v&&df(o),sn(null,o,m,u),o=o.child),o;case 16:d=o.elementType;e:{switch(Bc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=Ox(d),i=er(d,i),m){case 0:o=jf(null,o,d,i,u);break e;case 1:o=Yv(null,o,d,i,u);break e;case 11:o=qv(null,o,d,i,u);break e;case 14:o=Kv(null,o,d,er(d.type,i),u);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),jf(i,o,d,m,u);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),Yv(i,o,d,m,u);case 3:e:{if(Jv(o),i===null)throw Error(n(387));d=o.pendingProps,v=o.memoizedState,m=v.element,fv(i,o),Nc(o,d,null,u);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ta(Error(n(423)),o),o=Zv(i,o,d,u,m);break e}else if(d!==m){m=ta(Error(n(424)),o),o=Zv(i,o,d,u,m);break e}else for(Sn=Ri(o.stateNode.containerInfo.firstChild),Tn=o,nt=!0,Zn=null,u=hv(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Xo(),d===m){o=ei(i,o,u);break e}sn(i,o,d,u)}o=o.child}return o;case 5:return gv(o),i===null&&mf(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,of(d,m)?T=null:v!==null&&of(d,v)&&(o.flags|=32),Xv(i,o),sn(i,o,T,u),o.child;case 6:return i===null&&mf(o),null;case 13:return e_(i,o,u);case 4:return Sf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Yo(o,null,d,u):sn(i,o,d,u),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),qv(i,o,d,m,u);case 7:return sn(i,o,o.pendingProps,u),o.child;case 8:return sn(i,o,o.pendingProps.children,u),o.child;case 12:return sn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Ke(Rc,d._currentValue),d._currentValue=T,v!==null)if(Jn(v.value,T)){if(v.children===m.children&&!cn.current){o=ei(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){T=v.child;for(var M=C.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Zr(-1,u&-u),M.tag=2;var K=v.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),K.pending=M}}v.lanes|=u,M=v.alternate,M!==null&&(M.lanes|=u),wf(v.return,u,o),C.lanes|=u;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=u,C=T.alternate,C!==null&&(C.lanes|=u),wf(T,u,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}sn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Zo(o,u),m=Vn(m),d=d(m),o.flags|=1,sn(i,o,d,u),o.child;case 14:return d=o.type,m=er(d,o.pendingProps),m=er(d.type,m),Kv(i,o,d,m,u);case 15:return Gv(i,o,o.type,o.pendingProps,u);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:er(d,m),Bc(i,o),o.tag=1,hn(d)?(i=!0,Sc(o)):i=!1,Zo(o,u),jv(o,d,m),Mf(o,d,m,u),Uf(null,o,d,!0,i,u);case 19:return n_(i,o,u);case 22:return Qv(i,o,u)}throw Error(n(156,o.tag))};function A_(i,o){return Ao(i,o)}function Mx(i,o,u,d){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(i,o,u,d){return new Mx(i,o,u,d)}function op(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ox(i){if(typeof i=="function")return op(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===dt)return 14}return 2}function Ui(i,o){var u=i.alternate;return u===null?(u=On(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Jc(i,o,u,d,m,v){var T=2;if(d=i,typeof i=="function")op(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case D:return $s(u.children,m,v,o);case x:T=8,m|=8;break;case P:return i=On(12,u,o,m|2),i.elementType=P,i.lanes=v,i;case b:return i=On(13,u,o,m),i.elementType=b,i.lanes=v,i;case Be:return i=On(19,u,o,m),i.elementType=Be,i.lanes=v,i;case Se:return Zc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case O:T=9;break e;case B:T=11;break e;case dt:T=14;break e;case ut:T=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=On(T,u,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function $s(i,o,u,d){return i=On(7,i,d,o),i.lanes=u,i}function Zc(i,o,u,d){return i=On(22,i,d,o),i.elementType=Se,i.lanes=u,i.stateNode={isHidden:!1},i}function ap(i,o,u){return i=On(6,i,null,o),i.lanes=u,i}function lp(i,o,u){return o=On(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Fx(i,o,u,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function up(i,o,u,d,m,v,T,C,M){return i=new Fx(i,o,u,C,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=On(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tf(v),i}function jx(i,o,u){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:o,implementation:u}}function P_(i){if(!i)return bi;i=i._reactInternals;e:{if(Wn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(hn(u))return tv(i,u,o)}return o}function C_(i,o,u,d,m,v,T,C,M){return i=up(u,d,!0,i,m,v,T,C,M),i.context=P_(null),u=i.current,d=on(),m=Fi(u),v=Zr(d,m),v.callback=o??null,Vi(u,v,m),i.current.lanes=m,Ti(i,m,d),pn(i,d),i}function eh(i,o,u,d){var m=o.current,v=on(),T=Fi(m);return u=P_(u),o.context===null?o.context=u:o.pendingContext=u,o=Zr(v,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Vi(m,o,T),i!==null&&(rr(i,m,T,v),bc(i,m,T)),T}function th(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function R_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function cp(i,o){R_(i,o),(i=i.alternate)&&R_(i,o)}function Ux(){return null}var k_=typeof reportError=="function"?reportError:function(i){console.error(i)};function hp(i){this._internalRoot=i}nh.prototype.render=hp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));eh(i,o,null,null)},nh.prototype.unmount=hp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Us(function(){eh(null,i,null,null)}),o[Gr]=null}};function nh(i){this._internalRoot=i}nh.prototype.unstable_scheduleHydration=function(i){if(i){var o=nc();i={blockedOn:null,target:i,priority:o};for(var u=0;u<fr.length&&o!==0&&o<fr[u].priority;u++);fr.splice(u,0,i),u===0&&sc(i)}};function dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function rh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function b_(){}function Bx(i,o,u,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var K=th(T);v.call(K)}}var T=C_(o,d,i,0,null,!1,!1,"",b_);return i._reactRootContainer=T,i[Gr]=T.current,El(i.nodeType===8?i.parentNode:i),Us(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var C=d;d=function(){var K=th(M);C.call(K)}}var M=up(i,0,!1,null,null,!1,!1,"",b_);return i._reactRootContainer=M,i[Gr]=M.current,El(i.nodeType===8?i.parentNode:i),Us(function(){eh(o,M,u,d)}),M}function ih(i,o,u,d,m){var v=u._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var C=m;m=function(){var M=th(T);C.call(M)}}eh(o,T,i,m)}else T=Bx(u,o,i,m,d);return th(T)}ec=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=wi(o.pendingLanes);u!==0&&(Si(o,u|1),pn(o,qe()),(Oe&6)===0&&(ia=qe()+500,Ni()))}break;case 13:Us(function(){var d=Jr(i,1);if(d!==null){var m=on();rr(d,i,1,m)}}),cp(i,1)}},Ro=function(i){if(i.tag===13){var o=Jr(i,134217728);if(o!==null){var u=on();rr(o,i,134217728,u)}cp(i,134217728)}},tc=function(i){if(i.tag===13){var o=Fi(i),u=Jr(i,o);if(u!==null){var d=on();rr(u,i,o,d)}cp(i,o)}},nc=function(){return De},rc=function(i,o){var u=De;try{return De=i,o()}finally{De=u}},wo=function(i,o,u){switch(o){case"input":if(qa(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==i&&d.form===i.form){var m=Ec(d);if(!m)throw Error(n(90));po(d),qa(d,m)}}}break;case"textarea":vo(i,u);break;case"select":o=u.value,o!=null&&Ur(i,!!u.multiple,o,!1)}},ws=rp,nl=Us;var zx={usingClientEntryPoint:!1,Events:[Il,Wo,Ec,hr,tl,rp]},Fl={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$x={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=sl(i),i===null?null:i.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||Ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{xs=sh.inject($x),vn=sh}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zx,mn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(o))throw Error(n(200));return jx(i,o,null,u)},mn.createRoot=function(i,o){if(!dp(i))throw Error(n(299));var u=!1,d="",m=k_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=up(i,1,!1,null,null,u,!1,d,m),i[Gr]=o.current,El(i.nodeType===8?i.parentNode:i),new hp(o)},mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=sl(o),i=i===null?null:i.stateNode,i},mn.flushSync=function(i){return Us(i)},mn.hydrate=function(i,o,u){if(!rh(o))throw Error(n(200));return ih(null,i,o,!0,u)},mn.hydrateRoot=function(i,o,u){if(!dp(i))throw Error(n(405));var d=u!=null&&u.hydratedSources||null,m=!1,v="",T=k_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),o=C_(o,null,i,1,u??null,m,!1,v,T),i[Gr]=o.current,El(i),d)for(i=0;i<d.length;i++)u=d[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new nh(o)},mn.render=function(i,o,u){if(!rh(o))throw Error(n(200));return ih(null,i,o,!1,u)},mn.unmountComponentAtNode=function(i){if(!rh(i))throw Error(n(40));return i._reactRootContainer?(Us(function(){ih(null,null,i,!1,function(){i._reactRootContainer=null,i[Gr]=null})}),!0):!1},mn.unstable_batchedUpdates=rp,mn.unstable_renderSubtreeIntoContainer=function(i,o,u,d){if(!rh(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ih(i,o,u,!1,d)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var j_;function Yx(){if(j_)return mp.exports;j_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mp.exports=Xx(),mp.exports}var U_;function Jx(){if(U_)return oh;U_=1;var t=Yx();return oh.createRoot=t.createRoot,oh.hydrateRoot=t.hydrateRoot,oh}var Zx=Jx();const eA=Kw(Zx),tA="modulepreload",nA=function(t){return"/Costas_Portfolio/"+t},B_={},rA=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=l?.nonce||l?.getAttribute("nonce");s=f(n.map(p=>{if(p=nA(p),p in B_)return;B_[p]=!0;const g=p.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":tA,g||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),g)return new Promise((I,k)=>{E.addEventListener("load",I),E.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l}return s.then(l=>{for(const h of l||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z_="popstate";function iA(t={}){function e(r,s){let{pathname:a,search:l,hash:h}=r.location;return Qp("",{pathname:a,search:l,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:uu(s)}return oA(e,n,null,t)}function ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sA(){return Math.random().toString(36).substring(2,10)}function $_(t,e){return{usr:t.state,key:t.key,idx:e}}function Qp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Da(e):e,state:n,key:e&&e.key||r||sA()}}function uu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Da(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,h="POP",f=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function _(){h="POP";let R=g(),F=R==null?null:R-p;p=R,f&&f({action:h,location:N.location,delta:F})}function E(R,F){h="PUSH";let W=Qp(N.location,R,F);p=g()+1;let q=$_(W,p),X=N.createHref(W);try{l.pushState(q,"",X)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(X)}a&&f&&f({action:h,location:N.location,delta:1})}function I(R,F){h="REPLACE";let W=Qp(N.location,R,F);p=g();let q=$_(W,p),X=N.createHref(W);l.replaceState(q,"",X),a&&f&&f({action:h,location:N.location,delta:0})}function k(R){return aA(R)}let N={get action(){return h},get location(){return t(s,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(z_,_),f=R,()=>{s.removeEventListener(z_,_),f=null}},createHref(R){return e(s,R)},createURL:k,encodeLocation(R){let F=k(R);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:I,go(R){return l.go(R)}};return N}function aA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:uu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function Gw(t,e,n="/"){return lA(t,e,n,!1)}function lA(t,e,n,r){let s=typeof e=="string"?Da(e):e,a=ui(s.pathname||"/",n);if(a==null)return null;let l=Qw(t);uA(l);let h=null;for(let f=0;h==null&&f<l.length;++f){let p=wA(a);h=vA(l[f],p,r)}return h}function Qw(t,e=[],n=[],r=""){let s=(a,l,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ot(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ii([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(ot(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Qw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:gA(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{if(a.path===""||!a.path?.includes("?"))s(a,l);else for(let h of Xw(a.path))s(a,l,h)}),e}function Xw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Xw(r.join("/")),h=[];return h.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...l),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function uA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var cA=/^:[\w-]+$/,hA=3,dA=2,fA=1,pA=10,mA=-2,H_=t=>t==="*";function gA(t,e){let n=t.split("/"),r=n.length;return n.some(H_)&&(r+=mA),e&&(r+=dA),n.filter(s=>!H_(s)).reduce((s,a)=>s+(cA.test(a)?hA:a===""?fA:pA),r)}function yA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function vA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:ii([a,_.pathname]),pathnameBase:IA(ii([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ii([a,_.pathnameBase]))}return l}function Lh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_A(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let k=h[E]||"";l=a.slice(0,a.length-k.length).replace(/(.)\/+$/,"$1")}const I=h[E];return _&&!I?p[g]=void 0:p[g]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function _A(t,e=!1,n=!0){Dr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function wA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function EA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Da(t):t;return{pathname:n?n.startsWith("/")?n:TA(n,e):e,search:xA(r),hash:AA(s)}}function TA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yw(t){let e=SA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Jw(t,e,n,r=!1){let s;typeof t=="string"?s=Da(t):(s={...t},ot(!s.pathname||!s.pathname.includes("?"),vp("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),vp("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),vp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,h;if(l==null)h=n;else{let _=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=EA(s,h),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ii=t=>t.join("/").replace(/\/\/+/g,"/"),IA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function PA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Zw=["POST","PUT","PATCH","DELETE"];new Set(Zw);var CA=["GET",...Zw];new Set(CA);var Va=L.createContext(null);Va.displayName="DataRouter";var cd=L.createContext(null);cd.displayName="DataRouterState";L.createContext(!1);var eE=L.createContext({isTransitioning:!1});eE.displayName="ViewTransition";var RA=L.createContext(new Map);RA.displayName="Fetchers";var kA=L.createContext(null);kA.displayName="Await";var Mr=L.createContext(null);Mr.displayName="Navigation";var Au=L.createContext(null);Au.displayName="Location";var gi=L.createContext({outlet:null,matches:[],isDataRoute:!1});gi.displayName="Route";var zm=L.createContext(null);zm.displayName="RouteError";function bA(t,{relative:e}={}){ot(Pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Mr),{hash:s,pathname:a,search:l}=Cu(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ii([n,a])),r.createHref({pathname:h,search:l,hash:s})}function Pu(){return L.useContext(Au)!=null}function so(){return ot(Pu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Au).location}var tE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(t){L.useContext(Mr).static||L.useLayoutEffect(t)}function rE(){let{isDataRoute:t}=L.useContext(gi);return t?HA():NA()}function NA(){ot(Pu(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Va),{basename:e,navigator:n}=L.useContext(Mr),{matches:r}=L.useContext(gi),{pathname:s}=so(),a=JSON.stringify(Yw(r)),l=L.useRef(!1);return nE(()=>{l.current=!0}),L.useCallback((f,p={})=>{if(Dr(l.current,tE),!l.current)return;if(typeof f=="number"){n.go(f);return}let g=Jw(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ii([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}L.createContext(null);function Cu(t,{relative:e}={}){let{matches:n}=L.useContext(gi),{pathname:r}=so(),s=JSON.stringify(Yw(n));return L.useMemo(()=>Jw(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function DA(t,e){return iE(t,e)}function iE(t,e,n,r){ot(Pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(Mr),{matches:a}=L.useContext(gi),l=a[a.length-1],h=l?l.params:{},f=l?l.pathname:"/",p=l?l.pathnameBase:"/",g=l&&l.route;{let F=g&&g.path||"";sE(f,!g||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=so(),E;if(e){let F=typeof e=="string"?Da(e):e;ot(p==="/"||F.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let I=E.pathname||"/",k=I;if(p!=="/"){let F=p.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=Gw(t,{pathname:k});Dr(g||N!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Dr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=FA(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:ii([p,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:ii([p,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,n,r);return e&&R?L.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},R):R}function VA(){let t=$A(),e=PA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,l)}var LA=L.createElement(VA,null),MA=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(gi.Provider,{value:this.props.routeContext},L.createElement(zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OA({routeContext:t,match:e,children:n}){let r=L.useContext(Va);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(gi.Provider,{value:t},n)}function FA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);ot(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){l=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let _,E=!1,I=null,k=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||LA,l&&(h<0&&g===0?(sE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,k=null):h===g&&(E=!0,k=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,g+1)),R=()=>{let F;return _?F=I:E?F=k:p.route.Component?F=L.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,L.createElement(OA,{match:p,routeContext:{outlet:f,matches:N,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(MA,{location:n.location,revalidation:n.revalidation,component:I,error:_,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function $m(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(t){let e=L.useContext(Va);return ot(e,$m(t)),e}function UA(t){let e=L.useContext(cd);return ot(e,$m(t)),e}function BA(t){let e=L.useContext(gi);return ot(e,$m(t)),e}function Hm(t){let e=BA(t),n=e.matches[e.matches.length-1];return ot(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zA(){return Hm("useRouteId")}function $A(){let t=L.useContext(zm),e=UA("useRouteError"),n=Hm("useRouteError");return t!==void 0?t:e.errors?.[n]}function HA(){let{router:t}=jA("useNavigate"),e=Hm("useNavigate"),n=L.useRef(!1);return nE(()=>{n.current=!0}),L.useCallback(async(s,a={})=>{Dr(n.current,tE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var W_={};function sE(t,e,n){!e&&!W_[t]&&(W_[t]=!0,Dr(!1,n))}L.memo(WA);function WA({routes:t,future:e,state:n}){return iE(t,void 0,n,e)}function Xp(t){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){ot(!Pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Da(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,I=L.useMemo(()=>{let k=ui(f,l);return k==null?null:{location:{pathname:k,search:p,hash:g,state:_,key:E},navigationType:r}},[l,f,p,g,_,E,r]);return Dr(I!=null,`<Router basename="${l}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:L.createElement(Mr.Provider,{value:h},L.createElement(Au.Provider,{children:e,value:I}))}function KA({children:t,location:e}){return DA(Yp(t),e)}function Yp(t,e=[]){let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){n.push.apply(n,Yp(r.props.children,a));return}ot(r.type===Xp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Yp(r.props.children,a)),n.push(l)}),n}var wh="get",Eh="application/x-www-form-urlencoded";function hd(t){return t!=null&&typeof t.tagName=="string"}function GA(t){return hd(t)&&t.tagName.toLowerCase()==="button"}function QA(t){return hd(t)&&t.tagName.toLowerCase()==="form"}function XA(t){return hd(t)&&t.tagName.toLowerCase()==="input"}function YA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JA(t,e){return t.button===0&&(!e||e==="_self")&&!YA(t)}var ah=null;function ZA(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var eP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _p(t){return t!=null&&!eP.has(t)?(Dr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Eh}"`),null):t}function tP(t,e){let n,r,s,a,l;if(QA(t)){let h=t.getAttribute("action");r=h?ui(h,e):null,n=t.getAttribute("method")||wh,s=_p(t.getAttribute("enctype"))||Eh,a=new FormData(t)}else if(GA(t)||XA(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?ui(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||wh,s=_p(t.getAttribute("formenctype"))||_p(h.getAttribute("enctype"))||Eh,a=new FormData(h,t),!ZA()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(hd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wh,r=null,s=Eh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nP(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ui(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function rP(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sP(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await rP(a,n);return l.links?l.links():[]}return[]}));return uP(r.flat(1).filter(iP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function q_(t,e,n,r,s,a){let l=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(l(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function oP(t,e,{includeHydrateFallback:n}={}){return aP(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function aP(t){return[...new Set(t)]}function lP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(lP(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function oE(){let t=L.useContext(Va);return Wm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cP(){let t=L.useContext(cd);return Wm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var qm=L.createContext(void 0);qm.displayName="FrameworkContext";function aE(){let t=L.useContext(qm);return Wm(t,"You must render this element inside a <HydratedRouter> element"),t}function hP(t,e){let n=L.useContext(qm),[r,s]=L.useState(!1),[a,l]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=F=>{F.forEach(W=>{l(W.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[t]),L.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let I=()=>{s(!0)},k=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Ul(h,I),onBlur:Ul(f,k),onMouseEnter:Ul(p,I),onMouseLeave:Ul(g,k),onTouchStart:Ul(_,I)}]:[!1,E,{}]}function Ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dP({page:t,...e}){let{router:n}=oE(),r=L.useMemo(()=>Gw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(pP,{page:t,matches:r,...e}):null}function fP(t){let{manifest:e,routeModules:n}=aE(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return sP(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function pP({page:t,matches:e,...n}){let r=so(),{manifest:s,routeModules:a}=aE(),{basename:l}=oE(),{loaderData:h,matches:f}=cP(),p=L.useMemo(()=>q_(t,e,f,s,r,"data"),[t,e,f,s,r]),g=L.useMemo(()=>q_(t,e,f,s,r,"assets"),[t,e,f,s,r]),_=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,N=!1;if(e.forEach(F=>{let W=s.routes[F.route.id];!W||!W.hasLoader||(!p.some(q=>q.route.id===F.route.id)&&F.route.id in h&&a[F.route.id]?.shouldRevalidate||W.hasClientLoader?N=!0:k.add(F.route.id))}),k.size===0)return[];let R=nP(t,l,"data");return N&&k.size>0&&R.searchParams.set("_routes",e.filter(F=>k.has(F.route.id)).map(F=>F.route.id).join(",")),[R.pathname+R.search]},[l,h,r,s,p,e,t,a]),E=L.useMemo(()=>oP(g,s),[g,s]),I=fP(g);return L.createElement(L.Fragment,null,_.map(k=>L.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),E.map(k=>L.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),I.map(({key:k,link:N})=>L.createElement("link",{key:k,nonce:n.nonce,...N})))}function mP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lE&&(window.__reactRouterVersion="7.8.0")}catch{}function gP({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=iA({window:n,v5Compat:!0}));let s=r.current,[a,l]=L.useState({action:s.action,location:s.location}),h=L.useCallback(f=>{L.startTransition(()=>l(f))},[l]);return L.useLayoutEffect(()=>s.listen(h),[s,h]),L.createElement(qA,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var uE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cE=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},I){let{basename:k}=L.useContext(Mr),N=typeof p=="string"&&uE.test(p),R,F=!1;if(typeof p=="string"&&N&&(R=p,lE))try{let P=new URL(window.location.href),V=p.startsWith("//")?new URL(P.protocol+p):new URL(p),O=ui(V.pathname,k);V.origin===P.origin&&O!=null?p=O+V.search+V.hash:F=!0}catch{Dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=bA(p,{relative:s}),[q,X,J]=hP(r,E),oe=wP(p,{replace:l,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:_});function D(P){e&&e(P),P.defaultPrevented||oe(P)}let x=L.createElement("a",{...E,...J,href:R||W,onClick:F||a?e:D,ref:mP(I,X),target:f,"data-discover":!N&&n==="render"?"true":void 0});return q&&!N?L.createElement(L.Fragment,null,x,L.createElement(dP,{page:W})):x});cE.displayName="Link";var yP=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:h,children:f,...p},g){let _=Cu(l,{relative:p.relative}),E=so(),I=L.useContext(cd),{navigator:k,basename:N}=L.useContext(Mr),R=I!=null&&xP(_)&&h===!0,F=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,W=E.pathname,q=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(W=W.toLowerCase(),q=q?q.toLowerCase():null,F=F.toLowerCase()),q&&N&&(q=ui(q,N)||q);const X=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let J=W===F||!s&&W.startsWith(F)&&W.charAt(X)==="/",oe=q!=null&&(q===F||!s&&q.startsWith(F)&&q.charAt(F.length)==="/"),D={isActive:J,isPending:oe,isTransitioning:R},x=J?e:void 0,P;typeof r=="function"?P=r(D):P=[r,J?"active":null,oe?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(D):a;return L.createElement(cE,{...p,"aria-current":x,className:P,ref:g,style:V,to:l,viewTransition:h},typeof f=="function"?f(D):f)});yP.displayName="NavLink";var vP=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=wh,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},I)=>{let k=SP(),N=IP(h,{relative:p}),R=l.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&uE.test(h),W=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let X=q.nativeEvent.submitter,J=X?.getAttribute("formmethod")||l;k(X||q.currentTarget,{fetcherKey:e,method:J,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return L.createElement("form",{ref:I,method:R,action:N,onSubmit:r?f:W,...E,"data-discover":!F&&t==="render"?"true":void 0})});vP.displayName="Form";function _P(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(t){let e=L.useContext(Va);return ot(e,_P(t)),e}function wP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let h=rE(),f=so(),p=Cu(t,{relative:a});return L.useCallback(g=>{if(JA(g,e)){g.preventDefault();let _=n!==void 0?n:uu(f)===uu(p);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,h,p,n,r,e,t,s,a,l])}var EP=0,TP=()=>`__${String(++EP)}__`;function SP(){let{router:t}=hE("useSubmit"),{basename:e}=L.useContext(Mr),n=zA();return L.useCallback(async(r,s={})=>{let{action:a,method:l,encType:h,formData:f,body:p}=tP(r,e);if(s.navigate===!1){let g=s.fetcherKey||TP();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||l,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function IP(t,{relative:e}={}){let{basename:n}=L.useContext(Mr),r=L.useContext(gi);ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Cu(t||".",{relative:e})},l=so();if(t==null){a.search=l.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ii([n,a.pathname])),uu(a)}function xP(t,{relative:e}={}){let n=L.useContext(eE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hE("useViewTransitionState"),s=Cu(t,{relative:e});if(!n.isTransitioning)return!1;let a=ui(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ui(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Lh(s.pathname,l)!=null||Lh(s.pathname,a)!=null}const AP=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},PP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},fE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,h=l?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,I=p&63;f||(I=64,l||(E=64)),r.push(n[g],n[_],n[E],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new CP;const E=a<<2|h>>4;if(r.push(E),p!==64){const I=h<<4&240|p>>2;if(r.push(I),_!==64){const k=p<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RP=function(t){const e=dE(t);return fE.encodeByteArray(e,!0)},Mh=function(t){return RP(t).replace(/\./g,"")},pE=function(t){try{return fE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=()=>kP().__FIREBASE_DEFAULTS__,NP=()=>{if(typeof process>"u"||typeof K_>"u")return;const t=K_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pE(t[1]);return e&&JSON.parse(e)},dd=()=>{try{return AP()||bP()||NP()||DP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mE=t=>dd()?.emulatorHosts?.[t],gE=t=>{const e=mE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yE=()=>dd()?.config,vE=t=>dd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Km(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Mh(JSON.stringify(n)),Mh(JSON.stringify(l)),""].join(".")}const Jl={};function LP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?t.emulator.push(e):t.prod.push(e);return t}function MP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let G_=!1;function Gm(t,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||Jl[t]===e||Jl[t]||G_)return;Jl[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=LP().prod.length>0;function l(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{G_=!0,l()},E}function g(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=MP(r),I=n("text"),k=document.getElementById(I)||document.createElement("span"),N=n("learnmore"),R=document.getElementById(N)||document.createElement("a"),F=n("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),g(R,N);const X=p();f(W,F),q.append(W,k,R,X),document.body.appendChild(q)}a?(k.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function FP(){const t=dd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zP(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $P(){return!FP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HP(){try{return typeof indexedDB=="object"}catch{return!1}}function WP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="FirebaseError";class Or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qP,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?KP(a,r):"Error",h=`${this.serviceName}: ${l} (${s}).`;return new Or(s,h,r)}}function KP(t,e){return t.replace(GP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GP=/\{\$([^}]+)}/g;function QP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Q_(a)&&Q_(l)){if(!Zs(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Q_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XP(t,e){const n=new YP(t,e);return n.subscribe.bind(n)}class YP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wp),s.error===void 0&&(s.error=wp),s.complete===void 0&&(s.complete=wp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tC(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(t){return t===Ws?void 0:t}function tC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const rC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},iC=ke.INFO,sC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},oC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=iC,this._logHandler=oC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const aC=(t,e)=>e.some(n=>t instanceof n);let X_,Y_;function lC(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uC(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wE=new WeakMap,Jp=new WeakMap,EE=new WeakMap,Ep=new WeakMap,Xm=new WeakMap;function cC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xi(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&wE.set(n,t)}).catch(()=>{}),Xm.set(e,t),e}function hC(t){if(Jp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Jp.set(t,e)}let Zp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||EE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dC(t){Zp=t(Zp)}function fC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tp(this),e,...n);return EE.set(r,e.sort?e.sort():[e]),Xi(r)}:uC().includes(t)?function(...e){return t.apply(Tp(this),e),Xi(wE.get(this))}:function(...e){return Xi(t.apply(Tp(this),e))}}function pC(t){return typeof t=="function"?fC(t):(t instanceof IDBTransaction&&hC(t),aC(t,lC())?new Proxy(t,Zp):t)}function Xi(t){if(t instanceof IDBRequest)return cC(t);if(Ep.has(t))return Ep.get(t);const e=pC(t);return e!==t&&(Ep.set(t,e),Xm.set(e,t)),e}const Tp=t=>Xm.get(t);function mC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),h=Xi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Xi(l.result),f.oldVersion,f.newVersion,Xi(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const gC=["get","getKey","getAll","getAllKeys","count"],yC=["put","add","delete","clear"],Sp=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sp.get(e))return Sp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=yC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||gC.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return Sp.set(e,a),a}dC(t=>({...t,get:(e,n,r)=>J_(e,n)||t.get(e,n,r),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_C(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _C(t){return t.getComponent()?.type==="VERSION"}const em="@firebase/app",Z_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Qm("@firebase/app"),wC="@firebase/app-compat",EC="@firebase/analytics-compat",TC="@firebase/analytics",SC="@firebase/app-check-compat",IC="@firebase/app-check",xC="@firebase/auth",AC="@firebase/auth-compat",PC="@firebase/database",CC="@firebase/data-connect",RC="@firebase/database-compat",kC="@firebase/functions",bC="@firebase/functions-compat",NC="@firebase/installations",DC="@firebase/installations-compat",VC="@firebase/messaging",LC="@firebase/messaging-compat",MC="@firebase/performance",OC="@firebase/performance-compat",FC="@firebase/remote-config",jC="@firebase/remote-config-compat",UC="@firebase/storage",BC="@firebase/storage-compat",zC="@firebase/firestore",$C="@firebase/ai",HC="@firebase/firestore-compat",WC="firebase",qC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="[DEFAULT]",KC={[em]:"fire-core",[wC]:"fire-core-compat",[TC]:"fire-analytics",[EC]:"fire-analytics-compat",[IC]:"fire-app-check",[SC]:"fire-app-check-compat",[xC]:"fire-auth",[AC]:"fire-auth-compat",[PC]:"fire-rtdb",[CC]:"fire-data-connect",[RC]:"fire-rtdb-compat",[kC]:"fire-fn",[bC]:"fire-fn-compat",[NC]:"fire-iid",[DC]:"fire-iid-compat",[VC]:"fire-fcm",[LC]:"fire-fcm-compat",[MC]:"fire-perf",[OC]:"fire-perf-compat",[FC]:"fire-rc",[jC]:"fire-rc-compat",[UC]:"fire-gcs",[BC]:"fire-gcs-compat",[zC]:"fire-fst",[HC]:"fire-fst-compat",[$C]:"fire-vertex","fire-js":"fire-js",[WC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=new Map,GC=new Map,nm=new Map;function e0(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(nm.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;nm.set(e,t);for(const n of cu.values())e0(n,t);for(const n of GC.values())e0(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Ru("app","Firebase",QC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=qC;function TE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:tm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Yi.create("bad-app-name",{appName:String(s)});if(n||(n=yE()),!n)throw Yi.create("no-options");const a=cu.get(s);if(a){if(Zs(n,a.options)&&Zs(r,a.config))return a;throw Yi.create("duplicate-app",{appName:s})}const l=new nC(s);for(const f of nm.values())l.addComponent(f);const h=new XC(n,r,l);return cu.set(s,h),h}function Ym(t=tm){const e=cu.get(t);if(!e&&t===tm&&yE())return TE();if(!e)throw Yi.create("no-app",{appName:t});return e}function t0(){return Array.from(cu.values())}function Ir(t,e,n){let r=KC[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(l.join(" "));return}eo(new ns(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC="firebase-heartbeat-database",JC=1,hu="firebase-heartbeat-store";let Ip=null;function SE(){return Ip||(Ip=mC(YC,JC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yi.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function ZC(t){try{const n=(await SE()).transaction(hu),r=await n.objectStore(hu).get(IE(t));return await n.done,r}catch(e){if(e instanceof Or)ci.warn(e.message);else{const n=Yi.create("idb-get",{originalErrorMessage:e?.message});ci.warn(n.message)}}}async function n0(t,e){try{const r=(await SE()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,IE(t)),await r.done}catch(n){if(n instanceof Or)ci.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n?.message});ci.warn(r.message)}}}function IE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=1024,tR=30;class nR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=r0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>tR){const s=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ci.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:n,unsentEntries:r}=rR(this._heartbeatsCache.heartbeats),s=Mh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ci.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function rR(t,e=eR){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),i0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),i0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HP()?WP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return n0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i0(t){return Mh(JSON.stringify({version:2,heartbeats:t})).length}function sR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){eo(new ns("platform-logger",e=>new vC(e),"PRIVATE")),eo(new ns("heartbeat",e=>new nR(e),"PRIVATE")),Ir(em,Z_,t),Ir(em,Z_,"esm2020"),Ir("fire-js","")}oR("");var aR="firebase",lR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(aR,lR,"app");var s0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,xE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function P(){}P.prototype=x.prototype,D.D=x.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(V,O,B){for(var b=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)b[Be-2]=arguments[Be];return x.prototype[O].apply(V,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,x,P){P||(P=0);var V=Array(16);if(typeof x=="string")for(var O=0;16>O;++O)V[O]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(O=0;16>O;++O)V[O]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=D.g[0],P=D.g[1],O=D.g[2];var B=D.g[3],b=x+(B^P&(O^B))+V[0]+3614090360&4294967295;x=P+(b<<7&4294967295|b>>>25),b=B+(O^x&(P^O))+V[1]+3905402710&4294967295,B=x+(b<<12&4294967295|b>>>20),b=O+(P^B&(x^P))+V[2]+606105819&4294967295,O=B+(b<<17&4294967295|b>>>15),b=P+(x^O&(B^x))+V[3]+3250441966&4294967295,P=O+(b<<22&4294967295|b>>>10),b=x+(B^P&(O^B))+V[4]+4118548399&4294967295,x=P+(b<<7&4294967295|b>>>25),b=B+(O^x&(P^O))+V[5]+1200080426&4294967295,B=x+(b<<12&4294967295|b>>>20),b=O+(P^B&(x^P))+V[6]+2821735955&4294967295,O=B+(b<<17&4294967295|b>>>15),b=P+(x^O&(B^x))+V[7]+4249261313&4294967295,P=O+(b<<22&4294967295|b>>>10),b=x+(B^P&(O^B))+V[8]+1770035416&4294967295,x=P+(b<<7&4294967295|b>>>25),b=B+(O^x&(P^O))+V[9]+2336552879&4294967295,B=x+(b<<12&4294967295|b>>>20),b=O+(P^B&(x^P))+V[10]+4294925233&4294967295,O=B+(b<<17&4294967295|b>>>15),b=P+(x^O&(B^x))+V[11]+2304563134&4294967295,P=O+(b<<22&4294967295|b>>>10),b=x+(B^P&(O^B))+V[12]+1804603682&4294967295,x=P+(b<<7&4294967295|b>>>25),b=B+(O^x&(P^O))+V[13]+4254626195&4294967295,B=x+(b<<12&4294967295|b>>>20),b=O+(P^B&(x^P))+V[14]+2792965006&4294967295,O=B+(b<<17&4294967295|b>>>15),b=P+(x^O&(B^x))+V[15]+1236535329&4294967295,P=O+(b<<22&4294967295|b>>>10),b=x+(O^B&(P^O))+V[1]+4129170786&4294967295,x=P+(b<<5&4294967295|b>>>27),b=B+(P^O&(x^P))+V[6]+3225465664&4294967295,B=x+(b<<9&4294967295|b>>>23),b=O+(x^P&(B^x))+V[11]+643717713&4294967295,O=B+(b<<14&4294967295|b>>>18),b=P+(B^x&(O^B))+V[0]+3921069994&4294967295,P=O+(b<<20&4294967295|b>>>12),b=x+(O^B&(P^O))+V[5]+3593408605&4294967295,x=P+(b<<5&4294967295|b>>>27),b=B+(P^O&(x^P))+V[10]+38016083&4294967295,B=x+(b<<9&4294967295|b>>>23),b=O+(x^P&(B^x))+V[15]+3634488961&4294967295,O=B+(b<<14&4294967295|b>>>18),b=P+(B^x&(O^B))+V[4]+3889429448&4294967295,P=O+(b<<20&4294967295|b>>>12),b=x+(O^B&(P^O))+V[9]+568446438&4294967295,x=P+(b<<5&4294967295|b>>>27),b=B+(P^O&(x^P))+V[14]+3275163606&4294967295,B=x+(b<<9&4294967295|b>>>23),b=O+(x^P&(B^x))+V[3]+4107603335&4294967295,O=B+(b<<14&4294967295|b>>>18),b=P+(B^x&(O^B))+V[8]+1163531501&4294967295,P=O+(b<<20&4294967295|b>>>12),b=x+(O^B&(P^O))+V[13]+2850285829&4294967295,x=P+(b<<5&4294967295|b>>>27),b=B+(P^O&(x^P))+V[2]+4243563512&4294967295,B=x+(b<<9&4294967295|b>>>23),b=O+(x^P&(B^x))+V[7]+1735328473&4294967295,O=B+(b<<14&4294967295|b>>>18),b=P+(B^x&(O^B))+V[12]+2368359562&4294967295,P=O+(b<<20&4294967295|b>>>12),b=x+(P^O^B)+V[5]+4294588738&4294967295,x=P+(b<<4&4294967295|b>>>28),b=B+(x^P^O)+V[8]+2272392833&4294967295,B=x+(b<<11&4294967295|b>>>21),b=O+(B^x^P)+V[11]+1839030562&4294967295,O=B+(b<<16&4294967295|b>>>16),b=P+(O^B^x)+V[14]+4259657740&4294967295,P=O+(b<<23&4294967295|b>>>9),b=x+(P^O^B)+V[1]+2763975236&4294967295,x=P+(b<<4&4294967295|b>>>28),b=B+(x^P^O)+V[4]+1272893353&4294967295,B=x+(b<<11&4294967295|b>>>21),b=O+(B^x^P)+V[7]+4139469664&4294967295,O=B+(b<<16&4294967295|b>>>16),b=P+(O^B^x)+V[10]+3200236656&4294967295,P=O+(b<<23&4294967295|b>>>9),b=x+(P^O^B)+V[13]+681279174&4294967295,x=P+(b<<4&4294967295|b>>>28),b=B+(x^P^O)+V[0]+3936430074&4294967295,B=x+(b<<11&4294967295|b>>>21),b=O+(B^x^P)+V[3]+3572445317&4294967295,O=B+(b<<16&4294967295|b>>>16),b=P+(O^B^x)+V[6]+76029189&4294967295,P=O+(b<<23&4294967295|b>>>9),b=x+(P^O^B)+V[9]+3654602809&4294967295,x=P+(b<<4&4294967295|b>>>28),b=B+(x^P^O)+V[12]+3873151461&4294967295,B=x+(b<<11&4294967295|b>>>21),b=O+(B^x^P)+V[15]+530742520&4294967295,O=B+(b<<16&4294967295|b>>>16),b=P+(O^B^x)+V[2]+3299628645&4294967295,P=O+(b<<23&4294967295|b>>>9),b=x+(O^(P|~B))+V[0]+4096336452&4294967295,x=P+(b<<6&4294967295|b>>>26),b=B+(P^(x|~O))+V[7]+1126891415&4294967295,B=x+(b<<10&4294967295|b>>>22),b=O+(x^(B|~P))+V[14]+2878612391&4294967295,O=B+(b<<15&4294967295|b>>>17),b=P+(B^(O|~x))+V[5]+4237533241&4294967295,P=O+(b<<21&4294967295|b>>>11),b=x+(O^(P|~B))+V[12]+1700485571&4294967295,x=P+(b<<6&4294967295|b>>>26),b=B+(P^(x|~O))+V[3]+2399980690&4294967295,B=x+(b<<10&4294967295|b>>>22),b=O+(x^(B|~P))+V[10]+4293915773&4294967295,O=B+(b<<15&4294967295|b>>>17),b=P+(B^(O|~x))+V[1]+2240044497&4294967295,P=O+(b<<21&4294967295|b>>>11),b=x+(O^(P|~B))+V[8]+1873313359&4294967295,x=P+(b<<6&4294967295|b>>>26),b=B+(P^(x|~O))+V[15]+4264355552&4294967295,B=x+(b<<10&4294967295|b>>>22),b=O+(x^(B|~P))+V[6]+2734768916&4294967295,O=B+(b<<15&4294967295|b>>>17),b=P+(B^(O|~x))+V[13]+1309151649&4294967295,P=O+(b<<21&4294967295|b>>>11),b=x+(O^(P|~B))+V[4]+4149444226&4294967295,x=P+(b<<6&4294967295|b>>>26),b=B+(P^(x|~O))+V[11]+3174756917&4294967295,B=x+(b<<10&4294967295|b>>>22),b=O+(x^(B|~P))+V[2]+718787259&4294967295,O=B+(b<<15&4294967295|b>>>17),b=P+(B^(O|~x))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(O+(b<<21&4294967295|b>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+B&4294967295}r.prototype.u=function(D,x){x===void 0&&(x=D.length);for(var P=x-this.blockSize,V=this.B,O=this.h,B=0;B<x;){if(O==0)for(;B<=P;)s(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<x;)if(V[O++]=D.charCodeAt(B++),O==this.blockSize){s(this,V),O=0;break}}else for(;B<x;)if(V[O++]=D[B++],O==this.blockSize){s(this,V),O=0;break}}this.h=O,this.o+=x},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;var P=8*this.o;for(x=D.length-8;x<D.length;++x)D[x]=P&255,P/=256;for(this.u(D),D=Array(16),x=P=0;4>x;++x)for(var V=0;32>V;V+=8)D[P++]=this.g[x]>>>V&255;return D};function a(D,x){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=x(D)}function l(D,x){this.h=x;for(var P=[],V=!0,O=D.length-1;0<=O;O--){var B=D[O]|0;V&&B==x||(P[O]=B,V=!1)}this.g=P}var h={};function f(D){return-128<=D&&128>D?a(D,function(x){return new l([x|0],0>x?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return R(p(-D));for(var x=[],P=1,V=0;D>=P;V++)x[V]=D/P|0,P*=4294967296;return new l(x,0)}function g(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return R(g(D.substring(1),x));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(x,8)),V=_,O=0;O<D.length;O+=8){var B=Math.min(8,D.length-O),b=parseInt(D.substring(O,O+B),x);8>B?(B=p(Math.pow(x,B)),V=V.j(B).add(p(b))):(V=V.j(P),V=V.add(p(b)))}return V}var _=f(0),E=f(1),I=f(16777216);t=l.prototype,t.m=function(){if(N(this))return-R(this).m();for(var D=0,x=1,P=0;P<this.g.length;P++){var V=this.i(P);D+=(0<=V?V:4294967296+V)*x,x*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(k(this))return"0";if(N(this))return"-"+R(this).toString(D);for(var x=p(Math.pow(D,6)),P=this,V="";;){var O=X(P,x).g;P=F(P,O.j(x));var B=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=O,k(P))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function k(D){if(D.h!=0)return!1;for(var x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=F(this,D),N(D)?-1:k(D)?0:1};function R(D){for(var x=D.g.length,P=[],V=0;V<x;V++)P[V]=~D.g[V];return new l(P,~D.h).add(E)}t.abs=function(){return N(this)?R(this):this},t.add=function(D){for(var x=Math.max(this.g.length,D.g.length),P=[],V=0,O=0;O<=x;O++){var B=V+(this.i(O)&65535)+(D.i(O)&65535),b=(B>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=b>>>16,B&=65535,b&=65535,P[O]=b<<16|B}return new l(P,P[P.length-1]&-2147483648?-1:0)};function F(D,x){return D.add(R(x))}t.j=function(D){if(k(this)||k(D))return _;if(N(this))return N(D)?R(this).j(R(D)):R(R(this).j(D));if(N(D))return R(this.j(R(D)));if(0>this.l(I)&&0>D.l(I))return p(this.m()*D.m());for(var x=this.g.length+D.g.length,P=[],V=0;V<2*x;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<D.g.length;O++){var B=this.i(V)>>>16,b=this.i(V)&65535,Be=D.i(O)>>>16,dt=D.i(O)&65535;P[2*V+2*O]+=b*dt,W(P,2*V+2*O),P[2*V+2*O+1]+=B*dt,W(P,2*V+2*O+1),P[2*V+2*O+1]+=b*Be,W(P,2*V+2*O+1),P[2*V+2*O+2]+=B*Be,W(P,2*V+2*O+2)}for(V=0;V<x;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=x;V<2*x;V++)P[V]=0;return new l(P,0)};function W(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function q(D,x){this.g=D,this.h=x}function X(D,x){if(k(x))throw Error("division by zero");if(k(D))return new q(_,_);if(N(D))return x=X(R(D),x),new q(R(x.g),R(x.h));if(N(x))return x=X(D,R(x)),new q(R(x.g),x.h);if(30<D.g.length){if(N(D)||N(x))throw Error("slowDivide_ only works with positive integers.");for(var P=E,V=x;0>=V.l(D);)P=J(P),V=J(V);var O=oe(P,1),B=oe(V,1);for(V=oe(V,2),P=oe(P,2);!k(V);){var b=B.add(V);0>=b.l(D)&&(O=O.add(P),B=b),V=oe(V,1),P=oe(P,1)}return x=F(D,O.j(x)),new q(O,x)}for(O=_;0<=D.l(x);){for(P=Math.max(1,Math.floor(D.m()/x.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(P),b=B.j(x);N(b)||0<b.l(D);)P-=V,B=p(P),b=B.j(x);k(B)&&(B=E),O=O.add(B),D=F(D,b)}return new q(O,D)}t.A=function(D){return X(this,D).h},t.and=function(D){for(var x=Math.max(this.g.length,D.g.length),P=[],V=0;V<x;V++)P[V]=this.i(V)&D.i(V);return new l(P,this.h&D.h)},t.or=function(D){for(var x=Math.max(this.g.length,D.g.length),P=[],V=0;V<x;V++)P[V]=this.i(V)|D.i(V);return new l(P,this.h|D.h)},t.xor=function(D){for(var x=Math.max(this.g.length,D.g.length),P=[],V=0;V<x;V++)P[V]=this.i(V)^D.i(V);return new l(P,this.h^D.h)};function J(D){for(var x=D.g.length+1,P=[],V=0;V<x;V++)P[V]=D.i(V)<<1|D.i(V-1)>>>31;return new l(P,D.h)}function oe(D,x){var P=x>>5;x%=32;for(var V=D.g.length-P,O=[],B=0;B<V;B++)O[B]=0<x?D.i(B+P)>>>x|D.i(B+P+1)<<32-x:D.i(B+P);return new l(O,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xE=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Ji=l}).apply(typeof s0<"u"?s0:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AE,Wl,PE,Th,rm,CE,RE,kE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in w))break e;w=w[z]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,z={next:function(){if(!S&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function I(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function k(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,z,G){for(var ae=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ae[$e-2]=arguments[$e];return y.prototype[z].apply(S,ae)}}function N(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function R(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const z=c.length||0,G=S.length||0;c.length=z+G;for(let ae=0;ae<G;ae++)c[z+ae]=S[ae]}else c.push(S)}}class F{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function X(c){return X[" "](c),c}X[" "]=function(){};var J=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function oe(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function D(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function x(c){const y={};for(const w in c)y[w]=c[w];return y}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let w,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(w in S)c[w]=S[w];for(let G=0;G<P.length;G++)w=P[G],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function O(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function B(c){h.setTimeout(()=>{throw c},0)}function b(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,w){const S=dt.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var dt=new F(()=>new ut,c=>c.reset());class ut{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ie=!1,me=new Be,te=()=>{const c=h.Promise.resolve(void 0);Se=()=>{c.then(U)}};var U=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(w){B(w)}var y=dt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Ce(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(J){e:{try{X(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}k(Ce,le);var Ve={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,y,w,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=z,this.key=++Ue,this.da=this.fa=!1}function bt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fr(c){this.src=c,this.g={},this.h=0}Fr.prototype.add=function(c,y,w,S,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=yi(c,y,S,z);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new We(y,this.src,G,!!S,z),y.fa=w,c.push(y)),y};function po(c,y){var w=y.type;if(w in c.g){var S=c.g[w],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(S,z,1),G&&(bt(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function yi(c,y,w,S){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==S)return z}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),mo={};function Wa(c,y,w,S,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Wa(c,y[G],w,S,z);return null}return w=Ga(w),c&&c[je]?c.K(y,w,p(S)?!!S.capture:!1,z):qa(c,y,w,!1,S,z)}function qa(c,y,w,S,z,G){if(!y)throw Error("Invalid event type");var ae=p(z)?!!z.capture:!!z,$e=yo(c);if($e||(c[gs]=$e=new Fr(c)),w=$e.add(y,w,S,ae,G),w.proxy)return w;if(S=Wu(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)xe||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(Ur(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Wu(){function c(w){return y.call(c.src,c.listener,w)}const y=Ka;return c}function go(c,y,w,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)go(c,y[G],w,S,z);else S=p(S)?!!S.capture:!!S,w=Ga(w),c&&c[je]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=yi(G,w,S,z),-1<w&&(bt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=yo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=yi(y,w,S,z)),(w=-1<c?y[c]:null)&&jr(w))}function jr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[je])po(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(Ur(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=yo(y))?(po(w,c),w.h==0&&(w.src=null,y[gs]=null)):bt(c)}}}function Ur(c){return c in mo?mo[c]:mo[c]="on"+c}function Ka(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&jr(c),c=w.call(S,y)}return c}function yo(c){return c=c[gs],c instanceof Fr?c:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ga(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(y){return c.handleEvent(y)}),c[vo])}function St(){Q.call(this),this.i=new Fr(this),this.M=this,this.F=null}k(St,Q),St.prototype[je]=!0,St.prototype.removeEventListener=function(c,y,w,S){go(this,c,y,w,S)};function It(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var z=y;y=new le(S,c),V(y,z)}if(z=!0,w)for(var G=w.length-1;0<=G;G--){var ae=y.g=w[G];z=Br(ae,S,!0,y)&&z}if(ae=y.g=c,z=Br(ae,S,!0,y)&&z,z=Br(ae,S,!1,y)&&z,w)for(G=0;G<w.length;G++)ae=y.g=w[G],z=Br(ae,S,!1,y)&&z}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)bt(w[S]);delete c.g[y],c.h--}}this.F=null},St.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},St.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Br(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ae=y[G];if(ae&&!ae.da&&ae.capture==w){var $e=ae.listener,xt=ae.ha||ae.src;ae.fa&&po(c.i,ae),z=$e.call(xt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Qa(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function vi(c){c.g=Qa(()=>{c.g=null,c.i&&(c.i=!1,vi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ys extends Q{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:vi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){Q.call(this),this.h=c,this.g={}}k(vs,Q);var Xa=[];function Ya(c){oe(c.g,function(y,w){this.g.hasOwnProperty(w)&&jr(y)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Ya(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ja=h.JSON.stringify,Za=h.JSON.parse,el=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function _s(){}_s.prototype.h=null;function _o(c){return c.h||(c.h=c.i())}function wo(){}var Cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){le.call(this,"d")}k(cr,le);function Eo(){le.call(this,"c")}k(Eo,le);var hr={},tl=null;function ws(){return tl=tl||new St}hr.La="serverreachability";function nl(c){le.call(this,hr.La,c)}k(nl,le);function zr(c){const y=ws();It(y,new nl(y))}hr.STAT_EVENT="statevent";function rl(c,y){le.call(this,hr.STAT_EVENT,c),this.stat=y}k(rl,le);function ft(c){const y=ws();It(y,new rl(y,c))}hr.Ma="timingevent";function To(c,y){le.call(this,hr.Ma,c),this.size=y}k(To,le);function $n(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function Ts(c,y,w,S,z,G){c.info(function(){if(c.g)if(G)for(var ae="",$e=G.split("&"),xt=0;xt<$e.length;xt++){var Le=$e[xt].split("=");if(1<Le.length){var Nt=Le[0];Le=Le[1];var yt=Nt.split("_");ae=2<=yt.length&&yt[1]=="type"?ae+(Nt+"="+Le+"&"):ae+(Nt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+w+`
`+ae})}function So(c,y,w,S,z,G,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+w+`
`+G+" "+ae})}function Hn(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ud(c,w)+(S?" "+S:"")})}function il(c,y){c.info(function(){return"TIMEOUT: "+y})}Es.prototype.info=function(){};function Ud(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Ja(w)}catch{return y}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Ss(){}k(Ss,_s),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},Wn=new Ss;function qn(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ku}function Ku(){this.i=null,this.g="",this.h=!1}var sl={},xo={};function Ao(c,y,w){c.L=1,c.v=Si(_n(y)),c.m=w,c.P=!0,ol(c,null)}function ol(c,y){c.F=Date.now(),qe(c),c.A=_n(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),xi(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Ku,c.g=hc(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ys(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Xa[0]=z.toString()),z=Xa);for(var G=0;G<z.length;G++){var ae=Wa(w,z[G],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),zr(),Ts(c.i,c.u,c.A,c.l,c.R,c.m)}qn.prototype.ca=function(c){c=c.target;const y=this.M;y&&un(c)==3?y.j():this.Y(c)},qn.prototype.Y=function(c){try{if(c==this.g)e:{const yt=un(this.g);var y=this.g.Ba();const bn=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||dl(this.g)))){this.J||yt!=4||y==7||(y==8||0>=bn?zr(3):zr(2)),Is(this);var w=this.g.Z();this.X=w;t:if(Gu(this)){var S=dl(this.g);c="";var z=S.length,G=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rn(this),_i(this);var ae="";break t}this.h.i=new h.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(G&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,So(this.i,this.u,this.A,this.l,this.R,yt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,xt=this.g;if(($e=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W($e)){var Le=$e;break t}}Le=null}if(w=Le)Hn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,al(this,w);else{this.o=!1,this.s=3,ft(12),Rn(this),_i(this);break e}}if(this.P){w=!0;let En;for(;!this.J&&this.C<ae.length;)if(En=Bd(this,ae),En==xo){yt==4&&(this.s=4,ft(14),w=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==sl){this.s=4,ft(15),Hn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else Hn(this.i,this.l,En,null),al(this,En);if(Gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||ae.length!=0||this.h.h||(this.s=1,ft(16),w=!1),this.o=this.o&&w,!w)Hn(this.i,this.l,ae,"[Invalid Chunked Response]"),Rn(this),_i(this);else if(0<ae.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),pl(Nt),Nt.M=!0,ft(11))}}else Hn(this.i,this.l,ae,null),al(this,ae);yt==4&&Rn(this),this.o&&!this.J&&(yt==4?Oo(this.j,this):(this.o=!1,qe(this)))}else No(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Rn(this),_i(this)}}}catch{}finally{}};function Gu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Bd(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?xo:(w=Number(y.substring(w,S)),isNaN(w)?sl:(S+=1,S+w>y.length?xo:(y=y.slice(S,S+w),c.C=S+w,y)))}qn.prototype.cancel=function(){this.J=!0,Rn(this)};function qe(c){c.S=Date.now()+c.I,Qu(c,c.I)}function Qu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$n(E(c.ba,c),y)}function Is(c){c.B&&(h.clearTimeout(c.B),c.B=null)}qn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(il(this.i,this.A),this.L!=2&&(zr(),ft(17)),Rn(this),this.s=2,_i(this)):Qu(this,this.S-c)};function _i(c){c.j.G==0||c.J||Oo(c.j,c)}function Rn(c){Is(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ya(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function al(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||nn(w.h,c))){if(!c.K&&nn(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Mo(w),Yn(w);else break e;Lo(w),ft(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=$n(E(w.Za,w),6e3));if(1>=Yu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Kr(w,11)}else if((c.K||w.g==c)&&Mo(w),!W(y))for(z=w.Da.g.parse(y),y=0;y<z.length;y++){let Le=z[y];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const Nt=Le[3];Nt!=null&&(w.la=Nt,w.j.info("VER="+w.la));const yt=Le[4];yt!=null&&(w.Aa=yt,w.j.info("SVER="+w.Aa));const bn=Le[5];bn!=null&&typeof bn=="number"&&0<bn&&(S=1.5*bn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const En=c.g;if(En){const bs=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bs){var G=S.h;G.g||bs.indexOf("spdy")==-1&&bs.indexOf("quic")==-1&&bs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ll(G,G.h),G.h=null))}if(S.D){const jo=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(S.ya=jo,He(S.I,S.D,jo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var ae=c;if(S.qa=cc(S,S.J?S.ia:null,S.W),ae.K){Ju(S.h,ae);var $e=ae,xt=S.L;xt&&($e.I=xt),$e.B&&(Is($e),qe($e)),S.g=ae}else ks(S);0<w.i.length&&mr(w)}else Le[0]!="stop"&&Le[0]!="close"||Kr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Kr(w,7):jt(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}zr(4)}catch{}}var Xu=class{constructor(c,y){this.g=c,this.map=y}};function xs(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Yu(c){return c.h?1:c.g?c.g.size:0}function nn(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ll(c,y){c.g?c.g.add(y):c.h=y}function Ju(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}xs.prototype.cancel=function(){if(this.i=Zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return N(c.i)}function Po(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function Co(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function wi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Co(c),S=Po(c),z=S.length,G=0;G<z;G++)y.call(void 0,S[G],w&&w[G],c)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),z=null;if(0<=S){var G=c[w].substring(0,S);z=c[w].substring(S+1)}else G=c[w];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,Ps(this,c.j),this.o=c.o,this.g=c.g,Ei(this,c.s),this.l=c.l;var y=c.i,w=new dr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),Ti(this,w),this.m=c.m}else c&&(y=String(c).match(As))?(this.h=!1,Ps(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),Ei(this,y[4]),this.l=De(y[5]||"",!0),Ti(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new dr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ii(y,Ro,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ii(y,Ro,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ii(w,w.charAt(0)=="/"?nc:tc,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ii(w,ul)),c.join("")};function _n(c){return new $r(c)}function Ps(c,y,w){c.j=w?De(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ei(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ti(c,y,w){y instanceof dr?(c.i=y,fr(c.i,c.h)):(w||(y=Ii(y,rc)),c.i=new dr(y,c.h))}function He(c,y,w){c.i.set(y,w)}function Si(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ii(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,ec),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ec(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,tc=/[#\?:]/g,nc=/[#\?]/g,rc=/[#\?@]/g,ul=/#/g;function dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ft(c){c.g||(c.g=new Map,c.h=0,c.i&&zd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=dr.prototype,t.add=function(c,y){Ft(this),this.i=null,c=kn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Kn(c,y){Ft(c),y=kn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Gn(c,y){return Ft(c),y=kn(c,y),c.g.has(y)}t.forEach=function(c,y){Ft(this),this.g.forEach(function(w,S){w.forEach(function(z){c.call(y,z,S,this)},this)},this)},t.na=function(){Ft(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const z=c[S];for(let G=0;G<z.length;G++)w.push(y[S])}return w},t.V=function(c){Ft(this);let y=[];if(typeof c=="string")Gn(this,c)&&(y=y.concat(this.g.get(kn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Ft(this),this.i=null,c=kn(this,c),Gn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function xi(c,y,w){Kn(c,y),0<w.length&&(c.i=null,c.g.set(kn(c,y),N(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const G=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=G;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function kn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function fr(c,y){y&&!c.j&&(Ft(c),c.i=null,c.g.forEach(function(w,S){var z=S.toLowerCase();S!=z&&(Kn(this,S),xi(this,z,w))},c)),c.j=y}function $d(c,y){const w=new Es;if(h.Image){const S=new Image;S.onload=I(ln,w,"TestLoadImage: loaded",!0,y,S),S.onerror=I(ln,w,"TestLoadImage: error",!1,y,S),S.onabort=I(ln,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(ln,w,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function ic(c,y){const w=new Es,S=new AbortController,z=setTimeout(()=>{S.abort(),ln(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?ln(w,"TestPingServer: ok",!0,y):ln(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),ln(w,"TestPingServer: error",!1,y)})}function ln(c,y,w,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(w)}catch{}}function Hd(){this.g=new el}function sc(c,y,w){const S=w||"";try{wi(c,function(z,G){let ae=z;p(z)&&(ae=Ja(z)),y.push(S+G+"="+encodeURIComponent(ae))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Hr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(Hr,_s),Hr.prototype.g=function(){return new Cs(this.l,this.j)},Hr.prototype.i=function(c){return function(){return c}}({});function Cs(c,y){St.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Cs,St),t=Cs.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Xn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Qn(this):Xn(this),this.readyState==3&&oc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Qn(this))},t.Qa=function(c){this.g&&(this.response=c,Qn(this))},t.ga=function(){this.g&&Qn(this)};function Qn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wr(c){let y="";return oe(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function Ai(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Wr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):He(c,y,w))}function tt(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(tt,St);var Wd=/^https?$/i,cl=["POST","PUT"];t=tt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?_o(this.o):_o(Wn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Rs(this,G);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)w.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())w.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(cl,y,void 0))||S||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of w)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bo(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Rs(this,G)}};function Rs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ko(c),wn(c)}function ko(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,It(this,"complete"),It(this,"abort"),wn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wn(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hl(this):this.bb())},t.bb=function(){hl(this)};function hl(c){if(c.h&&typeof l<"u"&&(!c.v[1]||un(c)!=4||c.Z()!=2)){if(c.u&&un(c)==4)Qa(c.Ea,0,c);else if(It(c,"readystatechange"),un(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=ae===0){var z=String(c.D).match(As)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!Wd.test(z?z.toLowerCase():"")}w=S}if(w)It(c,"complete"),It(c,"success");else{c.m=6;try{var G=2<un(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",ko(c)}}finally{wn(c)}}}}function wn(c,y){if(c.g){bo(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||It(c,"ready");try{w.onreadystatechange=S}catch{}}}function bo(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function un(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Za(y)}};function dl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function No(c){const y={};c=(c.g&&2<=un(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var w=O(c[S]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[z]||[];y[z]=G,G.push(w)}D(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function fl(c){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pr("baseRetryDelayMs",5e3,c),this.cb=pr("retryDelaySeedMs",1e4,c),this.Wa=pr("forwardChannelMaxRetries",2,c),this.wa=pr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(c&&c.concurrentRequestLimit),this.Da=new Hd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fl.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,S){ft(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=cc(this,null,this.W),mr(this)};function jt(c){if(Do(c),c.G==3){var y=c.U++,w=_n(c.I);if(He(w,"SID",c.K),He(w,"RID",y),He(w,"TYPE","terminate"),qr(c,w),y=new qn(c,c.j,y),y.L=2,y.v=Si(_n(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=hc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qe(y)}uc(c)}function Yn(c){c.g&&(pl(c),c.g.cancel(),c.g=null)}function Do(c){Yn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Mo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function mr(c){if(!vn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Se||te(),ie||(Se(),ie=!0),me.add(y,c),c.B=0}}function qd(c,y){return Yu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$n(E(c.Ga,c,y),lc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new qn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=x(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Pi(this,z,y),w=_n(this.I),He(w,"RID",c),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),qr(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(Wr(G)))+"&"+y:this.m&&Ai(w,this.m,G)),ll(this.h,z),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",y),He(w,"SID","null"),z.T=!0,Ao(z,w,null)):Ao(z,w,y),this.G=2}}else this.G==3&&(c?Vo(this,c):this.i.length==0||vn(this.h)||Vo(this))};function Vo(c,y){var w;y?w=y.l:w=c.U++;const S=_n(c.I);He(S,"SID",c.K),He(S,"RID",w),He(S,"AID",c.T),qr(c,S),c.m&&c.o&&Ai(S,c.m,c.o),w=new qn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Pi(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ll(c.h,w),Ao(w,S,y)}function qr(c,y){c.H&&oe(c.H,function(w,S){He(y,S,w)}),c.l&&wi({},function(w,S){He(y,S,w)})}function Pi(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ae=["count="+w];G==-1?0<w?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let $e=!0;for(let xt=0;xt<w;xt++){let Le=z[xt].g;const Nt=z[xt].map;if(Le-=G,0>Le)G=Math.max(0,z[xt].g-100),$e=!1;else try{sc(Nt,ae,"req"+Le+"_")}catch{S&&S(Nt)}}if($e){S=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function ks(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Se||te(),ie||(Se(),ie=!0),me.add(y,c),c.v=0}}function Lo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$n(E(c.Fa,c),lc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$n(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Yn(this),ac(this))};function pl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new qn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=_n(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),qr(c,y),c.m&&c.o&&Ai(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Si(_n(y)),w.m=null,w.P=!0,ol(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Yn(this),Lo(this),ft(19))};function Mo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Oo(c,y){var w=null;if(c.g==y){Mo(c),pl(c),c.g=null;var S=2}else if(nn(c.h,y))w=y.D,Ju(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=ws(),It(S,new To(S,w)),mr(c)}else ks(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&qd(c,y)||S==2&&Lo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),z){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function lc(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Kr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const z=!S;S=new $r(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ps(S,"https"),Si(S),z?$d(S.toString(),w):ic(S.toString(),w)}else ft(2);c.G=0,c.l&&c.l.sa(y),uc(c),Do(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function uc(c){if(c.G=0,c.ka=[],c.l){const y=Zu(c.h);(y.length!=0||c.i.length!=0)&&(R(c.ka,y),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function cc(c,y,w){var S=w instanceof $r?_n(w):new $r(w);if(S.g!="")y&&(S.g=y+"."+S.g),Ei(S,S.s);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new $r(null);S&&Ps(G,S),y&&(G.g=y),z&&Ei(G,z),w&&(G.l=w),S=G}return w=c.D,y=c.ya,w&&y&&He(S,w,y),He(S,"VER",c.la),qr(c,S),S}function hc(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new tt(new Hr({eb:w})):new tt(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ml(){}t=ml.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fo(){}Fo.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){St.call(this),this.g=new fl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gr(this)}k(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){jt(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=Ja(c),c=w);y.i.push(new Xu(y.Ya++,c)),y.G==3&&mr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,rn.aa.N.call(this)};function dc(c){cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}k(dc,cr);function fc(){Eo.call(this),this.status=1}k(fc,Eo);function gr(c){this.g=c}k(gr,ml),gr.prototype.ua=function(){It(this.g,"a")},gr.prototype.ta=function(c){It(this.g,new dc(c))},gr.prototype.sa=function(c){It(this.g,new fc)},gr.prototype.ra=function(){It(this.g,"b")},Fo.prototype.createWebChannel=Fo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,kE=function(){return new Fo},RE=function(){return ws()},CE=hr,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Th=Io,qu.COMPLETE="complete",PE=qu,wo.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",St.prototype.listen=St.prototype.K,Wl=wo,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,AE=tt}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const o0="@firebase/firestore",a0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new Qm("@firebase/firestore");function aa(){return to.logLevel}function ce(t,...e){if(to.logLevel<=ke.DEBUG){const n=e.map(Jm);to.debug(`Firestore (${La}): ${t}`,...n)}}function hi(t,...e){if(to.logLevel<=ke.ERROR){const n=e.map(Jm);to.error(`Firestore (${La}): ${t}`,...n)}}function Sa(t,...e){if(to.logLevel<=ke.WARN){const n=e.map(Jm);to.warn(`Firestore (${La}): ${t}`,...n)}}function Jm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bE(t,r,n)}function bE(t,e,n){let r=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hi(r),new Error(r)}function ze(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bE(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class cR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hR{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new NE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class dR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new l0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function im(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return xp(s)===xp(a)?be(s,a):xp(s)?1:-1}return be(t.length,e.length)}const gR=55296,yR=57343;function xp(t){const e=t.charCodeAt(0);return e>=gR&&e<=yR}function Ia(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Er.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return be(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),s=Er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Er.extractNumericId(e).compare(Er.extractNumericId(n)):im(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class Ye extends Er{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const vR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends Er{construct(e,n,r){return new Ht(e,n,r)}static isValidIdentifier(e){return vR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new Ht([u0])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(l=!l,s++):h!=="."||l?(r+=h,s++):(a(),s++)}if(a(),l)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ye.fromString(e))}static fromName(e){return new ye(Ye.fromString(e).popFirst(5))}static empty(){return new ye(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _R(t,e,n,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c0(t){if(!ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h0(t){if(ye.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VE(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function eg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eg(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!VE(t))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new pe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-62135596800,f0=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f0);return new Je(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:Et("string",Je._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Je(0,0))}static max(){return new Ae(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function wR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new rs(s,ye.empty(),e)}function ER(t){return new rs(t.readTime,t.key,du)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(Ae.min(),ye.empty(),du)}static max(){return new rs(Ae.max(),ye.empty(),du)}}function TR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==SR)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,a=0,l=!1;e.forEach(h=>{++s,h.next(()=>{++a,l&&a===s&&n()},f=>r(f))}),l=!0,a===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{l[p]=g,++h,h===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new Y((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function xR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function md(t){return t==null}function Oh(t){return t===0&&1/t==-1/0}function AR(t){return typeof t=="number"&&Number.isInteger(t)&&!Oh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="";function PR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=p0(e)),e=CR(t.get(n),e);return p0(e)}function CR(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case LE:n+="";break;default:n+=a}}return n}function p0(t){return t+LE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ME(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=s??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new $t(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return $t.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new or([])}unionWith(e){let n=new kt(Ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new or(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new OE("Invalid base64 string: "+a):a}}(e);return new Wt(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const RR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(ze(!!t,39018),typeof t=="string"){let e=0;const n=RR.exec(t);if(ze(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ss(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="server_timestamp",jE="__type__",UE="__previous_value__",BE="__local_write_time__";function ng(t){return(t?.mapValue?.fields||{})[jE]?.stringValue===FE}function gd(t){const e=t.mapValue.fields[UE];return ng(e)?gd(e):e}function fu(t){const e=is(t.mapValue.fields[BE].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,s,a,l,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Fh="(default)";class pu{constructor(e,n){this.projectId=e,this.database=n||Fh}static empty(){return new pu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__type__",bR="__max__",ch={mapValue:{}},$E="__vector__",jh="value";function os(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ng(t)?4:DR(t)?9007199254740991:NR(t)?10:11:Te(28295,{value:t})}function Vr(t,e){if(t===e)return!0;const n=os(t);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=is(s.timestampValue),h=is(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return ss(s.bytesValue).isEqual(ss(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return gt(s.geoPointValue.latitude)===gt(a.geoPointValue.latitude)&&gt(s.geoPointValue.longitude)===gt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return gt(s.integerValue)===gt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=gt(s.doubleValue),h=gt(a.doubleValue);return l===h?Oh(l)===Oh(h):isNaN(l)&&isNaN(h)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},h=a.mapValue.fields||{};if(m0(l)!==m0(h))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(h[f]===void 0||!Vr(l[f],h[f])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function mu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function xa(t,e){if(t===e)return 0;const n=os(t),r=os(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,l){const h=gt(a.integerValue||a.doubleValue),f=gt(l.integerValue||l.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return y0(t.timestampValue,e.timestampValue);case 4:return y0(fu(t),fu(e));case 5:return im(t.stringValue,e.stringValue);case 6:return function(a,l){const h=ss(a),f=ss(l);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),f=l.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=be(h[p],f[p]);if(g!==0)return g}return be(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const h=be(gt(a.latitude),gt(l.latitude));return h!==0?h:be(gt(a.longitude),gt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return v0(t.arrayValue,e.arrayValue);case 10:return function(a,l){const h=a.fields||{},f=l.fields||{},p=h[jh]?.arrayValue,g=f[jh]?.arrayValue,_=be(p?.values?.length||0,g?.values?.length||0);return _!==0?_:v0(p,g)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===ch.mapValue&&l===ch.mapValue)return 0;if(a===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=l.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=im(f[_],g[_]);if(E!==0)return E;const I=xa(h[f[_]],p[g[_]]);if(I!==0)return I}return be(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=is(t),r=is(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function v0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=xa(n[s],r[s]);if(a)return a}return be(n.length,r.length)}function Aa(t){return sm(t)}function sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ss(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=sm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${sm(n.fields[l])}`;return s+"}"}(t.mapValue):Te(61005,{value:t})}function Sh(t){switch(os(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gd(t);return e?16+Sh(e):16;case 5:return 2*t.stringValue.length;case 6:return ss(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Sh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ao(r.fields,(a,l)=>{s+=a.length+Sh(l)}),s}(t.mapValue);default:throw Te(13486,{value:t})}}function om(t){return!!t&&"integerValue"in t}function rg(t){return!!t&&"arrayValue"in t}function _0(t){return!!t&&"nullValue"in t}function w0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function NR(t){return(t?.mapValue?.fields||{})[zE]?.stringValue===$E}function Zl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ao(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(t.arrayValue.values[n]);return e}return{...t}}function DR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===bR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Ht.emptyPath(),r={},s=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=h.popLast()}l?r[h.lastSegment()]=Zl(l):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ih(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ao(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Bn(Zl(this.value))}}function HE(t){const e=[];return ao(t.fields,(n,r)=>{const s=new Ht([n]);if(Ih(r)){const a=HE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,a,l,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),Bn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,Ae.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function E0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(l.referenceValue),n.key):r=xa(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function VR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{}class Ct extends WE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MR(e,n,r):n==="array-contains"?new jR(e,r):n==="in"?new UR(e,r):n==="not-in"?new BR(e,r):n==="array-contains-any"?new zR(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OR(e,r):new FR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(xa(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends WE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Lr(e,n)}matches(e){return qE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qE(t){return t.op==="and"}function KE(t){return LR(t)&&qE(t)}function LR(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function am(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(KE(t))return t.filters.map(e=>am(e)).join(",");{const e=t.filters.map(n=>am(n)).join(",");return`${t.op}(${e})`}}function GE(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(t,e):t instanceof Lr?function(r,s){return s instanceof Lr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,h)=>a&&GE(l,s.filters[h]),!0):!1}(t,e):void Te(19439)}function QE(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(t):t instanceof Lr?function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"}(t):"Filter"}class MR extends Ct{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class OR extends Ct{constructor(e,n){super(e,"in",n),this.keys=XE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FR extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=XE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XE(t,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class jR extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rg(n)&&mu(n.arrayValue,this.value)}}class UR extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class BR extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class zR extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n=null,r=[],s=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=h,this.Te=null}}function S0(t,e=null,n=[],r=[],s=null,a=null,l=null){return new $R(t,e,n,r,s,a,l)}function ig(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>am(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),md(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.Te=n}return e.Te}function sg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!GE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function lm(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n=null,r=[],s=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HR(t,e,n,r,s,a,l,h){return new yd(t,e,n,r,s,a,l,h)}function og(t){return new yd(t)}function I0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function WR(t){return t.collectionGroup!==null}function eu(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let h=new kt(Ht.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Bh(a,r))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new Bh(Ht.keyField(),r))}return e.Ie}function xr(t){const e=Pe(t);return e.Ee||(e.Ee=qR(e,eu(t))),e.Ee}function qR(t,e){if(t.limitType==="F")return S0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Bh(s.field,a)});const n=t.endAt?new Uh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Uh(t.startAt.position,t.startAt.inclusive):null;return S0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vd(t,e){return sg(xr(t),xr(e))&&t.limitType===e.limitType}function YE(t){return`${ig(xr(t))}|lt:${t.limitType}`}function la(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QE(s)).join(", ")}]`),md(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Aa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Aa(s)).join(",")),`Target(${r})`}(xr(t))}; limitType=${t.limitType})`}function _d(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of eu(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,h,f){const p=E0(l,h,f);return l.inclusive?p<=0:p<0}(r.startAt,eu(r),s)||r.endAt&&!function(l,h,f){const p=E0(l,h,f);return l.inclusive?p>=0:p>0}(r.endAt,eu(r),s))}(t,e)}function KR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JE(t){return(e,n)=>{let r=!1;for(const s of eu(t)){const a=GR(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function GR(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(a,l,h){const f=l.data.field(a),p=h.data.field(a);return f!==null&&p!==null?xa(f,p):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return ME(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=new at(ye.comparator);function fi(){return QR}const ZE=new at(ye.comparator);function ql(...t){let e=ZE;for(const n of t)e=e.insert(n.key,n);return e}function eT(t){let e=ZE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gs(){return tu()}function tT(){return tu()}function tu(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const XR=new at(ye.comparator),YR=new kt(ye.comparator);function Ne(...t){let e=YR;for(const n of t)e=e.add(n);return e}const JR=new kt(be);function ZR(){return JR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function nT(t){return{integerValue:""+t}}function e4(t,e){return AR(e)?nT(e):ag(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(){this._=void 0}}function t4(t,e,n){return t instanceof gu?function(s,a){const l={fields:{[jE]:{stringValue:FE},[BE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ng(a)&&(a=gd(a)),a&&(l.fields[UE]=a),{mapValue:l}}(n,e):t instanceof yu?iT(t,e):t instanceof vu?sT(t,e):function(s,a){const l=rT(s,a),h=x0(l)+x0(s.Ae);return om(l)&&om(s.Ae)?nT(h):ag(s.serializer,h)}(t,e)}function n4(t,e,n){return t instanceof yu?iT(t,e):t instanceof vu?sT(t,e):n}function rT(t,e){return t instanceof zh?function(r){return om(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class gu extends wd{}class yu extends wd{constructor(e){super(),this.elements=e}}function iT(t,e){const n=oT(e);for(const r of t.elements)n.some(s=>Vr(s,r))||n.push(r);return{arrayValue:{values:n}}}class vu extends wd{constructor(e){super(),this.elements=e}}function sT(t,e){let n=oT(e);for(const r of t.elements)n=n.filter(s=>!Vr(s,r));return{arrayValue:{values:n}}}class zh extends wd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x0(t){return gt(t.integerValue||t.doubleValue)}function oT(t){return rg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.field=e,this.transform=n}}function i4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yu&&s instanceof yu||r instanceof vu&&s instanceof vu?Ia(r.elements,s.elements,Vr):r instanceof zh&&s instanceof zh?Vr(r.Ae,s.Ae):r instanceof gu&&s instanceof gu}(t.transform,e.transform)}class s4{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function aT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lg(t.key,lr.none()):new Nu(t.key,t.data,lr.none());{const n=t.data,r=Bn.empty();let s=new kt(Ht.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new uo(t.key,r,new or(s.toArray()),lr.none())}}function o4(t,e,n){t instanceof Nu?function(s,a,l){const h=s.value.clone(),f=P0(s.fieldTransforms,a,l.transformResults);h.setAll(f),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(s,a,l){if(!xh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const h=P0(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(lT(s)),f.setAll(h),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function nu(t,e,n,r){return t instanceof Nu?function(a,l,h,f){if(!xh(a.precondition,l))return h;const p=a.value.clone(),g=C0(a.fieldTransforms,f,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(a,l,h,f){if(!xh(a.precondition,l))return h;const p=C0(a.fieldTransforms,f,l),g=l.data;return g.setAll(lT(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,l,h){return xh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):h}(t,e,n)}function a4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=rT(r.transform,s||null);a!=null&&(n===null&&(n=Bn.empty()),n.set(r.field,a))}return n||null}function A0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ia(r,s,(a,l)=>i4(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Nu extends Ed{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uo extends Ed{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P0(t,e,n){const r=new Map;ze(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,h=e.data.field(a.field);r.set(a.field,n4(l,h,n[s]))}return r}function C0(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,t4(a,l,e))}return r}class lg extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l4 extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&o4(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tT();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(s.key)?null:h;const f=aT(l,h);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>A0(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>A0(n,r))}}class ug{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return XR}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new ug(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Me;function d4(t){switch(t){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function uT(t){if(t===void 0)return hi("GRPC error has no .code"),Z.UNKNOWN;switch(t){case _t.OK:return Z.OK;case _t.CANCELLED:return Z.CANCELLED;case _t.UNKNOWN:return Z.UNKNOWN;case _t.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _t.INTERNAL:return Z.INTERNAL;case _t.UNAVAILABLE:return Z.UNAVAILABLE;case _t.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _t.NOT_FOUND:return Z.NOT_FOUND;case _t.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _t.ABORTED:return Z.ABORTED;case _t.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _t.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:t})}}(Me=_t||(_t={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=new Ji([4294967295,4294967295],0);function R0(t){const e=f4().encode(t),n=new xE;return n.update(e),new Uint8Array(n.digest())}function k0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ji([n,r],0),new Ji([s,a],0)]}class cg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(r<0)throw new Kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ji.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ji.fromNumber(r)));return s.compare(p4)===1&&(s=new Ji([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R0(e),[r,s]=k0(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new cg(a,s,n);return r.forEach(h=>l.insert(h)),l}insert(e){if(this.ge===0)return;const n=R0(e),[r,s]=k0(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(Ae.min(),s,new at(be),fi(),Ne())}}class Du{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class cT{constructor(e,n){this.targetId=e,this.Ce=n}}class hT{constructor(e,n,r=Wt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class b0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:a})}}),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=N0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class m4{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.Je=hh(),this.He=hh(),this.Ye=new at(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(lm(a))if(r===0){const l=new ye(a.path);this.et(n,l,Zt.newNoDocument(l,Ae.min()))}else ze(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const h=this.ut(e),f=h?this.ct(h,e,l):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,h;try{l=ss(r).toUint8Array()}catch(f){if(f instanceof OE)return Sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new cg(l,s,a)}catch(f){return Sa(f instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.Ge.ht(),h=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,l)=>{const h=this.ot(l);if(h){if(a.current&&lm(h.target)){const f=new ye(h.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Zt.newNoDocument(f,e))}a.Be&&(n.set(l,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,l)=>{let h=!0;l.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.je.forEach((a,l)=>l.setReadTime(e));const s=new Td(e,n,this.Ye,this.je,r);return this.je=fi(),this.Je=hh(),this.He=hh(),this.Ye=new at(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new b0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new b0),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new at(ye.comparator)}function N0(){return new at(ye.comparator)}const g4={asc:"ASCENDING",desc:"DESCENDING"},y4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v4={and:"AND",or:"OR"};class _4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cm(t,e){return t.useProto3Json||md(e)?e:{value:e}}function $h(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function w4(t,e){return $h(t,e.toTimestamp())}function Ar(t){return ze(!!t,49232),Ae.fromTimestamp(function(n){const r=is(n);return new Je(r.seconds,r.nanos)}(t))}function hg(t,e){return hm(t,e).canonicalString()}function hm(t,e){const n=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fT(t){const e=Ye.fromString(t);return ze(vT(e),10190,{key:e.toString()}),e}function dm(t,e){return hg(t.databaseId,e.path)}function Ap(t,e){const n=fT(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(mT(n))}function pT(t,e){return hg(t.databaseId,e)}function E4(t){const e=fT(t);return e.length===4?Ye.emptyPath():mT(e)}function fm(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mT(t){return ze(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function D0(t,e,n){return{name:dm(t,e),fields:n.value.mapValue.fields}}function T4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string",58123),Wt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Wt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=p.code===void 0?Z.UNKNOWN:uT(p.code);return new pe(g,p.message||"")}(l);n=new hT(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ap(t,r.document.name),a=Ar(r.document.updateTime),l=r.document.createTime?Ar(r.document.createTime):Ae.min(),h=new Bn({mapValue:{fields:r.document.fields}}),f=Zt.newFoundDocument(s,a,l,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Ah(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ap(t,r.document),a=r.readTime?Ar(r.readTime):Ae.min(),l=Zt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new Ah([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ap(t,r.document),a=r.removedTargetIds||[];n=new Ah([],a,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new h4(s,a),h=r.targetId;n=new cT(h,l)}}return n}function S4(t,e){let n;if(e instanceof Nu)n={update:D0(t,e.key,e.value)};else if(e instanceof lg)n={delete:dm(t,e.key)};else if(e instanceof uo)n={update:D0(t,e.key,e.data),updateMask:N4(e.fieldMask)};else{if(!(e instanceof l4))return Te(16599,{Vt:e.type});n={verify:dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof gu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof yu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zh)return{fieldPath:l.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:w4(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(t,e.precondition)),n}function I4(t,e){return t&&t.length>0?(ze(e!==void 0,14353),t.map(n=>function(s,a){let l=s.updateTime?Ar(s.updateTime):Ar(a);return l.isEqual(Ae.min())&&(l=Ar(a)),new s4(l,s.transformResults||[])}(n,e))):[]}function x4(t,e){return{documents:[pT(t,e.path)]}}function A4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pT(t,s);const a=function(p){if(p.length!==0)return yT(Lr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:ua(E.field),direction:R4(E.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const h=cm(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:s}}function P4(t){let e=E4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=gT(_);return E instanceof Lr&&KE(E)?E.getFilters():[E]}(n.where));let l=[];n.orderBy&&(l=function(_){return _.map(E=>function(k){return new Bh(ca(k.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,md(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,I=_.values||[];return new Uh(I,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,I=_.values||[];return new Uh(I,E)}(n.endAt)),HR(e,s,l,a,h,"F",f,p)}function C4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ca(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ca(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ca(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ca(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ca(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Lr.create(n.compositeFilter.filters.map(r=>gT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function R4(t){return g4[t]}function k4(t){return y4[t]}function b4(t){return v4[t]}function ua(t){return{fieldPath:t.canonicalString()}}function ca(t){return Ht.fromServerFormat(t.fieldPath)}function yT(t){return t instanceof Ct?function(n){if(n.op==="=="){if(w0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NAN"}};if(_0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(w0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NAN"}};if(_0(n.value))return{unaryFilter:{field:ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(n.field),op:k4(n.op),value:n.value}}}(t):t instanceof Lr?function(n){const r=n.getFilters().map(s=>yT(s));return r.length===1?r[0]:{compositeFilter:{op:b4(n.op),filters:r}}}(t):Te(54877,{filter:t})}function N4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,s,a=Ae.min(),l=Ae.min(),h=Wt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.yt=e}}function V4(t){const e=P4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.Cn=new M4}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve(rs.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class M4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new kt(Ye.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new kt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_T=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(_T,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Pa(0)}static cr(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LruGarbageCollector",O4=1048576;function M0([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class F4{constructor(e){this.Ir=e,this.buffer=new kt(M0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();M0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(L0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oa(n)?ce(L0,"Ignoring IndexedDB error during garbage collection: ",n):await Ma(n)}await this.Vr(3e5)})}}class U4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(pd.ce);const r=new F4(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(V0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,l,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),aa()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(h-l)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function B4(t,e){return new U4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&nu(r.mutation,s,or.empty(),Je.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=Gs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=ql();return a.forEach((h,f)=>{l=l.insert(h,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,s){let a=fi();const l=tu(),h=function(){return tu()}();return n.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof uo)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),nu(g.mutation,p,g.mutation.getFieldMask(),Je.now())):l.set(p.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>h.set(p,new $4(g,l.get(p)??null))),h))}recalculateAndSaveOverlays(e,n){const r=tu();let s=new at((l,h)=>l-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||or.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const l=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=tT();g.forEach(E=>{if(!a.has(E)){const I=aT(n.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return ye.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Y.resolve(Gs());let h=du,f=a;return l.next(p=>Y.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(g=>({batchId:h,changes:eT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=ql();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=ql();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const p=function(_,E){return new yd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{l=l.insert(_,E)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((f,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Zt.newInvalidDocument(g)))});let h=ql();return l.forEach((f,p)=>{const g=a.get(f);g!==void 0&&nu(g.mutation,p,or.empty(),Je.now()),_d(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ar(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:V4(s.bundledQuery),readTime:Ar(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.overlays=new at(ye.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gs();return Y.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=Gs(),a=n.length+1,l=new ye(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new at((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Gs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=Gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Y.resolve(h)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new c4(n,r));let a=this.qr.get(n);a===void 0&&(a=Ne(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.Qr=new kt(Mt.$r),this.Ur=new kt(Mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ye(new Ye([])),r=new Mt(n,e),s=new Mt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),a.push(l.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new Ye([])),r=new Mt(n,e),s=new Mt(n,e+1);let a=Ne();return this.Ur.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Mt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new u4(a,n,r,s);this.mutationQueue.push(l);for(const h of s)this.Zr=this.Zr.add(new Mt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?tg:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),s=new Mt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],l=>{const h=this.Xr(l.Yr);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(be);return n.forEach(s=>{const a=new Mt(s,0),l=new Mt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],h=>{r=r.add(h.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const l=new Mt(new ye(a),0);let h=new kt(be);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Yr)),!0)},l),Y.resolve(this.ti(h))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(n.mutations,s=>{const a=new Mt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Mt(n,0),s=this.Zr.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.ri=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=fi();const l=n.path,h=new ye(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||TR(ER(g),r)<=0||(s.has(g.key)||_d(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Te(9500)}ii(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new X4(this)}getSize(e){return Y.resolve(this.size)}}class X4 extends z4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.persistence=e,this.si=new lo(n=>ig(n),sg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new dg,this.targetCount=0,this.ai=Pa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Y.waitFor(a).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.ui={},this.overlays={},this.ci=new pd(0),this.li=!1,this.li=!0,this.hi=new K4,this.referenceDelegate=e(this),this.Pi=new Y4(this),this.indexManager=new L4,this.remoteDocumentCache=function(s){return new Q4(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new D4(n),this.Ii=new W4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new G4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ce("MemoryPersistence","Starting transaction:",e);const s=new J4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class J4 extends IR{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Ri=new dg,this.Vi=null}static mi(e){return new fg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const s=ye.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new lo(r=>PR(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=B4(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?Y.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(h=>{h||(r++,a.removeEntry(l,Ae.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,r){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new pg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return $P()?8:xR(tn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new Z4;return this.Ss(e,n,l).next(h=>{if(a.result=h,this.Vs)return this.bs(e,n,l,h.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(aa()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",la(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(aa()<=ke.DEBUG&&ce("QueryEngine","Query:",la(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(aa()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",la(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(n))):Y.resolve())}ys(e,n){if(I0(n))return Y.resolve(null);let r=xr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=um(n,null,"F"),r=xr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Ne(...a);return this.ps.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(n,h);return this.Cs(n,p,l,f.readTime)?this.ys(e,um(n,null,"F")):this.vs(e,p,n,f)}))})))}ws(e,n,r,s){return I0(n)||s.isEqual(Ae.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(a=>{const l=this.Ds(n,a);return this.Cs(n,l,r,s)?Y.resolve(null):(aa()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),la(n)),this.vs(e,l,n,wR(s,du)).next(h=>h))})}Ds(e,n){let r=new kt(JE(e));return n.forEach((s,a)=>{_d(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return aa()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",la(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",tk=3e8;class nk{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new at(be),this.xs=new lo(a=>ig(a),sg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function rk(t,e,n,r){return new nk(t,e,n,r)}async function ET(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let f=Ne();for(const p of s){l.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:l,addedBatchIds:h}))})})}function ik(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const _=p.batch,E=_.keys();let I=Y.resolve();return E.forEach(k=>{I=I.next(()=>g.getEntry(f,k)).next(N=>{const R=p.docVersions.get(k);ze(R!==null,48541),N.version.compareTo(R)<0&&(_.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),g.addEntry(N)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TT(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function sk(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(a,g.addedDocuments,_)));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Wt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(_,I),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=tk?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,I,g)&&h.push(n.Pi.updateTargetData(a,I))});let f=fi(),p=Ne();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(ok(a,l,e.documentUpdates).next(g=>{f=g.ks,p=g.qs})),!r.isEqual(Ae.min())){const g=n.Pi.getLastRemoteSnapshotVersion(a).next(_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Y.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ms=s,a))}function ok(t,e,n){let r=Ne(),s=Ne();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=fi();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ce(mg,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{ks:l,qs:s}})}function ak(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lk(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,Y.resolve(s)):n.Pi.allocateTargetId(r).next(l=>(s=new Qi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function pm(t,e,n){const r=Pe(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Oa(l))throw l;ce(mg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function O0(t,e,n){const r=Pe(t);let s=Ae.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,p,g){const _=Pe(f),E=_.xs.get(g);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)}(r,l,xr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,h.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(l,e,n?s:Ae.min(),n?a:Ne())).next(h=>(uk(r,KR(e),h),{documents:h,Qs:a})))}function uk(t,e,n){let r=t.Os.get(e)||Ae.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class F0{constructor(){this.activeTargetIds=ZR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ck{constructor(){this.Mo=new F0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new F0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="ConnectivityMonitor";class U0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(j0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(j0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dh=null;function mm(){return dh===null?dh=function(){return 268435456+Math.round(2147483648*Math.random())}():dh++,"0x"+dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",dk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const l=mm(),h=this.zo(e,n.toUriEncodedString());ce(Pp,`Sending RPC '${e}' ${l}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(h),g=hs(p);return this.Jo(e,h,f,r,g).then(_=>(ce(Pp,`Received RPC '${e}' ${l}: `,_),_),_=>{throw Sa(Pp,`RPC '${e}' ${l} failed with error: `,_,"url: ",h,"request:",r),_})}Ho(e,n,r,s,a,l){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=dk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class mk extends fk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const l=mm();return new Promise((h,f)=>{const p=new AE;p.setWithCredentials(!0),p.listenOnce(PE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Th.NO_ERROR:const _=p.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Th.TIMEOUT:ce(Xt,`RPC '${e}' ${l} timed out`),f(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const E=p.getStatus();if(ce(Xt,`RPC '${e}' ${l} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const k=I?.error;if(k&&k.status&&k.message){const N=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(W)>=0?W:Z.UNKNOWN}(k.status);f(new pe(N,k.message))}else f(new pe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(s);ce(Xt,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)})}T_(e,n,r){const s=mm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=kE(),h=RE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Xt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=l.createWebChannel(g,f);this.I_(_);let E=!1,I=!1;const k=new pk({Yo:R=>{I?ce(Xt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(E||(ce(Xt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ce(Xt,`RPC '${e}' stream ${s} sending:`,R),_.send(R))},Zo:()=>_.close()}),N=(R,F,W)=>{R.listen(F,q=>{try{W(q)}catch(X){setTimeout(()=>{throw X},0)}})};return N(_,Wl.EventType.OPEN,()=>{I||(ce(Xt,`RPC '${e}' stream ${s} transport opened.`),k.o_())}),N(_,Wl.EventType.CLOSE,()=>{I||(I=!0,ce(Xt,`RPC '${e}' stream ${s} transport closed`),k.a_(),this.E_(_))}),N(_,Wl.EventType.ERROR,R=>{I||(I=!0,Sa(Xt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),k.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),N(_,Wl.EventType.MESSAGE,R=>{if(!I){const F=R.data[0];ze(!!F,16349);const W=F,q=W?.error||W[0]?.error;if(q){ce(Xt,`RPC '${e}' stream ${s} received error:`,q);const X=q.status;let J=function(x){const P=_t[x];if(P!==void 0)return uT(P)}(X),oe=q.message;J===void 0&&(J=Z.INTERNAL,oe="Unknown error status: "+X+" with message "+q.message),I=!0,k.a_(new pe(J,oe)),_.close()}else ce(Xt,`RPC '${e}' stream ${s} received:`,F),k.u_(F)}}),N(h,CE.STAT_EVENT,R=>{R.stat===rm.PROXY?ce(Xt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===rm.NOPROXY&&ce(Xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.__()},0),k}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Cp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){return new _4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="PersistentStream";class IT{constructor(e,n,r,s,a,l,h,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ST(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(B0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(B0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gk extends IT{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=T4(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ae.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Ae.min():l.readTime?Ar(l.readTime):Ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=fm(this.serializer),n.addTarget=function(a,l){let h;const f=l.target;if(h=lm(f)?{documents:x4(a,f)}:{query:A4(a,f).ft},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){h.resumeToken=dT(a,l.resumeToken);const p=cm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}else if(l.snapshotVersion.compareTo(Ae.min())>0){h.readTime=$h(a,l.snapshotVersion.toTimestamp());const p=cm(a,l.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=C4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=fm(this.serializer),n.removeTarget=e,this.q_(n)}}class yk extends IT{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=I4(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=fm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S4(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{}class _k extends vk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Go(e,hm(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Ho(e,hm(n,r),s,l,h,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(Z.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hi(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="RemoteStore";class Ek{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{co(this)&&(ce(no,"Restarting streams for network reachability change."),await async function(f){const p=Pe(f);p.Ea.add(4),await Vu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Id(p)}(this))})}),this.Ra=new wk(r,s)}}async function Id(t){if(co(t))for(const e of t.da)await e(!0)}async function Vu(t){for(const e of t.da)await e(!1)}function xT(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_g(n)?vg(n):Fa(n).O_()&&yg(n,e))}function gg(t,e){const n=Pe(t),r=Fa(n);n.Ia.delete(e),r.O_()&&AT(n,e),n.Ia.size===0&&(r.O_()?r.L_():co(n)&&n.Ra.set("Unknown"))}function yg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fa(t).Y_(e)}function AT(t,e){t.Va.Ue(e),Fa(t).Z_(e)}function vg(t){t.Va=new m4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Fa(t).start(),t.Ra.ua()}function _g(t){return co(t)&&!Fa(t).x_()&&t.Ia.size>0}function co(t){return Pe(t).Ea.size===0}function PT(t){t.Va=void 0}async function Tk(t){t.Ra.set("Online")}async function Sk(t){t.Ia.forEach((e,n)=>{yg(t,e)})}async function Ik(t,e){PT(t),_g(t)?(t.Ra.ha(e),vg(t)):t.Ra.set("Unknown")}async function xk(t,e,n){if(t.Ra.set("Online"),e instanceof hT&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,l),s.Ia.delete(h),s.Va.removeTarget(h))}(t,e)}catch(r){ce(no,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(t,r)}else if(e instanceof Ah?t.Va.Ze(e):e instanceof cT?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await TT(t.localStore);n.compareTo(r)>=0&&await function(a,l){const h=a.Va.Tt(l);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,l))}}),h.targetMismatches.forEach((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Wt.EMPTY_BYTE_STRING,g.snapshotVersion)),AT(a,f);const _=new Qi(g.target,f,p,g.sequenceNumber);yg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ce(no,"Failed to raise snapshot:",r),await Wh(t,r)}}async function Wh(t,e,n){if(!Oa(e))throw e;t.Ea.add(1),await Vu(t),t.Ra.set("Offline"),n||(n=()=>TT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(no,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Id(t)})}function CT(t,e){return e().catch(n=>Wh(t,n,e))}async function xd(t){const e=Pe(t),n=as(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tg;for(;Ak(e);)try{const s=await ak(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Pk(e,s)}catch(s){await Wh(e,s)}RT(e)&&kT(e)}function Ak(t){return co(t)&&t.Ta.length<10}function Pk(t,e){t.Ta.push(e);const n=as(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RT(t){return co(t)&&!as(t).x_()&&t.Ta.length>0}function kT(t){as(t).start()}async function Ck(t){as(t).ra()}async function Rk(t){const e=as(t);for(const n of t.Ta)e.ea(n.mutations)}async function kk(t,e,n){const r=t.Ta.shift(),s=ug.from(r,e,n);await CT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await xd(t)}async function bk(t,e){e&&as(t).X_&&await async function(r,s){if(function(l){return d4(l)&&l!==Z.ABORTED}(s.code)){const a=r.Ta.shift();as(r).B_(),await CT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await xd(r)}}(t,e),RT(t)&&kT(t)}async function z0(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ce(no,"RemoteStore received new credentials");const r=co(n);n.Ea.add(3),await Vu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Id(n)}async function Nk(t,e){const n=Pe(t);e?(n.Ea.delete(2),await Id(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function Fa(t){return t.ma||(t.ma=function(n,r,s){const a=Pe(n);return a.sa(),new gk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:Tk.bind(null,t),t_:Sk.bind(null,t),r_:Ik.bind(null,t),H_:xk.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),_g(t)?vg(t):t.Ra.set("Unknown")):(await t.ma.stop(),PT(t))})),t.ma}function as(t){return t.fa||(t.fa=function(n,r,s){const a=Pe(n);return a.sa(),new yk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Ck.bind(null,t),r_:bk.bind(null,t),ta:Rk.bind(null,t),na:kk.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await xd(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(no,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,h=new wg(e,n,l,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(t,e){if(hi("AsyncQueue",`${e}: ${t}`),Oa(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.ga=new at(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ca{constructor(e,n,r,s,a,l,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Ca(e,n,va.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Vk{constructor(){this.queries=H0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Pe(n),a=s.queries;s.queries=H0(),a.forEach((l,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function H0(){return new lo(t=>YE(t),vd)}async function bT(t,e){const n=Pe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new Dk,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const h=Eg(l,`Initialization of query '${la(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&Tg(n)}async function NT(t,e){const n=Pe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Lk(t,e){const n=Pe(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const h of l.Sa)h.Fa(s)&&(r=!0);l.wa=s}}r&&Tg(n)}function Mk(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function Tg(t){t.Ca.forEach(e=>{e.next()})}var gm,W0;(W0=gm||(gm={})).Ma="default",W0.Cache="cache";class DT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e){this.key=e}}class LT{constructor(e){this.key=e}}class Ok{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=JE(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new $0,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),I=_d(this.query,_)?_:null,k=!!E&&this.mutatedKeys.has(E.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;E&&I?E.data.isEqual(I.data)?k!==N&&(r.track({type:3,doc:I}),R=!0):this.su(E,I)||(r.track({type:2,doc:I}),R=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(h=!0)):!E&&I?(r.track({type:0,doc:I}),R=!0):E&&!I&&(r.track({type:1,doc:E}),R=!0,(f||p)&&(h=!0)),R&&(I?(l=l.add(I),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((g,_)=>function(I,k){const N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:R})}};return N(I)-N(k)}(g.type,_.type)||this.eu(g.doc,_.doc)),this.ou(r),s=s??!1;const h=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,l.length!==0||p?{snapshot:new Ca(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new LT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new VT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ca.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Sg="SyncEngine";class Fk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jk{constructor(e){this.key=e,this.hu=!1}}class Uk{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new lo(h=>YE(h),vd),this.Iu=new Map,this.Eu=new Set,this.du=new at(ye.comparator),this.Au=new Map,this.Ru=new dg,this.Vu={},this.mu=new Map,this.fu=Pa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bk(t,e,n=!0){const r=BT(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await MT(r,e,n,!0),s}async function zk(t,e){const n=BT(t);await MT(n,e,!0,!1)}async function MT(t,e,n,r){const s=await lk(t.localStore,xr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await $k(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&xT(t.remoteStore,s),h}async function $k(t,e,n,r,s){t.pu=(_,E,I)=>async function(N,R,F,W){let q=R.view.ru(F);q.Cs&&(q=await O0(N.localStore,R.query,!1).then(({documents:D})=>R.view.ru(D,q)));const X=W&&W.targetChanges.get(R.targetId),J=W&&W.targetMismatches.get(R.targetId)!=null,oe=R.view.applyChanges(q,N.isPrimaryClient,X,J);return K0(N,R.targetId,oe.au),oe.snapshot}(t,_,E,I);const a=await O0(t.localStore,e,!0),l=new Ok(e,a.Qs),h=l.ru(a.documents),f=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(h,t.isPrimaryClient,f);K0(t,n,p.au);const g=new Fk(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function Hk(t,e,n){const r=Pe(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(l=>!vd(l,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await pm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gg(r.remoteStore,s.targetId),ym(r,s.targetId)}).catch(Ma)):(ym(r,s.targetId),await pm(r.localStore,s.targetId,!0))}async function Wk(t,e){const n=Pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gg(n.remoteStore,r.targetId))}async function qk(t,e,n){const r=Zk(t);try{const s=await function(l,h){const f=Pe(l),p=Je.now(),g=h.reduce((I,k)=>I.add(k.key),Ne());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let k=fi(),N=Ne();return f.Ns.getEntries(I,g).next(R=>{k=R,k.forEach((F,W)=>{W.isValidDocument()||(N=N.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,k)).next(R=>{_=R;const F=[];for(const W of h){const q=a4(W,_.get(W.key).overlayedDocument);q!=null&&F.push(new uo(W.key,q,HE(q.value.mapValue),lr.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,F,h)}).next(R=>{E=R;const F=R.applyToLocalDocumentSet(_,N);return f.documentOverlayCache.saveOverlays(I,R.batchId,F)})}).then(()=>({batchId:E.batchId,changes:eT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,h,f){let p=l.Vu[l.currentUser.toKey()];p||(p=new at(be)),p=p.insert(h,f),l.Vu[l.currentUser.toKey()]=p}(r,s.batchId,n),await Lu(r,s.changes),await xd(r.remoteStore)}catch(s){const a=Eg(s,"Failed to persist write");n.reject(a)}}async function OT(t,e){const n=Pe(t);try{const r=await sk(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Au.get(a);l&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?ze(l.hu,14607):s.removedDocuments.size>0&&(ze(l.hu,42227),l.hu=!1))}),await Lu(n,r,e)}catch(r){await Ma(r)}}function q0(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,l)=>{const h=l.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(l,h){const f=Pe(l);f.onlineState=h;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)}),p&&Tg(f)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Kk(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new at(ye.comparator);l=l.insert(a,Zt.newNoDocument(a,Ae.min()));const h=Ne().add(a),f=new Td(Ae.min(),new Map,new at(be),l,h);await OT(r,f),r.du=r.du.remove(a),r.Au.delete(e),Ig(r)}else await pm(r.localStore,e,!1).then(()=>ym(r,e,n)).catch(Ma)}async function Gk(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await ik(n.localStore,e);jT(n,r,null),FT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,s)}catch(s){await Ma(s)}}async function Qk(t,e,n){const r=Pe(t);try{const s=await function(l,h){const f=Pe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(ze(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);jT(r,e,n),FT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,s)}catch(s){await Ma(s)}}function FT(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jT(t,e,n){const r=Pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function ym(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UT(t,r)})}function UT(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(gg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Ig(t))}function K0(t,e,n){for(const r of n)r instanceof VT?(t.Ru.addReference(r.key,e),Xk(t,r)):r instanceof LT?(ce(Sg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UT(t,r.key)):Te(19791,{wu:r})}function Xk(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ce(Sg,"New document in limbo: "+n),t.Eu.add(r),Ig(t))}function Ig(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Ye.fromString(e)),r=t.fu.next();t.Au.set(r,new jk(n)),t.du=t.du.insert(n,r),xT(t.remoteStore,new Qi(xr(og(n.path)),r,"TargetPurposeLimboResolution",pd.ce))}}async function Lu(t,e,n){const r=Pe(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((h,f)=>{l.push(r.pu(f,e,n).then(p=>{if((p||n)&&r.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){s.push(p);const g=pg.As(f.targetId,p);a.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(f,p){const g=Pe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Y.forEach(p,E=>Y.forEach(E.Es,I=>g.persistence.referenceDelegate.addReference(_,E.targetId,I)).next(()=>Y.forEach(E.ds,I=>g.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))}catch(_){if(!Oa(_))throw _;ce(mg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=g.Ms.get(E),k=I.snapshotVersion,N=I.withLastLimboFreeSnapshotVersion(k);g.Ms=g.Ms.insert(E,N)}}}(r.localStore,a))}async function Yk(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ce(Sg,"User change. New user:",e.toKey());const r=await ET(n.localStore,e);n.currentUser=e,function(a,l){a.mu.forEach(h=>{h.forEach(f=>{f.reject(new pe(Z.CANCELLED,l))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.Ls)}}function Jk(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const h=n.Tu.get(l);s=s.unionWith(h.view.nu)}return s}}function BT(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kk.bind(null,e),e.Pu.H_=Lk.bind(null,e.eventManager),e.Pu.yu=Mk.bind(null,e.eventManager),e}function Zk(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qk.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rk(this.persistence,new ek,e.initialUser,this.serializer)}Cu(e){return new wT(fg.mi,this.serializer)}Du(e){return new ck}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class e3 extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ze(this.persistence.referenceDelegate instanceof Hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new j4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new wT(r=>Hh.mi(r,n),this.serializer)}}class vm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yk.bind(null,this.syncEngine),await Nk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vk}()}createDatastore(e){const n=Sd(e.databaseInfo.databaseId),r=function(a){return new mk(a)}(e.databaseInfo);return function(a,l,h,f){return new _k(a,l,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,h){return new Ek(r,s,a,l,h)}(this.localStore,this.datastore,e.asyncQueue,n=>q0(this.syncEngine,n,0),function(){return U0.v()?new U0:new hk}())}createSyncEngine(e,n){return function(s,a,l,h,f,p,g){const _=new Uk(s,a,l,h,f,p);return g&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Pe(n);ce(no,"RemoteStore shutting down."),r.Ea.add(5),await Vu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vm.provider={build:()=>new vm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class t3{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=Zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ce(ls,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ce(ls,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Eg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rp(t,e){t.asyncQueue.verifyOperationInProgress(),ce(ls,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ET(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function G0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await n3(t);ce(ls,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>z0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>z0(e.remoteStore,s)),t._onlineComponents=e}async function n3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(ls,"Using user provided OfflineComponentProvider");try{await Rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Rp(t,new qh)}}else ce(ls,"Using default OfflineComponentProvider"),await Rp(t,new e3(void 0));return t._offlineComponents}async function $T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(ls,"Using user provided OnlineComponentProvider"),await G0(t,t._uninitializedComponentsProvider._online)):(ce(ls,"Using default OnlineComponentProvider"),await G0(t,new vm))),t._onlineComponents}function r3(t){return $T(t).then(e=>e.syncEngine)}async function HT(t){const e=await $T(t),n=e.eventManager;return n.onListen=Bk.bind(null,e.syncEngine),n.onUnlisten=Hk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wk.bind(null,e.syncEngine),n}function i3(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new zT({next:E=>{g.Nu(),l.enqueueAndForget(()=>NT(a,_));const I=E.docs.has(h);!I&&E.fromCache?p.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&E.fromCache&&f&&f.source==="server"?p.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new DT(og(h.path),g,{includeMetadataChanges:!0,qa:!0});return bT(a,_)}(await HT(t),t.asyncQueue,e,n,r)),r.promise}function s3(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,h,f,p){const g=new zT({next:E=>{g.Nu(),l.enqueueAndForget(()=>NT(a,_)),E.fromCache&&f.source==="server"?p.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new DT(h,g,{includeMetadataChanges:!0,qa:!0});return bT(a,_)}(await HT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",X0=!0;class Y0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=X0}else this.host=e.host,this.ssl=e.ssl??X0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_T;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O4)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_R("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uR;switch(r.type){case"firstParty":return new fR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Q0.get(n);r&&(ce("ComponentProvider","Removing Datastore"),Q0.delete(n),r.terminate())}(this),Promise.resolve()}}function o3(t,e,n,r={}){t=di(t,Ad);const s=hs(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(Km(`https://${h}`),Gm("Firestore",!0)),a.host!==qT&&a.host!==h&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:s,emulatorOptions:r};if(!Zs(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Jt.MOCK_USER;else{p=_E(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(_)}t._authCredentials=new cR(new NE(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pd(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,Rt._jsonSchema))return new Rt(e,r||null,new ye(Ye.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:Et("string",Rt._jsonSchemaVersion),referencePath:Et("string")};class Zi extends Pd{constructor(e,n,r){super(e,n,og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ye(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function a3(t,e,...n){if(t=Ot(t),DE("collection","path",e),t instanceof Ad){const r=Ye.fromString(e,...n);return h0(r),new Zi(t,null,r)}{if(!(t instanceof Rt||t instanceof Zi))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return h0(r),new Zi(t.firestore,null,r)}}function KT(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=Zm.newId()),DE("doc","path",e),t instanceof Ad){const r=Ye.fromString(e,...n);return c0(r),new Rt(t,null,new ye(r))}{if(!(t instanceof Rt||t instanceof Zi))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return c0(r),new Rt(t.firestore,t instanceof Zi?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="AsyncQueue";class Z0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ST(this,"async_queue_retry"),this._c=()=>{const r=Cp();r&&ce(J0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new si;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oa(e))throw e;ce(J0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,hi("INTERNAL UNHANDLED ERROR: ",e1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=wg.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:e1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function e1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ja extends Ad{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Z0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z0(e),this._firestoreClient=void 0,await e}}}function l3(t,e){const n=typeof t=="object"?t:Ym(),r=typeof t=="string"?t:Fh,s=fd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=gE("firestore");a&&o3(s,...a)}return s}function xg(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||u3(t),t._firestoreClient}function u3(t){const e=t._freezeSettings(),n=function(s,a,l,h){return new kR(s,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new t3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Wt.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Et("string",zn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,Pr._jsonSchema))return new Pr(e.latitude,e.longitude)}}Pr._jsonSchemaVersion="firestore/geoPoint/1.0",Pr._jsonSchema={type:Et("string",Pr._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Cr(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:Et("string",Cr._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=/^__.*__$/;class h3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}function GT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class Cg{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Kh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GT(this.Ac)&&c3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class d3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sd(e)}Cc(e,n,r,s=!1){return new Cg({Ac:e,methodName:n,Dc:r,path:Ht.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QT(t){const e=t._freezeSettings(),n=Sd(t._databaseId);return new d3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XT(t,e,n,r,s,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);e2("Data must be an object, but it was:",l,r);const h=JT(r,l);let f,p;if(a.merge)f=new or(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=f3(e,_,n);if(!l.contains(E))throw new pe(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);m3(g,E)||g.push(E)}f=new or(g),p=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=l.fieldTransforms;return new h3(new Bn(h),f,p)}class Rg extends Pg{_toFieldTransform(e){return new r4(e.path,new gu)}isEqual(e){return e instanceof Rg}}function YT(t,e){if(ZT(t=Ot(t)))return e2("Unsupported field value:",e,t),JT(t,e);if(t instanceof Pg)return function(r,s){if(!GT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const h of r){let f=YT(h,s.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Je.fromDate(r);return{timestampValue:$h(s.serializer,a)}}if(r instanceof Je){const a=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$h(s.serializer,a)}}if(r instanceof Pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:dT(s.serializer,r._byteString)};if(r instanceof Rt){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:hg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cr)return function(l,h){return{mapValue:{fields:{[zE]:{stringValue:$E},[jh]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return ag(h.serializer,p)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${eg(r)}`)}(t,e)}function JT(t,e){const n={};return ME(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(t,(r,s)=>{const a=YT(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function ZT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Pr||t instanceof zn||t instanceof Rt||t instanceof Pg||t instanceof Cr)}function e2(t,e,n){if(!ZT(n)||!VE(n)){const r=eg(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function f3(t,e,n){if((e=Ot(e))instanceof Ag)return e._internalPath;if(typeof e=="string")return t2(t,e);throw Kh("Field path arguments must be of type string or ",t,!1,void 0,n)}const p3=new RegExp("[~\\*/\\[\\]]");function t2(t,e,n){if(e.search(p3)>=0)throw Kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ag(...e.split("."))._internalPath}catch{throw Kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new pe(Z.INVALID_ARGUMENT,h+t+f)}function m3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class g3 extends n2{data(){return super.data()}}function r2(t,e){return typeof e=="string"?t2(t,e):e instanceof Ag?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v3{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ao(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[jh].arrayValue?.values?.map(r=>gt(r.doubleValue));return new Cr(n)}convertGeoPoint(e){return new Pr(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){const n=is(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);ze(vT(r),9688,{name:e});const s=new pu(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(n)||hi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends n2{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Et("string",Xs._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Ph extends Xs{data(e={}){return super.data(e)}}class _a{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ph(this._firestore,this._userDataWriter,r.key,r,new Gl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(h=>{const f=new Ph(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Gl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Ph(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Gl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),h.type!==1&&(l=l.add(h.doc),g=l.indexOf(h.doc.key)),{type:_3(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_a._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(t){t=di(t,Rt);const e=di(t.firestore,ja);return i3(xg(e),t._key).then(n=>T3(e,t,n))}_a._jsonSchemaVersion="firestore/querySnapshot/1.0",_a._jsonSchema={type:Et("string",_a._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class s2 extends v3{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function E3(t){t=di(t,Pd);const e=di(t.firestore,ja),n=xg(e),r=new s2(e);return y3(t._query),s3(n,t._query).then(s=>new _a(e,r,t,s))}function wM(t,e,n){t=di(t,Rt);const r=di(t.firestore,ja),s=i2(t.converter,e,n);return kg(r,[XT(QT(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,lr.none())])}function EM(t){return kg(di(t.firestore,ja),[new lg(t._key,lr.none())])}function TM(t,e){const n=di(t.firestore,ja),r=KT(t),s=i2(t.converter,e);return kg(n,[XT(QT(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function kg(t,e){return function(r,s){const a=new si;return r.asyncQueue.enqueueAndForget(async()=>qk(await r3(r),s,a)),a.promise}(xg(t),e)}function T3(t,e,n){const r=n.docs.get(e._key),s=new s2(t);return new Xs(t,s,e._key,r,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function SM(){return new Rg("serverTimestamp")}(function(e,n=!0){(function(s){La=s})(oo),eo(new ns("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),h=new ja(new hR(r.getProvider("auth-internal")),new pR(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pu(p.options.projectId,g)}(l,s),l);return a={useFetchStreams:n,...a},h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ir(o0,a0,e),Ir(o0,a0,"esm2020")})();function o2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S3=o2,a2=new Ru("auth","Firebase",o2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Qm("@firebase/auth");function I3(t,...e){Gh.logLevel<=ke.WARN&&Gh.warn(`Auth (${oo}): ${t}`,...e)}function Ch(t,...e){Gh.logLevel<=ke.ERROR&&Gh.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(t,...e){throw bg(t,...e)}function Rr(t,...e){return bg(t,...e)}function l2(t,e,n){const r={...S3(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function es(t){return l2(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return a2.create(t,...e)}function Ee(t,e,...n){if(!t)throw bg(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ch(e),new Error(e)}function pi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(){return typeof self<"u"&&self.location?.href||""}function x3(){return t1()==="http:"||t1()==="https:"}function t1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(x3()||UP()||"connection"in navigator)?navigator.onLine:!0}function P3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=OP()||BP()}get(){return A3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k3=new Mu(3e4,6e4);function ho(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ds(t,e,n,r,s={}){return c2(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=ku({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return jP()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&hs(t.emulatorConfig.host)&&(p.credentials="include"),u2.fetch()(await h2(t,t.config.apiHost,n,h),p)})}async function c2(t,e,n){t._canInitEmulator=!1;const r={...C3,...e};try{const s=new N3(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw fh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw fh(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw fh(t,"user-disabled",l);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw l2(t,g,p);ur(t,g)}}catch(s){if(s instanceof Or)throw s;ur(t,"network-request-failed",{message:String(s)})}}async function Cd(t,e,n,r,s={}){const a=await ds(t,e,n,r,s);return"mfaPendingCredential"in a&&ur(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function h2(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?Ng(t.config,s):`${t.config.apiScheme}://${s}`;return R3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function b3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rr(this.auth,"network-request-failed")),k3.get())})}}function fh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Rr(t,e,r);return s.customData._tokenResponse=n,s}function n1(t){return t!==void 0&&t.enterprise!==void 0}class D3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return b3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function V3(t,e){return ds(t,"GET","/v2/recaptchaConfig",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function Qh(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M3(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),s=Dg(r);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a?.sign_in_provider;return{claims:s,token:r,authTime:ru(kp(s.auth_time)),issuedAtTime:ru(kp(s.iat)),expirationTime:ru(kp(s.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function kp(t){return Number(t)*1e3}function Dg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ch("JWT malformed, contained fewer than 3 sections"),null;try{const s=pE(n);return s?JSON.parse(s):(Ch("Failed to decode base64 JWT payload"),null)}catch(s){return Ch("Caught error parsing JWT payload as JSON",s?.toString()),null}}function r1(t){const e=Dg(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Or&&O3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function O3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){const e=t.auth,n=await t.getIdToken(),r=await _u(t,Qh(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?d2(s.providerUserInfo):[],l=U3(t.providerData,a),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,p=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new wm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function j3(t){const e=Ot(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function d2(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(t,e){const n=await c2(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await h2(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&hs(t.emulatorConfig.host)&&(f.credentials="include"),u2.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z3(t,e){return ds(t,"POST","/v2/accounts:revokeToken",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=r1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await B3(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new wa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wa,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new F3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new wm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M3(this,e)}reload(){return j3(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(es(this.auth));const e=await this.getIdToken();return await _u(this,L3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:I,providerData:k,stsTokenManager:N}=n;Ee(_&&N,e,"internal-error");const R=wa.fromJSON(this.name,N);Ee(typeof _=="string",e,"internal-error"),zi(r,e.name),zi(s,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof I=="boolean",e,"internal-error"),zi(a,e.name),zi(l,e.name),zi(h,e.name),zi(f,e.name),zi(p,e.name),zi(g,e.name);const F=new ar({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:l,phoneNumber:a,tenantId:h,stsTokenManager:R,createdAt:p,lastLoginAt:g});return k&&Array.isArray(k)&&(F.providerData=k.map(W=>({...W}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,n,r=!1){const s=new wa;s.updateFromServerResponse(n);const a=new ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Xh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?d2(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!a?.length,h=new wa;h.updateFromIdToken(r);const f=new ar({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;function ri(t){pi(t instanceof Function,"Expected a class definition");let e=i1.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,i1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}f2.type="NONE";const s1=f2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Rh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Rh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(ri(s1),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ri(s1);const l=Rh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(l);if(g){let _;if(typeof g=="string"){const E=await Qh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await ar._fromGetAccountInfoResponse(e,E,g)}else _=ar._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ea(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ea(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_2(e))return"Blackberry";if(w2(e))return"Webos";if(m2(e))return"Safari";if((e.includes("chrome/")||g2(e))&&!e.includes("edge/"))return"Chrome";if(v2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function p2(t=tn()){return/firefox\//i.test(t)}function m2(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g2(t=tn()){return/crios\//i.test(t)}function y2(t=tn()){return/iemobile/i.test(t)}function v2(t=tn()){return/android/i.test(t)}function _2(t=tn()){return/blackberry/i.test(t)}function w2(t=tn()){return/webos/i.test(t)}function Vg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $3(t=tn()){return Vg(t)&&!!window.navigator?.standalone}function H3(){return zP()&&document.documentMode===10}function E2(t=tn()){return Vg(t)||v2(t)||w2(t)||_2(t)||/windows phone/i.test(t)||y2(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e=[]){let n;switch(t){case"Browser":n=o1(tn());break;case"Worker":n=`${o1(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q3(t,e={}){return ds(t,"GET","/v2/passwordPolicy",ho(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=6;class G3{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a1(this),this.idTokenSubscription=new a1(this),this.beforeStateQueue=new W3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qh(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===l)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(es(this));const n=e?Ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q3(this),n=new G3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&I3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ua(t){return Ot(t)}class a1{constructor(e){this.auth=e,this.observer=null,this.addObserver=XP(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X3(t){Rd=t}function S2(t){return Rd.loadJS(t)}function Y3(){return Rd.recaptchaEnterpriseScript}function J3(){return Rd.gapiScript}function Z3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eb{constructor(){this.enterprise=new tb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tb{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nb="recaptcha-enterprise",I2="NO_RECAPTCHA";class rb{constructor(e){this.type=nb,this.auth=Ua(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,h)=>{V3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new D3(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,l,h){const f=window.grecaptcha;n1(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(I2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eb().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(h=>{if(!n&&n1(window.grecaptcha))s(h,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Y3();f.length!==0&&(f+=h),S2(f).then(()=>{s(h,a,l)}).catch(p=>{l(p)})}}).catch(h=>{l(h)})})}}async function l1(t,e,n,r=!1,s=!1){const a=new rb(t);let l;if(s)l=I2;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:l}):Object.assign(h,{captchaResponse:l}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function u1(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await l1(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await l1(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e){const n=fd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Zs(a,e??{}))return s;ur(s,"already-initialized")}return n.initialize({options:e})}function sb(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ri);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ob(t,e,n){const r=Ua(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=x2(e),{host:l,port:h}=ab(e),f=h===null?"":`:${h}`,p={url:`${a}//${l}${f}/`},g=Object.freeze({host:l,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Zs(p,r.config.emulator)&&Zs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,hs(l)?(Km(`${a}//${l}${f}`),Gm("Auth",!0)):lb()}function x2(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ab(t){const e=x2(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:c1(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:c1(l)}}}function c1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function ub(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cb(t,e){return Cd(t,"POST","/v1/accounts:signInWithPassword",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hb(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}async function db(t,e){return Cd(t,"POST","/v1/accounts:signInWithEmailLink",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Lg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,n,"signInWithPassword",cb);case"emailLink":return hb(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,r,"signUpPassword",ub);case"emailLink":return db(e,{idToken:n,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(t,e){return Cd(t,"POST","/v1/accounts:signInWithIdp",ho(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="http://localhost";class ro extends Lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ro(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ur("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ro(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ta(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ta(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ta(e,n)}buildRequest(){const e={requestUri:fb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mb(t){const e=$l(Hl(t)).link,n=e?$l(Hl(e)).deep_link_id:null,r=$l(Hl(t)).deep_link_id;return(r?$l(Hl(r)).link:null)||r||n||e||t}class Mg{constructor(e){const n=$l(Hl(e)),r=n.apiKey??null,s=n.oobCode??null,a=pb(n.mode??null);Ee(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mb(e);try{return new Mg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.providerId=Ba.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mg.parseLink(n);return Ee(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}Ba.PROVIDER_ID="password";Ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends A2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Ou{constructor(){super("facebook.com")}static credential(e){return ro._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ou{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ro._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Ou{constructor(){super("github.com")}static credential(e){return ro._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Ou{constructor(){super("twitter.com")}static credential(e,n){return ro._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ar._fromIdTokenResponse(e,r,s),l=h1(r);return new Ra({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=h1(r);return new Ra({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function h1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Or{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Yh(e,n,r,s)}}function P2(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(t,a,e,r):a})}async function gb(t,e,n=!1){const r=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(es(r));const s="reauthenticate";try{const a=await _u(t,P2(r,s,e,t),n);Ee(a.idToken,r,"internal-error");const l=Dg(a.idToken);Ee(l,r,"internal-error");const{sub:h}=l;return Ee(t.uid===h,r,"user-mismatch"),Ra._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(t,e,n=!1){if(Un(t.app))return Promise.reject(es(t));const r="signIn",s=await P2(t,r,e),a=await Ra._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function vb(t,e){return C2(Ua(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t){const e=Ua(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function IM(t,e,n){return Un(t.app)?Promise.reject(es(t)):vb(Ot(t),Ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_b(t),r})}function wb(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function Eb(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}function xM(t,e,n,r){return Ot(t).onAuthStateChanged(e,n,r)}function AM(t){return Ot(t).signOut()}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=1e3,Sb=10;class k2 extends R2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);H3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Sb):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Tb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k2.type="LOCAL";const Ib=k2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2 extends R2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b2.type="SESSION";const N2=b2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(l).map(async p=>p(n.origin,a)),f=await xb(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const p=Og("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return window}function Pb(t){kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(){return typeof kr().WorkerGlobalScope<"u"&&typeof kr().importScripts=="function"}async function Cb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rb(){return navigator?.serviceWorker?.controller||null}function kb(){return D2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firebaseLocalStorageDb",bb=1,Zh="firebaseLocalStorage",L2="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function Nb(){const t=indexedDB.deleteDatabase(V2);return new Fu(t).toPromise()}function Em(){const t=indexedDB.open(V2,bb);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zh,{keyPath:L2})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zh)?e(r):(r.close(),await Nb(),e(await Em()))})})}async function d1(t,e,n){const r=bd(t,!0).put({[L2]:e,value:n});return new Fu(r).toPromise()}async function Db(t,e){const n=bd(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function f1(t,e){const n=bd(t,!0).delete(e);return new Fu(n).toPromise()}const Vb=800,Lb=3;class M2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Lb)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(kb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Cb(),!this.activeServiceWorker)return;this.sender=new Ab(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await d1(e,Jh,"1"),await f1(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>d1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Db(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=bd(s,!1).getAll();return new Fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}M2.type="LOCAL";const Mb=M2;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){return e?ri(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ta(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Fb(t){return C2(t.auth,new Fg(t),t.bypassAuthState)}function jb(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),yb(n,new Fg(t),t.bypassAuthState)}async function Ub(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),gb(n,new Fg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Fb;case"linkViaPopup":case"linkViaRedirect":return Ub;case"reauthViaPopup":case"reauthViaRedirect":return jb;default:ur(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new Mu(2e3,1e4);class da extends O2{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bb.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="pendingRedirect",kh=new Map;class $b extends O2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kh.get(this.auth._key());if(!e){try{const r=await Hb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kh.set(this.auth._key(),e)}return this.bypassAuthState||kh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hb(t,e){const n=Kb(e),r=qb(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Wb(t,e){kh.set(t._key(),e)}function qb(t){return ri(t._redirectPersistence)}function Kb(t){return Rh(zb,t.config.apiKey,t.name)}async function Gb(t,e,n=!1){if(Un(t.app))return Promise.reject(es(t));const r=Ua(t),s=Ob(r,e),l=await new $b(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb=600*1e3;class Xb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yb(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!F2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qb&&this.cachedEventUids.clear(),this.cachedEventUids.has(p1(e))}saveEventToCache(e){this.cachedEventUids.add(p1(e)),this.lastProcessedEventTime=Date.now()}}function p1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function F2({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Yb(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return F2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jb(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e6=/^https?/;async function t6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jb(t);for(const n of e)try{if(n6(n))return}catch{}ur(t,"unauthorized-domain")}function n6(t){const e=_m(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!e6.test(n))return!1;if(Zb.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6=new Mu(3e4,6e4);function m1(){const t=kr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i6(t){return new Promise((e,n)=>{function r(){m1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m1(),n(Rr(t,"network-request-failed"))},timeout:r6.get()})}if(kr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(kr().gapi?.load)r();else{const s=Z3("iframefcb");return kr()[s]=()=>{gapi.load?r():n(Rr(t,"network-request-failed"))},S2(`${J3()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw bh=null,e})}let bh=null;function s6(t){return bh=bh||i6(t),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new Mu(5e3,15e3),a6="__/auth/iframe",l6="emulator/auth/iframe",u6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h6(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ng(e,l6):`https://${t.config.authDomain}/${a6}`,r={apiKey:e.apiKey,appName:t.name,v:oo},s=c6.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ku(r).slice(1)}`}async function d6(t){const e=await s6(t),n=kr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:h6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u6,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Rr(t,"network-request-failed"),h=kr().setTimeout(()=>{a(l)},o6.get());function f(){kr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p6=500,m6=600,g6="_blank",y6="http://localhost";class g1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v6(t,e,n,r=p6,s=m6){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...f6,width:r.toString(),height:s.toString(),top:a,left:l},p=tn().toLowerCase();n&&(h=g2(p)?g6:n),p2(p)&&(e=e||y6,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[I,k])=>`${E}${I}=${k},`,"");if($3(p)&&h!=="_self")return _6(e||"",h),new g1(null);const _=window.open(e||"",h,g);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new g1(_)}function _6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="__/auth/handler",E6="emulator/auth/handler",T6=encodeURIComponent("fac");async function y1(t,e,n,r,s,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oo,eventId:s};if(e instanceof A2){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",QP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))l[g]=_}if(e instanceof Ou){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${T6}=${encodeURIComponent(f)}`:"";return`${S6(t)}?${ku(h).slice(1)}${p}`}function S6({config:t}){return t.emulator?Ng(t,E6):`https://${t.authDomain}/${w6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="webStorageSupport";class I6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N2,this._completeRedirectFn=Gb,this._overrideRedirectResult=Wb}async _openPopup(e,n,r,s){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await y1(e,n,r,_m(),s);return v6(e,a,Og())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await y1(e,n,r,_m(),s);return Pb(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(pi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await d6(e),r=new Xb(e);return n.register("authEvent",s=>(Ee(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bp,{type:bp},s=>{const a=s?.[0]?.[bp];a!==void 0&&n(!!a),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return E2()||m2()||Vg()}}const x6=I6;var v1="@firebase/auth",_1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C6(t){eo(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;Ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T2(t)},p=new Q3(r,s,a,f);return sb(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new ns("auth-internal",e=>{const n=Ua(e.getProvider("auth").getImmediate());return(r=>new A6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(v1,_1,P6(t)),Ir(v1,_1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6=300,k6=vE("authIdTokenMaxAge")||R6;let w1=null;const b6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k6)return;const s=n?.token;w1!==s&&(w1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function N6(t=Ym()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ib(t,{popupRedirectResolver:x6,persistence:[Mb,Ib,N2]}),r=vE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=b6(a.toString());Eb(n,l,()=>l(n.currentUser)),wb(n,h=>l(h))}}const s=mE("auth");return s&&ob(n,`http://${s}`),n}function D6(){return document.getElementsByTagName("head")?.[0]??document}X3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Rr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",D6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="firebasestorage.googleapis.com",U2="storageBucket",V6=120*1e3,L6=600*1e3,M6=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt extends Or{constructor(e,n,r=0){super(Np(e),`Firebase Storage: ${n} (${Np(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,lt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function Np(t){return"storage/"+t}function jg(){const t="An unknown error occurred, please check the error payload for server response.";return new lt(et.UNKNOWN,t)}function O6(t){return new lt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function F6(t){return new lt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function j6(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new lt(et.UNAUTHENTICATED,t)}function U6(){return new lt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function B6(t){return new lt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function B2(){return new lt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function z2(){return new lt(et.CANCELED,"User canceled the upload/download.")}function z6(t){return new lt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function $6(t){return new lt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H6(){return new lt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+U2+"' property when initializing the app?")}function $2(){return new lt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function W6(){return new lt(et.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function q6(){return new lt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function K6(t){return new lt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tm(t){return new lt(et.INVALID_ARGUMENT,t)}function H2(){return new lt(et.APP_DELETED,"The Firebase app was deleted.")}function G6(t){return new lt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iu(t,e){return new lt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bl(t){throw new lt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=xn.makeFromUrl(e,n)}catch{return new xn(e,"")}if(r.path==="")return r;throw $6(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const l="(/(.*))?$",h=new RegExp("^gs://"+s+l,"i"),f={bucket:1,path:3};function p(X){X.path_=decodeURIComponent(X.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",I=new RegExp(`^https?://${_}/${g}/b/${s}/o${E}`,"i"),k={bucket:1,path:3},N=n===j2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",F=new RegExp(`^https?://${N}/${s}/${R}`,"i"),q=[{regex:h,indices:f,postModify:a},{regex:I,indices:k,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let X=0;X<q.length;X++){const J=q[X],oe=J.regex.exec(e);if(oe){const D=oe[J.indices.bucket];let x=oe[J.indices.path];x||(x=""),r=new xn(D,x),J.postModify(r);break}}if(r==null)throw z6(e);return r}}class Q6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t,e,n){let r=1,s=null,a=null,l=!1,h=0;function f(){return h===2}let p=!1;function g(...R){p||(p=!0,e.apply(null,R))}function _(R){s=setTimeout(()=>{s=null,t(I,f())},R)}function E(){a&&clearTimeout(a)}function I(R,...F){if(p){E();return}if(R){E(),g.call(null,R,...F);return}if(f()||l){E(),g.call(null,R,...F);return}r<64&&(r*=2);let q;h===1?(h=2,q=0):q=(r+Math.random())*1e3,_(q)}let k=!1;function N(R){k||(k=!0,E(),!p&&(s!==null?(R||(h=2),clearTimeout(s),_(0)):R||(h=1)))}return _(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function Y6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){return t!==void 0}function Z6(t){return typeof t=="function"}function eN(t){return typeof t=="object"&&!Array.isArray(t)}function Nd(t){return typeof t=="string"||t instanceof String}function E1(t){return Ug()&&t instanceof Blob}function Ug(){return typeof Blob<"u"}function T1(t,e,n,r){if(r<e)throw Tm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function W2(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ys;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ys||(Ys={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n,r,s,a,l,h,f,p,g,_,E=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,N)=>{this.resolve_=k,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ph(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const h=a.getErrorCode()===Ys.NO_ERROR,f=a.getStatus();if(!h||q2(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Ys.ABORT;r(!1,new ph(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new ph(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());J6(f)?a(f):a()}catch(f){l(f)}else if(h!==null){const f=jg();f.serverResponse=h.getErrorText(),this.errorCallback_?l(this.errorCallback_(h,f)):l(f)}else if(s.canceled){const f=this.appDelete_?H2():z2();l(f)}else{const f=B2();l(f)}};this.canceled_?n(!1,new ph(!1,null,!0)):this.backoffId_=X6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Y6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ph{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function iN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function oN(t,e,n,r,s,a,l=!0,h=!1){const f=W2(t.urlParams),p=t.url+f,g=Object.assign({},t.headers);return iN(g,e),nN(g,n),rN(g,a),sN(g,r),new tN(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lN(...t){const e=aN();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ug())return new Blob(t);throw new lt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function uN(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){if(typeof atob>"u")throw K6("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Dp{constructor(e,n){this.data=e,this.contentType=n||null}}function hN(t,e){switch(t){case Sr.RAW:return new Dp(K2(e));case Sr.BASE64:case Sr.BASE64URL:return new Dp(G2(t,e));case Sr.DATA_URL:return new Dp(fN(e),pN(e))}throw jg()}function K2(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dN(t){let e;try{e=decodeURIComponent(t)}catch{throw iu(Sr.DATA_URL,"Malformed data URL.")}return K2(e)}function G2(t,e){switch(t){case Sr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw iu(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw iu(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cN(e)}catch(s){throw s.message.includes("polyfill")?s:iu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Q2{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw iu(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function fN(t){const e=new Q2(t);return e.base64?G2(Sr.BASE64,e.rest):dN(e.rest)}function pN(t){return new Q2(t).contentType}function mN(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){let r=0,s="";E1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(E1(this.data_)){const r=this.data_,s=uN(r,e,n);return s===null?null:new Gi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Gi(r,!0)}}static getBlob(...e){if(Ug()){const n=e.map(r=>r instanceof Gi?r.data_:r);return new Gi(lN.apply(null,n))}else{const n=e.map(l=>Nd(l)?hN(Sr.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let h=0;h<l.length;h++)s[a++]=l[h]}),new Gi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(t){let e;try{e=JSON.parse(t)}catch{return null}return eN(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yN(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Y2(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t,e){return e}class an{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||vN}}let mh=null;function _N(t){return!Nd(t)||t.length<2?t:Y2(t)}function J2(){if(mh)return mh;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,l){return _N(l)}const n=new an("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new an("size");return s.xform=r,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),mh=t,mh}function wN(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new xn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function EN(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return wN(r,t),r}function Z2(t,e,n){const r=X2(e);return r===null?null:EN(t,r,n)}function TN(t,e,n,r){const s=X2(e);if(s===null||!Nd(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,_=t.fullPath,E="/b/"+l(g)+"/o/"+l(_),I=ju(E,n,r),k=W2({alt:"media",token:p});return I+k})[0]}function eS(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class za{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t){if(!t)throw jg()}function Bg(t,e){function n(r,s){const a=Z2(t,s,e);return oi(a!==null),a}return n}function SN(t,e){function n(r,s){const a=Z2(t,s,e);return oi(a!==null),TN(a,s,t.host,t._protocol)}return n}function Uu(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=U6():s=j6():n.getStatus()===402?s=F6(t.bucket):n.getStatus()===403?s=B6(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function tS(t){const e=Uu(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=O6(t.path)),a.serverResponse=s.serverResponse,a}return n}function IN(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,h=new za(s,a,Bg(t,n),l);return h.errorHandler=tS(e),h}function xN(t,e,n){const r=e.fullServerUrl(),s=ju(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,h=new za(s,a,SN(t,n),l);return h.errorHandler=tS(e),h}function AN(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nS(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=AN(null,e)),r}function PN(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function h(){let q="";for(let X=0;X<2;X++)q=q+Math.random().toString().slice(2);return q}const f=h();l["Content-Type"]="multipart/related; boundary="+f;const p=nS(e,r,s),g=eS(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",I=Gi.getBlob(_,r,E);if(I===null)throw $2();const k={name:p.fullPath},N=ju(a,t.host,t._protocol),R="POST",F=t.maxUploadRetryTime,W=new za(N,R,Bg(t,n),F);return W.urlParams=k,W.headers=l,W.body=I.uploadData(),W.errorHandler=Uu(e),W}class ed{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function zg(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{oi(!1)}return oi(!!n&&(e||["active"]).indexOf(n)!==-1),n}function CN(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l=nS(e,r,s),h={name:l.fullPath},f=ju(a,t.host,t._protocol),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},_=eS(l,n),E=t.maxUploadRetryTime;function I(N){zg(N);let R;try{R=N.getResponseHeader("X-Goog-Upload-URL")}catch{oi(!1)}return oi(Nd(R)),R}const k=new za(f,p,I,E);return k.urlParams=h,k.headers=g,k.body=_,k.errorHandler=Uu(e),k}function RN(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function a(p){const g=zg(p,["active","final"]);let _=null;try{_=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{oi(!1)}_||oi(!1);const E=Number(_);return oi(!isNaN(E)),new ed(E,r.size(),g==="final")}const l="POST",h=t.maxUploadRetryTime,f=new za(n,l,a,h);return f.headers=s,f.errorHandler=Uu(e),f}const S1=256*1024;function kN(t,e,n,r,s,a,l,h){const f=new ed(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw W6();const p=f.total-f.current;let g=p;s>0&&(g=Math.min(g,s));const _=f.current,E=_+g;let I="";g===0?I="finalize":p===g?I="upload, finalize":I="upload";const k={"X-Goog-Upload-Command":I,"X-Goog-Upload-Offset":`${f.current}`},N=r.slice(_,E);if(N===null)throw $2();function R(X,J){const oe=zg(X,["active","final"]),D=f.current+g,x=r.size();let P;return oe==="final"?P=Bg(e,a)(X,J):P=null,new ed(D,x,oe==="final",P)}const F="POST",W=e.maxUploadRetryTime,q=new za(n,F,R,W);return q.headers=k,q.body=N.uploadData(),q.progressCallback=h||null,q.errorHandler=Uu(t),q}const yn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vp(t){switch(t){case"running":case"pausing":case"canceling":return yn.RUNNING;case"paused":return yn.PAUSED;case"success":return yn.SUCCESS;case"canceled":return yn.CANCELED;case"error":return yn.ERROR;default:return yn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r){if(Z6(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class NN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ys.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ys.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Bl("cannot .send() more than once");if(hs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class DN extends NN{initXhr(){this.xhr_.responseType="text"}}function ha(){return new DN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=J2(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(et.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(q2(s.status,[]))if(a)s=B2();else{this.sleepTime=Math.max(this.sleepTime*2,M6),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(et.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,a)=>{this._resolve=s,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=CN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ha,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=RN(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(s,ha,n,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=S1*this._chunkMultiplier,n=new ed(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,a)=>{let l;try{l=kN(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const h=this._ref.storage._makeRequest(l,ha,s,a,!1);this._request=h,h.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){S1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=IN(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ha,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=PN(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ha,e,n);this._request=s,s.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=z2(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const a=new bN(n||void 0,r||void 0,s||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vp(this._state)){case yn.SUCCESS:oa(this._resolve.bind(null,this.snapshot))();break;case yn.CANCELED:case yn.ERROR:const n=this._reject;oa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vp(this._state)){case yn.RUNNING:case yn.PAUSED:e.next&&oa(e.next.bind(e,this.snapshot))();break;case yn.SUCCESS:e.complete&&oa(e.complete.bind(e))();break;case yn.CANCELED:case yn.ERROR:e.error&&oa(e.error.bind(e,this._error))();break;default:e.error&&oa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this._service=e,n instanceof xn?this._location=n:this._location=xn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new io(e,n)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Y2(this._location.path)}get storage(){return this._service}get parent(){const e=gN(this._location.path);if(e===null)return null;const n=new xn(this._location.bucket,e);return new io(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G6(e)}}function LN(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new VN(t,new Gi(e),n)}function MN(t){t._throwIfRoot("getDownloadURL");const e=xN(t.storage,t._location,J2());return t.storage.makeRequestWithTokens(e,ha).then(n=>{if(n===null)throw q6();return n})}function ON(t,e){const n=yN(t._location.path,e),r=new xn(t._location.bucket,n);return new io(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(t){return/^[A-Za-z]+:\/\//.test(t)}function jN(t,e){return new io(t,e)}function rS(t,e){if(t instanceof $g){const n=t;if(n._bucket==null)throw H6();const r=new io(n,n._bucket);return e!=null?rS(r,e):r}else return e!==void 0?ON(t,e):t}function UN(t,e){if(e&&FN(e)){if(t instanceof $g)return jN(t,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return rS(t,e)}function I1(t,e){const n=e?.[U2];return n==null?null:xn.makeFromBucketSpec(n,t)}function BN(t,e,n,r={}){t.host=`${e}:${n}`;const s=hs(e);s&&(Km(`https://${t.host}/b`),Gm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:_E(a,t.app.options.projectId))}class $g{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=j2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=V6,this._maxUploadRetryTime=L6,this._requests=new Set,s!=null?this._bucket=xn.makeFromBucketSpec(s,this._host):this._bucket=I1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=I1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new io(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new Q6(H2());{const l=oN(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const x1="@firebase/storage",A1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function PM(t,e,n){return t=Ot(t),LN(t,e,n)}function CM(t){return t=Ot(t),MN(t)}function RM(t,e){return t=Ot(t),UN(t,e)}function zN(t=Ym(),e){t=Ot(t);const r=fd(t,iS).getImmediate({identifier:e}),s=gE("storage");return s&&$N(r,...s),r}function $N(t,e,n,r={}){BN(t,e,n,r)}function HN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new $g(n,r,s,e,oo)}function WN(){eo(new ns(iS,HN,"PUBLIC").setMultipleInstances(!0)),Ir(x1,A1,""),Ir(x1,A1,"esm2020")}WN();const Hg=L.createContext({});function Wg(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Dd=L.createContext(null),qg=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qN extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function KN({children:t,isPresent:e}){const n=L.useId(),r=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=L.useContext(qg);return L.useInsertionEffect(()=>{const{width:l,height:h,top:f,left:p}=s.current;if(e||!r.current||!l||!h)return;r.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${h}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),A.jsx(qN,{isPresent:e,childRef:r,sizeRef:s,children:L.cloneElement(t,{ref:r})})}const GN=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l})=>{const h=Wg(QN),f=L.useId(),p=L.useCallback(_=>{h.set(_,!0);for(const E of h.values())if(!E)return;r&&r()},[h,r]),g=L.useMemo(()=>({id:f,initial:e,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return L.useMemo(()=>{h.forEach((_,E)=>h.set(E,!1))},[n]),L.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=A.jsx(KN,{isPresent:n,children:t})),A.jsx(Dd.Provider,{value:g,children:t})};function QN(){return new Map}function sS(t=!0){const e=L.useContext(Dd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{t&&s(a)},[t]);const l=L.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const gh=t=>t.key||"";function P1(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const Kg=typeof window<"u",oS=Kg?L.useLayoutEffect:L.useEffect,Gg=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1})=>{const[h,f]=sS(l),p=L.useMemo(()=>P1(t),[t]),g=l&&!h?[]:p.map(gh),_=L.useRef(!0),E=L.useRef(p),I=Wg(()=>new Map),[k,N]=L.useState(p),[R,F]=L.useState(p);oS(()=>{_.current=!1,E.current=p;for(let X=0;X<R.length;X++){const J=gh(R[X]);g.includes(J)?I.delete(J):I.get(J)!==!0&&I.set(J,!1)}},[R,g.length,g.join("-")]);const W=[];if(p!==k){let X=[...p];for(let J=0;J<R.length;J++){const oe=R[J],D=gh(oe);g.includes(D)||(X.splice(J,0,oe),W.push(oe))}a==="wait"&&W.length&&(X=W),F(P1(X)),N(p);return}const{forceRender:q}=L.useContext(Hg);return A.jsx(A.Fragment,{children:R.map(X=>{const J=gh(X),oe=l&&!h?!1:p===R||g.includes(J),D=()=>{if(I.has(J))I.set(J,!0);else return;let x=!0;I.forEach(P=>{P||(x=!1)}),x&&(q?.(),F(E.current),l&&f?.(),r&&r())};return A.jsx(GN,{isPresent:oe,initial:!_.current||n?void 0:!1,custom:oe?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:oe?void 0:D,children:X},J)})})},An=t=>t;let aS=An;function Qg(t){let e;return()=>(e===void 0&&(e=t()),e)}const ka=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ai=t=>t*1e3,li=t=>t/1e3,XN={useManualTiming:!1};function YN(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function h(p){a.has(p)&&(f.schedule(p),t()),p(l)}const f={schedule:(p,g=!1,_=!1)=>{const I=_&&r?e:n;return g&&a.add(p),I.has(p)||I.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(l=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(h),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const yh=["read","resolveKeyframes","update","preRender","render","postRender"],JN=40;function lS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=yh.reduce((F,W)=>(F[W]=YN(a),F),{}),{read:h,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=l,I=()=>{const F=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,JN),1),s.timestamp=F,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(I))},k=()=>{n=!0,r=!0,s.isProcessing||t(I)};return{schedule:yh.reduce((F,W)=>{const q=l[W];return F[W]=(X,J=!1,oe=!1)=>(n||k(),q.schedule(X,J,oe)),F},{}),cancel:F=>{for(let W=0;W<yh.length;W++)l[yh[W]].cancel(F)},state:s,steps:l}}const{schedule:Ze,cancel:us,state:zt,steps:Lp}=lS(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),Xg=L.createContext({strict:!1}),C1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ba={};for(const t in C1)ba[t]={isEnabled:e=>C1[t].some(n=>!!e[n])};function Sm(t){for(const e in t)ba[e]={...ba[e],...t[e]}}function ZN({children:t,features:e,strict:n=!1}){const[,r]=L.useState(!Mp(e)),s=L.useRef(void 0);if(!Mp(e)){const{renderer:a,...l}=e;s.current=a,Sm(l)}return L.useEffect(()=>{Mp(e)&&e().then(({renderer:a,...l})=>{Sm(l),s.current=a,r(!0)})},[]),A.jsx(Xg.Provider,{value:{renderer:s.current,strict:n},children:t})}function Mp(t){return typeof t=="function"}const eD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function td(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||eD.has(t)}let uS=t=>!td(t);function tD(t){t&&(uS=e=>e.startsWith("on")?!td(e):t(e))}try{tD(require("@emotion/is-prop-valid").default)}catch{}function nD(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(uS(s)||n===!0&&td(s)||!e&&!td(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function rD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Vd=L.createContext({});function Eu(t){return typeof t=="string"||Array.isArray(t)}function Ld(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Yg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jg=["initial",...Yg];function Md(t){return Ld(t.animate)||Jg.some(e=>Eu(t[e]))}function cS(t){return!!(Md(t)||t.variants)}function iD(t,e){if(Md(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Eu(n)?n:void 0,animate:Eu(r)?r:void 0}}return t.inherit!==!1?e:{}}function sD(t){const{initial:e,animate:n}=iD(t,L.useContext(Vd));return L.useMemo(()=>({initial:e,animate:n}),[R1(e),R1(n)])}function R1(t){return Array.isArray(t)?t.join(" "):t}const oD=Symbol.for("motionComponentSymbol");function fa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function aD(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):fa(n)&&(n.current=r))},[e])}const Zg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),lD="framerAppearId",hS="data-"+Zg(lD),{schedule:ey}=lS(queueMicrotask,!1),dS=L.createContext({});function uD(t,e,n,r,s){var a,l;const{visualElement:h}=L.useContext(Vd),f=L.useContext(Xg),p=L.useContext(Dd),g=L.useContext(qg).reducedMotion,_=L.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,I=L.useContext(dS);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&cD(_.current,n,s,I);const k=L.useRef(!1);L.useInsertionEffect(()=>{E&&k.current&&E.update(n,p)});const N=n[hS],R=L.useRef(!!N&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,N))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,N)));return oS(()=>{E&&(k.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),ey.render(E.render),R.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!R.current&&E.animationState&&E.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,N)}),R.current=!1))}),E}function cD(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:fS(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||h&&fa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function fS(t){if(t)return t.options.allowProjection!==!1?t.projection:fS(t.parent)}function hD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&Sm(t);function h(p,g){let _;const E={...L.useContext(qg),...p,layoutId:dD(p)},{isStatic:I}=E,k=sD(p),N=r(p,I);if(!I&&Kg){fD();const R=pD(E);_=R.MeasureLayout,k.visualElement=uD(s,N,E,e,R.ProjectionNode)}return A.jsxs(Vd.Provider,{value:k,children:[_&&k.visualElement?A.jsx(_,{visualElement:k.visualElement,...E}):null,n(s,p,aD(N,k.visualElement,g),N,I,k.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const f=L.forwardRef(h);return f[oD]=s,f}function dD({layoutId:t}){const e=L.useContext(Hg).id;return e&&t!==void 0?e+"-"+t:t}function fD(t,e){L.useContext(Xg).strict}function pD(t){const{drag:e,layout:n}=ba;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const mD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ty(t){return typeof t!="string"||t.includes("-")?!1:!!(mD.indexOf(t)>-1||/[A-Z]/u.test(t))}function k1(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ny(t,e,n,r){if(typeof e=="function"){const[s,a]=k1(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=k1(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const Im=t=>Array.isArray(t),gD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),yD=t=>Im(t)?t[t.length-1]||0:t,en=t=>!!(t&&t.getVelocity);function Nh(t){const e=en(t)?t.get():t;return gD(e)?e.toValue():e}function vD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:_D(r,s,a,t),renderState:e()};return n&&(l.onMount=h=>n({props:r,current:h,...l}),l.onUpdate=h=>n(h)),l}const pS=t=>(e,n)=>{const r=L.useContext(Vd),s=L.useContext(Dd),a=()=>vD(t,e,r,s);return n?a():Wg(a)};function _D(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Nh(a[E]);let{initial:l,animate:h}=t;const f=Md(t),p=cS(t);e&&p&&!f&&t.inherit!==!1&&(l===void 0&&(l=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const _=g?h:l;if(_&&typeof _!="boolean"&&!Ld(_)){const E=Array.isArray(_)?_:[_];for(let I=0;I<E.length;I++){const k=ny(t,E[I]);if(k){const{transitionEnd:N,transition:R,...F}=k;for(const W in F){let q=F[W];if(Array.isArray(q)){const X=g?q.length-1:0;q=q[X]}q!==null&&(s[W]=q)}for(const W in N)s[W]=N[W]}}}return s}const $a=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set($a),mS=t=>e=>typeof e=="string"&&e.startsWith(t),gS=mS("--"),wD=mS("var(--"),ry=t=>wD(t)?ED.test(t.split("/*")[0].trim()):!1,ED=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,mi=(t,e,n)=>n>e?e:n<t?t:n,Ha={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tu={...Ha,transform:t=>mi(0,1,t)},vh={...Ha,default:1},Bu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$i=Bu("deg"),br=Bu("%"),we=Bu("px"),TD=Bu("vh"),SD=Bu("vw"),b1={...br,parse:t=>br.parse(t)/100,transform:t=>br.transform(t*100)},ID={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},xD={rotate:$i,rotateX:$i,rotateY:$i,rotateZ:$i,scale:vh,scaleX:vh,scaleY:vh,scaleZ:vh,skew:$i,skewX:$i,skewY:$i,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Tu,originX:b1,originY:b1,originZ:we},N1={...Ha,transform:Math.round},iy={...ID,...xD,zIndex:N1,size:we,fillOpacity:Tu,strokeOpacity:Tu,numOctaves:N1},AD={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PD=$a.length;function CD(t,e,n){let r="",s=!0;for(let a=0;a<PD;a++){const l=$a[a],h=t[l];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(l.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=yS(h,iy[l]);if(!f){s=!1;const g=AD[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function sy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,h=!1;for(const f in e){const p=e[f];if(fo.has(f)){l=!0;continue}else if(gS(f)){s[f]=p;continue}else{const g=yS(p,iy[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(l||n?r.transform=CD(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const RD={offset:"stroke-dashoffset",array:"stroke-dasharray"},kD={offset:"strokeDashoffset",array:"strokeDasharray"};function bD(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?RD:kD;t[a.offset]=we.transform(-r);const l=we.transform(e),h=we.transform(n);t[a.array]=`${l} ${h}`}function D1(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function ND(t,e,n){const r=D1(e,t.x,t.width),s=D1(n,t.y,t.height);return`${r} ${s}`}function oy(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:h=1,pathOffset:f=0,...p},g,_){if(sy(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:I,dimensions:k}=t;E.transform&&(k&&(I.transform=E.transform),delete E.transform),k&&(s!==void 0||a!==void 0||I.transform)&&(I.transformOrigin=ND(k,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),l!==void 0&&bD(E,l,h,f,!1)}const ay=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),vS=()=>({...ay(),attrs:{}}),ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _S(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const wS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ES(t,e,n,r){_S(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(wS.has(s)?s:Zg(s),e.attrs[s])}const nd={};function DD(t){Object.assign(nd,t)}function TS(t,{layout:e,layoutId:n}){return fo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!nd[t]||t==="opacity")}function uy(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(en(s[l])||e.style&&en(e.style[l])||TS(l,t)||((r=n?.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function SS(t,e,n){const r=uy(t,e,n);for(const s in t)if(en(t[s])||en(e[s])){const a=$a.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}function VD(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const V1=["x","y","width","height","cx","cy","r"],LD={useVisualState:pS({scrapeMotionValuesFromProps:SS,createRenderState:vS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(fo.has(h)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let h=0;h<V1.length;h++){const f=V1[h];t[f]!==e[f]&&(l=!0)}l&&Ze.read(()=>{VD(n,r),Ze.render(()=>{oy(r,s,ly(n.tagName),t.transformTemplate),ES(n,r)})})}})},MD={useVisualState:pS({scrapeMotionValuesFromProps:uy,createRenderState:ay})};function IS(t,e,n){for(const r in e)!en(e[r])&&!TS(r,n)&&(t[r]=e[r])}function OD({transformTemplate:t},e){return L.useMemo(()=>{const n=ay();return sy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function FD(t,e){const n=t.style||{},r={};return IS(r,n,t),Object.assign(r,OD(t,e)),r}function jD(t,e){const n={},r=FD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function UD(t,e,n,r){const s=L.useMemo(()=>{const a=vS();return oy(a,e,ly(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};IS(a,t.style,t),s.style={...a,...s.style}}return s}function BD(t=!1){return(n,r,s,{latestValues:a},l)=>{const f=(ty(n)?UD:jD)(r,a,l,n),p=nD(r,typeof n=="string",t),g=n!==L.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=L.useMemo(()=>en(_)?_.get():_,[_]);return L.createElement(n,{...g,children:E})}}function zD(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...ty(r)?LD:MD,preloadedFeatures:t,useRender:BD(s),createVisualElement:e,Component:r};return hD(l)}}function xS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Od(t,e,n){const r=t.getProps();return ny(r,e,n!==void 0?n:r.custom,t)}const $D=Qg(()=>window.ScrollTimeline!==void 0);class HD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if($D()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class WD extends HD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function cy(t,e){return t?t[e]||t.default||t:void 0}const xm=2e4;function AS(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xm;)e+=n,r=t.next(e);return e>=xm?1/0:e}function hy(t){return typeof t=="function"}function L1(t,e){t.timeline=e,t.onfinish=null}const dy=t=>Array.isArray(t)&&typeof t[0]=="number",qD={linearEasing:void 0};function KD(t,e){const n=Qg(t);return()=>{var r;return(r=qD[e])!==null&&r!==void 0?r:n()}}const rd=KD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),PS=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(ka(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function CS(t){return!!(typeof t=="function"&&rd()||!t||typeof t=="string"&&(t in Am||rd())||dy(t)||Array.isArray(t)&&t.every(CS))}const Ql=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Am={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ql([0,.65,.55,1]),circOut:Ql([.55,0,1,.45]),backIn:Ql([.31,.01,.66,-.59]),backOut:Ql([.33,1.53,.69,.99])};function RS(t,e){if(t)return typeof t=="function"&&rd()?PS(t,e):dy(t)?Ql(t):Array.isArray(t)?t.map(n=>RS(n,e)||Am.easeOut):Am[t]}const ir={x:!1,y:!1};function kS(){return ir.x||ir.y}function bS(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function NS(t,e){const n=bS(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function M1(t){return e=>{e.pointerType==="touch"||kS()||t(e)}}function GD(t,e,n={}){const[r,s,a]=NS(t,n),l=M1(h=>{const{target:f}=h,p=e(h);if(typeof p!="function"||!f)return;const g=M1(_=>{p(_),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,s)});return r.forEach(h=>{h.addEventListener("pointerenter",l,s)}),a}const DS=(t,e)=>e?t===e?!0:DS(t,e.parentElement):!1,fy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,QD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XD(t){return QD.has(t.tagName)||t.tabIndex!==-1}const Xl=new WeakSet;function O1(t){return e=>{e.key==="Enter"&&t(e)}}function Op(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YD=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=O1(()=>{if(Xl.has(n))return;Op(n,"down");const s=O1(()=>{Op(n,"up")}),a=()=>Op(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function F1(t){return fy(t)&&!kS()}function JD(t,e,n={}){const[r,s,a]=NS(t,n),l=h=>{const f=h.currentTarget;if(!F1(h)||Xl.has(f))return;Xl.add(f);const p=e(h),g=(I,k)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!F1(I)||!Xl.has(f))&&(Xl.delete(f),typeof p=="function"&&p(I,{success:k}))},_=I=>{g(I,n.useGlobalTarget||DS(f,I.target))},E=I=>{g(I,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{!XD(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",l,s),h.addEventListener("focus",p=>YD(p,s),s)}),a}function ZD(t){return t==="x"||t==="y"?ir[t]?null:(ir[t]=!0,()=>{ir[t]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}const VS=new Set(["width","height","top","left","right","bottom",...$a]);let Dh;function eV(){Dh=void 0}const Nr={now:()=>(Dh===void 0&&Nr.set(zt.isProcessing||XN.useManualTiming?zt.timestamp:performance.now()),Dh),set:t=>{Dh=t,queueMicrotask(eV)}};function py(t,e){t.indexOf(e)===-1&&t.push(e)}function my(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class gy{constructor(){this.subscriptions=[]}add(e){return py(this.subscriptions,e),()=>my(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function LS(t,e){return e?t*(1e3/e):0}const j1=30,tV=t=>!isNaN(parseFloat(t));class nV{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Nr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Nr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tV(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gy);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>j1)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,j1);return LS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Su(t,e){return new nV(t,e)}function rV(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Su(n))}function iV(t,e){const n=Od(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const h=yD(a[l]);rV(t,l,h)}}function sV(t){return!!(en(t)&&t.add)}function Pm(t,e){const n=t.getValue("willChange");if(sV(n))return n.add(e)}function MS(t){return t.props[hS]}const OS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oV=1e-7,aV=12;function lV(t,e,n,r,s){let a,l,h=0;do l=e+(n-e)/2,a=OS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>oV&&++h<aV);return l}function zu(t,e,n,r){if(t===e&&n===r)return An;const s=a=>lV(a,0,1,t,n);return a=>a===0||a===1?a:OS(s(a),e,r)}const FS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jS=t=>e=>1-t(1-e),US=zu(.33,1.53,.69,.99),yy=jS(US),BS=FS(yy),zS=t=>(t*=2)<1?.5*yy(t):.5*(2-Math.pow(2,-10*(t-1))),vy=t=>1-Math.sin(Math.acos(t)),$S=jS(vy),HS=FS(vy),WS=t=>/^0[^.\s]+$/u.test(t);function uV(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||WS(t):!0}const su=t=>Math.round(t*1e5)/1e5,_y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cV(t){return t==null}const hV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wy=(t,e)=>n=>!!(typeof n=="string"&&hV.test(n)&&n.startsWith(t)||e&&!cV(n)&&Object.prototype.hasOwnProperty.call(n,e)),qS=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,h]=r.match(_y);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:h!==void 0?parseFloat(h):1}},dV=t=>mi(0,255,t),Fp={...Ha,transform:t=>Math.round(dV(t))},Qs={test:wy("rgb","red"),parse:qS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Fp.transform(t)+", "+Fp.transform(e)+", "+Fp.transform(n)+", "+su(Tu.transform(r))+")"};function fV(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Cm={test:wy("#"),parse:fV,transform:Qs.transform},pa={test:wy("hsl","hue"),parse:qS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+br.transform(su(e))+", "+br.transform(su(n))+", "+su(Tu.transform(r))+")"},Yt={test:t=>Qs.test(t)||Cm.test(t)||pa.test(t),parse:t=>Qs.test(t)?Qs.parse(t):pa.test(t)?pa.parse(t):Cm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qs.transform(t):pa.transform(t)},pV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mV(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(_y))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(pV))===null||n===void 0?void 0:n.length)||0)>0}const KS="number",GS="color",gV="var",yV="var(",U1="${}",vV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(vV,f=>(Yt.test(f)?(r.color.push(a),s.push(GS),n.push(Yt.parse(f))):f.startsWith(yV)?(r.var.push(a),s.push(gV),n.push(f)):(r.number.push(a),s.push(KS),n.push(parseFloat(f))),++a,U1)).split(U1);return{values:n,split:h,indexes:r,types:s}}function QS(t){return Iu(t).values}function XS(t){const{split:e,types:n}=Iu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const h=n[l];h===KS?a+=su(s[l]):h===GS?a+=Yt.transform(s[l]):a+=s[l]}return a}}const _V=t=>typeof t=="number"?0:t;function wV(t){const e=QS(t);return XS(t)(e.map(_V))}const cs={test:mV,parse:QS,createTransformer:XS,getAnimatableNone:wV},EV=new Set(["brightness","contrast","saturate","opacity"]);function TV(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_y)||[];if(!r)return t;const s=n.replace(r,"");let a=EV.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const SV=/\b([a-z-]*)\(.*?\)/gu,Rm={...cs,getAnimatableNone:t=>{const e=t.match(SV);return e?e.map(TV).join(" "):t}},IV={...iy,color:Yt,backgroundColor:Yt,outlineColor:Yt,fill:Yt,stroke:Yt,borderColor:Yt,borderTopColor:Yt,borderRightColor:Yt,borderBottomColor:Yt,borderLeftColor:Yt,filter:Rm,WebkitFilter:Rm},Ey=t=>IV[t];function YS(t,e){let n=Ey(t);return n!==Rm&&(n=cs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xV=new Set(["auto","none","0"]);function AV(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!xV.has(a)&&Iu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=YS(n,s)}const B1=t=>t===Ha||t===we,z1=(t,e)=>parseFloat(t.split(", ")[e]),$1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return z1(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?z1(a[1],t):0}},PV=new Set(["x","y","z"]),CV=$a.filter(t=>!PV.has(t));function RV(t){const e=[];return CV.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Na={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:$1(4,13),y:$1(5,14)};Na.translateX=Na.x;Na.translateY=Na.y;const Js=new Set;let km=!1,bm=!1;function JS(){if(bm){const t=Array.from(Js).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=RV(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}bm=!1,km=!1,Js.forEach(t=>t.complete()),Js.clear()}function ZS(){Js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(bm=!0)})}function kV(){ZS(),JS()}class Ty{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Js.add(this),km||(km=!0,Ze.read(ZS),Ze.resolveKeyframes(JS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s?.get(),h=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Js.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Js.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const eI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NV(t){const e=bV.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function tI(t,e,n=1){const[r,s]=NV(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return eI(l)?parseFloat(l):l}return ry(s)?tI(s,e,n+1):s}const nI=t=>e=>e.test(t),DV={test:t=>t==="auto",parse:t=>t},rI=[Ha,we,br,$i,SD,TD,DV],H1=t=>rI.find(nI(t));class iI extends Ty{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),ry(p))){const g=tI(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!VS.has(r)||e.length!==2)return;const[s,a]=e,l=H1(s),h=H1(a);if(l!==h)if(B1(l)&&B1(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)uV(e[s])&&r.push(s);r.length&&AV(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Na[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,h=s[l];s[l]=Na[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const W1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cs.test(t)||t==="0")&&!t.startsWith("url("));function VV(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function LV(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=W1(s,e),h=W1(a,e);return!l||!h?!1:VV(t)||(n==="spring"||hy(n))&&r}const MV=t=>t!==null;function Fd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(MV),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const OV=40;class sI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Nr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OV?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&kV(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Nr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!LV(e,r,s,a))if(l)this.options.duration=0;else{f&&f(Fd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const st=(t,e,n)=>t+(e-t)*n;function jp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function FV({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=jp(f,h,t+1/3),a=jp(f,h,t),l=jp(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function id(t,e){return n=>n>0?e:t}const Up=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},jV=[Cm,Qs,pa],UV=t=>jV.find(e=>e.test(t));function q1(t){const e=UV(t);if(!e)return!1;let n=e.parse(t);return e===pa&&(n=FV(n)),n}const K1=(t,e)=>{const n=q1(t),r=q1(e);if(!n||!r)return id(t,e);const s={...n};return a=>(s.red=Up(n.red,r.red,a),s.green=Up(n.green,r.green,a),s.blue=Up(n.blue,r.blue,a),s.alpha=st(n.alpha,r.alpha,a),Qs.transform(s))},BV=(t,e)=>n=>e(t(n)),$u=(...t)=>t.reduce(BV),Nm=new Set(["none","hidden"]);function zV(t,e){return Nm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $V(t,e){return n=>st(t,e,n)}function Sy(t){return typeof t=="number"?$V:typeof t=="string"?ry(t)?id:Yt.test(t)?K1:qV:Array.isArray(t)?oI:typeof t=="object"?Yt.test(t)?K1:HV:id}function oI(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Sy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function HV(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Sy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function WV(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],h=t.indexes[l][s[l]],f=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=f,s[l]++}return r}const qV=(t,e)=>{const n=cs.createTransformer(e),r=Iu(t),s=Iu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Nm.has(t)&&!s.values.length||Nm.has(e)&&!r.values.length?zV(t,e):$u(oI(WV(r,s),s.values),n):id(t,e)};function aI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?st(t,e,n):Sy(t)(t,e)}const KV=5;function lI(t,e,n){const r=Math.max(e-KV,0);return LS(n-t(r),e-r)}const ht={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bp=.001;function GV({duration:t=ht.duration,bounce:e=ht.bounce,velocity:n=ht.velocity,mass:r=ht.mass}){let s,a,l=1-e;l=mi(ht.minDamping,ht.maxDamping,l),t=mi(ht.minDuration,ht.maxDuration,li(t)),l<1?(s=p=>{const g=p*l,_=g*t,E=g-n,I=Dm(p,l),k=Math.exp(-_);return Bp-E/I*k},a=p=>{const _=p*l*t,E=_*n+n,I=Math.pow(l,2)*Math.pow(p,2)*t,k=Math.exp(-_),N=Dm(Math.pow(p,2),l);return(-s(p)+Bp>0?-1:1)*((E-I)*k)/N}):(s=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-Bp+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const h=5/t,f=XV(s,a,h);if(t=ai(t),isNaN(f))return{stiffness:ht.stiffness,damping:ht.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const QV=12;function XV(t,e,n){let r=n;for(let s=1;s<QV;s++)r=r-t(r)/e(r);return r}function Dm(t,e){return t*Math.sqrt(1-e*e)}const YV=["duration","bounce"],JV=["stiffness","damping","mass"];function G1(t,e){return e.some(n=>t[n]!==void 0)}function ZV(t){let e={velocity:ht.velocity,stiffness:ht.stiffness,damping:ht.damping,mass:ht.mass,isResolvedFromDuration:!1,...t};if(!G1(t,JV)&&G1(t,YV))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:ht.mass,stiffness:s,damping:a}}else{const n=GV(t);e={...e,...n,mass:ht.mass},e.isResolvedFromDuration=!0}return e}function uI(t=ht.visualDuration,e=ht.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:I}=ZV({...n,velocity:-li(n.velocity||0)}),k=E||0,N=p/(2*Math.sqrt(f*g)),R=l-a,F=li(Math.sqrt(f/g)),W=Math.abs(R)<5;r||(r=W?ht.restSpeed.granular:ht.restSpeed.default),s||(s=W?ht.restDelta.granular:ht.restDelta.default);let q;if(N<1){const J=Dm(F,N);q=oe=>{const D=Math.exp(-N*F*oe);return l-D*((k+N*F*R)/J*Math.sin(J*oe)+R*Math.cos(J*oe))}}else if(N===1)q=J=>l-Math.exp(-F*J)*(R+(k+F*R)*J);else{const J=F*Math.sqrt(N*N-1);q=oe=>{const D=Math.exp(-N*F*oe),x=Math.min(J*oe,300);return l-D*((k+N*F*R)*Math.sinh(x)+J*R*Math.cosh(x))/J}}const X={calculatedDuration:I&&_||null,next:J=>{const oe=q(J);if(I)h.done=J>=_;else{let D=0;N<1&&(D=J===0?ai(k):lI(q,J,oe));const x=Math.abs(D)<=r,P=Math.abs(l-oe)<=s;h.done=x&&P}return h.value=h.done?l:oe,h},toString:()=>{const J=Math.min(AS(X),xm),oe=PS(D=>X.next(J*D).value,J,30);return J+"ms "+oe}};return X}function Q1({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},I=x=>h!==void 0&&x<h||f!==void 0&&x>f,k=x=>h===void 0?f:f===void 0||Math.abs(h-x)<Math.abs(f-x)?h:f;let N=n*e;const R=_+N,F=l===void 0?R:l(R);F!==R&&(N=F-_);const W=x=>-N*Math.exp(-x/r),q=x=>F+W(x),X=x=>{const P=W(x),V=q(x);E.done=Math.abs(P)<=p,E.value=E.done?F:V};let J,oe;const D=x=>{I(E.value)&&(J=x,oe=uI({keyframes:[E.value,k(E.value)],velocity:lI(q,x,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:x=>{let P=!1;return!oe&&J===void 0&&(P=!0,X(x),D(x)),J!==void 0&&x>=J?oe.next(x-J):(!P&&X(x),E)}}}const e5=zu(.42,0,1,1),t5=zu(0,0,.58,1),cI=zu(.42,0,.58,1),n5=t=>Array.isArray(t)&&typeof t[0]!="number",r5={linear:An,easeIn:e5,easeInOut:cI,easeOut:t5,circIn:vy,circInOut:HS,circOut:$S,backIn:yy,backInOut:BS,backOut:US,anticipate:zS},X1=t=>{if(dy(t)){aS(t.length===4);const[e,n,r,s]=t;return zu(e,n,r,s)}else if(typeof t=="string")return r5[t];return t};function i5(t,e,n){const r=[],s=n||aI,a=t.length-1;for(let l=0;l<a;l++){let h=s(t[l],t[l+1]);if(e){const f=Array.isArray(e)?e[l]||An:e;h=$u(f,h)}r.push(h)}return r}function s5(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(aS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=i5(e,r,s),f=h.length,p=g=>{if(l&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=ka(t[_],t[_+1],g);return h[_](E)};return n?g=>p(mi(t[0],t[a-1],g)):p}function o5(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=ka(0,e,r);t.push(st(n,1,s))}}function a5(t){const e=[0];return o5(e,t.length-1),e}function l5(t,e){return t.map(n=>n*e)}function u5(t,e){return t.map(()=>e||cI).splice(0,t.length-1)}function sd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=n5(r)?r.map(X1):X1(r),a={done:!1,value:e[0]},l=l5(n&&n.length===e.length?n:a5(e),t),h=s5(l,e,{ease:Array.isArray(s)?s:u5(e,s)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const c5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ze.update(e,!0),stop:()=>us(e),now:()=>zt.isProcessing?zt.timestamp:Nr.now()}},h5={decay:Q1,inertia:Q1,tween:sd,keyframes:sd,spring:uI},d5=t=>t/100;class Iy extends sI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=s?.KeyframeResolver||Ty,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new l(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,h=hy(n)?n:h5[n]||sd;let f,p;h!==sd&&typeof e[0]!="number"&&(f=$u(d5,aI(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=AS(g));const{calculatedDuration:_}=g,E=_+s,I=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:I,repeatType:k,repeatDelay:N,onUpdate:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-E*(this.speed>=0?1:-1),W=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let q=this.currentTime,X=a;if(I){const x=Math.min(this.currentTime,g)/_;let P=Math.floor(x),V=x%1;!V&&x>=1&&(V=1),V===1&&P--,P=Math.min(P,I+1),!!(P%2)&&(k==="reverse"?(V=1-V,N&&(V-=N/_)):k==="mirror"&&(X=l)),q=mi(0,1,V)*_}const J=W?{done:!1,value:f[0]}:X.next(q);h&&(J.value=h(J.value));let{done:oe}=J;!W&&p!==null&&(oe=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return D&&s!==void 0&&(J.value=Fd(f,this.options,s)),R&&R(J.value),D&&this.finish(),J}get duration(){const{resolved:e}=this;return e?li(e.calculatedDuration):0}get time(){return li(this.currentTime)}set time(e){e=ai(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=li(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=c5,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const f5=new Set(["opacity","clipPath","filter","transform"]);function p5(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:h="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=RS(h,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const m5=Qg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),od=10,g5=2e4;function y5(t){return hy(t.type)||t.type==="spring"||!CS(t.ease)}function v5(t,e){const n=new Iy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<g5;)r=n.sample(a),s.push(r.value),a+=od;return{times:void 0,keyframes:s,duration:a-od,ease:"linear"}}const hI={anticipate:zS,backInOut:BS,circInOut:HS};function _5(t){return t in hI}class Y1 extends sI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new iI(a,(l,h)=>this.onKeyframesResolved(l,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&rd()&&_5(a)&&(a=hI[a]),y5(this.options)){const{onComplete:_,onUpdate:E,motionValue:I,element:k,...N}=this.options,R=v5(e,N);e=R.keyframes,e.length===1&&(e[1]=e[0]),r=R.duration,s=R.times,a=R.ease,l="keyframes"}const g=p5(h.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(L1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(Fd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return li(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return li(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ai(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return An;const{animation:r}=n;L1(r,e)}return An}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...I}=this.options,k=new Iy({...I,keyframes:r,duration:s,type:a,ease:l,times:h,isGenerator:!0}),N=ai(this.time);p.setWithVelocity(k.sample(N-od).value,k.sample(N).value,od)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return m5()&&r&&f5.has(r)&&!f&&!p&&!s&&a!=="mirror"&&l!==0&&h!=="inertia"}}const w5={type:"spring",stiffness:500,damping:25,restSpeed:10},E5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T5={type:"keyframes",duration:.8},S5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I5=(t,{keyframes:e})=>e.length>2?T5:fo.has(t)?t.startsWith("scale")?E5(e[1]):w5:S5;function x5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const xy=(t,e,n,r={},s,a)=>l=>{const h=cy(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ai(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{l(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};x5(h)||(g={...g,...I5(t,g)}),g.duration&&(g.duration=ai(g.duration)),g.repeatDelay&&(g.repeatDelay=ai(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=Fd(g.keyframes,h);if(E!==void 0)return Ze.update(()=>{g.onUpdate(E),g.onComplete()}),new WD([])}return!a&&Y1.supports(g)?new Y1(g):new Iy(g)};function A5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function dI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:h,...f}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const _ in f){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),I=f[_];if(I===void 0||g&&A5(g,_))continue;const k={delay:n,...cy(l||{},_)};let N=!1;if(window.MotionHandoffAnimation){const F=MS(t);if(F){const W=window.MotionHandoffAnimation(F,_,Ze);W!==null&&(k.startTime=W,N=!0)}}Pm(t,_),E.start(xy(_,E,I,t.shouldReduceMotion&&VS.has(_)?{type:!1}:k,t,N));const R=E.animation;R&&p.push(R)}return h&&Promise.all(p).then(()=>{Ze.update(()=>{h&&iV(t,h)})}),p}function Vm(t,e,n={}){var r;const s=Od(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(dI(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return P5(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[l,h]:[h,l];return p().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function P5(t,e,n=0,r=0,s=1,a){const l=[],h=(t.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(C5).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(Vm(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function C5(t,e){return t.sortNodePosition(e)}function R5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Vm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Vm(t,e,n);else{const s=typeof e=="function"?Od(t,e,n.custom):e;r=Promise.all(dI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const k5=Jg.length;function fI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<k5;n++){const r=Jg[n],s=t.props[r];(Eu(s)||s===!1)&&(e[r]=s)}return e}const b5=[...Yg].reverse(),N5=Yg.length;function D5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>R5(t,n,r)))}function V5(t){let e=D5(t),n=J1(),r=!0;const s=f=>(p,g)=>{var _;const E=Od(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:I,transitionEnd:k,...N}=E;p={...p,...N,...k}}return p};function a(f){e=f(t)}function l(f){const{props:p}=t,g=fI(t.parent)||{},_=[],E=new Set;let I={},k=1/0;for(let R=0;R<N5;R++){const F=b5[R],W=n[F],q=p[F]!==void 0?p[F]:g[F],X=Eu(q),J=F===f?W.isActive:null;J===!1&&(k=R);let oe=q===g[F]&&q!==p[F]&&X;if(oe&&r&&t.manuallyAnimateOnMount&&(oe=!1),W.protectedKeys={...I},!W.isActive&&J===null||!q&&!W.prevProp||Ld(q)||typeof q=="boolean")continue;const D=L5(W.prevProp,q);let x=D||F===f&&W.isActive&&!oe&&X||R>k&&X,P=!1;const V=Array.isArray(q)?q:[q];let O=V.reduce(s(F),{});J===!1&&(O={});const{prevResolvedValues:B={}}=W,b={...B,...O},Be=Se=>{x=!0,E.has(Se)&&(P=!0,E.delete(Se)),W.needsAnimating[Se]=!0;const ie=t.getValue(Se);ie&&(ie.liveStyle=!1)};for(const Se in b){const ie=O[Se],me=B[Se];if(I.hasOwnProperty(Se))continue;let te=!1;Im(ie)&&Im(me)?te=!xS(ie,me):te=ie!==me,te?ie!=null?Be(Se):E.add(Se):ie!==void 0&&E.has(Se)?Be(Se):W.protectedKeys[Se]=!0}W.prevProp=q,W.prevResolvedValues=O,W.isActive&&(I={...I,...O}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(oe&&D)||P)&&_.push(...V.map(Se=>({animation:Se,options:{type:F}})))}if(E.size){const R={};E.forEach(F=>{const W=t.getBaseTarget(F),q=t.getValue(F);q&&(q.liveStyle=!0),R[F]=W??null}),_.push({animation:R})}let N=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(_):Promise.resolve()}function h(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var I;return(I=E.animationState)===null||I===void 0?void 0:I.setActive(f,p)}),n[f].isActive=p;const _=l(f);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:l,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=J1(),r=!0}}}function L5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xS(e,t):!1}function Hs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function J1(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class fs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class M5 extends fs{constructor(e){super(e),e.animationState||(e.animationState=V5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ld(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let O5=0;class F5 extends fs{constructor(){super(...arguments),this.id=O5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const pI={animation:{Feature:M5},exit:{Feature:F5}};function xu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hu(t){return{point:{x:t.pageX,y:t.pageY}}}const j5=t=>e=>fy(e)&&t(e,Hu(e));function ou(t,e,n,r){return xu(t,e,j5(n),r)}const Z1=(t,e)=>Math.abs(t-e);function U5(t,e){const n=Z1(t.x,e.x),r=Z1(t.y,e.y);return Math.sqrt(n**2+r**2)}class mI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=$p(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=U5(_.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:k}=_,{timestamp:N}=zt;this.history.push({...k,timestamp:N});const{onStart:R,onMove:F}=this.handlers;E||(R&&R(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=zp(E,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:I,onSessionEnd:k,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=$p(_.type==="pointercancel"?this.lastMoveEventInfo:zp(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,R),k&&k(_,R)},!fy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=Hu(e),h=zp(l,this.transformPagePoint),{point:f}=h,{timestamp:p}=zt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,$p(h,this.history)),this.removeListeners=$u(ou(this.contextWindow,"pointermove",this.handlePointerMove),ou(this.contextWindow,"pointerup",this.handlePointerUp),ou(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),us(this.updatePoint)}}function zp(t,e){return e?{point:e(t.point)}:t}function ew(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $p({point:t},e){return{point:t,delta:ew(t,gI(e)),offset:ew(t,B5(e)),velocity:z5(e,.1)}}function B5(t){return t[0]}function gI(t){return t[t.length-1]}function z5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=gI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ai(e)));)n--;if(!r)return{x:0,y:0};const a=li(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const yI=1e-4,$5=1-yI,H5=1+yI,vI=.01,W5=0-vI,q5=0+vI;function Pn(t){return t.max-t.min}function K5(t,e,n){return Math.abs(t-e)<=n}function tw(t,e,n,r=.5){t.origin=r,t.originPoint=st(e.min,e.max,t.origin),t.scale=Pn(n)/Pn(e),t.translate=st(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$5&&t.scale<=H5||isNaN(t.scale))&&(t.scale=1),(t.translate>=W5&&t.translate<=q5||isNaN(t.translate))&&(t.translate=0)}function au(t,e,n,r){tw(t.x,e.x,n.x,r?r.originX:void 0),tw(t.y,e.y,n.y,r?r.originY:void 0)}function nw(t,e,n){t.min=n.min+e.min,t.max=t.min+Pn(e)}function G5(t,e,n){nw(t.x,e.x,n.x),nw(t.y,e.y,n.y)}function rw(t,e,n){t.min=e.min-n.min,t.max=t.min+Pn(e)}function lu(t,e,n){rw(t.x,e.x,n.x),rw(t.y,e.y,n.y)}function Q5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?st(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?st(n,t,r.max):Math.min(t,n)),t}function iw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function X5(t,{top:e,left:n,bottom:r,right:s}){return{x:iw(t.x,n,s),y:iw(t.y,e,r)}}function sw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Y5(t,e){return{x:sw(t.x,e.x),y:sw(t.y,e.y)}}function J5(t,e){let n=.5;const r=Pn(t),s=Pn(e);return s>r?n=ka(e.min,e.max-r,t.min):r>s&&(n=ka(t.min,t.max-s,e.min)),mi(0,1,n)}function Z5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lm=.35;function e9(t=Lm){return t===!1?t=0:t===!0&&(t=Lm),{x:ow(t,"left","right"),y:ow(t,"top","bottom")}}function ow(t,e,n){return{min:aw(t,e),max:aw(t,n)}}function aw(t,e){return typeof t=="number"?t:t[e]||0}const lw=()=>({translate:0,scale:1,origin:0,originPoint:0}),ma=()=>({x:lw(),y:lw()}),uw=()=>({min:0,max:0}),mt=()=>({x:uw(),y:uw()});function jn(t){return[t("x"),t("y")]}function _I({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function t9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function n9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hp(t){return t===void 0||t===1}function Mm({scale:t,scaleX:e,scaleY:n}){return!Hp(t)||!Hp(e)||!Hp(n)}function qs(t){return Mm(t)||wI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wI(t){return cw(t.x)||cw(t.y)}function cw(t){return t&&t!=="0%"}function ad(t,e,n){const r=t-n,s=e*r;return n+s}function hw(t,e,n,r,s){return s!==void 0&&(t=ad(t,s,r)),ad(t,n,r)+e}function Om(t,e=0,n=1,r,s){t.min=hw(t.min,e,n,r,s),t.max=hw(t.max,e,n,r,s)}function EI(t,{x:e,y:n}){Om(t.x,e.translate,e.scale,e.originPoint),Om(t.y,n.translate,n.scale,n.originPoint)}const dw=.999999999999,fw=1.0000000000001;function r9(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let h=0;h<s;h++){a=n[h],l=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ya(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,EI(t,l)),r&&qs(a.latestValues)&&ya(t,a.latestValues))}e.x<fw&&e.x>dw&&(e.x=1),e.y<fw&&e.y>dw&&(e.y=1)}function ga(t,e){t.min=t.min+e,t.max=t.max+e}function pw(t,e,n,r,s=.5){const a=st(t.min,t.max,s);Om(t,e,n,a,r)}function ya(t,e){pw(t.x,e.x,e.scaleX,e.scale,e.originX),pw(t.y,e.y,e.scaleY,e.scale,e.originY)}function TI(t,e){return _I(n9(t.getBoundingClientRect(),e))}function i9(t,e,n){const r=TI(t,n),{scroll:s}=e;return s&&(ga(r.x,s.offset.x),ga(r.y,s.offset.y)),r}const SI=({current:t})=>t?t.ownerDocument.defaultView:null,s9=new WeakMap;class o9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hu(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:I,onDragStart:k}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZD(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(R=>{let F=this.getAxisMotionValue(R).get()||0;if(br.test(F)){const{projection:W}=this.visualElement;if(W&&W.layout){const q=W.layout.layoutBox[R];q&&(F=Pn(q)*(parseFloat(F)/100))}}this.originPoint[R]=F}),k&&Ze.postRender(()=>k(g,_)),Pm(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},l=(g,_)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:k,onDrag:N}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:R}=_;if(I&&this.currentDirection===null){this.currentDirection=a9(R),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",_.point,R),this.updateAxis("y",_.point,R),this.visualElement.render(),N&&N(g,_)},h=(g,_)=>this.stop(g,_),f=()=>jn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new mI(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:SI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ze.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!_h(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Q5(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&fa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=X5(s.layoutBox,n):this.constraints=!1,this.elastic=e9(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&jn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=Z5(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=i9(r,s.root,this.visualElement.getTransformPagePoint());let l=Y5(s.layout.layoutBox,a);if(n){const h=n(t9(l));this.hasMutatedConstraints=!!h,h&&(l=_I(h))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=jn(g=>{if(!_h(g,n,this.currentDirection))return;let _=f&&f[g]||{};l&&(_={min:0,max:0});const E=s?200:1e6,I=s?40:1e7,k={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pm(this.visualElement,e),r.start(xy(e,r,0,n,this.visualElement,!1))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){jn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!_h(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:h}=s.layout.layoutBox[n];a.set(e[n]-st(l,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};jn(l=>{const h=this.getAxisMotionValue(l);if(h&&this.constraints!==!1){const f=h.get();s[l]=J5({min:f,max:f},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(l=>{if(!_h(l,e,null))return;const h=this.getAxisMotionValue(l),{min:f,max:p}=this.constraints[l];h.set(st(f,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;s9.set(this.visualElement,this);const e=this.visualElement.current,n=ou(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();fa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ze.read(r);const l=xu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(jn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=Lm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:h}}}function _h(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function a9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class l9 extends fs{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new o9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const mw=t=>(e,n)=>{t&&Ze.postRender(()=>t(e,n))};class u9 extends fs{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new mI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:mw(e),onStart:mw(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&Ze.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=ou(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=gw(t,e.target.x),r=gw(t,e.target.y);return`${n}% ${r}%`}},c9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=cs.parse(t);if(s.length>5)return r;const a=cs.createTransformer(t),l=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+l]/=h,s[1+l]/=f;const p=st(h,f,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class h9 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;DD(d9),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ze.postRender(()=>{const h=l.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ey.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function II(t){const[e,n]=sS(),r=L.useContext(Hg);return A.jsx(h9,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(dS),isPresent:e,safeToRemove:n})}const d9={borderRadius:{...zl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zl,borderTopRightRadius:zl,borderBottomLeftRadius:zl,borderBottomRightRadius:zl,boxShadow:c9};function f9(t,e,n){const r=en(t)?t:Su(t);return r.start(xy("",r,e,n)),r.animation}function p9(t){return t instanceof SVGElement&&t.tagName!=="svg"}const m9=(t,e)=>t.depth-e.depth;class g9{constructor(){this.children=[],this.isDirty=!1}add(e){py(this.children,e),this.isDirty=!0}remove(e){my(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(m9),this.isDirty=!1,this.children.forEach(e)}}function y9(t,e){const n=Nr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(us(r),t(a-e))};return Ze.read(r,!0),()=>us(r)}const xI=["TopLeft","TopRight","BottomLeft","BottomRight"],v9=xI.length,yw=t=>typeof t=="string"?parseFloat(t):t,vw=t=>typeof t=="number"||we.test(t);function _9(t,e,n,r,s,a){s?(t.opacity=st(0,n.opacity!==void 0?n.opacity:1,w9(r)),t.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,E9(r))):a&&(t.opacity=st(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<v9;l++){const h=`border${xI[l]}Radius`;let f=_w(e,h),p=_w(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||vw(f)===vw(p)?(t[h]=Math.max(st(yw(f),yw(p),r),0),(br.test(p)||br.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=st(e.rotate||0,n.rotate||0,r))}function _w(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const w9=AI(0,.5,$S),E9=AI(.5,.95,An);function AI(t,e,n){return r=>r<t?0:r>e?1:n(ka(t,e,r))}function ww(t,e){t.min=e.min,t.max=e.max}function Fn(t,e){ww(t.x,e.x),ww(t.y,e.y)}function Ew(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Tw(t,e,n,r,s){return t-=e,t=ad(t,1/n,r),s!==void 0&&(t=ad(t,1/s,r)),t}function T9(t,e=0,n=1,r=.5,s,a=t,l=t){if(br.test(e)&&(e=parseFloat(e),e=st(l.min,l.max,e/100)-l.min),typeof e!="number")return;let h=st(a.min,a.max,r);t===a&&(h-=e),t.min=Tw(t.min,e,n,h,s),t.max=Tw(t.max,e,n,h,s)}function Sw(t,e,[n,r,s],a,l){T9(t,e[n],e[r],e[s],e.scale,a,l)}const S9=["x","scaleX","originX"],I9=["y","scaleY","originY"];function Iw(t,e,n,r){Sw(t.x,e,S9,n?n.x:void 0,r?r.x:void 0),Sw(t.y,e,I9,n?n.y:void 0,r?r.y:void 0)}function xw(t){return t.translate===0&&t.scale===1}function PI(t){return xw(t.x)&&xw(t.y)}function Aw(t,e){return t.min===e.min&&t.max===e.max}function x9(t,e){return Aw(t.x,e.x)&&Aw(t.y,e.y)}function Pw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CI(t,e){return Pw(t.x,e.x)&&Pw(t.y,e.y)}function Cw(t){return Pn(t.x)/Pn(t.y)}function Rw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class A9{constructor(){this.members=[]}add(e){py(this.members,e),e.scheduleRender()}remove(e){if(my(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function P9(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=n?.z||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:I,skewY:k}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),k&&(r+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Ks={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Yl=typeof window<"u"&&window.MotionDebug!==void 0,Wp=["","X","Y","Z"],C9={visibility:"hidden"},kw=1e3;let R9=0;function qp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=MS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ze,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RI(r)}function kI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},h=e?.()){this.id=R9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Yl&&(Ks.totalNodes=Ks.resolvedTargetDeltas=Ks.recalculatedProjection=0),this.nodes.forEach(N9),this.nodes.forEach(O9),this.nodes.forEach(F9),this.nodes.forEach(D9),Yl&&window.MotionDebug.record(Ks)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new g9)}addEventListener(l,h){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new gy),this.eventHandlers.get(l).add(h)}notifyListeners(l,...h){const f=this.eventHandlers.get(l);f&&f.notify(...h)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=p9(l),this.instance=l;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=y9(E,250),Vh.hasAnimatedSinceResize&&(Vh.hasAnimatedSinceResize=!1,this.nodes.forEach(Nw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:I,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||g.getDefaultTransition()||$9,{onLayoutAnimationStart:R,onLayoutAnimationComplete:F}=g.getProps(),W=!this.targetLayout||!CI(this.targetLayout,k)||I,q=!E&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||q||E&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,q);const X={...cy(N,"layout"),onPlay:R,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(X.delay=0,X.type=!1),this.startAnimation(X)}else E||Nw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(j9),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bw);return}this.isUpdating||this.nodes.forEach(L9),this.isUpdating=!1,this.nodes.forEach(M9),this.nodes.forEach(k9),this.nodes.forEach(b9),this.clearAllSnapshots();const h=Nr.now();zt.delta=mi(0,1e3/60,h-zt.timestamp),zt.timestamp=h,zt.isProcessing=!0,Lp.update.process(zt),Lp.preRender.process(zt),Lp.render.process(zt),zt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(V9),this.sharedNodes.forEach(U9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(h=!1),h){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!PI(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(h||qs(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return l&&(f=this.removeTransform(f)),H9(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:h}=this.options;if(!h)return mt();const f=h.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(W9))){const{scroll:g}=this.root;g&&(ga(f.x,g.offset.x),ga(f.y,g.offset.y))}return f}removeElementScroll(l){var h;const f=mt();if(Fn(f,l),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Fn(f,l),ga(f.x,_.offset.x),ga(f.y,_.offset.y))}return f}applyTransform(l,h=!1){const f=mt();Fn(f,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ya(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),qs(g.latestValues)&&ya(f,g.latestValues)}return qs(this.latestValues)&&ya(f,this.latestValues),f}removeTransform(l){const h=mt();Fn(h,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!qs(p.latestValues))continue;Mm(p.latestValues)&&p.updateSnapshot();const g=mt(),_=p.measurePageBox();Fn(g,_),Iw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return qs(this.latestValues)&&Iw(h,this.latestValues),h}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=zt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),lu(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),EI(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),lu(this.relativeTargetOrigin,this.target,I.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Yl&&Ks.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Mm(this.parent.latestValues)||wI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===zt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Fn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,I=this.treeScale.y;r9(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=mt());const{target:k}=h;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ew(this.prevProjectionDelta.x,this.projectionDelta.x),Ew(this.prevProjectionDelta.y,this.projectionDelta.y)),au(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==I||!Rw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),Yl&&Ks.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),l){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ma(),this.projectionDelta=ma(),this.projectionDeltaWithTransform=ma()}setAnimationOrigin(l,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=ma();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=mt(),I=f?f.source:void 0,k=this.layout?this.layout.source:void 0,N=I!==k,R=this.getStack(),F=!R||R.members.length<=1,W=!!(N&&!F&&this.options.crossfade===!0&&!this.path.some(z9));this.animationProgress=0;let q;this.mixTargetDelta=X=>{const J=X/1e3;Dw(_.x,l.x,J),Dw(_.y,l.y,J),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B9(this.relativeTarget,this.relativeTargetOrigin,E,J),q&&x9(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=mt()),Fn(q,this.relativeTarget)),N&&(this.animationValues=g,_9(g,p,this.latestValues,J,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=J},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{Vh.hasAnimatedSinceResize=!0,this.currentAnimation=f9(0,kw,{...l,onUpdate:h=>{this.mixTargetDelta(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=l;if(!(!h||!f||!p)){if(this!==l&&this.layout&&p&&bI(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||mt();const _=Pn(this.layout.layoutBox.x);f.x.min=l.target.x.min,f.x.max=f.x.min+_;const E=Pn(this.layout.layoutBox.y);f.y.min=l.target.y.min,f.y.max=f.y.min+E}Fn(h,f),ya(h,g),au(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(l,h){this.sharedNodes.has(l)||this.sharedNodes.set(l,new A9),this.sharedNodes.get(l).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:h}=this.options;return h?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:h}=this.options;return h?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),l&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let h=!1;const{latestValues:f}=l;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&qp("z",l,p,this.animationValues);for(let g=0;g<Wp.length;g++)qp(`rotate${Wp[g]}`,l,p,this.animationValues),qp(`skew${Wp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return C9;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Nh(l?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Nh(l?.pointerEvents)||""),this.hasProjected&&!qs(this.latestValues)&&(N.transform=g?g({},""):"none",this.hasProjected=!1),N}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=P9(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:I,y:k}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${k.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const N in nd){if(E[N]===void 0)continue;const{correct:R,applyTo:F}=nd[N],W=p.transform==="none"?E[N]:R(E[N],_);if(F){const q=F.length;for(let X=0;X<q;X++)p[F[X]]=W}else p[N]=W}return this.options.layoutId&&(p.pointerEvents=_===this?Nh(l?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var h;return(h=l.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(bw),this.root.sharedNodes.clear()}}}function k9(t){t.updateLayout()}function b9(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?jn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],I=Pn(E);E.min=r[_].min,E.max=E.min+I}):bI(a,n.layoutBox,r)&&jn(_=>{const E=l?n.measuredBox[_]:n.layoutBox[_],I=Pn(r[_]);E.max=E.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+I)});const h=ma();au(h,r,n.layoutBox);const f=ma();l?au(f,t.applyTransform(s,!0),n.measuredBox):au(f,r,n.layoutBox);const p=!PI(h);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:I}=_;if(E&&I){const k=mt();lu(k,n.layoutBox,E.layoutBox);const N=mt();lu(N,r,I.layoutBox),CI(k,N)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=k,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function N9(t){Yl&&Ks.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function V9(t){t.clearSnapshot()}function bw(t){t.clearMeasurements()}function L9(t){t.isLayoutDirty=!1}function M9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Nw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function O9(t){t.resolveTargetDelta()}function F9(t){t.calcProjection()}function j9(t){t.resetSkewAndRotation()}function U9(t){t.removeLeadSnapshot()}function Dw(t,e,n){t.translate=st(e.translate,0,n),t.scale=st(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Vw(t,e,n,r){t.min=st(e.min,n.min,r),t.max=st(e.max,n.max,r)}function B9(t,e,n,r){Vw(t.x,e.x,n.x,r),Vw(t.y,e.y,n.y,r)}function z9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $9={duration:.45,ease:[.4,0,.1,1]},Lw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mw=Lw("applewebkit/")&&!Lw("chrome/")?Math.round:An;function Ow(t){t.min=Mw(t.min),t.max=Mw(t.max)}function H9(t){Ow(t.x),Ow(t.y)}function bI(t,e,n){return t==="position"||t==="preserve-aspect"&&!K5(Cw(e),Cw(n),.2)}function W9(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const q9=kI({attachResizeListener:(t,e)=>xu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kp={current:void 0},NI=kI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kp.current){const t=new q9({});t.mount(window),t.setOptions({layoutScroll:!0}),Kp.current=t}return Kp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),K9={pan:{Feature:u9},drag:{Feature:l9,ProjectionNode:NI,MeasureLayout:II}};function Fw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ze.postRender(()=>a(e,Hu(e)))}class G9 extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=GD(e,n=>(Fw(this.node,n,"Start"),r=>Fw(this.node,r,"End"))))}unmount(){}}class Q9 extends fs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$u(xu(this.node.current,"focus",()=>this.onFocus()),xu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jw(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ze.postRender(()=>a(e,Hu(e)))}class X9 extends fs{mount(){const{current:e}=this.node;e&&(this.unmount=JD(e,n=>(jw(this.node,n,"Start"),(r,{success:s})=>jw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fm=new WeakMap,Gp=new WeakMap,Y9=t=>{const e=Fm.get(t.target);e&&e(t)},J9=t=>{t.forEach(Y9)};function Z9({root:t,...e}){const n=t||document;Gp.has(n)||Gp.set(n,{});const r=Gp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(J9,{root:t,...e})),r[s]}function eL(t,e,n){const r=Z9(e);return Fm.set(t,n),r.observe(t),()=>{Fm.delete(t),r.unobserve(t)}}const tL={some:0,all:1};class nL extends fs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:tL[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return eL(this.node.current,l,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rL(e,n))&&this.startObserver()}unmount(){}}function rL({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DI={inView:{Feature:nL},tap:{Feature:X9},focus:{Feature:Q9},hover:{Feature:G9}},iL={layout:{ProjectionNode:NI,MeasureLayout:II}},jm={current:null},VI={current:!1};function sL(){if(VI.current=!0,!!Kg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jm.current=t.matches;t.addListener(e),e()}else jm.current=!1}const oL=[...rI,Yt,cs],aL=t=>oL.find(nI(t)),Uw=new WeakMap;function lL(t,e,n){for(const r in e){const s=e[r],a=n[r];if(en(s))t.addValue(r,s);else if(en(a))t.addValue(r,Su(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,Su(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Bw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uL{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Nr.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,Ze.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Md(n),this.isVariantNode=cS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const I in E){const k=E[I];f[I]!==void 0&&en(k)&&k.set(f[I],!1)}}mount(e){this.current=e,Uw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),VI.current||sL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Uw.delete(this.current),this.projection&&this.projection.unmount(),us(this.notifyUpdate),us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fo.has(e),s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ba){const n=ba[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Bw.length;r++){const s=Bw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=lL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Su(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(eI(s)||WS(s))?s=parseFloat(s):!aL(s)&&cs.test(n)&&(s=YS(e,n)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=ny(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class LI extends uL{constructor(){super(...arguments),this.KeyframeResolver=iI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cL(t){return window.getComputedStyle(t)}class hL extends LI{constructor(){super(...arguments),this.type="html",this.renderInstance=_S}readValueFromInstance(e,n){if(fo.has(n)){const r=Ey(n);return r&&r.default||0}else{const r=cL(e),s=(gS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TI(e,n)}build(e,n,r){sy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return uy(e,n,r)}}class dL extends LI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fo.has(n)){const r=Ey(n);return r&&r.default||0}return n=wS.has(n)?n:Zg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SS(e,n,r)}build(e,n,r){oy(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){ES(e,n,r,s)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const MI=(t,e)=>ty(t)?new dL(e):new hL(e,{allowProjection:t!==L.Fragment}),fL=zD({...pI,...DI,...K9,...iL},MI),wt=rD(fL),pL={renderer:MI,...pI,...DI},mL={some:0,all:1};function gL(t,e,{root:n,margin:r,amount:s="some"}={}){const a=bS(t),l=new WeakMap,h=p=>{p.forEach(g=>{const _=l.get(g.target);if(g.isIntersecting!==!!_)if(g.isIntersecting){const E=e(g);typeof E=="function"?l.set(g.target,E):f.unobserve(g.target)}else typeof _=="function"&&(_(g),l.delete(g.target))})},f=new IntersectionObserver(h,{root:n,rootMargin:r,threshold:typeof s=="number"?s:mL[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function OI(t,{root:e,margin:n,amount:r,once:s=!1}={}){const[a,l]=L.useState(!1);return L.useEffect(()=>{if(!t.current||s&&a)return;const h=()=>(l(!0),s?void 0:()=>l(!1)),f={root:e&&e.current||void 0,margin:n,amount:r};return gL(t.current,h,f)},[e,t,n,s,r]),a}class FI extends Ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?A.jsx("div",{className:"bg-background-alt text-text-primary min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:A.jsxs("div",{className:"max-w-md mx-auto",children:[A.jsx("div",{className:"mb-8",children:A.jsx("svg",{className:"w-24 h-24 mx-auto text-secondary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),A.jsx("h1",{className:"text-4xl font-bold mb-4 text-text-primary",children:"Oops, something went wrong!"}),A.jsx("p",{className:"text-lg text-text-secondary mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:()=>window.location.reload(),className:"bg-primary text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-hover transition-colors shadow-md",children:"Refresh Page"}),A.jsx("a",{href:"/",className:"bg-transparent border border-primary text-primary px-6 py-3 rounded-lg font-semibold hover:bg-primary hover:text-white transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const yL=Ge.memo(()=>A.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-background",children:[A.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-emerald animate-spin-pulse-combo"}),A.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-pink animate-reverse-spin opacity-60"})]})),zw=Ge.memo(()=>{const t=({delay:e})=>A.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-primary to-secondary rounded-full animate-pulse-bounce",style:{animationDelay:e}});return A.jsx("div",{className:"flex justify-center items-center h-screen bg-background",children:A.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[A.jsx(t,{delay:"0s"}),A.jsx(t,{delay:"0.2s"}),A.jsx(t,{delay:"0.4s"})]})})}),vL=({href:t,label:e,children:n,onClick:r})=>A.jsxs("a",{href:t,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-text-secondary hover:bg-primary/10 hover:text-primary transition-all duration-300","aria-label":e,children:[n,A.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-text-primary rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),_L=Ge.memo(({isMobileMenuOpen:t,toggleMobileMenu:e,closeMobileMenu:n})=>{const r=s=>{s.preventDefault();const a=s.currentTarget.getAttribute("href"),l=document.querySelector(a);n(),l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)};return A.jsxs("header",{className:"bg-white/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-primary/10",children:[A.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[A.jsx(vL,{href:"#home",label:"Home",onClick:r,children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),A.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-text-secondary",children:[A.jsx("a",{href:"#about",onClick:r,className:"hover:text-secondary transition-colors",children:"About"}),A.jsx("a",{href:"#experience",onClick:r,className:"hover:text-secondary transition-colors",children:"Experience"}),A.jsx("a",{href:"#skills",onClick:r,className:"hover:text-secondary transition-colors",children:"Skills"}),A.jsx("a",{href:"#projects",onClick:r,className:"hover:text-secondary transition-colors",children:"Projects"}),A.jsx("a",{href:"#contact",onClick:r,className:"hover:text-secondary transition-colors",children:"Contact"})]}),A.jsx("div",{className:"md:hidden",children:A.jsx("button",{onClick:e,className:"text-text-primary focus:outline-none p-1",children:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),A.jsx(Gg,{children:t&&A.jsxs(wt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-lg px-6 py-4 space-y-3 text-text-secondary font-medium",children:[A.jsx("a",{href:"#about",onClick:r,className:"block py-2 hover:text-secondary",children:"About"}),A.jsx("a",{href:"#experience",onClick:r,className:"block py-2 hover:text-secondary",children:"Experience"}),A.jsx("a",{href:"#skills",onClick:r,className:"block py-2 hover:text-secondary",children:"Skills"}),A.jsx("a",{href:"#projects",onClick:r,className:"block py-2 hover:text-secondary",children:"Projects"}),A.jsx("a",{href:"#contact",onClick:r,className:"block py-2 hover:text-secondary",children:"Contact"})]})})]})});function jd(t,e,n,r){return new(n||(n=Promise))(function(s,a){function l(p){try{f(r.next(p))}catch(g){a(g)}}function h(p){try{f(r.throw(p))}catch(g){a(g)}}function f(p){var g;p.done?s(p.value):(g=p.value,g instanceof n?g:new n(function(_){_(g)})).then(l,h)}f((r=r.apply(t,[])).next())})}function ts(t,e){var n,r,s,a,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(f){return function(p){return function(g){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(s=2&g[0]?r.return:g[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,g[1])).done)return s;switch(r=0,s&&(g=[2&g[0],s.value]),g[0]){case 0:case 1:s=g;break;case 4:return l.label++,{value:g[1],done:!1};case 5:l.label++,r=g[1],g=[0];continue;case 7:g=l.ops.pop(),l.trys.pop();continue;default:if(s=l.trys,!((s=s.length>0&&s[s.length-1])||g[0]!==6&&g[0]!==2)){l=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){l.label=g[1];break}if(g[0]===6&&l.label<s[1]){l.label=s[1],s=g;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(g);break}s[2]&&l.ops.pop(),l.trys.pop();continue}g=e.call(t,l)}catch(_){g=[6,_],r=0}finally{n=s=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([f,p])}}}function Um(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,s,a=n.call(t),l=[];try{for(;(e===void 0||e-- >0)&&!(r=a.next()).done;)l.push(r.value)}catch(h){s={error:h}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(s)throw s.error}}return l}function Tr(t,e,n){if(arguments.length===2)for(var r,s=0,a=e.length;s<a;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}function $w(t,e,n,r,s){for(var a=[],l=5;l<arguments.length;l++)a[l-5]=arguments[l];return jd(this,void 0,void 0,function(){var h,f,p,g,_,E;return ts(this,function(I){switch(I.label){case 0:I.trys.push([0,12,13,14]),h=Um(a),f=h.next(),I.label=1;case 1:if(f.done)return[3,11];switch(p=f.value,typeof p){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,wL(t,e,p,n,r,s)];case 3:return I.sent(),[3,10];case 4:return[4,jI(p)];case 5:return I.sent(),[3,10];case 6:return[4,p.apply(void 0,Tr([t,e,n,r,s],sr(a),!1))];case 7:return I.sent(),[3,10];case 8:return[4,p];case 9:I.sent(),I.label=10;case 10:return f=h.next(),[3,1];case 11:return[3,14];case 12:return g=I.sent(),_={error:g},[3,14];case 13:try{f&&!f.done&&(E=h.return)&&E.call(h)}finally{if(_)throw _.error}return[7];case 14:return[2]}})})}function wL(t,e,n,r,s,a){return jd(this,void 0,void 0,function(){var l,h;return ts(this,function(f){switch(f.label){case 0:return l=t.textContent||"",h=function(p,g){var _=sr(g).slice(0);return Tr(Tr([],sr(p),!1),[NaN],!1).findIndex(function(E,I){return _[I]!==E})}(l,n),[4,EL(t,Tr(Tr([],sr(SL(l,e,h)),!1),sr(TL(n,e,h)),!1),r,s,a)];case 1:return f.sent(),[2]}})})}function jI(t){return jd(this,void 0,void 0,function(){return ts(this,function(e){switch(e.label){case 0:return[4,new Promise(function(n){return setTimeout(n,t)})];case 1:return e.sent(),[2]}})})}function EL(t,e,n,r,s){return jd(this,void 0,void 0,function(){var a,l,h,f,p,g,_,E,I,k,N,R,F;return ts(this,function(W){switch(W.label){case 0:if(a=e,s){for(l=0,h=1;h<e.length;h++)if(f=sr([e[h-1],e[h]],2),p=f[0],(g=f[1]).length>p.length||g===""){l=h;break}a=e.slice(l,e.length)}W.label=1;case 1:W.trys.push([1,6,7,8]),_=Um(function(q){var X,J,oe,D,x,P,V;return ts(this,function(O){switch(O.label){case 0:X=function(B){return ts(this,function(b){switch(b.label){case 0:return[4,{op:function(Be){return requestAnimationFrame(function(){return Be.textContent=B})},opCode:function(Be){var dt=Be.textContent||"";return B===""||dt.length>B.length?"DELETE":"WRITING"}}];case 1:return b.sent(),[2]}})},O.label=1;case 1:O.trys.push([1,6,7,8]),J=Um(q),oe=J.next(),O.label=2;case 2:return oe.done?[3,5]:(D=oe.value,[5,X(D)]);case 3:O.sent(),O.label=4;case 4:return oe=J.next(),[3,2];case 5:return[3,8];case 6:return x=O.sent(),P={error:x},[3,8];case 7:try{oe&&!oe.done&&(V=J.return)&&V.call(J)}finally{if(P)throw P.error}return[7];case 8:return[2]}})}(a)),E=_.next(),W.label=2;case 2:return E.done?[3,5]:(I=E.value,k=I.opCode(t)==="WRITING"?n+n*(Math.random()-.5):r+r*(Math.random()-.5),I.op(t),[4,jI(k)]);case 3:W.sent(),W.label=4;case 4:return E=_.next(),[3,2];case 5:return[3,8];case 6:return N=W.sent(),R={error:N},[3,8];case 7:try{E&&!E.done&&(F=_.return)&&F.call(_)}finally{if(R)throw R.error}return[7];case 8:return[2]}})})}function TL(t,e,n){var r,s;return n===void 0&&(n=0),ts(this,function(a){switch(a.label){case 0:r=e(t),s=r.length,a.label=1;case 1:return n<s?[4,r.slice(0,++n).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}function SL(t,e,n){var r,s;return n===void 0&&(n=0),ts(this,function(a){switch(a.label){case 0:r=e(t),s=r.length,a.label=1;case 1:return s>n?[4,r.slice(0,--s).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}var IL="index-module_type__E-SaG";(function(t,e){e===void 0&&(e={});var n=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var xL=L.memo(L.forwardRef(function(t,e){var n=t.sequence,r=t.repeat,s=t.className,a=t.speed,l=a===void 0?40:a,h=t.deletionSpeed,f=t.omitDeletionAnimation,p=f!==void 0&&f,g=t.preRenderFirstString,_=g!==void 0&&g,E=t.wrapper,I=E===void 0?"span":E,k=t.splitter,N=k===void 0?function(te){return Tr([],sr(te),!1)}:k,R=t.cursor,F=R===void 0||R,W=t.style,q=function(te,U){var Q={};for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&U.indexOf(le)<0&&(Q[le]=te[le]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function"){var xe=0;for(le=Object.getOwnPropertySymbols(te);xe<le.length;xe++)U.indexOf(le[xe])<0&&Object.prototype.propertyIsEnumerable.call(te,le[xe])&&(Q[le[xe]]=te[le[xe]])}return Q}(t,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),X=q["aria-label"],J=q["aria-hidden"],oe=q.role;h||(h=l);var D=new Array(2).fill(40);[l,h].forEach(function(te,U){switch(typeof te){case"number":D[U]=Math.abs(te-100);break;case"object":var Q=te.type,le=te.value;if(typeof le!="number")break;Q==="keyStrokeDelayInMs"&&(D[U]=le)}});var x,P,V,O,B,b,Be=D[0],dt=D[1],ut=function(te,U){U===void 0&&(U=null);var Q=L.useRef(U);return L.useEffect(function(){te&&(typeof te=="function"?te(Q.current):te.current=Q.current)},[te]),Q}(e),Se=IL;x=s?"".concat(F?Se+" ":"").concat(s):F?Se:"",P=L.useRef(function(){var te,U=n;r===1/0?te=$w:typeof r=="number"&&(U=Array(1+r).fill(n).flat());var Q=te?Tr(Tr([],sr(U),!1),[te],!1):Tr([],sr(U),!1);return $w.apply(void 0,Tr([ut.current,N,Be,dt,p],sr(Q),!1)),function(){ut.current}}),V=L.useRef(),O=L.useRef(!1),B=L.useRef(!1),b=sr(L.useState(0),2)[1],O.current&&(B.current=!0),L.useEffect(function(){return O.current||(V.current=P.current(),O.current=!0),b(function(te){return te+1}),function(){B.current&&V.current&&V.current()}},[]);var ie=I,me=_?n.find(function(te){return typeof te=="string"})||"":null;return Ge.createElement(ie,{"aria-hidden":J,"aria-label":X,role:oe,style:W,className:x,children:X?Ge.createElement("span",{"aria-hidden":"true",ref:ut,children:me}):me,ref:X?void 0:ut})}),function(t,e){return!0}),UI={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hw=Ge.createContext&&Ge.createContext(UI),AL=["attr","size","title"];function PL(t,e){if(t==null)return{};var n=CL(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CL(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function Ww(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ww(Object(n),!0).forEach(function(r){RL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ww(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RL(t,e,n){return e=kL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kL(t){var e=bL(t,"string");return typeof e=="symbol"?e:e+""}function bL(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BI(t){return t&&t.map((e,n)=>Ge.createElement(e.tag,ud({key:n},e.attr),BI(e.child)))}function Tt(t){return e=>Ge.createElement(NL,ld({attr:ud({},t.attr)},e),BI(t.child))}function NL(t){var e=n=>{var{attr:r,size:s,title:a}=t,l=PL(t,AL),h=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),Ge.createElement("svg",ld({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,l,{className:f,style:ud(ud({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ge.createElement("title",null,a),t.children)};return Hw!==void 0?Ge.createElement(Hw.Consumer,null,n=>e(n)):e(UI)}function DL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function VL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function LL(t){return Tt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function ML(t){return Tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function OL(t){return Tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function FL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(t)}function jL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function UL(t){return Tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(t)}function BL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(t)}function zL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function $L(t){return Tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function HL(t){return Tt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(t)}function WL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function qL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function KL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function GL(t){return Tt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function QL(t){return Tt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(t)}function XL(t){return Tt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function YL(t){return Tt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const JL="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",ZL=Ge.memo(()=>{const t={"--grid-color":"rgba(30, 41, 59, 0.05)","--grid-size":"40px",backgroundImage:`
      linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
      linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px)
    `,backgroundSize:"var(--grid-size) var(--grid-size)"};return A.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left bg-background overflow-hidden",style:t,children:A.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center",children:[A.jsxs("div",{className:"md:col-span-3",children:[A.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-text-primary mb-4",children:[A.jsx("span",{className:"block mb-2 text-xl font-medium text-text-secondary",children:"Hello, I'm"}),"Costas Pinto"]}),A.jsx("div",{children:A.jsx(xL,{sequence:["AI Innovator",2e3,"Data Analyst",2e3,"Data Scientist",2e3,"Problem Solver",2e3,"Creative Thinker",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary h-10",repeat:1/0})}),A.jsx("p",{className:"max-w-xl text-text-secondary leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),A.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[A.jsxs(wt.a,{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(16, 185, 129, 0.3)"},whileTap:{scale:.95},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-primary to-secondary text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all",children:[A.jsx(qL,{}),"Download CV"]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(wt.a,{whileHover:{y:-3},href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary hover:text-secondary transition-colors",children:A.jsx(OL,{size:32})}),A.jsx(wt.a,{whileHover:{y:-3},href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-text-secondary hover:text-secondary transition-colors",children:A.jsx(LL,{size:32})})]})]})]}),A.jsx(wt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.2,ease:[0,.71,.2,1.01]},className:"md:col-span-2 flex justify-center items-center",children:A.jsxs("div",{className:"relative w-[300px] h-[300px] md:w-[400px] md:h-[400px]",children:[A.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-primary to-secondary rounded-full blur-2xl opacity-50"}),A.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden shadow-2xl border-2 border-primary/20",children:A.jsx("img",{loading:"lazy",src:JL,onError:e=>{e.target.src="https://placehold.co/400x400/ffffff/1e293b?text=CP"},alt:"Costas Pinto",className:"w-full h-full object-cover"})})]})})]})})}),ps=Ge.memo(({children:t,id:e,className:n=""})=>{const r=L.useRef(null),s=OI(r,{once:!0,amount:.2}),a={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return A.jsx(wt.section,{id:e,ref:r,variants:a,initial:"hidden",animate:s?"visible":"hidden",className:`py-16 md:py-20 ${n}`,children:t})}),ms=Ge.memo(()=>{const t=L.useRef(null),e=OI(t,{once:!0,amount:.5}),n={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return A.jsx("div",{ref:t,className:"h-1 w-24 mx-auto my-8",children:A.jsx(wt.div,{className:"h-full bg-gradient-to-r from-primary to-secondary rounded-full",style:{transformOrigin:"center"},variants:n,initial:"hidden",animate:e?"visible":"hidden"})})}),eM=Ge.memo(()=>A.jsxs(ps,{id:"about",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"About Me"}),A.jsx(ms,{}),A.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-primary/20 hover:-translate-y-1",children:A.jsx("p",{className:"text-lg leading-relaxed text-text-primary/90 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),tM=Ge.memo(({date:t,title:e,company:n,details:r})=>A.jsxs(wt.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-indigo-200",children:[A.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full border-4 border-white"}),A.jsx("p",{className:"text-slate-500 mb-1 font-medium",children:t}),A.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),A.jsx("p",{className:"text-lg text-blue-600 font-semibold mb-3",children:n}),A.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:r.map((s,a)=>A.jsx("li",{children:s},a))})]})),nM=Ge.memo(()=>{const t=[{date:"Aug 2025 - Present",title:"Machine Learning Intern",company:"Unified Mentor (Remote)",details:["Worked on AI-powered solutions and applied advanced ML algorithms to real-world challenges.","Gained hands-on experience with Python, data preprocessing, and model development.","Collaborated with industry professionals and received mentorship on best practices in AI/ML."]},{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return A.jsxs(ps,{id:"experience",children:[A.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Experience"}),A.jsx(ms,{}),A.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:t.map((e,n)=>A.jsx(tM,{...e},n))})]})}),rM=Ge.memo(()=>{const[t,e]=L.useState("Programming Languages"),n=h=>{e(f=>f===h?null:h)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},s={"Programming Languages":A.jsx(HL,{className:"mr-3 text-primary"}),"Data Science & Analytics":A.jsx(BL,{className:"mr-3 text-primary"}),"Web & App Development":A.jsx(FL,{className:"mr-3 text-secondary"}),"AI & Generative AI":A.jsx(UL,{className:"mr-3 text-primary"}),"Tools & Workflow":A.jsx(XL,{className:"mr-3 text-text-secondary"})},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},l={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return A.jsxs(ps,{id:"skills",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"My Skills"}),A.jsx(ms,{}),A.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-primary/20 hover:-translate-y-1",children:A.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([h,f])=>A.jsxs("div",{className:"border-b border-primary/20 last:border-b-0",children:[A.jsxs("button",{onClick:()=>n(h),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-text-primary focus:outline-none",children:[A.jsxs("span",{className:"flex items-center",children:[s[h],h]}),A.jsx(wt.span,{animate:{rotate:t===h?180:0},children:A.jsx($L,{className:"w-5 h-5 transition-colors duration-300 text-text-secondary"})})]}),A.jsx(Gg,{children:t===h&&A.jsx(wt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:A.jsx(wt.div,{variants:a,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:f.map(p=>A.jsxs(wt.div,{variants:l,children:[A.jsx("p",{className:"text-lg font-medium text-text-secondary mb-1",children:p.name}),A.jsx("div",{className:"bg-primary/10 w-full rounded-full h-2.5",children:A.jsx(wt.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-primary to-secondary",initial:{width:0},animate:{width:`${p.level}%`},transition:{duration:1,ease:"easeOut"}})})]},p.name))})})})]},h))})})]})}),iM=Ge.memo(()=>A.jsxs(ps,{id:"achievements",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"Key Achievements"}),A.jsx(ms,{}),A.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-primary/20 hover:-translate-y-1",children:A.jsx("ul",{className:"space-y-4 text-lg text-text-primary/90",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong>  empowering students through digital education."}].map(t=>A.jsxs("li",{className:"flex items-start",children:[A.jsx("span",{className:"text-primary mr-3 mt-1 font-bold",children:""}),A.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}})]},t.id))})})]})),sM=Ge.memo(({year:t,title:e,details:n,icon:r})=>A.jsxs(wt.div,{className:"relative pl-12 py-4 border-l-2 border-primary/20",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[A.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-background rounded-full border-4 border-primary/20 flex items-center justify-center shadow-md",children:r}),A.jsx("p",{className:"text-secondary mb-1 font-semibold",children:t}),A.jsx("h3",{className:"text-2xl font-bold text-text-primary",children:e}),A.jsx("p",{className:"text-text-secondary mt-1",children:n})]})),oM=Ge.memo(()=>{const t=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:A.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:A.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:A.jsx("svg",{className:"w-6 h-6 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return A.jsxs(ps,{id:"journey",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"My Learning Journey"}),A.jsx(ms,{}),A.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-primary/20 hover:-translate-y-1",children:A.jsx("div",{className:"space-y-12",children:t.map(e=>A.jsx(sM,{...e},e.title))})})]})}),aM=L.memo(({mediaUrl:t,title:e})=>{if(!t)return A.jsx("img",{loading:"lazy",src:"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:e,className:"rounded-lg mb-4 aspect-video object-cover border border-primary/10"});const n=[".mp4",".webm",".mov"].some(s=>t.toLowerCase().includes(s)),r=t.toLowerCase().includes(".pdf");return n?A.jsx("video",{src:t,controls:!0,className:"rounded-lg mb-4 aspect-video object-cover border border-primary/10 w-full",children:"Your browser does not support the video tag."}):r?A.jsxs("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"rounded-lg mb-4 aspect-video object-cover border border-primary/10 w-full flex flex-col items-center justify-center bg-slate-100 hover:bg-slate-200 transition-colors",children:[A.jsx(QL,{className:"text-6xl text-red-500"}),A.jsx("span",{className:"mt-2 font-semibold text-text-secondary",children:"View PDF"})]}):A.jsx("img",{loading:"lazy",src:t,alt:e,className:"rounded-lg mb-4 aspect-video object-cover border border-primary/10"})}),lM=L.memo(({projects:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return A.jsxs(ps,{id:"projects",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"My Projects"}),A.jsx(ms,{}),A.jsx("div",{className:"min-h-[60vh] w-full",children:t.length>0?A.jsx(wt.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>A.jsxs(wt.div,{variants:n,className:"p-6 flex flex-col rounded-2xl bg-white shadow-lg border border-primary/10 md:bg-white/20 md:backdrop-blur-lg md:border-white/30 transition-all duration-300 md:hover:shadow-2xl md:hover:shadow-primary/20 md:hover:-translate-y-1 overflow-hidden",children:[A.jsx(aM,{mediaUrl:r.mediaUrl,title:r.title}),A.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:r.title}),A.jsx("p",{className:"text-text-secondary flex-grow mb-4",children:r.description}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags?.map(s=>A.jsx("span",{className:"bg-primary/10 text-primary text-xs font-medium px-2.5 py-1 rounded-full",children:s},s))}),r.link&&A.jsx("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-secondary border border-secondary rounded-full py-2 px-4 hover:bg-secondary hover:text-white transition-all duration-300 z-10",children:"View Project"})]},r.id))}):A.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:A.jsx("p",{className:"text-center text-text-secondary text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),uM=({url:t,onClose:e})=>A.jsx(Gg,{children:t&&A.jsx(wt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:A.jsxs(wt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:n=>n.stopPropagation(),className:"bg-background rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[A.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-primary/10",children:[A.jsx("h3",{className:"font-bold text-lg text-text-primary",children:"Certificate Viewer"}),A.jsx("button",{onClick:e,className:"text-text-secondary hover:text-secondary transition-colors p-1 rounded-full hover:bg-secondary/10","aria-label":"Close",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{className:"flex-grow p-2 bg-background-alt",children:A.jsx("iframe",{src:t,title:"Certificate PDF Viewer",className:"w-full h-full border-none"})})]})})}),cM=Ge.memo(({licensesPdfUrl:t,internshipsPdfUrl:e})=>{const[n,r]=L.useState(null),s="inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-primary/30 bg-gradient-to-r from-primary to-secondary transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return A.jsxs(A.Fragment,{children:[A.jsxs(ps,{id:"certifications",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"Certificates"}),A.jsx(ms,{}),A.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[A.jsx(wt.button,{onClick:()=>r(t),disabled:!t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Licenses & Certs"}),A.jsx(wt.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Internship Certs"})]})]}),A.jsx(uM,{url:n,onClose:()=>r(null)})]})});function hM(t){return Tt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(t)}const dM=Ge.memo(()=>{const[t,e]=L.useState({submitting:!1,succeeded:!1,error:null}),[n,r]=L.useState(null),s=L.useCallback(async h=>{h.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const f=h.target,p=new FormData(f);try{const g=await fetch(f.action,{method:f.method,body:p,headers:{Accept:"application/json"}});if(g.ok)e({submitting:!1,succeeded:!0,error:null}),f.reset(),setTimeout(()=>e(_=>({..._,succeeded:!1})),5e3);else{const E=(await g.json()).errors?.map(I=>I.message).join(", ")||"An unknown error occurred.";throw new Error(E)}}catch(g){e({submitting:!1,succeeded:!1,error:g.message}),setTimeout(()=>e(_=>({..._,error:null})),5e3)}},[]),a=L.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{r("Email copied to clipboard!"),setTimeout(()=>r(null),3e3)}).catch(f=>{console.error("Clipboard copy failed:",f),r("Could not copy email."),setTimeout(()=>r(null),3e3)})},[]),l=[{name:"Instagram",icon:A.jsx(ML,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:A.jsx(DL,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:A.jsx(jL,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:A.jsx(VL,{}),url:"https://facebook.com/costaspinto"}];return A.jsxs(ps,{id:"contact",className:"bg-background-alt text-text-primary font-sans !py-0",children:[A.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[A.jsx("h2",{className:"text-4xl font-bold text-text-primary text-center",children:"Lets Get Connected!"}),A.jsx(ms,{}),A.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[A.jsxs("div",{className:"flex-1 space-y-10",children:[A.jsx("p",{className:"text-lg text-text-secondary max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),A.jsxs("div",{children:[A.jsx("p",{className:"text-lg font-semibold text-text-primary mb-4",children:"Follow Me"}),A.jsx("div",{className:"flex items-center gap-4",children:l.map(h=>A.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer","aria-label":h.name,className:"text-text-secondary hover:text-secondary transition-colors duration-300 text-2xl",children:h.icon},h.name))})]})]}),A.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-white/30",children:A.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:s,className:"space-y-6",children:[A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block font-medium mb-1 text-text-secondary",children:"Your Name *"}),A.jsx(YL,{className:"absolute left-3 top-10 text-text-secondary/50"}),A.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block font-medium mb-1 text-text-secondary",children:"Your Email *"}),A.jsx(KL,{className:"absolute left-3 top-10 text-text-secondary/50"}),A.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block font-medium mb-1 text-text-secondary",children:"Service you are looking for *"}),A.jsx(WL,{className:"absolute left-3 top-10 text-text-secondary/50"}),A.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-medium mb-1 text-text-secondary",children:"Your Message"}),A.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary"})]}),A.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-primary to-secondary text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.submitting,children:t.submitting?"Submitting...":"Submit"}),t.succeeded&&A.jsxs("p",{className:"flex items-center gap-2 text-primary text-sm mt-2",children:[A.jsx(zL,{})," Thanks for your message! I'll get back to you soon."]}),t.error&&A.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[A.jsx(GL,{})," Error: ",t.error]})]})})]})]}),A.jsx("footer",{className:"bg-text-primary text-slate-300 py-12 mt-20",children:A.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"I'm Available for Freelance Projects"}),A.jsx("p",{className:"text-slate-400",children:"Feel free to initiate a project and lets explore how we can collaborate."})]}),A.jsxs("div",{className:"flex gap-4 relative",children:[A.jsxs("button",{onClick:a,className:"flex items-center gap-2 border border-secondary text-secondary font-semibold py-2 px-4 rounded-xl hover:bg-secondary hover:text-white transition-colors",children:[A.jsx(hM,{})," COPY EMAIL"]}),n&&A.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-primary",children:n})]})]}),A.jsxs("div",{className:"border-t border-slate-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-slate-400",children:[A.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),A.jsxs("nav",{className:"flex gap-6",children:[A.jsx("a",{href:"#home",className:"hover:text-secondary transition",children:"Home"}),A.jsx("a",{href:"#about",className:"hover:text-secondary transition",children:"About"})]}),A.jsx("div",{className:"flex items-center gap-4",children:l.map(h=>A.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-secondary transition text-lg",children:h.icon},h.name))})]}),A.jsxs("p",{className:"text-center text-xs text-slate-500 pt-4",children:[" ",new Date().getFullYear()," Costas Pinto."]})]})})]})}),fM=L.lazy(()=>rA(()=>import("./AdminPanel-kzCg5279.js"),[])),pM=()=>{const t=rE();return L.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const n=e.replace(/^\/Costas_Portfolio/,"");t(n||"/",{replace:!0})}},[t]),null},qw={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},mM=(t=768)=>{const[e,n]=L.useState(()=>window.innerWidth<t);return L.useEffect(()=>{const r=()=>n(window.innerWidth<t);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e},gM=t=>{const[e,n]=L.useState(!1),r=L.useCallback(()=>n(!1),[]),s=L.useCallback(()=>n(a=>!a),[]);return A.jsxs(A.Fragment,{children:[A.jsx(_L,{isMobileMenuOpen:e,closeMobileMenu:r,toggleMobileMenu:s}),A.jsxs("main",{className:"relative z-10",children:[A.jsx(ZL,{}),A.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[A.jsx(eM,{}),A.jsx(nM,{}),A.jsx(rM,{}),A.jsx(iM,{}),A.jsx(oM,{}),A.jsx(lM,{projects:t.projects,isMobile:t.isMobile}),A.jsx(cM,{...t})]})]}),A.jsx(dM,{})]})};function yM(){const[t,e]=L.useState({projects:[]}),[n,r]=L.useState(null),[s,a]=L.useState(!0),[l,h]=L.useState(null),f=mM(),p=L.useCallback(async g=>{try{const E=(await E3(a3(g,"projects"))).docs.map(R=>({id:R.id,...R.data()})),I=KT(g,"portfolioAssets","main"),k=await w3(I),N=k.exists()?k.data():{};e({projects:E,licensesPdfUrl:N.licensesPdfUrl||"",internshipsPdfUrl:N.internshipsPdfUrl||""})}catch(_){console.error(" Firebase fetch error:",_),h("Failed to load portfolio data. Please check your Firestore rules and collection names.")}},[]);return L.useEffect(()=>{(async()=>{try{if(Object.values(qw).some(N=>!N))throw new Error("One or more Firebase environment variables are missing. Please check your .env file.");const _=t0().length>0?t0()[0]:TE(qw),E=l3(_),I=N6(_),k=zN(_);r({db:E,auth:I,storage:k}),await p(E)}catch(_){console.error(" Firebase initialization or data fetch failed:",_),h(`Failed to connect to services. Error: ${_.message}`)}finally{a(!1)}})()},[p]),s?A.jsx(zw,{}):l?A.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:A.jsxs("div",{className:"text-center bg-red-100/50 border border-red-500 p-8 rounded-lg max-w-lg",children:[A.jsx("h2",{className:"text-2xl font-bold text-red-700 mb-4",children:"Application Error"}),A.jsx("p",{className:"text-slate-700",children:l})]})}):A.jsxs(ZN,{features:pL,children:[A.jsx(yL,{}),A.jsx("div",{className:"relative text-slate-800 font-sans overflow-x-hidden",children:A.jsx(FI,{children:A.jsxs(gP,{basename:"/Costas_Portfolio/",children:[A.jsx(pM,{}),A.jsx(L.Suspense,{fallback:A.jsx(zw,{}),children:A.jsxs(KA,{children:[A.jsx(Xp,{path:"/",element:A.jsx(gM,{projects:t.projects,licensesPdfUrl:t.licensesPdfUrl,internshipsPdfUrl:t.internshipsPdfUrl,isMobile:f})}),A.jsx(Xp,{path:"/admin",element:n&&A.jsx(fM,{...n})})]})})]})})})]})}const vM=document.getElementById("root");eA.createRoot(vM).render(A.jsx(Ge.StrictMode,{children:A.jsx(FI,{children:A.jsx(yM,{})})}));export{Gg as A,zw as L,w3 as a,AM as b,a3 as c,KT as d,RM as e,CM as f,E3 as g,TM as h,SM as i,A as j,EM as k,wM as l,wt as m,xM as o,L as r,IM as s,PM as u};
