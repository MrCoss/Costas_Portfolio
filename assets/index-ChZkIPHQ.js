(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function RE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var np={exports:{}},kl={},rp={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function SP(){if(v0)return Re;v0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function k(U,X,ge){this.props=U,this.context=X,this.refs=D,this.updater=ge||A}k.prototype.isReactComponent={},k.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function O(){}O.prototype=k.prototype;function q(U,X,ge){this.props=U,this.context=X,this.refs=D,this.updater=ge||A}var K=q.prototype=new O;K.constructor=q,b(K,k.prototype),K.isPureReactComponent=!0;var Z=Array.isArray,te=Object.prototype.hasOwnProperty,oe={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(U,X,ge){var xe,Ce={},Ve=null,je=null;if(X!=null)for(xe in X.ref!==void 0&&(je=X.ref),X.key!==void 0&&(Ve=""+X.key),X)te.call(X,xe)&&!N.hasOwnProperty(xe)&&(Ce[xe]=X[xe]);var Ue=arguments.length-2;if(Ue===1)Ce.children=ge;else if(1<Ue){for(var He=Array(Ue),Pt=0;Pt<Ue;Pt++)He[Pt]=arguments[Pt+2];Ce.children=He}if(U&&U.defaultProps)for(xe in Ue=U.defaultProps,Ue)Ce[xe]===void 0&&(Ce[xe]=Ue[xe]);return{$$typeof:t,type:U,key:Ve,ref:je,props:Ce,_owner:oe.current}}function x(U,X){return{$$typeof:t,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function j(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ge){return X[ge]})}var B=/\/+/g;function R(U,X){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):X.toString(36)}function Je(U,X,ge,xe,Ce){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(Ve){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0}}if(je)return je=U,Ce=Ce(je),U=xe===""?"."+R(je,0):xe,Z(Ce)?(ge="",U!=null&&(ge=U.replace(B,"$&/")+"/"),Je(Ce,X,ge,"",function(Pt){return Pt})):Ce!=null&&(V(Ce)&&(Ce=x(Ce,ge+(!Ce.key||je&&je.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+U)),X.push(Ce)),1;if(je=0,xe=xe===""?".":xe+":",Z(U))for(var Ue=0;Ue<U.length;Ue++){Ve=U[Ue];var He=xe+R(Ve,Ue);je+=Je(Ve,X,ge,He,Ce)}else if(He=E(U),typeof He=="function")for(U=He.call(U),Ue=0;!(Ve=U.next()).done;)Ve=Ve.value,He=xe+R(Ve,Ue++),je+=Je(Ve,X,ge,He,Ce);else if(Ve==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return je}function Vt(U,X,ge){if(U==null)return U;var xe=[],Ce=0;return Je(U,xe,"","",function(Ve){return X.call(ge,Ve,Ce++)}),xe}function Lt(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(ge){(U._status===0||U._status===-1)&&(U._status=1,U._result=ge)},function(ge){(U._status===0||U._status===-1)&&(U._status=2,U._result=ge)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var Ae={current:null},ie={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ie,ReactCurrentOwner:oe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Vt,forEach:function(U,X,ge){Vt(U,function(){X.apply(this,arguments)},ge)},count:function(U){var X=0;return Vt(U,function(){X++}),X},toArray:function(U){return Vt(U,function(X){return X})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=k,Re.Fragment=n,Re.Profiler=s,Re.PureComponent=q,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=ae,Re.cloneElement=function(U,X,ge){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var xe=b({},U.props),Ce=U.key,Ve=U.ref,je=U._owner;if(X!=null){if(X.ref!==void 0&&(Ve=X.ref,je=oe.current),X.key!==void 0&&(Ce=""+X.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(He in X)te.call(X,He)&&!N.hasOwnProperty(He)&&(xe[He]=X[He]===void 0&&Ue!==void 0?Ue[He]:X[He])}var He=arguments.length-2;if(He===1)xe.children=ge;else if(1<He){Ue=Array(He);for(var Pt=0;Pt<He;Pt++)Ue[Pt]=arguments[Pt+2];xe.children=Ue}return{$$typeof:t,type:U.type,key:Ce,ref:Ve,props:xe,_owner:je}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Re.createElement=I,Re.createFactory=function(U){var X=I.bind(null,U);return X.type=U,X},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:h,render:U}},Re.isValidElement=V,Re.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:Lt}},Re.memo=function(U,X){return{$$typeof:p,type:U,compare:X===void 0?null:X}},Re.startTransition=function(U){var X=ie.transition;ie.transition={};try{U()}finally{ie.transition=X}},Re.unstable_act=ae,Re.useCallback=function(U,X){return Ae.current.useCallback(U,X)},Re.useContext=function(U){return Ae.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return Ae.current.useDeferredValue(U)},Re.useEffect=function(U,X){return Ae.current.useEffect(U,X)},Re.useId=function(){return Ae.current.useId()},Re.useImperativeHandle=function(U,X,ge){return Ae.current.useImperativeHandle(U,X,ge)},Re.useInsertionEffect=function(U,X){return Ae.current.useInsertionEffect(U,X)},Re.useLayoutEffect=function(U,X){return Ae.current.useLayoutEffect(U,X)},Re.useMemo=function(U,X){return Ae.current.useMemo(U,X)},Re.useReducer=function(U,X,ge){return Ae.current.useReducer(U,X,ge)},Re.useRef=function(U){return Ae.current.useRef(U)},Re.useState=function(U){return Ae.current.useState(U)},Re.useSyncExternalStore=function(U,X,ge){return Ae.current.useSyncExternalStore(U,X,ge)},Re.useTransition=function(){return Ae.current.useTransition()},Re.version="18.3.1",Re}var _0;function Cm(){return _0||(_0=1,rp.exports=SP()),rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function IP(){if(w0)return kl;w0=1;var t=Cm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,_={},E=null,A=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(A=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(_[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)_[v]===void 0&&(_[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:A,props:_,_owner:s.current}}return kl.Fragment=n,kl.jsx=u,kl.jsxs=u,kl}var E0;function AP(){return E0||(E0=1,np.exports=IP()),np.exports}var P=AP(),M=Cm();const tt=RE(M);var Xc={},ip={exports:{}},pn={},sp={exports:{}},op={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function PP(){return T0||(T0=1,function(t){function e(ie,me){var ae=ie.length;ie.push(me);e:for(;0<ae;){var U=ae-1>>>1,X=ie[U];if(0<s(X,me))ie[U]=me,ie[ae]=X,ae=U;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var me=ie[0],ae=ie.pop();if(ae!==me){ie[0]=ae;e:for(var U=0,X=ie.length,ge=X>>>1;U<ge;){var xe=2*(U+1)-1,Ce=ie[xe],Ve=xe+1,je=ie[Ve];if(0>s(Ce,ae))Ve<X&&0>s(je,Ce)?(ie[U]=je,ie[Ve]=ae,U=Ve):(ie[U]=Ce,ie[xe]=ae,U=xe);else if(Ve<X&&0>s(je,ae))ie[U]=je,ie[Ve]=ae,U=Ve;else break e}}return me}function s(ie,me){var ae=ie.sortIndex-me.sortIndex;return ae!==0?ae:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,_=null,E=3,A=!1,b=!1,D=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ie){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ie)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=n(p)}}function Z(ie){if(D=!1,K(ie),!b)if(n(f)!==null)b=!0,Lt(te);else{var me=n(p);me!==null&&Ae(Z,me.startTime-ie)}}function te(ie,me){b=!1,D&&(D=!1,O(I),I=-1),A=!0;var ae=E;try{for(K(me),_=n(f);_!==null&&(!(_.expirationTime>me)||ie&&!j());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var X=U(_.expirationTime<=me);me=t.unstable_now(),typeof X=="function"?_.callback=X:_===n(f)&&r(f),K(me)}else r(f);_=n(f)}if(_!==null)var ge=!0;else{var xe=n(p);xe!==null&&Ae(Z,xe.startTime-me),ge=!1}return ge}finally{_=null,E=ae,A=!1}}var oe=!1,N=null,I=-1,x=5,V=-1;function j(){return!(t.unstable_now()-V<x)}function B(){if(N!==null){var ie=t.unstable_now();V=ie;var me=!0;try{me=N(!0,ie)}finally{me?R():(oe=!1,N=null)}}else oe=!1}var R;if(typeof q=="function")R=function(){q(B)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,Vt=Je.port2;Je.port1.onmessage=B,R=function(){Vt.postMessage(null)}}else R=function(){k(B,0)};function Lt(ie){N=ie,oe||(oe=!0,R())}function Ae(ie,me){I=k(function(){ie(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){b||A||(b=!0,Lt(te))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ae=E;E=me;try{return ie()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ae=E;E=ie;try{return me()}finally{E=ae}},t.unstable_scheduleCallback=function(ie,me,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,ie){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ae+X,ie={id:v++,callback:me,priorityLevel:ie,startTime:ae,expirationTime:X,sortIndex:-1},ae>U?(ie.sortIndex=ae,e(p,ie),n(f)===null&&ie===n(p)&&(D?(O(I),I=-1):D=!0,Ae(Z,ae-U))):(ie.sortIndex=X,e(f,ie),b||A||(b=!0,Lt(te))),ie},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ie){var me=E;return function(){var ae=E;E=me;try{return ie.apply(this,arguments)}finally{E=ae}}}}(op)),op}var S0;function xP(){return S0||(S0=1,sp.exports=PP()),sp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function CP(){if(I0)return pn;I0=1;var t=Cm(),e=xP();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function E(i){return f.call(_,i)?!0:f.call(v,i)?!1:p.test(i)?_[i]=!0:(v[i]=!0,!1)}function A(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,l,d){if(o===null||typeof o>"u"||A(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function D(i,o,l,d,m,y,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new D(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new D(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new D(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new D(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new D(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new D(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new D(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new D(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new D(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,q);k[o]=new D(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,q);k[o]=new D(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,q);k[o]=new D(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new D(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new D(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,o,l,d){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),oe=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),j=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Je=Symbol.for("react.suspense_list"),Vt=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,U;function X(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var ge=!1;function xe(i,o){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var d=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){d=W}i.call(o.prototype)}else{try{throw Error()}catch(W){d=W}i()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),y=d.stack.split(`
`),T=m.length-1,C=y.length-1;1<=T&&0<=C&&m[T]!==y[C];)C--;for(;1<=T&&0<=C;T--,C--)if(m[T]!==y[C]){if(T!==1||C!==1)do if(T--,C--,0>C||m[T]!==y[C]){var L=`
`+m[T].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=T&&0<=C);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ce(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case oe:return"Portal";case x:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Je:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case j:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Vt:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case Lt:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Pt(i){var o=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Lr(i){i._valueTracker||(i._valueTracker=Pt(i))}function lo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=He(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function di(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function cs(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function uo(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ma(i,o){o=o.checked,o!=null&&K(i,"checked",o,!1)}function Oa(i,o){Ma(i,o);var l=Ue(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?co(i,o.type,l):o.hasOwnProperty("defaultValue")&&co(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Lu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function co(i,o,l){(o!=="number"||di(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Mr=Array.isArray;function Or(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Fa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ho(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Mr(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ue(l)}}function fo(i,o){var l=Ue(o.value),d=Ue(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function ja(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function _t(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?_t(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Fr,Ua=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Fr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function fi(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(i){ds.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),hs[o]=hs[i]})});function Ba(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||hs.hasOwnProperty(i)&&hs[i]?(""+o).trim():o+"px"}function za(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Ba(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var $a=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ha(i,o){if(o){if($a[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Wa(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function po(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var mo=null,xn=null,ar=null;function go(i){if(i=ml(i)){if(typeof mo!="function")throw Error(n(280));var o=i.stateNode;o&&(o=hc(o),mo(i.stateNode,i.type,o))}}function lr(i){xn?ar?ar.push(i):ar=[i]:xn=i}function qa(){if(xn){var i=xn,o=ar;if(ar=xn=null,go(i),o)for(i=0;i<o.length;i++)go(o[i])}}function ps(i,o){return i(o)}function Ka(){}var jr=!1;function Ga(i,o,l){if(jr)return i(o,l);jr=!0;try{return ps(i,o,l)}finally{jr=!1,(xn!==null||ar!==null)&&(Ka(),qa())}}function ht(i,o){var l=i.stateNode;if(l===null)return null;var d=hc(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var yo=!1;if(h)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){yo=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{yo=!1}function ms(i,o,l,d,m,y,T,C,L){var W=Array.prototype.slice.call(arguments,3);try{o.apply(l,W)}catch(ee){this.onError(ee)}}var gs=!1,vo=null,$n=!1,Qa=null,Rd={onError:function(i){gs=!0,vo=i}};function _o(i,o,l,d,m,y,T,C,L){gs=!1,vo=null,ms.apply(Rd,arguments)}function Mu(i,o,l,d,m,y,T,C,L){if(_o.apply(this,arguments),gs){if(gs){var W=vo;gs=!1,vo=null}else throw Error(n(198));$n||($n=!0,Qa=W)}}function Hn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ys(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Wn(i){if(Hn(i)!==i)throw Error(n(188))}function Ou(i){var o=i.alternate;if(!o){if(o=Hn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Wn(m),i;if(y===d)return Wn(m),o;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=m,d=y;else{for(var T=!1,C=m.child;C;){if(C===l){T=!0,l=m,d=y;break}if(C===d){T=!0,d=m,l=y;break}C=C.sibling}if(!T){for(C=y.child;C;){if(C===l){T=!0,l=y,d=m;break}if(C===d){T=!0,d=y,l=m;break}C=C.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:o}function Xa(i){return i=Ou(i),i!==null?wo(i):null}function wo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=wo(i);if(o!==null)return o;i=i.sibling}return null}var Eo=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,Fu=e.unstable_shouldYield,kd=e.unstable_requestPaint,We=e.unstable_now,ju=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,pi=e.unstable_UserBlockingPriority,Cn=e.unstable_NormalPriority,Ja=e.unstable_LowPriority,Uu=e.unstable_IdlePriority,_s=null,gn=null;function Bu(i){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(_s,i,void 0,(i.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:$u,Za=Math.log,zu=Math.LN2;function $u(i){return i>>>=0,i===0?32:31-(Za(i)/zu|0)|0}var To=64,So=4194304;function mi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ws(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,T=l&268435455;if(T!==0){var C=T&~m;C!==0?d=mi(C):(y&=T,y!==0&&(d=mi(y)))}else T=l&~m,T!==0?d=mi(T):y!==0&&(d=mi(y));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-tn(o),m=1<<l,d|=i[l],o&=~m;return d}function bd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var T=31-tn(y),C=1<<T,L=m[T];L===-1?((C&l)===0||(C&d)!==0)&&(m[T]=bd(C,o)):L<=o&&(i.expiredLanes|=C),y&=~C}}function yn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Es(){var i=To;return To<<=1,(To&4194240)===0&&(To=64),i}function gi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function yi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-tn(o),i[o]=l}function $e(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-tn(l),y=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~y}}function vi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-tn(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var De=0;function _i(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Hu,Io,Wu,qu,Ku,el=!1,ur=[],Mt=null,qn=null,Kn=null,wi=new Map,Rn=new Map,cr=[],Nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(i,o){switch(i){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":wi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rn.delete(o.pointerId)}}function an(i,o,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},o!==null&&(o=ml(o),o!==null&&Io(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Dd(i,o,l,d,m){switch(o){case"focusin":return Mt=an(Mt,i,o,l,d,m),!0;case"dragenter":return qn=an(qn,i,o,l,d,m),!0;case"mouseover":return Kn=an(Kn,i,o,l,d,m),!0;case"pointerover":var y=m.pointerId;return wi.set(y,an(wi.get(y)||null,i,o,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Rn.set(y,an(Rn.get(y)||null,i,o,l,d,m)),!0}return!1}function Qu(i){var o=Ps(i.target);if(o!==null){var l=Hn(o);if(l!==null){if(o=l.tag,o===13){if(o=ys(l),o!==null){i.blockedOn=o,Ku(i.priority,function(){Wu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=Ao(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);fs=d,l.target.dispatchEvent(d),fs=null}else return o=ml(l),o!==null&&Io(o),i.blockedOn=l,!1;o.shift()}return!0}function Ts(i,o,l){Br(i)&&l.delete(o)}function Xu(){el=!1,Mt!==null&&Br(Mt)&&(Mt=null),qn!==null&&Br(qn)&&(qn=null),Kn!==null&&Br(Kn)&&(Kn=null),wi.forEach(Ts),Rn.forEach(Ts)}function Gn(i,o){i.blockedOn===o&&(i.blockedOn=null,el||(el=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xu)))}function Qn(i){function o(m){return Gn(m,i)}if(0<ur.length){Gn(ur[0],i);for(var l=1;l<ur.length;l++){var d=ur[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Mt!==null&&Gn(Mt,i),qn!==null&&Gn(qn,i),Kn!==null&&Gn(Kn,i),wi.forEach(o),Rn.forEach(o),l=0;l<cr.length;l++)d=cr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)Qu(l),l.blockedOn===null&&cr.shift()}var zr=Z.ReactCurrentBatchConfig,Ei=!0;function Ze(i,o,l,d){var m=De,y=zr.transition;zr.transition=null;try{De=1,tl(i,o,l,d)}finally{De=m,zr.transition=y}}function Vd(i,o,l,d){var m=De,y=zr.transition;zr.transition=null;try{De=4,tl(i,o,l,d)}finally{De=m,zr.transition=y}}function tl(i,o,l,d){if(Ei){var m=Ao(i,o,l,d);if(m===null)Wd(i,o,d,Ss,l),Gu(i,d);else if(Dd(m,i,o,l,d))d.stopPropagation();else if(Gu(i,d),o&4&&-1<Nd.indexOf(i)){for(;m!==null;){var y=ml(m);if(y!==null&&Hu(y),y=Ao(i,o,l,d),y===null&&Wd(i,o,d,Ss,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Wd(i,o,d,null,l)}}var Ss=null;function Ao(i,o,l,d){if(Ss=null,i=po(d),i=Ps(i),i!==null)if(o=Hn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ys(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ss=i,null}function nl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ju()){case vs:return 1;case pi:return 4;case Cn:case Ja:return 16;case Uu:return 536870912;default:return 16}default:return 16}}var vn=null,Po=null,ln=null;function rl(){if(ln)return ln;var i,o=Po,l=o.length,d,m="value"in vn?vn.value:vn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[y-d];d++);return ln=m.slice(i,1<d?1-d:void 0)}function xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function hr(){return!0}function il(){return!1}function Ot(i){function o(l,d,m,y,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?hr:il,this.isPropagationStopped=il,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),o}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Ot(Xn),dr=ae({},Xn,{view:0,detail:0}),Ld=Ot(dr),Ro,$r,Ti,Is=ae({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ti&&(Ti&&i.type==="mousemove"?(Ro=i.screenX-Ti.screenX,$r=i.screenY-Ti.screenY):$r=Ro=0,Ti=i),Ro)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),ko=Ot(Is),sl=ae({},Is,{dataTransfer:0}),Yu=Ot(sl),bo=ae({},dr,{relatedTarget:0}),No=Ot(bo),Ju=ae({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Ot(Ju),Zu=ae({},Xn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ec=Ot(Zu),tc=ae({},Xn,{data:0}),ol=Ot(tc),Do={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=nc[i])?!!o[i]:!1}function fr(){return rc}var c=ae({},dr,{key:function(i){if(i.key){var o=Do[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?nn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(i){return i.type==="keypress"?xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=Ot(c),w=ae({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Ot(w),z=ae({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),G=Ot(z),se=ae({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Ot(se),Et=ae({},Is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Ot(Et),xt=[9,13,27,32],mt=h&&"CompositionEvent"in window,kn=null;h&&"documentMode"in document&&(kn=document.documentMode);var _n=h&&"TextEvent"in window&&!kn,As=h&&(!mt||kn&&8<kn&&11>=kn),Vo=" ",dy=!1;function fy(i,o){switch(i){case"keyup":return xt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function py(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Lo=!1;function wA(i,o){switch(i){case"compositionend":return py(o);case"keypress":return o.which!==32?null:(dy=!0,Vo);case"textInput":return i=o.data,i===Vo&&dy?null:i;default:return null}}function EA(i,o){if(Lo)return i==="compositionend"||!mt&&fy(i,o)?(i=rl(),ln=Po=vn=null,Lo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return As&&o.locale!=="ko"?null:o.data;default:return null}}var TA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!TA[i.type]:o==="textarea"}function gy(i,o,l,d){lr(d),o=lc(o,"onChange"),0<o.length&&(l=new Co("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var al=null,ll=null;function SA(i){Vy(i,0)}function ic(i){var o=Uo(i);if(lo(o))return i}function IA(i,o){if(i==="change")return o}var yy=!1;if(h){var Md;if(h){var Od="oninput"in document;if(!Od){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),Od=typeof vy.oninput=="function"}Md=Od}else Md=!1;yy=Md&&(!document.documentMode||9<document.documentMode)}function _y(){al&&(al.detachEvent("onpropertychange",wy),ll=al=null)}function wy(i){if(i.propertyName==="value"&&ic(ll)){var o=[];gy(o,ll,i,po(i)),Ga(SA,o)}}function AA(i,o,l){i==="focusin"?(_y(),al=o,ll=l,al.attachEvent("onpropertychange",wy)):i==="focusout"&&_y()}function PA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ic(ll)}function xA(i,o){if(i==="click")return ic(o)}function CA(i,o){if(i==="input"||i==="change")return ic(o)}function RA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Yn=typeof Object.is=="function"?Object.is:RA;function ul(i,o){if(Yn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Yn(i[m],o[m]))return!1}return!0}function Ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ty(i,o){var l=Ey(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ey(l)}}function Sy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Sy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Iy(){for(var i=window,o=di();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=di(i.document)}return o}function Fd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function kA(i){var o=Iy(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Sy(l.ownerDocument.documentElement,l)){if(d!==null&&Fd(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=Ty(l,y);var T=Ty(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var bA=h&&"documentMode"in document&&11>=document.documentMode,Mo=null,jd=null,cl=null,Ud=!1;function Ay(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ud||Mo==null||Mo!==di(d)||(d=Mo,"selectionStart"in d&&Fd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),cl&&ul(cl,d)||(cl=d,d=lc(jd,"onSelect"),0<d.length&&(o=new Co("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Mo)))}function sc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Oo={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Bd={},Py={};h&&(Py=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function oc(i){if(Bd[i])return Bd[i];if(!Oo[i])return i;var o=Oo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Py)return Bd[i]=o[l];return i}var xy=oc("animationend"),Cy=oc("animationiteration"),Ry=oc("animationstart"),ky=oc("transitionend"),by=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(i,o){by.set(i,o),a(o,[i])}for(var zd=0;zd<Ny.length;zd++){var $d=Ny[zd],NA=$d.toLowerCase(),DA=$d[0].toUpperCase()+$d.slice(1);Si(NA,"on"+DA)}Si(xy,"onAnimationEnd"),Si(Cy,"onAnimationIteration"),Si(Ry,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(ky,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VA=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Dy(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Mu(d,o,void 0,i),i.currentTarget=null}function Vy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(o)for(var T=d.length-1;0<=T;T--){var C=d[T],L=C.instance,W=C.currentTarget;if(C=C.listener,L!==y&&m.isPropagationStopped())break e;Dy(m,C,W),y=L}else for(T=0;T<d.length;T++){if(C=d[T],L=C.instance,W=C.currentTarget,C=C.listener,L!==y&&m.isPropagationStopped())break e;Dy(m,C,W),y=L}}}if($n)throw i=Qa,$n=!1,Qa=null,i}function Ke(i,o){var l=o[Yd];l===void 0&&(l=o[Yd]=new Set);var d=i+"__bubble";l.has(d)||(Ly(o,i,2,!1),l.add(d))}function Hd(i,o,l){var d=0;o&&(d|=4),Ly(l,i,d,o)}var ac="_reactListening"+Math.random().toString(36).slice(2);function dl(i){if(!i[ac]){i[ac]=!0,r.forEach(function(l){l!=="selectionchange"&&(VA.has(l)||Hd(l,!1,i),Hd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[ac]||(o[ac]=!0,Hd("selectionchange",!1,o))}}function Ly(i,o,l,d){switch(nl(o)){case 1:var m=Ze;break;case 4:m=Vd;break;default:m=tl}l=m.bind(null,o,l,i),m=void 0,!yo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Wd(i,o,l,d,m){var y=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;C!==null;){if(T=Ps(C),T===null)return;if(L=T.tag,L===5||L===6){d=y=T;continue e}C=C.parentNode}}d=d.return}Ga(function(){var W=y,ee=po(l),ne=[];e:{var J=by.get(i);if(J!==void 0){var le=Co,he=i;switch(i){case"keypress":if(xo(l)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":he="focus",le=No;break;case"focusout":he="blur",le=No;break;case"beforeblur":case"afterblur":le=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=G;break;case xy:case Cy:case Ry:le=Hr;break;case ky:le=ze;break;case"scroll":le=Ld;break;case"wheel":le=Le;break;case"copy":case"cut":case"paste":le=ec;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=S}var de=(o&4)!==0,dt=!de&&i==="scroll",$=de?J!==null?J+"Capture":null:J;de=[];for(var F=W,H;F!==null;){H=F;var re=H.stateNode;if(H.tag===5&&re!==null&&(H=re,$!==null&&(re=ht(F,$),re!=null&&de.push(fl(F,re,H)))),dt)break;F=F.return}0<de.length&&(J=new le(J,he,null,l,ee),ne.push({event:J,listeners:de}))}}if((o&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",J&&l!==fs&&(he=l.relatedTarget||l.fromElement)&&(Ps(he)||he[Wr]))break e;if((le||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=W,he=he?Ps(he):null,he!==null&&(dt=Hn(he),he!==dt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=W),le!==he)){if(de=ko,re="onMouseLeave",$="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(de=S,re="onPointerLeave",$="onPointerEnter",F="pointer"),dt=le==null?J:Uo(le),H=he==null?J:Uo(he),J=new de(re,F+"leave",le,l,ee),J.target=dt,J.relatedTarget=H,re=null,Ps(ee)===W&&(de=new de($,F+"enter",he,l,ee),de.target=H,de.relatedTarget=dt,re=de),dt=re,le&&he)t:{for(de=le,$=he,F=0,H=de;H;H=Fo(H))F++;for(H=0,re=$;re;re=Fo(re))H++;for(;0<F-H;)de=Fo(de),F--;for(;0<H-F;)$=Fo($),H--;for(;F--;){if(de===$||$!==null&&de===$.alternate)break t;de=Fo(de),$=Fo($)}de=null}else de=null;le!==null&&My(ne,J,le,de,!1),he!==null&&dt!==null&&My(ne,dt,he,de,!0)}}e:{if(J=W?Uo(W):window,le=J.nodeName&&J.nodeName.toLowerCase(),le==="select"||le==="input"&&J.type==="file")var pe=IA;else if(my(J))if(yy)pe=CA;else{pe=PA;var ve=AA}else(le=J.nodeName)&&le.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=xA);if(pe&&(pe=pe(i,W))){gy(ne,pe,l,ee);break e}ve&&ve(i,J,W),i==="focusout"&&(ve=J._wrapperState)&&ve.controlled&&J.type==="number"&&co(J,"number",J.value)}switch(ve=W?Uo(W):window,i){case"focusin":(my(ve)||ve.contentEditable==="true")&&(Mo=ve,jd=W,cl=null);break;case"focusout":cl=jd=Mo=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,Ay(ne,l,ee);break;case"selectionchange":if(bA)break;case"keydown":case"keyup":Ay(ne,l,ee)}var _e;if(mt)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Lo?fy(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(As&&l.locale!=="ko"&&(Lo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Lo&&(_e=rl()):(vn=ee,Po="value"in vn?vn.value:vn.textContent,Lo=!0)),ve=lc(W,Se),0<ve.length&&(Se=new ol(Se,i,null,l,ee),ne.push({event:Se,listeners:ve}),_e?Se.data=_e:(_e=py(l),_e!==null&&(Se.data=_e)))),(_e=_n?wA(i,l):EA(i,l))&&(W=lc(W,"onBeforeInput"),0<W.length&&(ee=new ol("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ee,listeners:W}),ee.data=_e))}Vy(ne,o)})}function fl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function lc(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ht(i,l),y!=null&&d.unshift(fl(i,y,m)),y=ht(i,o),y!=null&&d.push(fl(i,y,m))),i=i.return}return d}function Fo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function My(i,o,l,d,m){for(var y=o._reactName,T=[];l!==null&&l!==d;){var C=l,L=C.alternate,W=C.stateNode;if(L!==null&&L===d)break;C.tag===5&&W!==null&&(C=W,m?(L=ht(l,y),L!=null&&T.unshift(fl(l,L,C))):m||(L=ht(l,y),L!=null&&T.push(fl(l,L,C)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var LA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function Oy(i){return(typeof i=="string"?i:""+i).replace(LA,`
`).replace(MA,"")}function uc(i,o,l){if(o=Oy(o),Oy(i)!==o&&l)throw Error(n(425))}function cc(){}var qd=null,Kd=null;function Gd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Qd=typeof setTimeout=="function"?setTimeout:void 0,OA=typeof clearTimeout=="function"?clearTimeout:void 0,Fy=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof Fy<"u"?function(i){return Fy.resolve(null).then(i).catch(jA)}:Qd;function jA(i){setTimeout(function(){throw i})}function Xd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Qn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Qn(o)}function Ii(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function jy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var jo=Math.random().toString(36).slice(2),pr="__reactFiber$"+jo,pl="__reactProps$"+jo,Wr="__reactContainer$"+jo,Yd="__reactEvents$"+jo,UA="__reactListeners$"+jo,BA="__reactHandles$"+jo;function Ps(i){var o=i[pr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Wr]||l[pr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=jy(i);i!==null;){if(l=i[pr])return l;i=jy(i)}return o}i=l,l=i.parentNode}return null}function ml(i){return i=i[pr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Uo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function hc(i){return i[pl]||null}var Jd=[],Bo=-1;function Ai(i){return{current:i}}function Ge(i){0>Bo||(i.current=Jd[Bo],Jd[Bo]=null,Bo--)}function qe(i,o){Bo++,Jd[Bo]=i.current,i.current=o}var Pi={},Ht=Ai(Pi),un=Ai(!1),xs=Pi;function zo(i,o){var l=i.type.contextTypes;if(!l)return Pi;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function cn(i){return i=i.childContextTypes,i!=null}function dc(){Ge(un),Ge(Ht)}function Uy(i,o,l){if(Ht.current!==Pi)throw Error(n(168));qe(Ht,o),qe(un,l)}function By(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(n(108,je(i)||"Unknown",m));return ae({},l,d)}function fc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Pi,xs=Ht.current,qe(Ht,i),qe(un,un.current),!0}function zy(i,o,l){var d=i.stateNode;if(!d)throw Error(n(169));l?(i=By(i,o,xs),d.__reactInternalMemoizedMergedChildContext=i,Ge(un),Ge(Ht),qe(Ht,i)):Ge(un),qe(un,l)}var qr=null,pc=!1,Zd=!1;function $y(i){qr===null?qr=[i]:qr.push(i)}function zA(i){pc=!0,$y(i)}function xi(){if(!Zd&&qr!==null){Zd=!0;var i=0,o=De;try{var l=qr;for(De=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}qr=null,pc=!1}catch(m){throw qr!==null&&(qr=qr.slice(i+1)),Eo(vs,xi),m}finally{De=o,Zd=!1}}return null}var $o=[],Ho=0,mc=null,gc=0,bn=[],Nn=0,Cs=null,Kr=1,Gr="";function Rs(i,o){$o[Ho++]=gc,$o[Ho++]=mc,mc=i,gc=o}function Hy(i,o,l){bn[Nn++]=Kr,bn[Nn++]=Gr,bn[Nn++]=Cs,Cs=i;var d=Kr;i=Gr;var m=32-tn(d)-1;d&=~(1<<m),l+=1;var y=32-tn(o)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Kr=1<<32-tn(o)+m|l<<m|d,Gr=y+i}else Kr=1<<y|l<<m|d,Gr=i}function ef(i){i.return!==null&&(Rs(i,1),Hy(i,1,0))}function tf(i){for(;i===mc;)mc=$o[--Ho],$o[Ho]=null,gc=$o[--Ho],$o[Ho]=null;for(;i===Cs;)Cs=bn[--Nn],bn[Nn]=null,Gr=bn[--Nn],bn[Nn]=null,Kr=bn[--Nn],bn[Nn]=null}var wn=null,En=null,et=!1,Jn=null;function Wy(i,o){var l=Mn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function qy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,wn=i,En=Ii(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,wn=i,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Cs!==null?{id:Kr,overflow:Gr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Mn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,wn=i,En=null,!0):!1;default:return!1}}function nf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function rf(i){if(et){var o=En;if(o){var l=o;if(!qy(i,o)){if(nf(i))throw Error(n(418));o=Ii(l.nextSibling);var d=wn;o&&qy(i,o)?Wy(d,l):(i.flags=i.flags&-4097|2,et=!1,wn=i)}}else{if(nf(i))throw Error(n(418));i.flags=i.flags&-4097|2,et=!1,wn=i}}}function Ky(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;wn=i}function yc(i){if(i!==wn)return!1;if(!et)return Ky(i),et=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Gd(i.type,i.memoizedProps)),o&&(o=En)){if(nf(i))throw Gy(),Error(n(418));for(;o;)Wy(i,o),o=Ii(o.nextSibling)}if(Ky(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){En=Ii(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}En=null}}else En=wn?Ii(i.stateNode.nextSibling):null;return!0}function Gy(){for(var i=En;i;)i=Ii(i.nextSibling)}function Wo(){En=wn=null,et=!1}function sf(i){Jn===null?Jn=[i]:Jn.push(i)}var $A=Z.ReactCurrentBatchConfig;function gl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,i));var m=d,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(T){var C=m.refs;T===null?delete C[y]:C[y]=T},o._stringRef=y,o)}if(typeof i!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,i))}return i}function vc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Qy(i){var o=i._init;return o(i._payload)}function Xy(i){function o($,F){if(i){var H=$.deletions;H===null?($.deletions=[F],$.flags|=16):H.push(F)}}function l($,F){if(!i)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function d($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function m($,F){return $=Li($,F),$.index=0,$.sibling=null,$}function y($,F,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<F?($.flags|=2,F):H):($.flags|=2,F)):($.flags|=1048576,F)}function T($){return i&&$.alternate===null&&($.flags|=2),$}function C($,F,H,re){return F===null||F.tag!==6?(F=Xf(H,$.mode,re),F.return=$,F):(F=m(F,H),F.return=$,F)}function L($,F,H,re){var pe=H.type;return pe===N?ee($,F,H.props.children,re,H.key):F!==null&&(F.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Lt&&Qy(pe)===F.type)?(re=m(F,H.props),re.ref=gl($,F,H),re.return=$,re):(re=zc(H.type,H.key,H.props,null,$.mode,re),re.ref=gl($,F,H),re.return=$,re)}function W($,F,H,re){return F===null||F.tag!==4||F.stateNode.containerInfo!==H.containerInfo||F.stateNode.implementation!==H.implementation?(F=Yf(H,$.mode,re),F.return=$,F):(F=m(F,H.children||[]),F.return=$,F)}function ee($,F,H,re,pe){return F===null||F.tag!==7?(F=Os(H,$.mode,re,pe),F.return=$,F):(F=m(F,H),F.return=$,F)}function ne($,F,H){if(typeof F=="string"&&F!==""||typeof F=="number")return F=Xf(""+F,$.mode,H),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case te:return H=zc(F.type,F.key,F.props,null,$.mode,H),H.ref=gl($,null,F),H.return=$,H;case oe:return F=Yf(F,$.mode,H),F.return=$,F;case Lt:var re=F._init;return ne($,re(F._payload),H)}if(Mr(F)||me(F))return F=Os(F,$.mode,H,null),F.return=$,F;vc($,F)}return null}function J($,F,H,re){var pe=F!==null?F.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return pe!==null?null:C($,F,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case te:return H.key===pe?L($,F,H,re):null;case oe:return H.key===pe?W($,F,H,re):null;case Lt:return pe=H._init,J($,F,pe(H._payload),re)}if(Mr(H)||me(H))return pe!==null?null:ee($,F,H,re,null);vc($,H)}return null}function le($,F,H,re,pe){if(typeof re=="string"&&re!==""||typeof re=="number")return $=$.get(H)||null,C(F,$,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case te:return $=$.get(re.key===null?H:re.key)||null,L(F,$,re,pe);case oe:return $=$.get(re.key===null?H:re.key)||null,W(F,$,re,pe);case Lt:var ve=re._init;return le($,F,H,ve(re._payload),pe)}if(Mr(re)||me(re))return $=$.get(H)||null,ee(F,$,re,pe,null);vc(F,re)}return null}function he($,F,H,re){for(var pe=null,ve=null,_e=F,Se=F=0,kt=null;_e!==null&&Se<H.length;Se++){_e.index>Se?(kt=_e,_e=null):kt=_e.sibling;var Fe=J($,_e,H[Se],re);if(Fe===null){_e===null&&(_e=kt);break}i&&_e&&Fe.alternate===null&&o($,_e),F=y(Fe,F,Se),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe,_e=kt}if(Se===H.length)return l($,_e),et&&Rs($,Se),pe;if(_e===null){for(;Se<H.length;Se++)_e=ne($,H[Se],re),_e!==null&&(F=y(_e,F,Se),ve===null?pe=_e:ve.sibling=_e,ve=_e);return et&&Rs($,Se),pe}for(_e=d($,_e);Se<H.length;Se++)kt=le(_e,$,Se,H[Se],re),kt!==null&&(i&&kt.alternate!==null&&_e.delete(kt.key===null?Se:kt.key),F=y(kt,F,Se),ve===null?pe=kt:ve.sibling=kt,ve=kt);return i&&_e.forEach(function(Mi){return o($,Mi)}),et&&Rs($,Se),pe}function de($,F,H,re){var pe=me(H);if(typeof pe!="function")throw Error(n(150));if(H=pe.call(H),H==null)throw Error(n(151));for(var ve=pe=null,_e=F,Se=F=0,kt=null,Fe=H.next();_e!==null&&!Fe.done;Se++,Fe=H.next()){_e.index>Se?(kt=_e,_e=null):kt=_e.sibling;var Mi=J($,_e,Fe.value,re);if(Mi===null){_e===null&&(_e=kt);break}i&&_e&&Mi.alternate===null&&o($,_e),F=y(Mi,F,Se),ve===null?pe=Mi:ve.sibling=Mi,ve=Mi,_e=kt}if(Fe.done)return l($,_e),et&&Rs($,Se),pe;if(_e===null){for(;!Fe.done;Se++,Fe=H.next())Fe=ne($,Fe.value,re),Fe!==null&&(F=y(Fe,F,Se),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe);return et&&Rs($,Se),pe}for(_e=d($,_e);!Fe.done;Se++,Fe=H.next())Fe=le(_e,$,Se,Fe.value,re),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Se:Fe.key),F=y(Fe,F,Se),ve===null?pe=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(TP){return o($,TP)}),et&&Rs($,Se),pe}function dt($,F,H,re){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case te:e:{for(var pe=H.key,ve=F;ve!==null;){if(ve.key===pe){if(pe=H.type,pe===N){if(ve.tag===7){l($,ve.sibling),F=m(ve,H.props.children),F.return=$,$=F;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Lt&&Qy(pe)===ve.type){l($,ve.sibling),F=m(ve,H.props),F.ref=gl($,ve,H),F.return=$,$=F;break e}l($,ve);break}else o($,ve);ve=ve.sibling}H.type===N?(F=Os(H.props.children,$.mode,re,H.key),F.return=$,$=F):(re=zc(H.type,H.key,H.props,null,$.mode,re),re.ref=gl($,F,H),re.return=$,$=re)}return T($);case oe:e:{for(ve=H.key;F!==null;){if(F.key===ve)if(F.tag===4&&F.stateNode.containerInfo===H.containerInfo&&F.stateNode.implementation===H.implementation){l($,F.sibling),F=m(F,H.children||[]),F.return=$,$=F;break e}else{l($,F);break}else o($,F);F=F.sibling}F=Yf(H,$.mode,re),F.return=$,$=F}return T($);case Lt:return ve=H._init,dt($,F,ve(H._payload),re)}if(Mr(H))return he($,F,H,re);if(me(H))return de($,F,H,re);vc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,F!==null&&F.tag===6?(l($,F.sibling),F=m(F,H),F.return=$,$=F):(l($,F),F=Xf(H,$.mode,re),F.return=$,$=F),T($)):l($,F)}return dt}var qo=Xy(!0),Yy=Xy(!1),_c=Ai(null),wc=null,Ko=null,of=null;function af(){of=Ko=wc=null}function lf(i){var o=_c.current;Ge(_c),i._currentValue=o}function uf(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function Go(i,o){wc=i,of=Ko=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(hn=!0),i.firstContext=null)}function Dn(i){var o=i._currentValue;if(of!==i)if(i={context:i,memoizedValue:o,next:null},Ko===null){if(wc===null)throw Error(n(308));Ko=i,wc.dependencies={lanes:0,firstContext:i}}else Ko=Ko.next=i;return o}var ks=null;function cf(i){ks===null?ks=[i]:ks.push(i)}function Jy(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,cf(o)):(l.next=m.next,m.next=l),o.interleaved=l,Qr(i,d)}function Qr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ci=!1;function hf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Xr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ri(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Qr(i,l)}return m=d.interleaved,m===null?(o.next=o,cf(d)):(o.next=m.next,m.next=o),d.interleaved=o,Qr(i,l)}function Ec(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,vi(i,l)}}function ev(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function Tc(i,o,l,d){var m=i.updateQueue;Ci=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var L=C,W=L.next;L.next=null,T===null?y=W:T.next=W,T=L;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==T&&(C===null?ee.firstBaseUpdate=W:C.next=W,ee.lastBaseUpdate=L))}if(y!==null){var ne=m.baseState;T=0,ee=W=L=null,C=y;do{var J=C.lane,le=C.eventTime;if((d&J)===J){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var he=i,de=C;switch(J=o,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){ne=he.call(le,ne,J);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,J=typeof he=="function"?he.call(le,ne,J):he,J==null)break e;ne=ae({},ne,J);break e;case 2:Ci=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,J=m.effects,J===null?m.effects=[C]:J.push(C))}else le={eventTime:le,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?(W=ee=le,L=ne):ee=ee.next=le,T|=J;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;J=C,C=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);if(ee===null&&(L=ne),m.baseState=L,m.firstBaseUpdate=W,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Ds|=T,i.lanes=T,i.memoizedState=ne}}function tv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var yl={},mr=Ai(yl),vl=Ai(yl),_l=Ai(yl);function bs(i){if(i===yl)throw Error(n(174));return i}function df(i,o){switch(qe(_l,o),qe(vl,i),qe(mr,yl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=wt(o,i)}Ge(mr),qe(mr,o)}function Qo(){Ge(mr),Ge(vl),Ge(_l)}function nv(i){bs(_l.current);var o=bs(mr.current),l=wt(o,i.type);o!==l&&(qe(vl,i),qe(mr,l))}function ff(i){vl.current===i&&(Ge(mr),Ge(vl))}var nt=Ai(0);function Sc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var pf=[];function mf(){for(var i=0;i<pf.length;i++)pf[i]._workInProgressVersionPrimary=null;pf.length=0}var Ic=Z.ReactCurrentDispatcher,gf=Z.ReactCurrentBatchConfig,Ns=0,rt=null,Tt=null,Ct=null,Ac=!1,wl=!1,El=0,HA=0;function Wt(){throw Error(n(321))}function yf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Yn(i[l],o[l]))return!1;return!0}function vf(i,o,l,d,m,y){if(Ns=y,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Ic.current=i===null||i.memoizedState===null?GA:QA,i=l(d,m),wl){y=0;do{if(wl=!1,El=0,25<=y)throw Error(n(301));y+=1,Ct=Tt=null,o.updateQueue=null,Ic.current=XA,i=l(d,m)}while(wl)}if(Ic.current=Cc,o=Tt!==null&&Tt.next!==null,Ns=0,Ct=Tt=rt=null,Ac=!1,o)throw Error(n(300));return i}function _f(){var i=El!==0;return El=0,i}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?rt.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Vn(){if(Tt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=Tt.next;var o=Ct===null?rt.memoizedState:Ct.next;if(o!==null)Ct=o,Tt=i;else{if(i===null)throw Error(n(310));Tt=i,i={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Ct===null?rt.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Tl(i,o){return typeof o=="function"?o(i):o}function wf(i){var o=Vn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=Tt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var C=T=null,L=null,W=y;do{var ee=W.lane;if((Ns&ee)===ee)L!==null&&(L=L.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:i(d,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};L===null?(C=L=ne,T=d):L=L.next=ne,rt.lanes|=ee,Ds|=ee}W=W.next}while(W!==null&&W!==y);L===null?T=d:L.next=C,Yn(d,o.memoizedState)||(hn=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do y=m.lane,rt.lanes|=y,Ds|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Ef(i){var o=Vn(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=i(y,T.action),T=T.next;while(T!==m);Yn(y,o.memoizedState)||(hn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,d]}function rv(){}function iv(i,o){var l=rt,d=Vn(),m=o(),y=!Yn(d.memoizedState,m);if(y&&(d.memoizedState=m,hn=!0),d=d.queue,Tf(av.bind(null,l,d,i),[i]),d.getSnapshot!==o||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Sl(9,ov.bind(null,l,d,m,o),void 0,null),Rt===null)throw Error(n(349));(Ns&30)!==0||sv(l,o,m)}return m}function sv(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function ov(i,o,l,d){o.value=l,o.getSnapshot=d,lv(o)&&uv(i)}function av(i,o,l){return l(function(){lv(o)&&uv(i)})}function lv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Yn(i,l)}catch{return!0}}function uv(i){var o=Qr(i,1);o!==null&&nr(o,i,1,-1)}function cv(i){var o=gr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:i},o.queue=i,i=i.dispatch=KA.bind(null,rt,i),[o.memoizedState,i]}function Sl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function hv(){return Vn().memoizedState}function Pc(i,o,l,d){var m=gr();rt.flags|=i,m.memoizedState=Sl(1|o,l,void 0,d===void 0?null:d)}function xc(i,o,l,d){var m=Vn();d=d===void 0?null:d;var y=void 0;if(Tt!==null){var T=Tt.memoizedState;if(y=T.destroy,d!==null&&yf(d,T.deps)){m.memoizedState=Sl(o,l,y,d);return}}rt.flags|=i,m.memoizedState=Sl(1|o,l,y,d)}function dv(i,o){return Pc(8390656,8,i,o)}function Tf(i,o){return xc(2048,8,i,o)}function fv(i,o){return xc(4,2,i,o)}function pv(i,o){return xc(4,4,i,o)}function mv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function gv(i,o,l){return l=l!=null?l.concat([i]):null,xc(4,4,mv.bind(null,o,i),l)}function Sf(){}function yv(i,o){var l=Vn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&yf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function vv(i,o){var l=Vn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&yf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function _v(i,o,l){return(Ns&21)===0?(i.baseState&&(i.baseState=!1,hn=!0),i.memoizedState=l):(Yn(l,o)||(l=Es(),rt.lanes|=l,Ds|=l,i.baseState=!0),o)}function WA(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var d=gf.transition;gf.transition={};try{i(!1),o()}finally{De=l,gf.transition=d}}function wv(){return Vn().memoizedState}function qA(i,o,l){var d=Di(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Ev(i))Tv(o,l);else if(l=Jy(i,o,l,d),l!==null){var m=sn();nr(l,i,d,m),Sv(l,o,d)}}function KA(i,o,l){var d=Di(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ev(i))Tv(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var T=o.lastRenderedState,C=y(T,l);if(m.hasEagerState=!0,m.eagerState=C,Yn(C,T)){var L=o.interleaved;L===null?(m.next=m,cf(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}l=Jy(i,o,m,d),l!==null&&(m=sn(),nr(l,i,d,m),Sv(l,o,d))}}function Ev(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function Tv(i,o){wl=Ac=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Sv(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,vi(i,l)}}var Cc={readContext:Dn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},GA={readContext:Dn,useCallback:function(i,o){return gr().memoizedState=[i,o===void 0?null:o],i},useContext:Dn,useEffect:dv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Pc(4194308,4,mv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Pc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Pc(4,2,i,o)},useMemo:function(i,o){var l=gr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=gr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=qA.bind(null,rt,i),[d.memoizedState,i]},useRef:function(i){var o=gr();return i={current:i},o.memoizedState=i},useState:cv,useDebugValue:Sf,useDeferredValue:function(i){return gr().memoizedState=i},useTransition:function(){var i=cv(!1),o=i[0];return i=WA.bind(null,i[1]),gr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=rt,m=gr();if(et){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),Rt===null)throw Error(n(349));(Ns&30)!==0||sv(d,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,dv(av.bind(null,d,y,i),[i]),d.flags|=2048,Sl(9,ov.bind(null,d,y,l,o),void 0,null),l},useId:function(){var i=gr(),o=Rt.identifierPrefix;if(et){var l=Gr,d=Kr;l=(d&~(1<<32-tn(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=El++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=HA++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},QA={readContext:Dn,useCallback:yv,useContext:Dn,useEffect:Tf,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:pv,useMemo:vv,useReducer:wf,useRef:hv,useState:function(){return wf(Tl)},useDebugValue:Sf,useDeferredValue:function(i){var o=Vn();return _v(o,Tt.memoizedState,i)},useTransition:function(){var i=wf(Tl)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:rv,useSyncExternalStore:iv,useId:wv,unstable_isNewReconciler:!1},XA={readContext:Dn,useCallback:yv,useContext:Dn,useEffect:Tf,useImperativeHandle:gv,useInsertionEffect:fv,useLayoutEffect:pv,useMemo:vv,useReducer:Ef,useRef:hv,useState:function(){return Ef(Tl)},useDebugValue:Sf,useDeferredValue:function(i){var o=Vn();return Tt===null?o.memoizedState=i:_v(o,Tt.memoizedState,i)},useTransition:function(){var i=Ef(Tl)[0],o=Vn().memoizedState;return[i,o]},useMutableSource:rv,useSyncExternalStore:iv,useId:wv,unstable_isNewReconciler:!1};function Zn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function If(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Rc={isMounted:function(i){return(i=i._reactInternals)?Hn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=sn(),m=Di(i),y=Xr(d,m);y.payload=o,l!=null&&(y.callback=l),o=Ri(i,y,m),o!==null&&(nr(o,i,m,d),Ec(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=sn(),m=Di(i),y=Xr(d,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Ri(i,y,m),o!==null&&(nr(o,i,m,d),Ec(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=sn(),d=Di(i),m=Xr(l,d);m.tag=2,o!=null&&(m.callback=o),o=Ri(i,m,d),o!==null&&(nr(o,i,d,l),Ec(o,i,d))}};function Iv(i,o,l,d,m,y,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,T):o.prototype&&o.prototype.isPureReactComponent?!ul(l,d)||!ul(m,y):!0}function Av(i,o,l){var d=!1,m=Pi,y=o.contextType;return typeof y=="object"&&y!==null?y=Dn(y):(m=cn(o)?xs:Ht.current,d=o.contextTypes,y=(d=d!=null)?zo(i,m):Pi),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Rc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function Pv(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&Rc.enqueueReplaceState(o,o.state,null)}function Af(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},hf(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Dn(y):(y=cn(o)?xs:Ht.current,m.context=zo(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(If(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Rc.enqueueReplaceState(m,m.state,null),Tc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Xo(i,o){try{var l="",d=o;do l+=Ce(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function Pf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function xf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var YA=typeof WeakMap=="function"?WeakMap:Map;function xv(i,o,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Mc||(Mc=!0,zf=d),xf(i,o)},l}function Cv(i,o,l){l=Xr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){xf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){xf(i,o),typeof d!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Rv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new YA;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=hP.bind(null,i,o,l),o.then(i,i))}function kv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function bv(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Xr(-1,1),o.tag=2,Ri(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var JA=Z.ReactCurrentOwner,hn=!1;function rn(i,o,l,d){o.child=i===null?Yy(o,null,l,d):qo(o,i.child,l,d)}function Nv(i,o,l,d,m){l=l.render;var y=o.ref;return Go(o,m),d=vf(i,o,l,d,y,m),l=_f(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Yr(i,o,m)):(et&&l&&ef(o),o.flags|=1,rn(i,o,d,m),o.child)}function Dv(i,o,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!Qf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,Vv(i,o,y,d,m)):(i=zc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:ul,l(T,d)&&i.ref===o.ref)return Yr(i,o,m)}return o.flags|=1,i=Li(y,d),i.ref=o.ref,i.return=o,o.child=i}function Vv(i,o,l,d,m){if(i!==null){var y=i.memoizedProps;if(ul(y,d)&&i.ref===o.ref)if(hn=!1,o.pendingProps=d=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(hn=!0);else return o.lanes=i.lanes,Yr(i,o,m)}return Cf(i,o,l,d,m)}function Lv(i,o,l){var d=o.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Jo,Tn),Tn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,qe(Jo,Tn),Tn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,qe(Jo,Tn),Tn|=d}else y!==null?(d=y.baseLanes|l,o.memoizedState=null):d=l,qe(Jo,Tn),Tn|=d;return rn(i,o,m,l),o.child}function Mv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Cf(i,o,l,d,m){var y=cn(l)?xs:Ht.current;return y=zo(o,y),Go(o,m),l=vf(i,o,l,d,y,m),d=_f(),i!==null&&!hn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Yr(i,o,m)):(et&&d&&ef(o),o.flags|=1,rn(i,o,l,m),o.child)}function Ov(i,o,l,d,m){if(cn(l)){var y=!0;fc(o)}else y=!1;if(Go(o,m),o.stateNode===null)bc(i,o),Av(o,l,d),Af(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,C=o.memoizedProps;T.props=C;var L=T.context,W=l.contextType;typeof W=="object"&&W!==null?W=Dn(W):(W=cn(l)?xs:Ht.current,W=zo(o,W));var ee=l.getDerivedStateFromProps,ne=typeof ee=="function"||typeof T.getSnapshotBeforeUpdate=="function";ne||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==d||L!==W)&&Pv(o,T,d,W),Ci=!1;var J=o.memoizedState;T.state=J,Tc(o,d,T,m),L=o.memoizedState,C!==d||J!==L||un.current||Ci?(typeof ee=="function"&&(If(o,l,ee,d),L=o.memoizedState),(C=Ci||Iv(o,l,C,d,J,L,W))?(ne||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=L),T.props=d,T.state=L,T.context=W,d=C):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,Zy(i,o),C=o.memoizedProps,W=o.type===o.elementType?C:Zn(o.type,C),T.props=W,ne=o.pendingProps,J=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=Dn(L):(L=cn(l)?xs:Ht.current,L=zo(o,L));var le=l.getDerivedStateFromProps;(ee=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==ne||J!==L)&&Pv(o,T,d,L),Ci=!1,J=o.memoizedState,T.state=J,Tc(o,d,T,m);var he=o.memoizedState;C!==ne||J!==he||un.current||Ci?(typeof le=="function"&&(If(o,l,le,d),he=o.memoizedState),(W=Ci||Iv(o,l,W,d,J,he,L)||!1)?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,he,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,he,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=he),T.props=d,T.state=he,T.context=L,d=W):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&J===i.memoizedState||(o.flags|=1024),d=!1)}return Rf(i,o,l,d,y,m)}function Rf(i,o,l,d,m,y){Mv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&zy(o,l,!1),Yr(i,o,y);d=o.stateNode,JA.current=o;var C=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=qo(o,i.child,null,y),o.child=qo(o,null,C,y)):rn(i,o,C,y),o.memoizedState=d.state,m&&zy(o,l,!0),o.child}function Fv(i){var o=i.stateNode;o.pendingContext?Uy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Uy(i,o.context,!1),df(i,o.containerInfo)}function jv(i,o,l,d,m){return Wo(),sf(m),o.flags|=256,rn(i,o,l,d),o.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function bf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Uv(i,o,l){var d=o.pendingProps,m=nt.current,y=!1,T=(o.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),qe(nt,m&1),i===null)return rf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,y?(d=o.mode,y=o.child,T={mode:"hidden",children:T},(d&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=T):y=$c(T,d,0,null),i=Os(i,d,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=bf(l),o.memoizedState=kf,i):Nf(o,T));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return ZA(i,o,T,d,C,m,l);if(y){y=d.fallback,T=o.mode,m=i.child,C=m.sibling;var L={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=L,o.deletions=null):(d=Li(m,L),d.subtreeFlags=m.subtreeFlags&14680064),C!==null?y=Li(C,y):(y=Os(y,T,l,null),y.flags|=2),y.return=o,d.return=o,d.sibling=y,o.child=d,d=y,y=o.child,T=i.child.memoizedState,T=T===null?bf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=i.childLanes&~l,o.memoizedState=kf,d}return y=i.child,i=y.sibling,d=Li(y,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function Nf(i,o){return o=$c({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function kc(i,o,l,d){return d!==null&&sf(d),qo(o,i.child,null,l),i=Nf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ZA(i,o,l,d,m,y,T){if(l)return o.flags&256?(o.flags&=-257,d=Pf(Error(n(422))),kc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=d.fallback,m=o.mode,d=$c({mode:"visible",children:d.children},m,0,null),y=Os(y,m,T,null),y.flags|=2,d.return=o,y.return=o,d.sibling=y,o.child=d,(o.mode&1)!==0&&qo(o,i.child,null,T),o.child.memoizedState=bf(T),o.memoizedState=kf,y);if((o.mode&1)===0)return kc(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var C=d.dgst;return d=C,y=Error(n(419)),d=Pf(y,d,void 0),kc(i,o,T,d)}if(C=(T&i.childLanes)!==0,hn||C){if(d=Rt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Qr(i,m),nr(d,i,m,-1))}return Gf(),d=Pf(Error(n(421))),kc(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=dP.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,En=Ii(m.nextSibling),wn=o,et=!0,Jn=null,i!==null&&(bn[Nn++]=Kr,bn[Nn++]=Gr,bn[Nn++]=Cs,Kr=i.id,Gr=i.overflow,Cs=o),o=Nf(o,d.children),o.flags|=4096,o)}function Bv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),uf(i.return,o,l)}function Df(i,o,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function zv(i,o,l){var d=o.pendingProps,m=d.revealOrder,y=d.tail;if(rn(i,o,d.children,l),d=nt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Bv(i,l,o);else if(i.tag===19)Bv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(qe(nt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&Sc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Df(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Sc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Df(o,!0,l,null,y);break;case"together":Df(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function bc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Yr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ds|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,l=Li(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Li(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function eP(i,o,l){switch(o.tag){case 3:Fv(o),Wo();break;case 5:nv(o);break;case 1:cn(o.type)&&fc(o);break;case 4:df(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;qe(_c,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(qe(nt,nt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Uv(i,o,l):(qe(nt,nt.current&1),i=Yr(i,o,l),i!==null?i.sibling:null);qe(nt,nt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return zv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(nt,nt.current),d)break;return null;case 22:case 23:return o.lanes=0,Lv(i,o,l)}return Yr(i,o,l)}var $v,Vf,Hv,Wv;$v=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Vf=function(){},Hv=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,bs(mr.current);var y=null;switch(l){case"input":m=cs(i,m),d=cs(i,d),y=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),y=[];break;case"textarea":m=Fa(i,m),d=Fa(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=cc)}Ha(l,d);var T;l=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var C=m[W];for(T in C)C.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?y||(y=[]):(y=y||[]).push(W,null));for(W in d){var L=d[W];if(C=m?.[W],d.hasOwnProperty(W)&&L!==C&&(L!=null||C!=null))if(W==="style")if(C){for(T in C)!C.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&C[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(y||(y=[]),y.push(W,l)),l=L;else W==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,C=C?C.__html:void 0,L!=null&&C!==L&&(y=y||[]).push(W,L)):W==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(W,""+L):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(L!=null&&W==="onScroll"&&Ke("scroll",i),y||C===L||(y=[])):(y=y||[]).push(W,L))}l&&(y=y||[]).push("style",l);var W=y;(o.updateQueue=W)&&(o.flags|=4)}},Wv=function(i,o,l,d){l!==d&&(o.flags|=4)};function Il(i,o){if(!et)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function tP(i,o,l){var d=o.pendingProps;switch(tf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return cn(o.type)&&dc(),qt(o),null;case 3:return d=o.stateNode,Qo(),Ge(un),Ge(Ht),mf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(yc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Jn!==null&&(Wf(Jn),Jn=null))),Vf(i,o),qt(o),null;case 5:ff(o);var m=bs(_l.current);if(l=o.type,i!==null&&o.stateNode!=null)Hv(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(n(166));return qt(o),null}if(i=bs(mr.current),yc(o)){d=o.stateNode,l=o.type;var y=o.memoizedProps;switch(d[pr]=o,d[pl]=y,i=(o.mode&1)!==0,l){case"dialog":Ke("cancel",d),Ke("close",d);break;case"iframe":case"object":case"embed":Ke("load",d);break;case"video":case"audio":for(m=0;m<hl.length;m++)Ke(hl[m],d);break;case"source":Ke("error",d);break;case"img":case"image":case"link":Ke("error",d),Ke("load",d);break;case"details":Ke("toggle",d);break;case"input":uo(d,y),Ke("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",d);break;case"textarea":ho(d,y),Ke("invalid",d)}Ha(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var C=y[T];T==="children"?typeof C=="string"?d.textContent!==C&&(y.suppressHydrationWarning!==!0&&uc(d.textContent,C,i),m=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(y.suppressHydrationWarning!==!0&&uc(d.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&Ke("scroll",d)}switch(l){case"input":Lr(d),Lu(d,y,!0);break;case"textarea":Lr(d),ja(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=cc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=_t(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[pr]=o,i[pl]=d,$v(i,o,!1,!1),o.stateNode=i;e:{switch(T=Wa(l,d),l){case"dialog":Ke("cancel",i),Ke("close",i),m=d;break;case"iframe":case"object":case"embed":Ke("load",i),m=d;break;case"video":case"audio":for(m=0;m<hl.length;m++)Ke(hl[m],i);m=d;break;case"source":Ke("error",i),m=d;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),m=d;break;case"details":Ke("toggle",i),m=d;break;case"input":uo(i,d),m=cs(i,d),Ke("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Ke("invalid",i);break;case"textarea":ho(i,d),m=Fa(i,d),Ke("invalid",i);break;default:m=d}Ha(l,m),C=m;for(y in C)if(C.hasOwnProperty(y)){var L=C[y];y==="style"?za(i,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ua(i,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&fi(i,L):typeof L=="number"&&fi(i,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Ke("scroll",i):L!=null&&K(i,y,L,T))}switch(l){case"input":Lr(i),Lu(i,d,!1);break;case"textarea":Lr(i),ja(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?Or(i,!!d.multiple,y,!1):d.defaultValue!=null&&Or(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=cc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(i&&o.stateNode!=null)Wv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(n(166));if(l=bs(_l.current),bs(mr.current),yc(o)){if(d=o.stateNode,l=o.memoizedProps,d[pr]=o,(y=d.nodeValue!==l)&&(i=wn,i!==null))switch(i.tag){case 3:uc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&uc(d.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[pr]=o,o.stateNode=d}return qt(o),null;case 13:if(Ge(nt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&En!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Gy(),Wo(),o.flags|=98560,y=!1;else if(y=yc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[pr]=o}else Wo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;qt(o),y=!1}else Jn!==null&&(Wf(Jn),Jn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(nt.current&1)!==0?St===0&&(St=3):Gf())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return Qo(),Vf(i,o),i===null&&dl(o.stateNode.containerInfo),qt(o),null;case 10:return lf(o.type._context),qt(o),null;case 17:return cn(o.type)&&dc(),qt(o),null;case 19:if(Ge(nt),y=o.memoizedState,y===null)return qt(o),null;if(d=(o.flags&128)!==0,T=y.rendering,T===null)if(d)Il(y,!1);else{if(St!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=Sc(i),T!==null){for(o.flags|=128,Il(y,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)y=l,i=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,i=T.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return qe(nt,nt.current&1|2),o.child}i=i.sibling}y.tail!==null&&We()>Zo&&(o.flags|=128,d=!0,Il(y,!1),o.lanes=4194304)}else{if(!d)if(i=Sc(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Il(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!et)return qt(o),null}else 2*We()-y.renderingStartTime>Zo&&l!==1073741824&&(o.flags|=128,d=!0,Il(y,!1),o.lanes=4194304);y.isBackwards?(T.sibling=o.child,o.child=T):(l=y.last,l!==null?l.sibling=T:o.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=We(),o.sibling=null,l=nt.current,qe(nt,d?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return Kf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(Tn&1073741824)!==0&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function nP(i,o){switch(tf(o),o.tag){case 1:return cn(o.type)&&dc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Qo(),Ge(un),Ge(Ht),mf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return ff(o),null;case 13:if(Ge(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Wo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ge(nt),null;case 4:return Qo(),null;case 10:return lf(o.type._context),null;case 22:case 23:return Kf(),null;case 24:return null;default:return null}}var Nc=!1,Kt=!1,rP=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Yo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){at(i,o,d)}else l.current=null}function Lf(i,o,l){try{l()}catch(d){at(i,o,d)}}var qv=!1;function iP(i,o){if(qd=Ei,i=Iy(),Fd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,C=-1,L=-1,W=0,ee=0,ne=i,J=null;t:for(;;){for(var le;ne!==l||m!==0&&ne.nodeType!==3||(C=T+m),ne!==y||d!==0&&ne.nodeType!==3||(L=T+d),ne.nodeType===3&&(T+=ne.nodeValue.length),(le=ne.firstChild)!==null;)J=ne,ne=le;for(;;){if(ne===i)break t;if(J===l&&++W===m&&(C=T),J===y&&++ee===d&&(L=T),(le=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=le}l=C===-1||L===-1?null:{start:C,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kd={focusedElem:i,selectionRange:l},Ei=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,dt=he.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?de:Zn(o.type,de),dt);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){at(o,o.return,re)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return he=qv,qv=!1,he}function Al(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Lf(o,l,y)}m=m.next}while(m!==d)}}function Dc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Mf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Kv(i){var o=i.alternate;o!==null&&(i.alternate=null,Kv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[pr],delete o[pl],delete o[Yd],delete o[UA],delete o[BA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Gv(i){return i.tag===5||i.tag===3||i.tag===4}function Qv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Gv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Of(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=cc));else if(d!==4&&(i=i.child,i!==null))for(Of(i,o,l),i=i.sibling;i!==null;)Of(i,o,l),i=i.sibling}function Ff(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Ff(i,o,l),i=i.sibling;i!==null;)Ff(i,o,l),i=i.sibling}var Ft=null,er=!1;function ki(i,o,l){for(l=l.child;l!==null;)Xv(i,o,l),l=l.sibling}function Xv(i,o,l){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(_s,l)}catch{}switch(l.tag){case 5:Kt||Yo(l,o);case 6:var d=Ft,m=er;Ft=null,ki(i,o,l),Ft=d,er=m,Ft!==null&&(er?(i=Ft,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ft.removeChild(l.stateNode));break;case 18:Ft!==null&&(er?(i=Ft,l=l.stateNode,i.nodeType===8?Xd(i.parentNode,l):i.nodeType===1&&Xd(i,l),Qn(i)):Xd(Ft,l.stateNode));break;case 4:d=Ft,m=er,Ft=l.stateNode.containerInfo,er=!0,ki(i,o,l),Ft=d,er=m;break;case 0:case 11:case 14:case 15:if(!Kt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&((y&2)!==0||(y&4)!==0)&&Lf(l,o,T),m=m.next}while(m!==d)}ki(i,o,l);break;case 1:if(!Kt&&(Yo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(C){at(l,o,C)}ki(i,o,l);break;case 21:ki(i,o,l);break;case 22:l.mode&1?(Kt=(d=Kt)||l.memoizedState!==null,ki(i,o,l),Kt=d):ki(i,o,l);break;default:ki(i,o,l)}}function Yv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new rP),o.forEach(function(d){var m=fP.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function tr(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=i,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 5:Ft=C.stateNode,er=!1;break e;case 3:Ft=C.stateNode.containerInfo,er=!0;break e;case 4:Ft=C.stateNode.containerInfo,er=!0;break e}C=C.return}if(Ft===null)throw Error(n(160));Xv(y,T,m),Ft=null,er=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(W){at(m,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jv(o,i),o=o.sibling}function Jv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(tr(o,i),yr(i),d&4){try{Al(3,i,i.return),Dc(3,i)}catch(de){at(i,i.return,de)}try{Al(5,i,i.return)}catch(de){at(i,i.return,de)}}break;case 1:tr(o,i),yr(i),d&512&&l!==null&&Yo(l,l.return);break;case 5:if(tr(o,i),yr(i),d&512&&l!==null&&Yo(l,l.return),i.flags&32){var m=i.stateNode;try{fi(m,"")}catch(de){at(i,i.return,de)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,T=l!==null?l.memoizedProps:y,C=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{C==="input"&&y.type==="radio"&&y.name!=null&&Ma(m,y),Wa(C,T);var W=Wa(C,y);for(T=0;T<L.length;T+=2){var ee=L[T],ne=L[T+1];ee==="style"?za(m,ne):ee==="dangerouslySetInnerHTML"?Ua(m,ne):ee==="children"?fi(m,ne):K(m,ee,ne,W)}switch(C){case"input":Oa(m,y);break;case"textarea":fo(m,y);break;case"select":var J=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?Or(m,!!y.multiple,le,!1):J!==!!y.multiple&&(y.defaultValue!=null?Or(m,!!y.multiple,y.defaultValue,!0):Or(m,!!y.multiple,y.multiple?[]:"",!1))}m[pl]=y}catch(de){at(i,i.return,de)}}break;case 6:if(tr(o,i),yr(i),d&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(de){at(i,i.return,de)}}break;case 3:if(tr(o,i),yr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Qn(o.containerInfo)}catch(de){at(i,i.return,de)}break;case 4:tr(o,i),yr(i);break;case 13:tr(o,i),yr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Bf=We())),d&4&&Yv(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?(Kt=(W=Kt)||ee,tr(o,i),Kt=W):tr(o,i),yr(i),d&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!ee&&(i.mode&1)!==0)for(ce=i,ee=i.child;ee!==null;){for(ne=ce=ee;ce!==null;){switch(J=ce,le=J.child,J.tag){case 0:case 11:case 14:case 15:Al(4,J,J.return);break;case 1:Yo(J,J.return);var he=J.stateNode;if(typeof he.componentWillUnmount=="function"){d=J,l=J.return;try{o=d,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){at(d,l,de)}}break;case 5:Yo(J,J.return);break;case 22:if(J.memoizedState!==null){t0(ne);continue}}le!==null?(le.return=J,ce=le):t0(ne)}ee=ee.sibling}e:for(ee=null,ne=i;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,W?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(C=ne.stateNode,L=ne.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,C.style.display=Ba("display",T))}catch(de){at(i,i.return,de)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(de){at(i,i.return,de)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===i)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===i)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===i)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:tr(o,i),yr(i),d&4&&Yv(i);break;case 21:break;default:tr(o,i),yr(i)}}function yr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Gv(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(fi(m,""),d.flags&=-33);var y=Qv(i);Ff(i,y,m);break;case 3:case 4:var T=d.stateNode.containerInfo,C=Qv(i);Of(i,C,T);break;default:throw Error(n(161))}}catch(L){at(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function sP(i,o,l){ce=i,Zv(i)}function Zv(i,o,l){for(var d=(i.mode&1)!==0;ce!==null;){var m=ce,y=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Nc;if(!T){var C=m.alternate,L=C!==null&&C.memoizedState!==null||Kt;C=Nc;var W=Kt;if(Nc=T,(Kt=L)&&!W)for(ce=m;ce!==null;)T=ce,L=T.child,T.tag===22&&T.memoizedState!==null?n0(m):L!==null?(L.return=T,ce=L):n0(m);for(;y!==null;)ce=y,Zv(y),y=y.sibling;ce=m,Nc=C,Kt=W}e0(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ce=y):e0(i)}}function e0(i){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Kt||Dc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!Kt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Zn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&tv(o,y,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}tv(o,T,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&Qn(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kt||o.flags&512&&Mf(o)}catch(J){at(o,o.return,J)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function t0(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function n0(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Dc(4,o)}catch(L){at(o,l,L)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(L){at(o,m,L)}}var y=o.return;try{Mf(o)}catch(L){at(o,y,L)}break;case 5:var T=o.return;try{Mf(o)}catch(L){at(o,T,L)}}}catch(L){at(o,o.return,L)}if(o===i){ce=null;break}var C=o.sibling;if(C!==null){C.return=o.return,ce=C;break}ce=o.return}}var oP=Math.ceil,Vc=Z.ReactCurrentDispatcher,jf=Z.ReactCurrentOwner,Ln=Z.ReactCurrentBatchConfig,Oe=0,Rt=null,gt=null,jt=0,Tn=0,Jo=Ai(0),St=0,Pl=null,Ds=0,Lc=0,Uf=0,xl=null,dn=null,Bf=0,Zo=1/0,Jr=null,Mc=!1,zf=null,bi=null,Oc=!1,Ni=null,Fc=0,Cl=0,$f=null,jc=-1,Uc=0;function sn(){return(Oe&6)!==0?We():jc!==-1?jc:jc=We()}function Di(i){return(i.mode&1)===0?1:(Oe&2)!==0&&jt!==0?jt&-jt:$A.transition!==null?(Uc===0&&(Uc=Es()),Uc):(i=De,i!==0||(i=window.event,i=i===void 0?16:nl(i.type)),i)}function nr(i,o,l,d){if(50<Cl)throw Cl=0,$f=null,Error(n(185));yi(i,l,d),((Oe&2)===0||i!==Rt)&&(i===Rt&&((Oe&2)===0&&(Lc|=l),St===4&&Vi(i,jt)),fn(i,d),l===1&&Oe===0&&(o.mode&1)===0&&(Zo=We()+500,pc&&xi()))}function fn(i,o){var l=i.callbackNode;Ur(i,o);var d=ws(i,i===Rt?jt:0);if(d===0)l!==null&&Ya(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&Ya(l),o===1)i.tag===0?zA(i0.bind(null,i)):$y(i0.bind(null,i)),FA(function(){(Oe&6)===0&&xi()}),l=null;else{switch(_i(d)){case 1:l=vs;break;case 4:l=pi;break;case 16:l=Cn;break;case 536870912:l=Uu;break;default:l=Cn}l=d0(l,r0.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function r0(i,o){if(jc=-1,Uc=0,(Oe&6)!==0)throw Error(n(327));var l=i.callbackNode;if(ea()&&i.callbackNode!==l)return null;var d=ws(i,i===Rt?jt:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Bc(i,d);else{o=d;var m=Oe;Oe|=2;var y=o0();(Rt!==i||jt!==o)&&(Jr=null,Zo=We()+500,Ls(i,o));do try{uP();break}catch(C){s0(i,C)}while(!0);af(),Vc.current=y,Oe=m,gt!==null?o=0:(Rt=null,jt=0,o=St)}if(o!==0){if(o===2&&(m=yn(i),m!==0&&(d=m,o=Hf(i,m))),o===1)throw l=Pl,Ls(i,0),Vi(i,d),fn(i,We()),l;if(o===6)Vi(i,d);else{if(m=i.current.alternate,(d&30)===0&&!aP(m)&&(o=Bc(i,d),o===2&&(y=yn(i),y!==0&&(d=y,o=Hf(i,y))),o===1))throw l=Pl,Ls(i,0),Vi(i,d),fn(i,We()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(n(345));case 2:Ms(i,dn,Jr);break;case 3:if(Vi(i,d),(d&130023424)===d&&(o=Bf+500-We(),10<o)){if(ws(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){sn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Qd(Ms.bind(null,i,dn,Jr),o);break}Ms(i,dn,Jr);break;case 4:if(Vi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-tn(d);y=1<<T,T=o[T],T>m&&(m=T),d&=~y}if(d=m,d=We()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*oP(d/1960))-d,10<d){i.timeoutHandle=Qd(Ms.bind(null,i,dn,Jr),d);break}Ms(i,dn,Jr);break;case 5:Ms(i,dn,Jr);break;default:throw Error(n(329))}}}return fn(i,We()),i.callbackNode===l?r0.bind(null,i):null}function Hf(i,o){var l=xl;return i.current.memoizedState.isDehydrated&&(Ls(i,o).flags|=256),i=Bc(i,o),i!==2&&(o=dn,dn=l,o!==null&&Wf(o)),i}function Wf(i){dn===null?dn=i:dn.push.apply(dn,i)}function aP(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Yn(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vi(i,o){for(o&=~Uf,o&=~Lc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-tn(o),d=1<<l;i[l]=-1,o&=~d}}function i0(i){if((Oe&6)!==0)throw Error(n(327));ea();var o=ws(i,0);if((o&1)===0)return fn(i,We()),null;var l=Bc(i,o);if(i.tag!==0&&l===2){var d=yn(i);d!==0&&(o=d,l=Hf(i,d))}if(l===1)throw l=Pl,Ls(i,0),Vi(i,o),fn(i,We()),l;if(l===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ms(i,dn,Jr),fn(i,We()),null}function qf(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&(Zo=We()+500,pc&&xi())}}function Vs(i){Ni!==null&&Ni.tag===0&&(Oe&6)===0&&ea();var o=Oe;Oe|=1;var l=Ln.transition,d=De;try{if(Ln.transition=null,De=1,i)return i()}finally{De=d,Ln.transition=l,Oe=o,(Oe&6)===0&&xi()}}function Kf(){Tn=Jo.current,Ge(Jo)}function Ls(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,OA(l)),gt!==null)for(l=gt.return;l!==null;){var d=l;switch(tf(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&dc();break;case 3:Qo(),Ge(un),Ge(Ht),mf();break;case 5:ff(d);break;case 4:Qo();break;case 13:Ge(nt);break;case 19:Ge(nt);break;case 10:lf(d.type._context);break;case 22:case 23:Kf()}l=l.return}if(Rt=i,gt=i=Li(i.current,null),jt=Tn=o,St=0,Pl=null,Uf=Lc=Ds=0,dn=xl=null,ks!==null){for(o=0;o<ks.length;o++)if(l=ks[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,d.next=T}l.pending=d}ks=null}return i}function s0(i,o){do{var l=gt;try{if(af(),Ic.current=Cc,Ac){for(var d=rt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ac=!1}if(Ns=0,Ct=Tt=rt=null,wl=!1,El=0,jf.current=null,l===null||l.return===null){St=1,Pl=o,gt=null;break}e:{var y=i,T=l.return,C=l,L=o;if(o=jt,C.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var W=L,ee=C,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=kv(T);if(le!==null){le.flags&=-257,bv(le,T,C,y,o),le.mode&1&&Rv(y,W,o),o=le,L=W;var he=o.updateQueue;if(he===null){var de=new Set;de.add(L),o.updateQueue=de}else he.add(L);break e}else{if((o&1)===0){Rv(y,W,o),Gf();break e}L=Error(n(426))}}else if(et&&C.mode&1){var dt=kv(T);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),bv(dt,T,C,y,o),sf(Xo(L,C));break e}}y=L=Xo(L,C),St!==4&&(St=2),xl===null?xl=[y]:xl.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var $=xv(y,L,o);ev(y,$);break e;case 1:C=L;var F=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof F.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(bi===null||!bi.has(H)))){y.flags|=65536,o&=-o,y.lanes|=o;var re=Cv(y,C,o);ev(y,re);break e}}y=y.return}while(y!==null)}l0(l)}catch(pe){o=pe,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function o0(){var i=Vc.current;return Vc.current=Cc,i===null?Cc:i}function Gf(){(St===0||St===3||St===2)&&(St=4),Rt===null||(Ds&268435455)===0&&(Lc&268435455)===0||Vi(Rt,jt)}function Bc(i,o){var l=Oe;Oe|=2;var d=o0();(Rt!==i||jt!==o)&&(Jr=null,Ls(i,o));do try{lP();break}catch(m){s0(i,m)}while(!0);if(af(),Oe=l,Vc.current=d,gt!==null)throw Error(n(261));return Rt=null,jt=0,St}function lP(){for(;gt!==null;)a0(gt)}function uP(){for(;gt!==null&&!Fu();)a0(gt)}function a0(i){var o=h0(i.alternate,i,Tn);i.memoizedProps=i.pendingProps,o===null?l0(i):gt=o,jf.current=null}function l0(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=tP(l,o,Tn),l!==null){gt=l;return}}else{if(l=nP(l,o),l!==null){l.flags&=32767,gt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,gt=null;return}}if(o=o.sibling,o!==null){gt=o;return}gt=o=i}while(o!==null);St===0&&(St=5)}function Ms(i,o,l){var d=De,m=Ln.transition;try{Ln.transition=null,De=1,cP(i,o,l,d)}finally{Ln.transition=m,De=d}return null}function cP(i,o,l,d){do ea();while(Ni!==null);if((Oe&6)!==0)throw Error(n(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if($e(i,y),i===Rt&&(gt=Rt=null,jt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Oc||(Oc=!0,d0(Cn,function(){return ea(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=Ln.transition,Ln.transition=null;var T=De;De=1;var C=Oe;Oe|=4,jf.current=null,iP(i,l),Jv(l,i),kA(Kd),Ei=!!qd,Kd=qd=null,i.current=l,sP(l),kd(),Oe=C,De=T,Ln.transition=y}else i.current=l;if(Oc&&(Oc=!1,Ni=i,Fc=m),y=i.pendingLanes,y===0&&(bi=null),Bu(l.stateNode),fn(i,We()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Mc)throw Mc=!1,i=zf,zf=null,i;return(Fc&1)!==0&&i.tag!==0&&ea(),y=i.pendingLanes,(y&1)!==0?i===$f?Cl++:(Cl=0,$f=i):Cl=0,xi(),null}function ea(){if(Ni!==null){var i=_i(Fc),o=Ln.transition,l=De;try{if(Ln.transition=null,De=16>i?16:i,Ni===null)var d=!1;else{if(i=Ni,Ni=null,Fc=0,(Oe&6)!==0)throw Error(n(331));var m=Oe;for(Oe|=4,ce=i.current;ce!==null;){var y=ce,T=y.child;if((ce.flags&16)!==0){var C=y.deletions;if(C!==null){for(var L=0;L<C.length;L++){var W=C[L];for(ce=W;ce!==null;){var ee=ce;switch(ee.tag){case 0:case 11:case 15:Al(8,ee,y)}var ne=ee.child;if(ne!==null)ne.return=ee,ce=ne;else for(;ce!==null;){ee=ce;var J=ee.sibling,le=ee.return;if(Kv(ee),ee===W){ce=null;break}if(J!==null){J.return=le,ce=J;break}ce=le}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var dt=de.sibling;de.sibling=null,de=dt}while(de!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&T!==null)T.return=y,ce=T;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Al(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,ce=$;break e}ce=y.return}}var F=i.current;for(ce=F;ce!==null;){T=ce;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,ce=H;else e:for(T=F;ce!==null;){if(C=ce,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Dc(9,C)}}catch(pe){at(C,C.return,pe)}if(C===T){ce=null;break e}var re=C.sibling;if(re!==null){re.return=C.return,ce=re;break e}ce=C.return}}if(Oe=m,xi(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(_s,i)}catch{}d=!0}return d}finally{De=l,Ln.transition=o}}return!1}function u0(i,o,l){o=Xo(l,o),o=xv(i,o,1),i=Ri(i,o,1),o=sn(),i!==null&&(yi(i,1,o),fn(i,o))}function at(i,o,l){if(i.tag===3)u0(i,i,l);else for(;o!==null;){if(o.tag===3){u0(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))){i=Xo(l,i),i=Cv(o,i,1),o=Ri(o,i,1),i=sn(),o!==null&&(yi(o,1,i),fn(o,i));break}}o=o.return}}function hP(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=sn(),i.pingedLanes|=i.suspendedLanes&l,Rt===i&&(jt&l)===l&&(St===4||St===3&&(jt&130023424)===jt&&500>We()-Bf?Ls(i,0):Uf|=l),fn(i,o)}function c0(i,o){o===0&&((i.mode&1)===0?o=1:(o=So,So<<=1,(So&130023424)===0&&(So=4194304)));var l=sn();i=Qr(i,o),i!==null&&(yi(i,o,l),fn(i,l))}function dP(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),c0(i,l)}function fP(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(o),c0(i,l)}var h0;h0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||un.current)hn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return hn=!1,eP(i,o,l);hn=(i.flags&131072)!==0}else hn=!1,et&&(o.flags&1048576)!==0&&Hy(o,gc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;bc(i,o),i=o.pendingProps;var m=zo(o,Ht.current);Go(o,l),m=vf(null,o,d,i,m,l);var y=_f();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,cn(d)?(y=!0,fc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,hf(o),m.updater=Rc,o.stateNode=m,m._reactInternals=o,Af(o,d,i,l),o=Rf(null,o,d,!0,y,l)):(o.tag=0,et&&y&&ef(o),rn(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(bc(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=mP(d),i=Zn(d,i),m){case 0:o=Cf(null,o,d,i,l);break e;case 1:o=Ov(null,o,d,i,l);break e;case 11:o=Nv(null,o,d,i,l);break e;case 14:o=Dv(null,o,d,Zn(d.type,i),l);break e}throw Error(n(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Cf(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Ov(i,o,d,m,l);case 3:e:{if(Fv(o),i===null)throw Error(n(387));d=o.pendingProps,y=o.memoizedState,m=y.element,Zy(i,o),Tc(o,d,null,l);var T=o.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Xo(Error(n(423)),o),o=jv(i,o,d,l,m);break e}else if(d!==m){m=Xo(Error(n(424)),o),o=jv(i,o,d,l,m);break e}else for(En=Ii(o.stateNode.containerInfo.firstChild),wn=o,et=!0,Jn=null,l=Yy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Wo(),d===m){o=Yr(i,o,l);break e}rn(i,o,d,l)}o=o.child}return o;case 5:return nv(o),i===null&&rf(o),d=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,T=m.children,Gd(d,m)?T=null:y!==null&&Gd(d,y)&&(o.flags|=32),Mv(i,o),rn(i,o,T,l),o.child;case 6:return i===null&&rf(o),null;case 13:return Uv(i,o,l);case 4:return df(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=qo(o,null,d,l):rn(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),Nv(i,o,d,m,l);case 7:return rn(i,o,o.pendingProps,l),o.child;case 8:return rn(i,o,o.pendingProps.children,l),o.child;case 12:return rn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,y=o.memoizedProps,T=m.value,qe(_c,d._currentValue),d._currentValue=T,y!==null)if(Yn(y.value,T)){if(y.children===m.children&&!un.current){o=Yr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var C=y.dependencies;if(C!==null){T=y.child;for(var L=C.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=Xr(-1,l&-l),L.tag=2;var W=y.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?L.next=L:(L.next=ee.next,ee.next=L),W.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),uf(y.return,l,o),C.lanes|=l;break}L=L.next}}else if(y.tag===10)T=y.type===o.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=l,C=T.alternate,C!==null&&(C.lanes|=l),uf(T,l,o),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===o){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}rn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,Go(o,l),m=Dn(m),d=d(m),o.flags|=1,rn(i,o,d,l),o.child;case 14:return d=o.type,m=Zn(d,o.pendingProps),m=Zn(d.type,m),Dv(i,o,d,m,l);case 15:return Vv(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Zn(d,m),bc(i,o),o.tag=1,cn(d)?(i=!0,fc(o)):i=!1,Go(o,l),Av(o,d,m),Af(o,d,m,l),Rf(null,o,d,!0,i,l);case 19:return zv(i,o,l);case 22:return Lv(i,o,l)}throw Error(n(156,o.tag))};function d0(i,o){return Eo(i,o)}function pP(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,o,l,d){return new pP(i,o,l,d)}function Qf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function mP(i){if(typeof i=="function")return Qf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===Vt)return 14}return 2}function Li(i,o){var l=i.alternate;return l===null?(l=Mn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function zc(i,o,l,d,m,y){var T=2;if(d=i,typeof i=="function")Qf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case N:return Os(l.children,m,y,o);case I:T=8,m|=8;break;case x:return i=Mn(12,l,o,m|2),i.elementType=x,i.lanes=y,i;case R:return i=Mn(13,l,o,m),i.elementType=R,i.lanes=y,i;case Je:return i=Mn(19,l,o,m),i.elementType=Je,i.lanes=y,i;case Ae:return $c(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:T=10;break e;case j:T=9;break e;case B:T=11;break e;case Vt:T=14;break e;case Lt:T=16,d=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Mn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=y,o}function Os(i,o,l,d){return i=Mn(7,i,d,o),i.lanes=l,i}function $c(i,o,l,d){return i=Mn(22,i,d,o),i.elementType=Ae,i.lanes=l,i.stateNode={isHidden:!1},i}function Xf(i,o,l){return i=Mn(6,i,null,o),i.lanes=l,i}function Yf(i,o,l){return o=Mn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function gP(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gi(0),this.expirationTimes=gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Jf(i,o,l,d,m,y,T,C,L){return i=new gP(i,o,l,C,L),o===1?(o=1,y===!0&&(o|=8)):o=0,y=Mn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},hf(y),i}function yP(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function f0(i){if(!i)return Pi;i=i._reactInternals;e:{if(Hn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(cn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var l=i.type;if(cn(l))return By(i,l,o)}return o}function p0(i,o,l,d,m,y,T,C,L){return i=Jf(l,d,!0,i,m,y,T,C,L),i.context=f0(null),l=i.current,d=sn(),m=Di(l),y=Xr(d,m),y.callback=o??null,Ri(l,y,m),i.current.lanes=m,yi(i,m,d),fn(i,d),i}function Hc(i,o,l,d){var m=o.current,y=sn(),T=Di(m);return l=f0(l),o.context===null?o.context=l:o.pendingContext=l,o=Xr(y,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=Ri(m,o,T),i!==null&&(nr(i,m,T,y),Ec(i,m,T)),T}function Wc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function m0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Zf(i,o){m0(i,o),(i=i.alternate)&&m0(i,o)}function vP(){return null}var g0=typeof reportError=="function"?reportError:function(i){console.error(i)};function ep(i){this._internalRoot=i}qc.prototype.render=ep.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Hc(i,o,null,null)},qc.prototype.unmount=ep.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Vs(function(){Hc(null,i,null,null)}),o[Wr]=null}};function qc(i){this._internalRoot=i}qc.prototype.unstable_scheduleHydration=function(i){if(i){var o=qu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<cr.length&&o!==0&&o<cr[l].priority;l++);cr.splice(l,0,i),l===0&&Qu(i)}};function tp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Kc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function y0(){}function _P(i,o,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var W=Wc(T);y.call(W)}}var T=p0(o,d,i,0,null,!1,!1,"",y0);return i._reactRootContainer=T,i[Wr]=T.current,dl(i.nodeType===8?i.parentNode:i),Vs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var C=d;d=function(){var W=Wc(L);C.call(W)}}var L=Jf(i,0,!1,null,null,!1,!1,"",y0);return i._reactRootContainer=L,i[Wr]=L.current,dl(i.nodeType===8?i.parentNode:i),Vs(function(){Hc(o,L,l,d)}),L}function Gc(i,o,l,d,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var C=m;m=function(){var L=Wc(T);C.call(L)}}Hc(o,T,i,m)}else T=_P(l,o,i,m,d);return Wc(T)}Hu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=mi(o.pendingLanes);l!==0&&(vi(o,l|1),fn(o,We()),(Oe&6)===0&&(Zo=We()+500,xi()))}break;case 13:Vs(function(){var d=Qr(i,1);if(d!==null){var m=sn();nr(d,i,1,m)}}),Zf(i,1)}},Io=function(i){if(i.tag===13){var o=Qr(i,134217728);if(o!==null){var l=sn();nr(o,i,134217728,l)}Zf(i,134217728)}},Wu=function(i){if(i.tag===13){var o=Di(i),l=Qr(i,o);if(l!==null){var d=sn();nr(l,i,o,d)}Zf(i,o)}},qu=function(){return De},Ku=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},mo=function(i,o,l){switch(o){case"input":if(Oa(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=hc(d);if(!m)throw Error(n(90));lo(d),Oa(d,m)}}}break;case"textarea":fo(i,l);break;case"select":o=l.value,o!=null&&Or(i,!!l.multiple,o,!1)}},ps=qf,Ka=Vs;var wP={usingClientEntryPoint:!1,Events:[ml,Uo,hc,lr,qa,qf]},Rl={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EP={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Xa(i),i===null?null:i.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||vP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{_s=Qc.inject(EP),gn=Qc}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP,pn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tp(o))throw Error(n(200));return yP(i,o,null,l)},pn.createRoot=function(i,o){if(!tp(i))throw Error(n(299));var l=!1,d="",m=g0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Jf(i,1,!1,null,null,l,!1,d,m),i[Wr]=o.current,dl(i.nodeType===8?i.parentNode:i),new ep(o)},pn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Xa(o),i=i===null?null:i.stateNode,i},pn.flushSync=function(i){return Vs(i)},pn.hydrate=function(i,o,l){if(!Kc(o))throw Error(n(200));return Gc(null,i,o,!0,l)},pn.hydrateRoot=function(i,o,l){if(!tp(i))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",T=g0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=p0(o,null,i,1,l??null,m,!1,y,T),i[Wr]=o.current,dl(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new qc(o)},pn.render=function(i,o,l){if(!Kc(o))throw Error(n(200));return Gc(null,i,o,!1,l)},pn.unmountComponentAtNode=function(i){if(!Kc(i))throw Error(n(40));return i._reactRootContainer?(Vs(function(){Gc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},pn.unstable_batchedUpdates=qf,pn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!Kc(l))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return Gc(i,o,l,!1,d)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var A0;function RP(){if(A0)return ip.exports;A0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ip.exports=CP(),ip.exports}var P0;function kP(){if(P0)return Xc;P0=1;var t=RP();return Xc.createRoot=t.createRoot,Xc.hydrateRoot=t.hydrateRoot,Xc}var bP=kP();const NP=RE(bP),DP="modulepreload",VP=function(t){return"/Costas_Portfolio/"+t},x0={},LP=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(n.map(p=>{if(p=VP(p),p in x0)return;x0[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const E=document.createElement("link");if(E.rel=v?"stylesheet":DP,v||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),v)return new Promise((A,b)=>{E.addEventListener("load",A),E.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var C0="popstate";function MP(t={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Op("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:tu(s)}return FP(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OP(){return Math.random().toString(36).substring(2,10)}function R0(t,e){return{usr:t.state,key:t.key,idx:e}}function Op(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:n,key:e&&e.key||r||OP()}}function tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function FP(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){h="POP";let k=v(),O=k==null?null:k-p;p=k,f&&f({action:h,location:D.location,delta:O})}function E(k,O){h="PUSH";let q=Op(D.location,k,O);p=v()+1;let K=R0(q,p),Z=D.createHref(q);try{u.pushState(K,"",Z)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(Z)}a&&f&&f({action:h,location:D.location,delta:1})}function A(k,O){h="REPLACE";let q=Op(D.location,k,O);p=v();let K=R0(q,p),Z=D.createHref(q);u.replaceState(K,"",Z),a&&f&&f({action:h,location:D.location,delta:0})}function b(k){return jP(k)}let D={get action(){return h},get location(){return t(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(C0,_),f=k,()=>{s.removeEventListener(C0,_),f=null}},createHref(k){return e(s,k)},createURL:b,encodeLocation(k){let O=b(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:A,go(k){return u.go(k)}};return D}function jP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),st(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function kE(t,e,n="/"){return UP(t,e,n,!1)}function UP(t,e,n,r){let s=typeof e=="string"?Pa(e):e,a=si(s.pathname||"/",n);if(a==null)return null;let u=bE(t);BP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=JP(a);h=XP(u[f],p,r)}return h}function bE(t,e=[],n=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ti([r,f.relativePath]),v=n.concat(f);a.children&&a.children.length>0&&(st(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),bE(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:GP(p,a.index),routesMeta:v})};return t.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))s(a,u);else for(let h of NE(a.path))s(a,u,h)}),e}function NE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=NE(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function BP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var zP=/^:[\w-]+$/,$P=3,HP=2,WP=1,qP=10,KP=-2,k0=t=>t==="*";function GP(t,e){let n=t.split("/"),r=n.length;return n.some(k0)&&(r+=KP),e&&(r+=HP),n.filter(s=>!k0(s)).reduce((s,a)=>s+(zP.test(a)?$P:a===""?WP:qP),r)}function QP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XP(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=Ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Ph({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:ti([a,_.pathname]),pathnameBase:nx(ti([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ti([a,_.pathnameBase]))}return u}function Ph(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=YP(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:_},E)=>{if(v==="*"){let b=h[E]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const A=h[E];return _&&!A?p[v]=void 0:p[v]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function YP(t,e=!1,n=!0){kr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function JP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ZP(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Pa(t):t;return{pathname:n?n.startsWith("/")?n:ex(n,e):e,search:rx(r),hash:ix(s)}}function ex(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ap(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DE(t){let e=tx(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function VE(t,e,n,r=!1){let s;typeof t=="string"?s=Pa(t):(s={...t},st(!s.pathname||!s.pathname.includes("?"),ap("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),ap("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),ap("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=ZP(s,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var ti=t=>t.join("/").replace(/\/\/+/g,"/"),nx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ix=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function sx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var LE=["POST","PUT","PATCH","DELETE"];new Set(LE);var ox=["GET",...LE];new Set(ox);var xa=M.createContext(null);xa.displayName="DataRouter";var td=M.createContext(null);td.displayName="DataRouterState";M.createContext(!1);var ME=M.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var ax=M.createContext(new Map);ax.displayName="Fetchers";var lx=M.createContext(null);lx.displayName="Await";var Dr=M.createContext(null);Dr.displayName="Navigation";var yu=M.createContext(null);yu.displayName="Location";var hi=M.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Rm=M.createContext(null);Rm.displayName="RouteError";function ux(t,{relative:e}={}){st(vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Dr),{hash:s,pathname:a,search:u}=_u(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:ti([n,a])),r.createHref({pathname:h,search:u,hash:s})}function vu(){return M.useContext(yu)!=null}function eo(){return st(vu(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(yu).location}var OE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FE(t){M.useContext(Dr).static||M.useLayoutEffect(t)}function cx(){let{isDataRoute:t}=M.useContext(hi);return t?Sx():hx()}function hx(){st(vu(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(xa),{basename:e,navigator:n}=M.useContext(Dr),{matches:r}=M.useContext(hi),{pathname:s}=eo(),a=JSON.stringify(DE(r)),u=M.useRef(!1);return FE(()=>{u.current=!0}),M.useCallback((f,p={})=>{if(kr(u.current,OE),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=VE(f,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ti([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,a,s,t])}M.createContext(null);function _u(t,{relative:e}={}){let{matches:n}=M.useContext(hi),{pathname:r}=eo(),s=JSON.stringify(DE(n));return M.useMemo(()=>VE(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function dx(t,e){return jE(t,e)}function jE(t,e,n,r){st(vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=M.useContext(Dr),{matches:a}=M.useContext(hi),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let O=v&&v.path||"";UE(f,!v||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let _=eo(),E;if(e){let O=typeof e=="string"?Pa(e):e;st(p==="/"||O.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${O.pathname}" was given in the \`location\` prop.`),E=O}else E=_;let A=E.pathname||"/",b=A;if(p!=="/"){let O=p.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let D=kE(t,{pathname:b});kr(v||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),kr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=yx(D&&D.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:ti([p,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:ti([p,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,r);return e&&k?M.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function fx(){let t=Tx(),e=sx(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:a},"ErrorBoundary")," or"," ",M.createElement("code",{style:a},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:s},n):null,u)}var px=M.createElement(fx,null),mx=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(hi.Provider,{value:this.props.routeContext},M.createElement(Rm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gx({routeContext:t,match:e,children:n}){let r=M.useContext(xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(hi.Provider,{value:t},n)}function yx(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);st(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:_}=n,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,v)=>{let _,E=!1,A=null,b=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,A=p.route.errorElement||px,u&&(h<0&&v===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):h===v&&(E=!0,b=p.route.hydrateFallbackElement||null)));let D=e.concat(s.slice(0,v+1)),k=()=>{let O;return _?O=A:E?O=b:p.route.Component?O=M.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=f,M.createElement(gx,{match:p,routeContext:{outlet:f,matches:D,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?M.createElement(mx,{location:n.location,revalidation:n.revalidation,component:A,error:_,children:k(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):k()},null)}function km(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vx(t){let e=M.useContext(xa);return st(e,km(t)),e}function _x(t){let e=M.useContext(td);return st(e,km(t)),e}function wx(t){let e=M.useContext(hi);return st(e,km(t)),e}function bm(t){let e=wx(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ex(){return bm("useRouteId")}function Tx(){let t=M.useContext(Rm),e=_x("useRouteError"),n=bm("useRouteError");return t!==void 0?t:e.errors?.[n]}function Sx(){let{router:t}=vx("useNavigate"),e=bm("useNavigate"),n=M.useRef(!1);return FE(()=>{n.current=!0}),M.useCallback(async(s,a={})=>{kr(n.current,OE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var b0={};function UE(t,e,n){!e&&!b0[t]&&(b0[t]=!0,kr(!1,n))}M.memo(Ix);function Ix({routes:t,future:e,state:n}){return jE(t,void 0,n,e)}function Fp(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ax({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){st(!vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=M.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof n=="string"&&(n=Pa(n));let{pathname:f="/",search:p="",hash:v="",state:_=null,key:E="default"}=n,A=M.useMemo(()=>{let b=si(f,u);return b==null?null:{location:{pathname:b,search:p,hash:v,state:_,key:E},navigationType:r}},[u,f,p,v,_,E,r]);return kr(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:M.createElement(Dr.Provider,{value:h},M.createElement(yu.Provider,{children:e,value:A}))}function Px({children:t,location:e}){return dx(jp(t),e)}function jp(t,e=[]){let n=[];return M.Children.forEach(t,(r,s)=>{if(!M.isValidElement(r))return;let a=[...e,s];if(r.type===M.Fragment){n.push.apply(n,jp(r.props.children,a));return}st(r.type===Fp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=jp(r.props.children,a)),n.push(u)}),n}var hh="get",dh="application/x-www-form-urlencoded";function nd(t){return t!=null&&typeof t.tagName=="string"}function xx(t){return nd(t)&&t.tagName.toLowerCase()==="button"}function Cx(t){return nd(t)&&t.tagName.toLowerCase()==="form"}function Rx(t){return nd(t)&&t.tagName.toLowerCase()==="input"}function kx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bx(t,e){return t.button===0&&(!e||e==="_self")&&!kx(t)}var Yc=null;function Nx(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var Dx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lp(t){return t!=null&&!Dx.has(t)?(kr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):t}function Vx(t,e){let n,r,s,a,u;if(Cx(t)){let h=t.getAttribute("action");r=h?si(h,e):null,n=t.getAttribute("method")||hh,s=lp(t.getAttribute("enctype"))||dh,a=new FormData(t)}else if(xx(t)||Rx(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(r=f?si(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||hh,s=lp(t.getAttribute("formenctype"))||lp(h.getAttribute("enctype"))||dh,a=new FormData(h,t),!Nx()){let{name:p,type:v,value:_}=t;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,r=null,s=dh,u=t}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Nm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Lx(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&si(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Mx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ox(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Fx(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await Mx(a,n);return u.links?u.links():[]}return[]}));return zx(r.flat(1).filter(Ox).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function N0(t,e,n,r,s,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function jx(t,e,{includeHydrateFallback:n}={}){return Ux(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Ux(t){return[...new Set(t)]}function Bx(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function zx(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(Bx(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function BE(){let t=M.useContext(xa);return Nm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function $x(){let t=M.useContext(td);return Nm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dm=M.createContext(void 0);Dm.displayName="FrameworkContext";function zE(){let t=M.useContext(Dm);return Nm(t,"You must render this element inside a <HydratedRouter> element"),t}function Hx(t,e){let n=M.useContext(Dm),[r,s]=M.useState(!1),[a,u]=M.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,E=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=O=>{O.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(D,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),M.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let A=()=>{s(!0)},b=()=>{s(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:bl(h,A),onBlur:bl(f,b),onMouseEnter:bl(p,A),onMouseLeave:bl(v,b),onTouchStart:bl(_,A)}]:[!1,E,{}]}function bl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Wx({page:t,...e}){let{router:n}=BE(),r=M.useMemo(()=>kE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(Kx,{page:t,matches:r,...e}):null}function qx(t){let{manifest:e,routeModules:n}=zE(),[r,s]=M.useState([]);return M.useEffect(()=>{let a=!1;return Fx(t,e,n).then(u=>{a||s(u)}),()=>{a=!0}},[t,e,n]),r}function Kx({page:t,matches:e,...n}){let r=eo(),{manifest:s,routeModules:a}=zE(),{basename:u}=BE(),{loaderData:h,matches:f}=$x(),p=M.useMemo(()=>N0(t,e,f,s,r,"data"),[t,e,f,s,r]),v=M.useMemo(()=>N0(t,e,f,s,r,"assets"),[t,e,f,s,r]),_=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,D=!1;if(e.forEach(O=>{let q=s.routes[O.route.id];!q||!q.hasLoader||(!p.some(K=>K.route.id===O.route.id)&&O.route.id in h&&a[O.route.id]?.shouldRevalidate||q.hasClientLoader?D=!0:b.add(O.route.id))}),b.size===0)return[];let k=Lx(t,u,"data");return D&&b.size>0&&k.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[u,h,r,s,p,e,t,a]),E=M.useMemo(()=>jx(v,s),[v,s]),A=qx(v);return M.createElement(M.Fragment,null,_.map(b=>M.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),E.map(b=>M.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),A.map(({key:b,link:D})=>M.createElement("link",{key:b,nonce:n.nonce,...D})))}function Gx(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $E=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$E&&(window.__reactRouterVersion="7.8.0")}catch{}function Qx({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=MP({window:n,v5Compat:!0}));let s=r.current,[a,u]=M.useState({action:s.action,location:s.location}),h=M.useCallback(f=>{M.startTransition(()=>u(f))},[u]);return M.useLayoutEffect(()=>s.listen(h),[s,h]),M.createElement(Ax,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var HE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WE=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:_,...E},A){let{basename:b}=M.useContext(Dr),D=typeof p=="string"&&HE.test(p),k,O=!1;if(typeof p=="string"&&D&&(k=p,$E))try{let x=new URL(window.location.href),V=p.startsWith("//")?new URL(x.protocol+p):new URL(p),j=si(V.pathname,b);V.origin===x.origin&&j!=null?p=j+V.search+V.hash:O=!0}catch{kr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=ux(p,{relative:s}),[K,Z,te]=Hx(r,E),oe=Zx(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:s,viewTransition:_});function N(x){e&&e(x),x.defaultPrevented||oe(x)}let I=M.createElement("a",{...E,...te,href:k||q,onClick:O||a?e:N,ref:Gx(A,Z),target:f,"data-discover":!D&&n==="render"?"true":void 0});return K&&!D?M.createElement(M.Fragment,null,I,M.createElement(Wx,{page:q})):I});WE.displayName="Link";var Xx=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let _=_u(u,{relative:p.relative}),E=eo(),A=M.useContext(td),{navigator:b,basename:D}=M.useContext(Dr),k=A!=null&&iC(_)&&h===!0,O=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,q=E.pathname,K=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),K=K?K.toLowerCase():null,O=O.toLowerCase()),K&&D&&(K=si(K,D)||K);const Z=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let te=q===O||!s&&q.startsWith(O)&&q.charAt(Z)==="/",oe=K!=null&&(K===O||!s&&K.startsWith(O)&&K.charAt(O.length)==="/"),N={isActive:te,isPending:oe,isTransitioning:k},I=te?e:void 0,x;typeof r=="function"?x=r(N):x=[r,te?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(N):a;return M.createElement(WE,{...p,"aria-current":I,className:x,ref:v,style:V,to:u,viewTransition:h},typeof f=="function"?f(N):f)});Xx.displayName="NavLink";var Yx=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:u=hh,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:_,...E},A)=>{let b=nC(),D=rC(h,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&HE.test(h),q=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let Z=K.nativeEvent.submitter,te=Z?.getAttribute("formmethod")||u;b(Z||K.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:s,state:a,relative:p,preventScrollReset:v,viewTransition:_})};return M.createElement("form",{ref:A,method:k,action:D,onSubmit:r?f:q,...E,"data-discover":!O&&t==="render"?"true":void 0})});Yx.displayName="Form";function Jx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(t){let e=M.useContext(xa);return st(e,Jx(t)),e}function Zx(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=cx(),f=eo(),p=_u(t,{relative:a});return M.useCallback(v=>{if(bx(v,e)){v.preventDefault();let _=n!==void 0?n:tu(f)===tu(p);h(t,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,n,r,e,t,s,a,u])}var eC=0,tC=()=>`__${String(++eC)}__`;function nC(){let{router:t}=qE("useSubmit"),{basename:e}=M.useContext(Dr),n=Ex();return M.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=Vx(r,e);if(s.navigate===!1){let v=s.fetcherKey||tC();await t.fetch(v,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function rC(t,{relative:e}={}){let{basename:n}=M.useContext(Dr),r=M.useContext(hi);st(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={..._u(t||".",{relative:e})},u=eo();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:ti([n,a.pathname])),tu(a)}function iC(t,{relative:e}={}){let n=M.useContext(ME);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qE("useViewTransitionState"),s=_u(t,{relative:e});if(!n.isTransitioning)return!1;let a=si(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ph(s.pathname,u)!=null||Ph(s.pathname,a)!=null}const sC=()=>{};var D0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},oC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],u=t[n++],h=t[n++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],u=s+1<t.length,h=u?t[s+1]:0,f=s+2<t.length,p=f?t[s+2]:0,v=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;f||(A=64,u||(E=64)),r.push(n[v],n[_],n[E],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],h=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new aC;const E=a<<2|h>>4;if(r.push(E),p!==64){const A=h<<4&240|p>>2;if(r.push(A),_!==64){const b=p<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lC=function(t){const e=KE(t);return GE.encodeByteArray(e,!0)},xh=function(t){return lC(t).replace(/\./g,"")},QE=function(t){try{return GE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=()=>uC().__FIREBASE_DEFAULTS__,hC=()=>{if(typeof process>"u"||typeof D0>"u")return;const t=D0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QE(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return sC()||cC()||hC()||dC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XE=t=>rd()?.emulatorHosts?.[t],YE=t=>{const e=XE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JE=()=>rd()?.config,ZE=t=>rd()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Vm(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[xh(JSON.stringify(n)),xh(JSON.stringify(u)),""].join(".")}const Hl={};function pC(){const t={prod:[],emulator:[]};for(const e of Object.keys(Hl))Hl[e]?t.emulator.push(e):t.prod.push(e);return t}function mC(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let V0=!1;function Lm(t,e){if(typeof window>"u"||typeof document>"u"||!ss(window.location.host)||Hl[t]===e||Hl[t]||V0)return;Hl[t]=e;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=pC().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{V0=!0,u()},E}function v(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=mC(r),A=n("text"),b=document.getElementById(A)||document.createElement("span"),D=n("learnmore"),k=document.getElementById(D)||document.createElement("a"),O=n("preprendIcon"),q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),v(k,D);const Z=p();f(q,O),K.append(q,b,k,Z),document.body.appendChild(K)}a?(b.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function yC(){const t=rd()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _C(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function wC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EC(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TC(){return!yC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SC(){try{return typeof indexedDB=="object"}catch{return!1}}function IC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="FirebaseError";class Vr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=AC,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?PC(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Vr(s,h,r)}}function PC(t,e){return t.replace(xC,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const xC=/\{\$([^}]+)}/g;function CC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ks(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],u=e[s];if(L0(a)&&L0(u)){if(!Ks(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function L0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Ll(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function RC(t,e){const n=new kC(t,e);return n.subscribe.bind(n)}class kC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bC(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=up),s.error===void 0&&(s.error=up),s.complete===void 0&&(s.complete=up);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function up(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){return t&&t._delegate?t._delegate:t}class Xi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VC(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(t){return t===js?void 0:t}function VC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const MC={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},OC=ke.INFO,FC={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},jC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=OC,this._logHandler=jC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const UC=(t,e)=>e.some(n=>t instanceof n);let M0,O0;function BC(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zC(){return O0||(O0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,Up=new WeakMap,n1=new WeakMap,cp=new WeakMap,Om=new WeakMap;function $C(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Wi(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&t1.set(n,t)}).catch(()=>{}),Om.set(e,t),e}function HC(t){if(Up.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Up.set(t,e)}let Bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Up.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WC(t){Bp=t(Bp)}function qC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hp(this),e,...n);return n1.set(r,e.sort?e.sort():[e]),Wi(r)}:zC().includes(t)?function(...e){return t.apply(hp(this),e),Wi(t1.get(this))}:function(...e){return Wi(t.apply(hp(this),e))}}function KC(t){return typeof t=="function"?qC(t):(t instanceof IDBTransaction&&HC(t),UC(t,BC())?new Proxy(t,Bp):t)}function Wi(t){if(t instanceof IDBRequest)return $C(t);if(cp.has(t))return cp.get(t);const e=KC(t);return e!==t&&(cp.set(t,e),Om.set(e,t)),e}const hp=t=>Om.get(t);function GC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(t,e),h=Wi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Wi(u.result),f.oldVersion,f.newVersion,Wi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const QC=["get","getKey","getAll","getAllKeys","count"],XC=["put","add","delete","clear"],dp=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dp.get(e))return dp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=XC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||QC.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),s&&f.done]))[0]};return dp.set(e,a),a}WC(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(JC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function JC(t){return t.getComponent()?.type==="VERSION"}const zp="@firebase/app",j0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Mm("@firebase/app"),ZC="@firebase/app-compat",eR="@firebase/analytics-compat",tR="@firebase/analytics",nR="@firebase/app-check-compat",rR="@firebase/app-check",iR="@firebase/auth",sR="@firebase/auth-compat",oR="@firebase/database",aR="@firebase/data-connect",lR="@firebase/database-compat",uR="@firebase/functions",cR="@firebase/functions-compat",hR="@firebase/installations",dR="@firebase/installations-compat",fR="@firebase/messaging",pR="@firebase/messaging-compat",mR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",vR="@firebase/remote-config-compat",_R="@firebase/storage",wR="@firebase/storage-compat",ER="@firebase/firestore",TR="@firebase/ai",SR="@firebase/firestore-compat",IR="firebase",AR="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",PR={[zp]:"fire-core",[ZC]:"fire-core-compat",[tR]:"fire-analytics",[eR]:"fire-analytics-compat",[rR]:"fire-app-check",[nR]:"fire-app-check-compat",[iR]:"fire-auth",[sR]:"fire-auth-compat",[oR]:"fire-rtdb",[aR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[uR]:"fire-fn",[cR]:"fire-fn-compat",[hR]:"fire-iid",[dR]:"fire-iid-compat",[fR]:"fire-fcm",[pR]:"fire-fcm-compat",[mR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[vR]:"fire-rc-compat",[_R]:"fire-gcs",[wR]:"fire-gcs-compat",[ER]:"fire-fst",[SR]:"fire-fst-compat",[TR]:"fire-vertex","fire-js":"fire-js",[IR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,xR=new Map,Hp=new Map;function U0(t,e){try{t.container.addComponent(e)}catch(n){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Hp.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Hp.set(e,t);for(const n of Ch.values())U0(n,t);for(const n of xR.values())U0(n,t);return!0}function id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new wu("app","Firebase",CR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=AR;function r1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$p,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(n||(n=JE()),!n)throw qi.create("no-options");const a=Ch.get(s);if(a){if(Ks(n,a.options)&&Ks(r,a.config))return a;throw qi.create("duplicate-app",{appName:s})}const u=new LC(s);for(const f of Hp.values())u.addComponent(f);const h=new RR(n,r,u);return Ch.set(s,h),h}function Fm(t=$p){const e=Ch.get(t);if(!e&&t===$p&&JE())return r1();if(!e)throw qi.create("no-app",{appName:t});return e}function wr(t,e,n){let r=PR[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(u.join(" "));return}Gs(new Xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebase-heartbeat-database",bR=1,nu="firebase-heartbeat-store";let fp=null;function i1(){return fp||(fp=GC(kR,bR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(t=>{throw qi.create("idb-open",{originalErrorMessage:t.message})})),fp}async function NR(t){try{const n=(await i1()).transaction(nu),r=await n.objectStore(nu).get(s1(t));return await n.done,r}catch(e){if(e instanceof Vr)oi.warn(e.message);else{const n=qi.create("idb-get",{originalErrorMessage:e?.message});oi.warn(n.message)}}}async function B0(t,e){try{const r=(await i1()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,s1(t)),await r.done}catch(n){if(n instanceof Vr)oi.warn(n.message);else{const r=qi.create("idb-set",{originalErrorMessage:n?.message});oi.warn(r.message)}}}function s1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=1024,VR=30;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>VR){const s=FR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z0(),{heartbeatsToSend:n,unsentEntries:r}=MR(this._heartbeatsCache.heartbeats),s=xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return oi.warn(e),""}}}function z0(){return new Date().toISOString().substring(0,10)}function MR(t,e=DR){const n=[];let r=t.slice();for(const s of t){const a=n.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),$0(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),$0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SC()?IC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return B0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $0(t){return xh(JSON.stringify({version:2,heartbeats:t})).length}function FR(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){Gs(new Xi("platform-logger",e=>new YC(e),"PRIVATE")),Gs(new Xi("heartbeat",e=>new LR(e),"PRIVATE")),wr(zp,j0,t),wr(zp,j0,"esm2020"),wr("fire-js","")}jR("");var UR="firebase",BR="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(UR,BR,"app");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,o1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function x(){}x.prototype=I.prototype,N.D=I.prototype,N.prototype=new x,N.prototype.constructor=N,N.C=function(V,j,B){for(var R=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)R[Je-2]=arguments[Je];return I.prototype[j].apply(V,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,I,x){x||(x=0);var V=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)V[j]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(j=0;16>j;++j)V[j]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=N.g[0],x=N.g[1],j=N.g[2];var B=N.g[3],R=I+(B^x&(j^B))+V[0]+3614090360&4294967295;I=x+(R<<7&4294967295|R>>>25),R=B+(j^I&(x^j))+V[1]+3905402710&4294967295,B=I+(R<<12&4294967295|R>>>20),R=j+(x^B&(I^x))+V[2]+606105819&4294967295,j=B+(R<<17&4294967295|R>>>15),R=x+(I^j&(B^I))+V[3]+3250441966&4294967295,x=j+(R<<22&4294967295|R>>>10),R=I+(B^x&(j^B))+V[4]+4118548399&4294967295,I=x+(R<<7&4294967295|R>>>25),R=B+(j^I&(x^j))+V[5]+1200080426&4294967295,B=I+(R<<12&4294967295|R>>>20),R=j+(x^B&(I^x))+V[6]+2821735955&4294967295,j=B+(R<<17&4294967295|R>>>15),R=x+(I^j&(B^I))+V[7]+4249261313&4294967295,x=j+(R<<22&4294967295|R>>>10),R=I+(B^x&(j^B))+V[8]+1770035416&4294967295,I=x+(R<<7&4294967295|R>>>25),R=B+(j^I&(x^j))+V[9]+2336552879&4294967295,B=I+(R<<12&4294967295|R>>>20),R=j+(x^B&(I^x))+V[10]+4294925233&4294967295,j=B+(R<<17&4294967295|R>>>15),R=x+(I^j&(B^I))+V[11]+2304563134&4294967295,x=j+(R<<22&4294967295|R>>>10),R=I+(B^x&(j^B))+V[12]+1804603682&4294967295,I=x+(R<<7&4294967295|R>>>25),R=B+(j^I&(x^j))+V[13]+4254626195&4294967295,B=I+(R<<12&4294967295|R>>>20),R=j+(x^B&(I^x))+V[14]+2792965006&4294967295,j=B+(R<<17&4294967295|R>>>15),R=x+(I^j&(B^I))+V[15]+1236535329&4294967295,x=j+(R<<22&4294967295|R>>>10),R=I+(j^B&(x^j))+V[1]+4129170786&4294967295,I=x+(R<<5&4294967295|R>>>27),R=B+(x^j&(I^x))+V[6]+3225465664&4294967295,B=I+(R<<9&4294967295|R>>>23),R=j+(I^x&(B^I))+V[11]+643717713&4294967295,j=B+(R<<14&4294967295|R>>>18),R=x+(B^I&(j^B))+V[0]+3921069994&4294967295,x=j+(R<<20&4294967295|R>>>12),R=I+(j^B&(x^j))+V[5]+3593408605&4294967295,I=x+(R<<5&4294967295|R>>>27),R=B+(x^j&(I^x))+V[10]+38016083&4294967295,B=I+(R<<9&4294967295|R>>>23),R=j+(I^x&(B^I))+V[15]+3634488961&4294967295,j=B+(R<<14&4294967295|R>>>18),R=x+(B^I&(j^B))+V[4]+3889429448&4294967295,x=j+(R<<20&4294967295|R>>>12),R=I+(j^B&(x^j))+V[9]+568446438&4294967295,I=x+(R<<5&4294967295|R>>>27),R=B+(x^j&(I^x))+V[14]+3275163606&4294967295,B=I+(R<<9&4294967295|R>>>23),R=j+(I^x&(B^I))+V[3]+4107603335&4294967295,j=B+(R<<14&4294967295|R>>>18),R=x+(B^I&(j^B))+V[8]+1163531501&4294967295,x=j+(R<<20&4294967295|R>>>12),R=I+(j^B&(x^j))+V[13]+2850285829&4294967295,I=x+(R<<5&4294967295|R>>>27),R=B+(x^j&(I^x))+V[2]+4243563512&4294967295,B=I+(R<<9&4294967295|R>>>23),R=j+(I^x&(B^I))+V[7]+1735328473&4294967295,j=B+(R<<14&4294967295|R>>>18),R=x+(B^I&(j^B))+V[12]+2368359562&4294967295,x=j+(R<<20&4294967295|R>>>12),R=I+(x^j^B)+V[5]+4294588738&4294967295,I=x+(R<<4&4294967295|R>>>28),R=B+(I^x^j)+V[8]+2272392833&4294967295,B=I+(R<<11&4294967295|R>>>21),R=j+(B^I^x)+V[11]+1839030562&4294967295,j=B+(R<<16&4294967295|R>>>16),R=x+(j^B^I)+V[14]+4259657740&4294967295,x=j+(R<<23&4294967295|R>>>9),R=I+(x^j^B)+V[1]+2763975236&4294967295,I=x+(R<<4&4294967295|R>>>28),R=B+(I^x^j)+V[4]+1272893353&4294967295,B=I+(R<<11&4294967295|R>>>21),R=j+(B^I^x)+V[7]+4139469664&4294967295,j=B+(R<<16&4294967295|R>>>16),R=x+(j^B^I)+V[10]+3200236656&4294967295,x=j+(R<<23&4294967295|R>>>9),R=I+(x^j^B)+V[13]+681279174&4294967295,I=x+(R<<4&4294967295|R>>>28),R=B+(I^x^j)+V[0]+3936430074&4294967295,B=I+(R<<11&4294967295|R>>>21),R=j+(B^I^x)+V[3]+3572445317&4294967295,j=B+(R<<16&4294967295|R>>>16),R=x+(j^B^I)+V[6]+76029189&4294967295,x=j+(R<<23&4294967295|R>>>9),R=I+(x^j^B)+V[9]+3654602809&4294967295,I=x+(R<<4&4294967295|R>>>28),R=B+(I^x^j)+V[12]+3873151461&4294967295,B=I+(R<<11&4294967295|R>>>21),R=j+(B^I^x)+V[15]+530742520&4294967295,j=B+(R<<16&4294967295|R>>>16),R=x+(j^B^I)+V[2]+3299628645&4294967295,x=j+(R<<23&4294967295|R>>>9),R=I+(j^(x|~B))+V[0]+4096336452&4294967295,I=x+(R<<6&4294967295|R>>>26),R=B+(x^(I|~j))+V[7]+1126891415&4294967295,B=I+(R<<10&4294967295|R>>>22),R=j+(I^(B|~x))+V[14]+2878612391&4294967295,j=B+(R<<15&4294967295|R>>>17),R=x+(B^(j|~I))+V[5]+4237533241&4294967295,x=j+(R<<21&4294967295|R>>>11),R=I+(j^(x|~B))+V[12]+1700485571&4294967295,I=x+(R<<6&4294967295|R>>>26),R=B+(x^(I|~j))+V[3]+2399980690&4294967295,B=I+(R<<10&4294967295|R>>>22),R=j+(I^(B|~x))+V[10]+4293915773&4294967295,j=B+(R<<15&4294967295|R>>>17),R=x+(B^(j|~I))+V[1]+2240044497&4294967295,x=j+(R<<21&4294967295|R>>>11),R=I+(j^(x|~B))+V[8]+1873313359&4294967295,I=x+(R<<6&4294967295|R>>>26),R=B+(x^(I|~j))+V[15]+4264355552&4294967295,B=I+(R<<10&4294967295|R>>>22),R=j+(I^(B|~x))+V[6]+2734768916&4294967295,j=B+(R<<15&4294967295|R>>>17),R=x+(B^(j|~I))+V[13]+1309151649&4294967295,x=j+(R<<21&4294967295|R>>>11),R=I+(j^(x|~B))+V[4]+4149444226&4294967295,I=x+(R<<6&4294967295|R>>>26),R=B+(x^(I|~j))+V[11]+3174756917&4294967295,B=I+(R<<10&4294967295|R>>>22),R=j+(I^(B|~x))+V[2]+718787259&4294967295,j=B+(R<<15&4294967295|R>>>17),R=x+(B^(j|~I))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+j&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var x=I-this.blockSize,V=this.B,j=this.h,B=0;B<I;){if(j==0)for(;B<=x;)s(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<I;)if(V[j++]=N.charCodeAt(B++),j==this.blockSize){s(this,V),j=0;break}}else for(;B<I;)if(V[j++]=N[B++],j==this.blockSize){s(this,V),j=0;break}}this.h=j,this.o+=I},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var x=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=x&255,x/=256;for(this.u(N),N=Array(16),I=x=0;4>I;++I)for(var V=0;32>V;V+=8)N[x++]=this.g[I]>>>V&255;return N};function a(N,I){var x=h;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=I(N)}function u(N,I){this.h=I;for(var x=[],V=!0,j=N.length-1;0<=j;j--){var B=N[j]|0;V&&B==I||(x[j]=B,V=!1)}this.g=x}var h={};function f(N){return-128<=N&&128>N?a(N,function(I){return new u([I|0],0>I?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return k(p(-N));for(var I=[],x=1,V=0;N>=x;V++)I[V]=N/x|0,x*=4294967296;return new u(I,0)}function v(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return k(v(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=p(Math.pow(I,8)),V=_,j=0;j<N.length;j+=8){var B=Math.min(8,N.length-j),R=parseInt(N.substring(j,j+B),I);8>B?(B=p(Math.pow(I,B)),V=V.j(B).add(p(R))):(V=V.j(x),V=V.add(p(R)))}return V}var _=f(0),E=f(1),A=f(16777216);t=u.prototype,t.m=function(){if(D(this))return-k(this).m();for(var N=0,I=1,x=0;x<this.g.length;x++){var V=this.i(x);N+=(0<=V?V:4294967296+V)*I,I*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(D(this))return"-"+k(this).toString(N);for(var I=p(Math.pow(N,6)),x=this,V="";;){var j=Z(x,I).g;x=O(x,j.j(I));var B=((0<x.g.length?x.g[0]:x.h)>>>0).toString(N);if(x=j,b(x))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function D(N){return N.h==-1}t.l=function(N){return N=O(this,N),D(N)?-1:b(N)?0:1};function k(N){for(var I=N.g.length,x=[],V=0;V<I;V++)x[V]=~N.g[V];return new u(x,~N.h).add(E)}t.abs=function(){return D(this)?k(this):this},t.add=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],V=0,j=0;j<=I;j++){var B=V+(this.i(j)&65535)+(N.i(j)&65535),R=(B>>>16)+(this.i(j)>>>16)+(N.i(j)>>>16);V=R>>>16,B&=65535,R&=65535,x[j]=R<<16|B}return new u(x,x[x.length-1]&-2147483648?-1:0)};function O(N,I){return N.add(k(I))}t.j=function(N){if(b(this)||b(N))return _;if(D(this))return D(N)?k(this).j(k(N)):k(k(this).j(N));if(D(N))return k(this.j(k(N)));if(0>this.l(A)&&0>N.l(A))return p(this.m()*N.m());for(var I=this.g.length+N.g.length,x=[],V=0;V<2*I;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(var j=0;j<N.g.length;j++){var B=this.i(V)>>>16,R=this.i(V)&65535,Je=N.i(j)>>>16,Vt=N.i(j)&65535;x[2*V+2*j]+=R*Vt,q(x,2*V+2*j),x[2*V+2*j+1]+=B*Vt,q(x,2*V+2*j+1),x[2*V+2*j+1]+=R*Je,q(x,2*V+2*j+1),x[2*V+2*j+2]+=B*Je,q(x,2*V+2*j+2)}for(V=0;V<I;V++)x[V]=x[2*V+1]<<16|x[2*V];for(V=I;V<2*I;V++)x[V]=0;return new u(x,0)};function q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function K(N,I){this.g=N,this.h=I}function Z(N,I){if(b(I))throw Error("division by zero");if(b(N))return new K(_,_);if(D(N))return I=Z(k(N),I),new K(k(I.g),k(I.h));if(D(I))return I=Z(N,k(I)),new K(k(I.g),I.h);if(30<N.g.length){if(D(N)||D(I))throw Error("slowDivide_ only works with positive integers.");for(var x=E,V=I;0>=V.l(N);)x=te(x),V=te(V);var j=oe(x,1),B=oe(V,1);for(V=oe(V,2),x=oe(x,2);!b(V);){var R=B.add(V);0>=R.l(N)&&(j=j.add(x),B=R),V=oe(V,1),x=oe(x,1)}return I=O(N,j.j(I)),new K(j,I)}for(j=_;0<=N.l(I);){for(x=Math.max(1,Math.floor(N.m()/I.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(x),R=B.j(I);D(R)||0<R.l(N);)x-=V,B=p(x),R=B.j(I);b(B)&&(B=E),j=j.add(B),N=O(N,R)}return new K(j,N)}t.A=function(N){return Z(this,N).h},t.and=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)&N.i(V);return new u(x,this.h&N.h)},t.or=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)|N.i(V);return new u(x,this.h|N.h)},t.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),x=[],V=0;V<I;V++)x[V]=this.i(V)^N.i(V);return new u(x,this.h^N.h)};function te(N){for(var I=N.g.length+1,x=[],V=0;V<I;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(x,N.h)}function oe(N,I){var x=I>>5;I%=32;for(var V=N.g.length-x,j=[],B=0;B<V;B++)j[B]=0<I?N.i(B+x)>>>I|N.i(B+x+1)<<32-I:N.i(B+x);return new u(j,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ki=u}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var a1,Ml,l1,fh,Wp,u1,c1,h1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(c,g){if(g)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in w))break e;w=w[z]}c=c[c.length-1],S=w[c],g=g(S),g!=S&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,S=!1,z={next:function(){if(!S&&w<c.length){var G=w++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function _(c,g,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function E(c,g,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,E.apply(null,arguments)}function A(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,z,G){for(var se=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)se[ze-2]=arguments[ze];return g.prototype[z].apply(S,se)}}function D(c){const g=c.length;if(0<g){const w=Array(g);for(let S=0;S<g;S++)w[S]=c[S];return w}return[]}function k(c,g){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const z=c.length||0,G=S.length||0;c.length=z+G;for(let se=0;se<G;se++)c[z+se]=S[se]}else c.push(S)}}class O{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var te=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function oe(c,g,w){for(const S in c)g.call(w,c[S],S,c)}function N(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function I(c){const g={};for(const w in c)g[w]=c[w];return g}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let w,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(w in S)c[w]=S[w];for(let G=0;G<x.length;G++)w=x[G],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function j(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function B(c){h.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Je{constructor(){this.h=this.g=null}add(g,w){const S=Vt.get();S.set(g,w),this.h?this.h.next=S:this.g=S,this.h=S}}var Vt=new O(()=>new Lt,c=>c.reset());class Lt{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ie=!1,me=new Je,ae=()=>{const c=h.Promise.resolve(void 0);Ae=()=>{c.then(U)}};var U=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){B(w)}var g=Vt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ie=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,g),h.removeEventListener("test",w,g)}catch{}return c}();function Ce(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(te){e:{try{Z(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}b(Ce,ge);var Ve={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,w,S,z){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!S,this.ha=z,this.key=++Ue,this.da=this.fa=!1}function Pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lr(c){this.src=c,this.g={},this.h=0}Lr.prototype.add=function(c,g,w,S,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=di(c,g,S,z);return-1<se?(g=c[se],w||(g.fa=!1)):(g=new He(g,this.src,G,!!S,z),g.fa=w,c.push(g)),g};function lo(c,g){var w=g.type;if(w in c.g){var S=c.g[w],z=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=z)&&Array.prototype.splice.call(S,z,1),G&&(Pt(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function di(c,g,w,S){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==g&&G.capture==!!w&&G.ha==S)return z}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),uo={};function Ma(c,g,w,S,z){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Ma(c,g[G],w,S,z);return null}return w=ja(w),c&&c[je]?c.K(g,w,p(S)?!!S.capture:!1,z):Oa(c,g,w,!1,S,z)}function Oa(c,g,w,S,z,G){if(!g)throw Error("Invalid event type");var se=p(z)?!!z.capture:!!z,ze=ho(c);if(ze||(c[cs]=ze=new Lr(c)),w=ze.add(g,w,S,se,G),w.proxy)return w;if(S=Lu(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)xe||(z=se),z===void 0&&(z=!1),c.addEventListener(g.toString(),S,z);else if(c.attachEvent)c.attachEvent(Or(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Lu(){function c(w){return g.call(c.src,c.listener,w)}const g=Fa;return c}function co(c,g,w,S,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)co(c,g[G],w,S,z);else S=p(S)?!!S.capture:!!S,w=ja(w),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],w=di(G,w,S,z),-1<w&&(Pt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=ho(c))&&(g=c.g[g.toString()],c=-1,g&&(c=di(g,w,S,z)),(w=-1<c?g[c]:null)&&Mr(w))}function Mr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])lo(g.i,c);else{var w=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(w,S,c.capture):g.detachEvent?g.detachEvent(Or(w),S):g.addListener&&g.removeListener&&g.removeListener(S),(w=ho(g))?(lo(w,c),w.h==0&&(w.src=null,g[cs]=null)):Pt(c)}}}function Or(c){return c in uo?uo[c]:uo[c]="on"+c}function Fa(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var w=c.listener,S=c.ha||c.src;c.fa&&Mr(c),c=w.call(S,g)}return c}function ho(c){return c=c[cs],c instanceof Lr?c:null}var fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(c){return typeof c=="function"?c:(c[fo]||(c[fo]=function(g){return c.handleEvent(g)}),c[fo])}function _t(){X.call(this),this.i=new Lr(this),this.M=this,this.F=null}b(_t,X),_t.prototype[je]=!0,_t.prototype.removeEventListener=function(c,g,w,S){co(this,c,g,w,S)};function wt(c,g){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var z=g;g=new ge(S,c),V(g,z)}if(z=!0,w)for(var G=w.length-1;0<=G;G--){var se=g.g=w[G];z=Fr(se,S,!0,g)&&z}if(se=g.g=c,z=Fr(se,S,!0,g)&&z,z=Fr(se,S,!1,g)&&z,w)for(G=0;G<w.length;G++)se=g.g=w[G],z=Fr(se,S,!1,g)&&z}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],S=0;S<w.length;S++)Pt(w[S]);delete c.g[g],c.h--}}this.F=null},_t.prototype.K=function(c,g,w,S){return this.i.add(String(c),g,!1,w,S)},_t.prototype.L=function(c,g,w,S){return this.i.add(String(c),g,!0,w,S)};function Fr(c,g,w,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,G=0;G<g.length;++G){var se=g[G];if(se&&!se.da&&se.capture==w){var ze=se.listener,Et=se.ha||se.src;se.fa&&lo(c.i,se),z=ze.call(Et,S)!==!1&&z}}return z&&!S.defaultPrevented}function Ua(c,g,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function fi(c){c.g=Ua(()=>{c.g=null,c.i&&(c.i=!1,fi(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class hs extends X{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:fi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){X.call(this),this.h=c,this.g={}}b(ds,X);var Ba=[];function za(c){oe(c.g,function(g,w){this.g.hasOwnProperty(w)&&Mr(g)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),za(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $a=h.JSON.stringify,Ha=h.JSON.parse,Wa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function fs(){}fs.prototype.h=null;function po(c){return c.h||(c.h=c.i())}function mo(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ar(){ge.call(this,"d")}b(ar,ge);function go(){ge.call(this,"c")}b(go,ge);var lr={},qa=null;function ps(){return qa=qa||new _t}lr.La="serverreachability";function Ka(c){ge.call(this,lr.La,c)}b(Ka,ge);function jr(c){const g=ps();wt(g,new Ka(g))}lr.STAT_EVENT="statevent";function Ga(c,g){ge.call(this,lr.STAT_EVENT,c),this.stat=g}b(Ga,ge);function ht(c){const g=ps();wt(g,new Ga(g,c))}lr.Ma="timingevent";function yo(c,g){ge.call(this,lr.Ma,c),this.size=g}b(yo,ge);function zn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function gs(c,g,w,S,z,G){c.info(function(){if(c.g)if(G)for(var se="",ze=G.split("&"),Et=0;Et<ze.length;Et++){var Le=ze[Et].split("=");if(1<Le.length){var xt=Le[0];Le=Le[1];var mt=xt.split("_");se=2<=mt.length&&mt[1]=="type"?se+(xt+"="+Le+"&"):se+(xt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+g+`
`+w+`
`+se})}function vo(c,g,w,S,z,G,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+g+`
`+w+`
`+G+" "+se})}function $n(c,g,w,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Rd(c,w)+(S?" "+S:"")})}function Qa(c,g){c.info(function(){return"TIMEOUT: "+g})}ms.prototype.info=function(){};function Rd(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<z.length;se++)z[se]=""}}}}return $a(w)}catch{return g}}var _o={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function ys(){}b(ys,fs),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},Hn=new ys;function Wn(c,g,w,S){this.j=c,this.i=g,this.l=w,this.R=S||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ou}function Ou(){this.i=null,this.g="",this.h=!1}var Xa={},wo={};function Eo(c,g,w){c.L=1,c.v=vi(yn(g)),c.m=w,c.P=!0,Ya(c,null)}function Ya(c,g){c.F=Date.now(),We(c),c.A=yn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),wi(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Ou,c.g=tc(c.j,w?g:null,!c.m),0<c.O&&(c.M=new hs(E(c.Y,c,c.g),c.O)),g=c.U,w=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ba[0]=z.toString()),z=Ba);for(var G=0;G<z.length;G++){var se=Ma(w,z[G],S||g.handleEvent,!1,g.h||g);if(!se)break;g.g[se.key]=se}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),jr(),gs(c.i,c.u,c.A,c.l,c.R,c.m)}Wn.prototype.ca=function(c){c=c.target;const g=this.M;g&&ln(c)==3?g.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const mt=ln(this.g);var g=this.g.Ba();const kn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||rl(this.g)))){this.J||mt!=4||g==7||(g==8||0>=kn?jr(3):jr(2)),vs(this);var w=this.g.Z();this.X=w;t:if(Fu(this)){var S=rl(this.g);c="";var z=S.length,G=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cn(this),pi(this);var se="";break t}this.h.i=new h.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==z-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=w==200,vo(this.i,this.u,this.A,this.l,this.R,mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Et=this.g;if((ze=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(ze)){var Le=ze;break t}}Le=null}if(w=Le)$n(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,w);else{this.o=!1,this.s=3,ht(12),Cn(this),pi(this);break e}}if(this.P){w=!0;let _n;for(;!this.J&&this.C<se.length;)if(_n=kd(this,se),_n==wo){mt==4&&(this.s=4,ht(14),w=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Xa){this.s=4,ht(15),$n(this.i,this.l,se,"[Invalid Chunk]"),w=!1;break}else $n(this.i,this.l,_n,null),Ja(this,_n);if(Fu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||se.length!=0||this.h.h||(this.s=1,ht(16),w=!1),this.o=this.o&&w,!w)$n(this.i,this.l,se,"[Invalid Chunked Response]"),Cn(this),pi(this);else if(0<se.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),sl(xt),xt.M=!0,ht(11))}}else $n(this.i,this.l,se,null),Ja(this,se);mt==4&&Cn(this),this.o&&!this.J&&(mt==4?No(this.j,this):(this.o=!1,We(this)))}else xo(this.g),w==400&&0<se.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Cn(this),pi(this)}}}catch{}finally{}};function Fu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function kd(c,g){var w=c.C,S=g.indexOf(`
`,w);return S==-1?wo:(w=Number(g.substring(w,S)),isNaN(w)?Xa:(S+=1,S+w>g.length?wo:(g=g.slice(S,S+w),c.C=S+w,g)))}Wn.prototype.cancel=function(){this.J=!0,Cn(this)};function We(c){c.S=Date.now()+c.I,ju(c,c.I)}function ju(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=zn(E(c.ba,c),g)}function vs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Wn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qa(this.i,this.A),this.L!=2&&(jr(),ht(17)),Cn(this),this.s=2,pi(this)):ju(this,this.S-c)};function pi(c){c.j.G==0||c.J||No(c.j,c)}function Cn(c){vs(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,za(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ja(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||tn(w.h,c))){if(!c.K&&tn(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)bo(w),Xn(w);else break e;ko(w),ht(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=zn(E(w.Za,w),6e3));if(1>=Bu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hr(w,11)}else if((c.K||w.g==c)&&bo(w),!q(g))for(z=w.Da.g.parse(g),g=0;g<z.length;g++){let Le=z[g];if(w.T=Le[0],Le=Le[1],w.G==2)if(Le[0]=="c"){w.K=Le[1],w.ia=Le[2];const xt=Le[3];xt!=null&&(w.la=xt,w.j.info("VER="+w.la));const mt=Le[4];mt!=null&&(w.Aa=mt,w.j.info("SVER="+w.Aa));const kn=Le[5];kn!=null&&typeof kn=="number"&&0<kn&&(S=1.5*kn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const _n=c.g;if(_n){const As=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var G=S.h;G.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Za(G,G.h),G.h=null))}if(S.D){const Vo=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(S.ya=Vo,$e(S.I,S.D,Vo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var se=c;if(S.qa=ec(S,S.J?S.ia:null,S.W),se.K){zu(S.h,se);var ze=se,Et=S.L;Et&&(ze.I=Et),ze.B&&(vs(ze),We(ze)),S.g=se}else Is(S);0<w.i.length&&dr(w)}else Le[0]!="stop"&&Le[0]!="close"||Hr(w,7);else w.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Hr(w,7):Ot(w):Le[0]!="noop"&&w.l&&w.l.ta(Le),w.v=0)}}jr(4)}catch{}}var Uu=class{constructor(c,g){this.g=c,this.map=g}};function _s(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bu(c){return c.h?1:c.g?c.g.size:0}function tn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Za(c,g){c.g?c.g.add(g):c.h=g}function zu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}_s.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $u(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return D(c.i)}function To(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,S=0;S<w;S++)g.push(c[S]);return g}g=[],w=0;for(S in c)g[w++]=c[S];return g}function So(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const S in c)g[w++]=S;return g}}}function mi(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=So(c),S=To(c),z=S.length,G=0;G<z;G++)g.call(void 0,S[G],w&&w[G],c)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bd(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),z=null;if(0<=S){var G=c[w].substring(0,S);z=c[w].substring(S+1)}else G=c[w];g(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,Es(this,c.j),this.o=c.o,this.g=c.g,gi(this,c.s),this.l=c.l;var g=c.i,w=new ur;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),yi(this,w),this.m=c.m}else c&&(g=String(c).match(ws))?(this.h=!1,Es(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),gi(this,g[4]),this.l=De(g[5]||"",!0),yi(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Ur.prototype.toString=function(){var c=[],g=this.j;g&&c.push(_i(g,Io,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(_i(g,Io,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(_i(w,w.charAt(0)=="/"?qu:Wu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",_i(w,el)),c.join("")};function yn(c){return new Ur(c)}function Es(c,g,w){c.j=w?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function gi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function yi(c,g,w){g instanceof ur?(c.i=g,cr(c.i,c.h)):(w||(g=_i(g,Ku)),c.i=new ur(g,c.h))}function $e(c,g,w){c.i.set(g,w)}function vi(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _i(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Hu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,Wu=/[#\?:]/g,qu=/[#\?]/g,Ku=/[#\?@]/g,el=/#/g;function ur(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Mt(c){c.g||(c.g=new Map,c.h=0,c.i&&bd(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=ur.prototype,t.add=function(c,g){Mt(this),this.i=null,c=Rn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function qn(c,g){Mt(c),g=Rn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Kn(c,g){return Mt(c),g=Rn(c,g),c.g.has(g)}t.forEach=function(c,g){Mt(this),this.g.forEach(function(w,S){w.forEach(function(z){c.call(g,z,S,this)},this)},this)},t.na=function(){Mt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let S=0;S<g.length;S++){const z=c[S];for(let G=0;G<z.length;G++)w.push(g[S])}return w},t.V=function(c){Mt(this);let g=[];if(typeof c=="string")Kn(this,c)&&(g=g.concat(this.g.get(Rn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},t.set=function(c,g){return Mt(this),this.i=null,c=Rn(this,c),Kn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function wi(c,g,w){qn(c,g),0<w.length&&(c.i=null,c.g.set(Rn(c,g),D(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var S=g[w];const G=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var z=G;se[S]!==""&&(z+="="+encodeURIComponent(String(se[S]))),c.push(z)}}return this.i=c.join("&")};function Rn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function cr(c,g){g&&!c.j&&(Mt(c),c.i=null,c.g.forEach(function(w,S){var z=S.toLowerCase();S!=z&&(qn(this,S),wi(this,z,w))},c)),c.j=g}function Nd(c,g){const w=new ms;if(h.Image){const S=new Image;S.onload=A(an,w,"TestLoadImage: loaded",!0,g,S),S.onerror=A(an,w,"TestLoadImage: error",!1,g,S),S.onabort=A(an,w,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(an,w,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Gu(c,g){const w=new ms,S=new AbortController,z=setTimeout(()=>{S.abort(),an(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?an(w,"TestPingServer: ok",!0,g):an(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),an(w,"TestPingServer: error",!1,g)})}function an(c,g,w,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(w)}catch{}}function Dd(){this.g=new Wa}function Qu(c,g,w){const S=w||"";try{mi(c,function(z,G){let se=z;p(z)&&(se=$a(z)),g.push(S+G+"="+encodeURIComponent(se))})}catch(z){throw g.push(S+"type="+encodeURIComponent("_badmap")),z}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Br,fs),Br.prototype.g=function(){return new Ts(this.l,this.j)},Br.prototype.i=function(c){return function(){return c}}({});function Ts(c,g){_t.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ts,_t),t=Ts.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Qn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Gn(this):Qn(this),this.readyState==3&&Xu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Gn(this))},t.Qa=function(c){this.g&&(this.response=c,Gn(this))},t.ga=function(){this.g&&Gn(this)};function Gn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qn(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zr(c){let g="";return oe(c,function(w,S){g+=S,g+=":",g+=w,g+=`\r
`}),g}function Ei(c,g,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=zr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):$e(c,g,w))}function Ze(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ze,_t);var Vd=/^https?$/i,tl=["POST","PUT"];t=Ze.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?po(this.o):po(Hn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Ss(this,G);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)w.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())w.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(tl,g,void 0))||S||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of w)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ss(this,G)}};function Ss(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ao(c),vn(c)}function Ao(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nl(this):this.bb())},t.bb=function(){nl(this)};function nl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||ln(c)!=4||c.Z()!=2)){if(c.u&&ln(c)==4)Ua(c.Ea,0,c);else if(wt(c,"readystatechange"),ln(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var S;if(S=se===0){var z=String(c.D).match(ws)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!Vd.test(z?z.toLowerCase():"")}w=S}if(w)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var G=2<ln(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ao(c)}}finally{vn(c)}}}}function vn(c,g){if(c.g){Po(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||wt(c,"ready");try{w.onreadystatechange=S}catch{}}}function Po(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ln(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ha(g)}};function rl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(c){const g={};c=(c.g&&2<=ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(q(c[S]))continue;var w=j(c[S]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=g[z]||[];g[z]=G,G.push(w)}N(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hr(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function il(c){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hr("baseRetryDelayMs",5e3,c),this.cb=hr("retryDelaySeedMs",1e4,c),this.Wa=hr("forwardChannelMaxRetries",2,c),this.wa=hr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(c&&c.concurrentRequestLimit),this.Da=new Dd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=il.prototype,t.la=8,t.G=1,t.connect=function(c,g,w,S){ht(0),this.W=c,this.H=g||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=ec(this,null,this.W),dr(this)};function Ot(c){if(Co(c),c.G==3){var g=c.U++,w=yn(c.I);if($e(w,"SID",c.K),$e(w,"RID",g),$e(w,"TYPE","terminate"),$r(c,w),g=new Wn(c,c.j,g),g.L=2,g.v=vi(yn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=g.v,w=!0),w||(g.g=tc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}Zu(c)}function Xn(c){c.g&&(sl(c),c.g.cancel(),c.g=null)}function Co(c){Xn(c),c.u&&(h.clearTimeout(c.u),c.u=null),bo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function dr(c){if(!gn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ae||ae(),ie||(Ae(),ie=!0),me.add(g,c),c.B=0}}function Ld(c,g){return Bu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=zn(E(c.Ga,c,g),Ju(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Wn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),V(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Ti(this,z,g),w=yn(this.I),$e(w,"RID",c),$e(w,"CVER",22),this.D&&$e(w,"X-HTTP-Session-Id",this.D),$r(this,w),G&&(this.O?g="headers="+encodeURIComponent(String(zr(G)))+"&"+g:this.m&&Ei(w,this.m,G)),Za(this.h,z),this.Ua&&$e(w,"TYPE","init"),this.P?($e(w,"$req",g),$e(w,"SID","null"),z.T=!0,Eo(z,w,null)):Eo(z,w,g),this.G=2}}else this.G==3&&(c?Ro(this,c):this.i.length==0||gn(this.h)||Ro(this))};function Ro(c,g){var w;g?w=g.l:w=c.U++;const S=yn(c.I);$e(S,"SID",c.K),$e(S,"RID",w),$e(S,"AID",c.T),$r(c,S),c.m&&c.o&&Ei(S,c.m,c.o),w=new Wn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Ti(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Za(c.h,w),Eo(w,S,g)}function $r(c,g){c.H&&oe(c.H,function(w,S){$e(g,S,w)}),c.l&&mi({},function(w,S){$e(g,S,w)})}function Ti(c,g,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const se=["count="+w];G==-1?0<w?(G=z[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let ze=!0;for(let Et=0;Et<w;Et++){let Le=z[Et].g;const xt=z[Et].map;if(Le-=G,0>Le)G=Math.max(0,z[Et].g-100),ze=!1;else try{Qu(xt,se,"req"+Le+"_")}catch{S&&S(xt)}}if(ze){S=se.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,S}function Is(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ae||ae(),ie||(Ae(),ie=!0),me.add(g,c),c.v=0}}function ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=zn(E(c.Fa,c),Ju(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=zn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Xn(this),Yu(this))};function sl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Yu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=yn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),$r(c,g),c.m&&c.o&&Ei(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=vi(yn(g)),w.m=null,w.P=!0,Ya(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Xn(this),ko(this),ht(19))};function bo(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function No(c,g){var w=null;if(c.g==g){bo(c),sl(c),c.g=null;var S=2}else if(tn(c.h,g))w=g.D,zu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;S=ps(),wt(S,new yo(S,w)),dr(c)}else Is(c);else if(z=g.s,z==3||z==0&&0<g.X||!(S==1&&Ld(c,g)||S==2&&ko(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),z){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function Ju(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Hr(c,g){if(c.j.info("Error code "+g),g==2){var w=E(c.fb,c),S=c.Xa;const z=!S;S=new Ur(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Es(S,"https"),vi(S),z?Nd(S.toString(),w):Gu(S.toString(),w)}else ht(2);c.G=0,c.l&&c.l.sa(g),Zu(c),Co(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const g=$u(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function ec(c,g,w){var S=w instanceof Ur?yn(w):new Ur(w);if(S.g!="")g&&(S.g=g+"."+S.g),gi(S,S.s);else{var z=h.location;S=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var G=new Ur(null);S&&Es(G,S),g&&(G.g=g),z&&gi(G,z),w&&(G.l=w),S=G}return w=c.D,g=c.ya,w&&g&&$e(S,w,g),$e(S,"VER",c.la),$r(c,S),S}function tc(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ze(new Br({eb:w})):new Ze(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ol(){}t=ol.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Do(){}Do.prototype.g=function(c,g){return new nn(c,g)};function nn(c,g){_t.call(this),this.g=new il(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new fr(this)}b(nn,_t),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ot(this.g)},nn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=$a(c),c=w);g.i.push(new Uu(g.Ya++,c)),g.G==3&&dr(g)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ot(this.g),delete this.g,nn.aa.N.call(this)};function nc(c){ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(nc,ar);function rc(){go.call(this),this.status=1}b(rc,go);function fr(c){this.g=c}b(fr,ol),fr.prototype.ua=function(){wt(this.g,"a")},fr.prototype.ta=function(c){wt(this.g,new nc(c))},fr.prototype.sa=function(c){wt(this.g,new rc)},fr.prototype.ra=function(){wt(this.g,"b")},Do.prototype.createWebChannel=Do.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,h1=function(){return new Do},c1=function(){return ps()},u1=lr,Wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_o.NO_ERROR=0,_o.TIMEOUT=8,_o.HTTP_ERROR=6,fh=_o,Mu.COMPLETE="complete",l1=Mu,mo.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ml=mo,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,a1=Ze}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const W0="@firebase/firestore",q0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Mm("@firebase/firestore");function ta(){return Qs.logLevel}function ue(t,...e){if(Qs.logLevel<=ke.DEBUG){const n=e.map(jm);Qs.debug(`Firestore (${Ca}): ${t}`,...n)}}function ai(t,...e){if(Qs.logLevel<=ke.ERROR){const n=e.map(jm);Qs.error(`Firestore (${Ca}): ${t}`,...n)}}function ga(t,...e){if(Qs.logLevel<=ke.WARN){const n=e.map(jm);Qs.warn(`Firestore (${Ca}): ${t}`,...n)}}function jm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,d1(t,r,n)}function d1(t,e,n){let r=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ai(r),new Error(r)}function Be(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||d1(e,s,r)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HR{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Be(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ni,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ni)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new f1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class WR{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qR{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Be(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new K0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=GR(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function qp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return pp(s)===pp(a)?be(s,a):pp(s)?1:-1}return be(t.length,e.length)}const QR=55296,XR=57343;function pp(t){const e=t.charCodeAt(0);return e>=QR&&e<=XR}function ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=vr.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return be(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):qp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Qe extends vr{construct(e,n,r){return new Qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends vr{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return YR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G0}static keyField(){return new zt([G0])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new fe(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new fe(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new fe(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){if(!n)throw new fe(Y.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JR(t,e,n,r){if(e===!0&&r===!0)throw new fe(Y.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q0(t){if(!ye.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X0(t){if(ye.isDocumentKey(t))throw new fe(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function m1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te(12329,{type:typeof t})}function Xs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new fe(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bm(t);throw new fe(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Tu(t,e){if(!m1(t))throw new fe(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const u=t[r];if(s&&typeof u!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new fe(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=-62135596800,J0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*J0);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Y0)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/J0}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Y0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:vt("string",Xe._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Xe(0,0))}static max(){return new Ie(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function ZR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Yi(s,ye.empty(),e)}function e2(t){return new Yi(t.readTime,t.key,ru)}class Yi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yi(Ie.min(),ye.empty(),ru)}static max(){return new Yi(Ie.max(),ye.empty(),ru)}}function t2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(t){if(t.code!==Y.FAILED_PRECONDITION||t.message!==n2)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,r)=>{n(e)})}static reject(e){return new Q((n,r)=>{r(e)})}static waitFor(e){return new Q((n,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&n()},f=>r(f))}),u=!0,a===s&&n()})}static or(e){let n=Q.resolve(!1);for(const r of e)n=n.next(s=>s?Q.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new Q((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(v=>{u[p]=v,++h,h===a&&r(u)},v=>s(v))}})}static doWhile(e,n){return new Q((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function i2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm=-1;function od(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function s2(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="";function o2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Z0(e)),e=a2(t.get(n),e);return Z0(e)}function a2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case g1:n+="";break;default:n+=a}}return n}function Z0(t){return t+g1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function no(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Bt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new ir([])}unionWith(e){let n=new At(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new v1("Invalid base64 string: "+a):a}}(e);return new $t(n)}static fromUint8Array(e){const n=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const l2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(t){if(Be(!!t,39018),typeof t=="string"){let e=0;const n=l2.exec(t);if(Be(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zi(t){return typeof t=="string"?$t.fromBase64String(t):$t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="server_timestamp",w1="__type__",E1="__previous_value__",T1="__local_write_time__";function $m(t){return(t?.mapValue?.fields||{})[w1]?.stringValue===_1}function ad(t){const e=t.mapValue.fields[E1];return $m(e)?ad(e):e}function iu(t){const e=Ji(t.mapValue.fields[T1].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,r,s,a,u,h,f,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v}}const kh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="__type__",c2="__max__",eh={mapValue:{}},I1="__vector__",bh="value";function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$m(t)?4:d2(t)?9007199254740991:h2(t)?10:11:Te(28295,{value:t})}function br(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return iu(t).isEqual(iu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Ji(s.timestampValue),h=Ji(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return pt(s.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(s.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return pt(s.integerValue)===pt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=pt(s.doubleValue),h=pt(a.doubleValue);return u===h?Rh(u)===Rh(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return ya(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(e_(u)!==e_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!br(u[f],h[f])))return!1;return!0}(t,e);default:return Te(52216,{left:t})}}function ou(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function va(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(iu(t),iu(e));case 5:return qp(t.stringValue,e.stringValue);case 6:return function(a,u){const h=Zi(a),f=Zi(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=be(h[p],f[p]);if(v!==0)return v}return be(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=be(pt(a.latitude),pt(u.latitude));return h!==0?h:be(pt(a.longitude),pt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r_(t.arrayValue,e.arrayValue);case 10:return function(a,u){const h=a.fields||{},f=u.fields||{},p=h[bh]?.arrayValue,v=f[bh]?.arrayValue,_=be(p?.values?.length||0,v?.values?.length||0);return _!==0?_:r_(p,v)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===eh.mapValue&&u===eh.mapValue)return 0;if(a===eh.mapValue)return 1;if(u===eh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const E=qp(f[_],v[_]);if(E!==0)return E;const A=va(h[f[_]],p[v[_]]);if(A!==0)return A}return be(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=Ji(t),r=Ji(e),s=be(n.seconds,r.seconds);return s!==0?s:be(n.nanos,r.nanos)}function r_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=va(n[s],r[s]);if(a)return a}return be(n.length,r.length)}function _a(t){return Kp(t)}function Kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Kp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Kp(n.fields[u])}`;return s+"}"}(t.mapValue):Te(61005,{value:t})}function ph(t){switch(es(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(t);return e?16+ph(e):16;case 5:return 2*t.stringValue.length;case 6:return Zi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+ph(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return no(r.fields,(a,u)=>{s+=a.length+ph(u)}),s}(t.mapValue);default:throw Te(13486,{value:t})}}function Gp(t){return!!t&&"integerValue"in t}function Hm(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function s_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function h2(t){return(t?.mapValue?.fields||{})[S1]?.stringValue===I1}function Wl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return no(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(t.arrayValue.values[n]);return e}return{...t}}function d2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===c2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=zt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=h.popLast()}u?r[h.lastSegment()]=Wl(u):s.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];mh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){no(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Un(Wl(this.value))}}function A1(t){const e=[];return no(t.fields,(n,r)=>{const s=new zt([n]);if(mh(r)){const a=A1(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,s,a,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,Ie.min(),Ie.min(),Ie.min(),Un.empty(),0)}static newFoundDocument(e,n,r,s){return new Yt(e,1,n,Ie.min(),r,s,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ie.min(),Ie.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ie.min(),Ie.min(),Un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function o_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],u=t.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),n.key):r=va(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function f2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{}class It extends P1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new m2(e,n,r):n==="array-contains"?new v2(e,r):n==="in"?new _2(e,r):n==="not-in"?new w2(e,r):n==="array-contains-any"?new E2(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g2(e,r):new y2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(va(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends P1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Nr(e,n)}matches(e){return x1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(t){return t.op==="and"}function C1(t){return p2(t)&&x1(t)}function p2(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function Qp(t){if(t instanceof It)return t.field.canonicalString()+t.op.toString()+_a(t.value);if(C1(t))return t.filters.map(e=>Qp(e)).join(",");{const e=t.filters.map(n=>Qp(n)).join(",");return`${t.op}(${e})`}}function R1(t,e){return t instanceof It?function(r,s){return s instanceof It&&r.op===s.op&&r.field.isEqual(s.field)&&br(r.value,s.value)}(t,e):t instanceof Nr?function(r,s){return s instanceof Nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&R1(u,s.filters[h]),!0):!1}(t,e):void Te(19439)}function k1(t){return t instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${_a(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(k1).join(" ,")+"}"}(t):"Filter"}class m2 extends It{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class g2 extends It{constructor(e,n){super(e,"in",n),this.keys=b1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y2 extends It{constructor(e,n){super(e,"not-in",n),this.keys=b1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function b1(t,e){return(e.arrayValue?.values||[]).map(n=>ye.fromName(n.referenceValue))}class v2 extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&ou(n.arrayValue,this.value)}}class _2 extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class w2 extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class E2 extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function l_(t,e=null,n=[],r=[],s=null,a=null,u=null){return new T2(t,e,n,r,s,a,u)}function Wm(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_a(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_a(r)).join(",")),e.Te=n}return e.Te}function qm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!R1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a_(t.startAt,e.startAt)&&a_(t.endAt,e.endAt)}function Xp(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function S2(t,e,n,r,s,a,u,h){return new ld(t,e,n,r,s,a,u,h)}function Km(t){return new ld(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function I2(t){return t.collectionGroup!==null}function ql(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new At(zt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Dh(a,r))}),n.has(zt.keyField().canonicalString())||e.Ie.push(new Dh(zt.keyField(),r))}return e.Ie}function Er(t){const e=Pe(t);return e.Ee||(e.Ee=A2(e,ql(t))),e.Ee}function A2(t,e){if(t.limitType==="F")return l_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Dh(s.field,a)});const n=t.endAt?new Nh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Nh(t.startAt.position,t.startAt.inclusive):null;return l_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yp(t,e,n){return new ld(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ud(t,e){return qm(Er(t),Er(e))&&t.limitType===e.limitType}function N1(t){return`${Wm(Er(t))}|lt:${t.limitType}`}function na(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>k1(s)).join(", ")}]`),od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_a(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_a(s)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function cd(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of ql(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=o_(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,ql(r),s)||r.endAt&&!function(u,h,f){const p=o_(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,ql(r),s))}(t,e)}function P2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function D1(t){return(e,n)=>{let r=!1;for(const s of ql(t)){const a=x2(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function x2(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?va(f,p):Te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new ot(ye.comparator);function li(){return C2}const V1=new ot(ye.comparator);function Ol(...t){let e=V1;for(const n of t)e=e.insert(n.key,n);return e}function L1(t){let e=V1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zs(){return Kl()}function M1(){return Kl()}function Kl(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const R2=new ot(ye.comparator),k2=new At(ye.comparator);function Ne(...t){let e=k2;for(const n of t)e=e.add(n);return e}const b2=new At(be);function N2(){return b2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function O1(t){return{integerValue:""+t}}function D2(t,e){return s2(e)?O1(e):Gm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function V2(t,e,n){return t instanceof au?function(s,a){const u={fields:{[w1]:{stringValue:_1},[T1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&$m(a)&&(a=ad(a)),a&&(u.fields[E1]=a),{mapValue:u}}(n,e):t instanceof lu?j1(t,e):t instanceof uu?U1(t,e):function(s,a){const u=F1(s,a),h=c_(u)+c_(s.Ae);return Gp(u)&&Gp(s.Ae)?O1(h):Gm(s.serializer,h)}(t,e)}function L2(t,e,n){return t instanceof lu?j1(t,e):t instanceof uu?U1(t,e):n}function F1(t,e){return t instanceof Vh?function(r){return Gp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class au extends hd{}class lu extends hd{constructor(e){super(),this.elements=e}}function j1(t,e){const n=B1(e);for(const r of t.elements)n.some(s=>br(s,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends hd{constructor(e){super(),this.elements=e}}function U1(t,e){let n=B1(e);for(const r of t.elements)n=n.filter(s=>!br(s,r));return{arrayValue:{values:n}}}class Vh extends hd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function c_(t){return pt(t.integerValue||t.doubleValue)}function B1(t){return Hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.field=e,this.transform=n}}function O2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lu&&s instanceof lu||r instanceof uu&&s instanceof uu?ya(r.elements,s.elements,br):r instanceof Vh&&s instanceof Vh?br(r.Ae,s.Ae):r instanceof au&&s instanceof au}(t.transform,e.transform)}class F2{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dd{}function z1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qm(t.key,Tr.none()):new Su(t.key,t.data,Tr.none());{const n=t.data,r=Un.empty();let s=new At(zt.comparator);for(let a of e.fields)if(!s.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new io(t.key,r,new ir(s.toArray()),Tr.none())}}function j2(t,e,n){t instanceof Su?function(s,a,u){const h=s.value.clone(),f=d_(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof io?function(s,a,u){if(!gh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=d_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll($1(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Gl(t,e,n,r){return t instanceof Su?function(a,u,h,f){if(!gh(a.precondition,u))return h;const p=a.value.clone(),v=f_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof io?function(a,u,h,f){if(!gh(a.precondition,u))return h;const p=f_(a.fieldTransforms,f,u),v=u.data;return v.setAll($1(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,u,h){return gh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function U2(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=F1(r.transform,s||null);a!=null&&(n===null&&(n=Un.empty()),n.set(r.field,a))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ya(r,s,(a,u)=>O2(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Su extends dd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class io extends dd{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function $1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function d_(t,e,n){const r=new Map;Be(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const a=t[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,L2(u,h,n[s]))}return r}function f_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,u=n.data.field(s.field);r.set(s.field,V2(a,u,e))}return r}class Qm extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class B2 extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&j2(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=M1();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(s.key)?null:h;const f=z1(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ya(this.mutations,e.mutations,(n,r)=>h_(n,r))&&ya(this.baseMutations,e.baseMutations,(n,r)=>h_(n,r))}}class Xm{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return R2}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Xm(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Me;function W2(t){switch(t){case Y.OK:return Te(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Te(15467,{code:t})}}function H1(t){if(t===void 0)return ai("GRPC error has no .code"),Y.UNKNOWN;switch(t){case yt.OK:return Y.OK;case yt.CANCELLED:return Y.CANCELLED;case yt.UNKNOWN:return Y.UNKNOWN;case yt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case yt.INTERNAL:return Y.INTERNAL;case yt.UNAVAILABLE:return Y.UNAVAILABLE;case yt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case yt.NOT_FOUND:return Y.NOT_FOUND;case yt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case yt.ABORTED:return Y.ABORTED;case yt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case yt.DATA_LOSS:return Y.DATA_LOSS;default:return Te(39323,{code:t})}}(Me=yt||(yt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new Ki([4294967295,4294967295],0);function p_(t){const e=q2().encode(t),n=new o1;return n.update(e),new Uint8Array(n.digest())}function m_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ki([n,r],0),new Ki([s,a],0)]}class Ym{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(r<0)throw new Fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ki.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ki.fromNumber(r)));return s.compare(K2)===1&&(s=new Ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=p_(e),[r,s]=m_(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Ym(a,s,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const n=p_(e),[r,s]=m_(n);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fd(Ie.min(),s,new ot(be),li(),Ne())}}class Iu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Iu(r,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class W1{constructor(e,n){this.targetId=e,this.Ce=n}}class q1{constructor(e,n,r=$t.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class g_{constructor(){this.ve=0,this.Fe=y_(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),r=Ne();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:a})}}),new Iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=y_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G2{constructor(e){this.Ge=e,this.ze=new Map,this.je=li(),this.Je=th(),this.He=th(),this.Ye=new ot(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Xp(a))if(r===0){const u=new ye(a.path);this.et(n,u,Yt.newNoDocument(u,Ie.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this._t(n);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let u,h;try{u=Zi(r).toUint8Array()}catch(f){if(f instanceof v1)return ga("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Ym(u,s,a)}catch(f){return ga(f instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(n,a,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((a,u)=>{const h=this.ot(u);if(h){if(a.current&&Xp(h.target)){const f=new ye(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Yt.newNoDocument(f,e))}a.Be&&(n.set(u,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const s=new fd(e,n,this.Ye,this.je,r);return this.je=li(),this.Je=th(),this.He=th(),this.Ye=new ot(be),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new g_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function th(){return new ot(ye.comparator)}function y_(){return new ot(ye.comparator)}const Q2={asc:"ASCENDING",desc:"DESCENDING"},X2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y2={and:"AND",or:"OR"};class J2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jp(t,e){return t.useProto3Json||od(e)?e:{value:e}}function Lh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z2(t,e){return Lh(t,e.toTimestamp())}function Sr(t){return Be(!!t,49232),Ie.fromTimestamp(function(n){const r=Ji(n);return new Xe(r.seconds,r.nanos)}(t))}function Jm(t,e){return Zp(t,e).canonicalString()}function Zp(t,e){const n=function(s){return new Qe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function G1(t){const e=Qe.fromString(t);return Be(Z1(e),10190,{key:e.toString()}),e}function em(t,e){return Jm(t.databaseId,e.path)}function mp(t,e){const n=G1(e);if(n.get(1)!==t.databaseId.projectId)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new fe(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(X1(n))}function Q1(t,e){return Jm(t.databaseId,e)}function ek(t){const e=G1(t);return e.length===4?Qe.emptyPath():X1(e)}function tm(t){return new Qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function X1(t){return Be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function v_(t,e,n){return{name:em(t,e),fields:n.value.mapValue.fields}}function tk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Be(v===void 0||typeof v=="string",58123),$t.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),$t.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?Y.UNKNOWN:H1(p.code);return new fe(v,p.message||"")}(u);n=new q1(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mp(t,r.document.name),a=Sr(r.document.updateTime),u=r.document.createTime?Sr(r.document.createTime):Ie.min(),h=new Un({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(s,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];n=new yh(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mp(t,r.document),a=r.readTime?Sr(r.readTime):Ie.min(),u=Yt.newNoDocument(s,a),h=r.removedTargetIds||[];n=new yh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mp(t,r.document),a=r.removedTargetIds||[];n=new yh([],a,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new H2(s,a),h=r.targetId;n=new W1(h,u)}}return n}function nk(t,e){let n;if(e instanceof Su)n={update:v_(t,e.key,e.value)};else if(e instanceof Qm)n={delete:em(t,e.key)};else if(e instanceof io)n={update:v_(t,e.key,e.data),updateMask:hk(e.fieldMask)};else{if(!(e instanceof B2))return Te(16599,{Vt:e.type});n={verify:em(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof au)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof lu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof uu)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Vh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:Z2(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(t,e.precondition)),n}function rk(t,e){return t&&t.length>0?(Be(e!==void 0,14353),t.map(n=>function(s,a){let u=s.updateTime?Sr(s.updateTime):Sr(a);return u.isEqual(Ie.min())&&(u=Sr(a)),new F2(u,s.transformResults||[])}(n,e))):[]}function ik(t,e){return{documents:[Q1(t,e.path)]}}function sk(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Q1(t,s);const a=function(p){if(p.length!==0)return J1(Nr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:ra(E.field),direction:lk(E.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Jp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:s}}function ok(t){let e=ek(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Be(r===1,65062);const v=n.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(_){const E=Y1(_);return E instanceof Nr&&C1(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(b){return new Dh(ia(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,od(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,A=_.values||[];return new Nh(A,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,A=_.values||[];return new Nh(A,E)}(n.endAt)),S2(e,s,u,a,h,"F",f,p)}function ak(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ia(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ia(n.unaryFilter.field);return It.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ia(n.unaryFilter.field);return It.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ia(n.unaryFilter.field);return It.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(t):t.fieldFilter!==void 0?function(n){return It.create(ia(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>Y1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(t):Te(30097,{filter:t})}function lk(t){return Q2[t]}function uk(t){return X2[t]}function ck(t){return Y2[t]}function ra(t){return{fieldPath:t.canonicalString()}}function ia(t){return zt.fromServerFormat(t.fieldPath)}function J1(t){return t instanceof It?function(n){if(n.op==="=="){if(s_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:ra(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ra(n.field),op:uk(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(s=>J1(s));return r.length===1?r[0]:{compositeFilter:{op:ck(n.op),filters:r}}}(t):Te(54877,{filter:t})}function hk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Z1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r,s,a=Ie.min(),u=Ie.min(),h=$t.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.yt=e}}function fk(t){const e=ok({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.Cn=new mk}addToCollectionParentIndex(e,n){return this.Cn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Yi.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Yi.min())}updateCollectionGroup(e,n,r){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(Qe.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(eT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new wa(0)}static cr(){return new wa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",gk=1048576;function E_([t,e],[n,r]){const s=be(t,n);return s===0?be(e,r):s}class yk{constructor(e){this.Ir=e,this.buffer=new At(E_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();E_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class vk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(w_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?ue(w_,"Ignoring IndexedDB error during garbage collection: ",n):await Ra(n)}await this.Vr(3e5)})}}class _k{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(sd.ce);const r=new yk(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),ta()<=ke.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function wk(t,e){return new _k(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gl(r.mutation,s,ir.empty(),Xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ne()){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let u=Ol();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ne()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,s){let a=li();const u=Kl(),h=function(){return Kl()}();return n.forEach((f,p)=>{const v=r.get(p.key);s.has(p.key)&&(v===void 0||v.mutation instanceof io)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Gl(v.mutation,p,v.mutation.getFieldMask(),Xe.now())):u.set(p.key,ir.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),n.forEach((p,v)=>h.set(p,new Tk(v,u.get(p)??null))),h))}recalculateAndSaveOverlays(e,n){const r=Kl();let s=new ot((u,h)=>u-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let v=r.get(f)||ir.empty();v=h.applyToLocalView(p,v),r.set(f,v);const _=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,_=M1();v.forEach(E=>{if(!a.has(E)){const A=z1(n.get(E),r.get(E));A!==null&&_.set(E,A),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):Q.resolve(zs());let h=ru,f=a;return u.next(p=>Q.forEach(p,(v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(v=>({batchId:h,changes:L1(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=Ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let u=Ol();return this.indexManager.getCollectionParents(e,a).next(h=>Q.forEach(h,f=>{const p=function(_,E){return new ld(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(v=>{v.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Yt.newInvalidDocument(v)))});let h=Ol();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&Gl(v.mutation,p,ir.empty(),Xe.now()),cd(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Q.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Sr(s.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:fk(s.bundledQuery),readTime:Sr(s.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.overlays=new ot(ye.comparator),this.qr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zs();return Q.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.St(e,n,a)}),Q.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Q.resolve()}getOverlaysForCollection(e,n,r){const s=zs(),a=n.length+1,u=new ye(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ot((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=zs(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=s)););return Q.resolve(h)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new $2(n,r));let a=this.qr.get(n);a===void 0&&(a=Ne(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Qr=new At(bt.$r),this.Ur=new At(bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new bt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ye(new Qe([])),r=new bt(n,e),s=new bt(n,e+1),a=[];return this.Ur.forEachInRange([r,s],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new Qe([])),r=new bt(n,e),s=new bt(n,e+1);let a=Ne();return this.Ur.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(bt.$r)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new z2(a,n,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new bt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,n){return Q.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),a=s<0?0:s;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?zm:this.tr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),s=new bt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],u=>{const h=this.Xr(u.Yr);a.push(h)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(be);return n.forEach(s=>{const a=new bt(s,0),u=new bt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],h=>{r=r.add(h.Yr)})}),Q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new bt(new ye(a),0);let h=new At(be);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Yr)),!0)},u),Q.resolve(this.ti(h))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Q.forEach(n.mutations,s=>{const a=new bt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new bt(n,0),s=this.Zr.firstAfterOrEqual(r);return Q.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.ri=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Q.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Yt.newInvalidDocument(s))}),Q.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=li();const u=n.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||t2(e2(v),r)<=0||(s.has(v.key)||cd(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Te(9500)}ii(e,n){return Q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Rk(this)}getSize(e){return Q.resolve(this.size)}}class Rk extends Ek{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Q.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.persistence=e,this.si=new ro(n=>Wm(n),qm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=wa.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Q.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new wa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Pr(n),Q.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Q.waitFor(a).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Q.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Q.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Q.resolve(r)}containsKey(e,n){return Q.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new Pk,this.referenceDelegate=e(this),this.Pi=new kk(this),this.indexManager=new pk,this.remoteDocumentCache=function(s){return new Ck(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new dk(n),this.Ii=new Ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ak,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new xk(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ue("MemoryPersistence","Starting transaction:",e);const s=new bk(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,n){return Q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class bk extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Q.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.fi,r=>{const s=ye.fromPath(r);return this.gi(e,s).next(a=>{a||n.removeEntry(s,Ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Q.or([()=>Q.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new ro(r=>o2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=wk(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return Q.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?Q.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,u=>this.br(e,u,n).next(h=>{h||(r++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Q.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,r){return Q.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return Q.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ne(),s=Ne();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new tg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return TC()?8:i2(en())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.ys(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,n,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new Nk;return this.Ss(e,n,u).next(h=>{if(a.result=h,this.Vs)return this.bs(e,n,u,h.size)})}).next(()=>a.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(ta()<=ke.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",na(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Q.resolve()):(ta()<=ke.DEBUG&&ue("QueryEngine","Query:",na(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(ta()<=ke.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",na(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):Q.resolve())}ys(e,n){if(u_(n))return Q.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Yp(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(n,h);return this.Cs(n,p,u,f.readTime)?this.ys(e,Yp(n,null,"F")):this.vs(e,p,n,f)}))})))}ws(e,n,r,s){return u_(n)||s.isEqual(Ie.min())?Q.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(n,a);return this.Cs(n,u,r,s)?Q.resolve(null):(ta()<=ke.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),na(n)),this.vs(e,u,n,ZR(s,ru)).next(h=>h))})}Ds(e,n){let r=new At(D1(e));return n.forEach((s,a)=>{cd(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,n,r){return ta()<=ke.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",na(n)),this.ps.getDocumentsMatchingQuery(e,n,Yi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",Vk=3e8;class Lk{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new ot(be),this.xs=new ro(a=>Wm(a),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Mk(t,e,n,r){return new Lk(t,e,n,r)}async function nT(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ne();for(const p of s){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:u,addedBatchIds:h}))})})}function Ok(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const _=p.batch,E=_.keys();let A=Q.resolve();return E.forEach(b=>{A=A.next(()=>v.getEntry(f,b)).next(D=>{const k=p.docVersions.get(b);Be(k!==null,48541),D.version.compareTo(k)<0&&(_.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rT(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Fk(t,e){const n=Pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const h=[];e.targetChanges.forEach((v,_)=>{const E=s.get(_);if(!E)return;h.push(n.Pi.removeMatchingKeys(a,v.removedDocuments,_).next(()=>n.Pi.addMatchingKeys(a,v.addedDocuments,_)));let A=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?A=A.withResumeToken($t.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),s=s.insert(_,A),function(D,k,O){return D.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=Vk?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,A,v)&&h.push(n.Pi.updateTargetData(a,A))});let f=li(),p=Ne();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(jk(a,u,e.documentUpdates).next(v=>{f=v.ks,p=v.qs})),!r.isEqual(Ie.min())){const v=n.Pi.getLastRemoteSnapshotVersion(a).next(_=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return Q.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ms=s,a))}function jk(t,e,n){let r=Ne(),s=Ne();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=li();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(ng,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{ks:u,qs:s}})}function Uk(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Bk(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(a=>a?(s=a,Q.resolve(s)):n.Pi.allocateTargetId(r).next(u=>(s=new Hi(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function nm(t,e,n){const r=Pe(t),s=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ka(u))throw u;ue(ng,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function T_(t,e,n){const r=Pe(t);let s=Ie.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const _=Pe(f),E=_.xs.get(v);return E!==void 0?Q.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,v)}(r,u,Er(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,n?s:Ie.min(),n?a:Ne())).next(h=>(zk(r,P2(e),h),{documents:h,Qs:a})))}function zk(t,e,n){let r=t.Os.get(e)||Ie.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class S_{constructor(){this.activeTargetIds=N2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $k{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class A_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(I_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function rm(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",Wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,a){const u=rm(),h=this.zo(e,n.toUriEncodedString());ue(gp,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(h),v=ss(p);return this.Jo(e,h,f,r,v).then(_=>(ue(gp,`Received RPC '${e}' ${u}: `,_),_),_=>{throw ga(gp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Ho(e,n,r,s,a,u){return this.Go(e,n,r,s,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,n){const r=Wk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class Gk extends qk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,a){const u=rm();return new Promise((h,f)=>{const p=new a1;p.setWithCredentials(!0),p.listenOnce(l1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case fh.NO_ERROR:const _=p.getResponseJson();ue(Gt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case fh.TIMEOUT:ue(Gt,`RPC '${e}' ${u} timed out`),f(new fe(Y.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const E=p.getStatus();if(ue(Gt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const b=A?.error;if(b&&b.status&&b.message){const D=function(O){const q=O.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(q)>=0?q:Y.UNKNOWN}(b.status);f(new fe(D,b.message))}else f(new fe(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new fe(Y.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Gt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(s);ue(Gt,`RPC '${e}' ${u} sending request:`,s),p.send(n,"POST",v,r,15)})}T_(e,n,r){const s=rm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=h1(),h=c1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const v=a.join("");ue(Gt,`Creating RPC '${e}' stream ${s}: ${v}`,f);const _=u.createWebChannel(v,f);this.I_(_);let E=!1,A=!1;const b=new Kk({Yo:k=>{A?ue(Gt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(E||(ue(Gt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ue(Gt,`RPC '${e}' stream ${s} sending:`,k),_.send(k))},Zo:()=>_.close()}),D=(k,O,q)=>{k.listen(O,K=>{try{q(K)}catch(Z){setTimeout(()=>{throw Z},0)}})};return D(_,Ml.EventType.OPEN,()=>{A||(ue(Gt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),D(_,Ml.EventType.CLOSE,()=>{A||(A=!0,ue(Gt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(_))}),D(_,Ml.EventType.ERROR,k=>{A||(A=!0,ga(Gt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),b.a_(new fe(Y.UNAVAILABLE,"The operation could not be completed")))}),D(_,Ml.EventType.MESSAGE,k=>{if(!A){const O=k.data[0];Be(!!O,16349);const q=O,K=q?.error||q[0]?.error;if(K){ue(Gt,`RPC '${e}' stream ${s} received error:`,K);const Z=K.status;let te=function(I){const x=yt[I];if(x!==void 0)return H1(x)}(Z),oe=K.message;te===void 0&&(te=Y.INTERNAL,oe="Unknown error status: "+Z+" with message "+K.message),A=!0,b.a_(new fe(te,oe)),_.close()}else ue(Gt,`RPC '${e}' stream ${s} received:`,O),b.u_(O)}}),D(h,u1.STAT_EVENT,k=>{k.stat===Wp.PROXY?ue(Gt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Wp.NOPROXY&&ue(Gt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new J2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="PersistentStream";class sT{constructor(e,n,r,s,a,u,h,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new fe(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(P_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(P_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qk extends sT{constructor(e,n,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=tk(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Sr(u.readTime):Ie.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=tm(this.serializer),n.addTarget=function(a,u){let h;const f=u.target;if(h=Xp(f)?{documents:ik(a,f)}:{query:sk(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=K1(a,u.resumeToken);const p=Jp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Lh(a,u.snapshotVersion.toTimestamp());const p=Jp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=ak(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=tm(this.serializer),n.removeTarget=e,this.q_(n)}}class Xk extends sT{constructor(e,n,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rk(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=tm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nk(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{}class Jk extends Yk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,Zp(n,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Y.UNKNOWN,a.toString())})}Ho(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,Zp(n,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Y.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Zk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class eb{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{so(this)&&(ue(Ys,"Restarting streams for network reachability change."),await async function(f){const p=Pe(f);p.Ea.add(4),await Au(p),p.Ra.set("Unknown"),p.Ea.delete(4),await md(p)}(this))})}),this.Ra=new Zk(r,s)}}async function md(t){if(so(t))for(const e of t.da)await e(!0)}async function Au(t){for(const e of t.da)await e(!1)}function oT(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),og(n)?sg(n):ba(n).O_()&&ig(n,e))}function rg(t,e){const n=Pe(t),r=ba(n);n.Ia.delete(e),r.O_()&&aT(n,e),n.Ia.size===0&&(r.O_()?r.L_():so(n)&&n.Ra.set("Unknown"))}function ig(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).Y_(e)}function aT(t,e){t.Va.Ue(e),ba(t).Z_(e)}function sg(t){t.Va=new G2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.Ra.ua()}function og(t){return so(t)&&!ba(t).x_()&&t.Ia.size>0}function so(t){return Pe(t).Ea.size===0}function lT(t){t.Va=void 0}async function tb(t){t.Ra.set("Online")}async function nb(t){t.Ia.forEach((e,n)=>{ig(t,e)})}async function rb(t,e){lT(t),og(t)?(t.Ra.ha(e),sg(t)):t.Ra.set("Unknown")}async function ib(t,e,n){if(t.Ra.set("Online"),e instanceof q1&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))}(t,e)}catch(r){ue(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Oh(t,r)}else if(e instanceof yh?t.Va.Ze(e):e instanceof W1?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const r=await rT(t.localStore);n.compareTo(r)>=0&&await function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken($t.EMPTY_BYTE_STRING,v.snapshotVersion)),aT(a,f);const _=new Hi(v.target,f,p,v.sequenceNumber);ig(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ue(Ys,"Failed to raise snapshot:",r),await Oh(t,r)}}async function Oh(t,e,n){if(!ka(e))throw e;t.Ea.add(1),await Au(t),t.Ra.set("Offline"),n||(n=()=>rT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(Ys,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await md(t)})}function uT(t,e){return e().catch(n=>Oh(t,n,e))}async function gd(t){const e=Pe(t),n=ts(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zm;for(;sb(e);)try{const s=await Uk(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,ob(e,s)}catch(s){await Oh(e,s)}cT(e)&&hT(e)}function sb(t){return so(t)&&t.Ta.length<10}function ob(t,e){t.Ta.push(e);const n=ts(t);n.O_()&&n.X_&&n.ea(e.mutations)}function cT(t){return so(t)&&!ts(t).x_()&&t.Ta.length>0}function hT(t){ts(t).start()}async function ab(t){ts(t).ra()}async function lb(t){const e=ts(t);for(const n of t.Ta)e.ea(n.mutations)}async function ub(t,e,n){const r=t.Ta.shift(),s=Xm.from(r,e,n);await uT(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gd(t)}async function cb(t,e){e&&ts(t).X_&&await async function(r,s){if(function(u){return W2(u)&&u!==Y.ABORTED}(s.code)){const a=r.Ta.shift();ts(r).B_(),await uT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await gd(r)}}(t,e),cT(t)&&hT(t)}async function x_(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ue(Ys,"RemoteStore received new credentials");const r=so(n);n.Ea.add(3),await Au(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await md(n)}async function hb(t,e){const n=Pe(t);e?(n.Ea.delete(2),await md(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function ba(t){return t.ma||(t.ma=function(n,r,s){const a=Pe(n);return a.sa(),new Qk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:tb.bind(null,t),t_:nb.bind(null,t),r_:rb.bind(null,t),H_:ib.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),og(t)?sg(t):t.Ra.set("Unknown")):(await t.ma.stop(),lT(t))})),t.ma}function ts(t){return t.fa||(t.fa=function(n,r,s){const a=Pe(n);return a.sa(),new Xk(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ab.bind(null,t),r_:cb.bind(null,t),ta:lb.bind(null,t),na:ub.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await gd(t)):(await t.fa.stop(),t.Ta.length>0&&(ue(Ys,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const u=Date.now()+r,h=new ag(e,n,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(t,e){if(ai("AsyncQueue",`${e}: ${t}`),ka(t))return new fe(Y.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{static emptySet(e){return new ha(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Ol(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ga=new ot(ye.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ea{constructor(e,n,r,s,a,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Ea(e,n,ha.emptySet(n),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class fb{constructor(){this.queries=R_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Pe(n),a=s.queries;s.queries=R_(),a.forEach((u,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new fe(Y.ABORTED,"Firestore shutting down"))}}function R_(){return new ro(t=>N1(t),ud)}async function dT(t,e){const n=Pe(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new db,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const h=lg(u,`Initialization of query '${na(e.query)}' failed`);return void e.onError(h)}n.queries.set(s,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&ug(n)}async function fT(t,e){const n=Pe(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pb(t,e){const n=Pe(t);let r=!1;for(const s of e){const a=s.query,u=n.queries.get(a);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&ug(n)}function mb(t,e,n){const r=Pe(t),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(n);r.queries.delete(e)}function ug(t){t.Ca.forEach(e=>{e.next()})}var im,k_;(k_=im||(im={})).Ma="default",k_.Cache="cache";class pT{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ea(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ea.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.key=e}}class gT{constructor(e){this.key=e}}class gb{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=D1(e),this.tu=new ha(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new C_,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((v,_)=>{const E=s.get(v),A=cd(this.query,_)?_:null,b=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;E&&A?E.data.isEqual(A.data)?b!==D&&(r.track({type:3,doc:A}),k=!0):this.su(E,A)||(r.track({type:2,doc:A}),k=!0,(f&&this.eu(A,f)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(r.track({type:0,doc:A}),k=!0):E&&!A&&(r.track({type:1,doc:E}),k=!0,(f||p)&&(h=!0)),k&&(A?(u=u.add(A),a=D?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,_)=>function(A,b){const D=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:k})}};return D(A)-D(b)}(v.type,_.type)||this.eu(v.doc,_.doc)),this.ou(r),s=s??!1;const h=n&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Ea(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new gT(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new mT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ea.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class yb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vb{constructor(e){this.key=e,this.hu=!1}}class _b{constructor(e,n,r,s,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ro(h=>N1(h),ud),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ye.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wb(t,e,n=!0){const r=TT(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await yT(r,e,n,!0),s}async function Eb(t,e){const n=TT(t);await yT(n,e,!0,!1)}async function yT(t,e,n,r){const s=await Bk(t.localStore,Er(e)),a=s.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return r&&(h=await Tb(t,e,a,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&oT(t.remoteStore,s),h}async function Tb(t,e,n,r,s){t.pu=(_,E,A)=>async function(D,k,O,q){let K=k.view.ru(O);K.Cs&&(K=await T_(D.localStore,k.query,!1).then(({documents:N})=>k.view.ru(N,K)));const Z=q&&q.targetChanges.get(k.targetId),te=q&&q.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(K,D.isPrimaryClient,Z,te);return N_(D,k.targetId,oe.au),oe.snapshot}(t,_,E,A);const a=await T_(t.localStore,e,!0),u=new gb(e,a.Qs),h=u.ru(a.documents),f=Iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=u.applyChanges(h,t.isPrimaryClient,f);N_(t,n,p.au);const v=new yb(e,n,u);return t.Tu.set(e,v),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function Sb(t,e,n){const r=Pe(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(u=>!ud(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&rg(r.remoteStore,s.targetId),sm(r,s.targetId)}).catch(Ra)):(sm(r,s.targetId),await nm(r.localStore,s.targetId,!0))}async function Ib(t,e){const n=Pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rg(n.remoteStore,r.targetId))}async function Ab(t,e,n){const r=Nb(t);try{const s=await function(u,h){const f=Pe(u),p=Xe.now(),v=h.reduce((A,b)=>A.add(b.key),Ne());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let b=li(),D=Ne();return f.Ns.getEntries(A,v).next(k=>{b=k,b.forEach((O,q)=>{q.isValidDocument()||(D=D.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,b)).next(k=>{_=k;const O=[];for(const q of h){const K=U2(q,_.get(q.key).overlayedDocument);K!=null&&O.push(new io(q.key,K,A1(K.value.mapValue),Tr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,p,O,h)}).next(k=>{E=k;const O=k.applyToLocalDocumentSet(_,D);return f.documentOverlayCache.saveOverlays(A,k.batchId,O)})}).then(()=>({batchId:E.batchId,changes:L1(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new ot(be)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p}(r,s.batchId,n),await Pu(r,s.changes),await gd(r.remoteStore)}catch(s){const a=lg(s,"Failed to persist write");n.reject(a)}}async function vT(t,e){const n=Pe(t);try{const r=await Fk(n.localStore,e);e.targetChanges.forEach((s,a)=>{const u=n.Au.get(a);u&&(Be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Be(u.hu,14607):s.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))}),await Pu(n,r,e)}catch(r){await Ra(r)}}function b_(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((a,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Pe(u);f.onlineState=h;let p=!1;f.queries.forEach((v,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)}),p&&ug(f)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Pb(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new ot(ye.comparator);u=u.insert(a,Yt.newNoDocument(a,Ie.min()));const h=Ne().add(a),f=new fd(Ie.min(),new Map,new ot(be),u,h);await vT(r,f),r.du=r.du.remove(a),r.Au.delete(e),hg(r)}else await nm(r.localStore,e,!1).then(()=>sm(r,e,n)).catch(Ra)}async function xb(t,e){const n=Pe(t),r=e.batch.batchId;try{const s=await Ok(n.localStore,e);wT(n,r,null),_T(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,s)}catch(s){await Ra(s)}}async function Cb(t,e,n){const r=Pe(t);try{const s=await function(u,h){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Be(_!==null,37113),v=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);wT(r,e,n),_T(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,s)}catch(s){await Ra(s)}}function _T(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function wT(t,e,n){const r=Pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function sm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||ET(t,r)})}function ET(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(rg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),hg(t))}function N_(t,e,n){for(const r of n)r instanceof mT?(t.Ru.addReference(r.key,e),Rb(t,r)):r instanceof gT?(ue(cg,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||ET(t,r.key)):Te(19791,{wu:r})}function Rb(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ue(cg,"New document in limbo: "+n),t.Eu.add(r),hg(t))}function hg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ye(Qe.fromString(e)),r=t.fu.next();t.Au.set(r,new vb(n)),t.du=t.du.insert(n,r),oT(t.remoteStore,new Hi(Er(Km(n.path)),r,"TargetPurposeLimboResolution",sd.ce))}}async function Pu(t,e,n){const r=Pe(t),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((h,f)=>{u.push(r.pu(f,e,n).then(p=>{if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){s.push(p);const v=tg.As(f.targetId,p);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(s),await async function(f,p){const v=Pe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Q.forEach(p,E=>Q.forEach(E.Es,A=>v.persistence.referenceDelegate.addReference(_,E.targetId,A)).next(()=>Q.forEach(E.ds,A=>v.persistence.referenceDelegate.removeReference(_,E.targetId,A)))))}catch(_){if(!ka(_))throw _;ue(ng,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const A=v.Ms.get(E),b=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(b);v.Ms=v.Ms.insert(E,D)}}}(r.localStore,a))}async function kb(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ue(cg,"User change. New user:",e.toKey());const r=await nT(n.localStore,e);n.currentUser=e,function(a,u){a.mu.forEach(h=>{h.forEach(f=>{f.reject(new fe(Y.CANCELLED,u))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function bb(t,e){const n=Pe(t),r=n.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const a=n.Iu.get(e);if(!a)return s;for(const u of a){const h=n.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function TT(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pb.bind(null,e),e.Pu.H_=pb.bind(null,e.eventManager),e.Pu.yu=mb.bind(null,e.eventManager),e}function Nb(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cb.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Mk(this.persistence,new Dk,e.initialUser,this.serializer)}Cu(e){return new tT(eg.mi,this.serializer)}Du(e){return new $k}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class Db extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Be(this.persistence.referenceDelegate instanceof Mh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new vk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new tT(r=>Mh.mi(r,n),this.serializer)}}class om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kb.bind(null,this.syncEngine),await hb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fb}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),r=function(a){return new Gk(a)}(e.databaseInfo);return function(a,u,h,f){return new Jk(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,u,h){return new eb(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>b_(this.syncEngine,n,0),function(){return A_.v()?new A_:new Hk}())}createSyncEngine(e,n){return function(s,a,u,h,f,p,v){const _=new _b(s,a,u,h,f,p);return v&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Pe(n);ue(Ys,"RemoteStore shutting down."),r.Ea.add(5),await Au(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class Vb{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Xt.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ue(ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ue(ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vp(t,e){t.asyncQueue.verifyOperationInProgress(),ue(ns,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await nT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lb(t);ue(ns,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>x_(e.remoteStore,s)),t._onlineComponents=e}async function Lb(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(ns,"Using user provided OfflineComponentProvider");try{await vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ga("Error using user provided cache. Falling back to memory cache: "+n),await vp(t,new Fh)}}else ue(ns,"Using default OfflineComponentProvider"),await vp(t,new Db(void 0));return t._offlineComponents}async function IT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(ns,"Using user provided OnlineComponentProvider"),await D_(t,t._uninitializedComponentsProvider._online)):(ue(ns,"Using default OnlineComponentProvider"),await D_(t,new om))),t._onlineComponents}function Mb(t){return IT(t).then(e=>e.syncEngine)}async function AT(t){const e=await IT(t),n=e.eventManager;return n.onListen=wb.bind(null,e.syncEngine),n.onUnlisten=Sb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Eb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ib.bind(null,e.syncEngine),n}function Ob(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new ST({next:E=>{v.Nu(),u.enqueueAndForget(()=>fT(a,_));const A=E.docs.has(h);!A&&E.fromCache?p.reject(new fe(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&f&&f.source==="server"?p.reject(new fe(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new pT(Km(h.path),v,{includeMetadataChanges:!0,qa:!0});return dT(a,_)}(await AT(t),t.asyncQueue,e,n,r)),r.promise}function Fb(t,e,n={}){const r=new ni;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new ST({next:E=>{v.Nu(),u.enqueueAndForget(()=>fT(a,_)),E.fromCache&&f.source==="server"?p.reject(new fe(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new pT(h,v,{includeMetadataChanges:!0,qa:!0});return dT(a,_)}(await AT(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firestore.googleapis.com",L_=!0;class M_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=L_}else this.host=e.host,this.ssl=e.ssl??L_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gk)throw new fe(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new zR;switch(r.type){case"firstParty":return new qR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=V_.get(n);r&&(ue("ComponentProvider","Removing Datastore"),V_.delete(n),r.terminate())}(this),Promise.resolve()}}function jb(t,e,n,r={}){t=Xs(t,yd);const s=ss(e),a=t._getSettings(),u={...a,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;s&&(Vm(`https://${h}`),Lm("Firestore",!0)),a.host!==xT&&a.host!==h&&ga("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:s,emulatorOptions:r};if(!Ks(f,u)&&(t._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=Xt.MOCK_USER;else{p=e1(r.mockUserToken,t._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new fe(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Xt(_)}t._authCredentials=new $R(new f1(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vd(this.firestore,e,this._query)}}class Nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Tu(n,Nt._jsonSchema))return new Nt(e,r||null,new ye(Qe.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:vt("string",Nt._jsonSchemaVersion),referencePath:vt("string")};class Gi extends vd{constructor(e,n,r){super(e,n,Km(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ye(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Ub(t,e,...n){if(t=Dt(t),p1("collection","path",e),t instanceof yd){const r=Qe.fromString(e,...n);return X0(r),new Gi(t,null,r)}{if(!(t instanceof Nt||t instanceof Gi))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return X0(r),new Gi(t.firestore,null,r)}}function CT(t,e,...n){if(t=Dt(t),arguments.length===1&&(e=Um.newId()),p1("doc","path",e),t instanceof yd){const r=Qe.fromString(e,...n);return Q0(r),new Nt(t,null,new ye(r))}{if(!(t instanceof Nt||t instanceof Gi))throw new fe(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qe.fromString(e,...n));return Q0(r),new Nt(t.firestore,t instanceof Gi?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="AsyncQueue";class F_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iT(this,"async_queue_retry"),this._c=()=>{const r=yp();r&&ue(O_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ni;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ka(e))throw e;ue(O_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",j_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=ag.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:j_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j_(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class xu extends yd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new F_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F_(e),this._firestoreClient=void 0,await e}}}function Bb(t,e){const n=typeof t=="object"?t:Fm(),r=typeof t=="string"?t:kh,s=id(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=YE("firestore");a&&jb(s,...a)}return s}function dg(t){if(t._terminated)throw new fe(Y.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zb(t),t._firestoreClient}function zb(t){const e=t._freezeSettings(),n=function(s,a,u,h){return new u2(s,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,PT(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Vb(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn($t.fromBase64String(e))}catch(n){throw new fe(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:vt("string",Bn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:vt("string",Ir._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ar(e.vectorValues);throw new fe(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ar._jsonSchemaVersion="firestore/vectorValue/1.0",Ar._jsonSchema={type:vt("string",Ar._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=/^__.*__$/;class Hb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new io(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}function RT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:t})}}class mg{constructor(e,n,r,s,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(RT(this.Ac)&&$b.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Wb{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||pd(e)}Cc(e,n,r,s=!1){return new mg({Ac:e,methodName:n,Dc:r,path:zt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qb(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new Wb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Kb(t,e,n,r,s,a={}){const u=t.Cc(a.merge||a.mergeFields?2:0,e,n,s);DT("Data must be an object, but it was:",u,r);const h=bT(r,u);let f,p;if(a.merge)f=new ir(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const _ of a.mergeFields){const E=Gb(e,_,n);if(!u.contains(E))throw new fe(Y.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);Xb(v,E)||v.push(E)}f=new ir(v),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new Hb(new Un(h),f,p)}class gg extends pg{_toFieldTransform(e){return new M2(e.path,new au)}isEqual(e){return e instanceof gg}}function kT(t,e){if(NT(t=Dt(t)))return DT("Unsupported field value:",e,t),bT(t,e);if(t instanceof pg)return function(r,s){if(!RT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=kT(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Xe.fromDate(r);return{timestampValue:Lh(s.serializer,a)}}if(r instanceof Xe){const a=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lh(s.serializer,a)}}if(r instanceof Ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bn)return{bytesValue:K1(s.serializer,r._byteString)};if(r instanceof Nt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Jm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ar)return function(u,h){return{mapValue:{fields:{[S1]:{stringValue:I1},[bh]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Gm(h.serializer,p)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Bm(r)}`)}(t,e)}function bT(t,e){const n={};return y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(t,(r,s)=>{const a=kT(s,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function NT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Ir||t instanceof Bn||t instanceof Nt||t instanceof pg||t instanceof Ar)}function DT(t,e,n){if(!NT(n)||!m1(n)){const r=Bm(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Gb(t,e,n){if((e=Dt(e))instanceof fg)return e._internalPath;if(typeof e=="string")return VT(t,e);throw jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qb=new RegExp("[~\\*/\\[\\]]");function VT(t,e,n){if(e.search(Qb)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fg(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jh(t,e,n,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new fe(Y.INVALID_ARGUMENT,h+t+f)}function Xb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(MT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yb extends LT{data(){return super.data()}}function MT(t,e){return typeof e=="string"?VT(t,e):e instanceof fg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new fe(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zb{convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return no(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){const n=e.fields?.[bh].arrayValue?.values?.map(r=>pt(r.doubleValue));return new Ar(n)}convertGeoPoint(e){return new Ir(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ad(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=Ji(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qe.fromString(e);Be(Z1(r),9688,{name:e});const s=new su(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(n)||ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends LT{constructor(e,n,r,s,a,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(MT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:vt("string",Hs._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class vh extends Hs{data(e={}){return super.data(e)}}class da{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new jl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vh(this._firestore,this._userDataWriter,r.key,r,new jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new vh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new jl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new vh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new jl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:t4(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=da._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t){t=Xs(t,Nt);const e=Xs(t.firestore,xu);return Ob(dg(e),t._key).then(n=>i4(e,t,n))}da._jsonSchemaVersion="firestore/querySnapshot/1.0",da._jsonSchema={type:vt("string",da._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class OT extends Zb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function r4(t){t=Xs(t,vd);const e=Xs(t.firestore,xu),n=dg(e),r=new OT(e);return Jb(t._query),Fb(n,t._query).then(s=>new da(e,r,t,s))}function UO(t){return FT(Xs(t.firestore,xu),[new Qm(t._key,Tr.none())])}function BO(t,e){const n=Xs(t.firestore,xu),r=CT(t),s=e4(t.converter,e);return FT(n,[Kb(qb(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Tr.exists(!1))]).then(()=>r)}function FT(t,e){return function(r,s){const a=new ni;return r.asyncQueue.enqueueAndForget(async()=>Ab(await Mb(r),s,a)),a.promise}(dg(t),e)}function i4(t,e,n){const r=n.docs.get(e._key),s=new OT(t);return new Hs(t,s,e._key,r,new jl(n.hasPendingWrites,n.fromCache),e.converter)}function zO(){return new gg("serverTimestamp")}(function(e,n=!0){(function(s){Ca=s})(to),Gs(new Xi("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new xu(new HR(r.getProvider("auth-internal")),new KR(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(p.options.projectId,v)}(u,s),u);return a={useFetchStreams:n,...a},h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),wr(W0,q0,e),wr(W0,q0,"esm2020")})();function jT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const s4=jT,UT=new wu("auth","Firebase",jT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Mm("@firebase/auth");function o4(t,...e){Uh.logLevel<=ke.WARN&&Uh.warn(`Auth (${to}): ${t}`,...e)}function _h(t,...e){Uh.logLevel<=ke.ERROR&&Uh.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,...e){throw yg(t,...e)}function Pr(t,...e){return yg(t,...e)}function BT(t,e,n){const r={...s4(),[e]:n};return new wu("auth","Firebase",r).create(e,{appName:t.name})}function Qi(t){return BT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UT.create(t,...e)}function Ee(t,e,...n){if(!t)throw yg(e,...n)}function Zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _h(e),new Error(e)}function ui(t,e){t||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){return typeof self<"u"&&self.location?.href||""}function a4(){return U_()==="http:"||U_()==="https:"}function U_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a4()||_C()||"connection"in navigator)?navigator.onLine:!0}function u4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=gC()||wC()}get(){return l4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(t,e){ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d4=new Cu(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function os(t,e,n,r,s={}){return $T(t,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Eu({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...a};return vC()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&ss(t.emulatorConfig.host)&&(p.credentials="include"),zT.fetch()(await HT(t,t.config.apiHost,n,h),p)})}async function $T(t,e,n){t._canInitEmulator=!1;const r={...c4,...e};try{const s=new p4(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw rh(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw rh(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw rh(t,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw BT(t,v,p);or(t,v)}}catch(s){if(s instanceof Vr)throw s;or(t,"network-request-failed",{message:String(s)})}}async function _d(t,e,n,r,s={}){const a=await os(t,e,n,r,s);return"mfaPendingCredential"in a&&or(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function HT(t,e,n,r){const s=`${e}${n}?${r}`,a=t,u=a.config.emulator?vg(t.config,s):`${t.config.apiScheme}://${s}`;return h4.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function f4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class p4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),d4.get())})}}function rh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}function B_(t){return t!==void 0&&t.enterprise!==void 0}class m4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g4(t,e){return os(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y4(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function Bh(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v4(t,e=!1){const n=Dt(t),r=await n.getIdToken(e),s=_g(r);Ee(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Ql(_p(s.auth_time)),issuedAtTime:Ql(_p(s.iat)),expirationTime:Ql(_p(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function _p(t){return Number(t)*1e3}function _g(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _h("JWT malformed, contained fewer than 3 sections"),null;try{const s=QE(n);return s?JSON.parse(s):(_h("Failed to decode base64 JWT payload"),null)}catch(s){return _h("Caught error parsing JWT payload as JSON",s?.toString()),null}}function z_(t){const e=_g(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vr&&_4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(t){const e=t.auth,n=await t.getIdToken(),r=await cu(t,Bh(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=s.providerUserInfo?.length?WT(s.providerUserInfo):[],u=T4(t.providerData,a),h=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!u?.length,p=h?f:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new lm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,v)}async function E4(t){const e=Dt(t);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function WT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){const n=await $T(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,u=await HT(t,s,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return t.emulatorConfig&&ss(t.emulatorConfig.host)&&(f.credentials="include"),zT.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I4(t,e){return os(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=z_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await S4(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,u=new fa;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class sr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new w4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v4(this,e)}reload(){return E4(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await cu(this,y4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,v=n.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:A,providerData:b,stsTokenManager:D}=n;Ee(_&&D,e,"internal-error");const k=fa.fromJSON(this.name,D);Ee(typeof _=="string",e,"internal-error"),Oi(r,e.name),Oi(s,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof A=="boolean",e,"internal-error"),Oi(a,e.name),Oi(u,e.name),Oi(h,e.name),Oi(f,e.name),Oi(p,e.name),Oi(v,e.name);const O=new sr({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:A,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:v});return b&&Array.isArray(b)&&(O.providerData=b.map(q=>({...q}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const s=new fa;s.updateFromServerResponse(n);const a=new sr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?WT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new fa;h.updateFromIdToken(r);const f=new sr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;function ei(t){ui(t instanceof Function,"Expected a class definition");let e=$_.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qT.type="NONE";const H_=qT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){return`firebase:${t}:${e}:${n}`}class pa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=wh(this.userKey,s.apiKey,a),this.fullPersistenceKey=wh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bh(this.auth,{idToken:e}).catch(()=>{});return n?sr._fromGetAccountInfoResponse(this.auth,n,e):null}return sr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pa(ei(H_),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ei(H_);const u=wh(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const v=await p._get(u);if(v){let _;if(typeof v=="string"){const E=await Bh(e,{idToken:v}).catch(()=>{});if(!E)break;_=await sr._fromGetAccountInfoResponse(e,E,v)}else _=sr._fromJSON(e,v);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new pa(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new pa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JT(e))return"Blackberry";if(ZT(e))return"Webos";if(GT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function KT(t=en()){return/firefox\//i.test(t)}function GT(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(t=en()){return/crios\//i.test(t)}function XT(t=en()){return/iemobile/i.test(t)}function YT(t=en()){return/android/i.test(t)}function JT(t=en()){return/blackberry/i.test(t)}function ZT(t=en()){return/webos/i.test(t)}function wg(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A4(t=en()){return wg(t)&&!!window.navigator?.standalone}function P4(){return EC()&&document.documentMode===10}function eS(t=en()){return wg(t)||YT(t)||ZT(t)||JT(t)||/windows phone/i.test(t)||XT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e=[]){let n;switch(t){case"Browser":n=W_(en());break;case"Worker":n=`${W_(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e={}){return os(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=6;class k4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q_(this),this.idTokenSubscription=new q_(this),this.beforeStateQueue=new x4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ei(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bh(this,{idToken:e}),r=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Qi(this));const n=e?Dt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C4(this),n=new k4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await I4(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ei(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await pa.create(this,[ei(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&o4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Na(t){return Dt(t)}class q_{constructor(e){this.auth=e,this.observer=null,this.addObserver=RC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N4(t){wd=t}function nS(t){return wd.loadJS(t)}function D4(){return wd.recaptchaEnterpriseScript}function V4(){return wd.gapiScript}function L4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class M4{constructor(){this.enterprise=new O4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class O4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const F4="recaptcha-enterprise",rS="NO_RECAPTCHA";class j4{constructor(e){this.type=F4,this.auth=Na(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{g4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new m4(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;B_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(rS)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new M4().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!n&&B_(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=D4();f.length!==0&&(f+=h),nS(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function K_(t,e,n,r=!1,s=!1){const a=new j4(t);let u;if(s)u=rS;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function G_(t,e,n,r,s){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await K_(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await K_(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t,e){const n=id(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(Ks(a,e??{}))return s;or(s,"already-initialized")}return n.initialize({options:e})}function B4(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ei);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function z4(t,e,n){const r=Na(t);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=iS(e),{host:u,port:h}=$4(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Ks(p,r.config.emulator)&&Ks(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ss(u)?(Vm(`${a}//${u}${f}`),Lm("Auth",!0)):H4()}function iS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $4(t){const e=iS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Q_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Q_(u)}}}function Q_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function H4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,n){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function W4(t,e){return os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(t,e){return _d(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K4(t,e){return _d(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function G4(t,e){return _d(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Eg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(e,n,"signInWithPassword",q4);case"emailLink":return K4(e,{email:this._email,oobCode:this._password});default:or(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(e,r,"signUpPassword",W4);case"emailLink":return G4(e,{idToken:n,email:this._email,oobCode:this._password});default:or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(t,e){return _d(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="http://localhost";class Js extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const u=new Js(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ma(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ma(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ma(e,n)}buildRequest(){const e={requestUri:Q4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y4(t){const e=Vl(Ll(t)).link,n=e?Vl(Ll(e)).deep_link_id:null,r=Vl(Ll(t)).deep_link_id;return(r?Vl(Ll(r)).link:null)||r||n||e||t}class Tg{constructor(e){const n=Vl(Ll(e)),r=n.apiKey??null,s=n.oobCode??null,a=X4(n.mode??null);Ee(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Y4(e);try{return new Tg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.providerId=Da.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tg.parseLink(n);return Ee(r,"argument-error"),hu._fromEmailAndCode(e,r.code,r.tenantId)}}Da.PROVIDER_ID="password";Da.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Da.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends sS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Ru{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ui.credential(n,r)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Ru{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await sr._fromIdTokenResponse(e,r,s),u=X_(r);return new Ta({user:a,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=X_(r);return new Ta({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function X_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Vr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,$h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new $h(e,n,r,s)}}function oS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$h._fromErrorAndOperation(t,a,e,r):a})}async function J4(t,e,n=!1){const r=await cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(t,e,n=!1){const{auth:r}=t;if(jn(r.app))return Promise.reject(Qi(r));const s="reauthenticate";try{const a=await cu(t,oS(r,s,e,t),n);Ee(a.idToken,r,"internal-error");const u=_g(a.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(t.uid===h,r,"user-mismatch"),Ta._forOperation(t,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&or(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aS(t,e,n=!1){if(jn(t.app))return Promise.reject(Qi(t));const r="signIn",s=await oS(t,r,e),a=await Ta._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function eN(t,e){return aS(Na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(t){const e=Na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function $O(t,e,n){return jn(t.app)?Promise.reject(Qi(t)):eN(Dt(t),Da.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tN(t),r})}function nN(t,e,n,r){return Dt(t).onIdTokenChanged(e,n,r)}function rN(t,e,n){return Dt(t).beforeAuthStateChanged(e,n)}function HO(t,e,n,r){return Dt(t).onAuthStateChanged(e,n,r)}function WO(t){return Dt(t).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e3,sN=10;class uS extends lS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);P4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sN):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uS.type="LOCAL";const oN=uS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS extends lS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cS.type="SESSION";const hS=cS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,u=this.handlersMap[s];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(n.origin,a)),f=await aN(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=Sg("",20);s.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function uN(t){xr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function cN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hN(){return navigator?.serviceWorker?.controller||null}function dN(){return dS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="firebaseLocalStorageDb",fN=1,Wh="firebaseLocalStorage",pS="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Td(t,e){return t.transaction([Wh],e?"readwrite":"readonly").objectStore(Wh)}function pN(){const t=indexedDB.deleteDatabase(fS);return new ku(t).toPromise()}function um(){const t=indexedDB.open(fS,fN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Wh,{keyPath:pS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Wh)?e(r):(r.close(),await pN(),e(await um()))})})}async function Y_(t,e,n){const r=Td(t,!0).put({[pS]:e,value:n});return new ku(r).toPromise()}async function mN(t,e){const n=Td(t,!1).get(e),r=await new ku(n).toPromise();return r===void 0?null:r.value}function J_(t,e){const n=Td(t,!0).delete(e);return new ku(n).toPromise()}const gN=800,yN=3;class mS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(dN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cN(),!this.activeServiceWorker)return;this.sender=new lN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await Y_(e,Hh,"1"),await J_(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Y_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Td(s,!1).getAll();return new ku(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mS.type="LOCAL";const vN=mS;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e){return e?ei(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ma(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ma(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wN(t){return aS(t.auth,new Ig(t),t.bypassAuthState)}function EN(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),Z4(n,new Ig(t),t.bypassAuthState)}async function TN(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),J4(n,new Ig(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wN;case"linkViaPopup":case"linkViaRedirect":return TN;case"reauthViaPopup":case"reauthViaRedirect":return EN;default:or(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Cu(2e3,1e4);class sa extends gS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ui(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SN.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="pendingRedirect",Eh=new Map;class AN extends gS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eh.get(this.auth._key());if(!e){try{const r=await PN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eh.set(this.auth._key(),e)}return this.bypassAuthState||Eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PN(t,e){const n=RN(e),r=CN(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xN(t,e){Eh.set(t._key(),e)}function CN(t){return ei(t._redirectPersistence)}function RN(t){return wh(IN,t.config.apiKey,t.name)}async function kN(t,e,n=!1){if(jn(t.app))return Promise.reject(Qi(t));const r=Na(t),s=_N(r,e),u=await new AN(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=600*1e3;class NN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!yS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function DN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VN(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MN=/^https?/;async function ON(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VN(t);for(const n of e)try{if(FN(n))return}catch{}or(t,"unauthorized-domain")}function FN(t){const e=am(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!MN.test(n))return!1;if(LN.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Cu(3e4,6e4);function ew(){const t=xr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UN(t){return new Promise((e,n)=>{function r(){ew(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ew(),n(Pr(t,"network-request-failed"))},timeout:jN.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)r();else{const s=L4("iframefcb");return xr()[s]=()=>{gapi.load?r():n(Pr(t,"network-request-failed"))},nS(`${V4()}?onload=${s}`).catch(a=>n(a))}}).catch(e=>{throw Th=null,e})}let Th=null;function BN(t){return Th=Th||UN(t),Th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Cu(5e3,15e3),$N="__/auth/iframe",HN="emulator/auth/iframe",WN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KN(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vg(e,HN):`https://${t.config.authDomain}/${$N}`,r={apiKey:e.apiKey,appName:t.name,v:to},s=qN.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Eu(r).slice(1)}`}async function GN(t){const e=await BN(t),n=xr().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:KN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WN,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Pr(t,"network-request-failed"),h=xr().setTimeout(()=>{a(u)},zN.get());function f(){xr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XN=500,YN=600,JN="_blank",ZN="http://localhost";class tw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eD(t,e,n,r=XN,s=YN){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...QN,width:r.toString(),height:s.toString(),top:a,left:u},p=en().toLowerCase();n&&(h=QT(p)?JN:n),KT(p)&&(e=e||ZN,f.scrollbars="yes");const v=Object.entries(f).reduce((E,[A,b])=>`${E}${A}=${b},`,"");if(A4(p)&&h!=="_self")return tD(e||"",h),new tw(null);const _=window.open(e||"",h,v);Ee(_,t,"popup-blocked");try{_.focus()}catch{}return new tw(_)}function tD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD="__/auth/handler",rD="emulator/auth/handler",iD=encodeURIComponent("fac");async function nw(t,e,n,r,s,a){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:s};if(e instanceof sS){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",CC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof Ru){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await t._getAppCheckToken(),p=f?`#${iD}=${encodeURIComponent(f)}`:"";return`${sD(t)}?${Eu(h).slice(1)}${p}`}function sD({config:t}){return t.emulator?vg(t,rD):`https://${t.authDomain}/${nD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class oD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hS,this._completeRedirectFn=kN,this._overrideRedirectResult=xN}async _openPopup(e,n,r,s){ui(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await nw(e,n,r,am(),s);return eD(e,a,Sg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await nw(e,n,r,am(),s);return uN(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ui(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GN(e),r=new NN(e);return n.register("authEvent",s=>(Ee(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wp,{type:wp},s=>{const a=s?.[0]?.[wp];a!==void 0&&n(!!a),or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eS()||GT()||wg()}}const aD=oD;var rw="@firebase/auth",iw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cD(t){Gs(new Xi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tS(t)},p=new b4(r,s,a,f);return B4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gs(new Xi("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(r=>new lD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(rw,iw,uD(t)),wr(rw,iw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD=300,dD=ZE("authIdTokenMaxAge")||hD;let sw=null;const fD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dD)return;const s=n?.token;sw!==s&&(sw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pD(t=Fm()){const e=id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U4(t,{popupRedirectResolver:aD,persistence:[vN,oN,hS]}),r=ZE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=fD(a.toString());rN(n,u,()=>u(n.currentUser)),nN(n,h=>u(h))}}const s=XE("auth");return s&&z4(n,`http://${s}`),n}function mD(){return document.getElementsByTagName("head")?.[0]??document}N4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Pr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",mD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cD("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firebasestorage.googleapis.com",_S="storageBucket",gD=120*1e3,yD=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Vr{constructor(e,n,r=0){super(Ep(e),`Firebase Storage: ${n} (${Ep(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Ep(t){return"storage/"+t}function Ag(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,t)}function vD(t){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _D(t){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,t)}function ED(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TD(t){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SD(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ID(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function AD(t){return new ct(ut.INVALID_URL,"Invalid URL '"+t+"'.")}function PD(t){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xD(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_S+"' property when initializing the app?")}function CD(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function RD(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kD(t){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function cm(t){return new ct(ut.INVALID_ARGUMENT,t)}function wS(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function bD(t){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xl(t,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nl(t){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw PD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Z){Z.path.charAt(Z.path.length-1)==="/"&&(Z.path_=Z.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function p(Z){Z.path_=decodeURIComponent(Z.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",A=new RegExp(`^https?://${_}/${v}/b/${s}/o${E}`,"i"),b={bucket:1,path:3},D=n===vS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,k="([^?#]*)",O=new RegExp(`^https?://${D}/${s}/${k}`,"i"),K=[{regex:h,indices:f,postModify:a},{regex:A,indices:b,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let Z=0;Z<K.length;Z++){const te=K[Z],oe=te.regex.exec(e);if(oe){const N=oe[te.indices.bucket];let I=oe[te.indices.path];I||(I=""),r=new Sn(N,I),te.postModify(r);break}}if(r==null)throw AD(e);return r}}class ND{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e,n){let r=1,s=null,a=null,u=!1,h=0;function f(){return h===2}let p=!1;function v(...k){p||(p=!0,e.apply(null,k))}function _(k){s=setTimeout(()=>{s=null,t(A,f())},k)}function E(){a&&clearTimeout(a)}function A(k,...O){if(p){E();return}if(k){E(),v.call(null,k,...O);return}if(f()||u){E(),v.call(null,k,...O);return}r<64&&(r*=2);let K;h===1?(h=2,K=0):K=(r+Math.random())*1e3,_(K)}let b=!1;function D(k){b||(b=!0,E(),!p&&(s!==null?(k||(h=2),clearTimeout(s),_(0)):k||(h=1)))}return _(0),a=setTimeout(()=>{u=!0,D(!0)},n),D}function VD(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t){return t!==void 0}function MD(t){return typeof t=="object"&&!Array.isArray(t)}function Pg(t){return typeof t=="string"||t instanceof String}function ow(t){return xg()&&t instanceof Blob}function xg(){return typeof Blob<"u"}function aw(t,e,n,r){if(r<e)throw cm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ES(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ws;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ws||(Ws={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,s,a,u,h,f,p,v,_,E=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,D)=>{this.resolve_=b,this.reject_=D,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ih(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Ws.NO_ERROR,f=a.getStatus();if(!h||OD(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Ws.ABORT;r(!1,new ih(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new ih(p,a))})},n=(r,s)=>{const a=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());LD(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=Ag();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(s.canceled){const f=this.appDelete_?wS():ID();u(f)}else{const f=SD();u(f)}};this.canceled_?n(!1,new ih(!1,null,!0)):this.backoffId_=DD(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VD(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function jD(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UD(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BD(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zD(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $D(t,e,n,r,s,a,u=!0,h=!1){const f=ES(t.urlParams),p=t.url+f,v=Object.assign({},t.headers);return BD(v,e),jD(v,n),UD(v,a),zD(v,r),new FD(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WD(...t){const e=HD();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xg())return new Blob(t);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qD(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){if(typeof atob>"u")throw kD("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tp{constructor(e,n){this.data=e,this.contentType=n||null}}function GD(t,e){switch(t){case _r.RAW:return new Tp(TS(e));case _r.BASE64:case _r.BASE64URL:return new Tp(SS(t,e));case _r.DATA_URL:return new Tp(XD(e),YD(e))}throw Ag()}function TS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=t.charCodeAt(++n);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QD(t){let e;try{e=decodeURIComponent(t)}catch{throw Xl(_r.DATA_URL,"Malformed data URL.")}return TS(e)}function SS(t,e){switch(t){case _r.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Xl(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case _r.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Xl(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=KD(e)}catch(s){throw s.message.includes("polyfill")?s:Xl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class IS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xl(_r.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=JD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XD(t){const e=new IS(t);return e.base64?SS(_r.BASE64,e.rest):QD(e.rest)}function YD(t){return new IS(t).contentType}function JD(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){let r=0,s="";ow(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(ow(this.data_)){const r=this.data_,s=qD(r,e,n);return s===null?null:new $i(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new $i(r,!0)}}static getBlob(...e){if(xg()){const n=e.map(r=>r instanceof $i?r.data_:r);return new $i(WD.apply(null,n))}else{const n=e.map(u=>Pg(u)?GD(_r.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(u=>{for(let h=0;h<u.length;h++)s[a++]=u[h]}),new $i(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){let e;try{e=JSON.parse(t)}catch{return null}return MD(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){return e}class on{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||tV}}let sh=null;function nV(t){return!Pg(t)||t.length<2?t:PS(t)}function xS(){if(sh)return sh;const t=[];t.push(new on("bucket")),t.push(new on("generation")),t.push(new on("metageneration")),t.push(new on("name","fullPath",!0));function e(a,u){return nV(u)}const n=new on("name");n.xform=e,t.push(n);function r(a,u){return u!==void 0?Number(u):u}const s=new on("size");return s.xform=r,t.push(s),t.push(new on("timeCreated")),t.push(new on("updated")),t.push(new on("md5Hash",null,!0)),t.push(new on("cacheControl",null,!0)),t.push(new on("contentDisposition",null,!0)),t.push(new on("contentEncoding",null,!0)),t.push(new on("contentLanguage",null,!0)),t.push(new on("contentType",null,!0)),t.push(new on("metadata","customMetadata",!0)),sh=t,sh}function rV(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new Sn(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function iV(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const u=n[a];r[u.local]=u.xform(r,e[u.server])}return rV(r,t),r}function CS(t,e,n){const r=AS(e);return r===null?null:iV(t,r,n)}function sV(t,e,n,r){const s=AS(e);if(s===null||!Pg(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(p=>{const v=t.bucket,_=t.fullPath,E="/b/"+u(v)+"/o/"+u(_),A=Cg(E,n,r),b=ES({alt:"media",token:p});return A+b})[0]}function oV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class RS{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(t){if(!t)throw Ag()}function aV(t,e){function n(r,s){const a=CS(t,s,e);return kS(a!==null),a}return n}function lV(t,e){function n(r,s){const a=CS(t,s,e);return kS(a!==null),sV(a,s,t.host,t._protocol)}return n}function bS(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=ED():s=wD():n.getStatus()===402?s=_D(t.bucket):n.getStatus()===403?s=TD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function uV(t){const e=bS(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=vD(t.path)),a.serverResponse=s.serverResponse,a}return n}function cV(t,e,n){const r=e.fullServerUrl(),s=Cg(r,t.host,t._protocol),a="GET",u=t.maxOperationRetryTime,h=new RS(s,a,lV(t,n),u);return h.errorHandler=uV(e),h}function hV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hV(null,e)),r}function fV(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function h(){let K="";for(let Z=0;Z<2;Z++)K=K+Math.random().toString().slice(2);return K}const f=h();u["Content-Type"]="multipart/related; boundary="+f;const p=dV(e,r,s),v=oV(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",A=$i.getBlob(_,r,E);if(A===null)throw CD();const b={name:p.fullPath},D=Cg(a,t.host,t._protocol),k="POST",O=t.maxUploadRetryTime,q=new RS(D,k,aV(t,n),O);return q.urlParams=b,q.headers=u,q.body=A.uploadData(),q.errorHandler=bS(e),q}class pV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ws.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ws.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ws.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,a){if(this.sent_)throw Nl("cannot .send() more than once");if(ss(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const u in a)a.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,a[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mV extends pV{initXhr(){this.xhr_.responseType="text"}}function NS(){return new mV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zs(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PS(this._location.path)}get storage(){return this._service}get parent(){const e=ZD(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new Zs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw bD(e)}}function gV(t,e,n){t._throwIfRoot("uploadBytes");const r=fV(t.storage,t._location,xS(),new $i(e,!0),n);return t.storage.makeRequestWithTokens(r,NS).then(s=>({metadata:s,ref:t}))}function yV(t){t._throwIfRoot("getDownloadURL");const e=cV(t.storage,t._location,xS());return t.storage.makeRequestWithTokens(e,NS).then(n=>{if(n===null)throw RD();return n})}function vV(t,e){const n=eV(t._location.path,e),r=new Sn(t._location.bucket,n);return new Zs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){return/^[A-Za-z]+:\/\//.test(t)}function wV(t,e){return new Zs(t,e)}function DS(t,e){if(t instanceof Rg){const n=t;if(n._bucket==null)throw xD();const r=new Zs(n,n._bucket);return e!=null?DS(r,e):r}else return e!==void 0?vV(t,e):t}function EV(t,e){if(e&&_V(e)){if(t instanceof Rg)return wV(t,e);throw cm("To use ref(service, url), the first argument must be a Storage instance.")}else return DS(t,e)}function lw(t,e){const n=e?.[_S];return n==null?null:Sn.makeFromBucketSpec(n,t)}function TV(t,e,n,r={}){t.host=`${e}:${n}`;const s=ss(e);s&&(Vm(`https://${t.host}/b`),Lm("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:e1(a,t.app.options.projectId))}class Rg{constructor(e,n,r,s,a,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=vS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gD,this._maxUploadRetryTime=yD,this._requests=new Set,s!=null?this._bucket=Sn.makeFromBucketSpec(s,this._host):this._bucket=lw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=lw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zs(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new ND(wS());{const u=$D(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const uw="@firebase/storage",cw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="storage";function qO(t,e,n){return t=Dt(t),gV(t,e,n)}function KO(t){return t=Dt(t),yV(t)}function GO(t,e){return t=Dt(t),EV(t,e)}function SV(t=Fm(),e){t=Dt(t);const r=id(t,VS).getImmediate({identifier:e}),s=YE("storage");return s&&IV(r,...s),r}function IV(t,e,n,r={}){TV(t,e,n,r)}function AV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Rg(n,r,s,e,to)}function PV(){Gs(new Xi(VS,AV,"PUBLIC").setMultipleInstances(!0)),wr(uw,cw,""),wr(uw,cw,"esm2020")}PV();const kg=M.createContext({});function bg(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sd=M.createContext(null),Ng=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class xV extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function CV({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),s=M.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=M.useContext(Ng);return M.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:p}=s.current;if(e||!r.current||!u||!h)return;r.current.dataset.motionPopId=n;const v=document.createElement("style");return a&&(v.nonce=a),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),P.jsx(xV,{isPresent:e,childRef:r,sizeRef:s,children:M.cloneElement(t,{ref:r})})}const RV=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:u})=>{const h=bg(kV),f=M.useId(),p=M.useCallback(_=>{h.set(_,!0);for(const E of h.values())if(!E)return;r&&r()},[h,r]),v=M.useMemo(()=>({id:f,initial:e,isPresent:n,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[n,p]);return M.useMemo(()=>{h.forEach((_,E)=>h.set(E,!1))},[n]),M.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),u==="popLayout"&&(t=P.jsx(CV,{isPresent:n,children:t})),P.jsx(Sd.Provider,{value:v,children:t})};function kV(){return new Map}function LS(t=!0){const e=M.useContext(Sd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=M.useId();M.useEffect(()=>{t&&s(a)},[t]);const u=M.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,u]:[!0]}const oh=t=>t.key||"";function hw(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const Dg=typeof window<"u",MS=Dg?M.useLayoutEffect:M.useEffect,Vg=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:u=!1})=>{const[h,f]=LS(u),p=M.useMemo(()=>hw(t),[t]),v=u&&!h?[]:p.map(oh),_=M.useRef(!0),E=M.useRef(p),A=bg(()=>new Map),[b,D]=M.useState(p),[k,O]=M.useState(p);MS(()=>{_.current=!1,E.current=p;for(let Z=0;Z<k.length;Z++){const te=oh(k[Z]);v.includes(te)?A.delete(te):A.get(te)!==!0&&A.set(te,!1)}},[k,v.length,v.join("-")]);const q=[];if(p!==b){let Z=[...p];for(let te=0;te<k.length;te++){const oe=k[te],N=oh(oe);v.includes(N)||(Z.splice(te,0,oe),q.push(oe))}a==="wait"&&q.length&&(Z=q),O(hw(Z)),D(p);return}const{forceRender:K}=M.useContext(kg);return P.jsx(P.Fragment,{children:k.map(Z=>{const te=oh(Z),oe=u&&!h?!1:p===k||v.includes(te),N=()=>{if(A.has(te))A.set(te,!0);else return;let I=!0;A.forEach(x=>{x||(I=!1)}),I&&(K?.(),O(E.current),u&&f?.(),r&&r())};return P.jsx(RV,{isPresent:oe,initial:!_.current||n?void 0:!1,custom:oe?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:oe?void 0:N,children:Z},te)})})},In=t=>t;let OS=In;function Lg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ri=t=>t*1e3,ii=t=>t/1e3,bV={useManualTiming:!1};function NV(t){let e=new Set,n=new Set,r=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){a.has(p)&&(f.schedule(p),t()),p(u)}const f={schedule:(p,v=!1,_=!1)=>{const A=_&&r?e:n;return v&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{n.delete(p),a.delete(p)},process:p=>{if(u=p,r){s=!0;return}r=!0,[e,n]=[n,e],e.forEach(h),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const ah=["read","resolveKeyframes","update","preRender","render","postRender"],DV=40;function FS(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=ah.reduce((O,q)=>(O[q]=NV(a),O),{}),{read:h,resolveKeyframes:f,update:p,preRender:v,render:_,postRender:E}=u,A=()=>{const O=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(O-s.timestamp,DV),1),s.timestamp=O,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),v.process(s),_.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(A))},b=()=>{n=!0,r=!0,s.isProcessing||t(A)};return{schedule:ah.reduce((O,q)=>{const K=u[q];return O[q]=(Z,te=!1,oe=!1)=>(n||b(),K.schedule(Z,te,oe)),O},{}),cancel:O=>{for(let q=0;q<ah.length;q++)u[ah[q]].cancel(O)},state:s,steps:u}}const{schedule:Ye,cancel:rs,state:Ut,steps:Sp}=FS(typeof requestAnimationFrame<"u"?requestAnimationFrame:In,!0),Mg=M.createContext({strict:!1}),dw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const t in dw)Ia[t]={isEnabled:e=>dw[t].some(n=>!!e[n])};function hm(t){for(const e in t)Ia[e]={...Ia[e],...t[e]}}function VV({children:t,features:e,strict:n=!1}){const[,r]=M.useState(!Ip(e)),s=M.useRef(void 0);if(!Ip(e)){const{renderer:a,...u}=e;s.current=a,hm(u)}return M.useEffect(()=>{Ip(e)&&e().then(({renderer:a,...u})=>{hm(u),s.current=a,r(!0)})},[]),P.jsx(Mg.Provider,{value:{renderer:s.current,strict:n},children:t})}function Ip(t){return typeof t=="function"}const LV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function qh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LV.has(t)}let jS=t=>!qh(t);function MV(t){t&&(jS=e=>e.startsWith("on")?!qh(e):t(e))}try{MV(require("@emotion/is-prop-valid").default)}catch{}function OV(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(jS(s)||n===!0&&qh(s)||!e&&!qh(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function FV(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Id=M.createContext({});function du(t){return typeof t=="string"||Array.isArray(t)}function Ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Og=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Fg=["initial",...Og];function Pd(t){return Ad(t.animate)||Fg.some(e=>du(t[e]))}function US(t){return!!(Pd(t)||t.variants)}function jV(t,e){if(Pd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||du(n)?n:void 0,animate:du(r)?r:void 0}}return t.inherit!==!1?e:{}}function UV(t){const{initial:e,animate:n}=jV(t,M.useContext(Id));return M.useMemo(()=>({initial:e,animate:n}),[fw(e),fw(n)])}function fw(t){return Array.isArray(t)?t.join(" "):t}const BV=Symbol.for("motionComponentSymbol");function oa(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zV(t,e,n){return M.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):oa(n)&&(n.current=r))},[e])}const jg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$V="framerAppearId",BS="data-"+jg($V),{schedule:Ug}=FS(queueMicrotask,!1),zS=M.createContext({});function HV(t,e,n,r,s){var a,u;const{visualElement:h}=M.useContext(Id),f=M.useContext(Mg),p=M.useContext(Sd),v=M.useContext(Ng).reducedMotion,_=M.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const E=_.current,A=M.useContext(zS);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&WV(_.current,n,s,A);const b=M.useRef(!1);M.useInsertionEffect(()=>{E&&b.current&&E.update(n,p)});const D=n[BS],k=M.useRef(!!D&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,D))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,D)));return MS(()=>{E&&(b.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Ug.render(E.render),k.current&&E.animationState&&E.animationState.animateChanges())}),M.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,D)}),k.current=!1))}),E}function WV(t,e,n,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$S(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&oa(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function $S(t){if(t)return t.options.allowProjection!==!1?t.projection:$S(t.parent)}function qV({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,u;t&&hm(t);function h(p,v){let _;const E={...M.useContext(Ng),...p,layoutId:KV(p)},{isStatic:A}=E,b=UV(p),D=r(p,A);if(!A&&Dg){GV();const k=QV(E);_=k.MeasureLayout,b.visualElement=HV(s,D,E,e,k.ProjectionNode)}return P.jsxs(Id.Provider,{value:b,children:[_&&b.visualElement?P.jsx(_,{visualElement:b.visualElement,...E}):null,n(s,p,zV(D,b.visualElement,v),D,A,b.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(u=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&u!==void 0?u:""})`}`;const f=M.forwardRef(h);return f[BV]=s,f}function KV({layoutId:t}){const e=M.useContext(kg).id;return e&&t!==void 0?e+"-"+t:t}function GV(t,e){M.useContext(Mg).strict}function QV(t){const{drag:e,layout:n}=Ia;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const XV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Bg(t){return typeof t!="string"||t.includes("-")?!1:!!(XV.indexOf(t)>-1||/[A-Z]/u.test(t))}function pw(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function zg(t,e,n,r){if(typeof e=="function"){const[s,a]=pw(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=pw(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const dm=t=>Array.isArray(t),YV=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),JV=t=>dm(t)?t[t.length-1]||0:t,Zt=t=>!!(t&&t.getVelocity);function Sh(t){const e=Zt(t)?t.get():t;return YV(e)?e.toValue():e}function ZV({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const u={latestValues:e3(r,s,a,t),renderState:e()};return n&&(u.onMount=h=>n({props:r,current:h,...u}),u.onUpdate=h=>n(h)),u}const HS=t=>(e,n)=>{const r=M.useContext(Id),s=M.useContext(Sd),a=()=>ZV(t,e,r,s);return n?a():bg(a)};function e3(t,e,n,r){const s={},a=r(t,{});for(const E in a)s[E]=Sh(a[E]);let{initial:u,animate:h}=t;const f=Pd(t),p=US(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?h:u;if(_&&typeof _!="boolean"&&!Ad(_)){const E=Array.isArray(_)?_:[_];for(let A=0;A<E.length;A++){const b=zg(t,E[A]);if(b){const{transitionEnd:D,transition:k,...O}=b;for(const q in O){let K=O[q];if(Array.isArray(K)){const Z=v?K.length-1:0;K=K[Z]}K!==null&&(s[q]=K)}for(const q in D)s[q]=D[q]}}}return s}const Va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ao=new Set(Va),WS=t=>e=>typeof e=="string"&&e.startsWith(t),qS=WS("--"),t3=WS("var(--"),$g=t=>t3(t)?n3.test(t.split("/*")[0].trim()):!1,n3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ci=(t,e,n)=>n>e?e:n<t?t:n,La={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fu={...La,transform:t=>ci(0,1,t)},lh={...La,default:1},bu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fi=bu("deg"),Cr=bu("%"),we=bu("px"),r3=bu("vh"),i3=bu("vw"),mw={...Cr,parse:t=>Cr.parse(t)/100,transform:t=>Cr.transform(t*100)},s3={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},o3={rotate:Fi,rotateX:Fi,rotateY:Fi,rotateZ:Fi,scale:lh,scaleX:lh,scaleY:lh,scaleZ:lh,skew:Fi,skewX:Fi,skewY:Fi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:fu,originX:mw,originY:mw,originZ:we},gw={...La,transform:Math.round},Hg={...s3,...o3,zIndex:gw,size:we,fillOpacity:fu,strokeOpacity:fu,numOctaves:gw},a3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l3=Va.length;function u3(t,e,n){let r="",s=!0;for(let a=0;a<l3;a++){const u=Va[a],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=KS(h,Hg[u]);if(!f){s=!1;const v=a3[u]||u;r+=`${v}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Wg(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(ao.has(f)){u=!0;continue}else if(qS(f)){s[f]=p;continue}else{const v=KS(p,Hg[f]);f.startsWith("origin")?(h=!0,a[f]=v):r[f]=v}}if(e.transform||(u||n?r.transform=u3(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${p} ${v}`}}const c3={offset:"stroke-dashoffset",array:"stroke-dasharray"},h3={offset:"strokeDashoffset",array:"strokeDasharray"};function d3(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?c3:h3;t[a.offset]=we.transform(-r);const u=we.transform(e),h=we.transform(n);t[a.array]=`${u} ${h}`}function yw(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function f3(t,e,n){const r=yw(e,t.x,t.width),s=yw(n,t.y,t.height);return`${r} ${s}`}function qg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},v,_){if(Wg(t,p,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:A,dimensions:b}=t;E.transform&&(b&&(A.transform=E.transform),delete E.transform),b&&(s!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=f3(b,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),u!==void 0&&d3(E,u,h,f,!1)}const Kg=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),GS=()=>({...Kg(),attrs:{}}),Gg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function QS(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const XS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YS(t,e,n,r){QS(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(XS.has(s)?s:jg(s),e.attrs[s])}const Kh={};function p3(t){Object.assign(Kh,t)}function JS(t,{layout:e,layoutId:n}){return ao.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kh[t]||t==="opacity")}function Qg(t,e,n){var r;const{style:s}=t,a={};for(const u in s)(Zt(s[u])||e.style&&Zt(e.style[u])||JS(u,t)||((r=n?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=s[u]);return a}function ZS(t,e,n){const r=Qg(t,e,n);for(const s in t)if(Zt(t[s])||Zt(e[s])){const a=Va.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}function m3(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const vw=["x","y","width","height","cx","cy","r"],g3={useVisualState:HS({scrapeMotionValuesFromProps:ZS,createRenderState:GS,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in s)if(ao.has(h)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let h=0;h<vw.length;h++){const f=vw[h];t[f]!==e[f]&&(u=!0)}u&&Ye.read(()=>{m3(n,r),Ye.render(()=>{qg(r,s,Gg(n.tagName),t.transformTemplate),YS(n,r)})})}})},y3={useVisualState:HS({scrapeMotionValuesFromProps:Qg,createRenderState:Kg})};function eI(t,e,n){for(const r in e)!Zt(e[r])&&!JS(r,n)&&(t[r]=e[r])}function v3({transformTemplate:t},e){return M.useMemo(()=>{const n=Kg();return Wg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _3(t,e){const n=t.style||{},r={};return eI(r,n,t),Object.assign(r,v3(t,e)),r}function w3(t,e){const n={},r=_3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function E3(t,e,n,r){const s=M.useMemo(()=>{const a=GS();return qg(a,e,Gg(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};eI(a,t.style,t),s.style={...a,...s.style}}return s}function T3(t=!1){return(n,r,s,{latestValues:a},u)=>{const f=(Bg(n)?E3:w3)(r,a,u,n),p=OV(r,typeof n=="string",t),v=n!==M.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=M.useMemo(()=>Zt(_)?_.get():_,[_]);return M.createElement(n,{...v,children:E})}}function S3(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Bg(r)?g3:y3,preloadedFeatures:t,useRender:T3(s),createVisualElement:e,Component:r};return qV(u)}}function tI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xd(t,e,n){const r=t.getProps();return zg(r,e,n!==void 0?n:r.custom,t)}const I3=Lg(()=>window.ScrollTimeline!==void 0);class A3{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(I3()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class P3 extends A3{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Xg(t,e){return t?t[e]||t.default||t:void 0}const fm=2e4;function nI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fm;)e+=n,r=t.next(e);return e>=fm?1/0:e}function Yg(t){return typeof t=="function"}function _w(t,e){t.timeline=e,t.onfinish=null}const Jg=t=>Array.isArray(t)&&typeof t[0]=="number",x3={linearEasing:void 0};function C3(t,e){const n=Lg(t);return()=>{var r;return(r=x3[e])!==null&&r!==void 0?r:n()}}const Gh=C3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Sa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function iI(t){return!!(typeof t=="function"&&Gh()||!t||typeof t=="string"&&(t in pm||Gh())||Jg(t)||Array.isArray(t)&&t.every(iI))}const Ul=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ul([0,.65,.55,1]),circOut:Ul([.55,0,1,.45]),backIn:Ul([.31,.01,.66,-.59]),backOut:Ul([.33,1.53,.69,.99])};function sI(t,e){if(t)return typeof t=="function"&&Gh()?rI(t,e):Jg(t)?Ul(t):Array.isArray(t)?t.map(n=>sI(n,e)||pm.easeOut):pm[t]}const rr={x:!1,y:!1};function oI(){return rr.x||rr.y}function aI(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function lI(t,e){const n=aI(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ww(t){return e=>{e.pointerType==="touch"||oI()||t(e)}}function R3(t,e,n={}){const[r,s,a]=lI(t,n),u=ww(h=>{const{target:f}=h,p=e(h);if(typeof p!="function"||!f)return;const v=ww(_=>{p(_),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,s)});return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const uI=(t,e)=>e?t===e?!0:uI(t,e.parentElement):!1,Zg=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,k3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function b3(t){return k3.has(t.tagName)||t.tabIndex!==-1}const Bl=new WeakSet;function Ew(t){return e=>{e.key==="Enter"&&t(e)}}function Ap(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const N3=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Ew(()=>{if(Bl.has(n))return;Ap(n,"down");const s=Ew(()=>{Ap(n,"up")}),a=()=>Ap(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Tw(t){return Zg(t)&&!oI()}function D3(t,e,n={}){const[r,s,a]=lI(t,n),u=h=>{const f=h.currentTarget;if(!Tw(h)||Bl.has(f))return;Bl.add(f);const p=e(h),v=(A,b)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!Tw(A)||!Bl.has(f))&&(Bl.delete(f),typeof p=="function"&&p(A,{success:b}))},_=A=>{v(A,n.useGlobalTarget||uI(f,A.target))},E=A=>{v(A,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{!b3(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),h.addEventListener("focus",p=>N3(p,s),s)}),a}function V3(t){return t==="x"||t==="y"?rr[t]?null:(rr[t]=!0,()=>{rr[t]=!1}):rr.x||rr.y?null:(rr.x=rr.y=!0,()=>{rr.x=rr.y=!1})}const cI=new Set(["width","height","top","left","right","bottom",...Va]);let Ih;function L3(){Ih=void 0}const Rr={now:()=>(Ih===void 0&&Rr.set(Ut.isProcessing||bV.useManualTiming?Ut.timestamp:performance.now()),Ih),set:t=>{Ih=t,queueMicrotask(L3)}};function ey(t,e){t.indexOf(e)===-1&&t.push(e)}function ty(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ny{constructor(){this.subscriptions=[]}add(e){return ey(this.subscriptions,e),()=>ty(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hI(t,e){return e?t*(1e3/e):0}const Sw=30,M3=t=>!isNaN(parseFloat(t));class O3{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Rr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M3(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ny);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Sw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Sw);return hI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pu(t,e){return new O3(t,e)}function F3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,pu(n))}function j3(t,e){const n=xd(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const u in a){const h=JV(a[u]);F3(t,u,h)}}function U3(t){return!!(Zt(t)&&t.add)}function mm(t,e){const n=t.getValue("willChange");if(U3(n))return n.add(e)}function dI(t){return t.props[BS]}const fI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,B3=1e-7,z3=12;function $3(t,e,n,r,s){let a,u,h=0;do u=e+(n-e)/2,a=fI(u,r,s)-t,a>0?n=u:e=u;while(Math.abs(a)>B3&&++h<z3);return u}function Nu(t,e,n,r){if(t===e&&n===r)return In;const s=a=>$3(a,0,1,t,n);return a=>a===0||a===1?a:fI(s(a),e,r)}const pI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mI=t=>e=>1-t(1-e),gI=Nu(.33,1.53,.69,.99),ry=mI(gI),yI=pI(ry),vI=t=>(t*=2)<1?.5*ry(t):.5*(2-Math.pow(2,-10*(t-1))),iy=t=>1-Math.sin(Math.acos(t)),_I=mI(iy),wI=pI(iy),EI=t=>/^0[^.\s]+$/u.test(t);function H3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EI(t):!0}const Yl=t=>Math.round(t*1e5)/1e5,sy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function W3(t){return t==null}const q3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,oy=(t,e)=>n=>!!(typeof n=="string"&&q3.test(n)&&n.startsWith(t)||e&&!W3(n)&&Object.prototype.hasOwnProperty.call(n,e)),TI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(sy);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},K3=t=>ci(0,255,t),Pp={...La,transform:t=>Math.round(K3(t))},$s={test:oy("rgb","red"),parse:TI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Pp.transform(t)+", "+Pp.transform(e)+", "+Pp.transform(n)+", "+Yl(fu.transform(r))+")"};function G3(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const gm={test:oy("#"),parse:G3,transform:$s.transform},aa={test:oy("hsl","hue"),parse:TI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cr.transform(Yl(e))+", "+Cr.transform(Yl(n))+", "+Yl(fu.transform(r))+")"},Qt={test:t=>$s.test(t)||gm.test(t)||aa.test(t),parse:t=>$s.test(t)?$s.parse(t):aa.test(t)?aa.parse(t):gm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$s.transform(t):aa.transform(t)},Q3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function X3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(sy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Q3))===null||n===void 0?void 0:n.length)||0)>0}const SI="number",II="color",Y3="var",J3="var(",Iw="${}",Z3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function mu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(Z3,f=>(Qt.test(f)?(r.color.push(a),s.push(II),n.push(Qt.parse(f))):f.startsWith(J3)?(r.var.push(a),s.push(Y3),n.push(f)):(r.number.push(a),s.push(SI),n.push(parseFloat(f))),++a,Iw)).split(Iw);return{values:n,split:h,indexes:r,types:s}}function AI(t){return mu(t).values}function PI(t){const{split:e,types:n}=mu(t),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=n[u];h===SI?a+=Yl(s[u]):h===II?a+=Qt.transform(s[u]):a+=s[u]}return a}}const e6=t=>typeof t=="number"?0:t;function t6(t){const e=AI(t);return PI(t)(e.map(e6))}const is={test:X3,parse:AI,createTransformer:PI,getAnimatableNone:t6},n6=new Set(["brightness","contrast","saturate","opacity"]);function r6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(sy)||[];if(!r)return t;const s=n.replace(r,"");let a=n6.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const i6=/\b([a-z-]*)\(.*?\)/gu,ym={...is,getAnimatableNone:t=>{const e=t.match(i6);return e?e.map(r6).join(" "):t}},s6={...Hg,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:ym,WebkitFilter:ym},ay=t=>s6[t];function xI(t,e){let n=ay(t);return n!==ym&&(n=is),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const o6=new Set(["auto","none","0"]);function a6(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!o6.has(a)&&mu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=xI(n,s)}const Aw=t=>t===La||t===we,Pw=(t,e)=>parseFloat(t.split(", ")[e]),xw=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Pw(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?Pw(a[1],t):0}},l6=new Set(["x","y","z"]),u6=Va.filter(t=>!l6.has(t));function c6(t){const e=[];return u6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:xw(4,13),y:xw(5,14)};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const qs=new Set;let vm=!1,_m=!1;function CI(){if(_m){const t=Array.from(qs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=c6(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_m=!1,vm=!1,qs.forEach(t=>t.complete()),qs.clear()}function RI(){qs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(_m=!0)})}function h6(){RI(),CI()}class ly{constructor(e,n,r,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(qs.add(this),vm||(vm=!0,Ye.read(RI),Ye.resolveKeyframes(CI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=s?.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&u===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),qs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,qs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),d6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function f6(t){const e=d6.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function bI(t,e,n=1){const[r,s]=f6(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return kI(u)?parseFloat(u):u}return $g(s)?bI(s,e,n+1):s}const NI=t=>e=>e.test(t),p6={test:t=>t==="auto",parse:t=>t},DI=[La,we,Cr,Fi,i3,r3,p6],Cw=t=>DI.find(NI(t));class VI extends ly{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),$g(p))){const v=bI(p,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!cI.has(r)||e.length!==2)return;const[s,a]=e,u=Cw(s),h=Cw(a);if(u!==h)if(Aw(u)&&Aw(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)H3(e[s])&&r.push(s);r.length&&a6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Aa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,h=s[u];s[u]=Aa[r](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const Rw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(is.test(t)||t==="0")&&!t.startsWith("url("));function m6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function g6(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Rw(s,e),h=Rw(a,e);return!u||!h?!1:m6(t)||(n==="spring"||Yg(n))&&r}const y6=t=>t!==null;function Cd(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(y6),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const v6=40;class LI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Rr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>v6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&h6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Rr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:u,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!g6(e,r,s,a))if(u)this.options.duration=0;else{f&&f(Cd(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,n);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const it=(t,e,n)=>t+(e-t)*n;function xp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function _6({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,u=0;if(!e)s=a=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;s=xp(f,h,t+1/3),a=xp(f,h,t),u=xp(f,h,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Qh(t,e){return n=>n>0?e:t}const Cp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},w6=[gm,$s,aa],E6=t=>w6.find(e=>e.test(t));function kw(t){const e=E6(t);if(!e)return!1;let n=e.parse(t);return e===aa&&(n=_6(n)),n}const bw=(t,e)=>{const n=kw(t),r=kw(e);if(!n||!r)return Qh(t,e);const s={...n};return a=>(s.red=Cp(n.red,r.red,a),s.green=Cp(n.green,r.green,a),s.blue=Cp(n.blue,r.blue,a),s.alpha=it(n.alpha,r.alpha,a),$s.transform(s))},T6=(t,e)=>n=>e(t(n)),Du=(...t)=>t.reduce(T6),wm=new Set(["none","hidden"]);function S6(t,e){return wm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function I6(t,e){return n=>it(t,e,n)}function uy(t){return typeof t=="number"?I6:typeof t=="string"?$g(t)?Qh:Qt.test(t)?bw:x6:Array.isArray(t)?MI:typeof t=="object"?Qt.test(t)?bw:A6:Qh}function MI(t,e){const n=[...t],r=n.length,s=t.map((a,u)=>uy(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=s[u](a);return n}}function A6(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=uy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function P6(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=t.indexes[u][s[u]],f=(n=t.values[h])!==null&&n!==void 0?n:0;r[a]=f,s[u]++}return r}const x6=(t,e)=>{const n=is.createTransformer(e),r=mu(t),s=mu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?wm.has(t)&&!s.values.length||wm.has(e)&&!r.values.length?S6(t,e):Du(MI(P6(r,s),s.values),n):Qh(t,e)};function OI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):uy(t)(t,e)}const C6=5;function FI(t,e,n){const r=Math.max(e-C6,0);return hI(n-t(r),e-r)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rp=.001;function R6({duration:t=lt.duration,bounce:e=lt.bounce,velocity:n=lt.velocity,mass:r=lt.mass}){let s,a,u=1-e;u=ci(lt.minDamping,lt.maxDamping,u),t=ci(lt.minDuration,lt.maxDuration,ii(t)),u<1?(s=p=>{const v=p*u,_=v*t,E=v-n,A=Em(p,u),b=Math.exp(-_);return Rp-E/A*b},a=p=>{const _=p*u*t,E=_*n+n,A=Math.pow(u,2)*Math.pow(p,2)*t,b=Math.exp(-_),D=Em(Math.pow(p,2),u);return(-s(p)+Rp>0?-1:1)*((E-A)*b)/D}):(s=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-Rp+v*_},a=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const h=5/t,f=b6(s,a,h);if(t=ri(t),isNaN(f))return{stiffness:lt.stiffness,damping:lt.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const k6=12;function b6(t,e,n){let r=n;for(let s=1;s<k6;s++)r=r-t(r)/e(r);return r}function Em(t,e){return t*Math.sqrt(1-e*e)}const N6=["duration","bounce"],D6=["stiffness","damping","mass"];function Nw(t,e){return e.some(n=>t[n]!==void 0)}function V6(t){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...t};if(!Nw(t,D6)&&Nw(t,N6))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*ci(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:lt.mass,stiffness:s,damping:a}}else{const n=R6(t);e={...e,...n,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function jI(t=lt.visualDuration,e=lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:v,duration:_,velocity:E,isResolvedFromDuration:A}=V6({...n,velocity:-ii(n.velocity||0)}),b=E||0,D=p/(2*Math.sqrt(f*v)),k=u-a,O=ii(Math.sqrt(f/v)),q=Math.abs(k)<5;r||(r=q?lt.restSpeed.granular:lt.restSpeed.default),s||(s=q?lt.restDelta.granular:lt.restDelta.default);let K;if(D<1){const te=Em(O,D);K=oe=>{const N=Math.exp(-D*O*oe);return u-N*((b+D*O*k)/te*Math.sin(te*oe)+k*Math.cos(te*oe))}}else if(D===1)K=te=>u-Math.exp(-O*te)*(k+(b+O*k)*te);else{const te=O*Math.sqrt(D*D-1);K=oe=>{const N=Math.exp(-D*O*oe),I=Math.min(te*oe,300);return u-N*((b+D*O*k)*Math.sinh(I)+te*k*Math.cosh(I))/te}}const Z={calculatedDuration:A&&_||null,next:te=>{const oe=K(te);if(A)h.done=te>=_;else{let N=0;D<1&&(N=te===0?ri(b):FI(K,te,oe));const I=Math.abs(N)<=r,x=Math.abs(u-oe)<=s;h.done=I&&x}return h.value=h.done?u:oe,h},toString:()=>{const te=Math.min(nI(Z),fm),oe=rI(N=>Z.next(te*N).value,te,30);return te+"ms "+oe}};return Z}function Dw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:v}){const _=t[0],E={done:!1,value:_},A=I=>h!==void 0&&I<h||f!==void 0&&I>f,b=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let D=n*e;const k=_+D,O=u===void 0?k:u(k);O!==k&&(D=O-_);const q=I=>-D*Math.exp(-I/r),K=I=>O+q(I),Z=I=>{const x=q(I),V=K(I);E.done=Math.abs(x)<=p,E.value=E.done?O:V};let te,oe;const N=I=>{A(E.value)&&(te=I,oe=jI({keyframes:[E.value,b(E.value)],velocity:FI(K,I,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:v}))};return N(0),{calculatedDuration:null,next:I=>{let x=!1;return!oe&&te===void 0&&(x=!0,Z(I),N(I)),te!==void 0&&I>=te?oe.next(I-te):(!x&&Z(I),E)}}}const L6=Nu(.42,0,1,1),M6=Nu(0,0,.58,1),UI=Nu(.42,0,.58,1),O6=t=>Array.isArray(t)&&typeof t[0]!="number",F6={linear:In,easeIn:L6,easeInOut:UI,easeOut:M6,circIn:iy,circInOut:wI,circOut:_I,backIn:ry,backInOut:yI,backOut:gI,anticipate:vI},Vw=t=>{if(Jg(t)){OS(t.length===4);const[e,n,r,s]=t;return Nu(e,n,r,s)}else if(typeof t=="string")return F6[t];return t};function j6(t,e,n){const r=[],s=n||OI,a=t.length-1;for(let u=0;u<a;u++){let h=s(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||In:e;h=Du(f,h)}r.push(h)}return r}function U6(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(OS(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=j6(e,r,s),f=h.length,p=v=>{if(u&&v<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const E=Sa(t[_],t[_+1],v);return h[_](E)};return n?v=>p(ci(t[0],t[a-1],v)):p}function B6(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sa(0,e,r);t.push(it(n,1,s))}}function z6(t){const e=[0];return B6(e,t.length-1),e}function $6(t,e){return t.map(n=>n*e)}function H6(t,e){return t.map(()=>e||UI).splice(0,t.length-1)}function Xh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=O6(r)?r.map(Vw):Vw(r),a={done:!1,value:e[0]},u=$6(n&&n.length===e.length?n:z6(e),t),h=U6(u,e,{ease:Array.isArray(s)?s:H6(e,s)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const W6=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ye.update(e,!0),stop:()=>rs(e),now:()=>Ut.isProcessing?Ut.timestamp:Rr.now()}},q6={decay:Dw,inertia:Dw,tween:Xh,keyframes:Xh,spring:jI},K6=t=>t/100;class cy extends LI{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,u=s?.KeyframeResolver||ly,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,h,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=this.options,h=Yg(n)?n:q6[n]||Xh;let f,p;h!==Xh&&typeof e[0]!="number"&&(f=Du(K6,OI(e[0],e[1])),e=[0,100]);const v=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=nI(v));const{calculatedDuration:_}=v,E=_+s,A=E*(r+1)-s;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:A}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:v,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:A,repeatType:b,repeatDelay:D,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-E*(this.speed>=0?1:-1),q=this.speed>=0?O<0:O>v;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let K=this.currentTime,Z=a;if(A){const I=Math.min(this.currentTime,v)/_;let x=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&x--,x=Math.min(x,A+1),!!(x%2)&&(b==="reverse"?(V=1-V,D&&(V-=D/_)):b==="mirror"&&(Z=u)),K=ci(0,1,V)*_}const te=q?{done:!1,value:f[0]}:Z.next(K);h&&(te.value=h(te.value));let{done:oe}=te;!q&&p!==null&&(oe=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return N&&s!==void 0&&(te.value=Cd(f,this.options,s)),k&&k(te.value),N&&this.finish(),te}get duration(){const{resolved:e}=this;return e?ii(e.calculatedDuration):0}get time(){return ii(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=W6,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const G6=new Set(["opacity","clipPath","filter","transform"]);function Q6(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const v=sI(h,s);return Array.isArray(v)&&(p.easing=v),t.animate(p,{delay:r,duration:s,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const X6=Lg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yh=10,Y6=2e4;function J6(t){return Yg(t.type)||t.type==="spring"||!iI(t.ease)}function Z6(t,e){const n=new cy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<Y6;)r=n.sample(a),s.push(r.value),a+=Yh;return{times:void 0,keyframes:s,duration:a-Yh,ease:"linear"}}const BI={anticipate:vI,backInOut:yI,circInOut:wI};function eL(t){return t in BI}class Lw extends LI{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new VI(a,(u,h)=>this.onKeyframesResolved(u,h),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Gh()&&eL(a)&&(a=BI[a]),J6(this.options)){const{onComplete:_,onUpdate:E,motionValue:A,element:b,...D}=this.options,k=Z6(e,D);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,a=k.ease,u="keyframes"}const v=Q6(h.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(_w(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:_}=this.options;h.set(Cd(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:s,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ii(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ii(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return In;const{animation:r}=n;_w(r,e)}return In}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:_,element:E,...A}=this.options,b=new cy({...A,keyframes:r,duration:s,type:a,ease:u,times:h,isGenerator:!0}),D=ri(this.time);p.setWithVelocity(b.sample(D-Yh).value,b.sample(D).value,Yh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return X6()&&r&&G6.has(r)&&!f&&!p&&!s&&a!=="mirror"&&u!==0&&h!=="inertia"}}const tL={type:"spring",stiffness:500,damping:25,restSpeed:10},nL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rL={type:"keyframes",duration:.8},iL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sL=(t,{keyframes:e})=>e.length>2?rL:ao.has(t)?t.startsWith("scale")?nL(e[1]):tL:iL;function oL({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const hy=(t,e,n,r={},s,a)=>u=>{const h=Xg(r,t)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ri(f);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:s};oL(h)||(v={...v,...sL(t,v)}),v.duration&&(v.duration=ri(v.duration)),v.repeatDelay&&(v.repeatDelay=ri(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=Cd(v.keyframes,h);if(E!==void 0)return Ye.update(()=>{v.onUpdate(E),v.onComplete()}),new P3([])}return!a&&Lw.supports(v)?new Lw(v):new cy(v)};function aL({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=e;r&&(u=r);const p=[],v=s&&t.animationState&&t.animationState.getState()[s];for(const _ in f){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),A=f[_];if(A===void 0||v&&aL(v,_))continue;const b={delay:n,...Xg(u||{},_)};let D=!1;if(window.MotionHandoffAnimation){const O=dI(t);if(O){const q=window.MotionHandoffAnimation(O,_,Ye);q!==null&&(b.startTime=q,D=!0)}}mm(t,_),E.start(hy(_,E,A,t.shouldReduceMotion&&cI.has(_)?{type:!1}:b,t,D));const k=E.animation;k&&p.push(k)}return h&&Promise.all(p).then(()=>{Ye.update(()=>{h&&j3(t,h)})}),p}function Tm(t,e,n={}){var r;const s=xd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const u=s?()=>Promise.all(zI(t,s,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:E}=a;return lL(t,e,v+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[u,h]:[h,u];return p().then(()=>v())}else return Promise.all([u(),h(n.delay)])}function lL(t,e,n=0,r=0,s=1,a){const u=[],h=(t.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(uL).forEach((p,v)=>{p.notify("AnimationStart",e),u.push(Tm(p,e,{...a,delay:n+f(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function uL(t,e){return t.sortNodePosition(e)}function cL(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Tm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=Tm(t,e,n);else{const s=typeof e=="function"?xd(t,e,n.custom):e;r=Promise.all(zI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const hL=Fg.length;function $I(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$I(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<hL;n++){const r=Fg[n],s=t.props[r];(du(s)||s===!1)&&(e[r]=s)}return e}const dL=[...Og].reverse(),fL=Og.length;function pL(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cL(t,n,r)))}function mL(t){let e=pL(t),n=Mw(),r=!0;const s=f=>(p,v)=>{var _;const E=xd(t,v,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:A,transitionEnd:b,...D}=E;p={...p,...D,...b}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,v=$I(t.parent)||{},_=[],E=new Set;let A={},b=1/0;for(let k=0;k<fL;k++){const O=dL[k],q=n[O],K=p[O]!==void 0?p[O]:v[O],Z=du(K),te=O===f?q.isActive:null;te===!1&&(b=k);let oe=K===v[O]&&K!==p[O]&&Z;if(oe&&r&&t.manuallyAnimateOnMount&&(oe=!1),q.protectedKeys={...A},!q.isActive&&te===null||!K&&!q.prevProp||Ad(K)||typeof K=="boolean")continue;const N=gL(q.prevProp,K);let I=N||O===f&&q.isActive&&!oe&&Z||k>b&&Z,x=!1;const V=Array.isArray(K)?K:[K];let j=V.reduce(s(O),{});te===!1&&(j={});const{prevResolvedValues:B={}}=q,R={...B,...j},Je=Ae=>{I=!0,E.has(Ae)&&(x=!0,E.delete(Ae)),q.needsAnimating[Ae]=!0;const ie=t.getValue(Ae);ie&&(ie.liveStyle=!1)};for(const Ae in R){const ie=j[Ae],me=B[Ae];if(A.hasOwnProperty(Ae))continue;let ae=!1;dm(ie)&&dm(me)?ae=!tI(ie,me):ae=ie!==me,ae?ie!=null?Je(Ae):E.add(Ae):ie!==void 0&&E.has(Ae)?Je(Ae):q.protectedKeys[Ae]=!0}q.prevProp=K,q.prevResolvedValues=j,q.isActive&&(A={...A,...j}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(oe&&N)||x)&&_.push(...V.map(Ae=>({animation:Ae,options:{type:O}})))}if(E.size){const k={};E.forEach(O=>{const q=t.getBaseTarget(O),K=t.getValue(O);K&&(K.liveStyle=!0),k[O]=q??null}),_.push({animation:k})}let D=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(_):Promise.resolve()}function h(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(E=>{var A;return(A=E.animationState)===null||A===void 0?void 0:A.setActive(f,p)}),n[f].isActive=p;const _=u(f);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Mw(),r=!0}}}function gL(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tI(e,t):!1}function Fs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mw(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yL extends as{constructor(e){super(e),e.animationState||(e.animationState=mL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ad(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let vL=0;class _L extends as{constructor(){super(...arguments),this.id=vL++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const HI={animation:{Feature:yL},exit:{Feature:_L}};function gu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Vu(t){return{point:{x:t.pageX,y:t.pageY}}}const wL=t=>e=>Zg(e)&&t(e,Vu(e));function Jl(t,e,n,r){return gu(t,e,wL(n),r)}const Ow=(t,e)=>Math.abs(t-e);function EL(t,e){const n=Ow(t.x,e.x),r=Ow(t.y,e.y);return Math.sqrt(n**2+r**2)}class WI{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=bp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,A=EL(_.offset,{x:0,y:0})>=3;if(!E&&!A)return;const{point:b}=_,{timestamp:D}=Ut;this.history.push({...b,timestamp:D});const{onStart:k,onMove:O}=this.handlers;E||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=kp(E,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:A,onSessionEnd:b,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=bp(_.type==="pointercancel"?this.lastMoveEventInfo:kp(E,this.transformPagePoint),this.history);this.startEvent&&A&&A(_,k),b&&b(_,k)},!Zg(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const u=Vu(e),h=kp(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Ut;this.history=[{...f,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,bp(h,this.history)),this.removeListeners=Du(Jl(this.contextWindow,"pointermove",this.handlePointerMove),Jl(this.contextWindow,"pointerup",this.handlePointerUp),Jl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),rs(this.updatePoint)}}function kp(t,e){return e?{point:e(t.point)}:t}function Fw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bp({point:t},e){return{point:t,delta:Fw(t,qI(e)),offset:Fw(t,TL(e)),velocity:SL(e,.1)}}function TL(t){return t[0]}function qI(t){return t[t.length-1]}function SL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=qI(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const a=ii(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const KI=1e-4,IL=1-KI,AL=1+KI,GI=.01,PL=0-GI,xL=0+GI;function An(t){return t.max-t.min}function CL(t,e,n){return Math.abs(t-e)<=n}function jw(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=IL&&t.scale<=AL||isNaN(t.scale))&&(t.scale=1),(t.translate>=PL&&t.translate<=xL||isNaN(t.translate))&&(t.translate=0)}function Zl(t,e,n,r){jw(t.x,e.x,n.x,r?r.originX:void 0),jw(t.y,e.y,n.y,r?r.originY:void 0)}function Uw(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function RL(t,e,n){Uw(t.x,e.x,n.x),Uw(t.y,e.y,n.y)}function Bw(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function eu(t,e,n){Bw(t.x,e.x,n.x),Bw(t.y,e.y,n.y)}function kL(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function zw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function bL(t,{top:e,left:n,bottom:r,right:s}){return{x:zw(t.x,n,s),y:zw(t.y,e,r)}}function $w(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NL(t,e){return{x:$w(t.x,e.x),y:$w(t.y,e.y)}}function DL(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=Sa(e.min,e.max-r,t.min):r>s&&(n=Sa(t.min,t.max-s,e.min)),ci(0,1,n)}function VL(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Sm=.35;function LL(t=Sm){return t===!1?t=0:t===!0&&(t=Sm),{x:Hw(t,"left","right"),y:Hw(t,"top","bottom")}}function Hw(t,e,n){return{min:Ww(t,e),max:Ww(t,n)}}function Ww(t,e){return typeof t=="number"?t:t[e]||0}const qw=()=>({translate:0,scale:1,origin:0,originPoint:0}),la=()=>({x:qw(),y:qw()}),Kw=()=>({min:0,max:0}),ft=()=>({x:Kw(),y:Kw()});function Fn(t){return[t("x"),t("y")]}function QI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function ML({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function OL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Np(t){return t===void 0||t===1}function Im({scale:t,scaleX:e,scaleY:n}){return!Np(t)||!Np(e)||!Np(n)}function Us(t){return Im(t)||XI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XI(t){return Gw(t.x)||Gw(t.y)}function Gw(t){return t&&t!=="0%"}function Jh(t,e,n){const r=t-n,s=e*r;return n+s}function Qw(t,e,n,r,s){return s!==void 0&&(t=Jh(t,s,r)),Jh(t,n,r)+e}function Am(t,e=0,n=1,r,s){t.min=Qw(t.min,e,n,r,s),t.max=Qw(t.max,e,n,r,s)}function YI(t,{x:e,y:n}){Am(t.x,e.translate,e.scale,e.originPoint),Am(t.y,n.translate,n.scale,n.originPoint)}const Xw=.999999999999,Yw=1.0000000000001;function FL(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=n[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ca(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,YI(t,u)),r&&Us(a.latestValues)&&ca(t,a.latestValues))}e.x<Yw&&e.x>Xw&&(e.x=1),e.y<Yw&&e.y>Xw&&(e.y=1)}function ua(t,e){t.min=t.min+e,t.max=t.max+e}function Jw(t,e,n,r,s=.5){const a=it(t.min,t.max,s);Am(t,e,n,a,r)}function ca(t,e){Jw(t.x,e.x,e.scaleX,e.scale,e.originX),Jw(t.y,e.y,e.scaleY,e.scale,e.originY)}function JI(t,e){return QI(OL(t.getBoundingClientRect(),e))}function jL(t,e,n){const r=JI(t,n),{scroll:s}=e;return s&&(ua(r.x,s.offset.x),ua(r.y,s.offset.y)),r}const ZI=({current:t})=>t?t.ownerDocument.defaultView:null,UL=new WeakMap;class BL{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Vu(v).point)},a=(v,_)=>{const{drag:E,dragPropagation:A,onDragStart:b}=this.getProps();if(E&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=V3(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fn(k=>{let O=this.getAxisMotionValue(k).get()||0;if(Cr.test(O)){const{projection:q}=this.visualElement;if(q&&q.layout){const K=q.layout.layoutBox[k];K&&(O=An(K)*(parseFloat(O)/100))}}this.originPoint[k]=O}),b&&Ye.postRender(()=>b(v,_)),mm(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(v,_)=>{const{dragPropagation:E,dragDirectionLock:A,onDirectionLock:b,onDrag:D}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:k}=_;if(A&&this.currentDirection===null){this.currentDirection=zL(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),D&&D(v,_)},h=(v,_)=>this.stop(v,_),f=()=>Fn(v=>{var _;return this.getAnimationState(v)==="paused"&&((_=this.getAxisMotionValue(v).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new WI(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:ZI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ye.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!uh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=kL(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&oa(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=bL(s.layoutBox,n):this.constraints=!1,this.elastic=LL(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Fn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=VL(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!oa(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=jL(r,s.root,this.visualElement.getTransformPagePoint());let u=NL(s.layout.layoutBox,a);if(n){const h=n(ML(u));this.hasMutatedConstraints=!!h,h&&(u=QI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Fn(v=>{if(!uh(v,n,this.currentDirection))return;let _=f&&f[v]||{};u&&(_={min:0,max:0});const E=s?200:1e6,A=s?40:1e7,b={type:"inertia",velocity:r?e[v]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(v,b)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return mm(this.visualElement,e),r.start(hy(e,r,0,n,this.visualElement,!1))}stopAnimation(){Fn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Fn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Fn(n=>{const{drag:r}=this.getProps();if(!uh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[n];a.set(e[n]-it(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!oa(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Fn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=DL({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fn(u=>{if(!uh(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(it(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;UL.set(this.visualElement,this);const e=this.visualElement.current,n=Jl(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();oa(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ye.read(r);const u=gu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Fn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=f[v].translate,_.set(_.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=Sm,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function uh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function zL(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class $L extends as{constructor(e){super(e),this.removeGroupControls=In,this.removeListeners=In,this.controls=new BL(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||In}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zw=t=>(e,n)=>{t&&Ye.postRender(()=>t(e,n))};class HL extends as{constructor(){super(...arguments),this.removePointerDownListener=In}onPointerDown(e){this.session=new WI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Zw(e),onStart:Zw(n),onMove:r,onEnd:(a,u)=>{delete this.session,s&&Ye.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=Jl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ah={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=eE(t,e.target.x),r=eE(t,e.target.y);return`${n}% ${r}%`}},WL={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=is.parse(t);if(s.length>5)return r;const a=is.createTransformer(t),u=typeof s[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=it(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class qL extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;p3(KL),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ah.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ye.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ug.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function eA(t){const[e,n]=LS(),r=M.useContext(kg);return P.jsx(qL,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(zS),isPresent:e,safeToRemove:n})}const KL={borderRadius:{...Dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dl,borderTopRightRadius:Dl,borderBottomLeftRadius:Dl,borderBottomRightRadius:Dl,boxShadow:WL};function GL(t,e,n){const r=Zt(t)?t:pu(t);return r.start(hy("",r,e,n)),r.animation}function QL(t){return t instanceof SVGElement&&t.tagName!=="svg"}const XL=(t,e)=>t.depth-e.depth;class YL{constructor(){this.children=[],this.isDirty=!1}add(e){ey(this.children,e),this.isDirty=!0}remove(e){ty(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(XL),this.isDirty=!1,this.children.forEach(e)}}function JL(t,e){const n=Rr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(rs(r),t(a-e))};return Ye.read(r,!0),()=>rs(r)}const tA=["TopLeft","TopRight","BottomLeft","BottomRight"],ZL=tA.length,tE=t=>typeof t=="string"?parseFloat(t):t,nE=t=>typeof t=="number"||we.test(t);function eM(t,e,n,r,s,a){s?(t.opacity=it(0,n.opacity!==void 0?n.opacity:1,tM(r)),t.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,nM(r))):a&&(t.opacity=it(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<ZL;u++){const h=`border${tA[u]}Radius`;let f=rE(e,h),p=rE(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||nE(f)===nE(p)?(t[h]=Math.max(it(tE(f),tE(p),r),0),(Cr.test(p)||Cr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function rE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tM=nA(0,.5,_I),nM=nA(.5,.95,In);function nA(t,e,n){return r=>r<t?0:r>e?1:n(Sa(t,e,r))}function iE(t,e){t.min=e.min,t.max=e.max}function On(t,e){iE(t.x,e.x),iE(t.y,e.y)}function sE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function oE(t,e,n,r,s){return t-=e,t=Jh(t,1/n,r),s!==void 0&&(t=Jh(t,1/s,r)),t}function rM(t,e=0,n=1,r=.5,s,a=t,u=t){if(Cr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=it(a.min,a.max,r);t===a&&(h-=e),t.min=oE(t.min,e,n,h,s),t.max=oE(t.max,e,n,h,s)}function aE(t,e,[n,r,s],a,u){rM(t,e[n],e[r],e[s],e.scale,a,u)}const iM=["x","scaleX","originX"],sM=["y","scaleY","originY"];function lE(t,e,n,r){aE(t.x,e,iM,n?n.x:void 0,r?r.x:void 0),aE(t.y,e,sM,n?n.y:void 0,r?r.y:void 0)}function uE(t){return t.translate===0&&t.scale===1}function rA(t){return uE(t.x)&&uE(t.y)}function cE(t,e){return t.min===e.min&&t.max===e.max}function oM(t,e){return cE(t.x,e.x)&&cE(t.y,e.y)}function hE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function iA(t,e){return hE(t.x,e.x)&&hE(t.y,e.y)}function dE(t){return An(t.x)/An(t.y)}function fE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class aM{constructor(){this.members=[]}add(e){ey(this.members,e),e.scheduleRender()}remove(e){if(ty(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lM(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,u=n?.z||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:E,skewX:A,skewY:b}=n;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),A&&(r+=`skewX(${A}deg) `),b&&(r+=`skewY(${b}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},zl=typeof window<"u"&&window.MotionDebug!==void 0,Dp=["","X","Y","Z"],uM={visibility:"hidden"},pE=1e3;let cM=0;function Vp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function sA(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=dI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&sA(r)}function oA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e?.()){this.id=cM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,zl&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(fM),this.nodes.forEach(vM),this.nodes.forEach(_M),this.nodes.forEach(pM),zl&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new YL)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ny),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QL(u),this.instance=u;const{layoutId:f,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=JL(E,250),Ah.hasAnimatedSinceResize&&(Ah.hasAnimatedSinceResize=!1,this.nodes.forEach(gE))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:A,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||v.getDefaultTransition()||IM,{onLayoutAnimationStart:k,onLayoutAnimationComplete:O}=v.getProps(),q=!this.targetLayout||!iA(this.targetLayout,b)||A,K=!E&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||K||E&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,K);const Z={...Xg(D,"layout"),onPlay:k,onComplete:O};(v.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else E||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,rs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wM),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mE);return}this.isUpdating||this.nodes.forEach(gM),this.isUpdating=!1,this.nodes.forEach(yM),this.nodes.forEach(hM),this.nodes.forEach(dM),this.clearAllSnapshots();const h=Rr.now();Ut.delta=ci(0,1e3/60,h-Ut.timestamp),Ut.timestamp=h,Ut.isProcessing=!0,Sp.update.process(Ut),Sp.preRender.process(Ut),Sp.render.process(Ut),Ut.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ug.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mM),this.sharedNodes.forEach(EM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!rA(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&(h||Us(this.latestValues)||v)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),AM(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return ft();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(PM))){const{scroll:v}=this.root;v&&(ua(f.x,v.offset.x),ua(f.y,v.offset.y))}return f}removeElementScroll(u){var h;const f=ft();if(On(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:E}=v;v!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&On(f,u),ua(f.x,_.offset.x),ua(f.y,_.offset.y))}return f}applyTransform(u,h=!1){const f=ft();On(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ca(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Us(v.latestValues)&&ca(f,v.latestValues)}return Us(this.latestValues)&&ca(f,this.latestValues),f}removeTransform(u){const h=ft();On(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Us(p.latestValues))continue;Im(p.latestValues)&&p.updateSnapshot();const v=ft(),_=p.measurePageBox();On(v,_),lE(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return Us(this.latestValues)&&lE(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ut.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Ut.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),eu(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):On(this.target,this.layout.layoutBox),YI(this.target,this.targetDelta)):On(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),eu(this.relativeTargetOrigin,this.target,A.target),On(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}zl&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Im(this.parent.latestValues)||XI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ut.timestamp&&(p=!1),p)return;const{layout:v,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||_))return;On(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;FL(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ft());const{target:b}=h;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sE(this.prevProjectionDelta.x,this.projectionDelta.x),sE(this.prevProjectionDelta.y,this.projectionDelta.y)),Zl(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!fE(this.projectionDelta.x,this.prevProjectionDelta.x)||!fE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),zl&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=la(),this.projectionDelta=la(),this.projectionDeltaWithTransform=la()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},_=la();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ft(),A=f?f.source:void 0,b=this.layout?this.layout.source:void 0,D=A!==b,k=this.getStack(),O=!k||k.members.length<=1,q=!!(D&&!O&&this.options.crossfade===!0&&!this.path.some(SM));this.animationProgress=0;let K;this.mixTargetDelta=Z=>{const te=Z/1e3;yE(_.x,u.x,te),yE(_.y,u.y,te),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TM(this.relativeTarget,this.relativeTargetOrigin,E,te),K&&oM(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=ft()),On(K,this.relativeTarget)),D&&(this.animationValues=v,eM(v,p,this.latestValues,te,q,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=te},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(rs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Ah.hasAnimatedSinceResize=!0,this.currentAnimation=GL(0,pE,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&aA(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ft();const _=An(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=An(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}On(h,f),ca(h,v),Zl(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new aM),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&Vp("z",u,p,this.animationValues);for(let v=0;v<Dp.length;v++)Vp(`rotate${Dp[v]}`,u,p,this.animationValues),Vp(`skew${Dp[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uM;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Sh(u?.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const D={};return this.options.layoutId&&(D.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,D.pointerEvents=Sh(u?.pointerEvents)||""),this.hasProjected&&!Us(this.latestValues)&&(D.transform=v?v({},""):"none",this.hasProjected=!1),D}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=lM(this.projectionDeltaWithTransform,this.treeScale,E),v&&(p.transform=v(E,p.transform));const{x:A,y:b}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${b.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const D in Kh){if(E[D]===void 0)continue;const{correct:k,applyTo:O}=Kh[D],q=p.transform==="none"?E[D]:k(E[D],_);if(O){const K=O.length;for(let Z=0;Z<K;Z++)p[O[Z]]=q}else p[D]=q}return this.options.layoutId&&(p.pointerEvents=_===this?Sh(u?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(mE),this.root.sharedNodes.clear()}}}function hM(t){t.updateLayout()}function dM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Fn(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],A=An(E);E.min=r[_].min,E.max=E.min+A}):aA(a,n.layoutBox,r)&&Fn(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],A=An(r[_]);E.max=E.min+A,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+A)});const h=la();Zl(h,r,n.layoutBox);const f=la();u?Zl(f,t.applyTransform(s,!0),n.measuredBox):Zl(f,r,n.layoutBox);const p=!rA(h);let v=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const b=ft();eu(b,n.layoutBox,E.layoutBox);const D=ft();eu(D,r,A.layoutBox),iA(b,D)||(v=!0),_.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=b,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:v})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function fM(t){zl&&Bs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function pM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function mM(t){t.clearSnapshot()}function mE(t){t.clearMeasurements()}function gM(t){t.isLayoutDirty=!1}function yM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function vM(t){t.resolveTargetDelta()}function _M(t){t.calcProjection()}function wM(t){t.resetSkewAndRotation()}function EM(t){t.removeLeadSnapshot()}function yE(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function vE(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function TM(t,e,n,r){vE(t.x,e.x,n.x,r),vE(t.y,e.y,n.y,r)}function SM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IM={duration:.45,ease:[.4,0,.1,1]},_E=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wE=_E("applewebkit/")&&!_E("chrome/")?Math.round:In;function EE(t){t.min=wE(t.min),t.max=wE(t.max)}function AM(t){EE(t.x),EE(t.y)}function aA(t,e,n){return t==="position"||t==="preserve-aspect"&&!CL(dE(e),dE(n),.2)}function PM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const xM=oA({attachResizeListener:(t,e)=>gu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lp={current:void 0},lA=oA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lp.current){const t=new xM({});t.mount(window),t.setOptions({layoutScroll:!0}),Lp.current=t}return Lp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),CM={pan:{Feature:HL},drag:{Feature:$L,ProjectionNode:lA,MeasureLayout:eA}};function TE(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ye.postRender(()=>a(e,Vu(e)))}class RM extends as{mount(){const{current:e}=this.node;e&&(this.unmount=R3(e,n=>(TE(this.node,n,"Start"),r=>TE(this.node,r,"End"))))}unmount(){}}class kM extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Du(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SE(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ye.postRender(()=>a(e,Vu(e)))}class bM extends as{mount(){const{current:e}=this.node;e&&(this.unmount=D3(e,n=>(SE(this.node,n,"Start"),(r,{success:s})=>SE(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pm=new WeakMap,Mp=new WeakMap,NM=t=>{const e=Pm.get(t.target);e&&e(t)},DM=t=>{t.forEach(NM)};function VM({root:t,...e}){const n=t||document;Mp.has(n)||Mp.set(n,{});const r=Mp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(DM,{root:t,...e})),r[s]}function LM(t,e,n){const r=VM(e);return Pm.set(t,n),r.observe(t),()=>{Pm.delete(t),r.unobserve(t)}}const MM={some:0,all:1};class OM extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:MM[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),E=p?v:_;E&&E(f)};return LM(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(FM(e,n))&&this.startObserver()}unmount(){}}function FM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const uA={inView:{Feature:OM},tap:{Feature:bM},focus:{Feature:kM},hover:{Feature:RM}},jM={layout:{ProjectionNode:lA,MeasureLayout:eA}},xm={current:null},cA={current:!1};function UM(){if(cA.current=!0,!!Dg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xm.current=t.matches;t.addListener(e),e()}else xm.current=!1}const BM=[...DI,Qt,is],zM=t=>BM.find(NI(t)),IE=new WeakMap;function $M(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Zt(s))t.addValue(r,s);else if(Zt(a))t.addValue(r,pu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=t.getStaticValue(r);t.addValue(r,pu(u!==void 0?u:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const AE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HM{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ly,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=Rr.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,Ye.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Pd(n),this.isVariantNode=US(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const b=E[A];f[A]!==void 0&&Zt(b)&&b.set(f[A],!1)}}mount(e){this.current=e,IE.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cA.current||UM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){IE.delete(this.current),this.projection&&this.projection.unmount(),rs(this.notifyUpdate),rs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ao.has(e),s=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ia){const n=Ia[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<AE.length;r++){const s=AE[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=$M(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=pu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kI(s)||EI(s))?s=parseFloat(s):!zM(s)&&is.test(n)&&(s=xI(e,n)),this.setBaseTarget(e,Zt(s)?s.get():s)),Zt(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=zg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Zt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ny),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class hA extends HM{constructor(){super(...arguments),this.KeyframeResolver=VI}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WM(t){return window.getComputedStyle(t)}class qM extends hA{constructor(){super(...arguments),this.type="html",this.renderInstance=QS}readValueFromInstance(e,n){if(ao.has(n)){const r=ay(n);return r&&r.default||0}else{const r=WM(e),s=(qS(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return JI(e,n)}build(e,n,r){Wg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Qg(e,n,r)}}class KM extends hA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ao.has(n)){const r=ay(n);return r&&r.default||0}return n=XS.has(n)?n:jg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return ZS(e,n,r)}build(e,n,r){qg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){YS(e,n,r,s)}mount(e){this.isSVGTag=Gg(e.tagName),super.mount(e)}}const dA=(t,e)=>Bg(t)?new KM(e):new qM(e,{allowProjection:t!==M.Fragment}),GM=S3({...HI,...uA,...CM,...jM},dA),Jt=FV(GM),QM={renderer:dA,...HI,...uA},XM={some:0,all:1};function YM(t,e,{root:n,margin:r,amount:s="some"}={}){const a=aI(t),u=new WeakMap,h=p=>{p.forEach(v=>{const _=u.get(v.target);if(v.isIntersecting!==!!_)if(v.isIntersecting){const E=e(v);typeof E=="function"?u.set(v.target,E):f.unobserve(v.target)}else typeof _=="function"&&(_(v),u.delete(v.target))})},f=new IntersectionObserver(h,{root:n,rootMargin:r,threshold:typeof s=="number"?s:XM[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function fA(t,{root:e,margin:n,amount:r,once:s=!1}={}){const[a,u]=M.useState(!1);return M.useEffect(()=>{if(!t.current||s&&a)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:n,amount:r};return YM(t.current,h,f)},[e,t,n,s,r]),a}class pA extends tt.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?P.jsx("div",{className:"bg-slate-100 text-slate-800 min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:P.jsxs("div",{className:"max-w-md mx-auto",children:[P.jsx("div",{className:"mb-8",children:P.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),P.jsx("h1",{className:"text-4xl font-bold mb-4 text-slate-700",children:"Oops, something went wrong!"}),P.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),P.jsxs("div",{className:"flex justify-center gap-4",children:[P.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:"Refresh Page"}),P.jsx("a",{href:"/",className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const JM=tt.memo(()=>P.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[P.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-blue animate-spin-pulse-combo"}),P.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-purple animate-reverse-spin opacity-40"})]})),PE=tt.memo(()=>{const t=({delay:e})=>P.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full animate-pulse-bounce",style:{animationDelay:e}});return P.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:P.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[P.jsx(t,{delay:"0s"}),P.jsx(t,{delay:"0.2s"}),P.jsx(t,{delay:"0.4s"})]})})}),ZM=({href:t,label:e,children:n,onClick:r})=>P.jsxs("a",{href:t,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300","aria-label":e,children:[n,P.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-slate-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),eO=tt.memo(({isMobileMenuOpen:t,toggleMobileMenu:e,closeMobileMenu:n})=>{const r=s=>{s.preventDefault();const a=s.currentTarget.getAttribute("href"),u=document.querySelector(a);n(),u&&setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"start"})},100)};return P.jsxs("header",{className:"bg-white/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-slate-200/80",children:[P.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[P.jsx(ZM,{href:"#home",label:"Home",onClick:r,children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),P.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-slate-600",children:[P.jsx("a",{href:"#about",onClick:r,className:"hover:text-blue-600 transition-colors",children:"About"}),P.jsx("a",{href:"#experience",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Experience"}),P.jsx("a",{href:"#skills",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Skills"}),P.jsx("a",{href:"#projects",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Projects"}),P.jsx("a",{href:"#contact",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Contact"})]}),P.jsx("div",{className:"md:hidden",children:P.jsx("button",{onClick:e,className:"text-slate-600 focus:outline-none p-1",children:P.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),P.jsx(Vg,{children:t&&P.jsxs(Jt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-lg px-6 py-4 space-y-3 text-slate-600 font-medium",children:[P.jsx("a",{href:"#about",onClick:r,className:"block py-2 hover:text-blue-600",children:"About"}),P.jsx("a",{href:"#experience",onClick:r,className:"block py-2 hover:text-blue-600",children:"Experience"}),P.jsx("a",{href:"#skills",onClick:r,className:"block py-2 hover:text-blue-600",children:"Skills"}),P.jsx("a",{href:"#projects",onClick:r,className:"block py-2 hover:text-blue-600",children:"Projects"}),P.jsx("a",{href:"#contact",onClick:r,className:"block py-2 hover:text-blue-600",children:"Contact"})]})})]})});var mA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xE=tt.createContext&&tt.createContext(mA),tO=["attr","size","title"];function nO(t,e){if(t==null)return{};var n=rO(t,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rO(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function ed(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){iO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iO(t,e,n){return e=sO(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sO(t){var e=oO(t,"string");return typeof e=="symbol"?e:e+""}function oO(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gA(t){return t&&t.map((e,n)=>tt.createElement(e.tag,ed({key:n},e.attr),gA(e.child)))}function Pn(t){return e=>tt.createElement(aO,Zh({attr:ed({},t.attr)},e),gA(t.child))}function aO(t){var e=n=>{var{attr:r,size:s,title:a}=t,u=nO(t,tO),h=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),tt.createElement("svg",Zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:ed(ed({color:t.color||n.color},n.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&tt.createElement("title",null,a),t.children)};return xE!==void 0?tt.createElement(xE.Consumer,null,n=>e(n)):e(mA)}function lO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function uO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function cO(t){return Pn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function hO(t){return Pn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function dO(t){return Pn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function fO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function pO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function mO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function gO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function yO(t){return Pn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function vO(t){return Pn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function _O(t){return Pn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const wO="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",EO=tt.memo(()=>P.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-slate-50",children:P.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[P.jsxs("div",{className:"md:col-span-3",children:[P.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-slate-800 mb-4",children:[P.jsx("span",{className:"block mb-2 text-xl font-medium text-slate-500",children:"Hello, I'm"}),"Costas Pinto"]}),P.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 text-blue-700 h-10",children:"AI Innovator & Data Scientist"}),P.jsx("p",{className:"max-w-xl text-slate-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),P.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[P.jsxs("a",{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-800 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform duration-200 hover:scale-105",children:[P.jsx(gO,{}),"Download CV"]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"text-slate-500 hover:text-blue-600 transition-colors",children:P.jsx(dO,{size:32})}),P.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",className:"text-slate-500 hover:text-slate-800 transition-colors",children:P.jsx(cO,{size:32})})]})]})]}),P.jsx("div",{className:"md:col-span-2 flex justify-center items-center",children:P.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px]",children:[P.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-indigo-200 to-blue-300 rounded-full opacity-50 blur-3xl"}),P.jsx("div",{className:"relative z-10 flex justify-center items-center h-full",children:P.jsx("img",{loading:"lazy",src:wO,onError:t=>{t.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain"})})]})})]})})),ls=tt.memo(({children:t,id:e,className:n=""})=>{const r=M.useRef(null),s=fA(r,{once:!0,amount:.2}),a={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return P.jsx(Jt.section,{id:e,ref:r,variants:a,initial:"hidden",animate:s?"visible":"hidden",className:`py-16 md:py-20 ${n}`,children:t})}),us=tt.memo(()=>{const t=M.useRef(null),e=fA(t,{once:!0,amount:.5}),n={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return P.jsx("div",{ref:t,className:"h-1 w-24 mx-auto my-8",children:P.jsx(Jt.div,{className:"h-full bg-gradient-to-r from-blue-600 to-blue-800 rounded-full",style:{transformOrigin:"center"},variants:n,initial:"hidden",animate:e?"visible":"hidden"})})}),TO=tt.memo(()=>P.jsxs(ls,{id:"about",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"About Me"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("p",{className:"text-lg leading-relaxed text-slate-600 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),SO=tt.memo(({date:t,title:e,company:n,details:r})=>P.jsxs(Jt.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-indigo-200",children:[P.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full border-4 border-white"}),P.jsx("p",{className:"text-slate-500 mb-1 font-medium",children:t}),P.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),P.jsx("p",{className:"text-lg text-blue-600 font-semibold mb-3",children:n}),P.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:r.map((s,a)=>P.jsx("li",{children:s},a))})]})),IO=tt.memo(()=>{const t=[{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return P.jsxs(ls,{id:"experience",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Experience"}),P.jsx(us,{}),P.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:t.map((e,n)=>P.jsx(SO,{...e},n))})]})}),AO=tt.memo(()=>{const[t,e]=M.useState("Programming Languages"),n=u=>{e(h=>h===u?null:u)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return P.jsxs(ls,{id:"skills",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Skills"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([u,h])=>P.jsxs("div",{className:"border-b border-slate-300/50 last:border-b-0",children:[P.jsxs("button",{onClick:()=>n(u),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-slate-700 focus:outline-none",children:[P.jsx("span",{children:u}),P.jsx(Jt.span,{animate:{rotate:t===u?180:0},children:P.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),P.jsx(Vg,{children:t===u&&P.jsx(Jt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:P.jsx(Jt.div,{variants:s,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:h.map(f=>P.jsxs(Jt.div,{variants:a,children:[P.jsx("p",{className:"text-lg font-medium text-slate-600 mb-1",children:f.name}),P.jsx("div",{className:"bg-slate-300 w-full rounded-full h-2.5",children:P.jsx(Jt.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-blue-700",initial:{width:0},animate:{width:`${f.level}%`},transition:{duration:1,ease:"easeOut"}})})]},f.name))})})})]},u))})})]})}),PO=tt.memo(()=>P.jsxs(ls,{id:"achievements",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Key Achievements"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("ul",{className:"space-y-4 text-lg text-slate-600",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong> – empowering students through digital education."}].map(t=>P.jsxs("li",{className:"flex items-start",children:[P.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:"✓"}),P.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}})]},t.id))})})]})),xO=tt.memo(({year:t,title:e,details:n,icon:r})=>P.jsxs(Jt.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[P.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center shadow-md",children:r}),P.jsx("p",{className:"text-blue-600 mb-1 font-semibold",children:t}),P.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),P.jsx("p",{className:"text-slate-600 mt-1",children:n})]})),CO=tt.memo(()=>{const t=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return P.jsxs(ls,{id:"journey",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Learning Journey"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("div",{className:"space-y-12",children:t.map(e=>P.jsx(xO,{...e},e.title))})})]})}),RO=M.memo(({projects:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return P.jsxs(ls,{id:"projects",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Projects"}),P.jsx(us,{}),P.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:t.length>0?P.jsx(Jt.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(r=>P.jsxs(Jt.div,{variants:n,className:"relative p-6 flex flex-col rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1 overflow-hidden",children:[P.jsx("img",{loading:"lazy",src:r.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:r.title,className:"rounded-lg mb-4 aspect-video object-cover border border-slate-200/50"}),P.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:r.title}),P.jsx("p",{className:"text-slate-600 flex-grow mb-4",children:r.description}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags?.map(s=>P.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-1 rounded-full",children:s},s))}),r.projectLink&&P.jsx("a",{href:r.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-600 rounded-full py-2 px-4 hover:bg-blue-600 hover:text-white transition-all duration-300 z-10",children:"View Project"})]},r.id))}):P.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:P.jsx("p",{className:"text-center text-slate-500 text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),kO=({url:t,onClose:e})=>P.jsx(Vg,{children:t&&P.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:P.jsxs(Jt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:n=>n.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[P.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[P.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Certificate Viewer"}),P.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 transition-colors p-1 rounded-full hover:bg-slate-100","aria-label":"Close",children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsx("div",{className:"flex-grow p-2 bg-slate-50",children:P.jsx("iframe",{src:t,title:"Certificate PDF Viewer",className:"w-full h-full border-none"})})]})})}),bO=tt.memo(({licensesPdfUrl:t,internshipsPdfUrl:e})=>{const[n,r]=M.useState(null),s="inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-600 to-blue-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return P.jsxs(P.Fragment,{children:[P.jsxs(ls,{id:"certifications",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Certificates"}),P.jsx(us,{}),P.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[P.jsx(Jt.button,{onClick:()=>r(t),disabled:!t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Licenses & Certs"}),P.jsx(Jt.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Internship Certs"})]})]}),P.jsx(kO,{url:n,onClose:()=>r(null)})]})});function NO(t){return Pn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(t)}const DO=tt.memo(()=>{const[t,e]=M.useState({submitting:!1,succeeded:!1,error:null}),[n,r]=M.useState(null),s=M.useCallback(async h=>{h.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const f=h.target,p=new FormData(f);try{const v=await fetch(f.action,{method:f.method,body:p,headers:{Accept:"application/json"}});if(v.ok)e({submitting:!1,succeeded:!0,error:null}),f.reset(),setTimeout(()=>e(_=>({..._,succeeded:!1})),5e3);else{const E=(await v.json()).errors?.map(A=>A.message).join(", ")||"An unknown error occurred.";throw new Error(E)}}catch(v){e({submitting:!1,succeeded:!1,error:v.message}),setTimeout(()=>e(_=>({..._,error:null})),5e3)}},[]),a=M.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{r("Email copied to clipboard!"),setTimeout(()=>r(null),3e3)}).catch(f=>{console.error("Clipboard copy failed:",f),r("Could not copy email."),setTimeout(()=>r(null),3e3)})},[]),u=[{name:"Instagram",icon:P.jsx(hO,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:P.jsx(lO,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:P.jsx(fO,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:P.jsx(uO,{}),url:"https://facebook.com/costaspinto"}];return P.jsxs(ls,{id:"contact",className:"bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans !py-0",children:[P.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Let’s Get Connected!"}),P.jsx(us,{}),P.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[P.jsxs("div",{className:"flex-1 space-y-10",children:[P.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),P.jsxs("div",{children:[P.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),P.jsx("div",{className:"flex items-center gap-4",children:u.map(h=>P.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer","aria-label":h.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:h.icon},h.name))})]})]}),P.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-white/30",children:P.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:s,className:"space-y-6",children:[P.jsxs("div",{className:"relative",children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Name *"}),P.jsx(_O,{className:"absolute left-3 top-10 text-slate-400"}),P.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{className:"relative",children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Email *"}),P.jsx(yO,{className:"absolute left-3 top-10 text-slate-400"}),P.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{className:"relative",children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Service you are looking for *"}),P.jsx(mO,{className:"absolute left-3 top-10 text-slate-400"}),P.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Message"}),P.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.submitting,children:t.submitting?"Submitting...":"Submit"}),t.succeeded&&P.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[P.jsx(pO,{})," Thanks for your message! I'll get back to you soon."]}),t.error&&P.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[P.jsx(vO,{})," Error: ",t.error]})]})})]})]}),P.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:P.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[P.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[P.jsxs("div",{children:[P.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),P.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and let’s explore how we can collaborate."})]}),P.jsxs("div",{className:"flex gap-4 relative",children:[P.jsxs("button",{onClick:a,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[P.jsx(NO,{})," COPY EMAIL"]}),n&&P.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:n})]})]}),P.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[P.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),P.jsxs("nav",{className:"flex gap-6",children:[P.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),P.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"}),P.jsx("a",{href:"#portfolio",className:"hover:text-blue-500 transition",children:"Portfolio"})]}),P.jsx("div",{className:"flex items-center gap-4",children:u.map(h=>P.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:h.icon},h.name))})]}),P.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})})]})}),VO=M.lazy(()=>LP(()=>import("./AdminPanel-1eUfdIif.js"),[])),yA={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"};Object.entries(yA).forEach(([t,e])=>{e||console.error(`❌ Missing Firebase environment variable: ${t}. Please check your .env file.`)});let ch,$l,vA,_A;try{ch=r1(yA),$l=Bb(ch),vA=pD(ch),_A=SV(ch)}catch(t){console.error("🔥 Firebase initialization failed:",t)}const LO=(t=768)=>{const[e,n]=M.useState(()=>typeof window<"u"?window.innerWidth<t:!1);return M.useEffect(()=>{if(typeof window>"u")return;const r=()=>n(window.innerWidth<t);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[t]),e},MO=({projects:t=[],licensesPdfUrl:e="",internshipsPdfUrl:n="",isMobile:r})=>{const[s,a]=M.useState(!1),u=M.useCallback(()=>a(!1),[]),h=M.useCallback(()=>a(f=>!f),[]);return P.jsxs(P.Fragment,{children:[P.jsx(eO,{isMobileMenuOpen:s,closeMobileMenu:u,toggleMobileMenu:h}),P.jsxs("main",{className:"relative z-10",children:[P.jsx(EO,{}),P.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[P.jsx(TO,{}),P.jsx(IO,{}),P.jsx(AO,{}),P.jsx(PO,{}),P.jsx(CO,{}),P.jsx(RO,{projects:t,isMobile:r}),P.jsx(bO,{licensesPdfUrl:e,internshipsPdfUrl:n})]})]}),P.jsx(DO,{})]})};function OO(){const[t,e]=M.useState({projects:[],licensesPdfUrl:"",internshipsPdfUrl:""}),[n,r]=M.useState(!0),[s,a]=M.useState(null),u=LO(),h=M.useCallback(async()=>{if(!$l){a("Firebase is not initialized. Check your .env settings."),r(!1);return}try{const p=(await r4(Ub($l,"projects"))).docs.map(A=>({id:A.id,...A.data()})),v=CT($l,"portfolioAssets","main"),_=await n4(v),E=_.exists()?_.data():{};e({projects:p,licensesPdfUrl:E.licensesPdfUrl||"",internshipsPdfUrl:E.internshipsPdfUrl||""})}catch(f){console.error("❌ Firebase fetch error:",f),a("Failed to load portfolio data. Please try again later.")}finally{r(!1)}},[]);return M.useEffect(()=>{h()},[h]),n?P.jsx(PE,{}):s?P.jsx("div",{className:"text-center mt-20 p-4",children:P.jsx("h2",{className:"text-red-600 text-xl font-bold",children:s})}):P.jsxs(VV,{features:QM,children:[P.jsx(JM,{}),P.jsx("div",{className:"relative text-slate-800 font-sans overflow-x-hidden",children:P.jsx(pA,{children:P.jsx(Qx,{basename:"/Costas_Portfolio/",children:P.jsx(M.Suspense,{fallback:P.jsx(PE,{}),children:P.jsxs(Px,{children:[P.jsx(Fp,{path:"/",element:P.jsx(MO,{projects:t.projects,licensesPdfUrl:t.licensesPdfUrl,internshipsPdfUrl:t.internshipsPdfUrl,isMobile:u})}),P.jsx(Fp,{path:"/admin",element:P.jsx(VO,{db:$l,auth:vA,storage:_A})})]})})})})})]})}const FO=document.getElementById("root");NP.createRoot(FO).render(P.jsx(tt.StrictMode,{children:P.jsx(pA,{children:P.jsx(OO,{})})}));export{Vg as A,PE as L,WO as a,BO as b,Ub as c,zO as d,UO as e,CT as f,r4 as g,GO as h,KO as i,P as j,Jt as m,HO as o,M as r,$O as s,qO as u};
