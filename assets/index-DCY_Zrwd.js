(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Sw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ep={exports:{}},Rl={},tp={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function ax(){if(h0)return Re;h0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,V={};function k(U,Q,le){this.props=U,this.context=Q,this.refs=V,this.updater=le||x}k.prototype.isReactComponent={},k.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function F(){}F.prototype=k.prototype;function q(U,Q,le){this.props=U,this.context=Q,this.refs=V,this.updater=le||x}var K=q.prototype=new F;K.constructor=q,b(K,k.prototype),K.isPureReactComponent=!0;var J=Array.isArray,X=Object.prototype.hasOwnProperty,oe={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(U,Q,le){var xe,Ce={},Ve=null,je=null;if(Q!=null)for(xe in Q.ref!==void 0&&(je=Q.ref),Q.key!==void 0&&(Ve=""+Q.key),Q)X.call(Q,xe)&&!N.hasOwnProperty(xe)&&(Ce[xe]=Q[xe]);var Ue=arguments.length-2;if(Ue===1)Ce.children=le;else if(1<Ue){for(var We=Array(Ue),Rt=0;Rt<Ue;Rt++)We[Rt]=arguments[Rt+2];Ce.children=We}if(U&&U.defaultProps)for(xe in Ue=U.defaultProps,Ue)Ce[xe]===void 0&&(Ce[xe]=Ue[xe]);return{$$typeof:n,type:U,key:Ve,ref:je,props:Ce,_owner:oe.current}}function A(U,Q){return{$$typeof:n,type:U.type,key:Q,ref:U.ref,props:U.props,_owner:U._owner}}function D(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function O(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(le){return Q[le]})}var B=/\/+/g;function R(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?O(""+U.key):Q.toString(36)}function Be(U,Q,le,xe,Ce){var Ve=typeof U;(Ve==="undefined"||Ve==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(Ve){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case n:case e:je=!0}}if(je)return je=U,Ce=Ce(je),U=xe===""?"."+R(je,0):xe,J(Ce)?(le="",U!=null&&(le=U.replace(B,"$&/")+"/"),Be(Ce,Q,le,"",function(Rt){return Rt})):Ce!=null&&(D(Ce)&&(Ce=A(Ce,le+(!Ce.key||je&&je.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+U)),Q.push(Ce)),1;if(je=0,xe=xe===""?".":xe+":",J(U))for(var Ue=0;Ue<U.length;Ue++){Ve=U[Ue];var We=xe+R(Ve,Ue);je+=Be(Ve,Q,le,We,Ce)}else if(We=E(U),typeof We=="function")for(U=We.call(U),Ue=0;!(Ve=U.next()).done;)Ve=Ve.value,We=xe+R(Ve,Ue++),je+=Be(Ve,Q,le,We,Ce);else if(Ve==="object")throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return je}function ht(U,Q,le){if(U==null)return U;var xe=[],Ce=0;return Be(U,xe,"","",function(Ve){return Q.call(le,Ve,Ce++)}),xe}function lt(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(le){(U._status===0||U._status===-1)&&(U._status=1,U._result=le)},function(le){(U._status===0||U._status===-1)&&(U._status=2,U._result=le)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var Se={current:null},ie={transition:null},me={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:ie,ReactCurrentOwner:oe};function te(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:ht,forEach:function(U,Q,le){ht(U,function(){Q.apply(this,arguments)},le)},count:function(U){var Q=0;return ht(U,function(){Q++}),Q},toArray:function(U){return ht(U,function(Q){return Q})||[]},only:function(U){if(!D(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Re.Component=k,Re.Fragment=t,Re.Profiler=s,Re.PureComponent=q,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=te,Re.cloneElement=function(U,Q,le){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var xe=b({},U.props),Ce=U.key,Ve=U.ref,je=U._owner;if(Q!=null){if(Q.ref!==void 0&&(Ve=Q.ref,je=oe.current),Q.key!==void 0&&(Ce=""+Q.key),U.type&&U.type.defaultProps)var Ue=U.type.defaultProps;for(We in Q)X.call(Q,We)&&!N.hasOwnProperty(We)&&(xe[We]=Q[We]===void 0&&Ue!==void 0?Ue[We]:Q[We])}var We=arguments.length-2;if(We===1)xe.children=le;else if(1<We){Ue=Array(We);for(var Rt=0;Rt<We;Rt++)Ue[Rt]=arguments[Rt+2];xe.children=Ue}return{$$typeof:n,type:U.type,key:Ce,ref:Ve,props:xe,_owner:je}},Re.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Re.createElement=I,Re.createFactory=function(U){var Q=I.bind(null,U);return Q.type=U,Q},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:h,render:U}},Re.isValidElement=D,Re.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:lt}},Re.memo=function(U,Q){return{$$typeof:p,type:U,compare:Q===void 0?null:Q}},Re.startTransition=function(U){var Q=ie.transition;ie.transition={};try{U()}finally{ie.transition=Q}},Re.unstable_act=te,Re.useCallback=function(U,Q){return Se.current.useCallback(U,Q)},Re.useContext=function(U){return Se.current.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U){return Se.current.useDeferredValue(U)},Re.useEffect=function(U,Q){return Se.current.useEffect(U,Q)},Re.useId=function(){return Se.current.useId()},Re.useImperativeHandle=function(U,Q,le){return Se.current.useImperativeHandle(U,Q,le)},Re.useInsertionEffect=function(U,Q){return Se.current.useInsertionEffect(U,Q)},Re.useLayoutEffect=function(U,Q){return Se.current.useLayoutEffect(U,Q)},Re.useMemo=function(U,Q){return Se.current.useMemo(U,Q)},Re.useReducer=function(U,Q,le){return Se.current.useReducer(U,Q,le)},Re.useRef=function(U){return Se.current.useRef(U)},Re.useState=function(U){return Se.current.useState(U)},Re.useSyncExternalStore=function(U,Q,le){return Se.current.useSyncExternalStore(U,Q,le)},Re.useTransition=function(){return Se.current.useTransition()},Re.version="18.3.1",Re}var d0;function xm(){return d0||(d0=1,tp.exports=ax()),tp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function lx(){if(f0)return Rl;f0=1;var n=xm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,_={},E=null,x=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(x=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:h,key:E,ref:x,props:_,_owner:s.current}}return Rl.Fragment=t,Rl.jsx=u,Rl.jsxs=u,Rl}var p0;function ux(){return p0||(p0=1,ep.exports=lx()),ep.exports}var P=ux(),L=xm();const Ge=Sw(L);var qc={},np={exports:{}},dn={},rp={exports:{}},ip={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function cx(){return m0||(m0=1,function(n){function e(ie,me){var te=ie.length;ie.push(me);e:for(;0<te;){var U=te-1>>>1,Q=ie[U];if(0<s(Q,me))ie[U]=me,ie[te]=Q,te=U;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var me=ie[0],te=ie.pop();if(te!==me){ie[0]=te;e:for(var U=0,Q=ie.length,le=Q>>>1;U<le;){var xe=2*(U+1)-1,Ce=ie[xe],Ve=xe+1,je=ie[Ve];if(0>s(Ce,te))Ve<Q&&0>s(je,Ce)?(ie[U]=je,ie[Ve]=te,U=Ve):(ie[U]=Ce,ie[xe]=te,U=xe);else if(Ve<Q&&0>s(je,te))ie[U]=je,ie[Ve]=te,U=Ve;else break e}}return me}function s(ie,me){var te=ie.sortIndex-me.sortIndex;return te!==0?te:ie.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,_=null,E=3,x=!1,b=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function K(ie){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=ie)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function J(ie){if(V=!1,K(ie),!b)if(t(f)!==null)b=!0,lt(X);else{var me=t(p);me!==null&&Se(J,me.startTime-ie)}}function X(ie,me){b=!1,V&&(V=!1,F(I),I=-1),x=!0;var te=E;try{for(K(me),_=t(f);_!==null&&(!(_.expirationTime>me)||ie&&!O());){var U=_.callback;if(typeof U=="function"){_.callback=null,E=_.priorityLevel;var Q=U(_.expirationTime<=me);me=n.unstable_now(),typeof Q=="function"?_.callback=Q:_===t(f)&&r(f),K(me)}else r(f);_=t(f)}if(_!==null)var le=!0;else{var xe=t(p);xe!==null&&Se(J,xe.startTime-me),le=!1}return le}finally{_=null,E=te,x=!1}}var oe=!1,N=null,I=-1,A=5,D=-1;function O(){return!(n.unstable_now()-D<A)}function B(){if(N!==null){var ie=n.unstable_now();D=ie;var me=!0;try{me=N(!0,ie)}finally{me?R():(oe=!1,N=null)}}else oe=!1}var R;if(typeof q=="function")R=function(){q(B)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,ht=Be.port2;Be.port1.onmessage=B,R=function(){ht.postMessage(null)}}else R=function(){k(B,0)};function lt(ie){N=ie,oe||(oe=!0,R())}function Se(ie,me){I=k(function(){ie(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_continueExecution=function(){b||x||(b=!0,lt(X))},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var te=E;E=me;try{return ie()}finally{E=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ie,me){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var te=E;E=ie;try{return me()}finally{E=te}},n.unstable_scheduleCallback=function(ie,me,te){var U=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?U+te:U):te=U,ie){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=te+Q,ie={id:g++,callback:me,priorityLevel:ie,startTime:te,expirationTime:Q,sortIndex:-1},te>U?(ie.sortIndex=te,e(p,ie),t(f)===null&&ie===t(p)&&(V?(F(I),I=-1):V=!0,Se(J,te-U))):(ie.sortIndex=Q,e(f,ie),b||x||(b=!0,lt(X))),ie},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(ie){var me=E;return function(){var te=E;E=me;try{return ie.apply(this,arguments)}finally{E=te}}}}(ip)),ip}var g0;function hx(){return g0||(g0=1,rp.exports=cx()),rp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y0;function dx(){if(y0)return dn;y0=1;var n=xm(),e=hx();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function x(i,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function b(i,o,l,d){if(o===null||typeof o>"u"||x(i,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(i,o,l,d,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new V(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,q);k[o]=new V(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,q);k[o]=new V(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,q);k[o]=new V(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function K(i,o,l,d){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,m,d)&&(l=null),d||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,o,l):i.setAttribute(o,l))))}var J=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),oe=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),ht=Symbol.for("react.memo"),lt=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),ie=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ie&&i[ie]||i["@@iterator"],typeof i=="function"?i:null)}var te=Object.assign,U;function Q(i){if(U===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var le=!1;function xe(i,o){if(!i||le)return"";le=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(W){var d=W}Reflect.construct(i,[],o)}else{try{o.call()}catch(W){d=W}i.call(o.prototype)}else{try{throw Error()}catch(W){d=W}i()}}catch(W){if(W&&d&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,C=v.length-1;1<=T&&0<=C&&m[T]!==v[C];)C--;for(;1<=T&&0<=C;T--,C--)if(m[T]!==v[C]){if(T!==1||C!==1)do if(T--,C--,0>C||m[T]!==v[C]){var M=`
`+m[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=C);break}}}finally{le=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Q(i):""}function Ce(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=xe(i.type,!1),i;case 11:return i=xe(i.type.render,!1),i;case 1:return i=xe(i.type,!0),i;default:return""}}function Ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case oe:return"Portal";case A:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case B:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ht:return o=i.displayName||null,o!==null?o:Ve(i.type)||"Memo";case lt:o=i._payload,i=i._init;try{return Ve(i(o))}catch{}}return null}function je(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ve(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function We(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Rt(i){var o=We(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),d=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Mr(i){i._valueTracker||(i._valueTracker=Rt(i))}function oo(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return i&&(d=We(i)?i.checked?"true":"false":i.value),i=d,i!==l?(o.setValue(i),!0):!1}function fi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function cs(i,o){var l=o.checked;return te({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function ao(i,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ue(o.value!=null?o.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ma(i,o){o=o.checked,o!=null&&K(i,"checked",o,!1)}function La(i,o){Ma(i,o);var l=Ue(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?lo(i,o.type,l):o.hasOwnProperty("defaultValue")&&lo(i,o.type,Ue(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function bu(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function lo(i,o,l){(o!=="number"||fi(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Lr=Array.isArray;function Or(i,o,l,d){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Oa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function uo(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Lr(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ue(l)}}function co(i,o){var l=Ue(o.value),d=Ue(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function Fa(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function wt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?wt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Fr,ja=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,d,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Fr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function pi(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var hs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ds=["Webkit","ms","Moz","O"];Object.keys(hs).forEach(function(i){ds.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),hs[o]=hs[i]})});function Ua(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||hs.hasOwnProperty(i)&&hs[i]?(""+o).trim():o+"px"}function Ba(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Ua(l,o[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var za=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(i,o){if(o){if(za[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ha(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fs=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fo=null,Sn=null,or=null;function po(i){if(i=pl(i)){if(typeof fo!="function")throw Error(t(280));var o=i.stateNode;o&&(o=ac(o),fo(i.stateNode,i.type,o))}}function ar(i){Sn?or?or.push(i):or=[i]:Sn=i}function Wa(){if(Sn){var i=Sn,o=or;if(or=Sn=null,po(i),o)for(i=0;i<o.length;i++)po(o[i])}}function ps(i,o){return i(o)}function qa(){}var jr=!1;function Ka(i,o,l){if(jr)return i(o,l);jr=!0;try{return ps(i,o,l)}finally{jr=!1,(Sn!==null||or!==null)&&(qa(),Wa())}}function dt(i,o){var l=i.stateNode;if(l===null)return null;var d=ac(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var mo=!1;if(h)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){mo=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{mo=!1}function ms(i,o,l,d,m,v,T,C,M){var W=Array.prototype.slice.call(arguments,3);try{o.apply(l,W)}catch(ne){this.onError(ne)}}var gs=!1,go=null,jn=!1,Ga=null,Ad={onError:function(i){gs=!0,go=i}};function yo(i,o,l,d,m,v,T,C,M){gs=!1,go=null,ms.apply(Ad,arguments)}function Nu(i,o,l,d,m,v,T,C,M){if(yo.apply(this,arguments),gs){if(gs){var W=go;gs=!1,go=null}else throw Error(t(198));jn||(jn=!0,Ga=W)}}function Un(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function ys(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Bn(i){if(Un(i)!==i)throw Error(t(188))}function Du(i){var o=i.alternate;if(!o){if(o=Un(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,d=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Bn(m),i;if(v===d)return Bn(m),o;v=v.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=v;else{for(var T=!1,C=m.child;C;){if(C===l){T=!0,l=m,d=v;break}if(C===d){T=!0,d=m,l=v;break}C=C.sibling}if(!T){for(C=v.child;C;){if(C===l){T=!0,l=v,d=m;break}if(C===d){T=!0,d=v,l=m;break}C=C.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Qa(i){return i=Du(i),i!==null?vo(i):null}function vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=vo(i);if(o!==null)return o;i=i.sibling}return null}var _o=e.unstable_scheduleCallback,Ya=e.unstable_cancelCallback,Vu=e.unstable_shouldYield,Cd=e.unstable_requestPaint,qe=e.unstable_now,Mu=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,mi=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,Xa=e.unstable_LowPriority,Lu=e.unstable_IdlePriority,_s=null,pn=null;function Ou(i){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(_s,i,void 0,(i.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:ju,Ja=Math.log,Fu=Math.LN2;function ju(i){return i>>>=0,i===0?32:31-(Ja(i)/Fu|0)|0}var wo=64,Eo=4194304;function gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ws(i,o){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var C=T&~m;C!==0?d=gi(C):(v&=T,v!==0&&(d=gi(v)))}else T=l&~m,T!==0?d=gi(T):v!==0&&(d=gi(v));if(d===0)return 0;if(o!==0&&o!==d&&(o&m)===0&&(m=d&-d,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((d&4)!==0&&(d|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=d;0<o;)l=31-Zt(o),m=1<<l,d|=i[l],o&=~m;return d}function Rd(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ur(i,o){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-Zt(v),C=1<<T,M=m[T];M===-1?((C&l)===0||(C&d)!==0)&&(m[T]=Rd(C,o)):M<=o&&(i.expiredLanes|=C),v&=~C}}function mn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Es(){var i=wo;return wo<<=1,(wo&4194240)===0&&(wo=64),i}function yi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function vi(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-Zt(o),i[o]=l}function He(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Zt(l),v=1<<m;o[m]=0,d[m]=-1,i[m]=-1,l&=~v}}function _i(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var d=31-Zt(l),m=1<<d;m&o|i[d]&o&&(i[d]|=o),l&=~m}}var De=0;function wi(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Uu,To,Bu,zu,$u,Za=!1,lr=[],Mt=null,zn=null,$n=null,Ei=new Map,xn=new Map,ur=[],kd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hu(i,o){switch(i){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":Ei.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":xn.delete(o.pointerId)}}function sn(i,o,l,d,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},o!==null&&(o=pl(o),o!==null&&To(o)),i):(i.eventSystemFlags|=d,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function bd(i,o,l,d,m){switch(o){case"focusin":return Mt=sn(Mt,i,o,l,d,m),!0;case"dragenter":return zn=sn(zn,i,o,l,d,m),!0;case"mouseover":return $n=sn($n,i,o,l,d,m),!0;case"pointerover":var v=m.pointerId;return Ei.set(v,sn(Ei.get(v)||null,i,o,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,xn.set(v,sn(xn.get(v)||null,i,o,l,d,m)),!0}return!1}function Wu(i){var o=Ps(i.target);if(o!==null){var l=Un(o);if(l!==null){if(o=l.tag,o===13){if(o=ys(l),o!==null){i.blockedOn=o,$u(i.priority,function(){Bu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Br(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=So(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);fs=d,l.target.dispatchEvent(d),fs=null}else return o=pl(l),o!==null&&To(o),i.blockedOn=l,!1;o.shift()}return!0}function Ts(i,o,l){Br(i)&&l.delete(o)}function qu(){Za=!1,Mt!==null&&Br(Mt)&&(Mt=null),zn!==null&&Br(zn)&&(zn=null),$n!==null&&Br($n)&&($n=null),Ei.forEach(Ts),xn.forEach(Ts)}function Hn(i,o){i.blockedOn===o&&(i.blockedOn=null,Za||(Za=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qu)))}function Wn(i){function o(m){return Hn(m,i)}if(0<lr.length){Hn(lr[0],i);for(var l=1;l<lr.length;l++){var d=lr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(Mt!==null&&Hn(Mt,i),zn!==null&&Hn(zn,i),$n!==null&&Hn($n,i),Ei.forEach(o),xn.forEach(o),l=0;l<ur.length;l++)d=ur[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<ur.length&&(l=ur[0],l.blockedOn===null);)Wu(l),l.blockedOn===null&&ur.shift()}var zr=J.ReactCurrentBatchConfig,Ti=!0;function tt(i,o,l,d){var m=De,v=zr.transition;zr.transition=null;try{De=1,el(i,o,l,d)}finally{De=m,zr.transition=v}}function Nd(i,o,l,d){var m=De,v=zr.transition;zr.transition=null;try{De=4,el(i,o,l,d)}finally{De=m,zr.transition=v}}function el(i,o,l,d){if(Ti){var m=So(i,o,l,d);if(m===null)$d(i,o,d,Ss,l),Hu(i,d);else if(bd(m,i,o,l,d))d.stopPropagation();else if(Hu(i,d),o&4&&-1<kd.indexOf(i)){for(;m!==null;){var v=pl(m);if(v!==null&&Uu(v),v=So(i,o,l,d),v===null&&$d(i,o,d,Ss,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else $d(i,o,d,null,l)}}var Ss=null;function So(i,o,l,d){if(Ss=null,i=ho(d),i=Ps(i),i!==null)if(o=Un(i),o===null)i=null;else if(l=o.tag,l===13){if(i=ys(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ss=i,null}function tl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mu()){case vs:return 1;case mi:return 4;case In:case Xa:return 16;case Lu:return 536870912;default:return 16}default:return 16}}var gn=null,Io=null,on=null;function nl(){if(on)return on;var i,o=Io,l=o.length,d,m="value"in gn?gn.value:gn.textContent,v=m.length;for(i=0;i<l&&o[i]===m[i];i++);var T=l-i;for(d=1;d<=T&&o[l-d]===m[v-d];d++);return on=m.slice(i,1<d?1-d:void 0)}function xo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function cr(){return!0}function rl(){return!1}function Lt(i){function o(l,d,m,v,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(l=i[C],this[C]=l?l(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?cr:rl,this.isPropagationStopped=rl,this}return te(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),o}var qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Lt(qn),hr=te({},qn,{view:0,detail:0}),Dd=Lt(hr),Ao,$r,Si,Is=te({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Si&&(Si&&i.type==="mousemove"?(Ao=i.screenX-Si.screenX,$r=i.screenY-Si.screenY):$r=Ao=0,Si=i),Ao)},movementY:function(i){return"movementY"in i?i.movementY:$r}}),Co=Lt(Is),il=te({},Is,{dataTransfer:0}),Ku=Lt(il),Ro=te({},hr,{relatedTarget:0}),ko=Lt(Ro),Gu=te({},qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hr=Lt(Gu),Qu=te({},qn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yu=Lt(Qu),Xu=te({},qn,{data:0}),sl=Lt(Xu),bo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ju[i])?!!o[i]:!1}function dr(){return Zu}var c=te({},hr,{key:function(i){if(i.key){var o=bo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=xo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?en[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dr,charCode:function(i){return i.type==="keypress"?xo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Lt(c),w=te({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Lt(w),z=te({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dr}),G=Lt(z),ae=te({},qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=Lt(ae),Tt=te({},Is,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Lt(Tt),kt=[9,13,27,32],gt=h&&"CompositionEvent"in window,Pn=null;h&&"documentMode"in document&&(Pn=document.documentMode);var yn=h&&"TextEvent"in window&&!Pn,xs=h&&(!gt||Pn&&8<Pn&&11>=Pn),No=" ",sy=!1;function oy(i,o){switch(i){case"keyup":return kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ay(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Do=!1;function iI(i,o){switch(i){case"compositionend":return ay(o);case"keypress":return o.which!==32?null:(sy=!0,No);case"textInput":return i=o.data,i===No&&sy?null:i;default:return null}}function sI(i,o){if(Do)return i==="compositionend"||!gt&&oy(i,o)?(i=nl(),on=Io=gn=null,Do=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return xs&&o.locale!=="ko"?null:o.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!oI[i.type]:o==="textarea"}function uy(i,o,l,d){ar(d),o=ic(o,"onChange"),0<o.length&&(l=new Po("onChange","change",null,l,d),i.push({event:l,listeners:o}))}var ol=null,al=null;function aI(i){Ay(i,0)}function ec(i){var o=Fo(i);if(oo(o))return i}function lI(i,o){if(i==="change")return o}var cy=!1;if(h){var Vd;if(h){var Md="oninput"in document;if(!Md){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Md=typeof hy.oninput=="function"}Vd=Md}else Vd=!1;cy=Vd&&(!document.documentMode||9<document.documentMode)}function dy(){ol&&(ol.detachEvent("onpropertychange",fy),al=ol=null)}function fy(i){if(i.propertyName==="value"&&ec(al)){var o=[];uy(o,al,i,ho(i)),Ka(aI,o)}}function uI(i,o,l){i==="focusin"?(dy(),ol=o,al=l,ol.attachEvent("onpropertychange",fy)):i==="focusout"&&dy()}function cI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ec(al)}function hI(i,o){if(i==="click")return ec(o)}function dI(i,o){if(i==="input"||i==="change")return ec(o)}function fI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Kn=typeof Object.is=="function"?Object.is:fI;function ll(i,o){if(Kn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(o,m)||!Kn(i[m],o[m]))return!1}return!0}function py(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function my(i,o){var l=py(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=o&&d>=o)return{node:l,offset:o-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=py(l)}}function gy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?gy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function yy(){for(var i=window,o=fi();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=fi(i.document)}return o}function Ld(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function pI(i){var o=yy(),l=i.focusedElem,d=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&gy(l.ownerDocument.documentElement,l)){if(d!==null&&Ld(l)){if(o=d.start,i=d.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!i.extend&&v>d&&(m=d,d=v,v=m),m=my(l,v);var T=my(l,d);m&&T&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>d?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var mI=h&&"documentMode"in document&&11>=document.documentMode,Vo=null,Od=null,ul=null,Fd=!1;function vy(i,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fd||Vo==null||Vo!==fi(d)||(d=Vo,"selectionStart"in d&&Ld(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ul&&ll(ul,d)||(ul=d,d=ic(Od,"onSelect"),0<d.length&&(o=new Po("onSelect","select",null,o,l),i.push({event:o,listeners:d}),o.target=Vo)))}function tc(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var Mo={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},jd={},_y={};h&&(_y=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function nc(i){if(jd[i])return jd[i];if(!Mo[i])return i;var o=Mo[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in _y)return jd[i]=o[l];return i}var wy=nc("animationend"),Ey=nc("animationiteration"),Ty=nc("animationstart"),Sy=nc("transitionend"),Iy=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(i,o){Iy.set(i,o),a(o,[i])}for(var Ud=0;Ud<xy.length;Ud++){var Bd=xy[Ud],gI=Bd.toLowerCase(),yI=Bd[0].toUpperCase()+Bd.slice(1);Ii(gI,"on"+yI)}Ii(wy,"onAnimationEnd"),Ii(Ey,"onAnimationIteration"),Ii(Ty,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(Sy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function Py(i,o,l){var d=i.type||"unknown-event";i.currentTarget=l,Nu(d,o,void 0,i),i.currentTarget=null}function Ay(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var v=void 0;if(o)for(var T=d.length-1;0<=T;T--){var C=d[T],M=C.instance,W=C.currentTarget;if(C=C.listener,M!==v&&m.isPropagationStopped())break e;Py(m,C,W),v=M}else for(T=0;T<d.length;T++){if(C=d[T],M=C.instance,W=C.currentTarget,C=C.listener,M!==v&&m.isPropagationStopped())break e;Py(m,C,W),v=M}}}if(jn)throw i=Ga,jn=!1,Ga=null,i}function Qe(i,o){var l=o[Qd];l===void 0&&(l=o[Qd]=new Set);var d=i+"__bubble";l.has(d)||(Cy(o,i,2,!1),l.add(d))}function zd(i,o,l){var d=0;o&&(d|=4),Cy(l,i,d,o)}var rc="_reactListening"+Math.random().toString(36).slice(2);function hl(i){if(!i[rc]){i[rc]=!0,r.forEach(function(l){l!=="selectionchange"&&(vI.has(l)||zd(l,!1,i),zd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[rc]||(o[rc]=!0,zd("selectionchange",!1,o))}}function Cy(i,o,l,d){switch(tl(o)){case 1:var m=tt;break;case 4:m=Nd;break;default:m=el}l=m.bind(null,o,l,i),m=void 0,!mo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function $d(i,o,l,d,m){var v=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var C=d.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;C!==null;){if(T=Ps(C),T===null)return;if(M=T.tag,M===5||M===6){d=v=T;continue e}C=C.parentNode}}d=d.return}Ka(function(){var W=v,ne=ho(l),re=[];e:{var ee=Iy.get(i);if(ee!==void 0){var ue=Po,de=i;switch(i){case"keypress":if(xo(l)===0)break e;case"keydown":case"keyup":ue=y;break;case"focusin":de="focus",ue=ko;break;case"focusout":de="blur",ue=ko;break;case"beforeblur":case"afterblur":ue=ko;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=G;break;case wy:case Ey:case Ty:ue=Hr;break;case Sy:ue=$e;break;case"scroll":ue=Dd;break;case"wheel":ue=Me;break;case"copy":case"cut":case"paste":ue=Yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=S}var fe=(o&4)!==0,ft=!fe&&i==="scroll",$=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var j=W,H;j!==null;){H=j;var se=H.stateNode;if(H.tag===5&&se!==null&&(H=se,$!==null&&(se=dt(j,$),se!=null&&fe.push(dl(j,se,H)))),ft)break;j=j.return}0<fe.length&&(ee=new ue(ee,de,null,l,ne),re.push({event:ee,listeners:fe}))}}if((o&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",ue=i==="mouseout"||i==="pointerout",ee&&l!==fs&&(de=l.relatedTarget||l.fromElement)&&(Ps(de)||de[Wr]))break e;if((ue||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=l.relatedTarget||l.toElement,ue=W,de=de?Ps(de):null,de!==null&&(ft=Un(de),de!==ft||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=W),ue!==de)){if(fe=Co,se="onMouseLeave",$="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(fe=S,se="onPointerLeave",$="onPointerEnter",j="pointer"),ft=ue==null?ee:Fo(ue),H=de==null?ee:Fo(de),ee=new fe(se,j+"leave",ue,l,ne),ee.target=ft,ee.relatedTarget=H,se=null,Ps(ne)===W&&(fe=new fe($,j+"enter",de,l,ne),fe.target=H,fe.relatedTarget=ft,se=fe),ft=se,ue&&de)t:{for(fe=ue,$=de,j=0,H=fe;H;H=Lo(H))j++;for(H=0,se=$;se;se=Lo(se))H++;for(;0<j-H;)fe=Lo(fe),j--;for(;0<H-j;)$=Lo($),H--;for(;j--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=Lo(fe),$=Lo($)}fe=null}else fe=null;ue!==null&&Ry(re,ee,ue,fe,!1),de!==null&&ft!==null&&Ry(re,ft,de,fe,!0)}}e:{if(ee=W?Fo(W):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var ge=lI;else if(ly(ee))if(cy)ge=dI;else{ge=cI;var ve=uI}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=hI);if(ge&&(ge=ge(i,W))){uy(re,ge,l,ne);break e}ve&&ve(i,ee,W),i==="focusout"&&(ve=ee._wrapperState)&&ve.controlled&&ee.type==="number"&&lo(ee,"number",ee.value)}switch(ve=W?Fo(W):window,i){case"focusin":(ly(ve)||ve.contentEditable==="true")&&(Vo=ve,Od=W,ul=null);break;case"focusout":ul=Od=Vo=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,vy(re,l,ne);break;case"selectionchange":if(mI)break;case"keydown":case"keyup":vy(re,l,ne)}var _e;if(gt)e:{switch(i){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Do?oy(i,l)&&(Ie="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ie="onCompositionStart");Ie&&(xs&&l.locale!=="ko"&&(Do||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Do&&(_e=nl()):(gn=ne,Io="value"in gn?gn.value:gn.textContent,Do=!0)),ve=ic(W,Ie),0<ve.length&&(Ie=new sl(Ie,i,null,l,ne),re.push({event:Ie,listeners:ve}),_e?Ie.data=_e:(_e=ay(l),_e!==null&&(Ie.data=_e)))),(_e=yn?iI(i,l):sI(i,l))&&(W=ic(W,"onBeforeInput"),0<W.length&&(ne=new sl("onBeforeInput","beforeinput",null,l,ne),re.push({event:ne,listeners:W}),ne.data=_e))}Ay(re,o)})}function dl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function ic(i,o){for(var l=o+"Capture",d=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=dt(i,l),v!=null&&d.unshift(dl(i,v,m)),v=dt(i,o),v!=null&&d.push(dl(i,v,m))),i=i.return}return d}function Lo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ry(i,o,l,d,m){for(var v=o._reactName,T=[];l!==null&&l!==d;){var C=l,M=C.alternate,W=C.stateNode;if(M!==null&&M===d)break;C.tag===5&&W!==null&&(C=W,m?(M=dt(l,v),M!=null&&T.unshift(dl(l,M,C))):m||(M=dt(l,v),M!=null&&T.push(dl(l,M,C)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var _I=/\r\n?/g,wI=/\u0000|\uFFFD/g;function ky(i){return(typeof i=="string"?i:""+i).replace(_I,`
`).replace(wI,"")}function sc(i,o,l){if(o=ky(o),ky(i)!==o&&l)throw Error(t(425))}function oc(){}var Hd=null,Wd=null;function qd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Kd=typeof setTimeout=="function"?setTimeout:void 0,EI=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,TI=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(i){return by.resolve(null).then(i).catch(SI)}:Kd;function SI(i){setTimeout(function(){throw i})}function Gd(i,o){var l=o,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Wn(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Wn(o)}function xi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Ny(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),fr="__reactFiber$"+Oo,fl="__reactProps$"+Oo,Wr="__reactContainer$"+Oo,Qd="__reactEvents$"+Oo,II="__reactListeners$"+Oo,xI="__reactHandles$"+Oo;function Ps(i){var o=i[fr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Wr]||l[fr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=Ny(i);i!==null;){if(l=i[fr])return l;i=Ny(i)}return o}i=l,l=i.parentNode}return null}function pl(i){return i=i[fr]||i[Wr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Fo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ac(i){return i[fl]||null}var Yd=[],jo=-1;function Pi(i){return{current:i}}function Ye(i){0>jo||(i.current=Yd[jo],Yd[jo]=null,jo--)}function Ke(i,o){jo++,Yd[jo]=i.current,i.current=o}var Ai={},$t=Pi(Ai),an=Pi(!1),As=Ai;function Uo(i,o){var l=i.type.contextTypes;if(!l)return Ai;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function ln(i){return i=i.childContextTypes,i!=null}function lc(){Ye(an),Ye($t)}function Dy(i,o,l){if($t.current!==Ai)throw Error(t(168));Ke($t,o),Ke(an,l)}function Vy(i,o,l){var d=i.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in o))throw Error(t(108,je(i)||"Unknown",m));return te({},l,d)}function uc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ai,As=$t.current,Ke($t,i),Ke(an,an.current),!0}function My(i,o,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Vy(i,o,As),d.__reactInternalMemoizedMergedChildContext=i,Ye(an),Ye($t),Ke($t,i)):Ye(an),Ke(an,l)}var qr=null,cc=!1,Xd=!1;function Ly(i){qr===null?qr=[i]:qr.push(i)}function PI(i){cc=!0,Ly(i)}function Ci(){if(!Xd&&qr!==null){Xd=!0;var i=0,o=De;try{var l=qr;for(De=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}qr=null,cc=!1}catch(m){throw qr!==null&&(qr=qr.slice(i+1)),_o(vs,Ci),m}finally{De=o,Xd=!1}}return null}var Bo=[],zo=0,hc=null,dc=0,An=[],Cn=0,Cs=null,Kr=1,Gr="";function Rs(i,o){Bo[zo++]=dc,Bo[zo++]=hc,hc=i,dc=o}function Oy(i,o,l){An[Cn++]=Kr,An[Cn++]=Gr,An[Cn++]=Cs,Cs=i;var d=Kr;i=Gr;var m=32-Zt(d)-1;d&=~(1<<m),l+=1;var v=32-Zt(o)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Kr=1<<32-Zt(o)+m|l<<m|d,Gr=v+i}else Kr=1<<v|l<<m|d,Gr=i}function Jd(i){i.return!==null&&(Rs(i,1),Oy(i,1,0))}function Zd(i){for(;i===hc;)hc=Bo[--zo],Bo[zo]=null,dc=Bo[--zo],Bo[zo]=null;for(;i===Cs;)Cs=An[--Cn],An[Cn]=null,Gr=An[--Cn],An[Cn]=null,Kr=An[--Cn],An[Cn]=null}var vn=null,_n=null,nt=!1,Gn=null;function Fy(i,o){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function jy(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,vn=i,_n=xi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,vn=i,_n=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Cs!==null?{id:Kr,overflow:Gr}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,vn=i,_n=null,!0):!1;default:return!1}}function ef(i){return(i.mode&1)!==0&&(i.flags&128)===0}function tf(i){if(nt){var o=_n;if(o){var l=o;if(!jy(i,o)){if(ef(i))throw Error(t(418));o=xi(l.nextSibling);var d=vn;o&&jy(i,o)?Fy(d,l):(i.flags=i.flags&-4097|2,nt=!1,vn=i)}}else{if(ef(i))throw Error(t(418));i.flags=i.flags&-4097|2,nt=!1,vn=i}}}function Uy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;vn=i}function fc(i){if(i!==vn)return!1;if(!nt)return Uy(i),nt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!qd(i.type,i.memoizedProps)),o&&(o=_n)){if(ef(i))throw By(),Error(t(418));for(;o;)Fy(i,o),o=xi(o.nextSibling)}if(Uy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){_n=xi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}_n=null}}else _n=vn?xi(i.stateNode.nextSibling):null;return!0}function By(){for(var i=_n;i;)i=xi(i.nextSibling)}function $o(){_n=vn=null,nt=!1}function nf(i){Gn===null?Gn=[i]:Gn.push(i)}var AI=J.ReactCurrentBatchConfig;function ml(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var C=m.refs;T===null?delete C[v]:C[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function pc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function zy(i){var o=i._init;return o(i._payload)}function $y(i){function o($,j){if(i){var H=$.deletions;H===null?($.deletions=[j],$.flags|=16):H.push(j)}}function l($,j){if(!i)return null;for(;j!==null;)o($,j),j=j.sibling;return null}function d($,j){for($=new Map;j!==null;)j.key!==null?$.set(j.key,j):$.set(j.index,j),j=j.sibling;return $}function m($,j){return $=Li($,j),$.index=0,$.sibling=null,$}function v($,j,H){return $.index=H,i?(H=$.alternate,H!==null?(H=H.index,H<j?($.flags|=2,j):H):($.flags|=2,j)):($.flags|=1048576,j)}function T($){return i&&$.alternate===null&&($.flags|=2),$}function C($,j,H,se){return j===null||j.tag!==6?(j=Gf(H,$.mode,se),j.return=$,j):(j=m(j,H),j.return=$,j)}function M($,j,H,se){var ge=H.type;return ge===N?ne($,j,H.props.children,se,H.key):j!==null&&(j.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===lt&&zy(ge)===j.type)?(se=m(j,H.props),se.ref=ml($,j,H),se.return=$,se):(se=Fc(H.type,H.key,H.props,null,$.mode,se),se.ref=ml($,j,H),se.return=$,se)}function W($,j,H,se){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Qf(H,$.mode,se),j.return=$,j):(j=m(j,H.children||[]),j.return=$,j)}function ne($,j,H,se,ge){return j===null||j.tag!==7?(j=Os(H,$.mode,se,ge),j.return=$,j):(j=m(j,H),j.return=$,j)}function re($,j,H){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Gf(""+j,$.mode,H),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return H=Fc(j.type,j.key,j.props,null,$.mode,H),H.ref=ml($,null,j),H.return=$,H;case oe:return j=Qf(j,$.mode,H),j.return=$,j;case lt:var se=j._init;return re($,se(j._payload),H)}if(Lr(j)||me(j))return j=Os(j,$.mode,H,null),j.return=$,j;pc($,j)}return null}function ee($,j,H,se){var ge=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return ge!==null?null:C($,j,""+H,se);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case X:return H.key===ge?M($,j,H,se):null;case oe:return H.key===ge?W($,j,H,se):null;case lt:return ge=H._init,ee($,j,ge(H._payload),se)}if(Lr(H)||me(H))return ge!==null?null:ne($,j,H,se,null);pc($,H)}return null}function ue($,j,H,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(H)||null,C(j,$,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case X:return $=$.get(se.key===null?H:se.key)||null,M(j,$,se,ge);case oe:return $=$.get(se.key===null?H:se.key)||null,W(j,$,se,ge);case lt:var ve=se._init;return ue($,j,H,ve(se._payload),ge)}if(Lr(se)||me(se))return $=$.get(H)||null,ne(j,$,se,ge,null);pc(j,se)}return null}function de($,j,H,se){for(var ge=null,ve=null,_e=j,Ie=j=0,Dt=null;_e!==null&&Ie<H.length;Ie++){_e.index>Ie?(Dt=_e,_e=null):Dt=_e.sibling;var Fe=ee($,_e,H[Ie],se);if(Fe===null){_e===null&&(_e=Dt);break}i&&_e&&Fe.alternate===null&&o($,_e),j=v(Fe,j,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe,_e=Dt}if(Ie===H.length)return l($,_e),nt&&Rs($,Ie),ge;if(_e===null){for(;Ie<H.length;Ie++)_e=re($,H[Ie],se),_e!==null&&(j=v(_e,j,Ie),ve===null?ge=_e:ve.sibling=_e,ve=_e);return nt&&Rs($,Ie),ge}for(_e=d($,_e);Ie<H.length;Ie++)Dt=ue(_e,$,Ie,H[Ie],se),Dt!==null&&(i&&Dt.alternate!==null&&_e.delete(Dt.key===null?Ie:Dt.key),j=v(Dt,j,Ie),ve===null?ge=Dt:ve.sibling=Dt,ve=Dt);return i&&_e.forEach(function(Oi){return o($,Oi)}),nt&&Rs($,Ie),ge}function fe($,j,H,se){var ge=me(H);if(typeof ge!="function")throw Error(t(150));if(H=ge.call(H),H==null)throw Error(t(151));for(var ve=ge=null,_e=j,Ie=j=0,Dt=null,Fe=H.next();_e!==null&&!Fe.done;Ie++,Fe=H.next()){_e.index>Ie?(Dt=_e,_e=null):Dt=_e.sibling;var Oi=ee($,_e,Fe.value,se);if(Oi===null){_e===null&&(_e=Dt);break}i&&_e&&Oi.alternate===null&&o($,_e),j=v(Oi,j,Ie),ve===null?ge=Oi:ve.sibling=Oi,ve=Oi,_e=Dt}if(Fe.done)return l($,_e),nt&&Rs($,Ie),ge;if(_e===null){for(;!Fe.done;Ie++,Fe=H.next())Fe=re($,Fe.value,se),Fe!==null&&(j=v(Fe,j,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return nt&&Rs($,Ie),ge}for(_e=d($,_e);!Fe.done;Ie++,Fe=H.next())Fe=ue(_e,$,Ie,Fe.value,se),Fe!==null&&(i&&Fe.alternate!==null&&_e.delete(Fe.key===null?Ie:Fe.key),j=v(Fe,j,Ie),ve===null?ge=Fe:ve.sibling=Fe,ve=Fe);return i&&_e.forEach(function(ox){return o($,ox)}),nt&&Rs($,Ie),ge}function ft($,j,H,se){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case X:e:{for(var ge=H.key,ve=j;ve!==null;){if(ve.key===ge){if(ge=H.type,ge===N){if(ve.tag===7){l($,ve.sibling),j=m(ve,H.props.children),j.return=$,$=j;break e}}else if(ve.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===lt&&zy(ge)===ve.type){l($,ve.sibling),j=m(ve,H.props),j.ref=ml($,ve,H),j.return=$,$=j;break e}l($,ve);break}else o($,ve);ve=ve.sibling}H.type===N?(j=Os(H.props.children,$.mode,se,H.key),j.return=$,$=j):(se=Fc(H.type,H.key,H.props,null,$.mode,se),se.ref=ml($,j,H),se.return=$,$=se)}return T($);case oe:e:{for(ve=H.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){l($,j.sibling),j=m(j,H.children||[]),j.return=$,$=j;break e}else{l($,j);break}else o($,j);j=j.sibling}j=Qf(H,$.mode,se),j.return=$,$=j}return T($);case lt:return ve=H._init,ft($,j,ve(H._payload),se)}if(Lr(H))return de($,j,H,se);if(me(H))return fe($,j,H,se);pc($,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,j!==null&&j.tag===6?(l($,j.sibling),j=m(j,H),j.return=$,$=j):(l($,j),j=Gf(H,$.mode,se),j.return=$,$=j),T($)):l($,j)}return ft}var Ho=$y(!0),Hy=$y(!1),mc=Pi(null),gc=null,Wo=null,rf=null;function sf(){rf=Wo=gc=null}function of(i){var o=mc.current;Ye(mc),i._currentValue=o}function af(i,o,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),i===l)break;i=i.return}}function qo(i,o){gc=i,rf=Wo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(un=!0),i.firstContext=null)}function Rn(i){var o=i._currentValue;if(rf!==i)if(i={context:i,memoizedValue:o,next:null},Wo===null){if(gc===null)throw Error(t(308));Wo=i,gc.dependencies={lanes:0,firstContext:i}}else Wo=Wo.next=i;return o}var ks=null;function lf(i){ks===null?ks=[i]:ks.push(i)}function Wy(i,o,l,d){var m=o.interleaved;return m===null?(l.next=l,lf(o)):(l.next=m.next,m.next=l),o.interleaved=l,Qr(i,d)}function Qr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ri=!1;function uf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Yr(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ki(i,o,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(Oe&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,Qr(i,l)}return m=d.interleaved,m===null?(o.next=o,lf(d)):(o.next=m.next,m.next=o),d.interleaved=o,Qr(i,l)}function yc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,_i(i,l)}}function Ky(i,o){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function vc(i,o,l,d){var m=i.updateQueue;Ri=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var M=C,W=M.next;M.next=null,T===null?v=W:T.next=W,T=M;var ne=i.alternate;ne!==null&&(ne=ne.updateQueue,C=ne.lastBaseUpdate,C!==T&&(C===null?ne.firstBaseUpdate=W:C.next=W,ne.lastBaseUpdate=M))}if(v!==null){var re=m.baseState;T=0,ne=W=M=null,C=v;do{var ee=C.lane,ue=C.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ue,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var de=i,fe=C;switch(ee=o,ue=l,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){re=de.call(ue,re,ee);break e}re=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,ee=typeof de=="function"?de.call(ue,re,ee):de,ee==null)break e;re=te({},re,ee);break e;case 2:Ri=!0}}C.callback!==null&&C.lane!==0&&(i.flags|=64,ee=m.effects,ee===null?m.effects=[C]:ee.push(C))}else ue={eventTime:ue,lane:ee,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ne===null?(W=ne=ue,M=re):ne=ne.next=ue,T|=ee;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(ne===null&&(M=re),m.baseState=M,m.firstBaseUpdate=W,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ds|=T,i.lanes=T,i.memoizedState=re}}function Gy(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var d=i[o],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var gl={},pr=Pi(gl),yl=Pi(gl),vl=Pi(gl);function bs(i){if(i===gl)throw Error(t(174));return i}function cf(i,o){switch(Ke(vl,o),Ke(yl,i),Ke(pr,gl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Et(o,i)}Ye(pr),Ke(pr,o)}function Ko(){Ye(pr),Ye(yl),Ye(vl)}function Qy(i){bs(vl.current);var o=bs(pr.current),l=Et(o,i.type);o!==l&&(Ke(yl,i),Ke(pr,l))}function hf(i){yl.current===i&&(Ye(pr),Ye(yl))}var rt=Pi(0);function _c(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var df=[];function ff(){for(var i=0;i<df.length;i++)df[i]._workInProgressVersionPrimary=null;df.length=0}var wc=J.ReactCurrentDispatcher,pf=J.ReactCurrentBatchConfig,Ns=0,it=null,St=null,bt=null,Ec=!1,_l=!1,wl=0,CI=0;function Ht(){throw Error(t(321))}function mf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Kn(i[l],o[l]))return!1;return!0}function gf(i,o,l,d,m,v){if(Ns=v,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,wc.current=i===null||i.memoizedState===null?NI:DI,i=l(d,m),_l){v=0;do{if(_l=!1,wl=0,25<=v)throw Error(t(301));v+=1,bt=St=null,o.updateQueue=null,wc.current=VI,i=l(d,m)}while(_l)}if(wc.current=Ic,o=St!==null&&St.next!==null,Ns=0,bt=St=it=null,Ec=!1,o)throw Error(t(300));return i}function yf(){var i=wl!==0;return wl=0,i}function mr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?it.memoizedState=bt=i:bt=bt.next=i,bt}function kn(){if(St===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=St.next;var o=bt===null?it.memoizedState:bt.next;if(o!==null)bt=o,St=i;else{if(i===null)throw Error(t(310));St=i,i={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},bt===null?it.memoizedState=bt=i:bt=bt.next=i}return bt}function El(i,o){return typeof o=="function"?o(i):o}function vf(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=St,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var C=T=null,M=null,W=v;do{var ne=W.lane;if((Ns&ne)===ne)M!==null&&(M=M.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),d=W.hasEagerState?W.eagerState:i(d,W.action);else{var re={lane:ne,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};M===null?(C=M=re,T=d):M=M.next=re,it.lanes|=ne,Ds|=ne}W=W.next}while(W!==null&&W!==v);M===null?T=d:M.next=C,Kn(d,o.memoizedState)||(un=!0),o.memoizedState=d,o.baseState=T,o.baseQueue=M,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do v=m.lane,it.lanes|=v,Ds|=v,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function _f(i){var o=kn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=i(v,T.action),T=T.next;while(T!==m);Kn(v,o.memoizedState)||(un=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,d]}function Yy(){}function Xy(i,o){var l=it,d=kn(),m=o(),v=!Kn(d.memoizedState,m);if(v&&(d.memoizedState=m,un=!0),d=d.queue,wf(ev.bind(null,l,d,i),[i]),d.getSnapshot!==o||v||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Tl(9,Zy.bind(null,l,d,m,o),void 0,null),Nt===null)throw Error(t(349));(Ns&30)!==0||Jy(l,o,m)}return m}function Jy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Zy(i,o,l,d){o.value=l,o.getSnapshot=d,tv(o)&&nv(i)}function ev(i,o,l){return l(function(){tv(o)&&nv(i)})}function tv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Kn(i,l)}catch{return!0}}function nv(i){var o=Qr(i,1);o!==null&&Jn(o,i,1,-1)}function rv(i){var o=mr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:i},o.queue=i,i=i.dispatch=bI.bind(null,it,i),[o.memoizedState,i]}function Tl(i,o,l,d){return i={tag:i,create:o,destroy:l,deps:d,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,o.lastEffect=i)),i}function iv(){return kn().memoizedState}function Tc(i,o,l,d){var m=mr();it.flags|=i,m.memoizedState=Tl(1|o,l,void 0,d===void 0?null:d)}function Sc(i,o,l,d){var m=kn();d=d===void 0?null:d;var v=void 0;if(St!==null){var T=St.memoizedState;if(v=T.destroy,d!==null&&mf(d,T.deps)){m.memoizedState=Tl(o,l,v,d);return}}it.flags|=i,m.memoizedState=Tl(1|o,l,v,d)}function sv(i,o){return Tc(8390656,8,i,o)}function wf(i,o){return Sc(2048,8,i,o)}function ov(i,o){return Sc(4,2,i,o)}function av(i,o){return Sc(4,4,i,o)}function lv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function uv(i,o,l){return l=l!=null?l.concat([i]):null,Sc(4,4,lv.bind(null,o,i),l)}function Ef(){}function cv(i,o){var l=kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&mf(o,d[1])?d[0]:(l.memoizedState=[i,o],i)}function hv(i,o){var l=kn();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&mf(o,d[1])?d[0]:(i=i(),l.memoizedState=[i,o],i)}function dv(i,o,l){return(Ns&21)===0?(i.baseState&&(i.baseState=!1,un=!0),i.memoizedState=l):(Kn(l,o)||(l=Es(),it.lanes|=l,Ds|=l,i.baseState=!0),o)}function RI(i,o){var l=De;De=l!==0&&4>l?l:4,i(!0);var d=pf.transition;pf.transition={};try{i(!1),o()}finally{De=l,pf.transition=d}}function fv(){return kn().memoizedState}function kI(i,o,l){var d=Vi(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},pv(i))mv(o,l);else if(l=Wy(i,o,l,d),l!==null){var m=nn();Jn(l,i,d,m),gv(l,o,d)}}function bI(i,o,l){var d=Vi(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(pv(i))mv(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,C=v(T,l);if(m.hasEagerState=!0,m.eagerState=C,Kn(C,T)){var M=o.interleaved;M===null?(m.next=m,lf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}l=Wy(i,o,m,d),l!==null&&(m=nn(),Jn(l,i,d,m),gv(l,o,d))}}function pv(i){var o=i.alternate;return i===it||o!==null&&o===it}function mv(i,o){_l=Ec=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function gv(i,o,l){if((l&4194240)!==0){var d=o.lanes;d&=i.pendingLanes,l|=d,o.lanes=l,_i(i,l)}}var Ic={readContext:Rn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},NI={readContext:Rn,useCallback:function(i,o){return mr().memoizedState=[i,o===void 0?null:o],i},useContext:Rn,useEffect:sv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,Tc(4194308,4,lv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return Tc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Tc(4,2,i,o)},useMemo:function(i,o){var l=mr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var d=mr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},d.queue=i,i=i.dispatch=kI.bind(null,it,i),[d.memoizedState,i]},useRef:function(i){var o=mr();return i={current:i},o.memoizedState=i},useState:rv,useDebugValue:Ef,useDeferredValue:function(i){return mr().memoizedState=i},useTransition:function(){var i=rv(!1),o=i[0];return i=RI.bind(null,i[1]),mr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var d=it,m=mr();if(nt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Nt===null)throw Error(t(349));(Ns&30)!==0||Jy(d,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,sv(ev.bind(null,d,v,i),[i]),d.flags|=2048,Tl(9,Zy.bind(null,d,v,l,o),void 0,null),l},useId:function(){var i=mr(),o=Nt.identifierPrefix;if(nt){var l=Gr,d=Kr;l=(d&~(1<<32-Zt(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=wl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=CI++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},DI={readContext:Rn,useCallback:cv,useContext:Rn,useEffect:wf,useImperativeHandle:uv,useInsertionEffect:ov,useLayoutEffect:av,useMemo:hv,useReducer:vf,useRef:iv,useState:function(){return vf(El)},useDebugValue:Ef,useDeferredValue:function(i){var o=kn();return dv(o,St.memoizedState,i)},useTransition:function(){var i=vf(El)[0],o=kn().memoizedState;return[i,o]},useMutableSource:Yy,useSyncExternalStore:Xy,useId:fv,unstable_isNewReconciler:!1},VI={readContext:Rn,useCallback:cv,useContext:Rn,useEffect:wf,useImperativeHandle:uv,useInsertionEffect:ov,useLayoutEffect:av,useMemo:hv,useReducer:_f,useRef:iv,useState:function(){return _f(El)},useDebugValue:Ef,useDeferredValue:function(i){var o=kn();return St===null?o.memoizedState=i:dv(o,St.memoizedState,i)},useTransition:function(){var i=_f(El)[0],o=kn().memoizedState;return[i,o]},useMutableSource:Yy,useSyncExternalStore:Xy,useId:fv,unstable_isNewReconciler:!1};function Qn(i,o){if(i&&i.defaultProps){o=te({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function Tf(i,o,l,d){o=i.memoizedState,l=l(d,o),l=l==null?o:te({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var xc={isMounted:function(i){return(i=i._reactInternals)?Un(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var d=nn(),m=Vi(i),v=Yr(d,m);v.payload=o,l!=null&&(v.callback=l),o=ki(i,v,m),o!==null&&(Jn(o,i,m,d),yc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var d=nn(),m=Vi(i),v=Yr(d,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=ki(i,v,m),o!==null&&(Jn(o,i,m,d),yc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=nn(),d=Vi(i),m=Yr(l,d);m.tag=2,o!=null&&(m.callback=o),o=ki(i,m,d),o!==null&&(Jn(o,i,d,l),yc(o,i,d))}};function yv(i,o,l,d,m,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):o.prototype&&o.prototype.isPureReactComponent?!ll(l,d)||!ll(m,v):!0}function vv(i,o,l){var d=!1,m=Ai,v=o.contextType;return typeof v=="object"&&v!==null?v=Rn(v):(m=ln(o)?As:$t.current,d=o.contextTypes,v=(d=d!=null)?Uo(i,m):Ai),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=xc,i.stateNode=o,o._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function _v(i,o,l,d){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==i&&xc.enqueueReplaceState(o,o.state,null)}function Sf(i,o,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},uf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Rn(v):(v=ln(o)?As:$t.current,m.context=Uo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Tf(i,o,v,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&xc.enqueueReplaceState(m,m.state,null),vc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Go(i,o){try{var l="",d=o;do l+=Ce(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function If(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function xf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var MI=typeof WeakMap=="function"?WeakMap:Map;function wv(i,o,l){l=Yr(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Nc||(Nc=!0,Uf=d),xf(i,o)},l}function Ev(i,o,l){l=Yr(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;l.payload=function(){return d(m)},l.callback=function(){xf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){xf(i,o),typeof d!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Tv(i,o,l){var d=i.pingCache;if(d===null){d=i.pingCache=new MI;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(m.add(l),i=QI.bind(null,i,o,l),o.then(i,i))}function Sv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Iv(i,o,l,d,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Yr(-1,1),o.tag=2,ki(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var LI=J.ReactCurrentOwner,un=!1;function tn(i,o,l,d){o.child=i===null?Hy(o,null,l,d):Ho(o,i.child,l,d)}function xv(i,o,l,d,m){l=l.render;var v=o.ref;return qo(o,m),d=gf(i,o,l,d,v,m),l=yf(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Xr(i,o,m)):(nt&&l&&Jd(o),o.flags|=1,tn(i,o,d,m),o.child)}function Pv(i,o,l,d,m){if(i===null){var v=l.type;return typeof v=="function"&&!Kf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Av(i,o,v,d,m)):(i=Fc(l.type,null,d,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:ll,l(T,d)&&i.ref===o.ref)return Xr(i,o,m)}return o.flags|=1,i=Li(v,d),i.ref=o.ref,i.return=o,o.child=i}function Av(i,o,l,d,m){if(i!==null){var v=i.memoizedProps;if(ll(v,d)&&i.ref===o.ref)if(un=!1,o.pendingProps=d=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(un=!0);else return o.lanes=i.lanes,Xr(i,o,m)}return Pf(i,o,l,d,m)}function Cv(i,o,l){var d=o.pendingProps,m=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(Yo,wn),wn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke(Yo,wn),wn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ke(Yo,wn),wn|=d}else v!==null?(d=v.baseLanes|l,o.memoizedState=null):d=l,Ke(Yo,wn),wn|=d;return tn(i,o,m,l),o.child}function Rv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Pf(i,o,l,d,m){var v=ln(l)?As:$t.current;return v=Uo(o,v),qo(o,m),l=gf(i,o,l,d,v,m),d=yf(),i!==null&&!un?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Xr(i,o,m)):(nt&&d&&Jd(o),o.flags|=1,tn(i,o,l,m),o.child)}function kv(i,o,l,d,m){if(ln(l)){var v=!0;uc(o)}else v=!1;if(qo(o,m),o.stateNode===null)Ac(i,o),vv(o,l,d),Sf(o,l,d,m),d=!0;else if(i===null){var T=o.stateNode,C=o.memoizedProps;T.props=C;var M=T.context,W=l.contextType;typeof W=="object"&&W!==null?W=Rn(W):(W=ln(l)?As:$t.current,W=Uo(o,W));var ne=l.getDerivedStateFromProps,re=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";re||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==d||M!==W)&&_v(o,T,d,W),Ri=!1;var ee=o.memoizedState;T.state=ee,vc(o,d,T,m),M=o.memoizedState,C!==d||ee!==M||an.current||Ri?(typeof ne=="function"&&(Tf(o,l,ne,d),M=o.memoizedState),(C=Ri||yv(o,l,C,d,ee,M,W))?(re||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=M),T.props=d,T.state=M,T.context=W,d=C):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{T=o.stateNode,qy(i,o),C=o.memoizedProps,W=o.type===o.elementType?C:Qn(o.type,C),T.props=W,re=o.pendingProps,ee=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=Rn(M):(M=ln(l)?As:$t.current,M=Uo(o,M));var ue=l.getDerivedStateFromProps;(ne=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(C!==re||ee!==M)&&_v(o,T,d,M),Ri=!1,ee=o.memoizedState,T.state=ee,vc(o,d,T,m);var de=o.memoizedState;C!==re||ee!==de||an.current||Ri?(typeof ue=="function"&&(Tf(o,l,ue,d),de=o.memoizedState),(W=Ri||yv(o,l,W,d,ee,de,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,de,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,de,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=de),T.props=d,T.state=de,T.context=M,d=W):(typeof T.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(o.flags|=1024),d=!1)}return Af(i,o,l,d,v,m)}function Af(i,o,l,d,m,v){Rv(i,o);var T=(o.flags&128)!==0;if(!d&&!T)return m&&My(o,l,!1),Xr(i,o,v);d=o.stateNode,LI.current=o;var C=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,i!==null&&T?(o.child=Ho(o,i.child,null,v),o.child=Ho(o,null,C,v)):tn(i,o,C,v),o.memoizedState=d.state,m&&My(o,l,!0),o.child}function bv(i){var o=i.stateNode;o.pendingContext?Dy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Dy(i,o.context,!1),cf(i,o.containerInfo)}function Nv(i,o,l,d,m){return $o(),nf(m),o.flags|=256,tn(i,o,l,d),o.child}var Cf={dehydrated:null,treeContext:null,retryLane:0};function Rf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Dv(i,o,l){var d=o.pendingProps,m=rt.current,v=!1,T=(o.flags&128)!==0,C;if((C=T)||(C=i!==null&&i.memoizedState===null?!1:(m&2)!==0),C?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(rt,m&1),i===null)return tf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=d.children,i=d.fallback,v?(d=o.mode,v=o.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=jc(T,d,0,null),i=Os(i,d,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Rf(l),o.memoizedState=Cf,i):kf(o,T));if(m=i.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return OI(i,o,T,d,C,m,l);if(v){v=d.fallback,T=o.mode,m=i.child,C=m.sibling;var M={mode:"hidden",children:d.children};return(T&1)===0&&o.child!==m?(d=o.child,d.childLanes=0,d.pendingProps=M,o.deletions=null):(d=Li(m,M),d.subtreeFlags=m.subtreeFlags&14680064),C!==null?v=Li(C,v):(v=Os(v,T,l,null),v.flags|=2),v.return=o,d.return=o,d.sibling=v,o.child=d,d=v,v=o.child,T=i.child.memoizedState,T=T===null?Rf(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,o.memoizedState=Cf,d}return v=i.child,i=v.sibling,d=Li(v,{mode:"visible",children:d.children}),(o.mode&1)===0&&(d.lanes=l),d.return=o,d.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=d,o.memoizedState=null,d}function kf(i,o){return o=jc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Pc(i,o,l,d){return d!==null&&nf(d),Ho(o,i.child,null,l),i=kf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function OI(i,o,l,d,m,v,T){if(l)return o.flags&256?(o.flags&=-257,d=If(Error(t(422))),Pc(i,o,T,d)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=d.fallback,m=o.mode,d=jc({mode:"visible",children:d.children},m,0,null),v=Os(v,m,T,null),v.flags|=2,d.return=o,v.return=o,d.sibling=v,o.child=d,(o.mode&1)!==0&&Ho(o,i.child,null,T),o.child.memoizedState=Rf(T),o.memoizedState=Cf,v);if((o.mode&1)===0)return Pc(i,o,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var C=d.dgst;return d=C,v=Error(t(419)),d=If(v,d,void 0),Pc(i,o,T,d)}if(C=(T&i.childLanes)!==0,un||C){if(d=Nt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|T))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Qr(i,m),Jn(d,i,m,-1))}return qf(),d=If(Error(t(421))),Pc(i,o,T,d)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=YI.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,_n=xi(m.nextSibling),vn=o,nt=!0,Gn=null,i!==null&&(An[Cn++]=Kr,An[Cn++]=Gr,An[Cn++]=Cs,Kr=i.id,Gr=i.overflow,Cs=o),o=kf(o,d.children),o.flags|=4096,o)}function Vv(i,o,l){i.lanes|=o;var d=i.alternate;d!==null&&(d.lanes|=o),af(i.return,o,l)}function bf(i,o,l,d,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Mv(i,o,l){var d=o.pendingProps,m=d.revealOrder,v=d.tail;if(tn(i,o,d.children,l),d=rt.current,(d&2)!==0)d=d&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vv(i,l,o);else if(i.tag===19)Vv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(Ke(rt,d),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&_c(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),bf(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&_c(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}bf(o,!0,l,null,v);break;case"together":bf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ac(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Xr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Ds|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Li(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Li(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function FI(i,o,l){switch(o.tag){case 3:bv(o),$o();break;case 5:Qy(o);break;case 1:ln(o.type)&&uc(o);break;case 4:cf(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,m=o.memoizedProps.value;Ke(mc,d._currentValue),d._currentValue=m;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(Ke(rt,rt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?Dv(i,o,l):(Ke(rt,rt.current&1),i=Xr(i,o,l),i!==null?i.sibling:null);Ke(rt,rt.current&1);break;case 19:if(d=(l&o.childLanes)!==0,(i.flags&128)!==0){if(d)return Mv(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(rt,rt.current),d)break;return null;case 22:case 23:return o.lanes=0,Cv(i,o,l)}return Xr(i,o,l)}var Lv,Nf,Ov,Fv;Lv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Nf=function(){},Ov=function(i,o,l,d){var m=i.memoizedProps;if(m!==d){i=o.stateNode,bs(pr.current);var v=null;switch(l){case"input":m=cs(i,m),d=cs(i,d),v=[];break;case"select":m=te({},m,{value:void 0}),d=te({},d,{value:void 0}),v=[];break;case"textarea":m=Oa(i,m),d=Oa(i,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=oc)}$a(l,d);var T;l=null;for(W in m)if(!d.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var C=m[W];for(T in C)C.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in d){var M=d[W];if(C=m?.[W],d.hasOwnProperty(W)&&M!==C&&(M!=null||C!=null))if(W==="style")if(C){for(T in C)!C.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&C[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(v||(v=[]),v.push(W,l)),l=M;else W==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,C=C?C.__html:void 0,M!=null&&C!==M&&(v=v||[]).push(W,M)):W==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(W,""+M):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(M!=null&&W==="onScroll"&&Qe("scroll",i),v||C===M||(v=[])):(v=v||[]).push(W,M))}l&&(v=v||[]).push("style",l);var W=v;(o.updateQueue=W)&&(o.flags|=4)}},Fv=function(i,o,l,d){l!==d&&(o.flags|=4)};function Sl(i,o){if(!nt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function Wt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,o}function jI(i,o,l){var d=o.pendingProps;switch(Zd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(o),null;case 1:return ln(o.type)&&lc(),Wt(o),null;case 3:return d=o.stateNode,Ko(),Ye(an),Ye($t),ff(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(fc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Gn!==null&&($f(Gn),Gn=null))),Nf(i,o),Wt(o),null;case 5:hf(o);var m=bs(vl.current);if(l=o.type,i!==null&&o.stateNode!=null)Ov(i,o,l,d,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return Wt(o),null}if(i=bs(pr.current),fc(o)){d=o.stateNode,l=o.type;var v=o.memoizedProps;switch(d[fr]=o,d[fl]=v,i=(o.mode&1)!==0,l){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<cl.length;m++)Qe(cl[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":ao(d,v),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",d);break;case"textarea":uo(d,v),Qe("invalid",d)}$a(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var C=v[T];T==="children"?typeof C=="string"?d.textContent!==C&&(v.suppressHydrationWarning!==!0&&sc(d.textContent,C,i),m=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&sc(d.textContent,C,i),m=["children",""+C]):s.hasOwnProperty(T)&&C!=null&&T==="onScroll"&&Qe("scroll",d)}switch(l){case"input":Mr(d),bu(d,v,!0);break;case"textarea":Mr(d),Fa(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=oc)}d=m,o.updateQueue=d,d!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=wt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=T.createElement(l,{is:d.is}):(i=T.createElement(l),l==="select"&&(T=i,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):i=T.createElementNS(i,l),i[fr]=o,i[fl]=d,Lv(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ha(l,d),l){case"dialog":Qe("cancel",i),Qe("close",i),m=d;break;case"iframe":case"object":case"embed":Qe("load",i),m=d;break;case"video":case"audio":for(m=0;m<cl.length;m++)Qe(cl[m],i);m=d;break;case"source":Qe("error",i),m=d;break;case"img":case"image":case"link":Qe("error",i),Qe("load",i),m=d;break;case"details":Qe("toggle",i),m=d;break;case"input":ao(i,d),m=cs(i,d),Qe("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=te({},d,{value:void 0}),Qe("invalid",i);break;case"textarea":uo(i,d),m=Oa(i,d),Qe("invalid",i);break;default:m=d}$a(l,m),C=m;for(v in C)if(C.hasOwnProperty(v)){var M=C[v];v==="style"?Ba(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ja(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&pi(i,M):typeof M=="number"&&pi(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Qe("scroll",i):M!=null&&K(i,v,M,T))}switch(l){case"input":Mr(i),bu(i,d,!1);break;case"textarea":Mr(i),Fa(i);break;case"option":d.value!=null&&i.setAttribute("value",""+Ue(d.value));break;case"select":i.multiple=!!d.multiple,v=d.value,v!=null?Or(i,!!d.multiple,v,!1):d.defaultValue!=null&&Or(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=oc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Wt(o),null;case 6:if(i&&o.stateNode!=null)Fv(i,o,i.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=bs(vl.current),bs(pr.current),fc(o)){if(d=o.stateNode,l=o.memoizedProps,d[fr]=o,(v=d.nodeValue!==l)&&(i=vn,i!==null))switch(i.tag){case 3:sc(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&sc(d.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[fr]=o,o.stateNode=d}return Wt(o),null;case 13:if(Ye(rt),d=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(nt&&_n!==null&&(o.mode&1)!==0&&(o.flags&128)===0)By(),$o(),o.flags|=98560,v=!1;else if(v=fc(o),d!==null&&d.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[fr]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Wt(o),v=!1}else Gn!==null&&($f(Gn),Gn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(rt.current&1)!==0?It===0&&(It=3):qf())),o.updateQueue!==null&&(o.flags|=4),Wt(o),null);case 4:return Ko(),Nf(i,o),i===null&&hl(o.stateNode.containerInfo),Wt(o),null;case 10:return of(o.type._context),Wt(o),null;case 17:return ln(o.type)&&lc(),Wt(o),null;case 19:if(Ye(rt),v=o.memoizedState,v===null)return Wt(o),null;if(d=(o.flags&128)!==0,T=v.rendering,T===null)if(d)Sl(v,!1);else{if(It!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=_c(i),T!==null){for(o.flags|=128,Sl(v,!1),d=T.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)v=l,i=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(rt,rt.current&1|2),o.child}i=i.sibling}v.tail!==null&&qe()>Xo&&(o.flags|=128,d=!0,Sl(v,!1),o.lanes=4194304)}else{if(!d)if(i=_c(T),i!==null){if(o.flags|=128,d=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),Sl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!nt)return Wt(o),null}else 2*qe()-v.renderingStartTime>Xo&&l!==1073741824&&(o.flags|=128,d=!0,Sl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(l=v.last,l!==null?l.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=qe(),o.sibling=null,l=rt.current,Ke(rt,d?l&1|2:l&1),o):(Wt(o),null);case 22:case 23:return Wf(),d=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(o.flags|=8192),d&&(o.mode&1)!==0?(wn&1073741824)!==0&&(Wt(o),o.subtreeFlags&6&&(o.flags|=8192)):Wt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function UI(i,o){switch(Zd(o),o.tag){case 1:return ln(o.type)&&lc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ko(),Ye(an),Ye($t),ff(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return hf(o),null;case 13:if(Ye(rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));$o()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(rt),null;case 4:return Ko(),null;case 10:return of(o.type._context),null;case 22:case 23:return Wf(),null;case 24:return null;default:return null}}var Cc=!1,qt=!1,BI=typeof WeakSet=="function"?WeakSet:Set,he=null;function Qo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ut(i,o,d)}else l.current=null}function Df(i,o,l){try{l()}catch(d){ut(i,o,d)}}var jv=!1;function zI(i,o){if(Hd=Ti,i=yy(),Ld(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,C=-1,M=-1,W=0,ne=0,re=i,ee=null;t:for(;;){for(var ue;re!==l||m!==0&&re.nodeType!==3||(C=T+m),re!==v||d!==0&&re.nodeType!==3||(M=T+d),re.nodeType===3&&(T+=re.nodeValue.length),(ue=re.firstChild)!==null;)ee=re,re=ue;for(;;){if(re===i)break t;if(ee===l&&++W===m&&(C=T),ee===v&&++ne===d&&(M=T),(ue=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ue}l=C===-1||M===-1?null:{start:C,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wd={focusedElem:i,selectionRange:l},Ti=!1,he=o;he!==null;)if(o=he,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,he=i;else for(;he!==null;){o=he;try{var de=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,ft=de.memoizedState,$=o.stateNode,j=$.getSnapshotBeforeUpdate(o.elementType===o.type?fe:Qn(o.type,fe),ft);$.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var H=o.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ut(o,o.return,se)}if(i=o.sibling,i!==null){i.return=o.return,he=i;break}he=o.return}return de=jv,jv=!1,de}function Il(i,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Df(o,l,v)}m=m.next}while(m!==d)}}function Rc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function Vf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Uv(i){var o=i.alternate;o!==null&&(i.alternate=null,Uv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[fr],delete o[fl],delete o[Qd],delete o[II],delete o[xI])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Bv(i){return i.tag===5||i.tag===3||i.tag===4}function zv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Bv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=oc));else if(d!==4&&(i=i.child,i!==null))for(Mf(i,o,l),i=i.sibling;i!==null;)Mf(i,o,l),i=i.sibling}function Lf(i,o,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Lf(i,o,l),i=i.sibling;i!==null;)Lf(i,o,l),i=i.sibling}var Ot=null,Yn=!1;function bi(i,o,l){for(l=l.child;l!==null;)$v(i,o,l),l=l.sibling}function $v(i,o,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(_s,l)}catch{}switch(l.tag){case 5:qt||Qo(l,o);case 6:var d=Ot,m=Yn;Ot=null,bi(i,o,l),Ot=d,Yn=m,Ot!==null&&(Yn?(i=Ot,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Ot.removeChild(l.stateNode));break;case 18:Ot!==null&&(Yn?(i=Ot,l=l.stateNode,i.nodeType===8?Gd(i.parentNode,l):i.nodeType===1&&Gd(i,l),Wn(i)):Gd(Ot,l.stateNode));break;case 4:d=Ot,m=Yn,Ot=l.stateNode.containerInfo,Yn=!0,bi(i,o,l),Ot=d,Yn=m;break;case 0:case 11:case 14:case 15:if(!qt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Df(l,o,T),m=m.next}while(m!==d)}bi(i,o,l);break;case 1:if(!qt&&(Qo(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(C){ut(l,o,C)}bi(i,o,l);break;case 21:bi(i,o,l);break;case 22:l.mode&1?(qt=(d=qt)||l.memoizedState!==null,bi(i,o,l),qt=d):bi(i,o,l);break;default:bi(i,o,l)}}function Hv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new BI),o.forEach(function(d){var m=XI.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Xn(i,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=i,T=o,C=T;e:for(;C!==null;){switch(C.tag){case 5:Ot=C.stateNode,Yn=!1;break e;case 3:Ot=C.stateNode.containerInfo,Yn=!0;break e;case 4:Ot=C.stateNode.containerInfo,Yn=!0;break e}C=C.return}if(Ot===null)throw Error(t(160));$v(v,T,m),Ot=null,Yn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(W){ut(m,o,W)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Wv(o,i),o=o.sibling}function Wv(i,o){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Xn(o,i),gr(i),d&4){try{Il(3,i,i.return),Rc(3,i)}catch(fe){ut(i,i.return,fe)}try{Il(5,i,i.return)}catch(fe){ut(i,i.return,fe)}}break;case 1:Xn(o,i),gr(i),d&512&&l!==null&&Qo(l,l.return);break;case 5:if(Xn(o,i),gr(i),d&512&&l!==null&&Qo(l,l.return),i.flags&32){var m=i.stateNode;try{pi(m,"")}catch(fe){ut(i,i.return,fe)}}if(d&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,C=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Ma(m,v),Ha(C,T);var W=Ha(C,v);for(T=0;T<M.length;T+=2){var ne=M[T],re=M[T+1];ne==="style"?Ba(m,re):ne==="dangerouslySetInnerHTML"?ja(m,re):ne==="children"?pi(m,re):K(m,ne,re,W)}switch(C){case"input":La(m,v);break;case"textarea":co(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ue=v.value;ue!=null?Or(m,!!v.multiple,ue,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Or(m,!!v.multiple,v.defaultValue,!0):Or(m,!!v.multiple,v.multiple?[]:"",!1))}m[fl]=v}catch(fe){ut(i,i.return,fe)}}break;case 6:if(Xn(o,i),gr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(fe){ut(i,i.return,fe)}}break;case 3:if(Xn(o,i),gr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Wn(o.containerInfo)}catch(fe){ut(i,i.return,fe)}break;case 4:Xn(o,i),gr(i);break;case 13:Xn(o,i),gr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(jf=qe())),d&4&&Hv(i);break;case 22:if(ne=l!==null&&l.memoizedState!==null,i.mode&1?(qt=(W=qt)||ne,Xn(o,i),qt=W):Xn(o,i),gr(i),d&8192){if(W=i.memoizedState!==null,(i.stateNode.isHidden=W)&&!ne&&(i.mode&1)!==0)for(he=i,ne=i.child;ne!==null;){for(re=he=ne;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Il(4,ee,ee.return);break;case 1:Qo(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,de.props=o.memoizedProps,de.state=o.memoizedState,de.componentWillUnmount()}catch(fe){ut(d,l,fe)}}break;case 5:Qo(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Gv(re);continue}}ue!==null?(ue.return=ee,he=ue):Gv(re)}ne=ne.sibling}e:for(ne=null,re=i;;){if(re.tag===5){if(ne===null){ne=re;try{m=re.stateNode,W?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=re.stateNode,M=re.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,C.style.display=Ua("display",T))}catch(fe){ut(i,i.return,fe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=W?"":re.memoizedProps}catch(fe){ut(i,i.return,fe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===i)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===i)break e;for(;re.sibling===null;){if(re.return===null||re.return===i)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Xn(o,i),gr(i),d&4&&Hv(i);break;case 21:break;default:Xn(o,i),gr(i)}}function gr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Bv(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(pi(m,""),d.flags&=-33);var v=zv(i);Lf(i,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,C=zv(i);Mf(i,C,T);break;default:throw Error(t(161))}}catch(M){ut(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function $I(i,o,l){he=i,qv(i)}function qv(i,o,l){for(var d=(i.mode&1)!==0;he!==null;){var m=he,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Cc;if(!T){var C=m.alternate,M=C!==null&&C.memoizedState!==null||qt;C=Cc;var W=qt;if(Cc=T,(qt=M)&&!W)for(he=m;he!==null;)T=he,M=T.child,T.tag===22&&T.memoizedState!==null?Qv(m):M!==null?(M.return=T,he=M):Qv(m);for(;v!==null;)he=v,qv(v),v=v.sibling;he=m,Cc=C,qt=W}Kv(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,he=v):Kv(i)}}function Kv(i){for(;he!==null;){var o=he;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:qt||Rc(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!qt)if(l===null)d.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:Qn(o.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Gy(o,v,d);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Gy(o,T,l)}break;case 5:var C=o.stateNode;if(l===null&&o.flags&4){l=C;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var W=o.alternate;if(W!==null){var ne=W.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Wn(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||o.flags&512&&Vf(o)}catch(ee){ut(o,o.return,ee)}}if(o===i){he=null;break}if(l=o.sibling,l!==null){l.return=o.return,he=l;break}he=o.return}}function Gv(i){for(;he!==null;){var o=he;if(o===i){he=null;break}var l=o.sibling;if(l!==null){l.return=o.return,he=l;break}he=o.return}}function Qv(i){for(;he!==null;){var o=he;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Rc(4,o)}catch(M){ut(o,l,M)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var m=o.return;try{d.componentDidMount()}catch(M){ut(o,m,M)}}var v=o.return;try{Vf(o)}catch(M){ut(o,v,M)}break;case 5:var T=o.return;try{Vf(o)}catch(M){ut(o,T,M)}}}catch(M){ut(o,o.return,M)}if(o===i){he=null;break}var C=o.sibling;if(C!==null){C.return=o.return,he=C;break}he=o.return}}var HI=Math.ceil,kc=J.ReactCurrentDispatcher,Of=J.ReactCurrentOwner,bn=J.ReactCurrentBatchConfig,Oe=0,Nt=null,yt=null,Ft=0,wn=0,Yo=Pi(0),It=0,xl=null,Ds=0,bc=0,Ff=0,Pl=null,cn=null,jf=0,Xo=1/0,Jr=null,Nc=!1,Uf=null,Ni=null,Dc=!1,Di=null,Vc=0,Al=0,Bf=null,Mc=-1,Lc=0;function nn(){return(Oe&6)!==0?qe():Mc!==-1?Mc:Mc=qe()}function Vi(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Ft!==0?Ft&-Ft:AI.transition!==null?(Lc===0&&(Lc=Es()),Lc):(i=De,i!==0||(i=window.event,i=i===void 0?16:tl(i.type)),i)}function Jn(i,o,l,d){if(50<Al)throw Al=0,Bf=null,Error(t(185));vi(i,l,d),((Oe&2)===0||i!==Nt)&&(i===Nt&&((Oe&2)===0&&(bc|=l),It===4&&Mi(i,Ft)),hn(i,d),l===1&&Oe===0&&(o.mode&1)===0&&(Xo=qe()+500,cc&&Ci()))}function hn(i,o){var l=i.callbackNode;Ur(i,o);var d=ws(i,i===Nt?Ft:0);if(d===0)l!==null&&Ya(l),i.callbackNode=null,i.callbackPriority=0;else if(o=d&-d,i.callbackPriority!==o){if(l!=null&&Ya(l),o===1)i.tag===0?PI(Xv.bind(null,i)):Ly(Xv.bind(null,i)),TI(function(){(Oe&6)===0&&Ci()}),l=null;else{switch(wi(d)){case 1:l=vs;break;case 4:l=mi;break;case 16:l=In;break;case 536870912:l=Lu;break;default:l=In}l=s0(l,Yv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Yv(i,o){if(Mc=-1,Lc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Jo()&&i.callbackNode!==l)return null;var d=ws(i,i===Nt?Ft:0);if(d===0)return null;if((d&30)!==0||(d&i.expiredLanes)!==0||o)o=Oc(i,d);else{o=d;var m=Oe;Oe|=2;var v=Zv();(Nt!==i||Ft!==o)&&(Jr=null,Xo=qe()+500,Ms(i,o));do try{KI();break}catch(C){Jv(i,C)}while(!0);sf(),kc.current=v,Oe=m,yt!==null?o=0:(Nt=null,Ft=0,o=It)}if(o!==0){if(o===2&&(m=mn(i),m!==0&&(d=m,o=zf(i,m))),o===1)throw l=xl,Ms(i,0),Mi(i,d),hn(i,qe()),l;if(o===6)Mi(i,d);else{if(m=i.current.alternate,(d&30)===0&&!WI(m)&&(o=Oc(i,d),o===2&&(v=mn(i),v!==0&&(d=v,o=zf(i,v))),o===1))throw l=xl,Ms(i,0),Mi(i,d),hn(i,qe()),l;switch(i.finishedWork=m,i.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Ls(i,cn,Jr);break;case 3:if(Mi(i,d),(d&130023424)===d&&(o=jf+500-qe(),10<o)){if(ws(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Kd(Ls.bind(null,i,cn,Jr),o);break}Ls(i,cn,Jr);break;case 4:if(Mi(i,d),(d&4194240)===d)break;for(o=i.eventTimes,m=-1;0<d;){var T=31-Zt(d);v=1<<T,T=o[T],T>m&&(m=T),d&=~v}if(d=m,d=qe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*HI(d/1960))-d,10<d){i.timeoutHandle=Kd(Ls.bind(null,i,cn,Jr),d);break}Ls(i,cn,Jr);break;case 5:Ls(i,cn,Jr);break;default:throw Error(t(329))}}}return hn(i,qe()),i.callbackNode===l?Yv.bind(null,i):null}function zf(i,o){var l=Pl;return i.current.memoizedState.isDehydrated&&(Ms(i,o).flags|=256),i=Oc(i,o),i!==2&&(o=cn,cn=l,o!==null&&$f(o)),i}function $f(i){cn===null?cn=i:cn.push.apply(cn,i)}function WI(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Kn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Mi(i,o){for(o&=~Ff,o&=~bc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-Zt(o),d=1<<l;i[l]=-1,o&=~d}}function Xv(i){if((Oe&6)!==0)throw Error(t(327));Jo();var o=ws(i,0);if((o&1)===0)return hn(i,qe()),null;var l=Oc(i,o);if(i.tag!==0&&l===2){var d=mn(i);d!==0&&(o=d,l=zf(i,d))}if(l===1)throw l=xl,Ms(i,0),Mi(i,o),hn(i,qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ls(i,cn,Jr),hn(i,qe()),null}function Hf(i,o){var l=Oe;Oe|=1;try{return i(o)}finally{Oe=l,Oe===0&&(Xo=qe()+500,cc&&Ci())}}function Vs(i){Di!==null&&Di.tag===0&&(Oe&6)===0&&Jo();var o=Oe;Oe|=1;var l=bn.transition,d=De;try{if(bn.transition=null,De=1,i)return i()}finally{De=d,bn.transition=l,Oe=o,(Oe&6)===0&&Ci()}}function Wf(){wn=Yo.current,Ye(Yo)}function Ms(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,EI(l)),yt!==null)for(l=yt.return;l!==null;){var d=l;switch(Zd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&lc();break;case 3:Ko(),Ye(an),Ye($t),ff();break;case 5:hf(d);break;case 4:Ko();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:of(d.type._context);break;case 22:case 23:Wf()}l=l.return}if(Nt=i,yt=i=Li(i.current,null),Ft=wn=o,It=0,xl=null,Ff=bc=Ds=0,cn=Pl=null,ks!==null){for(o=0;o<ks.length;o++)if(l=ks[o],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}l.pending=d}ks=null}return i}function Jv(i,o){do{var l=yt;try{if(sf(),wc.current=Ic,Ec){for(var d=it.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Ec=!1}if(Ns=0,bt=St=it=null,_l=!1,wl=0,Of.current=null,l===null||l.return===null){It=1,xl=o,yt=null;break}e:{var v=i,T=l.return,C=l,M=o;if(o=Ft,C.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var W=M,ne=C,re=ne.tag;if((ne.mode&1)===0&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ue=Sv(T);if(ue!==null){ue.flags&=-257,Iv(ue,T,C,v,o),ue.mode&1&&Tv(v,W,o),o=ue,M=W;var de=o.updateQueue;if(de===null){var fe=new Set;fe.add(M),o.updateQueue=fe}else de.add(M);break e}else{if((o&1)===0){Tv(v,W,o),qf();break e}M=Error(t(426))}}else if(nt&&C.mode&1){var ft=Sv(T);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Iv(ft,T,C,v,o),nf(Go(M,C));break e}}v=M=Go(M,C),It!==4&&(It=2),Pl===null?Pl=[v]:Pl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var $=wv(v,M,o);Ky(v,$);break e;case 1:C=M;var j=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Ni===null||!Ni.has(H)))){v.flags|=65536,o&=-o,v.lanes|=o;var se=Ev(v,C,o);Ky(v,se);break e}}v=v.return}while(v!==null)}t0(l)}catch(ge){o=ge,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Zv(){var i=kc.current;return kc.current=Ic,i===null?Ic:i}function qf(){(It===0||It===3||It===2)&&(It=4),Nt===null||(Ds&268435455)===0&&(bc&268435455)===0||Mi(Nt,Ft)}function Oc(i,o){var l=Oe;Oe|=2;var d=Zv();(Nt!==i||Ft!==o)&&(Jr=null,Ms(i,o));do try{qI();break}catch(m){Jv(i,m)}while(!0);if(sf(),Oe=l,kc.current=d,yt!==null)throw Error(t(261));return Nt=null,Ft=0,It}function qI(){for(;yt!==null;)e0(yt)}function KI(){for(;yt!==null&&!Vu();)e0(yt)}function e0(i){var o=i0(i.alternate,i,wn);i.memoizedProps=i.pendingProps,o===null?t0(i):yt=o,Of.current=null}function t0(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=jI(l,o,wn),l!==null){yt=l;return}}else{if(l=UI(l,o),l!==null){l.flags&=32767,yt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{It=6,yt=null;return}}if(o=o.sibling,o!==null){yt=o;return}yt=o=i}while(o!==null);It===0&&(It=5)}function Ls(i,o,l){var d=De,m=bn.transition;try{bn.transition=null,De=1,GI(i,o,l,d)}finally{bn.transition=m,De=d}return null}function GI(i,o,l,d){do Jo();while(Di!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(He(i,v),i===Nt&&(yt=Nt=null,Ft=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Dc||(Dc=!0,s0(In,function(){return Jo(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=bn.transition,bn.transition=null;var T=De;De=1;var C=Oe;Oe|=4,Of.current=null,zI(i,l),Wv(l,i),pI(Wd),Ti=!!Hd,Wd=Hd=null,i.current=l,$I(l),Cd(),Oe=C,De=T,bn.transition=v}else i.current=l;if(Dc&&(Dc=!1,Di=i,Vc=m),v=i.pendingLanes,v===0&&(Ni=null),Ou(l.stateNode),hn(i,qe()),o!==null)for(d=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Nc)throw Nc=!1,i=Uf,Uf=null,i;return(Vc&1)!==0&&i.tag!==0&&Jo(),v=i.pendingLanes,(v&1)!==0?i===Bf?Al++:(Al=0,Bf=i):Al=0,Ci(),null}function Jo(){if(Di!==null){var i=wi(Vc),o=bn.transition,l=De;try{if(bn.transition=null,De=16>i?16:i,Di===null)var d=!1;else{if(i=Di,Di=null,Vc=0,(Oe&6)!==0)throw Error(t(331));var m=Oe;for(Oe|=4,he=i.current;he!==null;){var v=he,T=v.child;if((he.flags&16)!==0){var C=v.deletions;if(C!==null){for(var M=0;M<C.length;M++){var W=C[M];for(he=W;he!==null;){var ne=he;switch(ne.tag){case 0:case 11:case 15:Il(8,ne,v)}var re=ne.child;if(re!==null)re.return=ne,he=re;else for(;he!==null;){ne=he;var ee=ne.sibling,ue=ne.return;if(Uv(ne),ne===W){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=v.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var ft=fe.sibling;fe.sibling=null,fe=ft}while(fe!==null)}}he=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,he=T;else e:for(;he!==null;){if(v=he,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Il(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,he=$;break e}he=v.return}}var j=i.current;for(he=j;he!==null;){T=he;var H=T.child;if((T.subtreeFlags&2064)!==0&&H!==null)H.return=T,he=H;else e:for(T=j;he!==null;){if(C=he,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Rc(9,C)}}catch(ge){ut(C,C.return,ge)}if(C===T){he=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,he=se;break e}he=C.return}}if(Oe=m,Ci(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(_s,i)}catch{}d=!0}return d}finally{De=l,bn.transition=o}}return!1}function n0(i,o,l){o=Go(l,o),o=wv(i,o,1),i=ki(i,o,1),o=nn(),i!==null&&(vi(i,1,o),hn(i,o))}function ut(i,o,l){if(i.tag===3)n0(i,i,l);else for(;o!==null;){if(o.tag===3){n0(o,i,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ni===null||!Ni.has(d))){i=Go(l,i),i=Ev(o,i,1),o=ki(o,i,1),i=nn(),o!==null&&(vi(o,1,i),hn(o,i));break}}o=o.return}}function QI(i,o,l){var d=i.pingCache;d!==null&&d.delete(o),o=nn(),i.pingedLanes|=i.suspendedLanes&l,Nt===i&&(Ft&l)===l&&(It===4||It===3&&(Ft&130023424)===Ft&&500>qe()-jf?Ms(i,0):Ff|=l),hn(i,o)}function r0(i,o){o===0&&((i.mode&1)===0?o=1:(o=Eo,Eo<<=1,(Eo&130023424)===0&&(Eo=4194304)));var l=nn();i=Qr(i,o),i!==null&&(vi(i,o,l),hn(i,l))}function YI(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),r0(i,l)}function XI(i,o){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),r0(i,l)}var i0;i0=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||an.current)un=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return un=!1,FI(i,o,l);un=(i.flags&131072)!==0}else un=!1,nt&&(o.flags&1048576)!==0&&Oy(o,dc,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Ac(i,o),i=o.pendingProps;var m=Uo(o,$t.current);qo(o,l),m=gf(null,o,d,i,m,l);var v=yf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ln(d)?(v=!0,uc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,uf(o),m.updater=xc,o.stateNode=m,m._reactInternals=o,Sf(o,d,i,l),o=Af(null,o,d,!0,v,l)):(o.tag=0,nt&&v&&Jd(o),tn(null,o,m,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Ac(i,o),i=o.pendingProps,m=d._init,d=m(d._payload),o.type=d,m=o.tag=ZI(d),i=Qn(d,i),m){case 0:o=Pf(null,o,d,i,l);break e;case 1:o=kv(null,o,d,i,l);break e;case 11:o=xv(null,o,d,i,l);break e;case 14:o=Pv(null,o,d,Qn(d.type,i),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),Pf(i,o,d,m,l);case 1:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),kv(i,o,d,m,l);case 3:e:{if(bv(o),i===null)throw Error(t(387));d=o.pendingProps,v=o.memoizedState,m=v.element,qy(i,o),vc(o,d,null,l);var T=o.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Go(Error(t(423)),o),o=Nv(i,o,d,l,m);break e}else if(d!==m){m=Go(Error(t(424)),o),o=Nv(i,o,d,l,m);break e}else for(_n=xi(o.stateNode.containerInfo.firstChild),vn=o,nt=!0,Gn=null,l=Hy(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($o(),d===m){o=Xr(i,o,l);break e}tn(i,o,d,l)}o=o.child}return o;case 5:return Qy(o),i===null&&tf(o),d=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,T=m.children,qd(d,m)?T=null:v!==null&&qd(d,v)&&(o.flags|=32),Rv(i,o),tn(i,o,T,l),o.child;case 6:return i===null&&tf(o),null;case 13:return Dv(i,o,l);case 4:return cf(o,o.stateNode.containerInfo),d=o.pendingProps,i===null?o.child=Ho(o,null,d,l):tn(i,o,d,l),o.child;case 11:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),xv(i,o,d,m,l);case 7:return tn(i,o,o.pendingProps,l),o.child;case 8:return tn(i,o,o.pendingProps.children,l),o.child;case 12:return tn(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Ke(mc,d._currentValue),d._currentValue=T,v!==null)if(Kn(v.value,T)){if(v.children===m.children&&!an.current){o=Xr(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var C=v.dependencies;if(C!==null){T=v.child;for(var M=C.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=Yr(-1,l&-l),M.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var ne=W.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),W.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),af(v.return,l,o),C.lanes|=l;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,C=T.alternate,C!==null&&(C.lanes|=l),af(T,l,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}tn(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,d=o.pendingProps.children,qo(o,l),m=Rn(m),d=d(m),o.flags|=1,tn(i,o,d,l),o.child;case 14:return d=o.type,m=Qn(d,o.pendingProps),m=Qn(d.type,m),Pv(i,o,d,m,l);case 15:return Av(i,o,o.type,o.pendingProps,l);case 17:return d=o.type,m=o.pendingProps,m=o.elementType===d?m:Qn(d,m),Ac(i,o),o.tag=1,ln(d)?(i=!0,uc(o)):i=!1,qo(o,l),vv(o,d,m),Sf(o,d,m,l),Af(null,o,d,!0,i,l);case 19:return Mv(i,o,l);case 22:return Cv(i,o,l)}throw Error(t(156,o.tag))};function s0(i,o){return _o(i,o)}function JI(i,o,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,o,l,d){return new JI(i,o,l,d)}function Kf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ZI(i){if(typeof i=="function")return Kf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===ht)return 14}return 2}function Li(i,o){var l=i.alternate;return l===null?(l=Nn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Fc(i,o,l,d,m,v){var T=2;if(d=i,typeof i=="function")Kf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case N:return Os(l.children,m,v,o);case I:T=8,m|=8;break;case A:return i=Nn(12,l,o,m|2),i.elementType=A,i.lanes=v,i;case R:return i=Nn(13,l,o,m),i.elementType=R,i.lanes=v,i;case Be:return i=Nn(19,l,o,m),i.elementType=Be,i.lanes=v,i;case Se:return jc(l,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case O:T=9;break e;case B:T=11;break e;case ht:T=14;break e;case lt:T=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Nn(T,l,o,m),o.elementType=i,o.type=d,o.lanes=v,o}function Os(i,o,l,d){return i=Nn(7,i,d,o),i.lanes=l,i}function jc(i,o,l,d){return i=Nn(22,i,d,o),i.elementType=Se,i.lanes=l,i.stateNode={isHidden:!1},i}function Gf(i,o,l){return i=Nn(6,i,null,o),i.lanes=l,i}function Qf(i,o,l){return o=Nn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function ex(i,o,l,d,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yf(i,o,l,d,m,v,T,C,M){return i=new ex(i,o,l,C,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Nn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},uf(v),i}function tx(i,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:d==null?null:""+d,children:i,containerInfo:o,implementation:l}}function o0(i){if(!i)return Ai;i=i._reactInternals;e:{if(Un(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(ln(l))return Vy(i,l,o)}return o}function a0(i,o,l,d,m,v,T,C,M){return i=Yf(l,d,!0,i,m,v,T,C,M),i.context=o0(null),l=i.current,d=nn(),m=Vi(l),v=Yr(d,m),v.callback=o??null,ki(l,v,m),i.current.lanes=m,vi(i,m,d),hn(i,d),i}function Uc(i,o,l,d){var m=o.current,v=nn(),T=Vi(m);return l=o0(l),o.context===null?o.context=l:o.pendingContext=l,o=Yr(v,T),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=ki(m,o,T),i!==null&&(Jn(i,m,T,v),yc(i,m,T)),T}function Bc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function l0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Xf(i,o){l0(i,o),(i=i.alternate)&&l0(i,o)}function nx(){return null}var u0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Jf(i){this._internalRoot=i}zc.prototype.render=Jf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Uc(i,o,null,null)},zc.prototype.unmount=Jf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Vs(function(){Uc(null,i,null,null)}),o[Wr]=null}};function zc(i){this._internalRoot=i}zc.prototype.unstable_scheduleHydration=function(i){if(i){var o=zu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<ur.length&&o!==0&&o<ur[l].priority;l++);ur.splice(l,0,i),l===0&&Wu(i)}};function Zf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function $c(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function c0(){}function rx(i,o,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var W=Bc(T);v.call(W)}}var T=a0(o,d,i,0,null,!1,!1,"",c0);return i._reactRootContainer=T,i[Wr]=T.current,hl(i.nodeType===8?i.parentNode:i),Vs(),T}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var C=d;d=function(){var W=Bc(M);C.call(W)}}var M=Yf(i,0,!1,null,null,!1,!1,"",c0);return i._reactRootContainer=M,i[Wr]=M.current,hl(i.nodeType===8?i.parentNode:i),Vs(function(){Uc(o,M,l,d)}),M}function Hc(i,o,l,d,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var C=m;m=function(){var M=Bc(T);C.call(M)}}Uc(o,T,i,m)}else T=rx(l,o,i,m,d);return Bc(T)}Uu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=gi(o.pendingLanes);l!==0&&(_i(o,l|1),hn(o,qe()),(Oe&6)===0&&(Xo=qe()+500,Ci()))}break;case 13:Vs(function(){var d=Qr(i,1);if(d!==null){var m=nn();Jn(d,i,1,m)}}),Xf(i,1)}},To=function(i){if(i.tag===13){var o=Qr(i,134217728);if(o!==null){var l=nn();Jn(o,i,134217728,l)}Xf(i,134217728)}},Bu=function(i){if(i.tag===13){var o=Vi(i),l=Qr(i,o);if(l!==null){var d=nn();Jn(l,i,o,d)}Xf(i,o)}},zu=function(){return De},$u=function(i,o){var l=De;try{return De=i,o()}finally{De=l}},fo=function(i,o,l){switch(o){case"input":if(La(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==i&&d.form===i.form){var m=ac(d);if(!m)throw Error(t(90));oo(d),La(d,m)}}}break;case"textarea":co(i,l);break;case"select":o=l.value,o!=null&&Or(i,!!l.multiple,o,!1)}},ps=Hf,qa=Vs;var ix={usingClientEntryPoint:!1,Events:[pl,Fo,ac,ar,Wa,Hf]},Cl={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sx={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Qa(i),i===null?null:i.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{_s=Wc.inject(sx),pn=Wc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix,dn.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zf(o))throw Error(t(200));return tx(i,o,null,l)},dn.createRoot=function(i,o){if(!Zf(i))throw Error(t(299));var l=!1,d="",m=u0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Yf(i,1,!1,null,null,l,!1,d,m),i[Wr]=o.current,hl(i.nodeType===8?i.parentNode:i),new Jf(o)},dn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Qa(o),i=i===null?null:i.stateNode,i},dn.flushSync=function(i){return Vs(i)},dn.hydrate=function(i,o,l){if(!$c(o))throw Error(t(200));return Hc(null,i,o,!0,l)},dn.hydrateRoot=function(i,o,l){if(!Zf(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",T=u0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=a0(o,null,i,1,l??null,m,!1,v,T),i[Wr]=o.current,hl(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new zc(o)},dn.render=function(i,o,l){if(!$c(o))throw Error(t(200));return Hc(null,i,o,!1,l)},dn.unmountComponentAtNode=function(i){if(!$c(i))throw Error(t(40));return i._reactRootContainer?(Vs(function(){Hc(null,null,i,!1,function(){i._reactRootContainer=null,i[Wr]=null})}),!0):!1},dn.unstable_batchedUpdates=Hf,dn.unstable_renderSubtreeIntoContainer=function(i,o,l,d){if(!$c(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Hc(i,o,l,!1,d)},dn.version="18.3.1-next-f1338f8080-20240426",dn}var v0;function fx(){if(v0)return np.exports;v0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),np.exports=dx(),np.exports}var _0;function px(){if(_0)return qc;_0=1;var n=fx();return qc.createRoot=n.createRoot,qc.hydrateRoot=n.hydrateRoot,qc}var mx=px();const gx=Sw(mx),yx="modulepreload",vx=function(n){return"/Costas_Portfolio/"+n},w0={},_x=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=u?.nonce||u?.getAttribute("nonce");s=f(t.map(p=>{if(p=vx(p),p in w0)return;w0[p]=!0;const g=p.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const E=document.createElement("link");if(E.rel=g?"stylesheet":yx,g||(E.as="script"),E.crossOrigin="",E.href=p,h&&E.setAttribute("nonce",h),document.head.appendChild(E),g)return new Promise((x,b)=>{E.addEventListener("load",x),E.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return s.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E0="popstate";function wx(n={}){function e(r,s){let{pathname:a,search:u,hash:h}=r.location;return Vp("",{pathname:a,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Jl(s)}return Tx(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Cr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ex(){return Math.random().toString(36).substring(2,10)}function T0(n,e){return{usr:n.state,key:n.key,idx:e}}function Vp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ia(e):e,state:t,key:e&&e.key||r||Ex()}}function Jl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ia(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function Tx(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let k=g(),F=k==null?null:k-p;p=k,f&&f({action:h,location:V.location,delta:F})}function E(k,F){h="PUSH";let q=Vp(V.location,k,F);p=g()+1;let K=T0(q,p),J=V.createHref(q);try{u.pushState(K,"",J)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;s.location.assign(J)}a&&f&&f({action:h,location:V.location,delta:1})}function x(k,F){h="REPLACE";let q=Vp(V.location,k,F);p=g();let K=T0(q,p),J=V.createHref(q);u.replaceState(K,"",J),a&&f&&f({action:h,location:V.location,delta:0})}function b(k){return Sx(k)}let V={get action(){return h},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(E0,_),f=k,()=>{s.removeEventListener(E0,_),f=null}},createHref(k){return e(s,k)},createURL:b,encodeLocation(k){let F=b(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:x,go(k){return u.go(k)}};return V}function Sx(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Jl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Iw(n,e,t="/"){return Ix(n,e,t,!1)}function Ix(n,e,t,r){let s=typeof e=="string"?Ia(e):e,a=si(s.pathname||"/",t);if(a==null)return null;let u=xw(n);xx(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=Lx(a);h=Vx(u[f],p,r)}return h}function xw(n,e=[],t=[],r=""){let s=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(ot(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=ti([r,f.relativePath]),g=t.concat(f);a.children&&a.children.length>0&&(ot(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xw(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Nx(p,a.index),routesMeta:g})};return n.forEach((a,u)=>{if(a.path===""||!a.path?.includes("?"))s(a,u);else for(let h of Pw(a.path))s(a,u,h)}),e}function Pw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=Pw(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function xx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Dx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Px=/^:[\w-]+$/,Ax=3,Cx=2,Rx=1,kx=10,bx=-2,S0=n=>n==="*";function Nx(n,e){let t=n.split("/"),r=t.length;return t.some(S0)&&(r+=bx),e&&(r+=Cx),t.filter(s=>!S0(s)).reduce((s,a)=>s+(Px.test(a)?Ax:a===""?Rx:kx),r)}function Dx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function Vx(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Eh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=Eh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:ti([a,_.pathname]),pathnameBase:Ux(ti([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=ti([a,_.pathnameBase]))}return u}function Eh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Mx(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let b=h[E]||"";u=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=h[E];return _&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function Mx(n,e=!1,t=!0){Cr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Lx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function si(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Ox(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ia(n):n;return{pathname:t?t.startsWith("/")?t:Fx(t,e):e,search:Bx(r),hash:zx(s)}}function Fx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sp(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jx(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Aw(n){let e=jx(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Cw(n,e,t,r=!1){let s;typeof n=="string"?s=Ia(n):(s={...n},ot(!s.pathname||!s.pathname.includes("?"),sp("?","pathname","search",s)),ot(!s.pathname||!s.pathname.includes("#"),sp("#","pathname","hash",s)),ot(!s.search||!s.search.includes("#"),sp("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}h=_>=0?e[_]:"/"}let f=Ox(s,h),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ti=n=>n.join("/").replace(/\/\/+/g,"/"),Ux=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Bx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function $x(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Rw=["POST","PUT","PATCH","DELETE"];new Set(Rw);var Hx=["GET",...Rw];new Set(Hx);var xa=L.createContext(null);xa.displayName="DataRouter";var Jh=L.createContext(null);Jh.displayName="DataRouterState";L.createContext(!1);var kw=L.createContext({isTransitioning:!1});kw.displayName="ViewTransition";var Wx=L.createContext(new Map);Wx.displayName="Fetchers";var qx=L.createContext(null);qx.displayName="Await";var Nr=L.createContext(null);Nr.displayName="Navigation";var pu=L.createContext(null);pu.displayName="Location";var di=L.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Pm=L.createContext(null);Pm.displayName="RouteError";function Kx(n,{relative:e}={}){ot(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(Nr),{hash:s,pathname:a,search:u}=gu(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ti([t,a])),r.createHref({pathname:h,search:u,hash:s})}function mu(){return L.useContext(pu)!=null}function Xs(){return ot(mu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(pu).location}var bw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nw(n){L.useContext(Nr).static||L.useLayoutEffect(n)}function Dw(){let{isDataRoute:n}=L.useContext(di);return n?oP():Gx()}function Gx(){ot(mu(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(xa),{basename:e,navigator:t}=L.useContext(Nr),{matches:r}=L.useContext(di),{pathname:s}=Xs(),a=JSON.stringify(Aw(r)),u=L.useRef(!1);return Nw(()=>{u.current=!0}),L.useCallback((f,p={})=>{if(Cr(u.current,bw),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=Cw(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ti([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}L.createContext(null);function gu(n,{relative:e}={}){let{matches:t}=L.useContext(di),{pathname:r}=Xs(),s=JSON.stringify(Aw(t));return L.useMemo(()=>Cw(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function Qx(n,e){return Vw(n,e)}function Vw(n,e,t,r){ot(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=L.useContext(Nr),{matches:a}=L.useContext(di),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let F=g&&g.path||"";Mw(f,!g||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=Xs(),E;if(e){let F=typeof e=="string"?Ia(e):e;ot(p==="/"||F.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),E=F}else E=_;let x=E.pathname||"/",b=x;if(p!=="/"){let F=p.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=Iw(n,{pathname:b});Cr(g||V!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Cr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=eP(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:ti([p,s.encodeLocation?s.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:ti([p,s.encodeLocation?s.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,r);return e&&k?L.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function Yx(){let n=sP(),e=$x(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:a},"ErrorBoundary")," or"," ",L.createElement("code",{style:a},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:s},t):null,u)}var Xx=L.createElement(Yx,null),Jx=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(di.Provider,{value:this.props.routeContext},L.createElement(Pm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Zx({routeContext:n,match:e,children:t}){let r=L.useContext(xa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(di.Provider,{value:n},t)}function eP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t?.errors;if(a!=null){let f=s.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);ot(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:g,errors:_}=t,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,p,g)=>{let _,E=!1,x=null,b=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||Xx,u&&(h<0&&g===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,b=null):h===g&&(E=!0,b=p.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,g+1)),k=()=>{let F;return _?F=x:E?F=b:p.route.Component?F=L.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,L.createElement(Zx,{match:p,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:F})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?L.createElement(Jx,{location:t.location,revalidation:t.revalidation,component:x,error:_,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):k()},null)}function Am(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tP(n){let e=L.useContext(xa);return ot(e,Am(n)),e}function nP(n){let e=L.useContext(Jh);return ot(e,Am(n)),e}function rP(n){let e=L.useContext(di);return ot(e,Am(n)),e}function Cm(n){let e=rP(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function iP(){return Cm("useRouteId")}function sP(){let n=L.useContext(Pm),e=nP("useRouteError"),t=Cm("useRouteError");return n!==void 0?n:e.errors?.[t]}function oP(){let{router:n}=tP("useNavigate"),e=Cm("useNavigate"),t=L.useRef(!1);return Nw(()=>{t.current=!0}),L.useCallback(async(s,a={})=>{Cr(t.current,bw),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var I0={};function Mw(n,e,t){!e&&!I0[n]&&(I0[n]=!0,Cr(!1,t))}L.memo(aP);function aP({routes:n,future:e,state:t}){return Vw(n,void 0,t,e)}function Mp(n){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){ot(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=Ia(t));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=t,x=L.useMemo(()=>{let b=si(f,u);return b==null?null:{location:{pathname:b,search:p,hash:g,state:_,key:E},navigationType:r}},[u,f,p,g,_,E,r]);return Cr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Nr.Provider,{value:h},L.createElement(pu.Provider,{children:e,value:x}))}function uP({children:n,location:e}){return Qx(Lp(n),e)}function Lp(n,e=[]){let t=[];return L.Children.forEach(n,(r,s)=>{if(!L.isValidElement(r))return;let a=[...e,s];if(r.type===L.Fragment){t.push.apply(t,Lp(r.props.children,a));return}ot(r.type===Mp,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Lp(r.props.children,a)),t.push(u)}),t}var oh="get",ah="application/x-www-form-urlencoded";function Zh(n){return n!=null&&typeof n.tagName=="string"}function cP(n){return Zh(n)&&n.tagName.toLowerCase()==="button"}function hP(n){return Zh(n)&&n.tagName.toLowerCase()==="form"}function dP(n){return Zh(n)&&n.tagName.toLowerCase()==="input"}function fP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pP(n,e){return n.button===0&&(!e||e==="_self")&&!fP(n)}var Kc=null;function mP(){if(Kc===null)try{new FormData(document.createElement("form"),0),Kc=!1}catch{Kc=!0}return Kc}var gP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function op(n){return n!=null&&!gP.has(n)?(Cr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):n}function yP(n,e){let t,r,s,a,u;if(hP(n)){let h=n.getAttribute("action");r=h?si(h,e):null,t=n.getAttribute("method")||oh,s=op(n.getAttribute("enctype"))||ah,a=new FormData(n)}else if(cP(n)||dP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?si(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||oh,s=op(n.getAttribute("formenctype"))||op(h.getAttribute("enctype"))||ah,a=new FormData(h,n),!mP()){let{name:p,type:g,value:_}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(Zh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=oh,r=null,s=ah,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vP(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&si(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function _P(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function EP(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await _P(a,t);return u.links?u.links():[]}return[]}));return xP(r.flat(1).filter(wP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function x0(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function TP(n,e,{includeHydrateFallback:t}={}){return SP(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function SP(n){return[...new Set(n)]}function IP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xP(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(IP(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function Lw(){let n=L.useContext(xa);return Rm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function PP(){let n=L.useContext(Jh);return Rm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var km=L.createContext(void 0);km.displayName="FrameworkContext";function Ow(){let n=L.useContext(km);return Rm(n,"You must render this element inside a <HydratedRouter> element"),n}function AP(n,e){let t=L.useContext(km),[r,s]=L.useState(!1),[a,u]=L.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=L.useRef(null);L.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=F=>{F.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),L.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let x=()=>{s(!0)},b=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:kl(h,x),onBlur:kl(f,b),onMouseEnter:kl(p,x),onMouseLeave:kl(g,b),onTouchStart:kl(_,x)}]:[!1,E,{}]}function kl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function CP({page:n,...e}){let{router:t}=Lw(),r=L.useMemo(()=>Iw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(kP,{page:n,matches:r,...e}):null}function RP(n){let{manifest:e,routeModules:t}=Ow(),[r,s]=L.useState([]);return L.useEffect(()=>{let a=!1;return EP(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function kP({page:n,matches:e,...t}){let r=Xs(),{manifest:s,routeModules:a}=Ow(),{basename:u}=Lw(),{loaderData:h,matches:f}=PP(),p=L.useMemo(()=>x0(n,e,f,s,r,"data"),[n,e,f,s,r]),g=L.useMemo(()=>x0(n,e,f,s,r,"assets"),[n,e,f,s,r]),_=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,V=!1;if(e.forEach(F=>{let q=s.routes[F.route.id];!q||!q.hasLoader||(!p.some(K=>K.route.id===F.route.id)&&F.route.id in h&&a[F.route.id]?.shouldRevalidate||q.hasClientLoader?V=!0:b.add(F.route.id))}),b.size===0)return[];let k=vP(n,u,"data");return V&&b.size>0&&k.searchParams.set("_routes",e.filter(F=>b.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[u,h,r,s,p,e,n,a]),E=L.useMemo(()=>TP(g,s),[g,s]),x=RP(g);return L.createElement(L.Fragment,null,_.map(b=>L.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),E.map(b=>L.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),x.map(({key:b,link:V})=>L.createElement("link",{key:b,nonce:t.nonce,...V})))}function bP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Fw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fw&&(window.__reactRouterVersion="7.8.0")}catch{}function NP({basename:n,children:e,window:t}){let r=L.useRef();r.current==null&&(r.current=wx({window:t,v5Compat:!0}));let s=r.current,[a,u]=L.useState({action:s.action,location:s.location}),h=L.useCallback(f=>{L.startTransition(()=>u(f))},[u]);return L.useLayoutEffect(()=>s.listen(h),[s,h]),L.createElement(lP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uw=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},x){let{basename:b}=L.useContext(Nr),V=typeof p=="string"&&jw.test(p),k,F=!1;if(typeof p=="string"&&V&&(k=p,Fw))try{let A=new URL(window.location.href),D=p.startsWith("//")?new URL(A.protocol+p):new URL(p),O=si(D.pathname,b);D.origin===A.origin&&O!=null?p=O+D.search+D.hash:F=!0}catch{Cr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Kx(p,{relative:s}),[K,J,X]=AP(r,E),oe=LP(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:s,viewTransition:_});function N(A){e&&e(A),A.defaultPrevented||oe(A)}let I=L.createElement("a",{...E,...X,href:k||q,onClick:F||a?e:N,ref:bP(x,J),target:f,"data-discover":!V&&t==="render"?"true":void 0});return K&&!V?L.createElement(L.Fragment,null,I,L.createElement(CP,{page:q})):I});Uw.displayName="Link";var DP=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:h,children:f,...p},g){let _=gu(u,{relative:p.relative}),E=Xs(),x=L.useContext(Jh),{navigator:b,basename:V}=L.useContext(Nr),k=x!=null&&BP(_)&&h===!0,F=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,q=E.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(q=q.toLowerCase(),K=K?K.toLowerCase():null,F=F.toLowerCase()),K&&V&&(K=si(K,V)||K);const J=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let X=q===F||!s&&q.startsWith(F)&&q.charAt(J)==="/",oe=K!=null&&(K===F||!s&&K.startsWith(F)&&K.charAt(F.length)==="/"),N={isActive:X,isPending:oe,isTransitioning:k},I=X?e:void 0,A;typeof r=="function"?A=r(N):A=[r,X?"active":null,oe?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(N):a;return L.createElement(Uw,{...p,"aria-current":I,className:A,ref:g,style:D,to:u,viewTransition:h},typeof f=="function"?f(N):f)});DP.displayName="NavLink";var VP=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=oh,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},x)=>{let b=jP(),V=UP(h,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",F=typeof h=="string"&&jw.test(h),q=K=>{if(f&&f(K),K.defaultPrevented)return;K.preventDefault();let J=K.nativeEvent.submitter,X=J?.getAttribute("formmethod")||u;b(J||K.currentTarget,{fetcherKey:e,method:X,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return L.createElement("form",{ref:x,method:k,action:V,onSubmit:r?f:q,...E,"data-discover":!F&&n==="render"?"true":void 0})});VP.displayName="Form";function MP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bw(n){let e=L.useContext(xa);return ot(e,MP(n)),e}function LP(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let h=Dw(),f=Xs(),p=gu(n,{relative:a});return L.useCallback(g=>{if(pP(g,e)){g.preventDefault();let _=t!==void 0?t:Jl(f)===Jl(p);h(n,{replace:_,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,s,a,u])}var OP=0,FP=()=>`__${String(++OP)}__`;function jP(){let{router:n}=Bw("useSubmit"),{basename:e}=L.useContext(Nr),t=iP();return L.useCallback(async(r,s={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=yP(r,e);if(s.navigate===!1){let g=s.fetcherKey||FP();await n.fetch(g,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function UP(n,{relative:e}={}){let{basename:t}=L.useContext(Nr),r=L.useContext(di);ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...gu(n||".",{relative:e})},u=Xs();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ti([t,a.pathname])),Jl(a)}function BP(n,{relative:e}={}){let t=L.useContext(kw);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Bw("useViewTransitionState"),s=gu(n,{relative:e});if(!t.isTransitioning)return!1;let a=si(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=si(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Eh(s.pathname,u)!=null||Eh(s.pathname,a)!=null}const zP=()=>{};var P0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},$P=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},$w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,_=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(E=64)),r.push(t[g],t[_],t[E],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(zw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$P(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||p==null||_==null)throw new HP;const E=a<<2|h>>4;if(r.push(E),p!==64){const x=h<<4&240|p>>2;if(r.push(x),_!==64){const b=p<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WP=function(n){const e=zw(n);return $w.encodeByteArray(e,!0)},Th=function(n){return WP(n).replace(/\./g,"")},Hw=function(n){try{return $w.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>qP().__FIREBASE_DEFAULTS__,GP=()=>{if(typeof process>"u"||typeof P0>"u")return;const n=P0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},QP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Hw(n[1]);return e&&JSON.parse(e)},ed=()=>{try{return zP()||KP()||GP()||QP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ww=n=>ed()?.emulatorHosts?.[n],qw=n=>{const e=Ww(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Kw=()=>ed()?.config,Gw=n=>ed()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bm(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Th(JSON.stringify(t)),Th(JSON.stringify(u)),""].join(".")}const zl={};function XP(){const n={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?n.emulator.push(e):n.prod.push(e);return n}function JP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let A0=!1;function Nm(n,e){if(typeof window>"u"||typeof document>"u"||!Js(window.location.host)||zl[n]===e||zl[n]||A0)return;zl[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=XP().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{A0=!0,u()},E}function g(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=JP(r),x=t("text"),b=document.getElementById(x)||document.createElement("span"),V=t("learnmore"),k=document.getElementById(V)||document.createElement("a"),F=t("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),g(k,V);const J=p();f(q,F),K.append(q,b,k,J),document.body.appendChild(K)}a?(b.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function eA(){const n=ed()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function rA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iA(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sA(){return!eA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="FirebaseError";class Dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=lA,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?uA(a,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new Dr(s,h,r)}}function uA(n,e){return n.replace(cA,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cA=/\{\$([^}]+)}/g;function hA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(C0(a)&&C0(u)){if(!qs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function C0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Dl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function dA(n,e){const t=new fA(n,e);return t.subscribe.bind(t)}class fA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pA(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ap),s.error===void 0&&(s.error=ap),s.complete===void 0&&(s.complete=ap);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pA(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ap(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(n){return n&&n._delegate?n._delegate:n}class Xi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new YP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yA(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gA(n){return n===js?void 0:n}function yA(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const _A={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},wA=ke.INFO,EA={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},TA=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=EA[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=wA,this._logHandler=TA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const SA=(n,e)=>e.some(t=>n instanceof t);let R0,k0;function IA(){return R0||(R0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xA(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,Op=new WeakMap,Xw=new WeakMap,lp=new WeakMap,Vm=new WeakMap;function PA(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Wi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Yw.set(t,n)}).catch(()=>{}),Vm.set(e,n),e}function AA(n){if(Op.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Op.set(n,e)}let Fp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Op.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Xw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CA(n){Fp=n(Fp)}function RA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(up(this),e,...t);return Xw.set(r,e.sort?e.sort():[e]),Wi(r)}:xA().includes(n)?function(...e){return n.apply(up(this),e),Wi(Yw.get(this))}:function(...e){return Wi(n.apply(up(this),e))}}function kA(n){return typeof n=="function"?RA(n):(n instanceof IDBTransaction&&AA(n),SA(n,IA())?new Proxy(n,Fp):n)}function Wi(n){if(n instanceof IDBRequest)return PA(n);if(lp.has(n))return lp.get(n);const e=kA(n);return e!==n&&(lp.set(n,e),Vm.set(e,n)),e}const up=n=>Vm.get(n);function bA(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),h=Wi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Wi(u.result),f.oldVersion,f.newVersion,Wi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const NA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],cp=new Map;function b0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cp.get(e))return cp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=DA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NA.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),s&&f.done]))[0]};return cp.set(e,a),a}CA(n=>({...n,get:(e,t,r)=>b0(e,t)||n.get(e,t,r),has:(e,t)=>!!b0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function MA(n){return n.getComponent()?.type==="VERSION"}const jp="@firebase/app",N0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Dm("@firebase/app"),LA="@firebase/app-compat",OA="@firebase/analytics-compat",FA="@firebase/analytics",jA="@firebase/app-check-compat",UA="@firebase/app-check",BA="@firebase/auth",zA="@firebase/auth-compat",$A="@firebase/database",HA="@firebase/data-connect",WA="@firebase/database-compat",qA="@firebase/functions",KA="@firebase/functions-compat",GA="@firebase/installations",QA="@firebase/installations-compat",YA="@firebase/messaging",XA="@firebase/messaging-compat",JA="@firebase/performance",ZA="@firebase/performance-compat",eC="@firebase/remote-config",tC="@firebase/remote-config-compat",nC="@firebase/storage",rC="@firebase/storage-compat",iC="@firebase/firestore",sC="@firebase/ai",oC="@firebase/firestore-compat",aC="firebase",lC="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",uC={[jp]:"fire-core",[LA]:"fire-core-compat",[FA]:"fire-analytics",[OA]:"fire-analytics-compat",[UA]:"fire-app-check",[jA]:"fire-app-check-compat",[BA]:"fire-auth",[zA]:"fire-auth-compat",[$A]:"fire-rtdb",[HA]:"fire-data-connect",[WA]:"fire-rtdb-compat",[qA]:"fire-fn",[KA]:"fire-fn-compat",[GA]:"fire-iid",[QA]:"fire-iid-compat",[YA]:"fire-fcm",[XA]:"fire-fcm-compat",[JA]:"fire-perf",[ZA]:"fire-perf-compat",[eC]:"fire-rc",[tC]:"fire-rc-compat",[nC]:"fire-gcs",[rC]:"fire-gcs-compat",[iC]:"fire-fst",[oC]:"fire-fst-compat",[sC]:"fire-vertex","fire-js":"fire-js",[aC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,cC=new Map,Bp=new Map;function D0(n,e){try{n.container.addComponent(e)}catch(t){oi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ks(n){const e=n.name;if(Bp.has(e))return oi.debug(`There were multiple attempts to register component ${e}.`),!1;Bp.set(e,n);for(const t of Sh.values())D0(t,n);for(const t of cC.values())D0(t,n);return!0}function td(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new yu("app","Firebase",hC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=lC;function Jw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Up,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qi.create("bad-app-name",{appName:String(s)});if(t||(t=Kw()),!t)throw qi.create("no-options");const a=Sh.get(s);if(a){if(qs(t,a.options)&&qs(r,a.config))return a;throw qi.create("duplicate-app",{appName:s})}const u=new vA(s);for(const f of Bp.values())u.addComponent(f);const h=new dC(t,r,u);return Sh.set(s,h),h}function Mm(n=Up){const e=Sh.get(n);if(!e&&n===Up&&Kw())return Jw();if(!e)throw qi.create("no-app",{appName:n});return e}function _r(n,e,t){let r=uC[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oi.warn(u.join(" "));return}Ks(new Xi(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebase-heartbeat-database",pC=1,Zl="firebase-heartbeat-store";let hp=null;function Zw(){return hp||(hp=bA(fC,pC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw qi.create("idb-open",{originalErrorMessage:n.message})})),hp}async function mC(n){try{const t=(await Zw()).transaction(Zl),r=await t.objectStore(Zl).get(eE(n));return await t.done,r}catch(e){if(e instanceof Dr)oi.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e?.message});oi.warn(t.message)}}}async function V0(n,e){try{const r=(await Zw()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,eE(n)),await r.done}catch(t){if(t instanceof Dr)oi.warn(t.message);else{const r=qi.create("idb-set",{originalErrorMessage:t?.message});oi.warn(r.message)}}}function eE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=1024,yC=30;class vC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=M0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>yC){const s=EC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){oi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=M0(),{heartbeatsToSend:t,unsentEntries:r}=_C(this._heartbeatsCache.heartbeats),s=Th(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return oi.warn(e),""}}}function M0(){return new Date().toISOString().substring(0,10)}function _C(n,e=gC){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),L0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),L0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class wC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return V0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L0(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function EC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(n){Ks(new Xi("platform-logger",e=>new VA(e),"PRIVATE")),Ks(new Xi("heartbeat",e=>new vC(e),"PRIVATE")),_r(jp,N0,n),_r(jp,N0,"esm2020"),_r("fire-js","")}TC("");var SC="firebase",IC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(SC,IC,"app");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,tE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function A(){}A.prototype=I.prototype,N.D=I.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,O,B){for(var R=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)R[Be-2]=arguments[Be];return I.prototype[O].apply(D,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(N,I,A){A||(A=0);var D=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)D[O]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=N.g[0],A=N.g[1],O=N.g[2];var B=N.g[3],R=I+(B^A&(O^B))+D[0]+3614090360&4294967295;I=A+(R<<7&4294967295|R>>>25),R=B+(O^I&(A^O))+D[1]+3905402710&4294967295,B=I+(R<<12&4294967295|R>>>20),R=O+(A^B&(I^A))+D[2]+606105819&4294967295,O=B+(R<<17&4294967295|R>>>15),R=A+(I^O&(B^I))+D[3]+3250441966&4294967295,A=O+(R<<22&4294967295|R>>>10),R=I+(B^A&(O^B))+D[4]+4118548399&4294967295,I=A+(R<<7&4294967295|R>>>25),R=B+(O^I&(A^O))+D[5]+1200080426&4294967295,B=I+(R<<12&4294967295|R>>>20),R=O+(A^B&(I^A))+D[6]+2821735955&4294967295,O=B+(R<<17&4294967295|R>>>15),R=A+(I^O&(B^I))+D[7]+4249261313&4294967295,A=O+(R<<22&4294967295|R>>>10),R=I+(B^A&(O^B))+D[8]+1770035416&4294967295,I=A+(R<<7&4294967295|R>>>25),R=B+(O^I&(A^O))+D[9]+2336552879&4294967295,B=I+(R<<12&4294967295|R>>>20),R=O+(A^B&(I^A))+D[10]+4294925233&4294967295,O=B+(R<<17&4294967295|R>>>15),R=A+(I^O&(B^I))+D[11]+2304563134&4294967295,A=O+(R<<22&4294967295|R>>>10),R=I+(B^A&(O^B))+D[12]+1804603682&4294967295,I=A+(R<<7&4294967295|R>>>25),R=B+(O^I&(A^O))+D[13]+4254626195&4294967295,B=I+(R<<12&4294967295|R>>>20),R=O+(A^B&(I^A))+D[14]+2792965006&4294967295,O=B+(R<<17&4294967295|R>>>15),R=A+(I^O&(B^I))+D[15]+1236535329&4294967295,A=O+(R<<22&4294967295|R>>>10),R=I+(O^B&(A^O))+D[1]+4129170786&4294967295,I=A+(R<<5&4294967295|R>>>27),R=B+(A^O&(I^A))+D[6]+3225465664&4294967295,B=I+(R<<9&4294967295|R>>>23),R=O+(I^A&(B^I))+D[11]+643717713&4294967295,O=B+(R<<14&4294967295|R>>>18),R=A+(B^I&(O^B))+D[0]+3921069994&4294967295,A=O+(R<<20&4294967295|R>>>12),R=I+(O^B&(A^O))+D[5]+3593408605&4294967295,I=A+(R<<5&4294967295|R>>>27),R=B+(A^O&(I^A))+D[10]+38016083&4294967295,B=I+(R<<9&4294967295|R>>>23),R=O+(I^A&(B^I))+D[15]+3634488961&4294967295,O=B+(R<<14&4294967295|R>>>18),R=A+(B^I&(O^B))+D[4]+3889429448&4294967295,A=O+(R<<20&4294967295|R>>>12),R=I+(O^B&(A^O))+D[9]+568446438&4294967295,I=A+(R<<5&4294967295|R>>>27),R=B+(A^O&(I^A))+D[14]+3275163606&4294967295,B=I+(R<<9&4294967295|R>>>23),R=O+(I^A&(B^I))+D[3]+4107603335&4294967295,O=B+(R<<14&4294967295|R>>>18),R=A+(B^I&(O^B))+D[8]+1163531501&4294967295,A=O+(R<<20&4294967295|R>>>12),R=I+(O^B&(A^O))+D[13]+2850285829&4294967295,I=A+(R<<5&4294967295|R>>>27),R=B+(A^O&(I^A))+D[2]+4243563512&4294967295,B=I+(R<<9&4294967295|R>>>23),R=O+(I^A&(B^I))+D[7]+1735328473&4294967295,O=B+(R<<14&4294967295|R>>>18),R=A+(B^I&(O^B))+D[12]+2368359562&4294967295,A=O+(R<<20&4294967295|R>>>12),R=I+(A^O^B)+D[5]+4294588738&4294967295,I=A+(R<<4&4294967295|R>>>28),R=B+(I^A^O)+D[8]+2272392833&4294967295,B=I+(R<<11&4294967295|R>>>21),R=O+(B^I^A)+D[11]+1839030562&4294967295,O=B+(R<<16&4294967295|R>>>16),R=A+(O^B^I)+D[14]+4259657740&4294967295,A=O+(R<<23&4294967295|R>>>9),R=I+(A^O^B)+D[1]+2763975236&4294967295,I=A+(R<<4&4294967295|R>>>28),R=B+(I^A^O)+D[4]+1272893353&4294967295,B=I+(R<<11&4294967295|R>>>21),R=O+(B^I^A)+D[7]+4139469664&4294967295,O=B+(R<<16&4294967295|R>>>16),R=A+(O^B^I)+D[10]+3200236656&4294967295,A=O+(R<<23&4294967295|R>>>9),R=I+(A^O^B)+D[13]+681279174&4294967295,I=A+(R<<4&4294967295|R>>>28),R=B+(I^A^O)+D[0]+3936430074&4294967295,B=I+(R<<11&4294967295|R>>>21),R=O+(B^I^A)+D[3]+3572445317&4294967295,O=B+(R<<16&4294967295|R>>>16),R=A+(O^B^I)+D[6]+76029189&4294967295,A=O+(R<<23&4294967295|R>>>9),R=I+(A^O^B)+D[9]+3654602809&4294967295,I=A+(R<<4&4294967295|R>>>28),R=B+(I^A^O)+D[12]+3873151461&4294967295,B=I+(R<<11&4294967295|R>>>21),R=O+(B^I^A)+D[15]+530742520&4294967295,O=B+(R<<16&4294967295|R>>>16),R=A+(O^B^I)+D[2]+3299628645&4294967295,A=O+(R<<23&4294967295|R>>>9),R=I+(O^(A|~B))+D[0]+4096336452&4294967295,I=A+(R<<6&4294967295|R>>>26),R=B+(A^(I|~O))+D[7]+1126891415&4294967295,B=I+(R<<10&4294967295|R>>>22),R=O+(I^(B|~A))+D[14]+2878612391&4294967295,O=B+(R<<15&4294967295|R>>>17),R=A+(B^(O|~I))+D[5]+4237533241&4294967295,A=O+(R<<21&4294967295|R>>>11),R=I+(O^(A|~B))+D[12]+1700485571&4294967295,I=A+(R<<6&4294967295|R>>>26),R=B+(A^(I|~O))+D[3]+2399980690&4294967295,B=I+(R<<10&4294967295|R>>>22),R=O+(I^(B|~A))+D[10]+4293915773&4294967295,O=B+(R<<15&4294967295|R>>>17),R=A+(B^(O|~I))+D[1]+2240044497&4294967295,A=O+(R<<21&4294967295|R>>>11),R=I+(O^(A|~B))+D[8]+1873313359&4294967295,I=A+(R<<6&4294967295|R>>>26),R=B+(A^(I|~O))+D[15]+4264355552&4294967295,B=I+(R<<10&4294967295|R>>>22),R=O+(I^(B|~A))+D[6]+2734768916&4294967295,O=B+(R<<15&4294967295|R>>>17),R=A+(B^(O|~I))+D[13]+1309151649&4294967295,A=O+(R<<21&4294967295|R>>>11),R=I+(O^(A|~B))+D[4]+4149444226&4294967295,I=A+(R<<6&4294967295|R>>>26),R=B+(A^(I|~O))+D[11]+3174756917&4294967295,B=I+(R<<10&4294967295|R>>>22),R=O+(I^(B|~A))+D[2]+718787259&4294967295,O=B+(R<<15&4294967295|R>>>17),R=A+(B^(O|~I))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var A=I-this.blockSize,D=this.B,O=this.h,B=0;B<I;){if(O==0)for(;B<=A;)s(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<I;)if(D[O++]=N.charCodeAt(B++),O==this.blockSize){s(this,D),O=0;break}}else for(;B<I;)if(D[O++]=N[B++],O==this.blockSize){s(this,D),O=0;break}}this.h=O,this.o+=I},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var A=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.u(N),N=Array(16),I=A=0;4>I;++I)for(var D=0;32>D;D+=8)N[A++]=this.g[I]>>>D&255;return N};function a(N,I){var A=h;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=I(N)}function u(N,I){this.h=I;for(var A=[],D=!0,O=N.length-1;0<=O;O--){var B=N[O]|0;D&&B==I||(A[O]=B,D=!1)}this.g=A}var h={};function f(N){return-128<=N&&128>N?a(N,function(I){return new u([I|0],0>I?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return _;if(0>N)return k(p(-N));for(var I=[],A=1,D=0;N>=A;D++)I[D]=N/A|0,A*=4294967296;return new u(I,0)}function g(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return k(g(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=p(Math.pow(I,8)),D=_,O=0;O<N.length;O+=8){var B=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+B),I);8>B?(B=p(Math.pow(I,B)),D=D.j(B).add(p(R))):(D=D.j(A),D=D.add(p(R)))}return D}var _=f(0),E=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-k(this).m();for(var N=0,I=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(b(this))return"0";if(V(this))return"-"+k(this).toString(N);for(var I=p(Math.pow(N,6)),A=this,D="";;){var O=J(A,I).g;A=F(A,O.j(I));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=O,b(A))return B+D;for(;6>B.length;)B="0"+B;D=B+D}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function b(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function V(N){return N.h==-1}n.l=function(N){return N=F(this,N),V(N)?-1:b(N)?0:1};function k(N){for(var I=N.g.length,A=[],D=0;D<I;D++)A[D]=~N.g[D];return new u(A,~N.h).add(E)}n.abs=function(){return V(this)?k(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],D=0,O=0;O<=I;O++){var B=D+(this.i(O)&65535)+(N.i(O)&65535),R=(B>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);D=R>>>16,B&=65535,R&=65535,A[O]=R<<16|B}return new u(A,A[A.length-1]&-2147483648?-1:0)};function F(N,I){return N.add(k(I))}n.j=function(N){if(b(this)||b(N))return _;if(V(this))return V(N)?k(this).j(k(N)):k(k(this).j(N));if(V(N))return k(this.j(k(N)));if(0>this.l(x)&&0>N.l(x))return p(this.m()*N.m());for(var I=this.g.length+N.g.length,A=[],D=0;D<2*I;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<N.g.length;O++){var B=this.i(D)>>>16,R=this.i(D)&65535,Be=N.i(O)>>>16,ht=N.i(O)&65535;A[2*D+2*O]+=R*ht,q(A,2*D+2*O),A[2*D+2*O+1]+=B*ht,q(A,2*D+2*O+1),A[2*D+2*O+1]+=R*Be,q(A,2*D+2*O+1),A[2*D+2*O+2]+=B*Be,q(A,2*D+2*O+2)}for(D=0;D<I;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=I;D<2*I;D++)A[D]=0;return new u(A,0)};function q(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function K(N,I){this.g=N,this.h=I}function J(N,I){if(b(I))throw Error("division by zero");if(b(N))return new K(_,_);if(V(N))return I=J(k(N),I),new K(k(I.g),k(I.h));if(V(I))return I=J(N,k(I)),new K(k(I.g),I.h);if(30<N.g.length){if(V(N)||V(I))throw Error("slowDivide_ only works with positive integers.");for(var A=E,D=I;0>=D.l(N);)A=X(A),D=X(D);var O=oe(A,1),B=oe(D,1);for(D=oe(D,2),A=oe(A,2);!b(D);){var R=B.add(D);0>=R.l(N)&&(O=O.add(A),B=R),D=oe(D,1),A=oe(A,1)}return I=F(N,O.j(I)),new K(O,I)}for(O=_;0<=N.l(I);){for(A=Math.max(1,Math.floor(N.m()/I.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),B=p(A),R=B.j(I);V(R)||0<R.l(N);)A-=D,B=p(A),R=B.j(I);b(B)&&(B=E),O=O.add(B),N=F(N,R)}return new K(O,N)}n.A=function(N){return J(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)&N.i(D);return new u(A,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)|N.i(D);return new u(A,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),A=[],D=0;D<I;D++)A[D]=this.i(D)^N.i(D);return new u(A,this.h^N.h)};function X(N){for(var I=N.g.length+1,A=[],D=0;D<I;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new u(A,N.h)}function oe(N,I){var A=I>>5;I%=32;for(var D=N.g.length-A,O=[],B=0;B<D;B++)O[B]=0<I?N.i(B+A)>>>I|N.i(B+A+1)<<32-I:N.i(B+A);return new u(O,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Ki=u}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nE,Vl,rE,lh,zp,iE,sE,oE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in w))break e;w=w[z]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,z={next:function(){if(!S&&w<c.length){var G=w++;return{value:y(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function x(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,z,G){for(var ae=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ae[$e-2]=arguments[$e];return y.prototype[z].apply(S,ae)}}function V(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function k(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const z=c.length||0,G=S.length||0;c.length=z+G;for(let ae=0;ae<G;ae++)c[z+ae]=S[ae]}else c.push(S)}}class F{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var X=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function oe(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function N(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function I(c){const y={};for(const w in c)y[w]=c[w];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let w,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(w in S)c[w]=S[w];for(let G=0;G<A.length;G++)w=A[G],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function O(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function B(c){h.setTimeout(()=>{throw c},0)}function R(){var c=me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Be{constructor(){this.h=this.g=null}add(y,w){const S=ht.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var ht=new F(()=>new lt,c=>c.reset());class lt{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ie=!1,me=new Be,te=()=>{const c=h.Promise.resolve(void 0);Se=()=>{c.then(U)}};var U=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(w){B(w)}var y=ht;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,y),h.removeEventListener("test",w,y)}catch{}return c}();function Ce(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(X){e:{try{J(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}b(Ce,le);var Ve={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function We(c,y,w,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=z,this.key=++Ue,this.da=this.fa=!1}function Rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mr(c){this.src=c,this.g={},this.h=0}Mr.prototype.add=function(c,y,w,S,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ae=fi(c,y,S,z);return-1<ae?(y=c[ae],w||(y.fa=!1)):(y=new We(y,this.src,G,!!S,z),y.fa=w,c.push(y)),y};function oo(c,y){var w=y.type;if(w in c.g){var S=c.g[w],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=0<=z)&&Array.prototype.splice.call(S,z,1),G&&(Rt(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function fi(c,y,w,S){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==y&&G.capture==!!w&&G.ha==S)return z}return-1}var cs="closure_lm_"+(1e6*Math.random()|0),ao={};function Ma(c,y,w,S,z){if(Array.isArray(y)){for(var G=0;G<y.length;G++)Ma(c,y[G],w,S,z);return null}return w=Fa(w),c&&c[je]?c.K(y,w,p(S)?!!S.capture:!1,z):La(c,y,w,!1,S,z)}function La(c,y,w,S,z,G){if(!y)throw Error("Invalid event type");var ae=p(z)?!!z.capture:!!z,$e=uo(c);if($e||(c[cs]=$e=new Mr(c)),w=$e.add(y,w,S,ae,G),w.proxy)return w;if(S=bu(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)xe||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(Or(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function bu(){function c(w){return y.call(c.src,c.listener,w)}const y=Oa;return c}function lo(c,y,w,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)lo(c,y[G],w,S,z);else S=p(S)?!!S.capture:!!S,w=Fa(w),c&&c[je]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],w=fi(G,w,S,z),-1<w&&(Rt(G[w]),Array.prototype.splice.call(G,w,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=uo(c))&&(y=c.g[y.toString()],c=-1,y&&(c=fi(y,w,S,z)),(w=-1<c?y[c]:null)&&Lr(w))}function Lr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[je])oo(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(Or(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=uo(y))?(oo(w,c),w.h==0&&(w.src=null,y[cs]=null)):Rt(c)}}}function Or(c){return c in ao?ao[c]:ao[c]="on"+c}function Oa(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&Lr(c),c=w.call(S,y)}return c}function uo(c){return c=c[cs],c instanceof Mr?c:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fa(c){return typeof c=="function"?c:(c[co]||(c[co]=function(y){return c.handleEvent(y)}),c[co])}function wt(){Q.call(this),this.i=new Mr(this),this.M=this,this.F=null}b(wt,Q),wt.prototype[je]=!0,wt.prototype.removeEventListener=function(c,y,w,S){lo(this,c,y,w,S)};function Et(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var z=y;y=new le(S,c),D(y,z)}if(z=!0,w)for(var G=w.length-1;0<=G;G--){var ae=y.g=w[G];z=Fr(ae,S,!0,y)&&z}if(ae=y.g=c,z=Fr(ae,S,!0,y)&&z,z=Fr(ae,S,!1,y)&&z,w)for(G=0;G<w.length;G++)ae=y.g=w[G],z=Fr(ae,S,!1,y)&&z}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)Rt(w[S]);delete c.g[y],c.h--}}this.F=null},wt.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},wt.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Fr(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,G=0;G<y.length;++G){var ae=y[G];if(ae&&!ae.da&&ae.capture==w){var $e=ae.listener,Tt=ae.ha||ae.src;ae.fa&&oo(c.i,ae),z=$e.call(Tt,S)!==!1&&z}}return z&&!S.defaultPrevented}function ja(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:h.setTimeout(c,y||0)}function pi(c){c.g=ja(()=>{c.g=null,c.i&&(c.i=!1,pi(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class hs extends Q{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){Q.call(this),this.h=c,this.g={}}b(ds,Q);var Ua=[];function Ba(c){oe(c.g,function(y,w){this.g.hasOwnProperty(w)&&Lr(y)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),Ba(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var za=h.JSON.stringify,$a=h.JSON.parse,Ha=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function fs(){}fs.prototype.h=null;function ho(c){return c.h||(c.h=c.i())}function fo(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function or(){le.call(this,"d")}b(or,le);function po(){le.call(this,"c")}b(po,le);var ar={},Wa=null;function ps(){return Wa=Wa||new wt}ar.La="serverreachability";function qa(c){le.call(this,ar.La,c)}b(qa,le);function jr(c){const y=ps();Et(y,new qa(y))}ar.STAT_EVENT="statevent";function Ka(c,y){le.call(this,ar.STAT_EVENT,c),this.stat=y}b(Ka,le);function dt(c){const y=ps();Et(y,new Ka(y,c))}ar.Ma="timingevent";function mo(c,y){le.call(this,ar.Ma,c),this.size=y}b(mo,le);function Fn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function ms(){this.g=!0}ms.prototype.xa=function(){this.g=!1};function gs(c,y,w,S,z,G){c.info(function(){if(c.g)if(G)for(var ae="",$e=G.split("&"),Tt=0;Tt<$e.length;Tt++){var Me=$e[Tt].split("=");if(1<Me.length){var kt=Me[0];Me=Me[1];var gt=kt.split("_");ae=2<=gt.length&&gt[1]=="type"?ae+(kt+"="+Me+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+w+`
`+ae})}function go(c,y,w,S,z,G,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+w+`
`+G+" "+ae})}function jn(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ad(c,w)+(S?" "+S:"")})}function Ga(c,y){c.info(function(){return"TIMEOUT: "+y})}ms.prototype.info=function(){};function Ad(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return za(w)}catch{return y}}var yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Un;function ys(){}b(ys,fs),ys.prototype.g=function(){return new XMLHttpRequest},ys.prototype.i=function(){return{}},Un=new ys;function Bn(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Du}function Du(){this.i=null,this.g="",this.h=!1}var Qa={},vo={};function _o(c,y,w){c.L=1,c.v=_i(mn(y)),c.m=w,c.P=!0,Ya(c,null)}function Ya(c,y){c.F=Date.now(),qe(c),c.A=mn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ei(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Du,c.g=Xu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new hs(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ua[0]=z.toString()),z=Ua);for(var G=0;G<z.length;G++){var ae=Ma(w,z[G],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),jr(),gs(c.i,c.u,c.A,c.l,c.R,c.m)}Bn.prototype.ca=function(c){c=c.target;const y=this.M;y&&on(c)==3?y.j():this.Y(c)},Bn.prototype.Y=function(c){try{if(c==this.g)e:{const gt=on(this.g);var y=this.g.Ba();const Pn=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||nl(this.g)))){this.J||gt!=4||y==7||(y==8||0>=Pn?jr(3):jr(2)),vs(this);var w=this.g.Z();this.X=w;t:if(Vu(this)){var S=nl(this.g);c="";var z=S.length,G=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),mi(this);var ae="";break t}this.h.i=new h.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(G&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=w==200,go(this.i,this.u,this.A,this.l,this.R,gt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Tt=this.g;if(($e=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q($e)){var Me=$e;break t}}Me=null}if(w=Me)jn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xa(this,w);else{this.o=!1,this.s=3,dt(12),In(this),mi(this);break e}}if(this.P){w=!0;let yn;for(;!this.J&&this.C<ae.length;)if(yn=Cd(this,ae),yn==vo){gt==4&&(this.s=4,dt(14),w=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Qa){this.s=4,dt(15),jn(this.i,this.l,ae,"[Invalid Chunk]"),w=!1;break}else jn(this.i,this.l,yn,null),Xa(this,yn);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ae.length!=0||this.h.h||(this.s=1,dt(16),w=!1),this.o=this.o&&w,!w)jn(this.i,this.l,ae,"[Invalid Chunked Response]"),In(this),mi(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),il(kt),kt.M=!0,dt(11))}}else jn(this.i,this.l,ae,null),Xa(this,ae);gt==4&&In(this),this.o&&!this.J&&(gt==4?ko(this.j,this):(this.o=!1,qe(this)))}else xo(this.g),w==400&&0<ae.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),In(this),mi(this)}}}catch{}finally{}};function Vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cd(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?vo:(w=Number(y.substring(w,S)),isNaN(w)?Qa:(S+=1,S+w>y.length?vo:(y=y.slice(S,S+w),c.C=S+w,y)))}Bn.prototype.cancel=function(){this.J=!0,In(this)};function qe(c){c.S=Date.now()+c.I,Mu(c,c.I)}function Mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fn(E(c.ba,c),y)}function vs(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Bn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ga(this.i,this.A),this.L!=2&&(jr(),dt(17)),In(this),this.s=2,mi(this)):Mu(this,this.S-c)};function mi(c){c.j.G==0||c.J||ko(c.j,c)}function In(c){vs(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ba(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Xa(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Zt(w.h,c))){if(!c.K&&Zt(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)Ro(w),qn(w);else break e;Co(w),dt(18)}}else w.za=z[1],0<w.za-w.T&&37500>z[2]&&w.F&&w.v==0&&!w.C&&(w.C=Fn(E(w.Za,w),6e3));if(1>=Ou(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hr(w,11)}else if((c.K||w.g==c)&&Ro(w),!q(y))for(z=w.Da.g.parse(y),y=0;y<z.length;y++){let Me=z[y];if(w.T=Me[0],Me=Me[1],w.G==2)if(Me[0]=="c"){w.K=Me[1],w.ia=Me[2];const kt=Me[3];kt!=null&&(w.la=kt,w.j.info("VER="+w.la));const gt=Me[4];gt!=null&&(w.Aa=gt,w.j.info("SVER="+w.Aa));const Pn=Me[5];Pn!=null&&typeof Pn=="number"&&0<Pn&&(S=1.5*Pn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const yn=c.g;if(yn){const xs=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var G=S.h;G.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ja(G,G.h),G.h=null))}if(S.D){const No=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;No&&(S.ya=No,He(S.I,S.D,No))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var ae=c;if(S.qa=Yu(S,S.J?S.ia:null,S.W),ae.K){Fu(S.h,ae);var $e=ae,Tt=S.L;Tt&&($e.I=Tt),$e.B&&(vs($e),qe($e)),S.g=ae}else Is(S);0<w.i.length&&hr(w)}else Me[0]!="stop"&&Me[0]!="close"||Hr(w,7);else w.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Hr(w,7):Lt(w):Me[0]!="noop"&&w.l&&w.l.ta(Me),w.v=0)}}jr(4)}catch{}}var Lu=class{constructor(c,y){this.g=c,this.map=y}};function _s(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ou(c){return c.h?1:c.g?c.g.size:0}function Zt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ja(c,y){c.g?c.g.add(y):c.h=y}function Fu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}_s.prototype.cancel=function(){if(this.i=ju(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ju(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return V(c.i)}function wo(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function Eo(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function gi(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=Eo(c),S=wo(c),z=S.length,G=0;G<z;G++)y.call(void 0,S[G],w&&w[G],c)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),z=null;if(0<=S){var G=c[w].substring(0,S);z=c[w].substring(S+1)}else G=c[w];y(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ur(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ur){this.h=c.h,Es(this,c.j),this.o=c.o,this.g=c.g,yi(this,c.s),this.l=c.l;var y=c.i,w=new lr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),vi(this,w),this.m=c.m}else c&&(y=String(c).match(ws))?(this.h=!1,Es(this,y[1]||"",!0),this.o=De(y[2]||""),this.g=De(y[3]||"",!0),yi(this,y[4]),this.l=De(y[5]||"",!0),vi(this,y[6]||"",!0),this.m=De(y[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Ur.prototype.toString=function(){var c=[],y=this.j;y&&c.push(wi(y,To,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(wi(y,To,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(wi(w,w.charAt(0)=="/"?zu:Bu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",wi(w,Za)),c.join("")};function mn(c){return new Ur(c)}function Es(c,y,w){c.j=w?De(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function yi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function vi(c,y,w){y instanceof lr?(c.i=y,ur(c.i,c.h)):(w||(y=wi(y,$u)),c.i=new lr(y,c.h))}function He(c,y,w){c.i.set(y,w)}function _i(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wi(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var To=/[#\/\?@]/g,Bu=/[#\?:]/g,zu=/[#\?]/g,$u=/[#\?@]/g,Za=/#/g;function lr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Mt(c){c.g||(c.g=new Map,c.h=0,c.i&&Rd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}n=lr.prototype,n.add=function(c,y){Mt(this),this.i=null,c=xn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function zn(c,y){Mt(c),y=xn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $n(c,y){return Mt(c),y=xn(c,y),c.g.has(y)}n.forEach=function(c,y){Mt(this),this.g.forEach(function(w,S){w.forEach(function(z){c.call(y,z,S,this)},this)},this)},n.na=function(){Mt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const z=c[S];for(let G=0;G<z.length;G++)w.push(y[S])}return w},n.V=function(c){Mt(this);let y=[];if(typeof c=="string")$n(this,c)&&(y=y.concat(this.g.get(xn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},n.set=function(c,y){return Mt(this),this.i=null,c=xn(this,c),$n(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},n.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ei(c,y,w){zn(c,y),0<w.length&&(c.i=null,c.g.set(xn(c,y),V(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const G=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=G;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function xn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ur(c,y){y&&!c.j&&(Mt(c),c.i=null,c.g.forEach(function(w,S){var z=S.toLowerCase();S!=z&&(zn(this,S),Ei(this,z,w))},c)),c.j=y}function kd(c,y){const w=new ms;if(h.Image){const S=new Image;S.onload=x(sn,w,"TestLoadImage: loaded",!0,y,S),S.onerror=x(sn,w,"TestLoadImage: error",!1,y,S),S.onabort=x(sn,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(sn,w,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hu(c,y){const w=new ms,S=new AbortController,z=setTimeout(()=>{S.abort(),sn(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?sn(w,"TestPingServer: ok",!0,y):sn(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),sn(w,"TestPingServer: error",!1,y)})}function sn(c,y,w,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(w)}catch{}}function bd(){this.g=new Ha}function Wu(c,y,w){const S=w||"";try{gi(c,function(z,G){let ae=z;p(z)&&(ae=za(z)),y.push(S+G+"="+encodeURIComponent(ae))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function Br(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Br,fs),Br.prototype.g=function(){return new Ts(this.l,this.j)},Br.prototype.i=function(c){return function(){return c}}({});function Ts(c,y){wt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ts,wt),n=Ts.prototype,n.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Wn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||h).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Hn(this):Wn(this),this.readyState==3&&qu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hn(this))},n.Qa=function(c){this.g&&(this.response=c,Hn(this))},n.ga=function(){this.g&&Hn(this)};function Hn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}n.setRequestHeader=function(c,y){this.u.append(c,y)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zr(c){let y="";return oe(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function Ti(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=zr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):He(c,y,w))}function tt(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(tt,wt);var Nd=/^https?$/i,el=["POST","PUT"];n=tt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Un.g(),this.v=this.o?ho(this.o):ho(Un),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ss(this,G);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)w.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())w.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(el,y,void 0))||S||z||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of w)this.g.setRequestHeader(G,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ss(this,G)}};function Ss(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,So(c),gn(c)}function So(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tl(this):this.bb())},n.bb=function(){tl(this)};function tl(c){if(c.h&&typeof u<"u"&&(!c.v[1]||on(c)!=4||c.Z()!=2)){if(c.u&&on(c)==4)ja(c.Ea,0,c);else if(Et(c,"readystatechange"),on(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=ae===0){var z=String(c.D).match(ws)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),S=!Nd.test(z?z.toLowerCase():"")}w=S}if(w)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var G=2<on(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",So(c)}}finally{gn(c)}}}}function gn(c,y){if(c.g){Io(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Et(c,"ready");try{w.onreadystatechange=S}catch{}}}function Io(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function on(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),$a(y)}};function nl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xo(c){const y={};c=(c.g&&2<=on(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(q(c[S]))continue;var w=O(c[S]);const z=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const G=y[z]||[];y[z]=G,G.push(w)}N(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function rl(c){this.Aa=0,this.i=[],this.j=new ms,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,c),this.cb=cr("retryDelaySeedMs",1e4,c),this.Wa=cr("forwardChannelMaxRetries",2,c),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(c&&c.concurrentRequestLimit),this.Da=new bd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=rl.prototype,n.la=8,n.G=1,n.connect=function(c,y,w,S){dt(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Yu(this,null,this.W),hr(this)};function Lt(c){if(Po(c),c.G==3){var y=c.U++,w=mn(c.I);if(He(w,"SID",c.K),He(w,"RID",y),He(w,"TYPE","terminate"),$r(c,w),y=new Bn(c,c.j,y),y.L=2,y.v=_i(mn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=y.v,w=!0),w||(y.g=Xu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),qe(y)}Qu(c)}function qn(c){c.g&&(il(c),c.g.cancel(),c.g=null)}function Po(c){qn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Ro(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function hr(c){if(!pn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Se||te(),ie||(Se(),ie=!0),me.add(y,c),c.B=0}}function Dd(c,y){return Ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fn(E(c.Ga,c,y),Gu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Bn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=I(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=Si(this,z,y),w=mn(this.I),He(w,"RID",c),He(w,"CVER",22),this.D&&He(w,"X-HTTP-Session-Id",this.D),$r(this,w),G&&(this.O?y="headers="+encodeURIComponent(String(zr(G)))+"&"+y:this.m&&Ti(w,this.m,G)),Ja(this.h,z),this.Ua&&He(w,"TYPE","init"),this.P?(He(w,"$req",y),He(w,"SID","null"),z.T=!0,_o(z,w,null)):_o(z,w,y),this.G=2}}else this.G==3&&(c?Ao(this,c):this.i.length==0||pn(this.h)||Ao(this))};function Ao(c,y){var w;y?w=y.l:w=c.U++;const S=mn(c.I);He(S,"SID",c.K),He(S,"RID",w),He(S,"AID",c.T),$r(c,S),c.m&&c.o&&Ti(S,c.m,c.o),w=new Bn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Si(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ja(c.h,w),_o(w,S,y)}function $r(c,y){c.H&&oe(c.H,function(w,S){He(y,S,w)}),c.l&&gi({},function(w,S){He(y,S,w)})}function Si(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ae=["count="+w];G==-1?0<w?(G=z[0].g,ae.push("ofs="+G)):G=0:ae.push("ofs="+G);let $e=!0;for(let Tt=0;Tt<w;Tt++){let Me=z[Tt].g;const kt=z[Tt].map;if(Me-=G,0>Me)G=Math.max(0,z[Tt].g-100),$e=!1;else try{Wu(kt,ae,"req"+Me+"_")}catch{S&&S(kt)}}if($e){S=ae.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function Is(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Se||te(),ie||(Se(),ie=!0),me.add(y,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fn(E(c.Fa,c),Gu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fn(E(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),qn(this),Ku(this))};function il(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new Bn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);He(y,"RID","rpc"),He(y,"SID",c.K),He(y,"AID",c.T),He(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(y,"TO",c.ja),He(y,"TYPE","xmlhttp"),$r(c,y),c.m&&c.o&&Ti(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=_i(mn(y)),w.m=null,w.P=!0,Ya(w,c)}n.Za=function(){this.C!=null&&(this.C=null,qn(this),Co(this),dt(19))};function Ro(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function ko(c,y){var w=null;if(c.g==y){Ro(c),il(c),c.g=null;var S=2}else if(Zt(c.h,y))w=y.D,Fu(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=ps(),Et(S,new mo(S,w)),hr(c)}else Is(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&Dd(c,y)||S==2&&Co(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),z){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function Gu(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const z=!S;S=new Ur(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Es(S,"https"),_i(S),z?kd(S.toString(),w):Hu(S.toString(),w)}else dt(2);c.G=0,c.l&&c.l.sa(y),Qu(c),Po(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=ju(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,w){var S=w instanceof Ur?mn(w):new Ur(w);if(S.g!="")y&&(S.g=y+"."+S.g),yi(S,S.s);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var G=new Ur(null);S&&Es(G,S),y&&(G.g=y),z&&yi(G,z),w&&(G.l=w),S=G}return w=c.D,y=c.ya,w&&y&&He(S,w,y),He(S,"VER",c.la),$r(c,S),S}function Xu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new tt(new Br({eb:w})):new tt(c.pa),y.Ha(c.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sl(){}n=sl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bo(){}bo.prototype.g=function(c,y){return new en(c,y)};function en(c,y){wt.call(this),this.g=new rl(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new dr(this)}b(en,wt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Lt(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=za(c),c=w);y.i.push(new Lu(y.Ya++,c)),y.G==3&&hr(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,en.aa.N.call(this)};function Ju(c){or.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Ju,or);function Zu(){po.call(this),this.status=1}b(Zu,po);function dr(c){this.g=c}b(dr,sl),dr.prototype.ua=function(){Et(this.g,"a")},dr.prototype.ta=function(c){Et(this.g,new Ju(c))},dr.prototype.sa=function(c){Et(this.g,new Zu)},dr.prototype.ra=function(){Et(this.g,"b")},bo.prototype.createWebChannel=bo.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,oE=function(){return new bo},sE=function(){return ps()},iE=ar,zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,lh=yo,Nu.COMPLETE="complete",rE=Nu,fo.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Vl=fo,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,nE=tt}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",j0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Dm("@firebase/firestore");function Zo(){return Gs.logLevel}function ce(n,...e){if(Gs.logLevel<=ke.DEBUG){const t=e.map(Lm);Gs.debug(`Firestore (${Pa}): ${n}`,...t)}}function ai(n,...e){if(Gs.logLevel<=ke.ERROR){const t=e.map(Lm);Gs.error(`Firestore (${Pa}): ${n}`,...t)}}function pa(n,...e){if(Gs.logLevel<=ke.WARN){const t=e.map(Lm);Gs.warn(`Firestore (${Pa}): ${n}`,...t)}}function Lm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,aE(n,r,t)}function aE(n,e,t){let r=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ai(r),new Error(r)}function ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||aE(e,s,r)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class PC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AC{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ni,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},h=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ni)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new lE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class CC{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RC{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new CC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class U0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new U0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new U0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=bC(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function be(n,e){return n<e?-1:n>e?1:0}function $p(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return dp(s)===dp(a)?be(s,a):dp(s)?1:-1}return be(n.length,e.length)}const NC=55296,DC=57343;function dp(n){const e=n.charCodeAt(0);return e>=NC&&e<=DC}function ma(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="__name__";class yr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return yr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=yr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return be(e.length,t.length)}static compareSegments(e,t){const r=yr.isNumericId(e),s=yr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?yr.extractNumericId(e).compare(yr.extractNumericId(t)):$p(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class Je extends yr{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Je(t)}static emptyPath(){return new Je([])}}const VC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends yr{construct(e,t,r){return new Bt(e,t,r)}static isValidIdentifier(e){return VC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B0}static keyField(){return new Bt([B0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(a(),s++)}if(a(),u)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(t)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Je.fromString(e))}static fromName(e){return new ye(Je.fromString(e).popFirst(5))}static empty(){return new ye(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n,e,t){if(!t)throw new pe(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function MC(n,e,t,r){if(e===!0&&r===!0)throw new pe(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function z0(n){if(!ye.isDocumentKey(n))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $0(n){if(ye.isDocumentKey(n))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function li(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fm(n);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n,e){const t={typeString:n};return e&&(t.value=e),t}function _u(n,e){if(!cE(n))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-62135596800,W0=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*W0);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<H0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(_u(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:_t("string",Ze._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ze(0,0))}static max(){return new Pe(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function LC(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new Ji(s,ye.empty(),e)}function OC(n){return new Ji(n.readTime,n.key,eu)}class Ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ji(Pe.min(),ye.empty(),eu)}static max(){return new Ji(Pe.max(),ye.empty(),eu)}}function FC(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==jC)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,r)=>{t(e)})}static reject(e){return new Y((t,r)=>{r(e)})}static waitFor(e){return new Y((t,r)=>{let s=0,a=0,u=!1;e.forEach(h=>{++s,h.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Y.resolve(!1);for(const r of e)t=t.next(s=>s?Y.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Y((r,s)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(g=>{u[p]=g,++h,h===a&&r(u)},g=>s(g))}})}static doWhile(e,t){return new Y((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function BC(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ca(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm=-1;function rd(n){return n==null}function Ih(n){return n===0&&1/n==-1/0}function zC(n){return typeof n=="number"&&Number.isInteger(n)&&!Ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="";function $C(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=q0(e)),e=HC(n.get(t),e);return q0(e)}function HC(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case hE:t+="";break;default:t+=a}}return t}function q0(n){return n+hE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function eo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,t){this.comparator=e,this.root=t||Ut.EMPTY}insert(e,t){return new at(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=a??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ut(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G0(this.data.getIterator())}getIteratorFrom(e){return new G0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class G0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new tr([])}unionWith(e){let t=new At(Bt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ma(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fE("Invalid base64 string: "+a):a}}(e);return new zt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const WC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=WC.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function es(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="server_timestamp",mE="__type__",gE="__previous_value__",yE="__local_write_time__";function Um(n){return(n?.mapValue?.fields||{})[mE]?.stringValue===pE}function id(n){const e=n.mapValue.fields[gE];return Um(e)?id(e):e}function tu(n){const e=Zi(n.mapValue.fields[yE].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,t,r,s,a,u,h,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const xh="(default)";class nu{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__type__",KC="__max__",Yc={mapValue:{}},_E="__vector__",Ph="value";function ts(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Um(n)?4:QC(n)?9007199254740991:GC(n)?10:11:Te(28295,{value:n})}function Rr(n,e){if(n===e)return!0;const t=ts(n);if(t!==ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tu(n).isEqual(tu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Zi(s.timestampValue),h=Zi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return es(s.bytesValue).isEqual(es(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return mt(s.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(s.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return mt(s.integerValue)===mt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=mt(s.doubleValue),h=mt(a.doubleValue);return u===h?Ih(u)===Ih(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return ma(n.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},h=a.mapValue.fields||{};if(K0(u)!==K0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Rr(u[f],h[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function ru(n,e){return(n.values||[]).find(t=>Rr(t,e))!==void 0}function ga(n,e){if(n===e)return 0;const t=ts(n),r=ts(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=mt(a.integerValue||a.doubleValue),f=mt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Q0(n.timestampValue,e.timestampValue);case 4:return Q0(tu(n),tu(e));case 5:return $p(n.stringValue,e.stringValue);case 6:return function(a,u){const h=es(a),f=es(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=be(h[p],f[p]);if(g!==0)return g}return be(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=be(mt(a.latitude),mt(u.latitude));return h!==0?h:be(mt(a.longitude),mt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Y0(n.arrayValue,e.arrayValue);case 10:return function(a,u){const h=a.fields||{},f=u.fields||{},p=h[Ph]?.arrayValue,g=f[Ph]?.arrayValue,_=be(p?.values?.length||0,g?.values?.length||0);return _!==0?_:Y0(p,g)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Yc.mapValue&&u===Yc.mapValue)return 0;if(a===Yc.mapValue)return 1;if(u===Yc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=$p(f[_],g[_]);if(E!==0)return E;const x=ga(h[f[_]],p[g[_]]);if(x!==0)return x}return be(f.length,g.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function Q0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);const t=Zi(n),r=Zi(e),s=be(t.seconds,r.seconds);return s!==0?s:be(t.nanos,r.nanos)}function Y0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ga(t[s],r[s]);if(a)return a}return be(t.length,r.length)}function ya(n){return Hp(n)}function Hp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Zi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return es(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Hp(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Hp(t.fields[u])}`;return s+"}"}(n.mapValue):Te(61005,{value:n})}function uh(n){switch(ts(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=id(n);return e?16+uh(e):16;case 5:return 2*n.stringValue.length;case 6:return es(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+uh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return eo(r.fields,(a,u)=>{s+=a.length+uh(u)}),s}(n.mapValue);default:throw Te(13486,{value:n})}}function Wp(n){return!!n&&"integerValue"in n}function Bm(n){return!!n&&"arrayValue"in n}function X0(n){return!!n&&"nullValue"in n}function J0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ch(n){return!!n&&"mapValue"in n}function GC(n){return(n?.mapValue?.fields||{})[vE]?.stringValue===_E}function $l(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return eo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$l(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(n.arrayValue.values[t]);return e}return{...n}}function QC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=Bt.emptyPath(),r={},s=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=$l(u):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ch(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){eo(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Ln($l(this.value))}}function wE(n){const e=[];return eo(n.fields,(t,r)=>{const s=new Bt([t]);if(ch(r)){const a=wE(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,r,s,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,Pe.min(),Pe.min(),Pe.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,s){return new Yt(e,1,t,Pe.min(),r,s,0)}static newNoDocument(e,t){return new Yt(e,2,t,Pe.min(),Pe.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,Pe.min(),Pe.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.position=e,this.inclusive=t}}function Z0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ga(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function e_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Rr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function YC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class xt extends EE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new JC(e,t,r):t==="array-contains"?new tR(e,r):t==="in"?new nR(e,r):t==="not-in"?new rR(e,r):t==="array-contains-any"?new iR(e,r):new xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ZC(e,r):new eR(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ga(t,this.value)):t!==null&&ts(this.value)===ts(t)&&this.matchesComparison(ga(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends EE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new kr(e,t)}matches(e){return TE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TE(n){return n.op==="and"}function SE(n){return XC(n)&&TE(n)}function XC(n){for(const e of n.filters)if(e instanceof kr)return!1;return!0}function qp(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(SE(n))return n.filters.map(e=>qp(e)).join(",");{const e=n.filters.map(t=>qp(t)).join(",");return`${n.op}(${e})`}}function IE(n,e){return n instanceof xt?function(r,s){return s instanceof xt&&r.op===s.op&&r.field.isEqual(s.field)&&Rr(r.value,s.value)}(n,e):n instanceof kr?function(r,s){return s instanceof kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,h)=>a&&IE(u,s.filters[h]),!0):!1}(n,e):void Te(19439)}function xE(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`}(n):n instanceof kr?function(t){return t.op.toString()+" {"+t.getFilters().map(xE).join(" ,")+"}"}(n):"Filter"}class JC extends xt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class ZC extends xt{constructor(e,t){super(e,"in",t),this.keys=PE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class eR extends xt{constructor(e,t){super(e,"not-in",t),this.keys=PE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function PE(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class tR extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bm(t)&&ru(t.arrayValue,this.value)}}class nR extends xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class rR extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ru(this.value.arrayValue,t)}}class iR extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,t=null,r=[],s=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=h,this.Te=null}}function t_(n,e=null,t=[],r=[],s=null,a=null,u=null){return new sR(n,e,t,r,s,a,u)}function zm(n){const e=Ae(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>qp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ya(r)).join(",")),e.Te=t}return e.Te}function $m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!e_(n.startAt,e.startAt)&&e_(n.endAt,e.endAt)}function Kp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,t=null,r=[],s=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(n,e,t,r,s,a,u,h){return new sd(n,e,t,r,s,a,u,h)}function Hm(n){return new sd(n)}function n_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function aR(n){return n.collectionGroup!==null}function Hl(n){const e=Ae(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new At(Bt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Ch(a,r))}),t.has(Bt.keyField().canonicalString())||e.Ie.push(new Ch(Bt.keyField(),r))}return e.Ie}function wr(n){const e=Ae(n);return e.Ee||(e.Ee=lR(e,Hl(n))),e.Ee}function lR(n,e){if(n.limitType==="F")return t_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Ch(s.field,a)});const t=n.endAt?new Ah(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ah(n.startAt.position,n.startAt.inclusive):null;return t_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gp(n,e,t){return new sd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function od(n,e){return $m(wr(n),wr(e))&&n.limitType===e.limitType}function AE(n){return`${zm(wr(n))}|lt:${n.limitType}`}function ea(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>xE(s)).join(", ")}]`),rd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ya(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ya(s)).join(",")),`Target(${r})`}(wr(n))}; limitType=${n.limitType})`}function ad(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Hl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,h,f){const p=Z0(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Hl(r),s)||r.endAt&&!function(u,h,f){const p=Z0(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Hl(r),s))}(n,e)}function uR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function CE(n){return(e,t)=>{let r=!1;for(const s of Hl(n)){const a=cR(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function cR(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?ga(f,p):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new at(ye.comparator);function ui(){return hR}const RE=new at(ye.comparator);function Ml(...n){let e=RE;for(const t of n)e=e.insert(t.key,t);return e}function kE(n){let e=RE;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function zs(){return Wl()}function bE(){return Wl()}function Wl(){return new to(n=>n.toString(),(n,e)=>n.isEqual(e))}const dR=new at(ye.comparator),fR=new At(ye.comparator);function Ne(...n){let e=fR;for(const t of n)e=e.add(t);return e}const pR=new At(be);function mR(){return pR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function NE(n){return{integerValue:""+n}}function gR(n,e){return zC(e)?NE(e):Wm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function yR(n,e,t){return n instanceof iu?function(s,a){const u={fields:{[mE]:{stringValue:pE},[yE]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Um(a)&&(a=id(a)),a&&(u.fields[gE]=a),{mapValue:u}}(t,e):n instanceof su?VE(n,e):n instanceof ou?ME(n,e):function(s,a){const u=DE(s,a),h=r_(u)+r_(s.Ae);return Wp(u)&&Wp(s.Ae)?NE(h):Wm(s.serializer,h)}(n,e)}function vR(n,e,t){return n instanceof su?VE(n,e):n instanceof ou?ME(n,e):t}function DE(n,e){return n instanceof Rh?function(r){return Wp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class iu extends ld{}class su extends ld{constructor(e){super(),this.elements=e}}function VE(n,e){const t=LE(e);for(const r of n.elements)t.some(s=>Rr(s,r))||t.push(r);return{arrayValue:{values:t}}}class ou extends ld{constructor(e){super(),this.elements=e}}function ME(n,e){let t=LE(e);for(const r of n.elements)t=t.filter(s=>!Rr(s,r));return{arrayValue:{values:t}}}class Rh extends ld{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function r_(n){return mt(n.integerValue||n.doubleValue)}function LE(n){return Bm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,t){this.field=e,this.transform=t}}function wR(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof su&&s instanceof su||r instanceof ou&&s instanceof ou?ma(r.elements,s.elements,Rr):r instanceof Rh&&s instanceof Rh?Rr(r.Ae,s.Ae):r instanceof iu&&s instanceof iu}(n.transform,e.transform)}class ER{constructor(e,t){this.version=e,this.transformResults=t}}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ud{}function OE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new qm(n.key,ir.none()):new wu(n.key,n.data,ir.none());{const t=n.data,r=Ln.empty();let s=new At(Bt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new no(n.key,r,new tr(s.toArray()),ir.none())}}function TR(n,e,t){n instanceof wu?function(s,a,u){const h=s.value.clone(),f=s_(s.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof no?function(s,a,u){if(!hh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const h=s_(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(FE(s)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function ql(n,e,t,r){return n instanceof wu?function(a,u,h,f){if(!hh(a.precondition,u))return h;const p=a.value.clone(),g=o_(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof no?function(a,u,h,f){if(!hh(a.precondition,u))return h;const p=o_(a.fieldTransforms,f,u),g=u.data;return g.setAll(FE(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,u,h){return hh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function SR(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=DE(r.transform,s||null);a!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,a))}return t||null}function i_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ma(r,s,(a,u)=>wR(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends ud{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class no extends ud{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function s_(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,h=e.data.field(a.field);r.set(a.field,vR(u,h,t[s]))}return r}function o_(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,yR(a,u,e))}return r}class qm extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IR extends ud{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&TR(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ql(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ql(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=bE();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(s.key)?null:h;const f=OE(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ma(this.mutations,e.mutations,(t,r)=>i_(t,r))&&ma(this.baseMutations,e.baseMutations,(t,r)=>i_(t,r))}}class Km{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return dR}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Km(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Le;function CR(n){switch(n){case Z.OK:return Te(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function jE(n){if(n===void 0)return ai("GRPC error has no .code"),Z.UNKNOWN;switch(n){case vt.OK:return Z.OK;case vt.CANCELLED:return Z.CANCELLED;case vt.UNKNOWN:return Z.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Z.INTERNAL;case vt.UNAVAILABLE:return Z.UNAVAILABLE;case vt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case vt.NOT_FOUND:return Z.NOT_FOUND;case vt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case vt.ABORTED:return Z.ABORTED;case vt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case vt.DATA_LOSS:return Z.DATA_LOSS;default:return Te(39323,{code:n})}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Ki([4294967295,4294967295],0);function a_(n){const e=RR().encode(n),t=new tE;return t.update(e),new Uint8Array(t.digest())}function l_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ki([t,r],0),new Ki([s,a],0)]}class Gm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ll(`Invalid padding: ${t}`);if(r<0)throw new Ll(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ki.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Ki.fromNumber(r)));return s.compare(kR)===1&&(s=new Ki([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=a_(e),[r,s]=l_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Gm(a,s,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.ge===0)return;const t=a_(e),[r,s]=l_(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cd(Pe.min(),s,new at(be),ui(),Ne())}}class Eu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Eu(r,t,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class UE{constructor(e,t){this.targetId=e,this.Ce=t}}class BE{constructor(e,t,r=zt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),t=Ne(),r=Ne();return this.Fe.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:a})}}),new Eu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ui(),this.Je=Xc(),this.He=Xc(),this.Ye=new at(be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,s)=>{this.rt(s)&&t(s)})}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(Kp(a))if(r===0){const u=new ye(a.path);this.et(t,u,Yt.newNoDocument(u,Pe.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,h;try{u=es(r).toUint8Array()}catch(f){if(f instanceof fE)return pa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Gm(u,s,a)}catch(f){return pa(f instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.et(t,a,null),s++)}),s}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const h=this.ot(u);if(h){if(a.current&&Kp(h.target)){const f=new ye(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Yt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=Ne();this.He.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const s=new cd(e,t,this.Ye,this.je,r);return this.je=ui(),this.Je=Xc(),this.He=Xc(),this.Ye=new at(be),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new u_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new At(be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new At(be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new at(ye.comparator)}function c_(){return new at(ye.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},DR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class MR{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qp(n,e){return n.useProto3Json||rd(e)?e:{value:e}}function kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LR(n,e){return kh(n,e.toTimestamp())}function Er(n){return ze(!!n,49232),Pe.fromTimestamp(function(t){const r=Zi(t);return new Ze(r.seconds,r.nanos)}(n))}function Qm(n,e){return Yp(n,e).canonicalString()}function Yp(n,e){const t=function(s){return new Je(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function $E(n){const e=Je.fromString(n);return ze(GE(e),10190,{key:e.toString()}),e}function Xp(n,e){return Qm(n.databaseId,e.path)}function fp(n,e){const t=$E(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(WE(t))}function HE(n,e){return Qm(n.databaseId,e)}function OR(n){const e=$E(n);return e.length===4?Je.emptyPath():WE(e)}function Jp(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function WE(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function h_(n,e,t){return{name:Xp(n,e),fields:t.value.mapValue.fields}}function FR(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Te(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string",58123),zt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),zt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const g=p.code===void 0?Z.UNKNOWN:jE(p.code);return new pe(g,p.message||"")}(u);t=new BE(r,s,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=fp(n,r.document.name),a=Er(r.document.updateTime),u=r.document.createTime?Er(r.document.createTime):Pe.min(),h=new Ln({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(s,a,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];t=new dh(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=fp(n,r.document),a=r.readTime?Er(r.readTime):Pe.min(),u=Yt.newNoDocument(s,a),h=r.removedTargetIds||[];t=new dh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=fp(n,r.document),a=r.removedTargetIds||[];t=new dh([],a,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new AR(s,a),h=r.targetId;t=new UE(h,u)}}return t}function jR(n,e){let t;if(e instanceof wu)t={update:h_(n,e.key,e.value)};else if(e instanceof qm)t={delete:Xp(n,e.key)};else if(e instanceof no)t={update:h_(n,e.key,e.data),updateMask:GR(e.fieldMask)};else{if(!(e instanceof IR))return Te(16599,{Vt:e.type});t={verify:Xp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof iu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof su)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ou)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Rh)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:LR(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(n,e.precondition)),t}function UR(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map(t=>function(s,a){let u=s.updateTime?Er(s.updateTime):Er(a);return u.isEqual(Pe.min())&&(u=Er(a)),new ER(u,s.transformResults||[])}(t,e))):[]}function BR(n,e){return{documents:[HE(n,e.path)]}}function zR(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=HE(n,s);const a=function(p){if(p.length!==0)return KE(kr.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:ta(E.field),direction:WR(E.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Qp(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:s}}function $R(n){let e=OR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ze(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=function(_){const E=qE(_);return E instanceof kr&&SE(E)?E.getFilters():[E]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(E=>function(b){return new Ch(na(b.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(E))}(t.orderBy));let h=null;t.limit&&(h=function(_){let E;return E=typeof _=="object"?_.value:_,rd(E)?null:E}(t.limit));let f=null;t.startAt&&(f=function(_){const E=!!_.before,x=_.values||[];return new Ah(x,E)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const E=!_.before,x=_.values||[];return new Ah(x,E)}(t.endAt)),oR(e,s,u,a,h,"F",f,p)}function HR(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=na(t.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=na(t.unaryFilter.field);return xt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=na(t.unaryFilter.field);return xt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=na(t.unaryFilter.field);return xt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return xt.create(na(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kr.create(t.compositeFilter.filters.map(r=>qE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function WR(n){return NR[n]}function qR(n){return DR[n]}function KR(n){return VR[n]}function ta(n){return{fieldPath:n.canonicalString()}}function na(n){return Bt.fromServerFormat(n.fieldPath)}function KE(n){return n instanceof xt?function(t){if(t.op==="=="){if(J0(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NAN"}};if(X0(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(J0(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NAN"}};if(X0(t.value))return{unaryFilter:{field:ta(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ta(t.field),op:qR(t.op),value:t.value}}}(n):n instanceof kr?function(t){const r=t.getFilters().map(s=>KE(s));return r.length===1?r[0]:{compositeFilter:{op:KR(t.op),filters:r}}}(n):Te(54877,{filter:n})}function GR(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function GE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,s,a=Pe.min(),u=Pe.min(),h=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.yt=e}}function YR(n){const e=$R({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Cn=new JR}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(Ji.min())}updateCollectionGroup(e,t,r){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class JR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new At(Je.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QE=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(QE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new va(0)}static cr(){return new va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_="LruGarbageCollector",ZR=1048576;function p_([n,e],[t,r]){const s=be(n,t);return s===0?be(e,r):s}class e4{constructor(e){this.Ir=e,this.buffer=new At(p_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();p_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(f_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ca(t)?ce(f_,"Ignoring IndexedDB error during garbage collection: ",t):await Aa(t)}await this.Vr(3e5)})}}class n4{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(nd.ce);const r=new e4(t);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(d_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d_):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,u,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Zo()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_})))}}function r4(n,e){return new n4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.changes=new to(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Y.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&ql(r.mutation,s,tr.empty(),Ze.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ne()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ne()){const s=zs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Ml();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=zs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ne()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,s){let a=ui();const u=Wl(),h=function(){return Wl()}();return t.forEach((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof no)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),ql(g.mutation,p,g.mutation.getFieldMask(),Ze.now())):u.set(p.key,tr.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),t.forEach((p,g)=>h.set(p,new s4(g,u.get(p)??null))),h))}recalculateAndSaveOverlays(e,t){const r=Wl();let s=new at((u,h)=>u-h),a=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||tr.empty();g=h.applyToLocalView(p,g),r.set(f,g);const _=(s.get(h.batchId)||Ne()).add(f);s=s.insert(h.batchId,_)})}).next(()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,_=bE();g.forEach(E=>{if(!a.has(E)){const x=OE(t.get(E),r.get(E));x!==null&&_.set(E,x),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Y.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):aR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Y.resolve(zs());let h=eu,f=a;return u.next(p=>Y.forEach(p,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(g)?Y.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Ne())).next(g=>({batchId:h,changes:kE(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let s=Ml();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Ml();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const p=function(_,E){return new sd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Yt.newInvalidDocument(g)))});let h=Ml();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&ql(g.mutation,p,tr.empty(),Ze.now()),ad(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(s){return{name:s.name,query:YR(s.bundledQuery),readTime:Er(s.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.overlays=new at(ye.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const r=zs();return Y.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),Y.resolve()}getOverlaysForCollection(e,t,r){const s=zs(),a=t.length+1,u=new ye(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new at((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=zs(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=zs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=s)););return Y.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new PR(t,r));let a=this.qr.get(t);a===void 0&&(a=Ne(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Qr=new At(Vt.$r),this.Ur=new At(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Vt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Vt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Je([])),r=new Vt(t,e),s=new Vt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Je([])),r=new Vt(t,e),s=new Vt(t,e+1);let a=Ne();return this.Ur.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Vt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||be(e.Yr,t.Yr)}static Kr(e,t){return be(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new At(Vt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xR(a,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Vt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(u)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Vt(t,0),s=new Vt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],u=>{const h=this.Xr(u.Yr);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new At(be);return t.forEach(s=>{const a=new Vt(s,0),u=new Vt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],h=>{r=r.add(h.Yr)})}),Y.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new Vt(new ye(a),0);let h=new At(be);return this.Zr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(h=h.add(f.Yr)),!0)},u),Y.resolve(this.ti(h))}ti(e){const t=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Y.forEach(t.mutations,s=>{const a=new Vt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Vt(t,0),s=this.Zr.firstAfterOrEqual(r);return Y.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.ri=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Y.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let r=ui();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Yt.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ui();const u=t.path,h=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||FC(OC(g),r)<=0||(s.has(g.key)||ad(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Te(9500)}ii(e,t){return Y.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new d4(this)}getSize(e){return Y.resolve(this.size)}}class d4 extends i4{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.persistence=e,this.si=new to(t=>zm(t),$m),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=va.ur()}forEachTarget(e,t){return this.si.forEach((r,s)=>t(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new va(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),Y.waitFor(a).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Y.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Y.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Y.resolve(r)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new u4,this.referenceDelegate=e(this),this.Pi=new f4(this),this.indexManager=new XR,this.remoteDocumentCache=function(s){return new h4(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new QR(t),this.Ii=new a4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new l4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new c4(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ce("MemoryPersistence","Starting transaction:",e);const s=new p4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(a=>this.referenceDelegate.di(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ai(e,t){return Y.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class p4 extends UC{constructor(e){super(),this.currentSequenceNumber=e}}class Xm{constructor(e){this.persistence=e,this.Ri=new Ym,this.Vi=null}static mi(e){return new Xm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Y.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,r=>{const s=ye.fromPath(r);return this.gi(e,s).next(a=>{a||t.removeEntry(s,Pe.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class bh{constructor(e,t){this.persistence=e,this.pi=new to(r=>$C(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=r4(this,t)}static mi(e,t){return new bh(e,t)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return Y.forEach(this.pi,(r,s)=>this.br(e,r,s).next(a=>a?Y.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,u=>this.br(e,u,t).next(h=>{h||(r++,a.removeEntry(u,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}br(e,t,r){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Y.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Ne(),s=Ne();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Jm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return sA()?8:BC(Jt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new m4;return this.Ss(e,t,u).next(h=>{if(a.result=h,this.Vs)return this.bs(e,t,u,h.size)})}).next(()=>a.result)}bs(e,t,r,s){return r.documentReadCount<this.fs?(Zo()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ea(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Zo()<=ke.DEBUG&&ce("QueryEngine","Query:",ea(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Zo()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ea(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(t))):Y.resolve())}ys(e,t){if(n_(t))return Y.resolve(null);let r=wr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Gp(t,null,"F"),r=wr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ne(...a);return this.ps.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.Ds(t,h);return this.Cs(t,p,u,f.readTime)?this.ys(e,Gp(t,null,"F")):this.vs(e,p,t,f)}))})))}ws(e,t,r,s){return n_(t)||s.isEqual(Pe.min())?Y.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,s)?Y.resolve(null):(Zo()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ea(t)),this.vs(e,u,t,LC(s,eu)).next(h=>h))})}Ds(e,t){let r=new At(CE(e));return t.forEach((s,a)=>{ad(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Zo()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ea(t)),this.ps.getDocumentsMatchingQuery(e,t,Ji.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",y4=3e8;class v4{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new at(be),this.xs=new to(a=>zm(a),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function _4(n,e,t,r){return new v4(n,e,t,r)}async function XE(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Ne();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ls:p,removedBatchIds:u,addedBatchIds:h}))})})}function w4(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(h,f,p,g){const _=p.batch,E=_.keys();let x=Y.resolve();return E.forEach(b=>{x=x.next(()=>g.getEntry(f,b)).next(V=>{const k=p.docVersions.get(b);ze(k!==null,48541),V.version.compareTo(k)<0&&(_.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),g.addEntry(V)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Ne();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function JE(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function E4(n,e){const t=Ae(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach((g,_)=>{const E=s.get(_);if(!E)return;h.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,_).next(()=>t.Pi.addMatchingKeys(a,g.addedDocuments,_)));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?x=x.withResumeToken(zt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),s=s.insert(_,x),function(V,k,F){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=y4?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,x,g)&&h.push(t.Pi.updateTargetData(a,x))});let f=ui(),p=Ne();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))}),h.push(T4(a,u,e.documentUpdates).next(g=>{f=g.ks,p=g.qs})),!r.isEqual(Pe.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next(_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(g)}return Y.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.Ms=s,a))}function T4(n,e,t){let r=Ne(),s=Ne();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ui();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ce(Zm,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{ks:u,qs:s}})}function S4(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function I4(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Pi.getTargetData(r,e).next(a=>a?(s=a,Y.resolve(s)):t.Pi.allocateTargetId(r).next(u=>(s=new Hi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Zp(n,e,t){const r=Ae(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Ca(u))throw u;ce(Zm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function m_(n,e,t){const r=Ae(n);let s=Pe.min(),a=Ne();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const _=Ae(f),E=_.xs.get(g);return E!==void 0?Y.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)}(r,u,wr(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Pe.min(),t?a:Ne())).next(h=>(x4(r,uR(e),h),{documents:h,Qs:a})))}function x4(n,e,t){let r=n.Os.get(e)||Pe.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class g_{constructor(){this.activeTargetIds=mR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class P4{constructor(){this.Mo=new g_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new g_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class v_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function em(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="RestConnection",C4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class R4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===xh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const u=em(),h=this.zo(e,t.toUriEncodedString());ce(pp,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(h),g=Js(p);return this.Jo(e,h,f,r,g).then(_=>(ce(pp,`Received RPC '${e}' ${u}: `,_),_),_=>{throw pa(pp,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_})}Ho(e,t,r,s,a,u){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}zo(e,t){const r=C4[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class b4 extends R4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=em();return new Promise((h,f)=>{const p=new nE;p.setWithCredentials(!0),p.listenOnce(rE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const _=p.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case lh.TIMEOUT:ce(Kt,`RPC '${e}' ${u} timed out`),f(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const E=p.getStatus();if(ce(Kt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const b=x?.error;if(b&&b.status&&b.message){const V=function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(q)>=0?q:Z.UNKNOWN}(b.status);f(new pe(V,b.message))}else f(new pe(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(s);ce(Kt,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",g,r,15)})}T_(e,t,r){const s=em(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oE(),h=sE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ce(Kt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=u.createWebChannel(g,f);this.I_(_);let E=!1,x=!1;const b=new k4({Yo:k=>{x?ce(Kt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(E||(ce(Kt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ce(Kt,`RPC '${e}' stream ${s} sending:`,k),_.send(k))},Zo:()=>_.close()}),V=(k,F,q)=>{k.listen(F,K=>{try{q(K)}catch(J){setTimeout(()=>{throw J},0)}})};return V(_,Vl.EventType.OPEN,()=>{x||(ce(Kt,`RPC '${e}' stream ${s} transport opened.`),b.o_())}),V(_,Vl.EventType.CLOSE,()=>{x||(x=!0,ce(Kt,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(_))}),V(_,Vl.EventType.ERROR,k=>{x||(x=!0,pa(Kt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),b.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),V(_,Vl.EventType.MESSAGE,k=>{if(!x){const F=k.data[0];ze(!!F,16349);const q=F,K=q?.error||q[0]?.error;if(K){ce(Kt,`RPC '${e}' stream ${s} received error:`,K);const J=K.status;let X=function(I){const A=vt[I];if(A!==void 0)return jE(A)}(J),oe=K.message;X===void 0&&(X=Z.INTERNAL,oe="Unknown error status: "+J+" with message "+K.message),x=!0,b.a_(new pe(X,oe)),_.close()}else ce(Kt,`RPC '${e}' stream ${s} received:`,F),b.u_(F)}}),V(h,iE.STAT_EVENT,k=>{k.stat===zp.PROXY?ce(Kt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===zp.NOPROXY&&ce(Kt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function mp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n){return new MR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ce("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="PersistentStream";class eT{constructor(e,t,r,s,a,u,h,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(ai(t.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===t&&this.G_(r,s)},r=>{e(()=>{const s=new pe(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(__,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ce(__,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N4 extends eT{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=FR(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Er(u.readTime):Pe.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Jp(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=Kp(f)?{documents:BR(a,f)}:{query:zR(a,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=zE(a,u.resumeToken);const p=Qp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Pe.min())>0){h.readTime=kh(a,u.snapshotVersion.toTimestamp());const p=Qp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=HR(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Jp(this.serializer),t.removeTarget=e,this.q_(t)}}class D4 extends eT{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=UR(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Jp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jR(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{}class M4 extends V4{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,Yp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Z.UNKNOWN,a.toString())})}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Ho(e,Yp(t,r),s,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(Z.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class L4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ai(t),this.aa=!1):ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="RemoteStore";class O4{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{ro(this)&&(ce(Qs,"Restarting streams for network reachability change."),await async function(f){const p=Ae(f);p.Ea.add(4),await Tu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await dd(p)}(this))})}),this.Ra=new L4(r,s)}}async function dd(n){if(ro(n))for(const e of n.da)await e(!0)}async function Tu(n){for(const e of n.da)await e(!1)}function tT(n,e){const t=Ae(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),rg(t)?ng(t):Ra(t).O_()&&tg(t,e))}function eg(n,e){const t=Ae(n),r=Ra(t);t.Ia.delete(e),r.O_()&&nT(t,e),t.Ia.size===0&&(r.O_()?r.L_():ro(t)&&t.Ra.set("Unknown"))}function tg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ra(n).Y_(e)}function nT(n,e){n.Va.Ue(e),Ra(n).Z_(e)}function ng(n){n.Va=new bR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Ra(n).start(),n.Ra.ua()}function rg(n){return ro(n)&&!Ra(n).x_()&&n.Ia.size>0}function ro(n){return Ae(n).Ea.size===0}function rT(n){n.Va=void 0}async function F4(n){n.Ra.set("Online")}async function j4(n){n.Ia.forEach((e,t)=>{tg(n,e)})}async function U4(n,e){rT(n),rg(n)?(n.Ra.ha(e),ng(n)):n.Ra.set("Unknown")}async function B4(n,e,t){if(n.Ra.set("Online"),e instanceof BE&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const h of a.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))}(n,e)}catch(r){ce(Qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(n,r)}else if(e instanceof dh?n.Va.Ze(e):e instanceof UE?n.Va.st(e):n.Va.tt(e),!t.isEqual(Pe.min()))try{const r=await JE(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.Va.Tt(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),nT(a,f);const _=new Hi(g.target,f,p,g.sequenceNumber);tg(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){ce(Qs,"Failed to raise snapshot:",r),await Nh(n,r)}}async function Nh(n,e,t){if(!Ca(e))throw e;n.Ea.add(1),await Tu(n),n.Ra.set("Offline"),t||(t=()=>JE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(Qs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dd(n)})}function iT(n,e){return e().catch(t=>Nh(n,t,e))}async function fd(n){const e=Ae(n),t=ns(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;z4(e);)try{const s=await S4(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,$4(e,s)}catch(s){await Nh(e,s)}sT(e)&&oT(e)}function z4(n){return ro(n)&&n.Ta.length<10}function $4(n,e){n.Ta.push(e);const t=ns(n);t.O_()&&t.X_&&t.ea(e.mutations)}function sT(n){return ro(n)&&!ns(n).x_()&&n.Ta.length>0}function oT(n){ns(n).start()}async function H4(n){ns(n).ra()}async function W4(n){const e=ns(n);for(const t of n.Ta)e.ea(t.mutations)}async function q4(n,e,t){const r=n.Ta.shift(),s=Km.from(r,e,t);await iT(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await fd(n)}async function K4(n,e){e&&ns(n).X_&&await async function(r,s){if(function(u){return CR(u)&&u!==Z.ABORTED}(s.code)){const a=r.Ta.shift();ns(r).B_(),await iT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await fd(r)}}(n,e),sT(n)&&oT(n)}async function w_(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce(Qs,"RemoteStore received new credentials");const r=ro(t);t.Ea.add(3),await Tu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dd(t)}async function G4(n,e){const t=Ae(n);e?(t.Ea.delete(2),await dd(t)):e||(t.Ea.add(2),await Tu(t),t.Ra.set("Unknown"))}function Ra(n){return n.ma||(n.ma=function(t,r,s){const a=Ae(t);return a.sa(),new N4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:F4.bind(null,n),t_:j4.bind(null,n),r_:U4.bind(null,n),H_:B4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),rg(n)?ng(n):n.Ra.set("Unknown")):(await n.ma.stop(),rT(n))})),n.ma}function ns(n){return n.fa||(n.fa=function(t,r,s){const a=Ae(t);return a.sa(),new D4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:H4.bind(null,n),r_:K4.bind(null,n),ta:W4.bind(null,n),na:q4.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await fd(n)):(await n.fa.stop(),n.Ta.length>0&&(ce(Qs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,h=new ig(e,t,u,s,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(n,e){if(ai("AsyncQueue",`${e}: ${n}`),Ca(n))return new pe(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{static emptySet(e){return new ua(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Ml(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ua)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ua;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(){this.ga=new at(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class _a{constructor(e,t,r,s,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new _a(e,t,ua.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&od(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Y4{constructor(){this.queries=T_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Ae(t),a=s.queries;s.queries=T_(),a.forEach((u,h)=>{for(const f of h.Sa)f.onError(r)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function T_(){return new to(n=>AE(n),od)}async function aT(n,e){const t=Ae(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new Q4,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=sg(u,`Initialization of query '${ea(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&og(t)}async function lT(n,e){const t=Ae(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function X4(n,e){const t=Ae(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&og(t)}function J4(n,e,t){const r=Ae(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function og(n){n.Ca.forEach(e=>{e.next()})}var tm,S_;(S_=tm||(tm={})).Ma="default",S_.Cache="cache";class uT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.key=e}}class hT{constructor(e){this.key=e}}class Z4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=CE(e),this.tu=new ua(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new E_,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,_)=>{const E=s.get(g),x=ad(this.query,_)?_:null,b=!!E&&this.mutatedKeys.has(E.key),V=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;E&&x?E.data.isEqual(x.data)?b!==V&&(r.track({type:3,doc:x}),k=!0):this.su(E,x)||(r.track({type:2,doc:x}),k=!0,(f&&this.eu(x,f)>0||p&&this.eu(x,p)<0)&&(h=!0)):!E&&x?(r.track({type:0,doc:x}),k=!0):E&&!x&&(r.track({type:1,doc:E}),k=!0,(f||p)&&(h=!0)),k&&(x?(u=u.add(x),a=V?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:h,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((g,_)=>function(x,b){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:k})}};return V(x)-V(b)}(g.type,_.type)||this.eu(g.doc,_.doc)),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new _a(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new E_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new hT(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new cT(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ne();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return _a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class ek{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tk{constructor(e){this.key=e,this.hu=!1}}class nk{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new to(h=>AE(h),od),this.Iu=new Map,this.Eu=new Set,this.du=new at(ye.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=va.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rk(n,e,t=!0){const r=yT(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await dT(r,e,t,!0),s}async function ik(n,e){const t=yT(n);await dT(t,e,!0,!1)}async function dT(n,e,t,r){const s=await I4(n.localStore,wr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await sk(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&tT(n.remoteStore,s),h}async function sk(n,e,t,r,s){n.pu=(_,E,x)=>async function(V,k,F,q){let K=k.view.ru(F);K.Cs&&(K=await m_(V.localStore,k.query,!1).then(({documents:N})=>k.view.ru(N,K)));const J=q&&q.targetChanges.get(k.targetId),X=q&&q.targetMismatches.get(k.targetId)!=null,oe=k.view.applyChanges(K,V.isPrimaryClient,J,X);return x_(V,k.targetId,oe.au),oe.snapshot}(n,_,E,x);const a=await m_(n.localStore,e,!0),u=new Z4(e,a.Qs),h=u.ru(a.documents),f=Eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(h,n.isPrimaryClient,f);x_(n,t,p.au);const g=new ek(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function ok(n,e,t){const r=Ae(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter(u=>!od(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Zp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&eg(r.remoteStore,s.targetId),nm(r,s.targetId)}).catch(Aa)):(nm(r,s.targetId),await Zp(r.localStore,s.targetId,!0))}async function ak(n,e){const t=Ae(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),eg(t.remoteStore,r.targetId))}async function lk(n,e,t){const r=mk(n);try{const s=await function(u,h){const f=Ae(u),p=Ze.now(),g=h.reduce((x,b)=>x.add(b.key),Ne());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let b=ui(),V=Ne();return f.Ns.getEntries(x,g).next(k=>{b=k,b.forEach((F,q)=>{q.isValidDocument()||(V=V.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,b)).next(k=>{_=k;const F=[];for(const q of h){const K=SR(q,_.get(q.key).overlayedDocument);K!=null&&F.push(new no(q.key,K,wE(K.value.mapValue),ir.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,F,h)}).next(k=>{E=k;const F=k.applyToLocalDocumentSet(_,V);return f.documentOverlayCache.saveOverlays(x,k.batchId,F)})}).then(()=>({batchId:E.batchId,changes:kE(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new at(be)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p}(r,s.batchId,t),await Su(r,s.changes),await fd(r.remoteStore)}catch(s){const a=sg(s,"Failed to persist write");t.reject(a)}}async function fT(n,e){const t=Ae(n);try{const r=await E4(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Au.get(a);u&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?ze(u.hu,14607):s.removedDocuments.size>0&&(ze(u.hu,42227),u.hu=!1))}),await Su(t,r,e)}catch(r){await Aa(r)}}function I_(n,e,t){const r=Ae(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach((a,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)}),function(u,h){const f=Ae(u);f.onlineState=h;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.Sa)E.va(h)&&(p=!0)}),p&&og(f)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uk(n,e,t){const r=Ae(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new at(ye.comparator);u=u.insert(a,Yt.newNoDocument(a,Pe.min()));const h=Ne().add(a),f=new cd(Pe.min(),new Map,new at(be),u,h);await fT(r,f),r.du=r.du.remove(a),r.Au.delete(e),lg(r)}else await Zp(r.localStore,e,!1).then(()=>nm(r,e,t)).catch(Aa)}async function ck(n,e){const t=Ae(n),r=e.batch.batchId;try{const s=await w4(t.localStore,e);mT(t,r,null),pT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Su(t,s)}catch(s){await Aa(s)}}async function hk(n,e,t){const r=Ae(n);try{const s=await function(u,h){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(ze(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);mT(r,e,t),pT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Su(r,s)}catch(s){await Aa(s)}}function pT(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function mT(n,e,t){const r=Ae(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function nm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||gT(n,r)})}function gT(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(eg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),lg(n))}function x_(n,e,t){for(const r of t)r instanceof cT?(n.Ru.addReference(r.key,e),dk(n,r)):r instanceof hT?(ce(ag,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||gT(n,r.key)):Te(19791,{wu:r})}function dk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ce(ag,"New document in limbo: "+t),n.Eu.add(r),lg(n))}function lg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Je.fromString(e)),r=n.fu.next();n.Au.set(r,new tk(t)),n.du=n.du.insert(t,r),tT(n.remoteStore,new Hi(wr(Hm(t.path)),r,"TargetPurposeLimboResolution",nd.ce))}}async function Su(n,e,t){const r=Ae(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((h,f)=>{u.push(r.pu(f,e,t).then(p=>{if((p||t)&&r.isPrimaryClient){const g=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){s.push(p);const g=Jm.As(f.targetId,p);a.push(g)}}))}),await Promise.all(u),r.Pu.H_(s),await async function(f,p){const g=Ae(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Y.forEach(p,E=>Y.forEach(E.Es,x=>g.persistence.referenceDelegate.addReference(_,E.targetId,x)).next(()=>Y.forEach(E.ds,x=>g.persistence.referenceDelegate.removeReference(_,E.targetId,x)))))}catch(_){if(!Ca(_))throw _;ce(Zm,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const x=g.Ms.get(E),b=x.snapshotVersion,V=x.withLastLimboFreeSnapshotVersion(b);g.Ms=g.Ms.insert(E,V)}}}(r.localStore,a))}async function fk(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce(ag,"User change. New user:",e.toKey());const r=await XE(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(h=>{h.forEach(f=>{f.reject(new pe(Z.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Su(t,r.Ls)}}function pk(n,e){const t=Ae(n),r=t.Au.get(e);if(r&&r.hu)return Ne().add(r.key);{let s=Ne();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}function yT(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uk.bind(null,e),e.Pu.H_=X4.bind(null,e.eventManager),e.Pu.yu=J4.bind(null,e.eventManager),e}function mk(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ck.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hk.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _4(this.persistence,new g4,e.initialUser,this.serializer)}Cu(e){return new YE(Xm.mi,this.serializer)}Du(e){return new P4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class gk extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof bh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new t4(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new YE(r=>bh.mi(r,t),this.serializer)}}class rm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>I_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fk.bind(null,this.syncEngine),await G4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Y4}()}createDatastore(e){const t=hd(e.databaseInfo.databaseId),r=function(a){return new b4(a)}(e.databaseInfo);return function(a,u,h,f){return new M4(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,h){return new O4(r,s,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>I_(this.syncEngine,t,0),function(){return v_.v()?new v_:new A4}())}createSyncEngine(e,t){return function(s,a,u,h,f,p,g){const _=new nk(s,a,u,h,f,p);return g&&(_.gu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=Ae(t);ce(Qs,"RemoteStore shutting down."),r.Ea.add(5),await Tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class yk{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Qt.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{ce(rs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ce(rs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gp(n,e){n.asyncQueue.verifyOperationInProgress(),ce(rs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await XE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function P_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vk(n);ce(rs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>w_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>w_(e.remoteStore,s)),n._onlineComponents=e}async function vk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(rs,"Using user provided OfflineComponentProvider");try{await gp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Z.FAILED_PRECONDITION||s.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;pa("Error using user provided cache. Falling back to memory cache: "+t),await gp(n,new Dh)}}else ce(rs,"Using default OfflineComponentProvider"),await gp(n,new gk(void 0));return n._offlineComponents}async function _T(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(rs,"Using user provided OnlineComponentProvider"),await P_(n,n._uninitializedComponentsProvider._online)):(ce(rs,"Using default OnlineComponentProvider"),await P_(n,new rm))),n._onlineComponents}function _k(n){return _T(n).then(e=>e.syncEngine)}async function wT(n){const e=await _T(n),t=e.eventManager;return t.onListen=rk.bind(null,e.syncEngine),t.onUnlisten=ok.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ik.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ak.bind(null,e.syncEngine),t}function wk(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const g=new vT({next:E=>{g.Nu(),u.enqueueAndForget(()=>lT(a,_));const x=E.docs.has(h);!x&&E.fromCache?p.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&f&&f.source==="server"?p.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new uT(Hm(h.path),g,{includeMetadataChanges:!0,qa:!0});return aT(a,_)}(await wT(n),n.asyncQueue,e,t,r)),r.promise}function Ek(n,e,t={}){const r=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const g=new vT({next:E=>{g.Nu(),u.enqueueAndForget(()=>lT(a,_)),E.fromCache&&f.source==="server"?p.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new uT(h,g,{includeMetadataChanges:!0,qa:!0});return aT(a,_)}(await wT(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="firestore.googleapis.com",C_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TT,this.ssl=C_}else this.host=e.host,this.ssl=e.ssl??C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZR)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ET(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xC;switch(r.type){case"firstParty":return new RC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=A_.get(t);r&&(ce("ComponentProvider","Removing Datastore"),A_.delete(t),r.terminate())}(this),Promise.resolve()}}function Tk(n,e,t,r={}){n=li(n,pd);const s=Js(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(bm(`https://${h}`),Nm("Firestore",!0)),a.host!==TT&&a.host!==h&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:h,ssl:s,emulatorOptions:r};if(!qs(f,u)&&(n._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Qt.MOCK_USER;else{p=Qw(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Qt(_)}n._authCredentials=new PC(new lE(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new md(this.firestore,e,this._query)}}class Pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}toJSON(){return{type:Pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(_u(t,Pt._jsonSchema))return new Pt(e,r||null,new ye(Je.fromString(t.referencePath)))}}Pt._jsonSchemaVersion="firestore/documentReference/1.0",Pt._jsonSchema={type:_t("string",Pt._jsonSchemaVersion),referencePath:_t("string")};class Gi extends md{constructor(e,t,r){super(e,t,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new ye(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Sk(n,e,...t){if(n=rn(n),uE("collection","path",e),n instanceof pd){const r=Je.fromString(e,...t);return $0(r),new Gi(n,null,r)}{if(!(n instanceof Pt||n instanceof Gi))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return $0(r),new Gi(n.firestore,null,r)}}function ST(n,e,...t){if(n=rn(n),arguments.length===1&&(e=Om.newId()),uE("doc","path",e),n instanceof pd){const r=Je.fromString(e,...t);return z0(r),new Pt(n,null,new ye(r))}{if(!(n instanceof Pt||n instanceof Gi))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return z0(r),new Pt(n.firestore,n instanceof Gi?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="AsyncQueue";class b_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const r=mp();r&&ce(k_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=mp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=mp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new ni;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;ce(k_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ai("INTERNAL UNHANDLED ERROR: ",N_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ig.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:N_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function N_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ka extends pd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new b_,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b_(e),this._firestoreClient=void 0,await e}}}function Ik(n,e){const t=typeof n=="object"?n:Mm(),r=typeof n=="string"?n:xh,s=td(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=qw("firestore");a&&Tk(s,...a)}return s}function ug(n){if(n._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||xk(n),n._firestoreClient}function xk(n){const e=n._freezeSettings(),t=function(s,a,u,h){return new qC(s,a,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ET(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new yk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(s){const a=s?._online.build();return{_offline:s?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(zt.fromBase64String(e))}catch(t){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(_u(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:_t("string",On._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Tr._jsonSchemaVersion}}static fromJSON(e){if(_u(e,Tr._jsonSchema))return new Tr(e.latitude,e.longitude)}}Tr._jsonSchemaVersion="firestore/geoPoint/1.0",Tr._jsonSchema={type:_t("string",Tr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(_u(e,Sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Sr(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Sr._jsonSchemaVersion="firestore/vectorValue/1.0",Sr._jsonSchema={type:_t("string",Sr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=/^__.*__$/;class Ak{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new no(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}function IT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class dg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IT(this.Ac)&&Pk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ck{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||hd(e)}Cc(e,t,r,s=!1){return new dg({Ac:e,methodName:t,Dc:r,path:Bt.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(n){const e=n._freezeSettings(),t=hd(n._databaseId);return new Ck(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PT(n,e,t,r,s,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);kT("Data must be an object, but it was:",u,r);const h=CT(r,u);let f,p;if(a.merge)f=new tr(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=Rk(e,_,t);if(!u.contains(E))throw new pe(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);bk(g,E)||g.push(E)}f=new tr(g),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new Ak(new Ln(h),f,p)}class fg extends hg{_toFieldTransform(e){return new _R(e.path,new iu)}isEqual(e){return e instanceof fg}}function AT(n,e){if(RT(n=rn(n)))return kT("Unsupported field value:",e,n),CT(n,e);if(n instanceof hg)return function(r,s){if(!IT(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const h of r){let f=AT(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:kh(s.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(s.serializer,a)}}if(r instanceof Tr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:zE(s.serializer,r._byteString)};if(r instanceof Pt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Qm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Sr)return function(u,h){return{mapValue:{fields:{[vE]:{stringValue:_E},[Ph]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return Wm(h.serializer,p)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Fm(r)}`)}(n,e)}function CT(n,e){const t={};return dE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(n,(r,s)=>{const a=AT(s,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function RT(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof Tr||n instanceof On||n instanceof Pt||n instanceof hg||n instanceof Sr)}function kT(n,e,t){if(!RT(t)||!cE(t)){const r=Fm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Rk(n,e,t){if((e=rn(e))instanceof cg)return e._internalPath;if(typeof e=="string")return bT(n,e);throw Vh("Field path arguments must be of type string or ",n,!1,void 0,t)}const kk=new RegExp("[~\\*/\\[\\]]");function bT(n,e,t){if(e.search(kk)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new cg(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new pe(Z.INVALID_ARGUMENT,h+n+f)}function bk(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Nk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DT("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Nk extends NT{data(){return super.data()}}function DT(n,e){return typeof e=="string"?bT(n,e):e instanceof cg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vk{convertValue(e,t="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return eo(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[Ph].arrayValue?.values?.map(r=>mt(r.doubleValue));return new Sr(t)}convertGeoPoint(e){return new Tr(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=id(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);ze(GE(r),9688,{name:e});const s=new nu(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return s.isEqual(t)||ai(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hs extends NT{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(DT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Hs._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:_t("string",Hs._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class fh extends Hs{data(e={}){return super.data(e)}}class ca{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ol(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fh(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(h=>{const f=new fh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ol(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new fh(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Ol(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:Mk(h.type),doc:f,oldIndex:p,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Mk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(n){n=li(n,Pt);const e=li(n.firestore,ka);return wk(ug(e),n._key).then(t=>Fk(e,n,t))}ca._jsonSchemaVersion="firestore/querySnapshot/1.0",ca._jsonSchema={type:_t("string",ca._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class MT extends Vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,t)}}function Ok(n){n=li(n,md);const e=li(n.firestore,ka),t=ug(e),r=new MT(e);return Dk(n._query),Ek(t,n._query).then(s=>new ca(e,r,n,s))}function X9(n,e,t){n=li(n,Pt);const r=li(n.firestore,ka),s=VT(n.converter,e,t);return pg(r,[PT(xT(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,ir.none())])}function J9(n){return pg(li(n.firestore,ka),[new qm(n._key,ir.none())])}function Z9(n,e){const t=li(n.firestore,ka),r=ST(n),s=VT(n.converter,e);return pg(t,[PT(xT(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function pg(n,e){return function(r,s){const a=new ni;return r.asyncQueue.enqueueAndForget(async()=>lk(await _k(r),s,a)),a.promise}(ug(n),e)}function Fk(n,e,t){const r=t.docs.get(e._key),s=new MT(n);return new Hs(n,s,e._key,r,new Ol(t.hasPendingWrites,t.fromCache),e.converter)}function eM(){return new fg("serverTimestamp")}(function(e,t=!0){(function(s){Pa=s})(Zs),Ks(new Xi("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new ka(new AC(r.getProvider("auth-internal")),new kC(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(p.options.projectId,g)}(u,s),u);return a={useFetchStreams:t,...a},h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),_r(F0,j0,e),_r(F0,j0,"esm2020")})();function LT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jk=LT,OT=new yu("auth","Firebase",LT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Dm("@firebase/auth");function Uk(n,...e){Mh.logLevel<=ke.WARN&&Mh.warn(`Auth (${Zs}): ${n}`,...e)}function ph(n,...e){Mh.logLevel<=ke.ERROR&&Mh.error(`Auth (${Zs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(n,...e){throw mg(n,...e)}function Ir(n,...e){return mg(n,...e)}function FT(n,e,t){const r={...jk(),[e]:t};return new yu("auth","Firebase",r).create(e,{appName:n.name})}function Qi(n){return FT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return OT.create(n,...e)}function Ee(n,e,...t){if(!n)throw mg(e,...t)}function Zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ph(e),new Error(e)}function ci(n,e){n||Zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){return typeof self<"u"&&self.location?.href||""}function Bk(){return D_()==="http:"||D_()==="https:"}function D_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bk()||nA()||"connection"in navigator)?navigator.onLine:!0}function $k(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=ZP()||rA()}get(){return zk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(n,e){ci(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qk=new Iu(3e4,6e4);function io(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function os(n,e,t,r,s={}){return UT(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=vu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return tA()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Js(n.emulatorConfig.host)&&(p.credentials="include"),jT.fetch()(await BT(n,n.config.apiHost,t,h),p)})}async function UT(n,e,t){n._canInitEmulator=!1;const r={...Hk,...e};try{const s=new Gk(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Zc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Zc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Zc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw FT(n,g,p);sr(n,g)}}catch(s){if(s instanceof Dr)throw s;sr(n,"network-request-failed",{message:String(s)})}}async function gd(n,e,t,r,s={}){const a=await os(n,e,t,r,s);return"mfaPendingCredential"in a&&sr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function BT(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?gg(n.config,s):`${n.config.apiScheme}://${s}`;return Wk.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function Kk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ir(this.auth,"network-request-failed")),qk.get())})}}function Zc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ir(n,e,r);return s.customData._tokenResponse=t,s}function V_(n){return n!==void 0&&n.enterprise!==void 0}class Qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Kk(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Yk(n,e){return os(n,"GET","/v2/recaptchaConfig",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function Lh(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Jk(n,e=!1){const t=rn(n),r=await t.getIdToken(e),s=yg(r);Ee(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a?.sign_in_provider;return{claims:s,token:r,authTime:Kl(yp(s.auth_time)),issuedAtTime:Kl(yp(s.iat)),expirationTime:Kl(yp(s.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function yp(n){return Number(n)*1e3}function yg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const s=Hw(t);return s?JSON.parse(s):(ph("Failed to decode base64 JWT payload"),null)}catch(s){return ph("Caught error parsing JWT payload as JSON",s?.toString()),null}}function M_(n){const e=yg(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dr&&Zk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Zk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(n){const e=n.auth,t=await n.getIdToken(),r=await au(n,Lh(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=s.providerUserInfo?.length?zT(s.providerUserInfo):[],u=n3(n.providerData,a),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,p=h?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new sm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function t3(n){const e=rn(n);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function n3(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function zT(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r3(n,e){const t=await UT(n,{},async()=>{const r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await BT(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Js(n.emulatorConfig.host)&&(f.credentials="include"),jT.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function i3(n,e){return os(n,"POST","/v2/accounts:revokeToken",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=M_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await r3(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ha;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ee(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ha,this.toJSON())}_performRefresh(){return Zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class nr{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new e3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Jk(this,e)}reload(){return t3(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new nr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Qi(this.auth));const e=await this.getIdToken();return await au(this,Xk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:x,providerData:b,stsTokenManager:V}=t;Ee(_&&V,e,"internal-error");const k=ha.fromJSON(this.name,V);Ee(typeof _=="string",e,"internal-error"),Fi(r,e.name),Fi(s,e.name),Ee(typeof E=="boolean",e,"internal-error"),Ee(typeof x=="boolean",e,"internal-error"),Fi(a,e.name),Fi(u,e.name),Fi(h,e.name),Fi(f,e.name),Fi(p,e.name),Fi(g,e.name);const F=new nr({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:x,photoURL:u,phoneNumber:a,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:g});return b&&Array.isArray(b)&&(F.providerData=b.map(q=>({...q}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new ha;s.updateFromServerResponse(t);const a=new nr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Oh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ee(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?zT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!a?.length,h=new ha;h.updateFromIdToken(r);const f=new nr({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!a?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;function ei(n){ci(n instanceof Function,"Expected a class definition");let e=L_.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,L_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$T.type="NONE";const O_=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(n,e,t){return`firebase:${n}:${e}:${t}`}class da{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=mh(this.userKey,s.apiKey,a),this.fullPersistenceKey=mh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lh(this.auth,{idToken:e}).catch(()=>{});return t?nr._fromGetAccountInfoResponse(this.auth,t,e):null}return nr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new da(ei(O_),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ei(O_);const u=mh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const E=await Lh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await nr._fromGetAccountInfoResponse(e,E,g)}else _=nr._fromJSON(e,g);p!==a&&(h=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new da(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new da(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QT(e))return"Blackberry";if(YT(e))return"Webos";if(WT(e))return"Safari";if((e.includes("chrome/")||qT(e))&&!e.includes("edge/"))return"Chrome";if(GT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function HT(n=Jt()){return/firefox\//i.test(n)}function WT(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qT(n=Jt()){return/crios\//i.test(n)}function KT(n=Jt()){return/iemobile/i.test(n)}function GT(n=Jt()){return/android/i.test(n)}function QT(n=Jt()){return/blackberry/i.test(n)}function YT(n=Jt()){return/webos/i.test(n)}function vg(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function s3(n=Jt()){return vg(n)&&!!window.navigator?.standalone}function o3(){return iA()&&document.documentMode===10}function XT(n=Jt()){return vg(n)||GT(n)||YT(n)||QT(n)||/windows phone/i.test(n)||KT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n,e=[]){let t;switch(n){case"Browser":t=F_(Jt());break;case"Worker":t=`${F_(Jt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(n,e={}){return os(n,"GET","/v2/passwordPolicy",io(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=6;class c3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??u3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j_(this),this.idTokenSubscription=new j_(this),this.beforeStateQueue=new a3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await da.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lh(this,{idToken:e}),r=await nr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!a||a===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$k()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Qi(this));const t=e?rn(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await l3(this),t=new c3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await i3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Uk(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ba(n){return rn(n)}class j_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d3(n){yd=n}function ZT(n){return yd.loadJS(n)}function f3(){return yd.recaptchaEnterpriseScript}function p3(){return yd.gapiScript}function m3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class g3{constructor(){this.enterprise=new y3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class y3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const v3="recaptcha-enterprise",e2="NO_RECAPTCHA";class _3{constructor(e){this.type=v3,this.auth=ba(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,h)=>{Yk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new Qk(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function s(a,u,h){const f=window.grecaptcha;V_(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(e2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new g3().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(h=>{if(!t&&V_(window.grecaptcha))s(h,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=f3();f.length!==0&&(f+=h),ZT(f).then(()=>{s(h,a,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function U_(n,e,t,r=!1,s=!1){const a=new _3(n);let u;if(s)u=e2;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function B_(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await U_(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await U_(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n,e){const t=td(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(qs(a,e??{}))return s;sr(s,"already-initialized")}return t.initialize({options:e})}function E3(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ei);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function T3(n,e,t){const r=ba(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=t2(e),{host:u,port:h}=S3(e),f=h===null?"":`:${h}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(qs(p,r.config.emulator)&&qs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Js(u)?(bm(`${a}//${u}${f}`),Nm("Auth",!0)):I3()}function t2(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S3(n){const e=t2(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:z_(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:z_(u)}}}function z_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function I3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function x3(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P3(n,e){return gd(n,"POST","/v1/accounts:signInWithPassword",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A3(n,e){return gd(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}async function C3(n,e){return gd(n,"POST","/v1/accounts:signInWithEmailLink",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends _g{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new lu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new lu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B_(e,t,"signInWithPassword",P3);case"emailLink":return A3(e,{email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B_(e,r,"signUpPassword",x3);case"emailLink":return C3(e,{idToken:t,email:this._email,oobCode:this._password});default:sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(n,e){return gd(n,"POST","/v1/accounts:signInWithIdp",io(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="http://localhost";class Ys extends _g{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new Ys(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return fa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,fa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fa(e,t)}buildRequest(){const e={requestUri:R3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function b3(n){const e=Nl(Dl(n)).link,t=e?Nl(Dl(e)).deep_link_id:null,r=Nl(Dl(n)).deep_link_id;return(r?Nl(Dl(r)).link:null)||r||t||e||n}class wg{constructor(e){const t=Nl(Dl(e)),r=t.apiKey??null,s=t.oobCode??null,a=k3(t.mode??null);Ee(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=b3(e);try{return new wg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.providerId=Na.PROVIDER_ID}static credential(e,t){return lu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=wg.parseLink(t);return Ee(r,"argument-error"),lu._fromEmailAndCode(e,r.code,r.tenantId)}}Na.PROVIDER_ID="password";Na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends n2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends xu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Bi.credential(t,r)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends xu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends xu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $i.credential(t,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await nr._fromIdTokenResponse(e,r,s),u=$_(r);return new wa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=$_(r);return new wa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function $_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends Dr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Fh(e,t,r,s)}}function r2(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,a,e,r):a})}async function N3(n,e,t=!1){const r=await au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return wa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(n,e,t=!1){const{auth:r}=n;if(Mn(r.app))return Promise.reject(Qi(r));const s="reauthenticate";try{const a=await au(n,r2(r,s,e,n),t);Ee(a.idToken,r,"internal-error");const u=yg(a.idToken);Ee(u,r,"internal-error");const{sub:h}=u;return Ee(n.uid===h,r,"user-mismatch"),wa._forOperation(n,s,a)}catch(a){throw a?.code==="auth/user-not-found"&&sr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(n,e,t=!1){if(Mn(n.app))return Promise.reject(Qi(n));const r="signIn",s=await r2(n,r,e),a=await wa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function V3(n,e){return i2(ba(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(n){const e=ba(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function tM(n,e,t){return Mn(n.app)?Promise.reject(Qi(n)):V3(rn(n),Na.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&M3(n),r})}function L3(n,e,t,r){return rn(n).onIdTokenChanged(e,t,r)}function O3(n,e,t){return rn(n).beforeAuthStateChanged(e,t)}function nM(n,e,t,r){return rn(n).onAuthStateChanged(e,t,r)}function rM(n){return rn(n).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=1e3,j3=10;class o2 extends s2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);o3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,j3):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},F3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}o2.type="LOCAL";const U3=o2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends s2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}a2.type="SESSION";const l2=a2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await B3(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=Eg("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function $3(n){xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function H3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W3(){return navigator?.serviceWorker?.controller||null}function q3(){return u2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="firebaseLocalStorageDb",K3=1,Uh="firebaseLocalStorage",h2="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _d(n,e){return n.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function G3(){const n=indexedDB.deleteDatabase(c2);return new Pu(n).toPromise()}function om(){const n=indexedDB.open(c2,K3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Uh,{keyPath:h2})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await G3(),e(await om()))})})}async function H_(n,e,t){const r=_d(n,!0).put({[h2]:e,value:t});return new Pu(r).toPromise()}async function Q3(n,e){const t=_d(n,!1).get(e),r=await new Pu(t).toPromise();return r===void 0?null:r.value}function W_(n,e){const t=_d(n,!0).delete(e);return new Pu(t).toPromise()}const Y3=800,X3=3;class d2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>X3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(q3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await H3(),!this.activeServiceWorker)return;this.sender=new z3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await H_(e,jh,"1"),await W_(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>H_(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Q3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=_d(s,!1).getAll();return new Pu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d2.type="LOCAL";const J3=d2;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(n,e){return e?ei(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends _g{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eb(n){return i2(n.auth,new Tg(n),n.bypassAuthState)}function tb(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),D3(t,new Tg(n),n.bypassAuthState)}async function nb(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),N3(t,new Tg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eb;case"linkViaPopup":case"linkViaRedirect":return nb;case"reauthViaPopup":case"reauthViaRedirect":return tb;default:sr(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=new Iu(2e3,1e4);class ra extends f2{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Eg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rb.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="pendingRedirect",gh=new Map;class sb extends f2{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const r=await ob(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ob(n,e){const t=ub(e),r=lb(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function ab(n,e){gh.set(n._key(),e)}function lb(n){return ei(n._redirectPersistence)}function ub(n){return mh(ib,n.config.apiKey,n.name)}async function cb(n,e,t=!1){if(Mn(n.app))return Promise.reject(Qi(n));const r=ba(n),s=Z3(r,e),u=await new sb(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=600*1e3;class db{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fb(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!p2(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ir(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hb&&this.cachedEventUids.clear(),this.cachedEventUids.has(q_(e))}saveEventToCache(e){this.cachedEventUids.add(q_(e)),this.lastProcessedEventTime=Date.now()}}function q_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function p2({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function fb(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p2(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pb(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gb=/^https?/;async function yb(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pb(n);for(const t of e)try{if(vb(t))return}catch{}sr(n,"unauthorized-domain")}function vb(n){const e=im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!gb.test(t))return!1;if(mb.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=new Iu(3e4,6e4);function K_(){const n=xr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wb(n){return new Promise((e,t)=>{function r(){K_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{K_(),t(Ir(n,"network-request-failed"))},timeout:_b.get()})}if(xr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(xr().gapi?.load)r();else{const s=m3("iframefcb");return xr()[s]=()=>{gapi.load?r():t(Ir(n,"network-request-failed"))},ZT(`${p3()}?onload=${s}`).catch(a=>t(a))}}).catch(e=>{throw yh=null,e})}let yh=null;function Eb(n){return yh=yh||wb(n),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Iu(5e3,15e3),Sb="__/auth/iframe",Ib="emulator/auth/iframe",xb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ab(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?gg(e,Ib):`https://${n.config.authDomain}/${Sb}`,r={apiKey:e.apiKey,appName:n.name,v:Zs},s=Pb.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${vu(r).slice(1)}`}async function Cb(n){const e=await Eb(n),t=xr().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Ab(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xb,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Ir(n,"network-request-failed"),h=xr().setTimeout(()=>{a(u)},Tb.get());function f(){xr().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kb=500,bb=600,Nb="_blank",Db="http://localhost";class G_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vb(n,e,t,r=kb,s=bb){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...Rb,width:r.toString(),height:s.toString(),top:a,left:u},p=Jt().toLowerCase();t&&(h=qT(p)?Nb:t),HT(p)&&(e=e||Db,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[x,b])=>`${E}${x}=${b},`,"");if(s3(p)&&h!=="_self")return Mb(e||"",h),new G_(null);const _=window.open(e||"",h,g);Ee(_,n,"popup-blocked");try{_.focus()}catch{}return new G_(_)}function Mb(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__/auth/handler",Ob="emulator/auth/handler",Fb=encodeURIComponent("fac");async function Q_(n,e,t,r,s,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Zs,eventId:s};if(e instanceof n2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",hA(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof xu){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await n._getAppCheckToken(),p=f?`#${Fb}=${encodeURIComponent(f)}`:"";return`${jb(n)}?${vu(h).slice(1)}${p}`}function jb({config:n}){return n.emulator?gg(n,Ob):`https://${n.authDomain}/${Lb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="webStorageSupport";class Ub{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l2,this._completeRedirectFn=cb,this._overrideRedirectResult=ab}async _openPopup(e,t,r,s){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Q_(e,t,r,im(),s);return Vb(e,a,Eg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Q_(e,t,r,im(),s);return $3(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ci(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Cb(e),r=new db(e);return t.register("authEvent",s=>(Ee(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vp,{type:vp},s=>{const a=s?.[0]?.[vp];a!==void 0&&t(!!a),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XT()||WT()||vg()}}const Bb=Ub;var Y_="@firebase/auth",X_="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hb(n){Ks(new Xi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JT(n)},p=new h3(r,s,a,f);return E3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new Xi("auth-internal",e=>{const t=ba(e.getProvider("auth").getImmediate());return(r=>new zb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(Y_,X_,$b(n)),_r(Y_,X_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=300,qb=Gw("authIdTokenMaxAge")||Wb;let J_=null;const Kb=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qb)return;const s=t?.token;J_!==s&&(J_=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Gb(n=Mm()){const e=td(n,"auth");if(e.isInitialized())return e.getImmediate();const t=w3(n,{popupRedirectResolver:Bb,persistence:[J3,U3,l2]}),r=Gw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Kb(a.toString());O3(t,u,()=>u(t.currentUser)),L3(t,h=>u(h))}}const s=Ww("auth");return s&&T3(t,`http://${s}`),t}function Qb(){return document.getElementsByTagName("head")?.[0]??document}d3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Ir("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",Qb().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hb("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="firebasestorage.googleapis.com",Yb="storageBucket",Xb=120*1e3,Jb=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Dr{constructor(e,t,r=0){super(_p(e),`Firebase Storage: ${t} (${_p(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Vr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _p(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function _p(n){return"storage/"+n}function Zb(){const n="An unknown error occurred, please check the error payload for server response.";return new Vr(br.UNKNOWN,n)}function e6(){return new Vr(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t6(){return new Vr(br.CANCELED,"User canceled the upload/download.")}function n6(n){return new Vr(br.INVALID_URL,"Invalid URL '"+n+"'.")}function r6(n){return new Vr(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function Z_(n){return new Vr(br.INVALID_ARGUMENT,n)}function g2(){return new Vr(br.APP_DELETED,"The Firebase app was deleted.")}function i6(n){return new Vr(br.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=rr.makeFromUrl(e,t)}catch{return new rr(e,"")}if(r.path==="")return r;throw r6(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function p(J){J.path_=decodeURIComponent(J.path)}const g="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${_}/${g}/b/${s}/o${E}`,"i"),b={bucket:1,path:3},V=t===m2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",F=new RegExp(`^https?://${V}/${s}/${k}`,"i"),K=[{regex:h,indices:f,postModify:a},{regex:x,indices:b,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let J=0;J<K.length;J++){const X=K[J],oe=X.regex.exec(e);if(oe){const N=oe[X.indices.bucket];let I=oe[X.indices.path];I||(I=""),r=new rr(N,I),X.postModify(r);break}}if(r==null)throw n6(e);return r}}class s6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(n,e,t){let r=1,s=null,a=null,u=!1,h=0;function f(){return h===2}let p=!1;function g(...k){p||(p=!0,e.apply(null,k))}function _(k){s=setTimeout(()=>{s=null,n(x,f())},k)}function E(){a&&clearTimeout(a)}function x(k,...F){if(p){E();return}if(k){E(),g.call(null,k,...F);return}if(f()||u){E(),g.call(null,k,...F);return}r<64&&(r*=2);let K;h===1?(h=2,K=0):K=(r+Math.random())*1e3,_(K)}let b=!1;function V(k){b||(b=!0,E(),!p&&(s!==null?(k||(h=2),clearTimeout(s),_(0)):k||(h=1)))}return _(0),a=setTimeout(()=>{u=!0,V(!0)},t),V}function a6(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(n){return n!==void 0}function e1(n,e,t,r){if(r<e)throw Z_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Z_(`Invalid value for '${n}'. Expected ${t} or less.`)}function u6(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Bh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t,r,s,a,u,h,f,p,g,_,E=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,V)=>{this.resolve_=b,this.reject_=V,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new eh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===Bh.NO_ERROR,f=a.getStatus();if(!h||c6(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Bh.ABORT;r(!1,new eh(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new eh(p,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,h=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());l6(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=Zb();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(s.canceled){const f=this.appDelete_?g2():t6();u(f)}else{const f=e6();u(f)}};this.canceled_?t(!1,new eh(!1,null,!0)):this.backoffId_=o6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function d6(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function f6(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function p6(n,e){e&&(n["X-Firebase-GMPID"]=e)}function m6(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function g6(n,e,t,r,s,a,u=!0,h=!1){const f=u6(n.urlParams),p=n.url+f,g=Object.assign({},n.headers);return p6(g,e),d6(g,t),f6(g,a),m6(g,r),new h6(p,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function v6(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t){this._service=e,t instanceof rr?this._location=t:this._location=rr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zh(e,t)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return v6(this._location.path)}get storage(){return this._service}get parent(){const e=y6(this._location.path);if(e===null)return null;const t=new rr(this._location.bucket,e);return new zh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw i6(e)}}function t1(n,e){const t=e?.[Yb];return t==null?null:rr.makeFromBucketSpec(t,n)}function _6(n,e,t,r={}){n.host=`${e}:${t}`;const s=Js(e);s&&(bm(`https://${n.host}/b`),Nm("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Qw(a,n.app.options.projectId))}class w6{constructor(e,t,r,s,a,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=u,this._bucket=null,this._host=m2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xb,this._maxUploadRetryTime=Jb,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=t1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=t1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){e1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){e1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new s6(g2());{const u=g6(e,this._appId,r,s,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const n1="@firebase/storage",r1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="storage";function E6(n=Mm(),e){n=rn(n);const r=td(n,y2).getImmediate({identifier:e}),s=qw("storage");return s&&T6(r,...s),r}function T6(n,e,t,r={}){_6(n,e,t,r)}function S6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new w6(t,r,s,e,Zs)}function I6(){Ks(new Xi(y2,S6,"PUBLIC").setMultipleInstances(!0)),_r(n1,r1,""),_r(n1,r1,"esm2020")}I6();const Sg=L.createContext({});function Ig(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const wd=L.createContext(null),xg=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class x6 extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function P6({children:n,isPresent:e}){const t=L.useId(),r=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=L.useContext(xg);return L.useInsertionEffect(()=>{const{width:u,height:h,top:f,left:p}=s.current;if(e||!r.current||!u||!h)return;r.current.dataset.motionPopId=t;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${h}px !important;
            top: ${f}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),P.jsx(x6,{isPresent:e,childRef:r,sizeRef:s,children:L.cloneElement(n,{ref:r})})}const A6=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:u})=>{const h=Ig(C6),f=L.useId(),p=L.useCallback(_=>{h.set(_,!0);for(const E of h.values())if(!E)return;r&&r()},[h,r]),g=L.useMemo(()=>({id:f,initial:e,isPresent:t,custom:s,onExitComplete:p,register:_=>(h.set(_,!1),()=>h.delete(_))}),a?[Math.random(),p]:[t,p]);return L.useMemo(()=>{h.forEach((_,E)=>h.set(E,!1))},[t]),L.useEffect(()=>{!t&&!h.size&&r&&r()},[t]),u==="popLayout"&&(n=P.jsx(P6,{isPresent:t,children:n})),P.jsx(wd.Provider,{value:g,children:n})};function C6(){return new Map}function v2(n=!0){const e=L.useContext(wd);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=L.useId();L.useEffect(()=>{n&&s(a)},[n]);const u=L.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const th=n=>n.key||"";function i1(n){const e=[];return L.Children.forEach(n,t=>{L.isValidElement(t)&&e.push(t)}),e}const Pg=typeof window<"u",_2=Pg?L.useLayoutEffect:L.useEffect,Ag=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:u=!1})=>{const[h,f]=v2(u),p=L.useMemo(()=>i1(n),[n]),g=u&&!h?[]:p.map(th),_=L.useRef(!0),E=L.useRef(p),x=Ig(()=>new Map),[b,V]=L.useState(p),[k,F]=L.useState(p);_2(()=>{_.current=!1,E.current=p;for(let J=0;J<k.length;J++){const X=th(k[J]);g.includes(X)?x.delete(X):x.get(X)!==!0&&x.set(X,!1)}},[k,g.length,g.join("-")]);const q=[];if(p!==b){let J=[...p];for(let X=0;X<k.length;X++){const oe=k[X],N=th(oe);g.includes(N)||(J.splice(X,0,oe),q.push(oe))}a==="wait"&&q.length&&(J=q),F(i1(J)),V(p);return}const{forceRender:K}=L.useContext(Sg);return P.jsx(P.Fragment,{children:k.map(J=>{const X=th(J),oe=u&&!h?!1:p===k||g.includes(X),N=()=>{if(x.has(X))x.set(X,!0);else return;let I=!0;x.forEach(A=>{A||(I=!1)}),I&&(K?.(),F(E.current),u&&f?.(),r&&r())};return P.jsx(A6,{isPresent:oe,initial:!_.current||t?void 0:!1,custom:oe?void 0:e,presenceAffectsLayout:s,mode:a,onExitComplete:oe?void 0:N,children:J},X)})})},En=n=>n;let w2=En;function Cg(n){let e;return()=>(e===void 0&&(e=n()),e)}const Ea=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},ri=n=>n*1e3,ii=n=>n/1e3,R6={useManualTiming:!1};function k6(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(p){a.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,g=!1,_=!1)=>{const x=_&&r?e:t;return g&&a.add(p),x.has(p)||x.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(u=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(h),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const nh=["read","resolveKeyframes","update","preRender","render","postRender"],b6=40;function E2(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=nh.reduce((F,q)=>(F[q]=k6(a),F),{}),{read:h,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=u,x=()=>{const F=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,b6),1),s.timestamp=F,s.isProcessing=!0,h.process(s),f.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(x))},b=()=>{t=!0,r=!0,s.isProcessing||n(x)};return{schedule:nh.reduce((F,q)=>{const K=u[q];return F[q]=(J,X=!1,oe=!1)=>(t||b(),K.schedule(J,X,oe)),F},{}),cancel:F=>{for(let q=0;q<nh.length;q++)u[nh[q]].cancel(F)},state:s,steps:u}}const{schedule:et,cancel:is,state:jt,steps:wp}=E2(typeof requestAnimationFrame<"u"?requestAnimationFrame:En,!0),Rg=L.createContext({strict:!1}),s1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ta={};for(const n in s1)Ta[n]={isEnabled:e=>s1[n].some(t=>!!e[t])};function am(n){for(const e in n)Ta[e]={...Ta[e],...n[e]}}function N6({children:n,features:e,strict:t=!1}){const[,r]=L.useState(!Ep(e)),s=L.useRef(void 0);if(!Ep(e)){const{renderer:a,...u}=e;s.current=a,am(u)}return L.useEffect(()=>{Ep(e)&&e().then(({renderer:a,...u})=>{am(u),s.current=a,r(!0)})},[]),P.jsx(Rg.Provider,{value:{renderer:s.current,strict:t},children:n})}function Ep(n){return typeof n=="function"}const D6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $h(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||D6.has(n)}let T2=n=>!$h(n);function V6(n){n&&(T2=e=>e.startsWith("on")?!$h(e):n(e))}try{V6(require("@emotion/is-prop-valid").default)}catch{}function M6(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(T2(s)||t===!0&&$h(s)||!e&&!$h(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function L6(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const Ed=L.createContext({});function uu(n){return typeof n=="string"||Array.isArray(n)}function Td(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const kg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bg=["initial",...kg];function Sd(n){return Td(n.animate)||bg.some(e=>uu(n[e]))}function S2(n){return!!(Sd(n)||n.variants)}function O6(n,e){if(Sd(n)){const{initial:t,animate:r}=n;return{initial:t===!1||uu(t)?t:void 0,animate:uu(r)?r:void 0}}return n.inherit!==!1?e:{}}function F6(n){const{initial:e,animate:t}=O6(n,L.useContext(Ed));return L.useMemo(()=>({initial:e,animate:t}),[o1(e),o1(t)])}function o1(n){return Array.isArray(n)?n.join(" "):n}const j6=Symbol.for("motionComponentSymbol");function ia(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function U6(n,e,t){return L.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):ia(t)&&(t.current=r))},[e])}const Ng=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),B6="framerAppearId",I2="data-"+Ng(B6),{schedule:Dg}=E2(queueMicrotask,!1),x2=L.createContext({});function z6(n,e,t,r,s){var a,u;const{visualElement:h}=L.useContext(Ed),f=L.useContext(Rg),p=L.useContext(wd),g=L.useContext(xg).reducedMotion,_=L.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(n,{visualState:e,parent:h,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,x=L.useContext(x2);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&$6(_.current,t,s,x);const b=L.useRef(!1);L.useInsertionEffect(()=>{E&&b.current&&E.update(t,p)});const V=t[I2],k=L.useRef(!!V&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,V))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,V)));return _2(()=>{E&&(b.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Dg.render(E.render),k.current&&E.animationState&&E.animationState.animateChanges())}),L.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,V)}),k.current=!1))}),E}function $6(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:P2(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||h&&ia(h),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function P2(n){if(n)return n.options.allowProjection!==!1?n.projection:P2(n.parent)}function H6({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,u;n&&am(n);function h(p,g){let _;const E={...L.useContext(xg),...p,layoutId:W6(p)},{isStatic:x}=E,b=F6(p),V=r(p,x);if(!x&&Pg){q6();const k=K6(E);_=k.MeasureLayout,b.visualElement=z6(s,V,E,e,k.ProjectionNode)}return P.jsxs(Ed.Provider,{value:b,children:[_&&b.visualElement?P.jsx(_,{visualElement:b.visualElement,...E}):null,t(s,p,U6(V,b.visualElement,g),V,x,b.visualElement)]})}h.displayName=`motion.${typeof s=="string"?s:`create(${(u=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&u!==void 0?u:""})`}`;const f=L.forwardRef(h);return f[j6]=s,f}function W6({layoutId:n}){const e=L.useContext(Sg).id;return e&&n!==void 0?e+"-"+n:n}function q6(n,e){L.useContext(Rg).strict}function K6(n){const{drag:e,layout:t}=Ta;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const G6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vg(n){return typeof n!="string"||n.includes("-")?!1:!!(G6.indexOf(n)>-1||/[A-Z]/u.test(n))}function a1(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Mg(n,e,t,r){if(typeof e=="function"){const[s,a]=a1(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=a1(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const lm=n=>Array.isArray(n),Q6=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),Y6=n=>lm(n)?n[n.length-1]||0:n,Xt=n=>!!(n&&n.getVelocity);function vh(n){const e=Xt(n)?n.get():n;return Q6(e)?e.toValue():e}function X6({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const u={latestValues:J6(r,s,a,n),renderState:e()};return t&&(u.onMount=h=>t({props:r,current:h,...u}),u.onUpdate=h=>t(h)),u}const A2=n=>(e,t)=>{const r=L.useContext(Ed),s=L.useContext(wd),a=()=>X6(n,e,r,s);return t?a():Ig(a)};function J6(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=vh(a[E]);let{initial:u,animate:h}=n;const f=Sd(n),p=S2(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const _=g?h:u;if(_&&typeof _!="boolean"&&!Td(_)){const E=Array.isArray(_)?_:[_];for(let x=0;x<E.length;x++){const b=Mg(n,E[x]);if(b){const{transitionEnd:V,transition:k,...F}=b;for(const q in F){let K=F[q];if(Array.isArray(K)){const J=g?K.length-1:0;K=K[J]}K!==null&&(s[q]=K)}for(const q in V)s[q]=V[q]}}}return s}const Da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],so=new Set(Da),C2=n=>e=>typeof e=="string"&&e.startsWith(n),R2=C2("--"),Z6=C2("var(--"),Lg=n=>Z6(n)?eN.test(n.split("/*")[0].trim()):!1,eN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,k2=(n,e)=>e&&typeof n=="number"?e.transform(n):n,hi=(n,e,t)=>t>e?e:t<n?n:t,Va={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},cu={...Va,transform:n=>hi(0,1,n)},rh={...Va,default:1},Au=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ji=Au("deg"),Pr=Au("%"),we=Au("px"),tN=Au("vh"),nN=Au("vw"),l1={...Pr,parse:n=>Pr.parse(n)/100,transform:n=>Pr.transform(n*100)},rN={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},iN={rotate:ji,rotateX:ji,rotateY:ji,rotateZ:ji,scale:rh,scaleX:rh,scaleY:rh,scaleZ:rh,skew:ji,skewX:ji,skewY:ji,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:cu,originX:l1,originY:l1,originZ:we},u1={...Va,transform:Math.round},Og={...rN,...iN,zIndex:u1,size:we,fillOpacity:cu,strokeOpacity:cu,numOctaves:u1},sN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oN=Da.length;function aN(n,e,t){let r="",s=!0;for(let a=0;a<oN;a++){const u=Da[a],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||t){const p=k2(h,Og[u]);if(!f){s=!1;const g=sN[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function Fg(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,h=!1;for(const f in e){const p=e[f];if(so.has(f)){u=!0;continue}else if(R2(f)){s[f]=p;continue}else{const g=k2(p,Og[f]);f.startsWith("origin")?(h=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=aN(e,n.transform,t):r.transform&&(r.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const lN={offset:"stroke-dashoffset",array:"stroke-dasharray"},uN={offset:"strokeDashoffset",array:"strokeDasharray"};function cN(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?lN:uN;n[a.offset]=we.transform(-r);const u=we.transform(e),h=we.transform(t);n[a.array]=`${u} ${h}`}function c1(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function hN(n,e,t){const r=c1(e,n.x,n.width),s=c1(t,n.y,n.height);return`${r} ${s}`}function jg(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},g,_){if(Fg(n,p,_),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:x,dimensions:b}=n;E.transform&&(b&&(x.transform=E.transform),delete E.transform),b&&(s!==void 0||a!==void 0||x.transform)&&(x.transformOrigin=hN(b,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),u!==void 0&&cN(E,u,h,f,!1)}const Ug=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),b2=()=>({...Ug(),attrs:{}}),Bg=n=>typeof n=="string"&&n.toLowerCase()==="svg";function N2(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const D2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function V2(n,e,t,r){N2(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(D2.has(s)?s:Ng(s),e.attrs[s])}const Hh={};function dN(n){Object.assign(Hh,n)}function M2(n,{layout:e,layoutId:t}){return so.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Hh[n]||n==="opacity")}function zg(n,e,t){var r;const{style:s}=n,a={};for(const u in s)(Xt(s[u])||e.style&&Xt(e.style[u])||M2(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=s[u]);return a}function L2(n,e,t){const r=zg(n,e,t);for(const s in n)if(Xt(n[s])||Xt(e[s])){const a=Da.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function fN(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const h1=["x","y","width","height","cx","cy","r"],pN={useVisualState:A2({scrapeMotionValuesFromProps:L2,createRenderState:b2,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const h in s)if(so.has(h)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let h=0;h<h1.length;h++){const f=h1[h];n[f]!==e[f]&&(u=!0)}u&&et.read(()=>{fN(t,r),et.render(()=>{jg(r,s,Bg(t.tagName),n.transformTemplate),V2(t,r)})})}})},mN={useVisualState:A2({scrapeMotionValuesFromProps:zg,createRenderState:Ug})};function O2(n,e,t){for(const r in e)!Xt(e[r])&&!M2(r,t)&&(n[r]=e[r])}function gN({transformTemplate:n},e){return L.useMemo(()=>{const t=Ug();return Fg(t,e,n),Object.assign({},t.vars,t.style)},[e])}function yN(n,e){const t=n.style||{},r={};return O2(r,t,n),Object.assign(r,gN(n,e)),r}function vN(n,e){const t={},r=yN(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function _N(n,e,t,r){const s=L.useMemo(()=>{const a=b2();return jg(a,e,Bg(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};O2(a,n.style,n),s.style={...a,...s.style}}return s}function wN(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(Vg(t)?_N:vN)(r,a,u,t),p=M6(r,typeof t=="string",n),g=t!==L.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=L.useMemo(()=>Xt(_)?_.get():_,[_]);return L.createElement(t,{...g,children:E})}}function EN(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...Vg(r)?pN:mN,preloadedFeatures:n,useRender:wN(s),createVisualElement:e,Component:r};return H6(u)}}function F2(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Id(n,e,t){const r=n.getProps();return Mg(r,e,t!==void 0?t:r.custom,n)}const TN=Cg(()=>window.ScrollTimeline!==void 0);class SN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(TN()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class IN extends SN{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function $g(n,e){return n?n[e]||n.default||n:void 0}const um=2e4;function j2(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<um;)e+=t,r=n.next(e);return e>=um?1/0:e}function Hg(n){return typeof n=="function"}function d1(n,e){n.timeline=e,n.onfinish=null}const Wg=n=>Array.isArray(n)&&typeof n[0]=="number",xN={linearEasing:void 0};function PN(n,e){const t=Cg(n);return()=>{var r;return(r=xN[e])!==null&&r!==void 0?r:t()}}const Wh=PN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),U2=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(Ea(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function B2(n){return!!(typeof n=="function"&&Wh()||!n||typeof n=="string"&&(n in cm||Wh())||Wg(n)||Array.isArray(n)&&n.every(B2))}const Fl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,cm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fl([0,.65,.55,1]),circOut:Fl([.55,0,1,.45]),backIn:Fl([.31,.01,.66,-.59]),backOut:Fl([.33,1.53,.69,.99])};function z2(n,e){if(n)return typeof n=="function"&&Wh()?U2(n,e):Wg(n)?Fl(n):Array.isArray(n)?n.map(t=>z2(t,e)||cm.easeOut):cm[n]}const Zn={x:!1,y:!1};function $2(){return Zn.x||Zn.y}function H2(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function W2(n,e){const t=H2(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function f1(n){return e=>{e.pointerType==="touch"||$2()||n(e)}}function AN(n,e,t={}){const[r,s,a]=W2(n,t),u=f1(h=>{const{target:f}=h,p=e(h);if(typeof p!="function"||!f)return;const g=f1(_=>{p(_),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,s)});return r.forEach(h=>{h.addEventListener("pointerenter",u,s)}),a}const q2=(n,e)=>e?n===e?!0:q2(n,e.parentElement):!1,qg=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,CN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RN(n){return CN.has(n.tagName)||n.tabIndex!==-1}const jl=new WeakSet;function p1(n){return e=>{e.key==="Enter"&&n(e)}}function Tp(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kN=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=p1(()=>{if(jl.has(t))return;Tp(t,"down");const s=p1(()=>{Tp(t,"up")}),a=()=>Tp(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function m1(n){return qg(n)&&!$2()}function bN(n,e,t={}){const[r,s,a]=W2(n,t),u=h=>{const f=h.currentTarget;if(!m1(h)||jl.has(f))return;jl.add(f);const p=e(h),g=(x,b)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!m1(x)||!jl.has(f))&&(jl.delete(f),typeof p=="function"&&p(x,{success:b}))},_=x=>{g(x,t.useGlobalTarget||q2(f,x.target))},E=x=>{g(x,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(h=>{!RN(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0),(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),h.addEventListener("focus",p=>kN(p,s),s)}),a}function NN(n){return n==="x"||n==="y"?Zn[n]?null:(Zn[n]=!0,()=>{Zn[n]=!1}):Zn.x||Zn.y?null:(Zn.x=Zn.y=!0,()=>{Zn.x=Zn.y=!1})}const K2=new Set(["width","height","top","left","right","bottom",...Da]);let _h;function DN(){_h=void 0}const Ar={now:()=>(_h===void 0&&Ar.set(jt.isProcessing||R6.useManualTiming?jt.timestamp:performance.now()),_h),set:n=>{_h=n,queueMicrotask(DN)}};function Kg(n,e){n.indexOf(e)===-1&&n.push(e)}function Gg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Qg{constructor(){this.subscriptions=[]}add(e){return Kg(this.subscriptions,e),()=>Gg(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function G2(n,e){return e?n*(1e3/e):0}const g1=30,VN=n=>!isNaN(parseFloat(n));class MN{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Ar.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ar.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=VN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Qg);const r=this.events[e].add(t);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g1)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,g1);return G2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hu(n,e){return new MN(n,e)}function LN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,hu(t))}function ON(n,e){const t=Id(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const h=Y6(a[u]);LN(n,u,h)}}function FN(n){return!!(Xt(n)&&n.add)}function hm(n,e){const t=n.getValue("willChange");if(FN(t))return t.add(e)}function Q2(n){return n.props[I2]}const Y2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,jN=1e-7,UN=12;function BN(n,e,t,r,s){let a,u,h=0;do u=e+(t-e)/2,a=Y2(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>jN&&++h<UN);return u}function Cu(n,e,t,r){if(n===e&&t===r)return En;const s=a=>BN(a,0,1,n,t);return a=>a===0||a===1?a:Y2(s(a),e,r)}const X2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,J2=n=>e=>1-n(1-e),Z2=Cu(.33,1.53,.69,.99),Yg=J2(Z2),eS=X2(Yg),tS=n=>(n*=2)<1?.5*Yg(n):.5*(2-Math.pow(2,-10*(n-1))),Xg=n=>1-Math.sin(Math.acos(n)),nS=J2(Xg),rS=X2(Xg),iS=n=>/^0[^.\s]+$/u.test(n);function zN(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||iS(n):!0}const Gl=n=>Math.round(n*1e5)/1e5,Jg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $N(n){return n==null}const HN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zg=(n,e)=>t=>!!(typeof t=="string"&&HN.test(t)&&t.startsWith(n)||e&&!$N(t)&&Object.prototype.hasOwnProperty.call(t,e)),sS=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,h]=r.match(Jg);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},WN=n=>hi(0,255,n),Sp={...Va,transform:n=>Math.round(WN(n))},$s={test:Zg("rgb","red"),parse:sS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+Sp.transform(n)+", "+Sp.transform(e)+", "+Sp.transform(t)+", "+Gl(cu.transform(r))+")"};function qN(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const dm={test:Zg("#"),parse:qN,transform:$s.transform},sa={test:Zg("hsl","hue"),parse:sS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Pr.transform(Gl(e))+", "+Pr.transform(Gl(t))+", "+Gl(cu.transform(r))+")"},Gt={test:n=>$s.test(n)||dm.test(n)||sa.test(n),parse:n=>$s.test(n)?$s.parse(n):sa.test(n)?sa.parse(n):dm.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$s.transform(n):sa.transform(n)},KN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GN(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Jg))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(KN))===null||t===void 0?void 0:t.length)||0)>0}const oS="number",aS="color",QN="var",YN="var(",y1="${}",XN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function du(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const h=e.replace(XN,f=>(Gt.test(f)?(r.color.push(a),s.push(aS),t.push(Gt.parse(f))):f.startsWith(YN)?(r.var.push(a),s.push(QN),t.push(f)):(r.number.push(a),s.push(oS),t.push(parseFloat(f))),++a,y1)).split(y1);return{values:t,split:h,indexes:r,types:s}}function lS(n){return du(n).values}function uS(n){const{split:e,types:t}=du(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const h=t[u];h===oS?a+=Gl(s[u]):h===aS?a+=Gt.transform(s[u]):a+=s[u]}return a}}const JN=n=>typeof n=="number"?0:n;function ZN(n){const e=lS(n);return uS(n)(e.map(JN))}const ss={test:GN,parse:lS,createTransformer:uS,getAnimatableNone:ZN},eD=new Set(["brightness","contrast","saturate","opacity"]);function tD(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Jg)||[];if(!r)return n;const s=t.replace(r,"");let a=eD.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const nD=/\b([a-z-]*)\(.*?\)/gu,fm={...ss,getAnimatableNone:n=>{const e=n.match(nD);return e?e.map(tD).join(" "):n}},rD={...Og,color:Gt,backgroundColor:Gt,outlineColor:Gt,fill:Gt,stroke:Gt,borderColor:Gt,borderTopColor:Gt,borderRightColor:Gt,borderBottomColor:Gt,borderLeftColor:Gt,filter:fm,WebkitFilter:fm},ey=n=>rD[n];function cS(n,e){let t=ey(n);return t!==fm&&(t=ss),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const iD=new Set(["auto","none","0"]);function sD(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!iD.has(a)&&du(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=cS(t,s)}const v1=n=>n===Va||n===we,_1=(n,e)=>parseFloat(n.split(", ")[e]),w1=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return _1(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?_1(a[1],n):0}},oD=new Set(["x","y","z"]),aD=Da.filter(n=>!oD.has(n));function lD(n){const e=[];return aD.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const Sa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:w1(4,13),y:w1(5,14)};Sa.translateX=Sa.x;Sa.translateY=Sa.y;const Ws=new Set;let pm=!1,mm=!1;function hS(){if(mm){const n=Array.from(Ws).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=lD(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var h;(h=r.getValue(a))===null||h===void 0||h.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mm=!1,pm=!1,Ws.forEach(n=>n.complete()),Ws.clear()}function dS(){Ws.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(mm=!0)})}function uD(){dS(),hS()}class ty{constructor(e,t,r,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ws.add(this),pm||(pm=!0,et.read(dS),et.resolveKeyframes(hS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=s?.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),s&&u===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ws.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ws.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const fS=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),cD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hD(n){const e=cD.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function pS(n,e,t=1){const[r,s]=hD(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return fS(u)?parseFloat(u):u}return Lg(s)?pS(s,e,t+1):s}const mS=n=>e=>e.test(n),dD={test:n=>n==="auto",parse:n=>n},gS=[Va,we,Pr,ji,nN,tN,dD],E1=n=>gS.find(mS(n));class yS extends ty{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Lg(p))){const g=pS(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!K2.has(r)||e.length!==2)return;const[s,a]=e,u=E1(s),h=E1(a);if(u!==h)if(v1(u)&&v1(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)zN(e[s])&&r.push(s);r.length&&sD(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,h=s[u];s[u]=Sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const T1=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ss.test(n)||n==="0")&&!n.startsWith("url("));function fD(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function pD(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=T1(s,e),h=T1(a,e);return!u||!h?!1:fD(n)||(t==="spring"||Hg(t))&&r}const mD=n=>n!==null;function xd(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(mD),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const gD=40;class vS{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ar.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gD?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uD(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Ar.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:u,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!pD(e,r,s,a))if(u)this.options.duration=0;else{f&&f(xd(e,this.options,t)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const st=(n,e,t)=>n+(e-n)*t;function Ip(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function yD({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,f=2*t-h;s=Ip(f,h,n+1/3),a=Ip(f,h,n),u=Ip(f,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function qh(n,e){return t=>t>0?e:n}const xp=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},vD=[dm,$s,sa],_D=n=>vD.find(e=>e.test(n));function S1(n){const e=_D(n);if(!e)return!1;let t=e.parse(n);return e===sa&&(t=yD(t)),t}const I1=(n,e)=>{const t=S1(n),r=S1(e);if(!t||!r)return qh(n,e);const s={...t};return a=>(s.red=xp(t.red,r.red,a),s.green=xp(t.green,r.green,a),s.blue=xp(t.blue,r.blue,a),s.alpha=st(t.alpha,r.alpha,a),$s.transform(s))},wD=(n,e)=>t=>e(n(t)),Ru=(...n)=>n.reduce(wD),gm=new Set(["none","hidden"]);function ED(n,e){return gm.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function TD(n,e){return t=>st(n,e,t)}function ny(n){return typeof n=="number"?TD:typeof n=="string"?Lg(n)?qh:Gt.test(n)?I1:xD:Array.isArray(n)?_S:typeof n=="object"?Gt.test(n)?I1:SD:qh}function _S(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>ny(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function SD(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=ny(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function ID(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=n.indexes[u][s[u]],f=(t=n.values[h])!==null&&t!==void 0?t:0;r[a]=f,s[u]++}return r}const xD=(n,e)=>{const t=ss.createTransformer(e),r=du(n),s=du(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?gm.has(n)&&!s.values.length||gm.has(e)&&!r.values.length?ED(n,e):Ru(_S(ID(r,s),s.values),t):qh(n,e)};function wS(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?st(n,e,t):ny(n)(n,e)}const PD=5;function ES(n,e,t){const r=Math.max(e-PD,0);return G2(t-n(r),e-r)}const ct={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pp=.001;function AD({duration:n=ct.duration,bounce:e=ct.bounce,velocity:t=ct.velocity,mass:r=ct.mass}){let s,a,u=1-e;u=hi(ct.minDamping,ct.maxDamping,u),n=hi(ct.minDuration,ct.maxDuration,ii(n)),u<1?(s=p=>{const g=p*u,_=g*n,E=g-t,x=ym(p,u),b=Math.exp(-_);return Pp-E/x*b},a=p=>{const _=p*u*n,E=_*t+t,x=Math.pow(u,2)*Math.pow(p,2)*n,b=Math.exp(-_),V=ym(Math.pow(p,2),u);return(-s(p)+Pp>0?-1:1)*((E-x)*b)/V}):(s=p=>{const g=Math.exp(-p*n),_=(p-t)*n+1;return-Pp+g*_},a=p=>{const g=Math.exp(-p*n),_=(t-p)*(n*n);return g*_});const h=5/n,f=RD(s,a,h);if(n=ri(n),isNaN(f))return{stiffness:ct.stiffness,damping:ct.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const CD=12;function RD(n,e,t){let r=t;for(let s=1;s<CD;s++)r=r-n(r)/e(r);return r}function ym(n,e){return n*Math.sqrt(1-e*e)}const kD=["duration","bounce"],bD=["stiffness","damping","mass"];function x1(n,e){return e.some(t=>n[t]!==void 0)}function ND(n){let e={velocity:ct.velocity,stiffness:ct.stiffness,damping:ct.damping,mass:ct.mass,isResolvedFromDuration:!1,...n};if(!x1(n,bD)&&x1(n,kD))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*hi(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ct.mass,stiffness:s,damping:a}}else{const t=AD(n);e={...e,...t,mass:ct.mass},e.isResolvedFromDuration=!0}return e}function TS(n=ct.visualDuration,e=ct.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:x}=ND({...t,velocity:-ii(t.velocity||0)}),b=E||0,V=p/(2*Math.sqrt(f*g)),k=u-a,F=ii(Math.sqrt(f/g)),q=Math.abs(k)<5;r||(r=q?ct.restSpeed.granular:ct.restSpeed.default),s||(s=q?ct.restDelta.granular:ct.restDelta.default);let K;if(V<1){const X=ym(F,V);K=oe=>{const N=Math.exp(-V*F*oe);return u-N*((b+V*F*k)/X*Math.sin(X*oe)+k*Math.cos(X*oe))}}else if(V===1)K=X=>u-Math.exp(-F*X)*(k+(b+F*k)*X);else{const X=F*Math.sqrt(V*V-1);K=oe=>{const N=Math.exp(-V*F*oe),I=Math.min(X*oe,300);return u-N*((b+V*F*k)*Math.sinh(I)+X*k*Math.cosh(I))/X}}const J={calculatedDuration:x&&_||null,next:X=>{const oe=K(X);if(x)h.done=X>=_;else{let N=0;V<1&&(N=X===0?ri(b):ES(K,X,oe));const I=Math.abs(N)<=r,A=Math.abs(u-oe)<=s;h.done=I&&A}return h.value=h.done?u:oe,h},toString:()=>{const X=Math.min(j2(J),um),oe=U2(N=>J.next(X*N).value,X,30);return X+"ms "+oe}};return J}function P1({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const _=n[0],E={done:!1,value:_},x=I=>h!==void 0&&I<h||f!==void 0&&I>f,b=I=>h===void 0?f:f===void 0||Math.abs(h-I)<Math.abs(f-I)?h:f;let V=t*e;const k=_+V,F=u===void 0?k:u(k);F!==k&&(V=F-_);const q=I=>-V*Math.exp(-I/r),K=I=>F+q(I),J=I=>{const A=q(I),D=K(I);E.done=Math.abs(A)<=p,E.value=E.done?F:D};let X,oe;const N=I=>{x(E.value)&&(X=I,oe=TS({keyframes:[E.value,b(E.value)],velocity:ES(K,I,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return N(0),{calculatedDuration:null,next:I=>{let A=!1;return!oe&&X===void 0&&(A=!0,J(I),N(I)),X!==void 0&&I>=X?oe.next(I-X):(!A&&J(I),E)}}}const DD=Cu(.42,0,1,1),VD=Cu(0,0,.58,1),SS=Cu(.42,0,.58,1),MD=n=>Array.isArray(n)&&typeof n[0]!="number",LD={linear:En,easeIn:DD,easeInOut:SS,easeOut:VD,circIn:Xg,circInOut:rS,circOut:nS,backIn:Yg,backInOut:eS,backOut:Z2,anticipate:tS},A1=n=>{if(Wg(n)){w2(n.length===4);const[e,t,r,s]=n;return Cu(e,t,r,s)}else if(typeof n=="string")return LD[n];return n};function OD(n,e,t){const r=[],s=t||wS,a=n.length-1;for(let u=0;u<a;u++){let h=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||En:e;h=Ru(f,h)}r.push(h)}return r}function FD(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(w2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=OD(e,r,s),f=h.length,p=g=>{if(u&&g<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const E=Ea(n[_],n[_+1],g);return h[_](E)};return t?g=>p(hi(n[0],n[a-1],g)):p}function jD(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=Ea(0,e,r);n.push(st(t,1,s))}}function UD(n){const e=[0];return jD(e,n.length-1),e}function BD(n,e){return n.map(t=>t*e)}function zD(n,e){return n.map(()=>e||SS).splice(0,n.length-1)}function Kh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=MD(r)?r.map(A1):A1(r),a={done:!1,value:e[0]},u=BD(t&&t.length===e.length?t:UD(e),n),h=FD(u,e,{ease:Array.isArray(s)?s:zD(e,s)});return{calculatedDuration:n,next:f=>(a.value=h(f),a.done=f>=n,a)}}const $D=n=>{const e=({timestamp:t})=>n(t);return{start:()=>et.update(e,!0),stop:()=>is(e),now:()=>jt.isProcessing?jt.timestamp:Ar.now()}},HD={decay:P1,inertia:P1,tween:Kh,keyframes:Kh,spring:TS},WD=n=>n/100;class ry extends vS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,u=s?.KeyframeResolver||ty,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,h,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=this.options,h=Hg(t)?t:HD[t]||Kh;let f,p;h!==Kh&&typeof e[0]!="number"&&(f=Ru(WD,wS(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=j2(g));const{calculatedDuration:_}=g,E=_+s,x=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:x,repeatType:b,repeatDelay:V,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-E*(this.speed>=0?1:-1),q=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let K=this.currentTime,J=a;if(x){const I=Math.min(this.currentTime,g)/_;let A=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&A--,A=Math.min(A,x+1),!!(A%2)&&(b==="reverse"?(D=1-D,V&&(D-=V/_)):b==="mirror"&&(J=u)),K=hi(0,1,D)*_}const X=q?{done:!1,value:f[0]}:J.next(K);h&&(X.value=h(X.value));let{done:oe}=X;!q&&p!==null&&(oe=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&oe);return N&&s!==void 0&&(X.value=xd(f,this.options,s)),k&&k(X.value),N&&this.finish(),X}get duration(){const{resolved:e}=this;return e?ii(e.calculatedDuration):0}get time(){return ii(this.currentTime)}set time(e){e=ri(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=ii(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=$D,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const qD=new Set(["opacity","clipPath","filter","transform"]);function KD(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const p={[e]:t};f&&(p.offset=f);const g=z2(h,s);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const GD=Cg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gh=10,QD=2e4;function YD(n){return Hg(n.type)||n.type==="spring"||!B2(n.ease)}function XD(n,e){const t=new ry({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<QD;)r=t.sample(a),s.push(r.value),a+=Gh;return{times:void 0,keyframes:s,duration:a-Gh,ease:"linear"}}const IS={anticipate:tS,backInOut:eS,circInOut:rS};function JD(n){return n in IS}class C1 extends vS{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new yS(a,(u,h)=>this.onKeyframesResolved(u,h),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Wh()&&JD(a)&&(a=IS[a]),YD(this.options)){const{onComplete:_,onUpdate:E,motionValue:x,element:b,...V}=this.options,k=XD(e,V);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,a=k.ease,u="keyframes"}const g=KD(h.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(d1(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;h.set(xd(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return ii(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return ii(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=ri(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return En;const{animation:r}=t;d1(r,e)}return En}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:u,times:h}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...x}=this.options,b=new ry({...x,keyframes:r,duration:s,type:a,ease:u,times:h,isGenerator:!0}),V=ri(this.time);p.setWithVelocity(b.sample(V-Gh).value,b.sample(V).value,Gh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:u,type:h}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return GD()&&r&&qD.has(r)&&!f&&!p&&!s&&a!=="mirror"&&u!==0&&h!=="inertia"}}const ZD={type:"spring",stiffness:500,damping:25,restSpeed:10},eV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),tV={type:"keyframes",duration:.8},nV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rV=(n,{keyframes:e})=>e.length>2?tV:so.has(n)?n.startsWith("scale")?eV(e[1]):ZD:nV;function iV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const iy=(n,e,t,r={},s,a)=>u=>{const h=$g(r,n)||{},f=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ri(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:a?void 0:s};iV(h)||(g={...g,...rV(n,g)}),g.duration&&(g.duration=ri(g.duration)),g.repeatDelay&&(g.repeatDelay=ri(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=xd(g.keyframes,h);if(E!==void 0)return et.update(()=>{g.onUpdate(E),g.onComplete()}),new IN([])}return!a&&C1.supports(g)?new C1(g):new ry(g)};function sV({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function xS(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:h,...f}=e;r&&(u=r);const p=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const _ in f){const E=n.getValue(_,(a=n.latestValues[_])!==null&&a!==void 0?a:null),x=f[_];if(x===void 0||g&&sV(g,_))continue;const b={delay:t,...$g(u||{},_)};let V=!1;if(window.MotionHandoffAnimation){const F=Q2(n);if(F){const q=window.MotionHandoffAnimation(F,_,et);q!==null&&(b.startTime=q,V=!0)}}hm(n,_),E.start(iy(_,E,x,n.shouldReduceMotion&&K2.has(_)?{type:!1}:b,n,V));const k=E.animation;k&&p.push(k)}return h&&Promise.all(p).then(()=>{et.update(()=>{h&&ON(n,h)})}),p}function vm(n,e,t={}){var r;const s=Id(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const u=s?()=>Promise.all(xS(n,s,t)):()=>Promise.resolve(),h=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return oV(n,e,g+p,_,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[u,h]:[h,u];return p().then(()=>g())}else return Promise.all([u(),h(t.delay)])}function oV(n,e,t=0,r=0,s=1,a){const u=[],h=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(n.variantChildren).sort(aV).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(vm(p,e,{...a,delay:t+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function aV(n,e){return n.sortNodePosition(e)}function lV(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>vm(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=vm(n,e,t);else{const s=typeof e=="function"?Id(n,e,t.custom):e;r=Promise.all(xS(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const uV=bg.length;function PS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?PS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<uV;t++){const r=bg[t],s=n.props[r];(uu(s)||s===!1)&&(e[r]=s)}return e}const cV=[...kg].reverse(),hV=kg.length;function dV(n){return e=>Promise.all(e.map(({animation:t,options:r})=>lV(n,t,r)))}function fV(n){let e=dV(n),t=R1(),r=!0;const s=f=>(p,g)=>{var _;const E=Id(n,g,f==="exit"?(_=n.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:x,transitionEnd:b,...V}=E;p={...p,...V,...b}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=PS(n.parent)||{},_=[],E=new Set;let x={},b=1/0;for(let k=0;k<hV;k++){const F=cV[k],q=t[F],K=p[F]!==void 0?p[F]:g[F],J=uu(K),X=F===f?q.isActive:null;X===!1&&(b=k);let oe=K===g[F]&&K!==p[F]&&J;if(oe&&r&&n.manuallyAnimateOnMount&&(oe=!1),q.protectedKeys={...x},!q.isActive&&X===null||!K&&!q.prevProp||Td(K)||typeof K=="boolean")continue;const N=pV(q.prevProp,K);let I=N||F===f&&q.isActive&&!oe&&J||k>b&&J,A=!1;const D=Array.isArray(K)?K:[K];let O=D.reduce(s(F),{});X===!1&&(O={});const{prevResolvedValues:B={}}=q,R={...B,...O},Be=Se=>{I=!0,E.has(Se)&&(A=!0,E.delete(Se)),q.needsAnimating[Se]=!0;const ie=n.getValue(Se);ie&&(ie.liveStyle=!1)};for(const Se in R){const ie=O[Se],me=B[Se];if(x.hasOwnProperty(Se))continue;let te=!1;lm(ie)&&lm(me)?te=!F2(ie,me):te=ie!==me,te?ie!=null?Be(Se):E.add(Se):ie!==void 0&&E.has(Se)?Be(Se):q.protectedKeys[Se]=!0}q.prevProp=K,q.prevResolvedValues=O,q.isActive&&(x={...x,...O}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(oe&&N)||A)&&_.push(...D.map(Se=>({animation:Se,options:{type:F}})))}if(E.size){const k={};E.forEach(F=>{const q=n.getBaseTarget(F),K=n.getValue(F);K&&(K.liveStyle=!0),k[F]=q??null}),_.push({animation:k})}let V=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(_):Promise.resolve()}function h(f,p){var g;if(t[f].isActive===p)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(E=>{var x;return(x=E.animationState)===null||x===void 0?void 0:x.setActive(f,p)}),t[f].isActive=p;const _=u(f);for(const E in t)t[E].protectedKeys={};return _}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>t,reset:()=>{t=R1(),r=!0}}}function pV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!F2(e,n):!1}function Fs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function R1(){return{animate:Fs(!0),whileInView:Fs(),whileHover:Fs(),whileTap:Fs(),whileDrag:Fs(),whileFocus:Fs(),exit:Fs()}}class as{constructor(e){this.isMounted=!1,this.node=e}update(){}}class mV extends as{constructor(e){super(e),e.animationState||(e.animationState=fV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Td(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let gV=0;class yV extends as{constructor(){super(...arguments),this.id=gV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AS={animation:{Feature:mV},exit:{Feature:yV}};function fu(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function ku(n){return{point:{x:n.pageX,y:n.pageY}}}const vV=n=>e=>qg(e)&&n(e,ku(e));function Ql(n,e,t,r){return fu(n,e,vV(t),r)}const k1=(n,e)=>Math.abs(n-e);function _V(n,e){const t=k1(n.x,e.x),r=k1(n.y,e.y);return Math.sqrt(t**2+r**2)}class CS{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Cp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,x=_V(_.offset,{x:0,y:0})>=3;if(!E&&!x)return;const{point:b}=_,{timestamp:V}=jt;this.history.push({...b,timestamp:V});const{onStart:k,onMove:F}=this.handlers;E||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Ap(E,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Cp(_.type==="pointercancel"?this.lastMoveEventInfo:Ap(E,this.transformPagePoint),this.history);this.startEvent&&x&&x(_,k),b&&b(_,k)},!qg(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=ku(e),h=Ap(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=jt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,Cp(h,this.history)),this.removeListeners=Ru(Ql(this.contextWindow,"pointermove",this.handlePointerMove),Ql(this.contextWindow,"pointerup",this.handlePointerUp),Ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function Ap(n,e){return e?{point:e(n.point)}:n}function b1(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Cp({point:n},e){return{point:n,delta:b1(n,RS(e)),offset:b1(n,wV(e)),velocity:EV(e,.1)}}function wV(n){return n[0]}function RS(n){return n[n.length-1]}function EV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=RS(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>ri(e)));)t--;if(!r)return{x:0,y:0};const a=ii(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const kS=1e-4,TV=1-kS,SV=1+kS,bS=.01,IV=0-bS,xV=0+bS;function Tn(n){return n.max-n.min}function PV(n,e,t){return Math.abs(n-e)<=t}function N1(n,e,t,r=.5){n.origin=r,n.originPoint=st(e.min,e.max,n.origin),n.scale=Tn(t)/Tn(e),n.translate=st(t.min,t.max,n.origin)-n.originPoint,(n.scale>=TV&&n.scale<=SV||isNaN(n.scale))&&(n.scale=1),(n.translate>=IV&&n.translate<=xV||isNaN(n.translate))&&(n.translate=0)}function Yl(n,e,t,r){N1(n.x,e.x,t.x,r?r.originX:void 0),N1(n.y,e.y,t.y,r?r.originY:void 0)}function D1(n,e,t){n.min=t.min+e.min,n.max=n.min+Tn(e)}function AV(n,e,t){D1(n.x,e.x,t.x),D1(n.y,e.y,t.y)}function V1(n,e,t){n.min=e.min-t.min,n.max=n.min+Tn(e)}function Xl(n,e,t){V1(n.x,e.x,t.x),V1(n.y,e.y,t.y)}function CV(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?st(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?st(t,n,r.max):Math.min(n,t)),n}function M1(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function RV(n,{top:e,left:t,bottom:r,right:s}){return{x:M1(n.x,t,s),y:M1(n.y,e,r)}}function L1(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function kV(n,e){return{x:L1(n.x,e.x),y:L1(n.y,e.y)}}function bV(n,e){let t=.5;const r=Tn(n),s=Tn(e);return s>r?t=Ea(e.min,e.max-r,n.min):r>s&&(t=Ea(n.min,n.max-s,e.min)),hi(0,1,t)}function NV(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const _m=.35;function DV(n=_m){return n===!1?n=0:n===!0&&(n=_m),{x:O1(n,"left","right"),y:O1(n,"top","bottom")}}function O1(n,e,t){return{min:F1(n,e),max:F1(n,t)}}function F1(n,e){return typeof n=="number"?n:n[e]||0}const j1=()=>({translate:0,scale:1,origin:0,originPoint:0}),oa=()=>({x:j1(),y:j1()}),U1=()=>({min:0,max:0}),pt=()=>({x:U1(),y:U1()});function Vn(n){return[n("x"),n("y")]}function NS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function VV({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function MV(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Rp(n){return n===void 0||n===1}function wm({scale:n,scaleX:e,scaleY:t}){return!Rp(n)||!Rp(e)||!Rp(t)}function Us(n){return wm(n)||DS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function DS(n){return B1(n.x)||B1(n.y)}function B1(n){return n&&n!=="0%"}function Qh(n,e,t){const r=n-t,s=e*r;return t+s}function z1(n,e,t,r,s){return s!==void 0&&(n=Qh(n,s,r)),Qh(n,t,r)+e}function Em(n,e=0,t=1,r,s){n.min=z1(n.min,e,t,r,s),n.max=z1(n.max,e,t,r,s)}function VS(n,{x:e,y:t}){Em(n.x,e.translate,e.scale,e.originPoint),Em(n.y,t.translate,t.scale,t.originPoint)}const $1=.999999999999,H1=1.0000000000001;function LV(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let h=0;h<s;h++){a=t[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&la(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,VS(n,u)),r&&Us(a.latestValues)&&la(n,a.latestValues))}e.x<H1&&e.x>$1&&(e.x=1),e.y<H1&&e.y>$1&&(e.y=1)}function aa(n,e){n.min=n.min+e,n.max=n.max+e}function W1(n,e,t,r,s=.5){const a=st(n.min,n.max,s);Em(n,e,t,a,r)}function la(n,e){W1(n.x,e.x,e.scaleX,e.scale,e.originX),W1(n.y,e.y,e.scaleY,e.scale,e.originY)}function MS(n,e){return NS(MV(n.getBoundingClientRect(),e))}function OV(n,e,t){const r=MS(n,t),{scroll:s}=e;return s&&(aa(r.x,s.offset.x),aa(r.y,s.offset.y)),r}const LS=({current:n})=>n?n.ownerDocument.defaultView:null,FV=new WeakMap;class jV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(ku(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:x,onDragStart:b}=this.getProps();if(E&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=NN(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vn(k=>{let F=this.getAxisMotionValue(k).get()||0;if(Pr.test(F)){const{projection:q}=this.visualElement;if(q&&q.layout){const K=q.layout.layoutBox[k];K&&(F=Tn(K)*(parseFloat(F)/100))}}this.originPoint[k]=F}),b&&et.postRender(()=>b(g,_)),hm(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:E,dragDirectionLock:x,onDirectionLock:b,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:k}=_;if(x&&this.currentDirection===null){this.currentDirection=UV(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),V&&V(g,_)},h=(g,_)=>this.stop(g,_),f=()=>Vn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new CS(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:LS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!ih(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=CV(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&ia(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=RV(s.layoutBox,t):this.constraints=!1,this.elastic=DV(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Vn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=NV(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!ia(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=OV(r,s.root,this.visualElement.getTransformPagePoint());let u=kV(s.layout.layoutBox,a);if(t){const h=t(VV(u));this.hasMutatedConstraints=!!h,h&&(u=NS(h))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Vn(g=>{if(!ih(g,t,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=s?200:1e6,x=s?40:1e7,b={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,b)});return Promise.all(p).then(h)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return hm(this.visualElement,e),r.start(iy(e,r,0,t,this.visualElement,!1))}stopAnimation(){Vn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Vn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Vn(t=>{const{drag:r}=this.getProps();if(!ih(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];a.set(e[t]-st(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!ia(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Vn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();s[u]=bV({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vn(u=>{if(!ih(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(st(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;FV.set(this.visualElement,this);const e=this.visualElement.current,t=Ql(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();ia(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const u=fu(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Vn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=_m,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function ih(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function UV(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class BV extends as{constructor(e){super(e),this.removeGroupControls=En,this.removeListeners=En,this.controls=new jV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||En}unmount(){this.removeGroupControls(),this.removeListeners()}}const q1=n=>(e,t)=>{n&&et.postRender(()=>n(e,t))};class zV extends as{constructor(){super(...arguments),this.removePointerDownListener=En}onPointerDown(e){this.session=new CS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:LS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:q1(e),onStart:q1(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&et.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=Ql(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K1(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const bl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=K1(n,e.target.x),r=K1(n,e.target.y);return`${t}% ${r}%`}},$V={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=ss.parse(n);if(s.length>5)return r;const a=ss.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=f;const p=st(h,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class HV extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;dN(WV),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),wh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||et.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Dg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OS(n){const[e,t]=v2(),r=L.useContext(Sg);return P.jsx(HV,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(x2),isPresent:e,safeToRemove:t})}const WV={borderRadius:{...bl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bl,borderTopRightRadius:bl,borderBottomLeftRadius:bl,borderBottomRightRadius:bl,boxShadow:$V};function qV(n,e,t){const r=Xt(n)?n:hu(n);return r.start(iy("",r,e,t)),r.animation}function KV(n){return n instanceof SVGElement&&n.tagName!=="svg"}const GV=(n,e)=>n.depth-e.depth;class QV{constructor(){this.children=[],this.isDirty=!1}add(e){Kg(this.children,e),this.isDirty=!0}remove(e){Gg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GV),this.isDirty=!1,this.children.forEach(e)}}function YV(n,e){const t=Ar.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(is(r),n(a-e))};return et.read(r,!0),()=>is(r)}const FS=["TopLeft","TopRight","BottomLeft","BottomRight"],XV=FS.length,G1=n=>typeof n=="string"?parseFloat(n):n,Q1=n=>typeof n=="number"||we.test(n);function JV(n,e,t,r,s,a){s?(n.opacity=st(0,t.opacity!==void 0?t.opacity:1,ZV(r)),n.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,e5(r))):a&&(n.opacity=st(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<XV;u++){const h=`border${FS[u]}Radius`;let f=Y1(e,h),p=Y1(t,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Q1(f)===Q1(p)?(n[h]=Math.max(st(G1(f),G1(p),r),0),(Pr.test(p)||Pr.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||t.rotate)&&(n.rotate=st(e.rotate||0,t.rotate||0,r))}function Y1(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const ZV=jS(0,.5,nS),e5=jS(.5,.95,En);function jS(n,e,t){return r=>r<n?0:r>e?1:t(Ea(n,e,r))}function X1(n,e){n.min=e.min,n.max=e.max}function Dn(n,e){X1(n.x,e.x),X1(n.y,e.y)}function J1(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Z1(n,e,t,r,s){return n-=e,n=Qh(n,1/t,r),s!==void 0&&(n=Qh(n,1/s,r)),n}function t5(n,e=0,t=1,r=.5,s,a=n,u=n){if(Pr.test(e)&&(e=parseFloat(e),e=st(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=st(a.min,a.max,r);n===a&&(h-=e),n.min=Z1(n.min,e,t,h,s),n.max=Z1(n.max,e,t,h,s)}function ew(n,e,[t,r,s],a,u){t5(n,e[t],e[r],e[s],e.scale,a,u)}const n5=["x","scaleX","originX"],r5=["y","scaleY","originY"];function tw(n,e,t,r){ew(n.x,e,n5,t?t.x:void 0,r?r.x:void 0),ew(n.y,e,r5,t?t.y:void 0,r?r.y:void 0)}function nw(n){return n.translate===0&&n.scale===1}function US(n){return nw(n.x)&&nw(n.y)}function rw(n,e){return n.min===e.min&&n.max===e.max}function i5(n,e){return rw(n.x,e.x)&&rw(n.y,e.y)}function iw(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function BS(n,e){return iw(n.x,e.x)&&iw(n.y,e.y)}function sw(n){return Tn(n.x)/Tn(n.y)}function ow(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class s5{constructor(){this.members=[]}add(e){Kg(this.members,e),e.scheduleRender()}remove(e){if(Gg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o5(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:x,skewY:b}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),x&&(r+=`skewX(${x}deg) `),b&&(r+=`skewY(${b}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(r+=`scale(${h}, ${f})`),r||"none"}const Bs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ul=typeof window<"u"&&window.MotionDebug!==void 0,kp=["","X","Y","Z"],a5={visibility:"hidden"},aw=1e3;let l5=0;function bp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function zS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Q2(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",et,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&zS(r)}function $S({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},h=e?.()){this.id=l5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ul&&(Bs.totalNodes=Bs.resolvedTargetDeltas=Bs.recalculatedProjection=0),this.nodes.forEach(h5),this.nodes.forEach(g5),this.nodes.forEach(y5),this.nodes.forEach(d5),Ul&&window.MotionDebug.record(Bs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new QV)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Qg),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KV(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),n){let _;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=YV(E,250),wh.hasAnimatedSinceResize&&(wh.hasAnimatedSinceResize=!1,this.nodes.forEach(uw))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||T5,{onLayoutAnimationStart:k,onLayoutAnimationComplete:F}=g.getProps(),q=!this.targetLayout||!BS(this.targetLayout,b)||x,K=!E&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||K||E&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,K);const J={...$g(V,"layout"),onPlay:k,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J)}else E||uw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&zS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lw);return}this.isUpdating||this.nodes.forEach(p5),this.isUpdating=!1,this.nodes.forEach(m5),this.nodes.forEach(u5),this.nodes.forEach(c5),this.clearAllSnapshots();const h=Ar.now();jt.delta=hi(0,1e3/60,h-jt.timestamp),jt.timestamp=h,jt.isProcessing=!0,wp.update.process(jt),wp.preRender.process(jt),wp.render.process(jt),jt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Dg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(f5),this.sharedNodes.forEach(_5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!US(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(h||Us(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),S5(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return pt();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(I5))){const{scroll:g}=this.root;g&&(aa(f.x,g.offset.x),aa(f.y,g.offset.y))}return f}removeElementScroll(u){var h;const f=pt();if(Dn(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Dn(f,u),aa(f.x,_.offset.x),aa(f.y,_.offset.y))}return f}applyTransform(u,h=!1){const f=pt();Dn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&la(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Us(g.latestValues)&&la(f,g.latestValues)}return Us(this.latestValues)&&la(f,this.latestValues),f}removeTransform(u){const h=pt();Dn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Us(p.latestValues))continue;wm(p.latestValues)&&p.updateSnapshot();const g=pt(),_=p.measurePageBox();Dn(g,_),tw(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Us(this.latestValues)&&tw(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=jt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Xl(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Dn(this.target,this.layout.layoutBox),VS(this.target,this.targetDelta)):Dn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Xl(this.relativeTargetOrigin,this.target,x.target),Dn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ul&&Bs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||wm(this.parent.latestValues)||DS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===jt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Dn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,x=this.treeScale.y;LV(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=pt());const{target:b}=h;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J1(this.prevProjectionDelta.x,this.projectionDelta.x),J1(this.prevProjectionDelta.y,this.projectionDelta.y)),Yl(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==x||!ow(this.projectionDelta.x,this.prevProjectionDelta.x)||!ow(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Ul&&Bs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oa(),this.projectionDelta=oa(),this.projectionDeltaWithTransform=oa()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=oa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=pt(),x=f?f.source:void 0,b=this.layout?this.layout.source:void 0,V=x!==b,k=this.getStack(),F=!k||k.members.length<=1,q=!!(V&&!F&&this.options.crossfade===!0&&!this.path.some(E5));this.animationProgress=0;let K;this.mixTargetDelta=J=>{const X=J/1e3;cw(_.x,u.x,X),cw(_.y,u.y,X),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),w5(this.relativeTarget,this.relativeTargetOrigin,E,X),K&&i5(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=pt()),Dn(K,this.relativeTarget)),V&&(this.animationValues=g,JV(g,p,this.latestValues,X,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{wh.hasAnimatedSinceResize=!0,this.currentAnimation=qV(0,aw,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aw),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&HS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||pt();const _=Tn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=Tn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Dn(h,f),la(h,g),Yl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new s5),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&bp("z",u,p,this.animationValues);for(let g=0;g<kp.length;g++)bp(`rotate${kp[g]}`,u,p,this.animationValues),bp(`skew${kp[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a5;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=vh(u?.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const V={};return this.options.layoutId&&(V.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,V.pointerEvents=vh(u?.pointerEvents)||""),this.hasProjected&&!Us(this.latestValues)&&(V.transform=g?g({},""):"none",this.hasProjected=!1),V}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=o5(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x,y:b}=this.projectionDelta;p.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const V in Hh){if(E[V]===void 0)continue;const{correct:k,applyTo:F}=Hh[V],q=p.transform==="none"?E[V]:k(E[V],_);if(F){const K=F.length;for(let J=0;J<K;J++)p[F[J]]=q}else p[V]=q}return this.options.layoutId&&(p.pointerEvents=_===this?vh(u?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(lw),this.root.sharedNodes.clear()}}}function u5(n){n.updateLayout()}function c5(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Vn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],x=Tn(E);E.min=r[_].min,E.max=E.min+x}):HS(a,t.layoutBox,r)&&Vn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],x=Tn(r[_]);E.max=E.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+x)});const h=oa();Yl(h,r,t.layoutBox);const f=oa();u?Yl(f,n.applyTransform(s,!0),t.measuredBox):Yl(f,r,t.layoutBox);const p=!US(h);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:x}=_;if(E&&x){const b=pt();Xl(b,t.layoutBox,E.layoutBox);const V=pt();Xl(V,r,x.layoutBox),BS(b,V)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=b,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function h5(n){Ul&&Bs.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function d5(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function f5(n){n.clearSnapshot()}function lw(n){n.clearMeasurements()}function p5(n){n.isLayoutDirty=!1}function m5(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function uw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function g5(n){n.resolveTargetDelta()}function y5(n){n.calcProjection()}function v5(n){n.resetSkewAndRotation()}function _5(n){n.removeLeadSnapshot()}function cw(n,e,t){n.translate=st(e.translate,0,t),n.scale=st(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function hw(n,e,t,r){n.min=st(e.min,t.min,r),n.max=st(e.max,t.max,r)}function w5(n,e,t,r){hw(n.x,e.x,t.x,r),hw(n.y,e.y,t.y,r)}function E5(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const T5={duration:.45,ease:[.4,0,.1,1]},dw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),fw=dw("applewebkit/")&&!dw("chrome/")?Math.round:En;function pw(n){n.min=fw(n.min),n.max=fw(n.max)}function S5(n){pw(n.x),pw(n.y)}function HS(n,e,t){return n==="position"||n==="preserve-aspect"&&!PV(sw(e),sw(t),.2)}function I5(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const x5=$S({attachResizeListener:(n,e)=>fu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Np={current:void 0},WS=$S({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Np.current){const n=new x5({});n.mount(window),n.setOptions({layoutScroll:!0}),Np.current=n}return Np.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),P5={pan:{Feature:zV},drag:{Feature:BV,ProjectionNode:WS,MeasureLayout:OS}};function mw(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&et.postRender(()=>a(e,ku(e)))}class A5 extends as{mount(){const{current:e}=this.node;e&&(this.unmount=AN(e,t=>(mw(this.node,t,"Start"),r=>mw(this.node,r,"End"))))}unmount(){}}class C5 extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(fu(this.node.current,"focus",()=>this.onFocus()),fu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gw(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&et.postRender(()=>a(e,ku(e)))}class R5 extends as{mount(){const{current:e}=this.node;e&&(this.unmount=bN(e,t=>(gw(this.node,t,"Start"),(r,{success:s})=>gw(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tm=new WeakMap,Dp=new WeakMap,k5=n=>{const e=Tm.get(n.target);e&&e(n)},b5=n=>{n.forEach(k5)};function N5({root:n,...e}){const t=n||document;Dp.has(t)||Dp.set(t,{});const r=Dp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(b5,{root:n,...e})),r[s]}function D5(n,e,t){const r=N5(e);return Tm.set(n,t),r.observe(n),()=>{Tm.delete(n),r.unobserve(n)}}const V5={some:0,all:1};class M5 extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:V5[s]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return D5(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(L5(e,t))&&this.startObserver()}unmount(){}}function L5({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const qS={inView:{Feature:M5},tap:{Feature:R5},focus:{Feature:C5},hover:{Feature:A5}},O5={layout:{ProjectionNode:WS,MeasureLayout:OS}},Sm={current:null},KS={current:!1};function F5(){if(KS.current=!0,!!Pg)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Sm.current=n.matches;n.addListener(e),e()}else Sm.current=!1}const j5=[...gS,Gt,ss],U5=n=>j5.find(mS(n)),yw=new WeakMap;function B5(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Xt(s))n.addValue(r,s);else if(Xt(a))n.addValue(r,hu(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,hu(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class z5{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ty,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ar.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,et.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=Sd(t),this.isVariantNode=S2(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in E){const b=E[x];f[x]!==void 0&&Xt(b)&&b.set(f[x],!1)}}mount(e){this.current=e,yw.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),KS.current||F5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){yw.delete(this.current),this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=so.has(e),s=t.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ta){const t=Ta[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<vw.length;r++){const s=vw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=B5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=hu(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(fS(s)||iS(s))?s=parseFloat(s):!U5(s)&&ss.test(t)&&(s=cS(e,t)),this.setBaseTarget(e,Xt(s)?s.get():s)),Xt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=Mg(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Xt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Qg),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class GS extends z5{constructor(){super(...arguments),this.KeyframeResolver=yS}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function $5(n){return window.getComputedStyle(n)}class H5 extends GS{constructor(){super(...arguments),this.type="html",this.renderInstance=N2}readValueFromInstance(e,t){if(so.has(t)){const r=ey(t);return r&&r.default||0}else{const r=$5(e),s=(R2(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return MS(e,t)}build(e,t,r){Fg(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return zg(e,t,r)}}class W5 extends GS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pt}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(so.has(t)){const r=ey(t);return r&&r.default||0}return t=D2.has(t)?t:Ng(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return L2(e,t,r)}build(e,t,r){jg(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){V2(e,t,r,s)}mount(e){this.isSVGTag=Bg(e.tagName),super.mount(e)}}const QS=(n,e)=>Vg(n)?new W5(e):new H5(e,{allowProjection:n!==L.Fragment}),q5=EN({...AS,...qS,...P5,...O5},QS),Xe=L6(q5),K5={renderer:QS,...AS,...qS},G5={some:0,all:1};function Q5(n,e,{root:t,margin:r,amount:s="some"}={}){const a=H2(n),u=new WeakMap,h=p=>{p.forEach(g=>{const _=u.get(g.target);if(g.isIntersecting!==!!_)if(g.isIntersecting){const E=e(g);typeof E=="function"?u.set(g.target,E):f.unobserve(g.target)}else typeof _=="function"&&(_(g),u.delete(g.target))})},f=new IntersectionObserver(h,{root:t,rootMargin:r,threshold:typeof s=="number"?s:G5[s]});return a.forEach(p=>f.observe(p)),()=>f.disconnect()}function YS(n,{root:e,margin:t,amount:r,once:s=!1}={}){const[a,u]=L.useState(!1);return L.useEffect(()=>{if(!n.current||s&&a)return;const h=()=>(u(!0),s?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:t,amount:r};return Q5(n.current,h,f)},[e,n,t,s,r]),a}class XS extends Ge.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?P.jsx("div",{className:"bg-slate-100 text-slate-800 min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:P.jsxs("div",{className:"max-w-md mx-auto",children:[P.jsx("div",{className:"mb-8",children:P.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),P.jsx("h1",{className:"text-4xl font-bold mb-4 text-slate-700",children:"Oops, something went wrong!"}),P.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),P.jsxs("div",{className:"flex justify-center gap-4",children:[P.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:"Refresh Page"}),P.jsx("a",{href:"/",className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const Y5=Ge.memo(()=>P.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[P.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-blue animate-spin-pulse-combo"}),P.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-purple animate-reverse-spin opacity-40"})]})),_w=Ge.memo(()=>{const n=({delay:e})=>P.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full animate-pulse-bounce",style:{animationDelay:e}});return P.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:P.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[P.jsx(n,{delay:"0s"}),P.jsx(n,{delay:"0.2s"}),P.jsx(n,{delay:"0.4s"})]})})}),X5=({href:n,label:e,children:t,onClick:r})=>P.jsxs("a",{href:n,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300","aria-label":e,children:[t,P.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-slate-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),J5=Ge.memo(({isMobileMenuOpen:n,toggleMobileMenu:e,closeMobileMenu:t})=>{const r=s=>{s.preventDefault();const a=s.currentTarget.getAttribute("href"),u=document.querySelector(a);t(),u&&setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"start"})},100)};return P.jsxs("header",{className:"bg-white/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-slate-200/80",children:[P.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[P.jsx(X5,{href:"#home",label:"Home",onClick:r,children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),P.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-slate-600",children:[P.jsx("a",{href:"#about",onClick:r,className:"hover:text-blue-600 transition-colors",children:"About"}),P.jsx("a",{href:"#experience",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Experience"}),P.jsx("a",{href:"#skills",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Skills"}),P.jsx("a",{href:"#projects",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Projects"}),P.jsx("a",{href:"#contact",onClick:r,className:"hover:text-blue-600 transition-colors",children:"Contact"})]}),P.jsx("div",{className:"md:hidden",children:P.jsx("button",{onClick:e,className:"text-slate-600 focus:outline-none p-1",children:P.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),P.jsx(Ag,{children:n&&P.jsxs(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-lg px-6 py-4 space-y-3 text-slate-600 font-medium",children:[P.jsx("a",{href:"#about",onClick:r,className:"block py-2 hover:text-blue-600",children:"About"}),P.jsx("a",{href:"#experience",onClick:r,className:"block py-2 hover:text-blue-600",children:"Experience"}),P.jsx("a",{href:"#skills",onClick:r,className:"block py-2 hover:text-blue-600",children:"Skills"}),P.jsx("a",{href:"#projects",onClick:r,className:"block py-2 hover:text-blue-600",children:"Projects"}),P.jsx("a",{href:"#contact",onClick:r,className:"block py-2 hover:text-blue-600",children:"Contact"})]})})]})});function Pd(n,e,t,r){return new(t||(t=Promise))(function(s,a){function u(p){try{f(r.next(p))}catch(g){a(g)}}function h(p){try{f(r.throw(p))}catch(g){a(g)}}function f(p){var g;p.done?s(p.value):(g=p.value,g instanceof t?g:new t(function(_){_(g)})).then(u,h)}f((r=r.apply(n,[])).next())})}function Yi(n,e){var t,r,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function h(f){return function(p){return function(g){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(s=2&g[0]?r.return:g[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,g[1])).done)return s;switch(r=0,s&&(g=[2&g[0],s.value]),g[0]){case 0:case 1:s=g;break;case 4:return u.label++,{value:g[1],done:!1};case 5:u.label++,r=g[1],g=[0];continue;case 7:g=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!((s=s.length>0&&s[s.length-1])||g[0]!==6&&g[0]!==2)){u=0;continue}if(g[0]===3&&(!s||g[1]>s[0]&&g[1]<s[3])){u.label=g[1];break}if(g[0]===6&&u.label<s[1]){u.label=s[1],s=g;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(g);break}s[2]&&u.ops.pop(),u.trys.pop();continue}g=e.call(n,u)}catch(_){g=[6,_],r=0}finally{t=s=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([f,p])}}}function Im(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r,s,a=t.call(n),u=[];try{for(;(e===void 0||e-- >0)&&!(r=a.next()).done;)u.push(r.value)}catch(h){s={error:h}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(s)throw s.error}}return u}function vr(n,e,t){if(arguments.length===2)for(var r,s=0,a=e.length;s<a;s++)!r&&s in e||(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return n.concat(r||Array.prototype.slice.call(e))}function ww(n,e,t,r,s){for(var a=[],u=5;u<arguments.length;u++)a[u-5]=arguments[u];return Pd(this,void 0,void 0,function(){var h,f,p,g,_,E;return Yi(this,function(x){switch(x.label){case 0:x.trys.push([0,12,13,14]),h=Im(a),f=h.next(),x.label=1;case 1:if(f.done)return[3,11];switch(p=f.value,typeof p){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,Z5(n,e,p,t,r,s)];case 3:return x.sent(),[3,10];case 4:return[4,JS(p)];case 5:return x.sent(),[3,10];case 6:return[4,p.apply(void 0,vr([n,e,t,r,s],er(a),!1))];case 7:return x.sent(),[3,10];case 8:return[4,p];case 9:x.sent(),x.label=10;case 10:return f=h.next(),[3,1];case 11:return[3,14];case 12:return g=x.sent(),_={error:g},[3,14];case 13:try{f&&!f.done&&(E=h.return)&&E.call(h)}finally{if(_)throw _.error}return[7];case 14:return[2]}})})}function Z5(n,e,t,r,s,a){return Pd(this,void 0,void 0,function(){var u,h;return Yi(this,function(f){switch(f.label){case 0:return u=n.textContent||"",h=function(p,g){var _=er(g).slice(0);return vr(vr([],er(p),!1),[NaN],!1).findIndex(function(E,x){return _[x]!==E})}(u,t),[4,e9(n,vr(vr([],er(n9(u,e,h)),!1),er(t9(t,e,h)),!1),r,s,a)];case 1:return f.sent(),[2]}})})}function JS(n){return Pd(this,void 0,void 0,function(){return Yi(this,function(e){switch(e.label){case 0:return[4,new Promise(function(t){return setTimeout(t,n)})];case 1:return e.sent(),[2]}})})}function e9(n,e,t,r,s){return Pd(this,void 0,void 0,function(){var a,u,h,f,p,g,_,E,x,b,V,k,F;return Yi(this,function(q){switch(q.label){case 0:if(a=e,s){for(u=0,h=1;h<e.length;h++)if(f=er([e[h-1],e[h]],2),p=f[0],(g=f[1]).length>p.length||g===""){u=h;break}a=e.slice(u,e.length)}q.label=1;case 1:q.trys.push([1,6,7,8]),_=Im(function(K){var J,X,oe,N,I,A,D;return Yi(this,function(O){switch(O.label){case 0:J=function(B){return Yi(this,function(R){switch(R.label){case 0:return[4,{op:function(Be){return requestAnimationFrame(function(){return Be.textContent=B})},opCode:function(Be){var ht=Be.textContent||"";return B===""||ht.length>B.length?"DELETE":"WRITING"}}];case 1:return R.sent(),[2]}})},O.label=1;case 1:O.trys.push([1,6,7,8]),X=Im(K),oe=X.next(),O.label=2;case 2:return oe.done?[3,5]:(N=oe.value,[5,J(N)]);case 3:O.sent(),O.label=4;case 4:return oe=X.next(),[3,2];case 5:return[3,8];case 6:return I=O.sent(),A={error:I},[3,8];case 7:try{oe&&!oe.done&&(D=X.return)&&D.call(X)}finally{if(A)throw A.error}return[7];case 8:return[2]}})}(a)),E=_.next(),q.label=2;case 2:return E.done?[3,5]:(x=E.value,b=x.opCode(n)==="WRITING"?t+t*(Math.random()-.5):r+r*(Math.random()-.5),x.op(n),[4,JS(b)]);case 3:q.sent(),q.label=4;case 4:return E=_.next(),[3,2];case 5:return[3,8];case 6:return V=q.sent(),k={error:V},[3,8];case 7:try{E&&!E.done&&(F=_.return)&&F.call(_)}finally{if(k)throw k.error}return[7];case 8:return[2]}})})}function t9(n,e,t){var r,s;return t===void 0&&(t=0),Yi(this,function(a){switch(a.label){case 0:r=e(n),s=r.length,a.label=1;case 1:return t<s?[4,r.slice(0,++t).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}function n9(n,e,t){var r,s;return t===void 0&&(t=0),Yi(this,function(a){switch(a.label){case 0:r=e(n),s=r.length,a.label=1;case 1:return s>t?[4,r.slice(0,--s).join("")]:[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})}var r9="index-module_type__E-SaG";(function(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var i9=L.memo(L.forwardRef(function(n,e){var t=n.sequence,r=n.repeat,s=n.className,a=n.speed,u=a===void 0?40:a,h=n.deletionSpeed,f=n.omitDeletionAnimation,p=f!==void 0&&f,g=n.preRenderFirstString,_=g!==void 0&&g,E=n.wrapper,x=E===void 0?"span":E,b=n.splitter,V=b===void 0?function(te){return vr([],er(te),!1)}:b,k=n.cursor,F=k===void 0||k,q=n.style,K=function(te,U){var Q={};for(var le in te)Object.prototype.hasOwnProperty.call(te,le)&&U.indexOf(le)<0&&(Q[le]=te[le]);if(te!=null&&typeof Object.getOwnPropertySymbols=="function"){var xe=0;for(le=Object.getOwnPropertySymbols(te);xe<le.length;xe++)U.indexOf(le[xe])<0&&Object.prototype.propertyIsEnumerable.call(te,le[xe])&&(Q[le[xe]]=te[le[xe]])}return Q}(n,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),J=K["aria-label"],X=K["aria-hidden"],oe=K.role;h||(h=u);var N=new Array(2).fill(40);[u,h].forEach(function(te,U){switch(typeof te){case"number":N[U]=Math.abs(te-100);break;case"object":var Q=te.type,le=te.value;if(typeof le!="number")break;Q==="keyStrokeDelayInMs"&&(N[U]=le)}});var I,A,D,O,B,R,Be=N[0],ht=N[1],lt=function(te,U){U===void 0&&(U=null);var Q=L.useRef(U);return L.useEffect(function(){te&&(typeof te=="function"?te(Q.current):te.current=Q.current)},[te]),Q}(e),Se=r9;I=s?"".concat(F?Se+" ":"").concat(s):F?Se:"",A=L.useRef(function(){var te,U=t;r===1/0?te=ww:typeof r=="number"&&(U=Array(1+r).fill(t).flat());var Q=te?vr(vr([],er(U),!1),[te],!1):vr([],er(U),!1);return ww.apply(void 0,vr([lt.current,V,Be,ht,p],er(Q),!1)),function(){lt.current}}),D=L.useRef(),O=L.useRef(!1),B=L.useRef(!1),R=er(L.useState(0),2)[1],O.current&&(B.current=!0),L.useEffect(function(){return O.current||(D.current=A.current(),O.current=!0),R(function(te){return te+1}),function(){B.current&&D.current&&D.current()}},[]);var ie=x,me=_?t.find(function(te){return typeof te=="string"})||"":null;return Ge.createElement(ie,{"aria-hidden":X,"aria-label":J,role:oe,style:q,className:I,children:J?Ge.createElement("span",{"aria-hidden":"true",ref:lt,children:me}):me,ref:J?void 0:lt})}),function(n,e){return!0}),ZS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ew=Ge.createContext&&Ge.createContext(ZS),s9=["attr","size","title"];function o9(n,e){if(n==null)return{};var t=a9(n,e),r,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)r=a[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function a9(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Yh(){return Yh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yh.apply(this,arguments)}function Tw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Xh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(t),!0).forEach(function(r){l9(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function l9(n,e,t){return e=u9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u9(n){var e=c9(n,"string");return typeof e=="symbol"?e:e+""}function c9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eI(n){return n&&n.map((e,t)=>Ge.createElement(e.tag,Xh({key:t},e.attr),eI(e.child)))}function Ct(n){return e=>Ge.createElement(h9,Yh({attr:Xh({},n.attr)},e),eI(n.child))}function h9(n){var e=t=>{var{attr:r,size:s,title:a}=n,u=o9(n,s9),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Ge.createElement("svg",Yh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Xh(Xh({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),a&&Ge.createElement("title",null,a),n.children)};return Ew!==void 0?Ge.createElement(Ew.Consumer,null,t=>e(t)):e(ZS)}function d9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(n)}function f9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function p9(n){return Ct({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(n)}function m9(n){return Ct({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function g9(n){return Ct({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(n)}function y9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M418.2 177.2c-5.4-1.8-10.8-3.5-16.2-5.1.9-3.7 1.7-7.4 2.5-11.1 12.3-59.6 4.2-107.5-23.1-123.3-26.3-15.1-69.2.6-112.6 38.4-4.3 3.7-8.5 7.6-12.5 11.5-2.7-2.6-5.5-5.2-8.3-7.7-45.5-40.4-91.1-57.4-118.4-41.5-26.2 15.2-34 60.3-23 116.7 1.1 5.6 2.3 11.1 3.7 16.7-6.4 1.8-12.7 3.8-18.6 5.9C38.3 196.2 0 225.4 0 255.6c0 31.2 40.8 62.5 96.3 81.5 4.5 1.5 9 3 13.6 4.3-1.5 6-2.8 11.9-4 18-10.5 55.5-2.3 99.5 23.9 114.6 27 15.6 72.4-.4 116.6-39.1 3.5-3.1 7-6.3 10.5-9.7 4.4 4.3 9 8.4 13.6 12.4 42.8 36.8 85.1 51.7 111.2 36.6 27-15.6 35.8-62.9 24.4-120.5-.9-4.4-1.9-8.9-3-13.5 3.2-.9 6.3-1.9 9.4-2.9 57.7-19.1 99.5-50 99.5-81.7 0-30.3-39.4-59.7-93.8-78.4zM282.9 92.3c37.2-32.4 71.9-45.1 87.7-36 16.9 9.7 23.4 48.9 12.8 100.4-.7 3.4-1.4 6.7-2.3 10-22.2-5-44.7-8.6-67.3-10.6-13-18.6-27.2-36.4-42.6-53.1 3.9-3.7 7.7-7.2 11.7-10.7zM167.2 307.5c5.1 8.7 10.3 17.4 15.8 25.9-15.6-1.7-31.1-4.2-46.4-7.5 4.4-14.4 9.9-29.3 16.3-44.5 4.6 8.8 9.3 17.5 14.3 26.1zm-30.3-120.3c14.4-3.2 29.7-5.8 45.6-7.8-5.3 8.3-10.5 16.8-15.4 25.4-4.9 8.5-9.7 17.2-14.2 26-6.3-14.9-11.6-29.5-16-43.6zm27.4 68.9c6.6-13.8 13.8-27.3 21.4-40.6s15.8-26.2 24.4-38.9c15-1.1 30.3-1.7 45.9-1.7s31 .6 45.9 1.7c8.5 12.6 16.6 25.5 24.3 38.7s14.9 26.7 21.7 40.4c-6.7 13.8-13.9 27.4-21.6 40.8-7.6 13.3-15.7 26.2-24.2 39-14.9 1.1-30.4 1.6-46.1 1.6s-30.9-.5-45.6-1.4c-8.7-12.7-16.9-25.7-24.6-39s-14.8-26.8-21.5-40.6zm180.6 51.2c5.1-8.8 9.9-17.7 14.6-26.7 6.4 14.5 12 29.2 16.9 44.3-15.5 3.5-31.2 6.2-47 8 5.4-8.4 10.5-17 15.5-25.6zm14.4-76.5c-4.7-8.8-9.5-17.6-14.5-26.2-4.9-8.5-10-16.9-15.3-25.2 16.1 2 31.5 4.7 45.9 8-4.6 14.8-10 29.2-16.1 43.4zM256.2 118.3c10.5 11.4 20.4 23.4 29.6 35.8-19.8-.9-39.7-.9-59.5 0 9.8-12.9 19.9-24.9 29.9-35.8zM140.2 57c16.8-9.8 54.1 4.2 93.4 39 2.5 2.2 5 4.6 7.6 7-15.5 16.7-29.8 34.5-42.9 53.1-22.6 2-45 5.5-67.2 10.4-1.3-5.1-2.4-10.3-3.5-15.5-9.4-48.4-3.2-84.9 12.6-94zm-24.5 263.6c-4.2-1.2-8.3-2.5-12.4-3.9-21.3-6.7-45.5-17.3-63-31.2-10.1-7-16.9-17.8-18.8-29.9 0-18.3 31.6-41.7 77.2-57.6 5.7-2 11.5-3.8 17.3-5.5 6.8 21.7 15 43 24.5 63.6-9.6 20.9-17.9 42.5-24.8 64.5zm116.6 98c-16.5 15.1-35.6 27.1-56.4 35.3-11.1 5.3-23.9 5.8-35.3 1.3-15.9-9.2-22.5-44.5-13.5-92 1.1-5.6 2.3-11.2 3.7-16.7 22.4 4.8 45 8.1 67.9 9.8 13.2 18.7 27.7 36.6 43.2 53.4-3.2 3.1-6.4 6.1-9.6 8.9zm24.5-24.3c-10.2-11-20.4-23.2-30.3-36.3 9.6.4 19.5.6 29.5.6 10.3 0 20.4-.2 30.4-.7-9.2 12.7-19.1 24.8-29.6 36.4zm130.7 30c-.9 12.2-6.9 23.6-16.5 31.3-15.9 9.2-49.8-2.8-86.4-34.2-4.2-3.6-8.4-7.5-12.7-11.5 15.3-16.9 29.4-34.8 42.2-53.6 22.9-1.9 45.7-5.4 68.2-10.5 1 4.1 1.9 8.2 2.7 12.2 4.9 21.6 5.7 44.1 2.5 66.3zm18.2-107.5c-2.8.9-5.6 1.8-8.5 2.6-7-21.8-15.6-43.1-25.5-63.8 9.6-20.4 17.7-41.4 24.5-62.9 5.2 1.5 10.2 3.1 15 4.7 46.6 16 79.3 39.8 79.3 58 0 19.6-34.9 44.9-84.8 61.4zm-149.7-15c25.3 0 45.8-20.5 45.8-45.8s-20.5-45.8-45.8-45.8c-25.3 0-45.8 20.5-45.8 45.8s20.5 45.8 45.8 45.8z"},child:[]}]})(n)}function v9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function _9(n){return Ct({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(n)}function w9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(n)}function E9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function T9(n){return Ct({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(n)}function S9(n){return Ct({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(n)}function I9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function x9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(n)}function P9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function A9(n){return Ct({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function C9(n){return Ct({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(n)}function R9(n){return Ct({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}const k9="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",b9=Ge.memo(()=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},t={"--grid-color":"rgba(100, 116, 139, 0.2)","--grid-size":"40px",backgroundImage:`
      linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
      linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px)
    `,backgroundSize:"var(--grid-size) var(--grid-size)"};return P.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left bg-slate-900 overflow-hidden",style:t,children:P.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center",children:[P.jsxs(Xe.div,{variants:n,initial:"hidden",animate:"visible",className:"md:col-span-3",children:[P.jsxs(Xe.h1,{variants:e,className:"text-5xl md:text-7xl font-extrabold text-slate-100 mb-4",children:[P.jsx("span",{className:"block mb-2 text-xl font-medium text-slate-400",children:"Hello, I'm"}),"Costas Pinto"]}),P.jsx(Xe.div,{variants:e,children:P.jsx(i9,{sequence:["AI Innovator",2e3,"Data Analyst",2e3,"Data Scientist",2e3,"Problem Solver",2e3,"Creative Thinker",2e3],wrapper:"p",speed:50,className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-purple-400 to-cyan-400 h-10",repeat:1/0})}),P.jsx(Xe.p,{variants:e,className:"max-w-xl text-slate-300 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),P.jsxs(Xe.div,{variants:e,className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[P.jsxs(Xe.a,{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05,boxShadow:"0px 10px 30px rgba(99, 102, 241, 0.4)"},whileTap:{scale:.95},className:"flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all",children:[P.jsx(x9,{}),"Download CV"]}),P.jsxs("div",{className:"flex gap-4",children:[P.jsx(Xe.a,{whileHover:{y:-3},href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-purple-400 transition-colors",children:P.jsx(g9,{size:32})}),P.jsx(Xe.a,{whileHover:{y:-3},href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",children:P.jsx(p9,{size:32})})]})]})]}),P.jsx(Xe.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,y:[-8,8]},transition:{opacity:{duration:.8,delay:.4},scale:{duration:.8,delay:.4,type:"spring"},y:{duration:3,repeat:1/0,ease:"easeInOut",repeatType:"reverse"}},className:"md:col-span-2 flex justify-center items-center",children:P.jsxs("div",{className:"relative w-[300px] h-[300px] md:w-[400px] md:h-[400px]",children:[P.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-600 to-cyan-500 rounded-full blur-2xl opacity-60 animate-pulse"}),P.jsx("div",{className:"relative w-full h-full rounded-full overflow-hidden shadow-2xl border-2 border-slate-700",children:P.jsx("img",{loading:"lazy",src:k9,onError:r=>{r.target.src="https://placehold.co/400x400/0f172a/94a3b8?text=CP"},alt:"Costas Pinto",className:"w-full h-full object-cover"})})]})})]})})}),ls=Ge.memo(({children:n,id:e,className:t=""})=>{const r=L.useRef(null),s=YS(r,{once:!0,amount:.2}),a={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return P.jsx(Xe.section,{id:e,ref:r,variants:a,initial:"hidden",animate:s?"visible":"hidden",className:`py-16 md:py-20 ${t}`,children:n})}),us=Ge.memo(()=>{const n=L.useRef(null),e=YS(n,{once:!0,amount:.5}),t={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return P.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:P.jsx(Xe.div,{className:"h-full bg-gradient-to-r from-blue-600 to-blue-800 rounded-full",style:{transformOrigin:"center"},variants:t,initial:"hidden",animate:e?"visible":"hidden"})})}),N9=Ge.memo(()=>P.jsxs(ls,{id:"about",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"About Me"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("p",{className:"text-lg leading-relaxed text-slate-600 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),D9=Ge.memo(({date:n,title:e,company:t,details:r})=>P.jsxs(Xe.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-indigo-200",children:[P.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full border-4 border-white"}),P.jsx("p",{className:"text-slate-500 mb-1 font-medium",children:n}),P.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),P.jsx("p",{className:"text-lg text-blue-600 font-semibold mb-3",children:t}),P.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:r.map((s,a)=>P.jsx("li",{children:s},a))})]})),V9=Ge.memo(()=>{const n=[{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return P.jsxs(ls,{id:"experience",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Experience"}),P.jsx(us,{}),P.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:n.map((e,t)=>P.jsx(D9,{...e},t))})]})}),M9=Ge.memo(()=>{const[n,e]=L.useState("Programming Languages"),t=h=>{e(f=>f===h?null:h)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},s={"Programming Languages":P.jsx(S9,{className:"mr-3 text-blue-600"}),"Data Science & Analytics":P.jsx(w9,{className:"mr-3 text-green-600"}),"Web & App Development":P.jsx(y9,{className:"mr-3 text-sky-500"}),"AI & Generative AI":P.jsx(_9,{className:"mr-3 text-purple-600"}),"Tools & Workflow":P.jsx(C9,{className:"mr-3 text-gray-600"})},a={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},u={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return P.jsxs(ls,{id:"skills",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Skills"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([h,f])=>P.jsxs("div",{className:"border-b border-slate-300/50 last:border-b-0",children:[P.jsxs("button",{onClick:()=>t(h),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-slate-700 focus:outline-none",children:[P.jsxs("span",{className:"flex items-center",children:[s[h]," ",h]}),P.jsx(Xe.span,{animate:{rotate:n===h?180:0},children:P.jsx(T9,{className:"w-5 h-5 transition-colors duration-300 text-slate-500"})})]}),P.jsx(Ag,{children:n===h&&P.jsx(Xe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:P.jsx(Xe.div,{variants:a,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:f.map(p=>P.jsxs(Xe.div,{variants:u,children:[P.jsx("p",{className:"text-lg font-medium text-slate-600 mb-1",children:p.name}),P.jsx("div",{className:"bg-slate-300 w-full rounded-full h-2.5",children:P.jsx(Xe.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-blue-700",initial:{width:0},animate:{width:`${p.level}%`},transition:{duration:1,ease:"easeOut"}})})]},p.name))})})})]},h))})})]})}),L9=Ge.memo(()=>P.jsxs(ls,{id:"achievements",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Key Achievements"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("ul",{className:"space-y-4 text-lg text-slate-600",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong> – empowering students through digital education."}].map(n=>P.jsxs("li",{className:"flex items-start",children:[P.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:"✓"}),P.jsx("span",{dangerouslySetInnerHTML:{__html:n.text}})]},n.id))})})]})),O9=Ge.memo(({year:n,title:e,details:t,icon:r})=>P.jsxs(Xe.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[P.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center shadow-md",children:r}),P.jsx("p",{className:"text-blue-600 mb-1 font-semibold",children:n}),P.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),P.jsx("p",{className:"text-slate-600 mt-1",children:t})]})),F9=Ge.memo(()=>{const n=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:P.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return P.jsxs(ls,{id:"journey",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Learning Journey"}),P.jsx(us,{}),P.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:P.jsx("div",{className:"space-y-12",children:n.map(e=>P.jsx(O9,{...e},e.title))})})]})}),j9=L.memo(({projects:n})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},t={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return P.jsxs(ls,{id:"projects",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Projects"}),P.jsx(us,{}),P.jsx("div",{className:"min-h-[60vh] w-full",children:n.length>0?P.jsx(Xe.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(r=>P.jsxs(Xe.div,{variants:t,className:"p-6 flex flex-col rounded-2xl bg-white shadow-lg md:bg-white/20 md:backdrop-blur-lg md:border md:border-white/30 transition-all duration-300 md:hover:shadow-2xl md:hover:shadow-blue-500/20 md:hover:-translate-y-1 overflow-hidden",children:[P.jsx("img",{loading:"lazy",src:r.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:r.title,className:"rounded-lg mb-4 aspect-video object-cover border border-slate-200/50"}),P.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:r.title}),P.jsx("p",{className:"text-slate-600 flex-grow mb-4",children:r.description}),P.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags?.map(s=>P.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-1 rounded-full",children:s},s))}),r.projectLink&&P.jsx("a",{href:r.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-600 rounded-full py-2 px-4 hover:bg-blue-600 hover:text-white transition-all duration-300 z-10",children:"View Project"})]},r.id))}):P.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:P.jsx("p",{className:"text-center text-slate-500 text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),U9=({url:n,onClose:e})=>P.jsx(Ag,{children:n&&P.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:P.jsxs(Xe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[P.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[P.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Certificate Viewer"}),P.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 transition-colors p-1 rounded-full hover:bg-slate-100","aria-label":"Close",children:P.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:P.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),P.jsx("div",{className:"flex-grow p-2 bg-slate-50",children:P.jsx("iframe",{src:n,title:"Certificate PDF Viewer",className:"w-full h-full border-none"})})]})})}),B9=Ge.memo(({licensesPdfUrl:n,internshipsPdfUrl:e})=>{const[t,r]=L.useState(null),s="inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-600 to-blue-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return P.jsxs(P.Fragment,{children:[P.jsxs(ls,{id:"certifications",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Certificates"}),P.jsx(us,{}),P.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[P.jsx(Xe.button,{onClick:()=>r(n),disabled:!n,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Licenses & Certs"}),P.jsx(Xe.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:s,children:"View Internship Certs"})]})]}),P.jsx(U9,{url:t,onClose:()=>r(null)})]})});function z9(n){return Ct({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}const $9=Ge.memo(()=>{const[n,e]=L.useState({submitting:!1,succeeded:!1,error:null}),[t,r]=L.useState(null),s=L.useCallback(async h=>{h.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const f=h.target,p=new FormData(f);try{const g=await fetch(f.action,{method:f.method,body:p,headers:{Accept:"application/json"}});if(g.ok)e({submitting:!1,succeeded:!0,error:null}),f.reset(),setTimeout(()=>e(_=>({..._,succeeded:!1})),5e3);else{const E=(await g.json()).errors?.map(x=>x.message).join(", ")||"An unknown error occurred.";throw new Error(E)}}catch(g){e({submitting:!1,succeeded:!1,error:g.message}),setTimeout(()=>e(_=>({..._,error:null})),5e3)}},[]),a=L.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{r("Email copied to clipboard!"),setTimeout(()=>r(null),3e3)}).catch(f=>{console.error("Clipboard copy failed:",f),r("Could not copy email."),setTimeout(()=>r(null),3e3)})},[]),u=[{name:"Instagram",icon:P.jsx(m9,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:P.jsx(d9,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:P.jsx(v9,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:P.jsx(f9,{}),url:"https://facebook.com/costaspinto"}];return P.jsxs(ls,{id:"contact",className:"bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans !py-0",children:[P.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[P.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Let’s Get Connected!"}),P.jsx(us,{}),P.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[P.jsxs("div",{className:"flex-1 space-y-10",children:[P.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),P.jsxs("div",{children:[P.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),P.jsx("div",{className:"flex items-center gap-4",children:u.map(h=>P.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer","aria-label":h.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:h.icon},h.name))})]})]}),P.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-white/30",children:P.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:s,className:"space-y-6",children:[P.jsxs("div",{className:"relative",children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Name *"}),P.jsx(R9,{className:"absolute left-3 top-10 text-slate-400"}),P.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{className:"relative",children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Email *"}),P.jsx(P9,{className:"absolute left-3 top-10 text-slate-400"}),P.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{className:"relative",children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Service you are looking for *"}),P.jsx(I9,{className:"absolute left-3 top-10 text-slate-400"}),P.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsxs("div",{children:[P.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Message"}),P.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),P.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n.submitting,children:n.submitting?"Submitting...":"Submit"}),n.succeeded&&P.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[P.jsx(E9,{})," Thanks for your message! I'll get back to you soon."]}),n.error&&P.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[P.jsx(A9,{})," Error: ",n.error]})]})})]})]}),P.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:P.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[P.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[P.jsxs("div",{children:[P.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),P.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and let’s explore how we can collaborate."})]}),P.jsxs("div",{className:"flex gap-4 relative",children:[P.jsxs("button",{onClick:a,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[P.jsx(z9,{})," COPY EMAIL"]}),t&&P.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:t})]})]}),P.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[P.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),P.jsxs("nav",{className:"flex gap-6",children:[P.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),P.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"})]}),P.jsx("div",{className:"flex items-center gap-4",children:u.map(h=>P.jsx("a",{href:h.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:h.icon},h.name))})]}),P.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:["© ",new Date().getFullYear()," Costas Pinto."]})]})})]})}),H9=L.lazy(()=>_x(()=>import("./AdminPanel-CdVadGYk.js"),[])),W9=()=>{const n=Dw();return L.useEffect(()=>{const e=sessionStorage.getItem("redirect");if(e){sessionStorage.removeItem("redirect");const t=e.replace(/^\/Costas_Portfolio/,"");n(t||"/",{replace:!0})}},[n]),null},tI={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"};Object.entries(tI).forEach(([n,e])=>{e||console.error(`❌ Missing Firebase environment variable: ${n}. Please check your .env file.`)});let sh,Bl,nI,rI;try{sh=Jw(tI),Bl=Ik(sh),nI=Gb(sh),rI=E6(sh)}catch(n){console.error("🔥 Firebase initialization failed:",n)}const q9=(n=768)=>{const[e,t]=L.useState(()=>typeof window<"u"?window.innerWidth<n:!1);return L.useEffect(()=>{if(typeof window>"u")return;const r=()=>t(window.innerWidth<n);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e},K9=({projects:n=[],licensesPdfUrl:e="",internshipsPdfUrl:t="",isMobile:r})=>{const[s,a]=L.useState(!1),u=L.useCallback(()=>a(!1),[]),h=L.useCallback(()=>a(f=>!f),[]);return P.jsxs(P.Fragment,{children:[P.jsx(J5,{isMobileMenuOpen:s,closeMobileMenu:u,toggleMobileMenu:h}),P.jsxs("main",{className:"relative z-10",children:[P.jsx(b9,{}),P.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[P.jsx(N9,{}),P.jsx(V9,{}),P.jsx(M9,{}),P.jsx(L9,{}),P.jsx(F9,{}),P.jsx(j9,{projects:n,isMobile:r}),P.jsx(B9,{licensesPdfUrl:e,internshipsPdfUrl:t})]})]}),P.jsx($9,{})]})};function G9(){const[n,e]=L.useState({projects:[],licensesPdfUrl:"",internshipsPdfUrl:""}),[t,r]=L.useState(!0),[s,a]=L.useState(null),u=q9(),h=L.useCallback(async()=>{if(!Bl){a("Firebase is not initialized. Check your .env settings."),r(!1);return}try{const p=(await Ok(Sk(Bl,"projects"))).docs.map(x=>({id:x.id,...x.data()})),g=ST(Bl,"portfolioAssets","main"),_=await Lk(g),E=_.exists()?_.data():{};e({projects:p,licensesPdfUrl:E.licensesPdfUrl||"",internshipsPdfUrl:E.internshipsPdfUrl||""})}catch(f){console.error("❌ Firebase fetch error:",f),a("Failed to load portfolio data. Please try again later.")}finally{r(!1)}},[]);return L.useEffect(()=>{h()},[h]),t?P.jsx(_w,{}):s?P.jsx("div",{className:"text-center mt-20 p-4",children:P.jsx("h2",{className:"text-red-600 text-xl font-bold",children:s})}):P.jsxs(N6,{features:K5,children:[P.jsx(Y5,{}),P.jsx("div",{className:"relative text-slate-800 font-sans overflow-x-hidden",children:P.jsx(XS,{children:P.jsxs(NP,{basename:"/Costas_Portfolio/",children:[P.jsx(W9,{}),P.jsx(L.Suspense,{fallback:P.jsx(_w,{}),children:P.jsxs(uP,{children:[P.jsx(Mp,{path:"/",element:P.jsx(K9,{projects:n.projects,licensesPdfUrl:n.licensesPdfUrl,internshipsPdfUrl:n.internshipsPdfUrl,isMobile:u})}),P.jsx(Mp,{path:"/admin",element:P.jsx(H9,{db:Bl,auth:nI,storage:rI})})]})})]})})})]})}const Q9=document.getElementById("root");gx.createRoot(Q9).render(P.jsx(Ge.StrictMode,{children:P.jsx(XS,{children:P.jsx(G9,{})})}));export{Ag as A,_w as L,Lk as a,rM as b,Sk as c,ST as d,Z9 as e,eM as f,Ok as g,J9 as h,X9 as i,P as j,Xe as m,nM as o,L as r,tM as s};
