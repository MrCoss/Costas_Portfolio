(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function gS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ng={exports:{}},nc={},ig={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function GR(){if(iE)return Ae;iE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function b($,J,ye){this.props=$,this.context=J,this.refs=P,this.updater=ye||T}b.prototype.isReactComponent={},b.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},b.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function A(){}A.prototype=b.prototype;function F($,J,ye){this.props=$,this.context=J,this.refs=P,this.updater=ye||T}var z=F.prototype=new A;z.constructor=F,S(z,b.prototype),z.isPureReactComponent=!0;var q=Array.isArray,X=Object.prototype.hasOwnProperty,ne={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function C($,J,ye){var ke,Re={},Le=null,$e=null;if(J!=null)for(ke in J.ref!==void 0&&($e=J.ref),J.key!==void 0&&(Le=""+J.key),J)X.call(J,ke)&&!M.hasOwnProperty(ke)&&(Re[ke]=J[ke]);var He=arguments.length-2;if(He===1)Re.children=ye;else if(1<He){for(var Xe=Array(He),Vt=0;Vt<He;Vt++)Xe[Vt]=arguments[Vt+2];Re.children=Xe}if($&&$.defaultProps)for(ke in He=$.defaultProps,He)Re[ke]===void 0&&(Re[ke]=He[ke]);return{$$typeof:t,type:$,key:Le,ref:$e,props:Re,_owner:ne.current}}function R($,J){return{$$typeof:t,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ye){return J[ye]})}var B=/\/+/g;function O($,J){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):J.toString(36)}function Qe($,J,ye,ke,Re){var Le=typeof $;(Le==="undefined"||Le==="boolean")&&($=null);var $e=!1;if($===null)$e=!0;else switch(Le){case"string":case"number":$e=!0;break;case"object":switch($.$$typeof){case t:case e:$e=!0}}if($e)return $e=$,Re=Re($e),$=ke===""?"."+O($e,0):ke,q(Re)?(ye="",$!=null&&(ye=$.replace(B,"$&/")+"/"),Qe(Re,J,ye,"",function(Vt){return Vt})):Re!=null&&(N(Re)&&(Re=R(Re,ye+(!Re.key||$e&&$e.key===Re.key?"":(""+Re.key).replace(B,"$&/")+"/")+$)),J.push(Re)),1;if($e=0,ke=ke===""?".":ke+":",q($))for(var He=0;He<$.length;He++){Le=$[He];var Xe=ke+O(Le,He);$e+=Qe(Le,J,ye,Xe,Re)}else if(Xe=w($),typeof Xe=="function")for($=Xe.call($),He=0;!(Le=$.next()).done;)Le=Le.value,Xe=ke+O(Le,He++),$e+=Qe(Le,J,ye,Xe,Re);else if(Le==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return $e}function Wt($,J,ye){if($==null)return $;var ke=[],Re=0;return Qe($,ke,"","",function(Le){return J.call(ye,Le,Re++)}),ke}function qt($){if($._status===-1){var J=$._result;J=J(),J.then(function(ye){($._status===0||$._status===-1)&&($._status=1,$._result=ye)},function(ye){($._status===0||$._status===-1)&&($._status=2,$._result=ye)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var Ce={current:null},se={transition:null},ge={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:se,ReactCurrentOwner:ne};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Wt,forEach:function($,J,ye){Wt($,function(){J.apply(this,arguments)},ye)},count:function($){var J=0;return Wt($,function(){J++}),J},toArray:function($){return Wt($,function(J){return J})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ae.Component=b,Ae.Fragment=n,Ae.Profiler=r,Ae.PureComponent=F,Ae.StrictMode=i,Ae.Suspense=h,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ae.act=le,Ae.cloneElement=function($,J,ye){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ke=S({},$.props),Re=$.key,Le=$.ref,$e=$._owner;if(J!=null){if(J.ref!==void 0&&(Le=J.ref,$e=ne.current),J.key!==void 0&&(Re=""+J.key),$.type&&$.type.defaultProps)var He=$.type.defaultProps;for(Xe in J)X.call(J,Xe)&&!M.hasOwnProperty(Xe)&&(ke[Xe]=J[Xe]===void 0&&He!==void 0?He[Xe]:J[Xe])}var Xe=arguments.length-2;if(Xe===1)ke.children=ye;else if(1<Xe){He=Array(Xe);for(var Vt=0;Vt<Xe;Vt++)He[Vt]=arguments[Vt+2];ke.children=He}return{$$typeof:t,type:$.type,key:Re,ref:Le,props:ke,_owner:$e}},Ae.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ae.createElement=C,Ae.createFactory=function($){var J=C.bind(null,$);return J.type=$,J},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function($){return{$$typeof:u,render:$}},Ae.isValidElement=N,Ae.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:qt}},Ae.memo=function($,J){return{$$typeof:f,type:$,compare:J===void 0?null:J}},Ae.startTransition=function($){var J=se.transition;se.transition={};try{$()}finally{se.transition=J}},Ae.unstable_act=le,Ae.useCallback=function($,J){return Ce.current.useCallback($,J)},Ae.useContext=function($){return Ce.current.useContext($)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function($){return Ce.current.useDeferredValue($)},Ae.useEffect=function($,J){return Ce.current.useEffect($,J)},Ae.useId=function(){return Ce.current.useId()},Ae.useImperativeHandle=function($,J,ye){return Ce.current.useImperativeHandle($,J,ye)},Ae.useInsertionEffect=function($,J){return Ce.current.useInsertionEffect($,J)},Ae.useLayoutEffect=function($,J){return Ce.current.useLayoutEffect($,J)},Ae.useMemo=function($,J){return Ce.current.useMemo($,J)},Ae.useReducer=function($,J,ye){return Ce.current.useReducer($,J,ye)},Ae.useRef=function($){return Ce.current.useRef($)},Ae.useState=function($){return Ce.current.useState($)},Ae.useSyncExternalStore=function($,J,ye){return Ce.current.useSyncExternalStore($,J,ye)},Ae.useTransition=function(){return Ce.current.useTransition()},Ae.version="18.3.1",Ae}var rE;function iv(){return rE||(rE=1,ig.exports=GR()),ig.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function KR(){if(sE)return nc;sE=1;var t=iv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,r=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var m,y={},w=null,T=null;f!==void 0&&(w=""+f),h.key!==void 0&&(w=""+h.key),h.ref!==void 0&&(T=h.ref);for(m in h)i.call(h,m)&&!o.hasOwnProperty(m)&&(y[m]=h[m]);if(u&&u.defaultProps)for(m in h=u.defaultProps,h)y[m]===void 0&&(y[m]=h[m]);return{$$typeof:e,type:u,key:w,ref:T,props:y,_owner:r.current}}return nc.Fragment=n,nc.jsx=l,nc.jsxs=l,nc}var oE;function QR(){return oE||(oE=1,ng.exports=KR()),ng.exports}var k=QR(),L=iv();const ot=gS(L);var kd={},rg={exports:{}},On={},sg={exports:{}},og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function XR(){return aE||(aE=1,function(t){function e(se,ge){var le=se.length;se.push(ge);e:for(;0<le;){var $=le-1>>>1,J=se[$];if(0<r(J,ge))se[$]=ge,se[le]=J,le=$;else break e}}function n(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ge=se[0],le=se.pop();if(le!==ge){se[0]=le;e:for(var $=0,J=se.length,ye=J>>>1;$<ye;){var ke=2*($+1)-1,Re=se[ke],Le=ke+1,$e=se[Le];if(0>r(Re,le))Le<J&&0>r($e,Re)?(se[$]=$e,se[Le]=le,$=Le):(se[$]=Re,se[ke]=le,$=ke);else if(Le<J&&0>r($e,le))se[$]=$e,se[Le]=le,$=Le;else break e}}return ge}function r(se,ge){var le=se.sortIndex-ge.sortIndex;return le!==0?le:se.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var h=[],f=[],m=1,y=null,w=3,T=!1,S=!1,P=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(se){for(var ge=n(f);ge!==null;){if(ge.callback===null)i(f);else if(ge.startTime<=se)i(f),ge.sortIndex=ge.expirationTime,e(h,ge);else break;ge=n(f)}}function q(se){if(P=!1,z(se),!S)if(n(h)!==null)S=!0,qt(X);else{var ge=n(f);ge!==null&&Ce(q,ge.startTime-se)}}function X(se,ge){S=!1,P&&(P=!1,A(C),C=-1),T=!0;var le=w;try{for(z(ge),y=n(h);y!==null&&(!(y.expirationTime>ge)||se&&!U());){var $=y.callback;if(typeof $=="function"){y.callback=null,w=y.priorityLevel;var J=$(y.expirationTime<=ge);ge=t.unstable_now(),typeof J=="function"?y.callback=J:y===n(h)&&i(h),z(ge)}else i(h);y=n(h)}if(y!==null)var ye=!0;else{var ke=n(f);ke!==null&&Ce(q,ke.startTime-ge),ye=!1}return ye}finally{y=null,w=le,T=!1}}var ne=!1,M=null,C=-1,R=5,N=-1;function U(){return!(t.unstable_now()-N<R)}function B(){if(M!==null){var se=t.unstable_now();N=se;var ge=!0;try{ge=M(!0,se)}finally{ge?O():(ne=!1,M=null)}}else ne=!1}var O;if(typeof F=="function")O=function(){F(B)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Wt=Qe.port2;Qe.port1.onmessage=B,O=function(){Wt.postMessage(null)}}else O=function(){b(B,0)};function qt(se){M=se,ne||(ne=!0,O())}function Ce(se,ge){C=b(function(){se(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,qt(X))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(se){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var le=w;w=ge;try{return se()}finally{w=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ge){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var le=w;w=se;try{return ge()}finally{w=le}},t.unstable_scheduleCallback=function(se,ge,le){var $=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?$+le:$):le=$,se){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,se={id:m++,callback:ge,priorityLevel:se,startTime:le,expirationTime:J,sortIndex:-1},le>$?(se.sortIndex=le,e(f,se),n(h)===null&&se===n(f)&&(P?(A(C),C=-1):P=!0,Ce(q,le-$))):(se.sortIndex=J,e(h,se),S||T||(S=!0,qt(X))),se},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(se){var ge=w;return function(){var le=w;w=ge;try{return se.apply(this,arguments)}finally{w=le}}}}(og)),og}var lE;function YR(){return lE||(lE=1,sg.exports=XR()),sg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function JR(){if(uE)return On;uE=1;var t=iv(),e=YR();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,r={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(r[s]=a,s=0;s<a.length;s++)i.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},y={};function w(s){return h.call(y,s)?!0:h.call(m,s)?!1:f.test(s)?y[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(s,a,c,p,g,_,x){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=x}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){b[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];b[a]=new P(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){b[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){b[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){b[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){b[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){b[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){b[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){b[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function F(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(A,F);b[a]=new P(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(A,F);b[a]=new P(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(A,F);b[a]=new P(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){b[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),b.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){b[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function z(s,a,c,p){var g=b.hasOwnProperty(a)?b[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,g,p)&&(c=null),p||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ne=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),U=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),Wt=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),se=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=se&&s[se]||s["@@iterator"],typeof s=="function"?s:null)}var le=Object.assign,$;function J(s){if($===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var ye=!1;function ke(s,a){if(!s||ye)return"";ye=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(K){var p=K}Reflect.construct(s,[],a)}else{try{a.call()}catch(K){p=K}s.call(a.prototype)}else{try{throw Error()}catch(K){p=K}s()}}catch(K){if(K&&p&&typeof K.stack=="string"){for(var g=K.stack.split(`
`),_=p.stack.split(`
`),x=g.length-1,D=_.length-1;1<=x&&0<=D&&g[x]!==_[D];)D--;for(;1<=x&&0<=D;x--,D--)if(g[x]!==_[D]){if(x!==1||D!==1)do if(x--,D--,0>D||g[x]!==_[D]){var V=`
`+g[x].replace(" at new "," at ");return s.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",s.displayName)),V}while(1<=x&&0<=D);break}}}finally{ye=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?J(s):""}function Re(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=ke(s.type,!1),s;case 11:return s=ke(s.type.render,!1),s;case 1:return s=ke(s.type,!0),s;default:return""}}function Le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case ne:return"Portal";case R:return"Profiler";case C:return"StrictMode";case O:return"Suspense";case Qe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case N:return(s._context.displayName||"Context")+".Provider";case B:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Wt:return a=s.displayName||null,a!==null?a:Le(s.type)||"Memo";case qt:a=s._payload,s=s._init;try{return Le(s(a))}catch{}}return null}function $e(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Le(a);case 8:return a===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function He(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Xe(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vt(s){var a=Xe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(x){p=""+x,_.call(this,x)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(x){p=""+x},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function wr(s){s._valueTracker||(s._valueTracker=Vt(s))}function _a(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=Xe(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function es(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function ro(s,a){var c=a.checked;return le({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function wa(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=He(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function lu(s,a){a=a.checked,a!=null&&z(s,"checked",a,!1)}function uu(s,a){lu(s,a);var c=He(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Ea(s,a.type,c):a.hasOwnProperty("defaultValue")&&Ea(s,a.type,He(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function ph(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Ea(s,a,c){(a!=="number"||es(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Er=Array.isArray;function Tr(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+He(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function cu(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return le({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ta(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Er(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:He(c)}}function xa(s,a){var c=He(a.value),p=He(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function hu(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Pt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Pt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var xr,du=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function ts(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var so={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oo=["Webkit","ms","Moz","O"];Object.keys(so).forEach(function(s){oo.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),so[a]=so[s]})});function fu(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||so.hasOwnProperty(s)&&so[s]?(""+a).trim():a+"px"}function pu(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=fu(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var mu=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gu(s,a){if(a){if(mu[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function yu(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ao=null;function Sa(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ba=null,Jn=null,Bi=null;function Ia(s){if(s=zu(s)){if(typeof ba!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Hh(a),ba(s.stateNode,s.type,a))}}function $i(s){Jn?Bi?Bi.push(s):Bi=[s]:Jn=s}function vu(){if(Jn){var s=Jn,a=Bi;if(Bi=Jn=null,Ia(s),a)for(s=0;s<a.length;s++)Ia(a[s])}}function lo(s,a){return s(a)}function _u(){}var Sr=!1;function wu(s,a,c){if(Sr)return s(a,c);Sr=!0;try{return lo(s,a,c)}finally{Sr=!1,(Jn!==null||Bi!==null)&&(_u(),vu())}}function yt(s,a){var c=s.stateNode;if(c===null)return null;var p=Hh(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var Ca=!1;if(u)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{Ca=!1}function uo(s,a,c,p,g,_,x,D,V){var K=Array.prototype.slice.call(arguments,3);try{a.apply(c,K)}catch(te){this.onError(te)}}var co=!1,Pa=null,vi=!1,Eu=null,Rp={onError:function(s){co=!0,Pa=s}};function ka(s,a,c,p,g,_,x,D,V){co=!1,Pa=null,uo.apply(Rp,arguments)}function mh(s,a,c,p,g,_,x,D,V){if(ka.apply(this,arguments),co){if(co){var K=Pa;co=!1,Pa=null}else throw Error(n(198));vi||(vi=!0,Eu=K)}}function _i(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function ho(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function wi(s){if(_i(s)!==s)throw Error(n(188))}function gh(s){var a=s.alternate;if(!a){if(a=_i(s),a===null)throw Error(n(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return wi(g),s;if(_===p)return wi(g),a;_=_.sibling}throw Error(n(188))}if(c.return!==p.return)c=g,p=_;else{for(var x=!1,D=g.child;D;){if(D===c){x=!0,c=g,p=_;break}if(D===p){x=!0,p=g,c=_;break}D=D.sibling}if(!x){for(D=_.child;D;){if(D===c){x=!0,c=_,p=g;break}if(D===p){x=!0,p=_,c=g;break}D=D.sibling}if(!x)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?s:a}function Tu(s){return s=gh(s),s!==null?Ra(s):null}function Ra(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Ra(s);if(a!==null)return a;s=s.sibling}return null}var Aa=e.unstable_scheduleCallback,xu=e.unstable_cancelCallback,yh=e.unstable_shouldYield,Ap=e.unstable_requestPaint,Ye=e.unstable_now,vh=e.unstable_getCurrentPriorityLevel,fo=e.unstable_ImmediatePriority,ns=e.unstable_UserBlockingPriority,Zn=e.unstable_NormalPriority,Su=e.unstable_LowPriority,_h=e.unstable_IdlePriority,po=null,Ln=null;function wh(s){if(Ln&&typeof Ln.onCommitFiberRoot=="function")try{Ln.onCommitFiberRoot(po,s,void 0,(s.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:Th,bu=Math.log,Eh=Math.LN2;function Th(s){return s>>>=0,s===0?32:31-(bu(s)/Eh|0)|0}var Da=64,Ma=4194304;function is(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function mo(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,_=s.pingedLanes,x=c&268435455;if(x!==0){var D=x&~g;D!==0?p=is(D):(_&=x,_!==0&&(p=is(_)))}else x=c&~g,x!==0?p=is(x):_!==0&&(p=is(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-wn(a),g=1<<c,p|=s[c],a&=~g;return p}function Dp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function br(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var x=31-wn(_),D=1<<x,V=g[x];V===-1?((D&c)===0||(D&p)!==0)&&(g[x]=Dp(D,a)):V<=a&&(s.expiredLanes|=D),_&=~D}}function Fn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function go(){var s=Da;return Da<<=1,(Da&4194240)===0&&(Da=64),s}function rs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ss(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-wn(a),s[a]=c}function Ke(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-wn(c),_=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~_}}function os(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-wn(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var Ve=0;function as(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var xh,Oa,Sh,bh,Ih,Iu=!1,Hi=[],Gt=null,Ei=null,Ti=null,ls=new Map,ei=new Map,Wi=[],Mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(s,a){switch(s){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":ls.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ei.delete(a.pointerId)}}function Cn(s,a,c,p,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[g]},a!==null&&(a=zu(a),a!==null&&Oa(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function Op(s,a,c,p,g){switch(a){case"focusin":return Gt=Cn(Gt,s,a,c,p,g),!0;case"dragenter":return Ei=Cn(Ei,s,a,c,p,g),!0;case"mouseover":return Ti=Cn(Ti,s,a,c,p,g),!0;case"pointerover":var _=g.pointerId;return ls.set(_,Cn(ls.get(_)||null,s,a,c,p,g)),!0;case"gotpointercapture":return _=g.pointerId,ei.set(_,Cn(ei.get(_)||null,s,a,c,p,g)),!0}return!1}function Ph(s){var a=Eo(s.target);if(a!==null){var c=_i(a);if(c!==null){if(a=c.tag,a===13){if(a=ho(c),a!==null){s.blockedOn=a,Ih(s.priority,function(){Sh(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ir(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Na(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);ao=p,c.target.dispatchEvent(p),ao=null}else return a=zu(c),a!==null&&Oa(a),s.blockedOn=c,!1;a.shift()}return!0}function yo(s,a,c){Ir(s)&&c.delete(a)}function kh(){Iu=!1,Gt!==null&&Ir(Gt)&&(Gt=null),Ei!==null&&Ir(Ei)&&(Ei=null),Ti!==null&&Ir(Ti)&&(Ti=null),ls.forEach(yo),ei.forEach(yo)}function xi(s,a){s.blockedOn===a&&(s.blockedOn=null,Iu||(Iu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kh)))}function Si(s){function a(g){return xi(g,s)}if(0<Hi.length){xi(Hi[0],s);for(var c=1;c<Hi.length;c++){var p=Hi[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Gt!==null&&xi(Gt,s),Ei!==null&&xi(Ei,s),Ti!==null&&xi(Ti,s),ls.forEach(a),ei.forEach(a),c=0;c<Wi.length;c++)p=Wi[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<Wi.length&&(c=Wi[0],c.blockedOn===null);)Ph(c),c.blockedOn===null&&Wi.shift()}var Cr=q.ReactCurrentBatchConfig,us=!0;function rt(s,a,c,p){var g=Ve,_=Cr.transition;Cr.transition=null;try{Ve=1,Cu(s,a,c,p)}finally{Ve=g,Cr.transition=_}}function Np(s,a,c,p){var g=Ve,_=Cr.transition;Cr.transition=null;try{Ve=4,Cu(s,a,c,p)}finally{Ve=g,Cr.transition=_}}function Cu(s,a,c,p){if(us){var g=Na(s,a,c,p);if(g===null)qp(s,a,p,vo,c),Ch(s,p);else if(Op(g,s,a,c,p))p.stopPropagation();else if(Ch(s,p),a&4&&-1<Mp.indexOf(s)){for(;g!==null;){var _=zu(g);if(_!==null&&xh(_),_=Na(s,a,c,p),_===null&&qp(s,a,p,vo,c),_===g)break;g=_}g!==null&&p.stopPropagation()}else qp(s,a,p,null,c)}}var vo=null;function Na(s,a,c,p){if(vo=null,s=Sa(p),s=Eo(s),s!==null)if(a=_i(s),a===null)s=null;else if(c=a.tag,c===13){if(s=ho(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return vo=s,null}function Pu(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vh()){case fo:return 1;case ns:return 4;case Zn:case Su:return 16;case _h:return 536870912;default:return 16}default:return 16}}var Un=null,Va=null,Pn=null;function ku(){if(Pn)return Pn;var s,a=Va,c=a.length,p,g="value"in Un?Un.value:Un.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var x=c-s;for(p=1;p<=x&&a[c-p]===g[_-p];p++);return Pn=g.slice(s,1<p?1-p:void 0)}function La(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function qi(){return!0}function Ru(){return!1}function Kt(s){function a(c,p,g,_,x){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=_,this.target=x,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?qi:Ru,this.isPropagationStopped=Ru,this}return le(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),a}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Kt(bi),Gi=le({},bi,{view:0,detail:0}),Vp=Kt(Gi),Ua,Pr,cs,_o=le({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cs&&(cs&&s.type==="mousemove"?(Ua=s.screenX-cs.screenX,Pr=s.screenY-cs.screenY):Pr=Ua=0,cs=s),Ua)},movementY:function(s){return"movementY"in s?s.movementY:Pr}}),ja=Kt(_o),Au=le({},_o,{dataTransfer:0}),Rh=Kt(Au),za=le({},Gi,{relatedTarget:0}),Ba=Kt(za),Ah=le({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Kt(Ah),Dh=le({},bi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Mh=Kt(Dh),Oh=le({},bi,{data:0}),Du=Kt(Oh),$a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Nh[s])?!!a[s]:!1}function Ki(){return Vh}var d=le({},Gi,{key:function(s){if(s.key){var a=$a[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=La(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?En[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(s){return s.type==="keypress"?La(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?La(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),v=Kt(d),E=le({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Kt(E),H=le({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),Q=Kt(H),oe=le({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Kt(oe),Rt=le({},_o,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Fe=Kt(Rt),Lt=[9,13,27,32],Tt=u&&"CompositionEvent"in window,ti=null;u&&"documentMode"in document&&(ti=document.documentMode);var jn=u&&"TextEvent"in window&&!ti,wo=u&&(!Tt||ti&&8<ti&&11>=ti),Ha=" ",Y_=!1;function J_(s,a){switch(s){case"keyup":return Lt.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Wa=!1;function Hk(s,a){switch(s){case"compositionend":return Z_(a);case"keypress":return a.which!==32?null:(Y_=!0,Ha);case"textInput":return s=a.data,s===Ha&&Y_?null:s;default:return null}}function Wk(s,a){if(Wa)return s==="compositionend"||!Tt&&J_(s,a)?(s=ku(),Pn=Va=Un=null,Wa=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wo&&a.locale!=="ko"?null:a.data;default:return null}}var qk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!qk[s.type]:a==="textarea"}function tw(s,a,c,p){$i(p),a=zh(a,"onChange"),0<a.length&&(c=new Fa("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Mu=null,Ou=null;function Gk(s){_w(s,0)}function Lh(s){var a=Xa(s);if(_a(a))return s}function Kk(s,a){if(s==="change")return a}var nw=!1;if(u){var Lp;if(u){var Fp="oninput"in document;if(!Fp){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),Fp=typeof iw.oninput=="function"}Lp=Fp}else Lp=!1;nw=Lp&&(!document.documentMode||9<document.documentMode)}function rw(){Mu&&(Mu.detachEvent("onpropertychange",sw),Ou=Mu=null)}function sw(s){if(s.propertyName==="value"&&Lh(Ou)){var a=[];tw(a,Ou,s,Sa(s)),wu(Gk,a)}}function Qk(s,a,c){s==="focusin"?(rw(),Mu=a,Ou=c,Mu.attachEvent("onpropertychange",sw)):s==="focusout"&&rw()}function Xk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lh(Ou)}function Yk(s,a){if(s==="click")return Lh(a)}function Jk(s,a){if(s==="input"||s==="change")return Lh(a)}function Zk(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Ii=typeof Object.is=="function"?Object.is:Zk;function Nu(s,a){if(Ii(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!h.call(a,g)||!Ii(s[g],a[g]))return!1}return!0}function ow(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function aw(s,a){var c=ow(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ow(c)}}function lw(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?lw(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function uw(){for(var s=window,a=es();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=es(s.document)}return a}function Up(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function eR(s){var a=uw(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&lw(c.ownerDocument.documentElement,c)){if(p!==null&&Up(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(p.start,g);p=p.end===void 0?_:Math.min(p.end,g),!s.extend&&_>p&&(g=p,p=_,_=g),g=aw(c,_);var x=aw(c,p);g&&x&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>p?(s.addRange(a),s.extend(x.node,x.offset)):(a.setEnd(x.node,x.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var tR=u&&"documentMode"in document&&11>=document.documentMode,qa=null,jp=null,Vu=null,zp=!1;function cw(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zp||qa==null||qa!==es(p)||(p=qa,"selectionStart"in p&&Up(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Vu&&Nu(Vu,p)||(Vu=p,p=zh(jp,"onSelect"),0<p.length&&(a=new Fa("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=qa)))}function Fh(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Ga={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},Bp={},hw={};u&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Uh(s){if(Bp[s])return Bp[s];if(!Ga[s])return s;var a=Ga[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in hw)return Bp[s]=a[c];return s}var dw=Uh("animationend"),fw=Uh("animationiteration"),pw=Uh("animationstart"),mw=Uh("transitionend"),gw=new Map,yw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(s,a){gw.set(s,a),o(a,[s])}for(var $p=0;$p<yw.length;$p++){var Hp=yw[$p],nR=Hp.toLowerCase(),iR=Hp[0].toUpperCase()+Hp.slice(1);hs(nR,"on"+iR)}hs(dw,"onAnimationEnd"),hs(fw,"onAnimationIteration"),hs(pw,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(mw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function vw(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,mh(p,a,void 0,s),s.currentTarget=null}function _w(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var x=p.length-1;0<=x;x--){var D=p[x],V=D.instance,K=D.currentTarget;if(D=D.listener,V!==_&&g.isPropagationStopped())break e;vw(g,D,K),_=V}else for(x=0;x<p.length;x++){if(D=p[x],V=D.instance,K=D.currentTarget,D=D.listener,V!==_&&g.isPropagationStopped())break e;vw(g,D,K),_=V}}}if(vi)throw s=Eu,vi=!1,Eu=null,s}function Ze(s,a){var c=a[Jp];c===void 0&&(c=a[Jp]=new Set);var p=s+"__bubble";c.has(p)||(ww(a,s,2,!1),c.add(p))}function Wp(s,a,c){var p=0;a&&(p|=4),ww(c,s,p,a)}var jh="_reactListening"+Math.random().toString(36).slice(2);function Fu(s){if(!s[jh]){s[jh]=!0,i.forEach(function(c){c!=="selectionchange"&&(rR.has(c)||Wp(c,!1,s),Wp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[jh]||(a[jh]=!0,Wp("selectionchange",!1,a))}}function ww(s,a,c,p){switch(Pu(a)){case 1:var g=rt;break;case 4:g=Np;break;default:g=Cu}c=g.bind(null,a,c,s),g=void 0,!Ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function qp(s,a,c,p,g){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var x=p.tag;if(x===3||x===4){var D=p.stateNode.containerInfo;if(D===g||D.nodeType===8&&D.parentNode===g)break;if(x===4)for(x=p.return;x!==null;){var V=x.tag;if((V===3||V===4)&&(V=x.stateNode.containerInfo,V===g||V.nodeType===8&&V.parentNode===g))return;x=x.return}for(;D!==null;){if(x=Eo(D),x===null)return;if(V=x.tag,V===5||V===6){p=_=x;continue e}D=D.parentNode}}p=p.return}wu(function(){var K=_,te=Sa(c),ie=[];e:{var ee=gw.get(s);if(ee!==void 0){var ue=Fa,de=s;switch(s){case"keypress":if(La(c)===0)break e;case"keydown":case"keyup":ue=v;break;case"focusin":de="focus",ue=Ba;break;case"focusout":de="blur",ue=Ba;break;case"beforeblur":case"afterblur":ue=Ba;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=Q;break;case dw:case fw:case pw:ue=kr;break;case mw:ue=qe;break;case"scroll":ue=Vp;break;case"wheel":ue=Fe;break;case"copy":case"cut":case"paste":ue=Mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=I}var fe=(a&4)!==0,vt=!fe&&s==="scroll",W=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var j=K,G;j!==null;){G=j;var re=G.stateNode;if(G.tag===5&&re!==null&&(G=re,W!==null&&(re=yt(j,W),re!=null&&fe.push(Uu(j,re,G)))),vt)break;j=j.return}0<fe.length&&(ee=new ue(ee,de,null,c,te),ie.push({event:ee,listeners:fe}))}}if((a&7)===0){e:{if(ee=s==="mouseover"||s==="pointerover",ue=s==="mouseout"||s==="pointerout",ee&&c!==ao&&(de=c.relatedTarget||c.fromElement)&&(Eo(de)||de[Rr]))break e;if((ue||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ue?(de=c.relatedTarget||c.toElement,ue=K,de=de?Eo(de):null,de!==null&&(vt=_i(de),de!==vt||de.tag!==5&&de.tag!==6)&&(de=null)):(ue=null,de=K),ue!==de)){if(fe=ja,re="onMouseLeave",W="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(fe=I,re="onPointerLeave",W="onPointerEnter",j="pointer"),vt=ue==null?ee:Xa(ue),G=de==null?ee:Xa(de),ee=new fe(re,j+"leave",ue,c,te),ee.target=vt,ee.relatedTarget=G,re=null,Eo(te)===K&&(fe=new fe(W,j+"enter",de,c,te),fe.target=G,fe.relatedTarget=vt,re=fe),vt=re,ue&&de)t:{for(fe=ue,W=de,j=0,G=fe;G;G=Ka(G))j++;for(G=0,re=W;re;re=Ka(re))G++;for(;0<j-G;)fe=Ka(fe),j--;for(;0<G-j;)W=Ka(W),G--;for(;j--;){if(fe===W||W!==null&&fe===W.alternate)break t;fe=Ka(fe),W=Ka(W)}fe=null}else fe=null;ue!==null&&Ew(ie,ee,ue,fe,!1),de!==null&&vt!==null&&Ew(ie,vt,de,fe,!0)}}e:{if(ee=K?Xa(K):window,ue=ee.nodeName&&ee.nodeName.toLowerCase(),ue==="select"||ue==="input"&&ee.type==="file")var me=Kk;else if(ew(ee))if(nw)me=Jk;else{me=Xk;var we=Qk}else(ue=ee.nodeName)&&ue.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(me=Yk);if(me&&(me=me(s,K))){tw(ie,me,c,te);break e}we&&we(s,ee,K),s==="focusout"&&(we=ee._wrapperState)&&we.controlled&&ee.type==="number"&&Ea(ee,"number",ee.value)}switch(we=K?Xa(K):window,s){case"focusin":(ew(we)||we.contentEditable==="true")&&(qa=we,jp=K,Vu=null);break;case"focusout":Vu=jp=qa=null;break;case"mousedown":zp=!0;break;case"contextmenu":case"mouseup":case"dragend":zp=!1,cw(ie,c,te);break;case"selectionchange":if(tR)break;case"keydown":case"keyup":cw(ie,c,te)}var Ee;if(Tt)e:{switch(s){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Wa?J_(s,c)&&(be="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(be="onCompositionStart");be&&(wo&&c.locale!=="ko"&&(Wa||be!=="onCompositionStart"?be==="onCompositionEnd"&&Wa&&(Ee=ku()):(Un=te,Va="value"in Un?Un.value:Un.textContent,Wa=!0)),we=zh(K,be),0<we.length&&(be=new Du(be,s,null,c,te),ie.push({event:be,listeners:we}),Ee?be.data=Ee:(Ee=Z_(c),Ee!==null&&(be.data=Ee)))),(Ee=jn?Hk(s,c):Wk(s,c))&&(K=zh(K,"onBeforeInput"),0<K.length&&(te=new Du("onBeforeInput","beforeinput",null,c,te),ie.push({event:te,listeners:K}),te.data=Ee))}_w(ie,a)})}function Uu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function zh(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=yt(s,c),_!=null&&p.unshift(Uu(s,_,g)),_=yt(s,a),_!=null&&p.push(Uu(s,_,g))),s=s.return}return p}function Ka(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Ew(s,a,c,p,g){for(var _=a._reactName,x=[];c!==null&&c!==p;){var D=c,V=D.alternate,K=D.stateNode;if(V!==null&&V===p)break;D.tag===5&&K!==null&&(D=K,g?(V=yt(c,_),V!=null&&x.unshift(Uu(c,V,D))):g||(V=yt(c,_),V!=null&&x.push(Uu(c,V,D)))),c=c.return}x.length!==0&&s.push({event:a,listeners:x})}var sR=/\r\n?/g,oR=/\u0000|\uFFFD/g;function Tw(s){return(typeof s=="string"?s:""+s).replace(sR,`
`).replace(oR,"")}function Bh(s,a,c){if(a=Tw(a),Tw(s)!==a&&c)throw Error(n(425))}function $h(){}var Gp=null,Kp=null;function Qp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,aR=typeof clearTimeout=="function"?clearTimeout:void 0,xw=typeof Promise=="function"?Promise:void 0,lR=typeof queueMicrotask=="function"?queueMicrotask:typeof xw<"u"?function(s){return xw.resolve(null).then(s).catch(uR)}:Xp;function uR(s){setTimeout(function(){throw s})}function Yp(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),Si(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);Si(a)}function ds(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Sw(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Qi="__reactFiber$"+Qa,ju="__reactProps$"+Qa,Rr="__reactContainer$"+Qa,Jp="__reactEvents$"+Qa,cR="__reactListeners$"+Qa,hR="__reactHandles$"+Qa;function Eo(s){var a=s[Qi];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Rr]||c[Qi]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Sw(s);s!==null;){if(c=s[Qi])return c;s=Sw(s)}return a}s=c,c=s.parentNode}return null}function zu(s){return s=s[Qi]||s[Rr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Xa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Hh(s){return s[ju]||null}var Zp=[],Ya=-1;function fs(s){return{current:s}}function et(s){0>Ya||(s.current=Zp[Ya],Zp[Ya]=null,Ya--)}function Je(s,a){Ya++,Zp[Ya]=s.current,s.current=a}var ps={},nn=fs(ps),kn=fs(!1),To=ps;function Ja(s,a){var c=s.type.contextTypes;if(!c)return ps;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Rn(s){return s=s.childContextTypes,s!=null}function Wh(){et(kn),et(nn)}function bw(s,a,c){if(nn.current!==ps)throw Error(n(168));Je(nn,a),Je(kn,c)}function Iw(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(n(108,$e(s)||"Unknown",g));return le({},c,p)}function qh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ps,To=nn.current,Je(nn,s),Je(kn,kn.current),!0}function Cw(s,a,c){var p=s.stateNode;if(!p)throw Error(n(169));c?(s=Iw(s,a,To),p.__reactInternalMemoizedMergedChildContext=s,et(kn),et(nn),Je(nn,s)):et(kn),Je(kn,c)}var Ar=null,Gh=!1,em=!1;function Pw(s){Ar===null?Ar=[s]:Ar.push(s)}function dR(s){Gh=!0,Pw(s)}function ms(){if(!em&&Ar!==null){em=!0;var s=0,a=Ve;try{var c=Ar;for(Ve=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Ar=null,Gh=!1}catch(g){throw Ar!==null&&(Ar=Ar.slice(s+1)),Aa(fo,ms),g}finally{Ve=a,em=!1}}return null}var Za=[],el=0,Kh=null,Qh=0,ni=[],ii=0,xo=null,Dr=1,Mr="";function So(s,a){Za[el++]=Qh,Za[el++]=Kh,Kh=s,Qh=a}function kw(s,a,c){ni[ii++]=Dr,ni[ii++]=Mr,ni[ii++]=xo,xo=s;var p=Dr;s=Mr;var g=32-wn(p)-1;p&=~(1<<g),c+=1;var _=32-wn(a)+g;if(30<_){var x=g-g%5;_=(p&(1<<x)-1).toString(32),p>>=x,g-=x,Dr=1<<32-wn(a)+g|c<<g|p,Mr=_+s}else Dr=1<<_|c<<g|p,Mr=s}function tm(s){s.return!==null&&(So(s,1),kw(s,1,0))}function nm(s){for(;s===Kh;)Kh=Za[--el],Za[el]=null,Qh=Za[--el],Za[el]=null;for(;s===xo;)xo=ni[--ii],ni[ii]=null,Mr=ni[--ii],ni[ii]=null,Dr=ni[--ii],ni[ii]=null}var zn=null,Bn=null,st=!1,Ci=null;function Rw(s,a){var c=ai(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function Aw(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,zn=s,Bn=ds(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,zn=s,Bn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=xo!==null?{id:Dr,overflow:Mr}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ai(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,zn=s,Bn=null,!0):!1;default:return!1}}function im(s){return(s.mode&1)!==0&&(s.flags&128)===0}function rm(s){if(st){var a=Bn;if(a){var c=a;if(!Aw(s,a)){if(im(s))throw Error(n(418));a=ds(c.nextSibling);var p=zn;a&&Aw(s,a)?Rw(p,c):(s.flags=s.flags&-4097|2,st=!1,zn=s)}}else{if(im(s))throw Error(n(418));s.flags=s.flags&-4097|2,st=!1,zn=s}}}function Dw(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;zn=s}function Xh(s){if(s!==zn)return!1;if(!st)return Dw(s),st=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Qp(s.type,s.memoizedProps)),a&&(a=Bn)){if(im(s))throw Mw(),Error(n(418));for(;a;)Rw(s,a),a=ds(a.nextSibling)}if(Dw(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Bn=ds(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Bn=null}}else Bn=zn?ds(s.stateNode.nextSibling):null;return!0}function Mw(){for(var s=Bn;s;)s=ds(s.nextSibling)}function tl(){Bn=zn=null,st=!1}function sm(s){Ci===null?Ci=[s]:Ci.push(s)}var fR=q.ReactCurrentBatchConfig;function Bu(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,s));var g=p,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(x){var D=g.refs;x===null?delete D[_]:D[_]=x},a._stringRef=_,a)}if(typeof s!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,s))}return s}function Yh(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Ow(s){var a=s._init;return a(s._payload)}function Nw(s){function a(W,j){if(s){var G=W.deletions;G===null?(W.deletions=[j],W.flags|=16):G.push(j)}}function c(W,j){if(!s)return null;for(;j!==null;)a(W,j),j=j.sibling;return null}function p(W,j){for(W=new Map;j!==null;)j.key!==null?W.set(j.key,j):W.set(j.index,j),j=j.sibling;return W}function g(W,j){return W=xs(W,j),W.index=0,W.sibling=null,W}function _(W,j,G){return W.index=G,s?(G=W.alternate,G!==null?(G=G.index,G<j?(W.flags|=2,j):G):(W.flags|=2,j)):(W.flags|=1048576,j)}function x(W){return s&&W.alternate===null&&(W.flags|=2),W}function D(W,j,G,re){return j===null||j.tag!==6?(j=Xm(G,W.mode,re),j.return=W,j):(j=g(j,G),j.return=W,j)}function V(W,j,G,re){var me=G.type;return me===M?te(W,j,G.props.children,re,G.key):j!==null&&(j.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===qt&&Ow(me)===j.type)?(re=g(j,G.props),re.ref=Bu(W,j,G),re.return=W,re):(re=Ed(G.type,G.key,G.props,null,W.mode,re),re.ref=Bu(W,j,G),re.return=W,re)}function K(W,j,G,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==G.containerInfo||j.stateNode.implementation!==G.implementation?(j=Ym(G,W.mode,re),j.return=W,j):(j=g(j,G.children||[]),j.return=W,j)}function te(W,j,G,re,me){return j===null||j.tag!==7?(j=Do(G,W.mode,re,me),j.return=W,j):(j=g(j,G),j.return=W,j)}function ie(W,j,G){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Xm(""+j,W.mode,G),j.return=W,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case X:return G=Ed(j.type,j.key,j.props,null,W.mode,G),G.ref=Bu(W,null,j),G.return=W,G;case ne:return j=Ym(j,W.mode,G),j.return=W,j;case qt:var re=j._init;return ie(W,re(j._payload),G)}if(Er(j)||ge(j))return j=Do(j,W.mode,G,null),j.return=W,j;Yh(W,j)}return null}function ee(W,j,G,re){var me=j!==null?j.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return me!==null?null:D(W,j,""+G,re);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case X:return G.key===me?V(W,j,G,re):null;case ne:return G.key===me?K(W,j,G,re):null;case qt:return me=G._init,ee(W,j,me(G._payload),re)}if(Er(G)||ge(G))return me!==null?null:te(W,j,G,re,null);Yh(W,G)}return null}function ue(W,j,G,re,me){if(typeof re=="string"&&re!==""||typeof re=="number")return W=W.get(G)||null,D(j,W,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case X:return W=W.get(re.key===null?G:re.key)||null,V(j,W,re,me);case ne:return W=W.get(re.key===null?G:re.key)||null,K(j,W,re,me);case qt:var we=re._init;return ue(W,j,G,we(re._payload),me)}if(Er(re)||ge(re))return W=W.get(G)||null,te(j,W,re,me,null);Yh(j,re)}return null}function de(W,j,G,re){for(var me=null,we=null,Ee=j,be=j=0,jt=null;Ee!==null&&be<G.length;be++){Ee.index>be?(jt=Ee,Ee=null):jt=Ee.sibling;var ze=ee(W,Ee,G[be],re);if(ze===null){Ee===null&&(Ee=jt);break}s&&Ee&&ze.alternate===null&&a(W,Ee),j=_(ze,j,be),we===null?me=ze:we.sibling=ze,we=ze,Ee=jt}if(be===G.length)return c(W,Ee),st&&So(W,be),me;if(Ee===null){for(;be<G.length;be++)Ee=ie(W,G[be],re),Ee!==null&&(j=_(Ee,j,be),we===null?me=Ee:we.sibling=Ee,we=Ee);return st&&So(W,be),me}for(Ee=p(W,Ee);be<G.length;be++)jt=ue(Ee,W,be,G[be],re),jt!==null&&(s&&jt.alternate!==null&&Ee.delete(jt.key===null?be:jt.key),j=_(jt,j,be),we===null?me=jt:we.sibling=jt,we=jt);return s&&Ee.forEach(function(Ss){return a(W,Ss)}),st&&So(W,be),me}function fe(W,j,G,re){var me=ge(G);if(typeof me!="function")throw Error(n(150));if(G=me.call(G),G==null)throw Error(n(151));for(var we=me=null,Ee=j,be=j=0,jt=null,ze=G.next();Ee!==null&&!ze.done;be++,ze=G.next()){Ee.index>be?(jt=Ee,Ee=null):jt=Ee.sibling;var Ss=ee(W,Ee,ze.value,re);if(Ss===null){Ee===null&&(Ee=jt);break}s&&Ee&&Ss.alternate===null&&a(W,Ee),j=_(Ss,j,be),we===null?me=Ss:we.sibling=Ss,we=Ss,Ee=jt}if(ze.done)return c(W,Ee),st&&So(W,be),me;if(Ee===null){for(;!ze.done;be++,ze=G.next())ze=ie(W,ze.value,re),ze!==null&&(j=_(ze,j,be),we===null?me=ze:we.sibling=ze,we=ze);return st&&So(W,be),me}for(Ee=p(W,Ee);!ze.done;be++,ze=G.next())ze=ue(Ee,W,be,ze.value,re),ze!==null&&(s&&ze.alternate!==null&&Ee.delete(ze.key===null?be:ze.key),j=_(ze,j,be),we===null?me=ze:we.sibling=ze,we=ze);return s&&Ee.forEach(function(qR){return a(W,qR)}),st&&So(W,be),me}function vt(W,j,G,re){if(typeof G=="object"&&G!==null&&G.type===M&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case X:e:{for(var me=G.key,we=j;we!==null;){if(we.key===me){if(me=G.type,me===M){if(we.tag===7){c(W,we.sibling),j=g(we,G.props.children),j.return=W,W=j;break e}}else if(we.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===qt&&Ow(me)===we.type){c(W,we.sibling),j=g(we,G.props),j.ref=Bu(W,we,G),j.return=W,W=j;break e}c(W,we);break}else a(W,we);we=we.sibling}G.type===M?(j=Do(G.props.children,W.mode,re,G.key),j.return=W,W=j):(re=Ed(G.type,G.key,G.props,null,W.mode,re),re.ref=Bu(W,j,G),re.return=W,W=re)}return x(W);case ne:e:{for(we=G.key;j!==null;){if(j.key===we)if(j.tag===4&&j.stateNode.containerInfo===G.containerInfo&&j.stateNode.implementation===G.implementation){c(W,j.sibling),j=g(j,G.children||[]),j.return=W,W=j;break e}else{c(W,j);break}else a(W,j);j=j.sibling}j=Ym(G,W.mode,re),j.return=W,W=j}return x(W);case qt:return we=G._init,vt(W,j,we(G._payload),re)}if(Er(G))return de(W,j,G,re);if(ge(G))return fe(W,j,G,re);Yh(W,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,j!==null&&j.tag===6?(c(W,j.sibling),j=g(j,G),j.return=W,W=j):(c(W,j),j=Xm(G,W.mode,re),j.return=W,W=j),x(W)):c(W,j)}return vt}var nl=Nw(!0),Vw=Nw(!1),Jh=fs(null),Zh=null,il=null,om=null;function am(){om=il=Zh=null}function lm(s){var a=Jh.current;et(Jh),s._currentValue=a}function um(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function rl(s,a){Zh=s,om=il=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(An=!0),s.firstContext=null)}function ri(s){var a=s._currentValue;if(om!==s)if(s={context:s,memoizedValue:a,next:null},il===null){if(Zh===null)throw Error(n(308));il=s,Zh.dependencies={lanes:0,firstContext:s}}else il=il.next=s;return a}var bo=null;function cm(s){bo===null?bo=[s]:bo.push(s)}function Lw(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,cm(a)):(c.next=g.next,g.next=c),a.interleaved=c,Or(s,p)}function Or(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var gs=!1;function hm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fw(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Nr(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function ys(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(je&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Or(s,c)}return g=p.interleaved,g===null?(a.next=a,cm(p)):(a.next=g.next,g.next=a),p.interleaved=a,Or(s,c)}function ed(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,os(s,c)}}function Uw(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=x:_=_.next=x,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function td(s,a,c,p){var g=s.updateQueue;gs=!1;var _=g.firstBaseUpdate,x=g.lastBaseUpdate,D=g.shared.pending;if(D!==null){g.shared.pending=null;var V=D,K=V.next;V.next=null,x===null?_=K:x.next=K,x=V;var te=s.alternate;te!==null&&(te=te.updateQueue,D=te.lastBaseUpdate,D!==x&&(D===null?te.firstBaseUpdate=K:D.next=K,te.lastBaseUpdate=V))}if(_!==null){var ie=g.baseState;x=0,te=K=V=null,D=_;do{var ee=D.lane,ue=D.eventTime;if((p&ee)===ee){te!==null&&(te=te.next={eventTime:ue,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var de=s,fe=D;switch(ee=a,ue=c,fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ie=de.call(ue,ie,ee);break e}ie=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,ee=typeof de=="function"?de.call(ue,ie,ee):de,ee==null)break e;ie=le({},ie,ee);break e;case 2:gs=!0}}D.callback!==null&&D.lane!==0&&(s.flags|=64,ee=g.effects,ee===null?g.effects=[D]:ee.push(D))}else ue={eventTime:ue,lane:ee,tag:D.tag,payload:D.payload,callback:D.callback,next:null},te===null?(K=te=ue,V=ie):te=te.next=ue,x|=ee;if(D=D.next,D===null){if(D=g.shared.pending,D===null)break;ee=D,D=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(!0);if(te===null&&(V=ie),g.baseState=V,g.firstBaseUpdate=K,g.lastBaseUpdate=te,a=g.shared.interleaved,a!==null){g=a;do x|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);Po|=x,s.lanes=x,s.memoizedState=ie}}function jw(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(n(191,g));g.call(p)}}}var $u={},Xi=fs($u),Hu=fs($u),Wu=fs($u);function Io(s){if(s===$u)throw Error(n(174));return s}function dm(s,a){switch(Je(Wu,a),Je(Hu,s),Je(Xi,$u),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:kt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=kt(a,s)}et(Xi),Je(Xi,a)}function sl(){et(Xi),et(Hu),et(Wu)}function zw(s){Io(Wu.current);var a=Io(Xi.current),c=kt(a,s.type);a!==c&&(Je(Hu,s),Je(Xi,c))}function fm(s){Hu.current===s&&(et(Xi),et(Hu))}var at=fs(0);function nd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var pm=[];function mm(){for(var s=0;s<pm.length;s++)pm[s]._workInProgressVersionPrimary=null;pm.length=0}var id=q.ReactCurrentDispatcher,gm=q.ReactCurrentBatchConfig,Co=0,lt=null,At=null,Ft=null,rd=!1,qu=!1,Gu=0,pR=0;function rn(){throw Error(n(321))}function ym(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Ii(s[c],a[c]))return!1;return!0}function vm(s,a,c,p,g,_){if(Co=_,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,id.current=s===null||s.memoizedState===null?vR:_R,s=c(p,g),qu){_=0;do{if(qu=!1,Gu=0,25<=_)throw Error(n(301));_+=1,Ft=At=null,a.updateQueue=null,id.current=wR,s=c(p,g)}while(qu)}if(id.current=ad,a=At!==null&&At.next!==null,Co=0,Ft=At=lt=null,rd=!1,a)throw Error(n(300));return s}function _m(){var s=Gu!==0;return Gu=0,s}function Yi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?lt.memoizedState=Ft=s:Ft=Ft.next=s,Ft}function si(){if(At===null){var s=lt.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var a=Ft===null?lt.memoizedState:Ft.next;if(a!==null)Ft=a,At=s;else{if(s===null)throw Error(n(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},Ft===null?lt.memoizedState=Ft=s:Ft=Ft.next=s}return Ft}function Ku(s,a){return typeof a=="function"?a(s):a}function wm(s){var a=si(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=At,g=p.baseQueue,_=c.pending;if(_!==null){if(g!==null){var x=g.next;g.next=_.next,_.next=x}p.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,p=p.baseState;var D=x=null,V=null,K=_;do{var te=K.lane;if((Co&te)===te)V!==null&&(V=V.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),p=K.hasEagerState?K.eagerState:s(p,K.action);else{var ie={lane:te,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};V===null?(D=V=ie,x=p):V=V.next=ie,lt.lanes|=te,Po|=te}K=K.next}while(K!==null&&K!==_);V===null?x=p:V.next=D,Ii(p,a.memoizedState)||(An=!0),a.memoizedState=p,a.baseState=x,a.baseQueue=V,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do _=g.lane,lt.lanes|=_,Po|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Em(s){var a=si(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var x=g=g.next;do _=s(_,x.action),x=x.next;while(x!==g);Ii(_,a.memoizedState)||(An=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,p]}function Bw(){}function $w(s,a){var c=lt,p=si(),g=a(),_=!Ii(p.memoizedState,g);if(_&&(p.memoizedState=g,An=!0),p=p.queue,Tm(qw.bind(null,c,p,s),[s]),p.getSnapshot!==a||_||Ft!==null&&Ft.memoizedState.tag&1){if(c.flags|=2048,Qu(9,Ww.bind(null,c,p,g,a),void 0,null),Ut===null)throw Error(n(349));(Co&30)!==0||Hw(c,a,g)}return g}function Hw(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Ww(s,a,c,p){a.value=c,a.getSnapshot=p,Gw(a)&&Kw(s)}function qw(s,a,c){return c(function(){Gw(a)&&Kw(s)})}function Gw(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Ii(s,c)}catch{return!0}}function Kw(s){var a=Or(s,1);a!==null&&Ai(a,s,1,-1)}function Qw(s){var a=Yi();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:s},a.queue=s,s=s.dispatch=yR.bind(null,lt,s),[a.memoizedState,s]}function Qu(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=lt.updateQueue,a===null?(a={lastEffect:null,stores:null},lt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function Xw(){return si().memoizedState}function sd(s,a,c,p){var g=Yi();lt.flags|=s,g.memoizedState=Qu(1|a,c,void 0,p===void 0?null:p)}function od(s,a,c,p){var g=si();p=p===void 0?null:p;var _=void 0;if(At!==null){var x=At.memoizedState;if(_=x.destroy,p!==null&&ym(p,x.deps)){g.memoizedState=Qu(a,c,_,p);return}}lt.flags|=s,g.memoizedState=Qu(1|a,c,_,p)}function Yw(s,a){return sd(8390656,8,s,a)}function Tm(s,a){return od(2048,8,s,a)}function Jw(s,a){return od(4,2,s,a)}function Zw(s,a){return od(4,4,s,a)}function e0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function t0(s,a,c){return c=c!=null?c.concat([s]):null,od(4,4,e0.bind(null,a,s),c)}function xm(){}function n0(s,a){var c=si();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&ym(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function i0(s,a){var c=si();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&ym(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function r0(s,a,c){return(Co&21)===0?(s.baseState&&(s.baseState=!1,An=!0),s.memoizedState=c):(Ii(c,a)||(c=go(),lt.lanes|=c,Po|=c,s.baseState=!0),a)}function mR(s,a){var c=Ve;Ve=c!==0&&4>c?c:4,s(!0);var p=gm.transition;gm.transition={};try{s(!1),a()}finally{Ve=c,gm.transition=p}}function s0(){return si().memoizedState}function gR(s,a,c){var p=Es(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},o0(s))a0(a,c);else if(c=Lw(s,a,c,p),c!==null){var g=xn();Ai(c,s,p,g),l0(c,a,p)}}function yR(s,a,c){var p=Es(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(o0(s))a0(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var x=a.lastRenderedState,D=_(x,c);if(g.hasEagerState=!0,g.eagerState=D,Ii(D,x)){var V=a.interleaved;V===null?(g.next=g,cm(a)):(g.next=V.next,V.next=g),a.interleaved=g;return}}catch{}finally{}c=Lw(s,a,g,p),c!==null&&(g=xn(),Ai(c,s,p,g),l0(c,a,p))}}function o0(s){var a=s.alternate;return s===lt||a!==null&&a===lt}function a0(s,a){qu=rd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function l0(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,os(s,c)}}var ad={readContext:ri,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},vR={readContext:ri,useCallback:function(s,a){return Yi().memoizedState=[s,a===void 0?null:a],s},useContext:ri,useEffect:Yw,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,sd(4194308,4,e0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return sd(4194308,4,s,a)},useInsertionEffect:function(s,a){return sd(4,2,s,a)},useMemo:function(s,a){var c=Yi();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=Yi();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=gR.bind(null,lt,s),[p.memoizedState,s]},useRef:function(s){var a=Yi();return s={current:s},a.memoizedState=s},useState:Qw,useDebugValue:xm,useDeferredValue:function(s){return Yi().memoizedState=s},useTransition:function(){var s=Qw(!1),a=s[0];return s=mR.bind(null,s[1]),Yi().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=lt,g=Yi();if(st){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),Ut===null)throw Error(n(349));(Co&30)!==0||Hw(p,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,Yw(qw.bind(null,p,_,s),[s]),p.flags|=2048,Qu(9,Ww.bind(null,p,_,c,a),void 0,null),c},useId:function(){var s=Yi(),a=Ut.identifierPrefix;if(st){var c=Mr,p=Dr;c=(p&~(1<<32-wn(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Gu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=pR++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},_R={readContext:ri,useCallback:n0,useContext:ri,useEffect:Tm,useImperativeHandle:t0,useInsertionEffect:Jw,useLayoutEffect:Zw,useMemo:i0,useReducer:wm,useRef:Xw,useState:function(){return wm(Ku)},useDebugValue:xm,useDeferredValue:function(s){var a=si();return r0(a,At.memoizedState,s)},useTransition:function(){var s=wm(Ku)[0],a=si().memoizedState;return[s,a]},useMutableSource:Bw,useSyncExternalStore:$w,useId:s0,unstable_isNewReconciler:!1},wR={readContext:ri,useCallback:n0,useContext:ri,useEffect:Tm,useImperativeHandle:t0,useInsertionEffect:Jw,useLayoutEffect:Zw,useMemo:i0,useReducer:Em,useRef:Xw,useState:function(){return Em(Ku)},useDebugValue:xm,useDeferredValue:function(s){var a=si();return At===null?a.memoizedState=s:r0(a,At.memoizedState,s)},useTransition:function(){var s=Em(Ku)[0],a=si().memoizedState;return[s,a]},useMutableSource:Bw,useSyncExternalStore:$w,useId:s0,unstable_isNewReconciler:!1};function Pi(s,a){if(s&&s.defaultProps){a=le({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Sm(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:le({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var ld={isMounted:function(s){return(s=s._reactInternals)?_i(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=xn(),g=Es(s),_=Nr(p,g);_.payload=a,c!=null&&(_.callback=c),a=ys(s,_,g),a!==null&&(Ai(a,s,g,p),ed(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=xn(),g=Es(s),_=Nr(p,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=ys(s,_,g),a!==null&&(Ai(a,s,g,p),ed(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=xn(),p=Es(s),g=Nr(c,p);g.tag=2,a!=null&&(g.callback=a),a=ys(s,g,p),a!==null&&(Ai(a,s,p,c),ed(a,s,p))}};function u0(s,a,c,p,g,_,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,x):a.prototype&&a.prototype.isPureReactComponent?!Nu(c,p)||!Nu(g,_):!0}function c0(s,a,c){var p=!1,g=ps,_=a.contextType;return typeof _=="object"&&_!==null?_=ri(_):(g=Rn(a)?To:nn.current,p=a.contextTypes,_=(p=p!=null)?Ja(s,g):ps),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ld,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function h0(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&ld.enqueueReplaceState(a,a.state,null)}function bm(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},hm(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=ri(_):(_=Rn(a)?To:nn.current,g.context=Ja(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sm(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&ld.enqueueReplaceState(g,g.state,null),td(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function ol(s,a){try{var c="",p=a;do c+=Re(p),p=p.return;while(p);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Im(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Cm(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var ER=typeof WeakMap=="function"?WeakMap:Map;function d0(s,a,c){c=Nr(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){md||(md=!0,Bm=p),Cm(s,a)},c}function f0(s,a,c){c=Nr(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Cm(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Cm(s,a),typeof p!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var x=a.stack;this.componentDidCatch(a.value,{componentStack:x!==null?x:""})}),c}function p0(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new ER;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=NR.bind(null,s,a,c),a.then(s,s))}function m0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function g0(s,a,c,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Nr(-1,1),a.tag=2,ys(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var TR=q.ReactCurrentOwner,An=!1;function Tn(s,a,c,p){a.child=s===null?Vw(a,null,c,p):nl(a,s.child,c,p)}function y0(s,a,c,p,g){c=c.render;var _=a.ref;return rl(a,g),p=vm(s,a,c,p,_,g),c=_m(),s!==null&&!An?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(st&&c&&tm(a),a.flags|=1,Tn(s,a,p,g),a.child)}function v0(s,a,c,p,g){if(s===null){var _=c.type;return typeof _=="function"&&!Qm(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,_0(s,a,_,p,g)):(s=Ed(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var x=_.memoizedProps;if(c=c.compare,c=c!==null?c:Nu,c(x,p)&&s.ref===a.ref)return Vr(s,a,g)}return a.flags|=1,s=xs(_,p),s.ref=a.ref,s.return=a,a.child=s}function _0(s,a,c,p,g){if(s!==null){var _=s.memoizedProps;if(Nu(_,p)&&s.ref===a.ref)if(An=!1,a.pendingProps=p=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(An=!0);else return a.lanes=s.lanes,Vr(s,a,g)}return Pm(s,a,c,p,g)}function w0(s,a,c){var p=a.pendingProps,g=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ll,$n),$n|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Je(ll,$n),$n|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,Je(ll,$n),$n|=p}else _!==null?(p=_.baseLanes|c,a.memoizedState=null):p=c,Je(ll,$n),$n|=p;return Tn(s,a,g,c),a.child}function E0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Pm(s,a,c,p,g){var _=Rn(c)?To:nn.current;return _=Ja(a,_),rl(a,g),c=vm(s,a,c,p,_,g),p=_m(),s!==null&&!An?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Vr(s,a,g)):(st&&p&&tm(a),a.flags|=1,Tn(s,a,c,g),a.child)}function T0(s,a,c,p,g){if(Rn(c)){var _=!0;qh(a)}else _=!1;if(rl(a,g),a.stateNode===null)cd(s,a),c0(a,c,p),bm(a,c,p,g),p=!0;else if(s===null){var x=a.stateNode,D=a.memoizedProps;x.props=D;var V=x.context,K=c.contextType;typeof K=="object"&&K!==null?K=ri(K):(K=Rn(c)?To:nn.current,K=Ja(a,K));var te=c.getDerivedStateFromProps,ie=typeof te=="function"||typeof x.getSnapshotBeforeUpdate=="function";ie||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==p||V!==K)&&h0(a,x,p,K),gs=!1;var ee=a.memoizedState;x.state=ee,td(a,p,x,g),V=a.memoizedState,D!==p||ee!==V||kn.current||gs?(typeof te=="function"&&(Sm(a,c,te,p),V=a.memoizedState),(D=gs||u0(a,c,D,p,ee,V,K))?(ie||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=V),x.props=p,x.state=V,x.context=K,p=D):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{x=a.stateNode,Fw(s,a),D=a.memoizedProps,K=a.type===a.elementType?D:Pi(a.type,D),x.props=K,ie=a.pendingProps,ee=x.context,V=c.contextType,typeof V=="object"&&V!==null?V=ri(V):(V=Rn(c)?To:nn.current,V=Ja(a,V));var ue=c.getDerivedStateFromProps;(te=typeof ue=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(D!==ie||ee!==V)&&h0(a,x,p,V),gs=!1,ee=a.memoizedState,x.state=ee,td(a,p,x,g);var de=a.memoizedState;D!==ie||ee!==de||kn.current||gs?(typeof ue=="function"&&(Sm(a,c,ue,p),de=a.memoizedState),(K=gs||u0(a,c,K,p,ee,de,V)||!1)?(te||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(p,de,V),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(p,de,V)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=de),x.props=p,x.state=de,x.context=V,p=K):(typeof x.componentDidUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||D===s.memoizedProps&&ee===s.memoizedState||(a.flags|=1024),p=!1)}return km(s,a,c,p,_,g)}function km(s,a,c,p,g,_){E0(s,a);var x=(a.flags&128)!==0;if(!p&&!x)return g&&Cw(a,c,!1),Vr(s,a,_);p=a.stateNode,TR.current=a;var D=x&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&x?(a.child=nl(a,s.child,null,_),a.child=nl(a,null,D,_)):Tn(s,a,D,_),a.memoizedState=p.state,g&&Cw(a,c,!0),a.child}function x0(s){var a=s.stateNode;a.pendingContext?bw(s,a.pendingContext,a.pendingContext!==a.context):a.context&&bw(s,a.context,!1),dm(s,a.containerInfo)}function S0(s,a,c,p,g){return tl(),sm(g),a.flags|=256,Tn(s,a,c,p),a.child}var Rm={dehydrated:null,treeContext:null,retryLane:0};function Am(s){return{baseLanes:s,cachePool:null,transitions:null}}function b0(s,a,c){var p=a.pendingProps,g=at.current,_=!1,x=(a.flags&128)!==0,D;if((D=x)||(D=s!==null&&s.memoizedState===null?!1:(g&2)!==0),D?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),Je(at,g&1),s===null)return rm(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(x=p.children,s=p.fallback,_?(p=a.mode,_=a.child,x={mode:"hidden",children:x},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=x):_=Td(x,p,0,null),s=Do(s,p,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Am(c),a.memoizedState=Rm,s):Dm(a,x));if(g=s.memoizedState,g!==null&&(D=g.dehydrated,D!==null))return xR(s,a,x,p,D,g,c);if(_){_=p.fallback,x=a.mode,g=s.child,D=g.sibling;var V={mode:"hidden",children:p.children};return(x&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=V,a.deletions=null):(p=xs(g,V),p.subtreeFlags=g.subtreeFlags&14680064),D!==null?_=xs(D,_):(_=Do(_,x,c,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,x=s.child.memoizedState,x=x===null?Am(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},_.memoizedState=x,_.childLanes=s.childLanes&~c,a.memoizedState=Rm,p}return _=s.child,s=_.sibling,p=xs(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Dm(s,a){return a=Td({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ud(s,a,c,p){return p!==null&&sm(p),nl(a,s.child,null,c),s=Dm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function xR(s,a,c,p,g,_,x){if(c)return a.flags&256?(a.flags&=-257,p=Im(Error(n(422))),ud(s,a,x,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=p.fallback,g=a.mode,p=Td({mode:"visible",children:p.children},g,0,null),_=Do(_,g,x,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&nl(a,s.child,null,x),a.child.memoizedState=Am(x),a.memoizedState=Rm,_);if((a.mode&1)===0)return ud(s,a,x,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var D=p.dgst;return p=D,_=Error(n(419)),p=Im(_,p,void 0),ud(s,a,x,p)}if(D=(x&s.childLanes)!==0,An||D){if(p=Ut,p!==null){switch(x&-x){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|x))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Or(s,g),Ai(p,s,g,-1))}return Km(),p=Im(Error(n(421))),ud(s,a,x,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=VR.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,Bn=ds(g.nextSibling),zn=a,st=!0,Ci=null,s!==null&&(ni[ii++]=Dr,ni[ii++]=Mr,ni[ii++]=xo,Dr=s.id,Mr=s.overflow,xo=a),a=Dm(a,p.children),a.flags|=4096,a)}function I0(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),um(s.return,a,c)}function Mm(s,a,c,p,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=g)}function C0(s,a,c){var p=a.pendingProps,g=p.revealOrder,_=p.tail;if(Tn(s,a,p.children,c),p=at.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&I0(s,c,a);else if(s.tag===19)I0(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(Je(at,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&nd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Mm(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&nd(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Mm(a,!0,c,null,_);break;case"together":Mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Vr(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Po|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,c=xs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=xs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function SR(s,a,c){switch(a.tag){case 3:x0(a),tl();break;case 5:zw(a);break;case 1:Rn(a.type)&&qh(a);break;case 4:dm(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;Je(Jh,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(Je(at,at.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?b0(s,a,c):(Je(at,at.current&1),s=Vr(s,a,c),s!==null?s.sibling:null);Je(at,at.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return C0(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Je(at,at.current),p)break;return null;case 22:case 23:return a.lanes=0,w0(s,a,c)}return Vr(s,a,c)}var P0,Om,k0,R0;P0=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Om=function(){},k0=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,Io(Xi.current);var _=null;switch(c){case"input":g=ro(s,g),p=ro(s,p),_=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),_=[];break;case"textarea":g=cu(s,g),p=cu(s,p),_=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=$h)}gu(c,p);var x;c=null;for(K in g)if(!p.hasOwnProperty(K)&&g.hasOwnProperty(K)&&g[K]!=null)if(K==="style"){var D=g[K];for(x in D)D.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(r.hasOwnProperty(K)?_||(_=[]):(_=_||[]).push(K,null));for(K in p){var V=p[K];if(D=g?.[K],p.hasOwnProperty(K)&&V!==D&&(V!=null||D!=null))if(K==="style")if(D){for(x in D)!D.hasOwnProperty(x)||V&&V.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in V)V.hasOwnProperty(x)&&D[x]!==V[x]&&(c||(c={}),c[x]=V[x])}else c||(_||(_=[]),_.push(K,c)),c=V;else K==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,D=D?D.__html:void 0,V!=null&&D!==V&&(_=_||[]).push(K,V)):K==="children"?typeof V!="string"&&typeof V!="number"||(_=_||[]).push(K,""+V):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(r.hasOwnProperty(K)?(V!=null&&K==="onScroll"&&Ze("scroll",s),_||D===V||(_=[])):(_=_||[]).push(K,V))}c&&(_=_||[]).push("style",c);var K=_;(a.updateQueue=K)&&(a.flags|=4)}},R0=function(s,a,c,p){c!==p&&(a.flags|=4)};function Xu(s,a){if(!st)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function sn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function bR(s,a,c){var p=a.pendingProps;switch(nm(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(a),null;case 1:return Rn(a.type)&&Wh(),sn(a),null;case 3:return p=a.stateNode,sl(),et(kn),et(nn),mm(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Xh(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ci!==null&&(Wm(Ci),Ci=null))),Om(s,a),sn(a),null;case 5:fm(a);var g=Io(Wu.current);if(c=a.type,s!==null&&a.stateNode!=null)k0(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(n(166));return sn(a),null}if(s=Io(Xi.current),Xh(a)){p=a.stateNode,c=a.type;var _=a.memoizedProps;switch(p[Qi]=a,p[ju]=_,s=(a.mode&1)!==0,c){case"dialog":Ze("cancel",p),Ze("close",p);break;case"iframe":case"object":case"embed":Ze("load",p);break;case"video":case"audio":for(g=0;g<Lu.length;g++)Ze(Lu[g],p);break;case"source":Ze("error",p);break;case"img":case"image":case"link":Ze("error",p),Ze("load",p);break;case"details":Ze("toggle",p);break;case"input":wa(p,_),Ze("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},Ze("invalid",p);break;case"textarea":Ta(p,_),Ze("invalid",p)}gu(c,_),g=null;for(var x in _)if(_.hasOwnProperty(x)){var D=_[x];x==="children"?typeof D=="string"?p.textContent!==D&&(_.suppressHydrationWarning!==!0&&Bh(p.textContent,D,s),g=["children",D]):typeof D=="number"&&p.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Bh(p.textContent,D,s),g=["children",""+D]):r.hasOwnProperty(x)&&D!=null&&x==="onScroll"&&Ze("scroll",p)}switch(c){case"input":wr(p),ph(p,_,!0);break;case"textarea":wr(p),hu(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=$h)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{x=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Pt(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=x.createElement(c,{is:p.is}):(s=x.createElement(c),c==="select"&&(x=s,p.multiple?x.multiple=!0:p.size&&(x.size=p.size))):s=x.createElementNS(s,c),s[Qi]=a,s[ju]=p,P0(s,a,!1,!1),a.stateNode=s;e:{switch(x=yu(c,p),c){case"dialog":Ze("cancel",s),Ze("close",s),g=p;break;case"iframe":case"object":case"embed":Ze("load",s),g=p;break;case"video":case"audio":for(g=0;g<Lu.length;g++)Ze(Lu[g],s);g=p;break;case"source":Ze("error",s),g=p;break;case"img":case"image":case"link":Ze("error",s),Ze("load",s),g=p;break;case"details":Ze("toggle",s),g=p;break;case"input":wa(s,p),g=ro(s,p),Ze("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),Ze("invalid",s);break;case"textarea":Ta(s,p),g=cu(s,p),Ze("invalid",s);break;default:g=p}gu(c,g),D=g;for(_ in D)if(D.hasOwnProperty(_)){var V=D[_];_==="style"?pu(s,V):_==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&du(s,V)):_==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&ts(s,V):typeof V=="number"&&ts(s,""+V):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(r.hasOwnProperty(_)?V!=null&&_==="onScroll"&&Ze("scroll",s):V!=null&&z(s,_,V,x))}switch(c){case"input":wr(s),ph(s,p,!1);break;case"textarea":wr(s),hu(s);break;case"option":p.value!=null&&s.setAttribute("value",""+He(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?Tr(s,!!p.multiple,_,!1):p.defaultValue!=null&&Tr(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=$h)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return sn(a),null;case 6:if(s&&a.stateNode!=null)R0(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(n(166));if(c=Io(Wu.current),Io(Xi.current),Xh(a)){if(p=a.stateNode,c=a.memoizedProps,p[Qi]=a,(_=p.nodeValue!==c)&&(s=zn,s!==null))switch(s.tag){case 3:Bh(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bh(p.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[Qi]=a,a.stateNode=p}return sn(a),null;case 13:if(et(at),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(st&&Bn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Mw(),tl(),a.flags|=98560,_=!1;else if(_=Xh(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(n(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(n(317));_[Qi]=a}else tl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;sn(a),_=!1}else Ci!==null&&(Wm(Ci),Ci=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(at.current&1)!==0?Dt===0&&(Dt=3):Km())),a.updateQueue!==null&&(a.flags|=4),sn(a),null);case 4:return sl(),Om(s,a),s===null&&Fu(a.stateNode.containerInfo),sn(a),null;case 10:return lm(a.type._context),sn(a),null;case 17:return Rn(a.type)&&Wh(),sn(a),null;case 19:if(et(at),_=a.memoizedState,_===null)return sn(a),null;if(p=(a.flags&128)!==0,x=_.rendering,x===null)if(p)Xu(_,!1);else{if(Dt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(x=nd(s),x!==null){for(a.flags|=128,Xu(_,!1),p=x.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)_=c,s=p,_.flags&=14680066,x=_.alternate,x===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,_.type=x.type,s=x.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return Je(at,at.current&1|2),a.child}s=s.sibling}_.tail!==null&&Ye()>ul&&(a.flags|=128,p=!0,Xu(_,!1),a.lanes=4194304)}else{if(!p)if(s=nd(x),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Xu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!x.alternate&&!st)return sn(a),null}else 2*Ye()-_.renderingStartTime>ul&&c!==1073741824&&(a.flags|=128,p=!0,Xu(_,!1),a.lanes=4194304);_.isBackwards?(x.sibling=a.child,a.child=x):(c=_.last,c!==null?c.sibling=x:a.child=x,_.last=x)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=Ye(),a.sibling=null,c=at.current,Je(at,p?c&1|2:c&1),a):(sn(a),null);case 22:case 23:return Gm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?($n&1073741824)!==0&&(sn(a),a.subtreeFlags&6&&(a.flags|=8192)):sn(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function IR(s,a){switch(nm(a),a.tag){case 1:return Rn(a.type)&&Wh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return sl(),et(kn),et(nn),mm(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return fm(a),null;case 13:if(et(at),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));tl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(at),null;case 4:return sl(),null;case 10:return lm(a.type._context),null;case 22:case 23:return Gm(),null;case 24:return null;default:return null}}var hd=!1,on=!1,CR=typeof WeakSet=="function"?WeakSet:Set,he=null;function al(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){dt(s,a,p)}else c.current=null}function Nm(s,a,c){try{c()}catch(p){dt(s,a,p)}}var A0=!1;function PR(s,a){if(Gp=us,s=uw(),Up(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var x=0,D=-1,V=-1,K=0,te=0,ie=s,ee=null;t:for(;;){for(var ue;ie!==c||g!==0&&ie.nodeType!==3||(D=x+g),ie!==_||p!==0&&ie.nodeType!==3||(V=x+p),ie.nodeType===3&&(x+=ie.nodeValue.length),(ue=ie.firstChild)!==null;)ee=ie,ie=ue;for(;;){if(ie===s)break t;if(ee===c&&++K===g&&(D=x),ee===_&&++te===p&&(V=x),(ue=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ue}c=D===-1||V===-1?null:{start:D,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Kp={focusedElem:s,selectionRange:c},us=!1,he=a;he!==null;)if(a=he,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,he=s;else for(;he!==null;){a=he;try{var de=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var fe=de.memoizedProps,vt=de.memoizedState,W=a.stateNode,j=W.getSnapshotBeforeUpdate(a.elementType===a.type?fe:Pi(a.type,fe),vt);W.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var G=a.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){dt(a,a.return,re)}if(s=a.sibling,s!==null){s.return=a.return,he=s;break}he=a.return}return de=A0,A0=!1,de}function Yu(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&Nm(a,c,_)}g=g.next}while(g!==p)}}function dd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Vm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function D0(s){var a=s.alternate;a!==null&&(s.alternate=null,D0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Qi],delete a[ju],delete a[Jp],delete a[cR],delete a[hR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function M0(s){return s.tag===5||s.tag===3||s.tag===4}function O0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||M0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Lm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=$h));else if(p!==4&&(s=s.child,s!==null))for(Lm(s,a,c),s=s.sibling;s!==null;)Lm(s,a,c),s=s.sibling}function Fm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(Fm(s,a,c),s=s.sibling;s!==null;)Fm(s,a,c),s=s.sibling}var Qt=null,ki=!1;function vs(s,a,c){for(c=c.child;c!==null;)N0(s,a,c),c=c.sibling}function N0(s,a,c){if(Ln&&typeof Ln.onCommitFiberUnmount=="function")try{Ln.onCommitFiberUnmount(po,c)}catch{}switch(c.tag){case 5:on||al(c,a);case 6:var p=Qt,g=ki;Qt=null,vs(s,a,c),Qt=p,ki=g,Qt!==null&&(ki?(s=Qt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Qt.removeChild(c.stateNode));break;case 18:Qt!==null&&(ki?(s=Qt,c=c.stateNode,s.nodeType===8?Yp(s.parentNode,c):s.nodeType===1&&Yp(s,c),Si(s)):Yp(Qt,c.stateNode));break;case 4:p=Qt,g=ki,Qt=c.stateNode.containerInfo,ki=!0,vs(s,a,c),Qt=p,ki=g;break;case 0:case 11:case 14:case 15:if(!on&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var _=g,x=_.destroy;_=_.tag,x!==void 0&&((_&2)!==0||(_&4)!==0)&&Nm(c,a,x),g=g.next}while(g!==p)}vs(s,a,c);break;case 1:if(!on&&(al(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(D){dt(c,a,D)}vs(s,a,c);break;case 21:vs(s,a,c);break;case 22:c.mode&1?(on=(p=on)||c.memoizedState!==null,vs(s,a,c),on=p):vs(s,a,c);break;default:vs(s,a,c)}}function V0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new CR),a.forEach(function(p){var g=LR.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function Ri(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var _=s,x=a,D=x;e:for(;D!==null;){switch(D.tag){case 5:Qt=D.stateNode,ki=!1;break e;case 3:Qt=D.stateNode.containerInfo,ki=!0;break e;case 4:Qt=D.stateNode.containerInfo,ki=!0;break e}D=D.return}if(Qt===null)throw Error(n(160));N0(_,x,g),Qt=null,ki=!1;var V=g.alternate;V!==null&&(V.return=null),g.return=null}catch(K){dt(g,a,K)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)L0(a,s),a=a.sibling}function L0(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ri(a,s),Ji(s),p&4){try{Yu(3,s,s.return),dd(3,s)}catch(fe){dt(s,s.return,fe)}try{Yu(5,s,s.return)}catch(fe){dt(s,s.return,fe)}}break;case 1:Ri(a,s),Ji(s),p&512&&c!==null&&al(c,c.return);break;case 5:if(Ri(a,s),Ji(s),p&512&&c!==null&&al(c,c.return),s.flags&32){var g=s.stateNode;try{ts(g,"")}catch(fe){dt(s,s.return,fe)}}if(p&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,x=c!==null?c.memoizedProps:_,D=s.type,V=s.updateQueue;if(s.updateQueue=null,V!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&lu(g,_),yu(D,x);var K=yu(D,_);for(x=0;x<V.length;x+=2){var te=V[x],ie=V[x+1];te==="style"?pu(g,ie):te==="dangerouslySetInnerHTML"?du(g,ie):te==="children"?ts(g,ie):z(g,te,ie,K)}switch(D){case"input":uu(g,_);break;case"textarea":xa(g,_);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var ue=_.value;ue!=null?Tr(g,!!_.multiple,ue,!1):ee!==!!_.multiple&&(_.defaultValue!=null?Tr(g,!!_.multiple,_.defaultValue,!0):Tr(g,!!_.multiple,_.multiple?[]:"",!1))}g[ju]=_}catch(fe){dt(s,s.return,fe)}}break;case 6:if(Ri(a,s),Ji(s),p&4){if(s.stateNode===null)throw Error(n(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(fe){dt(s,s.return,fe)}}break;case 3:if(Ri(a,s),Ji(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Si(a.containerInfo)}catch(fe){dt(s,s.return,fe)}break;case 4:Ri(a,s),Ji(s);break;case 13:Ri(a,s),Ji(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(zm=Ye())),p&4&&V0(s);break;case 22:if(te=c!==null&&c.memoizedState!==null,s.mode&1?(on=(K=on)||te,Ri(a,s),on=K):Ri(a,s),Ji(s),p&8192){if(K=s.memoizedState!==null,(s.stateNode.isHidden=K)&&!te&&(s.mode&1)!==0)for(he=s,te=s.child;te!==null;){for(ie=he=te;he!==null;){switch(ee=he,ue=ee.child,ee.tag){case 0:case 11:case 14:case 15:Yu(4,ee,ee.return);break;case 1:al(ee,ee.return);var de=ee.stateNode;if(typeof de.componentWillUnmount=="function"){p=ee,c=ee.return;try{a=p,de.props=a.memoizedProps,de.state=a.memoizedState,de.componentWillUnmount()}catch(fe){dt(p,c,fe)}}break;case 5:al(ee,ee.return);break;case 22:if(ee.memoizedState!==null){j0(ie);continue}}ue!==null?(ue.return=ee,he=ue):j0(ie)}te=te.sibling}e:for(te=null,ie=s;;){if(ie.tag===5){if(te===null){te=ie;try{g=ie.stateNode,K?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=ie.stateNode,V=ie.memoizedProps.style,x=V!=null&&V.hasOwnProperty("display")?V.display:null,D.style.display=fu("display",x))}catch(fe){dt(s,s.return,fe)}}}else if(ie.tag===6){if(te===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(fe){dt(s,s.return,fe)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;te===ie&&(te=null),ie=ie.return}te===ie&&(te=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Ri(a,s),Ji(s),p&4&&V0(s);break;case 21:break;default:Ri(a,s),Ji(s)}}function Ji(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(M0(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(ts(g,""),p.flags&=-33);var _=O0(s);Fm(s,_,g);break;case 3:case 4:var x=p.stateNode.containerInfo,D=O0(s);Lm(s,D,x);break;default:throw Error(n(161))}}catch(V){dt(s,s.return,V)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function kR(s,a,c){he=s,F0(s)}function F0(s,a,c){for(var p=(s.mode&1)!==0;he!==null;){var g=he,_=g.child;if(g.tag===22&&p){var x=g.memoizedState!==null||hd;if(!x){var D=g.alternate,V=D!==null&&D.memoizedState!==null||on;D=hd;var K=on;if(hd=x,(on=V)&&!K)for(he=g;he!==null;)x=he,V=x.child,x.tag===22&&x.memoizedState!==null?z0(g):V!==null?(V.return=x,he=V):z0(g);for(;_!==null;)he=_,F0(_),_=_.sibling;he=g,hd=D,on=K}U0(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,he=_):U0(s)}}function U0(s){for(;he!==null;){var a=he;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:on||dd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!on)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Pi(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&jw(a,_,p);break;case 3:var x=a.updateQueue;if(x!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}jw(a,x,c)}break;case 5:var D=a.stateNode;if(c===null&&a.flags&4){c=D;var V=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var K=a.alternate;if(K!==null){var te=K.memoizedState;if(te!==null){var ie=te.dehydrated;ie!==null&&Si(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}on||a.flags&512&&Vm(a)}catch(ee){dt(a,a.return,ee)}}if(a===s){he=null;break}if(c=a.sibling,c!==null){c.return=a.return,he=c;break}he=a.return}}function j0(s){for(;he!==null;){var a=he;if(a===s){he=null;break}var c=a.sibling;if(c!==null){c.return=a.return,he=c;break}he=a.return}}function z0(s){for(;he!==null;){var a=he;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{dd(4,a)}catch(V){dt(a,c,V)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(V){dt(a,g,V)}}var _=a.return;try{Vm(a)}catch(V){dt(a,_,V)}break;case 5:var x=a.return;try{Vm(a)}catch(V){dt(a,x,V)}}}catch(V){dt(a,a.return,V)}if(a===s){he=null;break}var D=a.sibling;if(D!==null){D.return=a.return,he=D;break}he=a.return}}var RR=Math.ceil,fd=q.ReactCurrentDispatcher,Um=q.ReactCurrentOwner,oi=q.ReactCurrentBatchConfig,je=0,Ut=null,xt=null,Xt=0,$n=0,ll=fs(0),Dt=0,Ju=null,Po=0,pd=0,jm=0,Zu=null,Dn=null,zm=0,ul=1/0,Lr=null,md=!1,Bm=null,_s=null,gd=!1,ws=null,yd=0,ec=0,$m=null,vd=-1,_d=0;function xn(){return(je&6)!==0?Ye():vd!==-1?vd:vd=Ye()}function Es(s){return(s.mode&1)===0?1:(je&2)!==0&&Xt!==0?Xt&-Xt:fR.transition!==null?(_d===0&&(_d=go()),_d):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:Pu(s.type)),s)}function Ai(s,a,c,p){if(50<ec)throw ec=0,$m=null,Error(n(185));ss(s,c,p),((je&2)===0||s!==Ut)&&(s===Ut&&((je&2)===0&&(pd|=c),Dt===4&&Ts(s,Xt)),Mn(s,p),c===1&&je===0&&(a.mode&1)===0&&(ul=Ye()+500,Gh&&ms()))}function Mn(s,a){var c=s.callbackNode;br(s,a);var p=mo(s,s===Ut?Xt:0);if(p===0)c!==null&&xu(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&xu(c),a===1)s.tag===0?dR($0.bind(null,s)):Pw($0.bind(null,s)),lR(function(){(je&6)===0&&ms()}),c=null;else{switch(as(p)){case 1:c=fo;break;case 4:c=ns;break;case 16:c=Zn;break;case 536870912:c=_h;break;default:c=Zn}c=Y0(c,B0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function B0(s,a){if(vd=-1,_d=0,(je&6)!==0)throw Error(n(327));var c=s.callbackNode;if(cl()&&s.callbackNode!==c)return null;var p=mo(s,s===Ut?Xt:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=wd(s,p);else{a=p;var g=je;je|=2;var _=W0();(Ut!==s||Xt!==a)&&(Lr=null,ul=Ye()+500,Ro(s,a));do try{MR();break}catch(D){H0(s,D)}while(!0);am(),fd.current=_,je=g,xt!==null?a=0:(Ut=null,Xt=0,a=Dt)}if(a!==0){if(a===2&&(g=Fn(s),g!==0&&(p=g,a=Hm(s,g))),a===1)throw c=Ju,Ro(s,0),Ts(s,p),Mn(s,Ye()),c;if(a===6)Ts(s,p);else{if(g=s.current.alternate,(p&30)===0&&!AR(g)&&(a=wd(s,p),a===2&&(_=Fn(s),_!==0&&(p=_,a=Hm(s,_))),a===1))throw c=Ju,Ro(s,0),Ts(s,p),Mn(s,Ye()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(n(345));case 2:Ao(s,Dn,Lr);break;case 3:if(Ts(s,p),(p&130023424)===p&&(a=zm+500-Ye(),10<a)){if(mo(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){xn(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Xp(Ao.bind(null,s,Dn,Lr),a);break}Ao(s,Dn,Lr);break;case 4:if(Ts(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var x=31-wn(p);_=1<<x,x=a[x],x>g&&(g=x),p&=~_}if(p=g,p=Ye()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*RR(p/1960))-p,10<p){s.timeoutHandle=Xp(Ao.bind(null,s,Dn,Lr),p);break}Ao(s,Dn,Lr);break;case 5:Ao(s,Dn,Lr);break;default:throw Error(n(329))}}}return Mn(s,Ye()),s.callbackNode===c?B0.bind(null,s):null}function Hm(s,a){var c=Zu;return s.current.memoizedState.isDehydrated&&(Ro(s,a).flags|=256),s=wd(s,a),s!==2&&(a=Dn,Dn=c,a!==null&&Wm(a)),s}function Wm(s){Dn===null?Dn=s:Dn.push.apply(Dn,s)}function AR(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],_=g.getSnapshot;g=g.value;try{if(!Ii(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ts(s,a){for(a&=~jm,a&=~pd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-wn(a),p=1<<c;s[c]=-1,a&=~p}}function $0(s){if((je&6)!==0)throw Error(n(327));cl();var a=mo(s,0);if((a&1)===0)return Mn(s,Ye()),null;var c=wd(s,a);if(s.tag!==0&&c===2){var p=Fn(s);p!==0&&(a=p,c=Hm(s,p))}if(c===1)throw c=Ju,Ro(s,0),Ts(s,a),Mn(s,Ye()),c;if(c===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Ao(s,Dn,Lr),Mn(s,Ye()),null}function qm(s,a){var c=je;je|=1;try{return s(a)}finally{je=c,je===0&&(ul=Ye()+500,Gh&&ms())}}function ko(s){ws!==null&&ws.tag===0&&(je&6)===0&&cl();var a=je;je|=1;var c=oi.transition,p=Ve;try{if(oi.transition=null,Ve=1,s)return s()}finally{Ve=p,oi.transition=c,je=a,(je&6)===0&&ms()}}function Gm(){$n=ll.current,et(ll)}function Ro(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,aR(c)),xt!==null)for(c=xt.return;c!==null;){var p=c;switch(nm(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Wh();break;case 3:sl(),et(kn),et(nn),mm();break;case 5:fm(p);break;case 4:sl();break;case 13:et(at);break;case 19:et(at);break;case 10:lm(p.type._context);break;case 22:case 23:Gm()}c=c.return}if(Ut=s,xt=s=xs(s.current,null),Xt=$n=a,Dt=0,Ju=null,jm=pd=Po=0,Dn=Zu=null,bo!==null){for(a=0;a<bo.length;a++)if(c=bo[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,_=c.pending;if(_!==null){var x=_.next;_.next=g,p.next=x}c.pending=p}bo=null}return s}function H0(s,a){do{var c=xt;try{if(am(),id.current=ad,rd){for(var p=lt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}rd=!1}if(Co=0,Ft=At=lt=null,qu=!1,Gu=0,Um.current=null,c===null||c.return===null){Dt=1,Ju=a,xt=null;break}e:{var _=s,x=c.return,D=c,V=a;if(a=Xt,D.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var K=V,te=D,ie=te.tag;if((te.mode&1)===0&&(ie===0||ie===11||ie===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ue=m0(x);if(ue!==null){ue.flags&=-257,g0(ue,x,D,_,a),ue.mode&1&&p0(_,K,a),a=ue,V=K;var de=a.updateQueue;if(de===null){var fe=new Set;fe.add(V),a.updateQueue=fe}else de.add(V);break e}else{if((a&1)===0){p0(_,K,a),Km();break e}V=Error(n(426))}}else if(st&&D.mode&1){var vt=m0(x);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),g0(vt,x,D,_,a),sm(ol(V,D));break e}}_=V=ol(V,D),Dt!==4&&(Dt=2),Zu===null?Zu=[_]:Zu.push(_),_=x;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var W=d0(_,V,a);Uw(_,W);break e;case 1:D=V;var j=_.type,G=_.stateNode;if((_.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(_s===null||!_s.has(G)))){_.flags|=65536,a&=-a,_.lanes|=a;var re=f0(_,D,a);Uw(_,re);break e}}_=_.return}while(_!==null)}G0(c)}catch(me){a=me,xt===c&&c!==null&&(xt=c=c.return);continue}break}while(!0)}function W0(){var s=fd.current;return fd.current=ad,s===null?ad:s}function Km(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ut===null||(Po&268435455)===0&&(pd&268435455)===0||Ts(Ut,Xt)}function wd(s,a){var c=je;je|=2;var p=W0();(Ut!==s||Xt!==a)&&(Lr=null,Ro(s,a));do try{DR();break}catch(g){H0(s,g)}while(!0);if(am(),je=c,fd.current=p,xt!==null)throw Error(n(261));return Ut=null,Xt=0,Dt}function DR(){for(;xt!==null;)q0(xt)}function MR(){for(;xt!==null&&!yh();)q0(xt)}function q0(s){var a=X0(s.alternate,s,$n);s.memoizedProps=s.pendingProps,a===null?G0(s):xt=a,Um.current=null}function G0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=bR(c,a,$n),c!==null){xt=c;return}}else{if(c=IR(c,a),c!==null){c.flags&=32767,xt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Dt=6,xt=null;return}}if(a=a.sibling,a!==null){xt=a;return}xt=a=s}while(a!==null);Dt===0&&(Dt=5)}function Ao(s,a,c){var p=Ve,g=oi.transition;try{oi.transition=null,Ve=1,OR(s,a,c,p)}finally{oi.transition=g,Ve=p}return null}function OR(s,a,c,p){do cl();while(ws!==null);if((je&6)!==0)throw Error(n(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(Ke(s,_),s===Ut&&(xt=Ut=null,Xt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||gd||(gd=!0,Y0(Zn,function(){return cl(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=oi.transition,oi.transition=null;var x=Ve;Ve=1;var D=je;je|=4,Um.current=null,PR(s,c),L0(c,s),eR(Kp),us=!!Gp,Kp=Gp=null,s.current=c,kR(c),Ap(),je=D,Ve=x,oi.transition=_}else s.current=c;if(gd&&(gd=!1,ws=s,yd=g),_=s.pendingLanes,_===0&&(_s=null),wh(c.stateNode),Mn(s,Ye()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(md)throw md=!1,s=Bm,Bm=null,s;return(yd&1)!==0&&s.tag!==0&&cl(),_=s.pendingLanes,(_&1)!==0?s===$m?ec++:(ec=0,$m=s):ec=0,ms(),null}function cl(){if(ws!==null){var s=as(yd),a=oi.transition,c=Ve;try{if(oi.transition=null,Ve=16>s?16:s,ws===null)var p=!1;else{if(s=ws,ws=null,yd=0,(je&6)!==0)throw Error(n(331));var g=je;for(je|=4,he=s.current;he!==null;){var _=he,x=_.child;if((he.flags&16)!==0){var D=_.deletions;if(D!==null){for(var V=0;V<D.length;V++){var K=D[V];for(he=K;he!==null;){var te=he;switch(te.tag){case 0:case 11:case 15:Yu(8,te,_)}var ie=te.child;if(ie!==null)ie.return=te,he=ie;else for(;he!==null;){te=he;var ee=te.sibling,ue=te.return;if(D0(te),te===K){he=null;break}if(ee!==null){ee.return=ue,he=ee;break}he=ue}}}var de=_.alternate;if(de!==null){var fe=de.child;if(fe!==null){de.child=null;do{var vt=fe.sibling;fe.sibling=null,fe=vt}while(fe!==null)}}he=_}}if((_.subtreeFlags&2064)!==0&&x!==null)x.return=_,he=x;else e:for(;he!==null;){if(_=he,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Yu(9,_,_.return)}var W=_.sibling;if(W!==null){W.return=_.return,he=W;break e}he=_.return}}var j=s.current;for(he=j;he!==null;){x=he;var G=x.child;if((x.subtreeFlags&2064)!==0&&G!==null)G.return=x,he=G;else e:for(x=j;he!==null;){if(D=he,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:dd(9,D)}}catch(me){dt(D,D.return,me)}if(D===x){he=null;break e}var re=D.sibling;if(re!==null){re.return=D.return,he=re;break e}he=D.return}}if(je=g,ms(),Ln&&typeof Ln.onPostCommitFiberRoot=="function")try{Ln.onPostCommitFiberRoot(po,s)}catch{}p=!0}return p}finally{Ve=c,oi.transition=a}}return!1}function K0(s,a,c){a=ol(c,a),a=d0(s,a,1),s=ys(s,a,1),a=xn(),s!==null&&(ss(s,1,a),Mn(s,a))}function dt(s,a,c){if(s.tag===3)K0(s,s,c);else for(;a!==null;){if(a.tag===3){K0(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_s===null||!_s.has(p))){s=ol(c,s),s=f0(a,s,1),a=ys(a,s,1),s=xn(),a!==null&&(ss(a,1,s),Mn(a,s));break}}a=a.return}}function NR(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=xn(),s.pingedLanes|=s.suspendedLanes&c,Ut===s&&(Xt&c)===c&&(Dt===4||Dt===3&&(Xt&130023424)===Xt&&500>Ye()-zm?Ro(s,0):jm|=c),Mn(s,a)}function Q0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Ma,Ma<<=1,(Ma&130023424)===0&&(Ma=4194304)));var c=xn();s=Or(s,a),s!==null&&(ss(s,a,c),Mn(s,c))}function VR(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Q0(s,c)}function LR(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(a),Q0(s,c)}var X0;X0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||kn.current)An=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return An=!1,SR(s,a,c);An=(s.flags&131072)!==0}else An=!1,st&&(a.flags&1048576)!==0&&kw(a,Qh,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;cd(s,a),s=a.pendingProps;var g=Ja(a,nn.current);rl(a,c),g=vm(null,a,p,s,g,c);var _=_m();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Rn(p)?(_=!0,qh(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,hm(a),g.updater=ld,a.stateNode=g,g._reactInternals=a,bm(a,p,s,c),a=km(null,a,p,!0,_,c)):(a.tag=0,st&&_&&tm(a),Tn(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(cd(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=UR(p),s=Pi(p,s),g){case 0:a=Pm(null,a,p,s,c);break e;case 1:a=T0(null,a,p,s,c);break e;case 11:a=y0(null,a,p,s,c);break e;case 14:a=v0(null,a,p,Pi(p.type,s),c);break e}throw Error(n(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),Pm(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),T0(s,a,p,g,c);case 3:e:{if(x0(a),s===null)throw Error(n(387));p=a.pendingProps,_=a.memoizedState,g=_.element,Fw(s,a),td(a,p,null,c);var x=a.memoizedState;if(p=x.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=ol(Error(n(423)),a),a=S0(s,a,p,c,g);break e}else if(p!==g){g=ol(Error(n(424)),a),a=S0(s,a,p,c,g);break e}else for(Bn=ds(a.stateNode.containerInfo.firstChild),zn=a,st=!0,Ci=null,c=Vw(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(tl(),p===g){a=Vr(s,a,c);break e}Tn(s,a,p,c)}a=a.child}return a;case 5:return zw(a),s===null&&rm(a),p=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,x=g.children,Qp(p,g)?x=null:_!==null&&Qp(p,_)&&(a.flags|=32),E0(s,a),Tn(s,a,x,c),a.child;case 6:return s===null&&rm(a),null;case 13:return b0(s,a,c);case 4:return dm(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=nl(a,null,p,c):Tn(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),y0(s,a,p,g,c);case 7:return Tn(s,a,a.pendingProps,c),a.child;case 8:return Tn(s,a,a.pendingProps.children,c),a.child;case 12:return Tn(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,_=a.memoizedProps,x=g.value,Je(Jh,p._currentValue),p._currentValue=x,_!==null)if(Ii(_.value,x)){if(_.children===g.children&&!kn.current){a=Vr(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var D=_.dependencies;if(D!==null){x=_.child;for(var V=D.firstContext;V!==null;){if(V.context===p){if(_.tag===1){V=Nr(-1,c&-c),V.tag=2;var K=_.updateQueue;if(K!==null){K=K.shared;var te=K.pending;te===null?V.next=V:(V.next=te.next,te.next=V),K.pending=V}}_.lanes|=c,V=_.alternate,V!==null&&(V.lanes|=c),um(_.return,c,a),D.lanes|=c;break}V=V.next}}else if(_.tag===10)x=_.type===a.type?null:_.child;else if(_.tag===18){if(x=_.return,x===null)throw Error(n(341));x.lanes|=c,D=x.alternate,D!==null&&(D.lanes|=c),um(x,c,a),x=_.sibling}else x=_.child;if(x!==null)x.return=_;else for(x=_;x!==null;){if(x===a){x=null;break}if(_=x.sibling,_!==null){_.return=x.return,x=_;break}x=x.return}_=x}Tn(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,rl(a,c),g=ri(g),p=p(g),a.flags|=1,Tn(s,a,p,c),a.child;case 14:return p=a.type,g=Pi(p,a.pendingProps),g=Pi(p.type,g),v0(s,a,p,g,c);case 15:return _0(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Pi(p,g),cd(s,a),a.tag=1,Rn(p)?(s=!0,qh(a)):s=!1,rl(a,c),c0(a,p,g),bm(a,p,g,c),km(null,a,p,!0,s,c);case 19:return C0(s,a,c);case 22:return w0(s,a,c)}throw Error(n(156,a.tag))};function Y0(s,a){return Aa(s,a)}function FR(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,a,c,p){return new FR(s,a,c,p)}function Qm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function UR(s){if(typeof s=="function")return Qm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===B)return 11;if(s===Wt)return 14}return 2}function xs(s,a){var c=s.alternate;return c===null?(c=ai(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ed(s,a,c,p,g,_){var x=2;if(p=s,typeof s=="function")Qm(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case M:return Do(c.children,g,_,a);case C:x=8,g|=8;break;case R:return s=ai(12,c,a,g|2),s.elementType=R,s.lanes=_,s;case O:return s=ai(13,c,a,g),s.elementType=O,s.lanes=_,s;case Qe:return s=ai(19,c,a,g),s.elementType=Qe,s.lanes=_,s;case Ce:return Td(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case N:x=10;break e;case U:x=9;break e;case B:x=11;break e;case Wt:x=14;break e;case qt:x=16,p=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=ai(x,c,a,g),a.elementType=s,a.type=p,a.lanes=_,a}function Do(s,a,c,p){return s=ai(7,s,p,a),s.lanes=c,s}function Td(s,a,c,p){return s=ai(22,s,p,a),s.elementType=Ce,s.lanes=c,s.stateNode={isHidden:!1},s}function Xm(s,a,c){return s=ai(6,s,null,a),s.lanes=c,s}function Ym(s,a,c){return a=ai(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function jR(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rs(0),this.expirationTimes=rs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rs(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Jm(s,a,c,p,g,_,x,D,V){return s=new jR(s,a,c,D,V),a===1?(a=1,_===!0&&(a|=8)):a=0,_=ai(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(_),s}function zR(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function J0(s){if(!s)return ps;s=s._reactInternals;e:{if(_i(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Rn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var c=s.type;if(Rn(c))return Iw(s,c,a)}return a}function Z0(s,a,c,p,g,_,x,D,V){return s=Jm(c,p,!0,s,g,_,x,D,V),s.context=J0(null),c=s.current,p=xn(),g=Es(c),_=Nr(p,g),_.callback=a??null,ys(c,_,g),s.current.lanes=g,ss(s,g,p),Mn(s,p),s}function xd(s,a,c,p){var g=a.current,_=xn(),x=Es(g);return c=J0(c),a.context===null?a.context=c:a.pendingContext=c,a=Nr(_,x),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=ys(g,a,x),s!==null&&(Ai(s,g,x,_),ed(s,g,x)),x}function Sd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function eE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Zm(s,a){eE(s,a),(s=s.alternate)&&eE(s,a)}function BR(){return null}var tE=typeof reportError=="function"?reportError:function(s){console.error(s)};function eg(s){this._internalRoot=s}bd.prototype.render=eg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));xd(s,a,null,null)},bd.prototype.unmount=eg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;ko(function(){xd(null,s,null,null)}),a[Rr]=null}};function bd(s){this._internalRoot=s}bd.prototype.unstable_scheduleHydration=function(s){if(s){var a=bh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Wi.length&&a!==0&&a<Wi[c].priority;c++);Wi.splice(c,0,s),c===0&&Ph(s)}};function tg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Id(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function nE(){}function $R(s,a,c,p,g){if(g){if(typeof p=="function"){var _=p;p=function(){var K=Sd(x);_.call(K)}}var x=Z0(a,p,s,0,null,!1,!1,"",nE);return s._reactRootContainer=x,s[Rr]=x.current,Fu(s.nodeType===8?s.parentNode:s),ko(),x}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var D=p;p=function(){var K=Sd(V);D.call(K)}}var V=Jm(s,0,!1,null,null,!1,!1,"",nE);return s._reactRootContainer=V,s[Rr]=V.current,Fu(s.nodeType===8?s.parentNode:s),ko(function(){xd(a,V,c,p)}),V}function Cd(s,a,c,p,g){var _=c._reactRootContainer;if(_){var x=_;if(typeof g=="function"){var D=g;g=function(){var V=Sd(x);D.call(V)}}xd(a,x,s,g)}else x=$R(c,a,s,g,p);return Sd(x)}xh=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=is(a.pendingLanes);c!==0&&(os(a,c|1),Mn(a,Ye()),(je&6)===0&&(ul=Ye()+500,ms()))}break;case 13:ko(function(){var p=Or(s,1);if(p!==null){var g=xn();Ai(p,s,1,g)}}),Zm(s,1)}},Oa=function(s){if(s.tag===13){var a=Or(s,134217728);if(a!==null){var c=xn();Ai(a,s,134217728,c)}Zm(s,134217728)}},Sh=function(s){if(s.tag===13){var a=Es(s),c=Or(s,a);if(c!==null){var p=xn();Ai(c,s,a,p)}Zm(s,a)}},bh=function(){return Ve},Ih=function(s,a){var c=Ve;try{return Ve=s,a()}finally{Ve=c}},ba=function(s,a,c){switch(a){case"input":if(uu(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=Hh(p);if(!g)throw Error(n(90));_a(p),uu(p,g)}}}break;case"textarea":xa(s,c);break;case"select":a=c.value,a!=null&&Tr(s,!!c.multiple,a,!1)}},lo=qm,_u=ko;var HR={usingClientEntryPoint:!1,Events:[zu,Xa,Hh,$i,vu,qm]},tc={findFiberByHostInstance:Eo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WR={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Tu(s),s===null?null:s.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||BR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pd.isDisabled&&Pd.supportsFiber)try{po=Pd.inject(WR),Ln=Pd}catch{}}return On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR,On.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(a))throw Error(n(200));return zR(s,a,null,c)},On.createRoot=function(s,a){if(!tg(s))throw Error(n(299));var c=!1,p="",g=tE;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Jm(s,1,!1,null,null,c,!1,p,g),s[Rr]=a.current,Fu(s.nodeType===8?s.parentNode:s),new eg(a)},On.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Tu(a),s=s===null?null:s.stateNode,s},On.flushSync=function(s){return ko(s)},On.hydrate=function(s,a,c){if(!Id(a))throw Error(n(200));return Cd(null,s,a,!0,c)},On.hydrateRoot=function(s,a,c){if(!tg(s))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,g=!1,_="",x=tE;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),a=Z0(a,null,s,1,c??null,g,!1,_,x),s[Rr]=a.current,Fu(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new bd(a)},On.render=function(s,a,c){if(!Id(a))throw Error(n(200));return Cd(null,s,a,!1,c)},On.unmountComponentAtNode=function(s){if(!Id(s))throw Error(n(40));return s._reactRootContainer?(ko(function(){Cd(null,null,s,!1,function(){s._reactRootContainer=null,s[Rr]=null})}),!0):!1},On.unstable_batchedUpdates=qm,On.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!Id(c))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Cd(s,a,c,!1,p)},On.version="18.3.1-next-f1338f8080-20240426",On}var cE;function ZR(){if(cE)return rg.exports;cE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rg.exports=JR(),rg.exports}var hE;function eA(){if(hE)return kd;hE=1;var t=ZR();return kd.createRoot=t.createRoot,kd.hydrateRoot=t.hydrateRoot,kd}var tA=eA();const nA=gS(tA),iA="modulepreload",rA=function(t){return"/Costas_Portfolio/"+t},dE={},sA=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){let h=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");r=h(n.map(f=>{if(f=rA(f),f in dE)return;dE[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":iA,m||(w.as="script"),w.crossOrigin="",w.href=f,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((T,S)=>{w.addEventListener("load",T),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return r.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fE="popstate";function oA(t={}){function e(i,r){let{pathname:o,search:l,hash:u}=i.location;return ty("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:kc(r)}return lA(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aA(){return Math.random().toString(36).substring(2,10)}function pE(t,e){return{usr:t.state,key:t.key,idx:e}}function ty(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Jl(e):e,state:n,key:e&&e.key||i||aA()}}function kc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function lA(t,e,n,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",h=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function y(){u="POP";let b=m(),A=b==null?null:b-f;f=b,h&&h({action:u,location:P.location,delta:A})}function w(b,A){u="PUSH";let F=ty(P.location,b,A);f=m()+1;let z=pE(F,f),q=P.createHref(F);try{l.pushState(z,"",q)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;r.location.assign(q)}o&&h&&h({action:u,location:P.location,delta:1})}function T(b,A){u="REPLACE";let F=ty(P.location,b,A);f=m();let z=pE(F,f),q=P.createHref(F);l.replaceState(z,"",q),o&&h&&h({action:u,location:P.location,delta:0})}function S(b){return uA(b)}let P={get action(){return u},get location(){return t(r,l)},listen(b){if(h)throw new Error("A history only accepts one active listener");return r.addEventListener(fE,y),h=b,()=>{r.removeEventListener(fE,y),h=null}},createHref(b){return e(r,b)},createURL:S,encodeLocation(b){let A=S(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:w,replace:T,go(b){return l.go(b)}};return P}function uA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:kc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function yS(t,e,n="/"){return cA(t,e,n,!1)}function cA(t,e,n,i){let r=typeof e=="string"?Jl(e):e,o=Gr(r.pathname||"/",n);if(o==null)return null;let l=vS(t);hA(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let f=TA(o);u=wA(l[h],f,i)}return u}function vS(t,e=[],n=[],i=""){let r=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(ct(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let f=Br([i,h.relativePath]),m=n.concat(h);o.children&&o.children.length>0&&(ct(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),vS(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:vA(f,o.index),routesMeta:m})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))r(o,l);else for(let u of _S(o.path))r(o,l,u)}),e}function _S(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=_S(i.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),r&&u.push(...l),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function hA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_A(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var dA=/^:[\w-]+$/,fA=3,pA=2,mA=1,gA=10,yA=-2,mE=t=>t==="*";function vA(t,e){let n=t.split("/"),i=n.length;return n.some(mE)&&(i+=yA),e&&(i+=pA),n.filter(r=>!mE(r)).reduce((r,o)=>r+(dA.test(o)?fA:o===""?mA:gA),i)}function _A(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function wA(t,e,n=!1){let{routesMeta:i}=t,r={},o="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],f=u===i.length-1,m=o==="/"?e:e.slice(o.length)||"/",y=vf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),w=h.route;if(!y&&f&&n&&!i[i.length-1].route.index&&(y=vf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!y)return null;Object.assign(r,y.params),l.push({params:r,pathname:Br([o,y.pathname]),pathnameBase:IA(Br([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=Br([o,y.pathnameBase]))}return l}function vf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=EA(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:y},w)=>{if(m==="*"){let S=u[w]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=u[w];return y&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function EA(t,e=!1,n=!0){fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function TA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function xA(t,e="/"){let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Jl(t):t;return{pathname:n?n.startsWith("/")?n:SA(n,e):e,search:CA(i),hash:PA(r)}}function SA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function ag(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wS(t){let e=bA(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function ES(t,e,n,i=!1){let r;typeof t=="string"?r=Jl(t):(r={...t},ct(!r.pathname||!r.pathname.includes("?"),ag("?","pathname","search",r)),ct(!r.pathname||!r.pathname.includes("#"),ag("#","pathname","hash",r)),ct(!r.search||!r.search.includes("#"),ag("#","search","hash",r)));let o=t===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=n;else{let y=e.length-1;if(!i&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;r.pathname=w.join("/")}u=y>=0?e[y]:"/"}let h=xA(r,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),IA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),CA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var TS=["POST","PUT","PATCH","DELETE"];new Set(TS);var RA=["GET",...TS];new Set(RA);var Zl=L.createContext(null);Zl.displayName="DataRouter";var Zf=L.createContext(null);Zf.displayName="DataRouterState";L.createContext(!1);var xS=L.createContext({isTransitioning:!1});xS.displayName="ViewTransition";var AA=L.createContext(new Map);AA.displayName="Fetchers";var DA=L.createContext(null);DA.displayName="Await";var gr=L.createContext(null);gr.displayName="Navigation";var Qc=L.createContext(null);Qc.displayName="Location";var Zr=L.createContext({outlet:null,matches:[],isDataRoute:!1});Zr.displayName="Route";var rv=L.createContext(null);rv.displayName="RouteError";function MA(t,{relative:e}={}){ct(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(gr),{hash:r,pathname:o,search:l}=Yc(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Br([n,o])),i.createHref({pathname:u,search:l,hash:r})}function Xc(){return L.useContext(Qc)!=null}function ca(){return ct(Xc(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Qc).location}var SS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bS(t){L.useContext(gr).static||L.useLayoutEffect(t)}function OA(){let{isDataRoute:t}=L.useContext(Zr);return t?GA():NA()}function NA(){ct(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Zl),{basename:e,navigator:n}=L.useContext(gr),{matches:i}=L.useContext(Zr),{pathname:r}=ca(),o=JSON.stringify(wS(i)),l=L.useRef(!1);return bS(()=>{l.current=!0}),L.useCallback((h,f={})=>{if(fr(l.current,SS),!l.current)return;if(typeof h=="number"){n.go(h);return}let m=ES(h,JSON.parse(o),r,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Br([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,o,r,t])}L.createContext(null);function Yc(t,{relative:e}={}){let{matches:n}=L.useContext(Zr),{pathname:i}=ca(),r=JSON.stringify(wS(n));return L.useMemo(()=>ES(t,JSON.parse(r),i,e==="path"),[t,r,i,e])}function VA(t,e){return IS(t,e)}function IS(t,e,n,i){ct(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=L.useContext(gr),{matches:o}=L.useContext(Zr),l=o[o.length-1],u=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let A=m&&m.path||"";CS(h,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=ca(),w;if(e){let A=typeof e=="string"?Jl(e):e;ct(f==="/"||A.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${A.pathname}" was given in the \`location\` prop.`),w=A}else w=y;let T=w.pathname||"/",S=T;if(f!=="/"){let A=f.replace(/^\//,"").split("/");S="/"+T.replace(/^\//,"").split("/").slice(A.length).join("/")}let P=yS(t,{pathname:S});fr(m||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),fr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=zA(P&&P.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Br([f,r.encodeLocation?r.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Br([f,r.encodeLocation?r.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,i);return e&&b?L.createElement(Qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function LA(){let t=qA(),e=kA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:o},"ErrorBoundary")," or"," ",L.createElement("code",{style:o},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:r},n):null,l)}var FA=L.createElement(LA,null),UA=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(Zr.Provider,{value:this.props.routeContext},L.createElement(rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jA({routeContext:t,match:e,children:n}){let i=L.useContext(Zl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Zr.Provider,{value:t},n)}function zA(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let r=t,o=n?.errors;if(o!=null){let h=r.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);ct(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let l=!1,u=-1;if(n)for(let h=0;h<r.length;h++){let f=r[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:y}=n,w=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((h,f,m)=>{let y,w=!1,T=null,S=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||FA,l&&(u<0&&m===0?(CS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):u===m&&(w=!0,S=f.route.hydrateFallbackElement||null)));let P=e.concat(r.slice(0,m+1)),b=()=>{let A;return y?A=T:w?A=S:f.route.Component?A=L.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,L.createElement(jA,{match:f,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?L.createElement(UA,{location:n.location,revalidation:n.revalidation,component:T,error:y,children:b(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):b()},null)}function sv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BA(t){let e=L.useContext(Zl);return ct(e,sv(t)),e}function $A(t){let e=L.useContext(Zf);return ct(e,sv(t)),e}function HA(t){let e=L.useContext(Zr);return ct(e,sv(t)),e}function ov(t){let e=HA(t),n=e.matches[e.matches.length-1];return ct(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function WA(){return ov("useRouteId")}function qA(){let t=L.useContext(rv),e=$A("useRouteError"),n=ov("useRouteError");return t!==void 0?t:e.errors?.[n]}function GA(){let{router:t}=BA("useNavigate"),e=ov("useNavigate"),n=L.useRef(!1);return bS(()=>{n.current=!0}),L.useCallback(async(r,o={})=>{fr(n.current,SS),n.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...o}))},[t,e])}var gE={};function CS(t,e,n){!e&&!gE[t]&&(gE[t]=!0,fr(!1,n))}L.memo(KA);function KA({routes:t,future:e,state:n}){return IS(t,void 0,n,e)}function ny(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QA({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:r,static:o=!1}){ct(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),u=L.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);typeof n=="string"&&(n=Jl(n));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:w="default"}=n,T=L.useMemo(()=>{let S=Gr(h,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:y,key:w},navigationType:i}},[l,h,f,m,y,w,i]);return fr(T!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:L.createElement(gr.Provider,{value:u},L.createElement(Qc.Provider,{children:e,value:T}))}function XA({children:t,location:e}){return VA(iy(t),e)}function iy(t,e=[]){let n=[];return L.Children.forEach(t,(i,r)=>{if(!L.isValidElement(i))return;let o=[...e,r];if(i.type===L.Fragment){n.push.apply(n,iy(i.props.children,o));return}ct(i.type===ny,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=iy(i.props.children,o)),n.push(l)}),n}var Zd="get",ef="application/x-www-form-urlencoded";function ep(t){return t!=null&&typeof t.tagName=="string"}function YA(t){return ep(t)&&t.tagName.toLowerCase()==="button"}function JA(t){return ep(t)&&t.tagName.toLowerCase()==="form"}function ZA(t){return ep(t)&&t.tagName.toLowerCase()==="input"}function e2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function t2(t,e){return t.button===0&&(!e||e==="_self")&&!e2(t)}var Rd=null;function n2(){if(Rd===null)try{new FormData(document.createElement("form"),0),Rd=!1}catch{Rd=!0}return Rd}var i2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lg(t){return t!=null&&!i2.has(t)?(fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ef}"`),null):t}function r2(t,e){let n,i,r,o,l;if(JA(t)){let u=t.getAttribute("action");i=u?Gr(u,e):null,n=t.getAttribute("method")||Zd,r=lg(t.getAttribute("enctype"))||ef,o=new FormData(t)}else if(YA(t)||ZA(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(i=h?Gr(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Zd,r=lg(t.getAttribute("formenctype"))||lg(u.getAttribute("enctype"))||ef,o=new FormData(u,t),!n2()){let{name:f,type:m,value:y}=t;if(m==="image"){let w=f?`${f}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else f&&o.append(f,y)}}else{if(ep(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zd,i=null,r=ef,l=t}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function av(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function s2(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Gr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function o2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function a2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function l2(t,e,n){let i=await Promise.all(t.map(async r=>{let o=e.routes[r.route.id];if(o){let l=await o2(o,n);return l.links?l.links():[]}return[]}));return d2(i.flat(1).filter(a2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function yE(t,e,n,i,r,o){let l=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,f)=>l(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function u2(t,e,{includeHydrateFallback:n}={}){return c2(t.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function c2(t){return[...new Set(t)]}function h2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function d2(t,e){let n=new Set;return new Set(e),t.reduce((i,r)=>{let o=JSON.stringify(h2(r));return n.has(o)||(n.add(o),i.push({key:o,link:r})),i},[])}function PS(){let t=L.useContext(Zl);return av(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function f2(){let t=L.useContext(Zf);return av(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lv=L.createContext(void 0);lv.displayName="FrameworkContext";function kS(){let t=L.useContext(lv);return av(t,"You must render this element inside a <HydratedRouter> element"),t}function p2(t,e){let n=L.useContext(lv),[i,r]=L.useState(!1),[o,l]=L.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=A=>{A.forEach(F=>{l(F.isIntersecting)})},b=new IntersectionObserver(P,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[t]),L.useEffect(()=>{if(i){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[i]);let T=()=>{r(!0)},S=()=>{r(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:ic(u,T),onBlur:ic(h,S),onMouseEnter:ic(f,T),onMouseLeave:ic(m,S),onTouchStart:ic(y,T)}]:[!1,w,{}]}function ic(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function m2({page:t,...e}){let{router:n}=PS(),i=L.useMemo(()=>yS(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?L.createElement(y2,{page:t,matches:i,...e}):null}function g2(t){let{manifest:e,routeModules:n}=kS(),[i,r]=L.useState([]);return L.useEffect(()=>{let o=!1;return l2(t,e,n).then(l=>{o||r(l)}),()=>{o=!0}},[t,e,n]),i}function y2({page:t,matches:e,...n}){let i=ca(),{manifest:r,routeModules:o}=kS(),{basename:l}=PS(),{loaderData:u,matches:h}=f2(),f=L.useMemo(()=>yE(t,e,h,r,i,"data"),[t,e,h,r,i]),m=L.useMemo(()=>yE(t,e,h,r,i,"assets"),[t,e,h,r,i]),y=L.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,P=!1;if(e.forEach(A=>{let F=r.routes[A.route.id];!F||!F.hasLoader||(!f.some(z=>z.route.id===A.route.id)&&A.route.id in u&&o[A.route.id]?.shouldRevalidate||F.hasClientLoader?P=!0:S.add(A.route.id))}),S.size===0)return[];let b=s2(t,l,"data");return P&&S.size>0&&b.searchParams.set("_routes",e.filter(A=>S.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[l,u,i,r,f,e,t,o]),w=L.useMemo(()=>u2(m,r),[m,r]),T=g2(m);return L.createElement(L.Fragment,null,y.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),T.map(({key:S,link:P})=>L.createElement("link",{key:S,nonce:n.nonce,...P})))}function v2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RS&&(window.__reactRouterVersion="7.8.0")}catch{}function _2({basename:t,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=oA({window:n,v5Compat:!0}));let r=i.current,[o,l]=L.useState({action:r.action,location:r.location}),u=L.useCallback(h=>{L.startTransition(()=>l(h))},[l]);return L.useLayoutEffect(()=>r.listen(u),[r,u]),L.createElement(QA,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:r})}var AS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:h,to:f,preventScrollReset:m,viewTransition:y,...w},T){let{basename:S}=L.useContext(gr),P=typeof f=="string"&&AS.test(f),b,A=!1;if(typeof f=="string"&&P&&(b=f,RS))try{let R=new URL(window.location.href),N=f.startsWith("//")?new URL(R.protocol+f):new URL(f),U=Gr(N.pathname,S);N.origin===R.origin&&U!=null?f=U+N.search+N.hash:A=!0}catch{fr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=MA(f,{relative:r}),[z,q,X]=p2(i,w),ne=x2(f,{replace:l,state:u,target:h,preventScrollReset:m,relative:r,viewTransition:y});function M(R){e&&e(R),R.defaultPrevented||ne(R)}let C=L.createElement("a",{...w,...X,href:b||F,onClick:A||o?e:M,ref:v2(T,q),target:h,"data-discover":!P&&n==="render"?"true":void 0});return z&&!P?L.createElement(L.Fragment,null,C,L.createElement(m2,{page:F})):C});DS.displayName="Link";var w2=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:h,...f},m){let y=Yc(l,{relative:f.relative}),w=ca(),T=L.useContext(Zf),{navigator:S,basename:P}=L.useContext(gr),b=T!=null&&P2(y)&&u===!0,A=S.encodeLocation?S.encodeLocation(y).pathname:y.pathname,F=w.pathname,z=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(F=F.toLowerCase(),z=z?z.toLowerCase():null,A=A.toLowerCase()),z&&P&&(z=Gr(z,P)||z);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let X=F===A||!r&&F.startsWith(A)&&F.charAt(q)==="/",ne=z!=null&&(z===A||!r&&z.startsWith(A)&&z.charAt(A.length)==="/"),M={isActive:X,isPending:ne,isTransitioning:b},C=X?e:void 0,R;typeof i=="function"?R=i(M):R=[i,X?"active":null,ne?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let N=typeof o=="function"?o(M):o;return L.createElement(DS,{...f,"aria-current":C,className:R,ref:m,style:N,to:l,viewTransition:u},typeof h=="function"?h(M):h)});w2.displayName="NavLink";var E2=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:r,state:o,method:l=Zd,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:y,...w},T)=>{let S=I2(),P=C2(u,{relative:f}),b=l.toLowerCase()==="get"?"get":"post",A=typeof u=="string"&&AS.test(u),F=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let q=z.nativeEvent.submitter,X=q?.getAttribute("formmethod")||l;S(q||z.currentTarget,{fetcherKey:e,method:X,navigate:n,replace:r,state:o,relative:f,preventScrollReset:m,viewTransition:y})};return L.createElement("form",{ref:T,method:b,action:P,onSubmit:i?h:F,...w,"data-discover":!A&&t==="render"?"true":void 0})});E2.displayName="Form";function T2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MS(t){let e=L.useContext(Zl);return ct(e,T2(t)),e}function x2(t,{target:e,replace:n,state:i,preventScrollReset:r,relative:o,viewTransition:l}={}){let u=OA(),h=ca(),f=Yc(t,{relative:o});return L.useCallback(m=>{if(t2(m,e)){m.preventDefault();let y=n!==void 0?n:kc(h)===kc(f);u(t,{replace:y,state:i,preventScrollReset:r,relative:o,viewTransition:l})}},[h,u,f,n,i,e,t,r,o,l])}var S2=0,b2=()=>`__${String(++S2)}__`;function I2(){let{router:t}=MS("useSubmit"),{basename:e}=L.useContext(gr),n=WA();return L.useCallback(async(i,r={})=>{let{action:o,method:l,encType:u,formData:h,body:f}=r2(i,e);if(r.navigate===!1){let m=r.fetcherKey||b2();await t.fetch(m,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,flushSync:r.flushSync})}else await t.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:h,body:f,formMethod:r.method||l,formEncType:r.encType||u,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,n])}function C2(t,{relative:e}={}){let{basename:n}=L.useContext(gr),i=L.useContext(Zr);ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Yc(t||".",{relative:e})},l=ca();if(t==null){o.search=l.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(y=>y).forEach(y=>u.append("index",y));let m=u.toString();o.search=m?`?${m}`:""}}return(!t||t===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Br([n,o.pathname])),kc(o)}function P2(t,{relative:e}={}){let n=L.useContext(xS);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=MS("useViewTransitionState"),r=Yc(t,{relative:e});if(!n.isTransitioning)return!1;let o=Gr(n.currentLocation.pathname,i)||n.currentLocation.pathname,l=Gr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return vf(r.pathname,l)!=null||vf(r.pathname,o)!=null}const k2=()=>{};var vE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},R2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],l=t[n++],u=t[n++],h=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return e.join("")},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],l=r+1<t.length,u=l?t[r+1]:0,h=r+2<t.length,f=h?t[r+2]:0,m=o>>2,y=(o&3)<<4|u>>4;let w=(u&15)<<2|f>>6,T=f&63;h||(T=64,l||(w=64)),i.push(n[m],n[y],n[w],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):R2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const f=r<t.length?n[t.charAt(r)]:64;++r;const y=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new A2;const w=o<<2|u>>4;if(i.push(w),f!==64){const T=u<<4&240|f>>2;if(i.push(T),y!==64){const S=f<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D2=function(t){const e=OS(t);return NS.encodeByteArray(e,!0)},_f=function(t){return D2(t).replace(/\./g,"")},VS=function(t){try{return NS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=()=>M2().__FIREBASE_DEFAULTS__,N2=()=>{if(typeof process>"u"||typeof vE>"u")return;const t=vE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},V2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VS(t[1]);return e&&JSON.parse(e)},tp=()=>{try{return k2()||O2()||N2()||V2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LS=t=>tp()?.emulatorHosts?.[t],FS=t=>{const e=LS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},US=()=>tp()?.config,jS=t=>tp()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[_f(JSON.stringify(n)),_f(JSON.stringify(l)),""].join(".")}const yc={};function F2(){const t={prod:[],emulator:[]};for(const e of Object.keys(yc))yc[e]?t.emulator.push(e):t.prod.push(e);return t}function U2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _E=!1;function cv(t,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||yc[t]===e||yc[t]||_E)return;yc[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",o=F2().prod.length>0;function l(){const w=document.getElementById(i);w&&w.remove()}function u(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function h(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function f(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{_E=!0,l()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=U2(i),T=n("text"),S=document.getElementById(T)||document.createElement("span"),P=n("learnmore"),b=document.getElementById(P)||document.createElement("a"),A=n("preprendIcon"),F=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const z=w.element;u(z),m(b,P);const q=f();h(F,A),z.append(F,S,b,q),document.body.appendChild(z)}o?(S.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function j2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function z2(){const t=tp()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function B2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function H2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W2(){const t=yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q2(){return!z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function K2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{e(r.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="FirebaseError";class yr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Q2,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],l=o?X2(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new yr(r,u,i)}}function X2(t,e){return t.replace(Y2,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Y2=/\{\$([^}]+)}/g;function J2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zo(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],l=e[r];if(wE(o)&&wE(l)){if(!Zo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function wE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Z2(t,e){const n=new eD(t,e);return n.subscribe.bind(n)}class eD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");tD(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=ug),r.error===void 0&&(r.error=ug),r.complete===void 0&&(r.complete=ug);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ug(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new L2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rD(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:iD(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iD(t){return t===Uo?void 0:t}function rD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const oD={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},aD=De.INFO,lD={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},uD=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=lD[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hv{constructor(e){this.name=e,this._logLevel=aD,this._logHandler=uD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const cD=(t,e)=>e.some(n=>t instanceof n);let EE,TE;function hD(){return EE||(EE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dD(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,ry=new WeakMap,$S=new WeakMap,cg=new WeakMap,dv=new WeakMap;function fD(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Vs(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),dv.set(e,t),e}function pD(t){if(ry.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});ry.set(t,e)}let sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mD(t){sy=t(sy)}function gD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(hg(this),e,...n);return $S.set(i,e.sort?e.sort():[e]),Vs(i)}:dD().includes(t)?function(...e){return t.apply(hg(this),e),Vs(BS.get(this))}:function(...e){return Vs(t.apply(hg(this),e))}}function yD(t){return typeof t=="function"?gD(t):(t instanceof IDBTransaction&&pD(t),cD(t,hD())?new Proxy(t,sy):t)}function Vs(t){if(t instanceof IDBRequest)return fD(t);if(cg.has(t))return cg.get(t);const e=yD(t);return e!==t&&(cg.set(t,e),dv.set(e,t)),e}const hg=t=>dv.get(t);function vD(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(t,e),u=Vs(l);return i&&l.addEventListener("upgradeneeded",h=>{i(Vs(l.result),h.oldVersion,h.newVersion,Vs(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),r&&h.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const _D=["get","getKey","getAll","getAllKeys","count"],wD=["put","add","delete","clear"],dg=new Map;function xE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dg.get(e))return dg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=wD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||_D.includes(n)))return;const o=async function(l,...u){const h=this.transaction(l,r?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),r&&h.done]))[0]};return dg.set(e,o),o}mD(t=>({...t,get:(e,n,i)=>xE(e,n)||t.get(e,n,i),has:(e,n)=>!!xE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TD(t){return t.getComponent()?.type==="VERSION"}const oy="@firebase/app",SE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new hv("@firebase/app"),xD="@firebase/app-compat",SD="@firebase/analytics-compat",bD="@firebase/analytics",ID="@firebase/app-check-compat",CD="@firebase/app-check",PD="@firebase/auth",kD="@firebase/auth-compat",RD="@firebase/database",AD="@firebase/data-connect",DD="@firebase/database-compat",MD="@firebase/functions",OD="@firebase/functions-compat",ND="@firebase/installations",VD="@firebase/installations-compat",LD="@firebase/messaging",FD="@firebase/messaging-compat",UD="@firebase/performance",jD="@firebase/performance-compat",zD="@firebase/remote-config",BD="@firebase/remote-config-compat",$D="@firebase/storage",HD="@firebase/storage-compat",WD="@firebase/firestore",qD="@firebase/ai",GD="@firebase/firestore-compat",KD="firebase",QD="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay="[DEFAULT]",XD={[oy]:"fire-core",[xD]:"fire-core-compat",[bD]:"fire-analytics",[SD]:"fire-analytics-compat",[CD]:"fire-app-check",[ID]:"fire-app-check-compat",[PD]:"fire-auth",[kD]:"fire-auth-compat",[RD]:"fire-rtdb",[AD]:"fire-data-connect",[DD]:"fire-rtdb-compat",[MD]:"fire-fn",[OD]:"fire-fn-compat",[ND]:"fire-iid",[VD]:"fire-iid-compat",[LD]:"fire-fcm",[FD]:"fire-fcm-compat",[UD]:"fire-perf",[jD]:"fire-perf-compat",[zD]:"fire-rc",[BD]:"fire-rc-compat",[$D]:"fire-gcs",[HD]:"fire-gcs-compat",[WD]:"fire-fst",[GD]:"fire-fst-compat",[qD]:"fire-vertex","fire-js":"fire-js",[KD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new Map,YD=new Map,ly=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){Kr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ea(t){const e=t.name;if(ly.has(e))return Kr.debug(`There were multiple attempts to register component ${e}.`),!1;ly.set(e,t);for(const n of wf.values())bE(n,t);for(const n of YD.values())bE(n,t);return!0}function np(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new Jc("app","Firebase",JD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=QD;function HS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ay,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Ls.create("bad-app-name",{appName:String(r)});if(n||(n=US()),!n)throw Ls.create("no-options");const o=wf.get(r);if(o){if(Zo(n,o.options)&&Zo(i,o.config))return o;throw Ls.create("duplicate-app",{appName:r})}const l=new sD(r);for(const h of ly.values())l.addComponent(h);const u=new ZD(n,i,l);return wf.set(r,u),u}function fv(t=ay){const e=wf.get(t);if(!e&&t===ay&&US())return HS();if(!e)throw Ls.create("no-app",{appName:t});return e}function ir(t,e,n){let i=XD[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kr.warn(l.join(" "));return}ea(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="firebase-heartbeat-database",t4=1,Rc="firebase-heartbeat-store";let fg=null;function WS(){return fg||(fg=vD(e4,t4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),fg}async function n4(t){try{const n=(await WS()).transaction(Rc),i=await n.objectStore(Rc).get(qS(t));return await n.done,i}catch(e){if(e instanceof yr)Kr.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e?.message});Kr.warn(n.message)}}}async function IE(t,e){try{const i=(await WS()).transaction(Rc,"readwrite");await i.objectStore(Rc).put(e,qS(t)),await i.done}catch(n){if(n instanceof yr)Kr.warn(n.message);else{const i=Ls.create("idb-set",{originalErrorMessage:n?.message});Kr.warn(i.message)}}}function qS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=1024,r4=30;class s4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a4(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=CE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>r4){const r=l4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Kr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=CE(),{heartbeatsToSend:n,unsentEntries:i}=o4(this._heartbeatsCache.heartbeats),r=_f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Kr.warn(e),""}}}function CE(){return new Date().toISOString().substring(0,10)}function o4(t,e=i4){const n=[];let i=t.slice();for(const r of t){const o=n.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),PE(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),PE(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class a4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G2()?K2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return IE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function PE(t){return _f(JSON.stringify({version:2,heartbeats:t})).length}function l4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){ea(new Bs("platform-logger",e=>new ED(e),"PRIVATE")),ea(new Bs("heartbeat",e=>new s4(e),"PRIVATE")),ir(oy,SE,t),ir(oy,SE,"esm2020"),ir("fire-js","")}u4("");var c4="firebase",h4="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ir(c4,h4,"app");var kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fs,GS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(N,U,B){for(var O=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)O[Qe-2]=arguments[Qe];return C.prototype[U].apply(N,O)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,C,R){R||(R=0);var N=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)N[U]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(U=0;16>U;++U)N[U]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],U=M.g[2];var B=M.g[3],O=C+(B^R&(U^B))+N[0]+3614090360&4294967295;C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[1]+3905402710&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[2]+606105819&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[3]+3250441966&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(B^R&(U^B))+N[4]+4118548399&4294967295,C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[5]+1200080426&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[6]+2821735955&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[7]+4249261313&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(B^R&(U^B))+N[8]+1770035416&4294967295,C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[9]+2336552879&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[10]+4294925233&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[11]+2304563134&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(B^R&(U^B))+N[12]+1804603682&4294967295,C=R+(O<<7&4294967295|O>>>25),O=B+(U^C&(R^U))+N[13]+4254626195&4294967295,B=C+(O<<12&4294967295|O>>>20),O=U+(R^B&(C^R))+N[14]+2792965006&4294967295,U=B+(O<<17&4294967295|O>>>15),O=R+(C^U&(B^C))+N[15]+1236535329&4294967295,R=U+(O<<22&4294967295|O>>>10),O=C+(U^B&(R^U))+N[1]+4129170786&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[6]+3225465664&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[11]+643717713&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[0]+3921069994&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(U^B&(R^U))+N[5]+3593408605&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[10]+38016083&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[15]+3634488961&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[4]+3889429448&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(U^B&(R^U))+N[9]+568446438&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[14]+3275163606&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[3]+4107603335&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[8]+1163531501&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(U^B&(R^U))+N[13]+2850285829&4294967295,C=R+(O<<5&4294967295|O>>>27),O=B+(R^U&(C^R))+N[2]+4243563512&4294967295,B=C+(O<<9&4294967295|O>>>23),O=U+(C^R&(B^C))+N[7]+1735328473&4294967295,U=B+(O<<14&4294967295|O>>>18),O=R+(B^C&(U^B))+N[12]+2368359562&4294967295,R=U+(O<<20&4294967295|O>>>12),O=C+(R^U^B)+N[5]+4294588738&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[8]+2272392833&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[11]+1839030562&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[14]+4259657740&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(R^U^B)+N[1]+2763975236&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[4]+1272893353&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[7]+4139469664&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[10]+3200236656&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(R^U^B)+N[13]+681279174&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[0]+3936430074&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[3]+3572445317&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[6]+76029189&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(R^U^B)+N[9]+3654602809&4294967295,C=R+(O<<4&4294967295|O>>>28),O=B+(C^R^U)+N[12]+3873151461&4294967295,B=C+(O<<11&4294967295|O>>>21),O=U+(B^C^R)+N[15]+530742520&4294967295,U=B+(O<<16&4294967295|O>>>16),O=R+(U^B^C)+N[2]+3299628645&4294967295,R=U+(O<<23&4294967295|O>>>9),O=C+(U^(R|~B))+N[0]+4096336452&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[7]+1126891415&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[14]+2878612391&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[5]+4237533241&4294967295,R=U+(O<<21&4294967295|O>>>11),O=C+(U^(R|~B))+N[12]+1700485571&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[3]+2399980690&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[10]+4293915773&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[1]+2240044497&4294967295,R=U+(O<<21&4294967295|O>>>11),O=C+(U^(R|~B))+N[8]+1873313359&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[15]+4264355552&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[6]+2734768916&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[13]+1309151649&4294967295,R=U+(O<<21&4294967295|O>>>11),O=C+(U^(R|~B))+N[4]+4149444226&4294967295,C=R+(O<<6&4294967295|O>>>26),O=B+(R^(C|~U))+N[11]+3174756917&4294967295,B=C+(O<<10&4294967295|O>>>22),O=U+(C^(B|~R))+N[2]+718787259&4294967295,U=B+(O<<15&4294967295|O>>>17),O=R+(B^(U|~C))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(U+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,N=this.B,U=this.h,B=0;B<C;){if(U==0)for(;B<=R;)r(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<C;)if(N[U++]=M.charCodeAt(B++),U==this.blockSize){r(this,N),U=0;break}}else for(;B<C;)if(N[U++]=M[B++],U==this.blockSize){r(this,N),U=0;break}}this.h=U,this.o+=C},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var N=0;32>N;N+=8)M[R++]=this.g[C]>>>N&255;return M};function o(M,C){var R=u;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function l(M,C){this.h=C;for(var R=[],N=!0,U=M.length-1;0<=U;U--){var B=M[U]|0;N&&B==C||(R[U]=B,N=!1)}this.g=R}var u={};function h(M){return-128<=M&&128>M?o(M,function(C){return new l([C|0],0>C?-1:0)}):new l([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(0>M)return b(f(-M));for(var C=[],R=1,N=0;M>=R;N++)C[N]=M/R|0,R*=4294967296;return new l(C,0)}function m(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return b(m(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(C,8)),N=y,U=0;U<M.length;U+=8){var B=Math.min(8,M.length-U),O=parseInt(M.substring(U,U+B),C);8>B?(B=f(Math.pow(C,B)),N=N.j(B).add(f(O))):(N=N.j(R),N=N.add(f(O)))}return N}var y=h(0),w=h(1),T=h(16777216);t=l.prototype,t.m=function(){if(P(this))return-b(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var N=this.i(R);M+=(0<=N?N:4294967296+N)*C,C*=4294967296}return M},t.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(P(this))return"-"+b(this).toString(M);for(var C=f(Math.pow(M,6)),R=this,N="";;){var U=q(R,C).g;R=A(R,U.j(C));var B=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=U,S(R))return B+N;for(;6>B.length;)B="0"+B;N=B+N}},t.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function P(M){return M.h==-1}t.l=function(M){return M=A(this,M),P(M)?-1:S(M)?0:1};function b(M){for(var C=M.g.length,R=[],N=0;N<C;N++)R[N]=~M.g[N];return new l(R,~M.h).add(w)}t.abs=function(){return P(this)?b(this):this},t.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0,U=0;U<=C;U++){var B=N+(this.i(U)&65535)+(M.i(U)&65535),O=(B>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);N=O>>>16,B&=65535,O&=65535,R[U]=O<<16|B}return new l(R,R[R.length-1]&-2147483648?-1:0)};function A(M,C){return M.add(b(C))}t.j=function(M){if(S(this)||S(M))return y;if(P(this))return P(M)?b(this).j(b(M)):b(b(this).j(M));if(P(M))return b(this.j(b(M)));if(0>this.l(T)&&0>M.l(T))return f(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],N=0;N<2*C;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var U=0;U<M.g.length;U++){var B=this.i(N)>>>16,O=this.i(N)&65535,Qe=M.i(U)>>>16,Wt=M.i(U)&65535;R[2*N+2*U]+=O*Wt,F(R,2*N+2*U),R[2*N+2*U+1]+=B*Wt,F(R,2*N+2*U+1),R[2*N+2*U+1]+=O*Qe,F(R,2*N+2*U+1),R[2*N+2*U+2]+=B*Qe,F(R,2*N+2*U+2)}for(N=0;N<C;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=C;N<2*C;N++)R[N]=0;return new l(R,0)};function F(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function z(M,C){this.g=M,this.h=C}function q(M,C){if(S(C))throw Error("division by zero");if(S(M))return new z(y,y);if(P(M))return C=q(b(M),C),new z(b(C.g),b(C.h));if(P(C))return C=q(M,b(C)),new z(b(C.g),C.h);if(30<M.g.length){if(P(M)||P(C))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=C;0>=N.l(M);)R=X(R),N=X(N);var U=ne(R,1),B=ne(N,1);for(N=ne(N,2),R=ne(R,2);!S(N);){var O=B.add(N);0>=O.l(M)&&(U=U.add(R),B=O),N=ne(N,1),R=ne(R,1)}return C=A(M,U.j(C)),new z(U,C)}for(U=y;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),B=f(R),O=B.j(C);P(O)||0<O.l(M);)R-=N,B=f(R),O=B.j(C);S(B)&&(B=w),U=U.add(B),M=A(M,O)}return new z(U,M)}t.A=function(M){return q(this,M).h},t.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)&M.i(N);return new l(R,this.h&M.h)},t.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)|M.i(N);return new l(R,this.h|M.h)},t.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],N=0;N<C;N++)R[N]=this.i(N)^M.i(N);return new l(R,this.h^M.h)};function X(M){for(var C=M.g.length+1,R=[],N=0;N<C;N++)R[N]=M.i(N)<<1|M.i(N-1)>>>31;return new l(R,M.h)}function ne(M,C){var R=C>>5;C%=32;for(var N=M.g.length-R,U=[],B=0;B<N;B++)U[B]=0<C?M.i(B+R)>>>C|M.i(B+R+1)<<32-C:M.i(B+R);return new l(U,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,GS=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Fs=l}).apply(typeof kE<"u"?kE:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KS,uc,QS,tf,uy,XS,YS,JS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,E){return d==Array.prototype||d==Object.prototype||(d[v]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var v=0;v<d.length;++v){var E=d[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function r(d,v){if(v)e:{var E=i;d=d.split(".");for(var I=0;I<d.length-1;I++){var H=d[I];if(!(H in E))break e;E=E[H]}d=d[d.length-1],I=E[d],v=v(I),v!=I&&v!=null&&e(E,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var E=0,I=!1,H={next:function(){if(!I&&E<d.length){var Q=E++;return{value:v(Q,d[Q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}r("Array.prototype.values",function(d){return d||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function f(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,E){return d.call.apply(d.bind,arguments)}function y(d,v,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,I),d.apply(v,H)}}return function(){return d.apply(v,arguments)}}function w(d,v,E){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:y,w.apply(null,arguments)}function T(d,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function S(d,v){function E(){}E.prototype=v.prototype,d.aa=v.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,H,Q){for(var oe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)oe[qe-2]=arguments[qe];return v.prototype[H].apply(I,oe)}}function P(d){const v=d.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=d[I];return E}return[]}function b(d,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(h(I)){const H=d.length||0,Q=I.length||0;d.length=H+Q;for(let oe=0;oe<Q;oe++)d[H+oe]=I[oe]}else d.push(I)}}class A{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(d){return/^[\s\xa0]*$/.test(d)}function z(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function q(d){return q[" "](d),d}q[" "]=function(){};var X=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ne(d,v,E){for(const I in d)v.call(E,d[I],I,d)}function M(d,v){for(const E in d)v.call(void 0,d[E],E,d)}function C(d){const v={};for(const E in d)v[E]=d[E];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(d,v){let E,I;for(let H=1;H<arguments.length;H++){I=arguments[H];for(E in I)d[E]=I[E];for(let Q=0;Q<R.length;Q++)E=R[Q],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function U(d){var v=1;d=d.split(":");const E=[];for(;0<v&&d.length;)E.push(d.shift()),v--;return d.length&&E.push(d.join(":")),E}function B(d){u.setTimeout(()=>{throw d},0)}function O(){var d=ge;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class Qe{constructor(){this.h=this.g=null}add(v,E){const I=Wt.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var Wt=new A(()=>new qt,d=>d.reset());class qt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,se=!1,ge=new Qe,le=()=>{const d=u.Promise.resolve(void 0);Ce=()=>{d.then($)}};var $=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(E){B(E)}var v=Wt;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}se=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return d}();function Re(d,v){if(ye.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(X){e:{try{q(v.nodeName);var H=!0;break e}catch{}H=!1}H||(v=null)}}else E=="mouseover"?v=d.fromElement:E=="mouseout"&&(v=d.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Le[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Re.aa.h.call(this)}}S(Re,ye);var Le={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var $e="closure_listenable_"+(1e6*Math.random()|0),He=0;function Xe(d,v,E,I,H){this.listener=d,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=H,this.key=++He,this.da=this.fa=!1}function Vt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function wr(d){this.src=d,this.g={},this.h=0}wr.prototype.add=function(d,v,E,I,H){var Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);var oe=es(d,v,I,H);return-1<oe?(v=d[oe],E||(v.fa=!1)):(v=new Xe(v,this.src,Q,!!I,H),v.fa=E,d.push(v)),v};function _a(d,v){var E=v.type;if(E in d.g){var I=d.g[E],H=Array.prototype.indexOf.call(I,v,void 0),Q;(Q=0<=H)&&Array.prototype.splice.call(I,H,1),Q&&(Vt(v),d.g[E].length==0&&(delete d.g[E],d.h--))}}function es(d,v,E,I){for(var H=0;H<d.length;++H){var Q=d[H];if(!Q.da&&Q.listener==v&&Q.capture==!!E&&Q.ha==I)return H}return-1}var ro="closure_lm_"+(1e6*Math.random()|0),wa={};function lu(d,v,E,I,H){if(Array.isArray(v)){for(var Q=0;Q<v.length;Q++)lu(d,v[Q],E,I,H);return null}return E=hu(E),d&&d[$e]?d.K(v,E,f(I)?!!I.capture:!1,H):uu(d,v,E,!1,I,H)}function uu(d,v,E,I,H,Q){if(!v)throw Error("Invalid event type");var oe=f(H)?!!H.capture:!!H,qe=Ta(d);if(qe||(d[ro]=qe=new wr(d)),E=qe.add(v,E,I,oe,Q),E.proxy)return E;if(I=ph(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)ke||(H=oe),H===void 0&&(H=!1),d.addEventListener(v.toString(),I,H);else if(d.attachEvent)d.attachEvent(Tr(v.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ph(){function d(E){return v.call(d.src,d.listener,E)}const v=cu;return d}function Ea(d,v,E,I,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)Ea(d,v[Q],E,I,H);else I=f(I)?!!I.capture:!!I,E=hu(E),d&&d[$e]?(d=d.i,v=String(v).toString(),v in d.g&&(Q=d.g[v],E=es(Q,E,I,H),-1<E&&(Vt(Q[E]),Array.prototype.splice.call(Q,E,1),Q.length==0&&(delete d.g[v],d.h--)))):d&&(d=Ta(d))&&(v=d.g[v.toString()],d=-1,v&&(d=es(v,E,I,H)),(E=-1<d?v[d]:null)&&Er(E))}function Er(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[$e])_a(v.i,d);else{var E=d.type,I=d.proxy;v.removeEventListener?v.removeEventListener(E,I,d.capture):v.detachEvent?v.detachEvent(Tr(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=Ta(v))?(_a(E,d),E.h==0&&(E.src=null,v[ro]=null)):Vt(d)}}}function Tr(d){return d in wa?wa[d]:wa[d]="on"+d}function cu(d,v){if(d.da)d=!0;else{v=new Re(v,this);var E=d.listener,I=d.ha||d.src;d.fa&&Er(d),d=E.call(I,v)}return d}function Ta(d){return d=d[ro],d instanceof wr?d:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function hu(d){return typeof d=="function"?d:(d[xa]||(d[xa]=function(v){return d.handleEvent(v)}),d[xa])}function Pt(){J.call(this),this.i=new wr(this),this.M=this,this.F=null}S(Pt,J),Pt.prototype[$e]=!0,Pt.prototype.removeEventListener=function(d,v,E,I){Ea(this,d,v,E,I)};function kt(d,v){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=v.type||v,typeof v=="string")v=new ye(v,d);else if(v instanceof ye)v.target=v.target||d;else{var H=v;v=new ye(I,d),N(v,H)}if(H=!0,E)for(var Q=E.length-1;0<=Q;Q--){var oe=v.g=E[Q];H=xr(oe,I,!0,v)&&H}if(oe=v.g=d,H=xr(oe,I,!0,v)&&H,H=xr(oe,I,!1,v)&&H,E)for(Q=0;Q<E.length;Q++)oe=v.g=E[Q],H=xr(oe,I,!1,v)&&H}Pt.prototype.N=function(){if(Pt.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var E=d.g[v],I=0;I<E.length;I++)Vt(E[I]);delete d.g[v],d.h--}}this.F=null},Pt.prototype.K=function(d,v,E,I){return this.i.add(String(d),v,!1,E,I)},Pt.prototype.L=function(d,v,E,I){return this.i.add(String(d),v,!0,E,I)};function xr(d,v,E,I){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var H=!0,Q=0;Q<v.length;++Q){var oe=v[Q];if(oe&&!oe.da&&oe.capture==E){var qe=oe.listener,Rt=oe.ha||oe.src;oe.fa&&_a(d.i,oe),H=qe.call(Rt,I)!==!1&&H}}return H&&!I.defaultPrevented}function du(d,v,E){if(typeof d=="function")E&&(d=w(d,E));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(d,v||0)}function ts(d){d.g=du(()=>{d.g=null,d.i&&(d.i=!1,ts(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class so extends J{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ts(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(d){J.call(this),this.h=d,this.g={}}S(oo,J);var fu=[];function pu(d){ne(d.g,function(v,E){this.g.hasOwnProperty(E)&&Er(v)},d),d.g={}}oo.prototype.N=function(){oo.aa.N.call(this),pu(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mu=u.JSON.stringify,gu=u.JSON.parse,yu=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function ao(){}ao.prototype.h=null;function Sa(d){return d.h||(d.h=d.i())}function ba(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){ye.call(this,"d")}S(Bi,ye);function Ia(){ye.call(this,"c")}S(Ia,ye);var $i={},vu=null;function lo(){return vu=vu||new Pt}$i.La="serverreachability";function _u(d){ye.call(this,$i.La,d)}S(_u,ye);function Sr(d){const v=lo();kt(v,new _u(v))}$i.STAT_EVENT="statevent";function wu(d,v){ye.call(this,$i.STAT_EVENT,d),this.stat=v}S(wu,ye);function yt(d){const v=lo();kt(v,new wu(v,d))}$i.Ma="timingevent";function Ca(d,v){ye.call(this,$i.Ma,d),this.size=v}S(Ca,ye);function yi(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function uo(){this.g=!0}uo.prototype.xa=function(){this.g=!1};function co(d,v,E,I,H,Q){d.info(function(){if(d.g)if(Q)for(var oe="",qe=Q.split("&"),Rt=0;Rt<qe.length;Rt++){var Fe=qe[Rt].split("=");if(1<Fe.length){var Lt=Fe[0];Fe=Fe[1];var Tt=Lt.split("_");oe=2<=Tt.length&&Tt[1]=="type"?oe+(Lt+"="+Fe+"&"):oe+(Lt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+I+") [attempt "+H+"]: "+v+`
`+E+`
`+oe})}function Pa(d,v,E,I,H,Q,oe){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+H+"]: "+v+`
`+E+`
`+Q+" "+oe})}function vi(d,v,E,I){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rp(d,E)+(I?" "+I:"")})}function Eu(d,v){d.info(function(){return"TIMEOUT: "+v})}uo.prototype.info=function(){};function Rp(d,v){if(!d.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var H=I[1];if(Array.isArray(H)&&!(1>H.length)){var Q=H[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<H.length;oe++)H[oe]=""}}}}return mu(E)}catch{return v}}var ka={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_i;function ho(){}S(ho,ao),ho.prototype.g=function(){return new XMLHttpRequest},ho.prototype.i=function(){return{}},_i=new ho;function wi(d,v,E,I){this.j=d,this.i=v,this.l=E,this.R=I||1,this.U=new oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gh}function gh(){this.i=null,this.g="",this.h=!1}var Tu={},Ra={};function Aa(d,v,E){d.L=1,d.v=os(Fn(v)),d.m=E,d.P=!0,xu(d,null)}function xu(d,v){d.F=Date.now(),Ye(d),d.A=Fn(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),ls(E.i,"t",I),d.C=0,E=d.j.J,d.h=new gh,d.g=Oh(d.j,E?v:null,!d.m),0<d.O&&(d.M=new so(w(d.Y,d,d.g),d.O)),v=d.U,E=d.g,I=d.ca;var H="readystatechange";Array.isArray(H)||(H&&(fu[0]=H.toString()),H=fu);for(var Q=0;Q<H.length;Q++){var oe=lu(E,H[Q],I||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=d.H?C(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),Sr(),co(d.i,d.u,d.A,d.l,d.R,d.m)}wi.prototype.ca=function(d){d=d.target;const v=this.M;v&&Pn(d)==3?v.j():this.Y(d)},wi.prototype.Y=function(d){try{if(d==this.g)e:{const Tt=Pn(this.g);var v=this.g.Ba();const ti=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||Tt!=4||v==7||(v==8||0>=ti?Sr(3):Sr(2)),fo(this);var E=this.g.Z();this.X=E;t:if(yh(this)){var I=ku(this.g);d="";var H=I.length,Q=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zn(this),ns(this);var oe="";break t}this.h.i=new u.TextDecoder}for(v=0;v<H;v++)this.h.h=!0,d+=this.h.i.decode(I[v],{stream:!(Q&&v==H-1)});I.length=0,this.h.g+=d,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=E==200,Pa(this.i,this.u,this.A,this.l,this.R,Tt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Rt=this.g;if((qe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(qe)){var Fe=qe;break t}}Fe=null}if(E=Fe)vi(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Su(this,E);else{this.o=!1,this.s=3,yt(12),Zn(this),ns(this);break e}}if(this.P){E=!0;let jn;for(;!this.J&&this.C<oe.length;)if(jn=Ap(this,oe),jn==Ra){Tt==4&&(this.s=4,yt(14),E=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(jn==Tu){this.s=4,yt(15),vi(this.i,this.l,oe,"[Invalid Chunk]"),E=!1;break}else vi(this.i,this.l,jn,null),Su(this,jn);if(yh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||oe.length!=0||this.h.h||(this.s=1,yt(16),E=!1),this.o=this.o&&E,!E)vi(this.i,this.l,oe,"[Invalid Chunked Response]"),Zn(this),ns(this);else if(0<oe.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Au(Lt),Lt.M=!0,yt(11))}}else vi(this.i,this.l,oe,null),Su(this,oe);Tt==4&&Zn(this),this.o&&!this.J&&(Tt==4?Ba(this.j,this):(this.o=!1,Ye(this)))}else La(this.g),E==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Zn(this),ns(this)}}}catch{}finally{}};function yh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ap(d,v){var E=d.C,I=v.indexOf(`
`,E);return I==-1?Ra:(E=Number(v.substring(E,I)),isNaN(E)?Tu:(I+=1,I+E>v.length?Ra:(v=v.slice(I,I+E),d.C=I+E,v)))}wi.prototype.cancel=function(){this.J=!0,Zn(this)};function Ye(d){d.S=Date.now()+d.I,vh(d,d.I)}function vh(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=yi(w(d.ba,d),v)}function fo(d){d.B&&(u.clearTimeout(d.B),d.B=null)}wi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Eu(this.i,this.A),this.L!=2&&(Sr(),yt(17)),Zn(this),this.s=2,ns(this)):vh(this,this.S-d)};function ns(d){d.j.G==0||d.J||Ba(d.j,d)}function Zn(d){fo(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,pu(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function Su(d,v){try{var E=d.j;if(E.G!=0&&(E.g==d||wn(E.h,d))){if(!d.K&&wn(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var H=I;if(H[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)za(E),bi(E);else break e;ja(E),yt(18)}}else E.za=H[1],0<E.za-E.T&&37500>H[2]&&E.F&&E.v==0&&!E.C&&(E.C=yi(w(E.Za,E),6e3));if(1>=wh(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else kr(E,11)}else if((d.K||E.g==d)&&za(E),!F(v))for(H=E.Da.g.parse(v),v=0;v<H.length;v++){let Fe=H[v];if(E.T=Fe[0],Fe=Fe[1],E.G==2)if(Fe[0]=="c"){E.K=Fe[1],E.ia=Fe[2];const Lt=Fe[3];Lt!=null&&(E.la=Lt,E.j.info("VER="+E.la));const Tt=Fe[4];Tt!=null&&(E.Aa=Tt,E.j.info("SVER="+E.Aa));const ti=Fe[5];ti!=null&&typeof ti=="number"&&0<ti&&(I=1.5*ti,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const jn=d.g;if(jn){const wo=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var Q=I.h;Q.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(bu(Q,Q.h),Q.h=null))}if(I.D){const Ha=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(I.ya=Ha,Ke(I.I,I.D,Ha))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var oe=d;if(I.qa=Mh(I,I.J?I.ia:null,I.W),oe.K){Eh(I.h,oe);var qe=oe,Rt=I.L;Rt&&(qe.I=Rt),qe.B&&(fo(qe),Ye(qe)),I.g=oe}else _o(I);0<E.i.length&&Gi(E)}else Fe[0]!="stop"&&Fe[0]!="close"||kr(E,7);else E.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?kr(E,7):Kt(E):Fe[0]!="noop"&&E.l&&E.l.ta(Fe),E.v=0)}}Sr(4)}catch{}}var _h=class{constructor(d,v){this.g=d,this.map=v}};function po(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ln(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function wh(d){return d.h?1:d.g?d.g.size:0}function wn(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function bu(d,v){d.g?d.g.add(v):d.h=v}function Eh(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}po.prototype.cancel=function(){if(this.i=Th(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Th(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const E of d.g.values())v=v.concat(E.D);return v}return P(d.i)}function Da(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var v=[],E=d.length,I=0;I<E;I++)v.push(d[I]);return v}v=[],E=0;for(I in d)v[E++]=d[I];return v}function Ma(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var v=[];d=d.length;for(var E=0;E<d;E++)v.push(E);return v}v=[],E=0;for(const I in d)v[E++]=I;return v}}}function is(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var E=Ma(d),I=Da(d),H=I.length,Q=0;Q<H;Q++)v.call(void 0,I[Q],E&&E[Q],d)}var mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dp(d,v){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),H=null;if(0<=I){var Q=d[E].substring(0,I);H=d[E].substring(I+1)}else Q=d[E];v(Q,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function br(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof br){this.h=d.h,go(this,d.j),this.o=d.o,this.g=d.g,rs(this,d.s),this.l=d.l;var v=d.i,E=new Hi;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ss(this,E),this.m=d.m}else d&&(v=String(d).match(mo))?(this.h=!1,go(this,v[1]||"",!0),this.o=Ve(v[2]||""),this.g=Ve(v[3]||"",!0),rs(this,v[4]),this.l=Ve(v[5]||"",!0),ss(this,v[6]||"",!0),this.m=Ve(v[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}br.prototype.toString=function(){var d=[],v=this.j;v&&d.push(as(v,Oa,!0),":");var E=this.g;return(E||v=="file")&&(d.push("//"),(v=this.o)&&d.push(as(v,Oa,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(as(E,E.charAt(0)=="/"?bh:Sh,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",as(E,Iu)),d.join("")};function Fn(d){return new br(d)}function go(d,v,E){d.j=E?Ve(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function rs(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function ss(d,v,E){v instanceof Hi?(d.i=v,Wi(d.i,d.h)):(E||(v=as(v,Ih)),d.i=new Hi(v,d.h))}function Ke(d,v,E){d.i.set(v,E)}function os(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ve(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function as(d,v,E){return typeof d=="string"?(d=encodeURI(d).replace(v,xh),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function xh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Oa=/[#\/\?@]/g,Sh=/[#\?:]/g,bh=/[#\?]/g,Ih=/[#\?@]/g,Iu=/#/g;function Hi(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Gt(d){d.g||(d.g=new Map,d.h=0,d.i&&Dp(d.i,function(v,E){d.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=Hi.prototype,t.add=function(d,v){Gt(this),this.i=null,d=ei(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(v),this.h+=1,this};function Ei(d,v){Gt(d),v=ei(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function Ti(d,v){return Gt(d),v=ei(d,v),d.g.has(v)}t.forEach=function(d,v){Gt(this),this.g.forEach(function(E,I){E.forEach(function(H){d.call(v,H,I,this)},this)},this)},t.na=function(){Gt(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const H=d[I];for(let Q=0;Q<H.length;Q++)E.push(v[I])}return E},t.V=function(d){Gt(this);let v=[];if(typeof d=="string")Ti(this,d)&&(v=v.concat(this.g.get(ei(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)v=v.concat(d[E])}return v},t.set=function(d,v){return Gt(this),this.i=null,d=ei(this,d),Ti(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function ls(d,v,E){Ei(d,v),0<E.length&&(d.i=null,d.g.set(ei(d,v),P(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const Q=encodeURIComponent(String(I)),oe=this.V(I);for(I=0;I<oe.length;I++){var H=Q;oe[I]!==""&&(H+="="+encodeURIComponent(String(oe[I]))),d.push(H)}}return this.i=d.join("&")};function ei(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function Wi(d,v){v&&!d.j&&(Gt(d),d.i=null,d.g.forEach(function(E,I){var H=I.toLowerCase();I!=H&&(Ei(this,I),ls(this,H,E))},d)),d.j=v}function Mp(d,v){const E=new uo;if(u.Image){const I=new Image;I.onload=T(Cn,E,"TestLoadImage: loaded",!0,v,I),I.onerror=T(Cn,E,"TestLoadImage: error",!1,v,I),I.onabort=T(Cn,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=T(Cn,E,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else v(!1)}function Ch(d,v){const E=new uo,I=new AbortController,H=setTimeout(()=>{I.abort(),Cn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:I.signal}).then(Q=>{clearTimeout(H),Q.ok?Cn(E,"TestPingServer: ok",!0,v):Cn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),Cn(E,"TestPingServer: error",!1,v)})}function Cn(d,v,E,I,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),I(E)}catch{}}function Op(){this.g=new yu}function Ph(d,v,E){const I=E||"";try{is(d,function(H,Q){let oe=H;f(H)&&(oe=mu(H)),v.push(I+Q+"="+encodeURIComponent(oe))})}catch(H){throw v.push(I+"type="+encodeURIComponent("_badmap")),H}}function Ir(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Ir,ao),Ir.prototype.g=function(){return new yo(this.l,this.j)},Ir.prototype.i=function(d){return function(){return d}}({});function yo(d,v){Pt.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(yo,Pt),t=yo.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,Si(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xi(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;kh(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function kh(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?xi(this):Si(this),this.readyState==3&&kh(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,xi(this))},t.Qa=function(d){this.g&&(this.response=d,xi(this))},t.ga=function(){this.g&&xi(this)};function xi(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Si(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=v.next();return d.join(`\r
`)};function Si(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(yo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Cr(d){let v="";return ne(d,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function us(d,v,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Cr(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Ke(d,v,E))}function rt(d){Pt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(rt,Pt);var Np=/^https?$/i,Cu=["POST","PUT"];t=rt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_i.g(),this.v=this.o?Sa(this.o):Sa(_i),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Q){vo(this,Q);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var H in I)E.set(H,I[H]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const Q of I.keys())E.set(Q,I.get(Q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Cu,v,void 0))||I||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of E)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(d),this.u=!1}catch(Q){vo(this,Q)}};function vo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,Na(d),Un(d)}function Na(d){d.A||(d.A=!0,kt(d,"complete"),kt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,kt(this,"complete"),kt(this,"abort"),Un(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Un(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},t.bb=function(){Pu(this)};function Pu(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Pn(d)!=4||d.Z()!=2)){if(d.u&&Pn(d)==4)du(d.Ea,0,d);else if(kt(d,"readystatechange"),Pn(d)==4){d.h=!1;try{const oe=d.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var I;if(I=oe===0){var H=String(d.D).match(mo)[1]||null;!H&&u.self&&u.self.location&&(H=u.self.location.protocol.slice(0,-1)),I=!Np.test(H?H.toLowerCase():"")}E=I}if(E)kt(d,"complete"),kt(d,"success");else{d.m=6;try{var Q=2<Pn(d)?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.Z()+"]",Na(d)}}finally{Un(d)}}}}function Un(d,v){if(d.g){Va(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||kt(d,"ready");try{E.onreadystatechange=I}catch{}}}function Va(d){d.I&&(u.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Pn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),gu(v)}};function ku(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function La(d){const v={};d=(d.g&&2<=Pn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(F(d[I]))continue;var E=U(d[I]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=v[H]||[];v[H]=Q,Q.push(E)}M(v,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qi(d,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||v}function Ru(d){this.Aa=0,this.i=[],this.j=new uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qi("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qi("baseRetryDelayMs",5e3,d),this.cb=qi("retryDelaySeedMs",1e4,d),this.Wa=qi("forwardChannelMaxRetries",2,d),this.wa=qi("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new po(d&&d.concurrentRequestLimit),this.Da=new Op,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ru.prototype,t.la=8,t.G=1,t.connect=function(d,v,E,I){yt(0),this.W=d,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=Mh(this,null,this.W),Gi(this)};function Kt(d){if(Fa(d),d.G==3){var v=d.U++,E=Fn(d.I);if(Ke(E,"SID",d.K),Ke(E,"RID",v),Ke(E,"TYPE","terminate"),Pr(d,E),v=new wi(d,d.j,v),v.L=2,v.v=os(Fn(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=Oh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ye(v)}Dh(d)}function bi(d){d.g&&(Au(d),d.g.cancel(),d.g=null)}function Fa(d){bi(d),d.u&&(u.clearTimeout(d.u),d.u=null),za(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function Gi(d){if(!Ln(d.h)&&!d.s){d.s=!0;var v=d.Ga;Ce||le(),se||(Ce(),se=!0),ge.add(v,d),d.B=0}}function Vp(d,v){return wh(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=yi(w(d.Ga,d,v),Ah(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const H=new wi(this,this.j,d);let Q=this.o;if(this.S&&(Q?(Q=C(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(H.H=Q,Q=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=cs(this,H,v),E=Fn(this.I),Ke(E,"RID",d),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),Pr(this,E),Q&&(this.O?v="headers="+encodeURIComponent(String(Cr(Q)))+"&"+v:this.m&&us(E,this.m,Q)),bu(this.h,H),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",v),Ke(E,"SID","null"),H.T=!0,Aa(H,E,null)):Aa(H,E,v),this.G=2}}else this.G==3&&(d?Ua(this,d):this.i.length==0||Ln(this.h)||Ua(this))};function Ua(d,v){var E;v?E=v.l:E=d.U++;const I=Fn(d.I);Ke(I,"SID",d.K),Ke(I,"RID",E),Ke(I,"AID",d.T),Pr(d,I),d.m&&d.o&&us(I,d.m,d.o),E=new wi(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),v&&(d.i=v.D.concat(d.i)),v=cs(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),bu(d.h,E),Aa(E,I,v)}function Pr(d,v){d.H&&ne(d.H,function(E,I){Ke(v,I,E)}),d.l&&is({},function(E,I){Ke(v,I,E)})}function cs(d,v,E){E=Math.min(d.i.length,E);var I=d.l?w(d.l.Na,d.l,d):null;e:{var H=d.i;let Q=-1;for(;;){const oe=["count="+E];Q==-1?0<E?(Q=H[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let qe=!0;for(let Rt=0;Rt<E;Rt++){let Fe=H[Rt].g;const Lt=H[Rt].map;if(Fe-=Q,0>Fe)Q=Math.max(0,H[Rt].g-100),qe=!1;else try{Ph(Lt,oe,"req"+Fe+"_")}catch{I&&I(Lt)}}if(qe){I=oe.join("&");break e}}}return d=d.i.splice(0,E),v.D=d,I}function _o(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;Ce||le(),se||(Ce(),se=!0),ge.add(v,d),d.v=0}}function ja(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=yi(w(d.Fa,d),Ah(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Rh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=yi(w(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),bi(this),Rh(this))};function Au(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Rh(d){d.g=new wi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=Fn(d.qa);Ke(v,"RID","rpc"),Ke(v,"SID",d.K),Ke(v,"AID",d.T),Ke(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(v,"TO",d.ja),Ke(v,"TYPE","xmlhttp"),Pr(d,v),d.m&&d.o&&us(v,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=os(Fn(v)),E.m=null,E.P=!0,xu(E,d)}t.Za=function(){this.C!=null&&(this.C=null,bi(this),ja(this),yt(19))};function za(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function Ba(d,v){var E=null;if(d.g==v){za(d),Au(d),d.g=null;var I=2}else if(wn(d.h,v))E=v.D,Eh(d.h,v),I=1;else return;if(d.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var H=d.B;I=lo(),kt(I,new Ca(I,E)),Gi(d)}else _o(d);else if(H=v.s,H==3||H==0&&0<v.X||!(I==1&&Vp(d,v)||I==2&&ja(d)))switch(E&&0<E.length&&(v=d.h,v.i=v.i.concat(E)),H){case 1:kr(d,5);break;case 4:kr(d,10);break;case 3:kr(d,6);break;default:kr(d,2)}}}function Ah(d,v){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*v}function kr(d,v){if(d.j.info("Error code "+v),v==2){var E=w(d.fb,d),I=d.Xa;const H=!I;I=new br(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||go(I,"https"),os(I),H?Mp(I.toString(),E):Ch(I.toString(),E)}else yt(2);d.G=0,d.l&&d.l.sa(v),Dh(d),Fa(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Dh(d){if(d.G=0,d.ka=[],d.l){const v=Th(d.h);(v.length!=0||d.i.length!=0)&&(b(d.ka,v),b(d.ka,d.i),d.h.i.length=0,P(d.i),d.i.length=0),d.l.ra()}}function Mh(d,v,E){var I=E instanceof br?Fn(E):new br(E);if(I.g!="")v&&(I.g=v+"."+I.g),rs(I,I.s);else{var H=u.location;I=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;var Q=new br(null);I&&go(Q,I),v&&(Q.g=v),H&&rs(Q,H),E&&(Q.l=E),I=Q}return E=d.D,v=d.ya,E&&v&&Ke(I,E,v),Ke(I,"VER",d.la),Pr(d,I),I}function Oh(d,v,E){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new rt(new Ir({eb:E})):new rt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}t=Du.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $a(){}$a.prototype.g=function(d,v){return new En(d,v)};function En(d,v){Pt.call(this),this.g=new Ru(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!F(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new Ki(this)}S(En,Pt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Kt(this.g)},En.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=mu(d),d=E);v.i.push(new _h(v.Ya++,d)),v.G==3&&Gi(v)},En.prototype.N=function(){this.g.l=null,delete this.j,Kt(this.g),delete this.g,En.aa.N.call(this)};function Nh(d){Bi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const E in v){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}S(Nh,Bi);function Vh(){Ia.call(this),this.status=1}S(Vh,Ia);function Ki(d){this.g=d}S(Ki,Du),Ki.prototype.ua=function(){kt(this.g,"a")},Ki.prototype.ta=function(d){kt(this.g,new Nh(d))},Ki.prototype.sa=function(d){kt(this.g,new Vh)},Ki.prototype.ra=function(){kt(this.g,"b")},$a.prototype.createWebChannel=$a.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,JS=function(){return new $a},YS=function(){return lo()},XS=$i,uy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ka.NO_ERROR=0,ka.TIMEOUT=8,ka.HTTP_ERROR=6,tf=ka,mh.COMPLETE="complete",QS=mh,ba.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Pt.prototype.listen=Pt.prototype.K,uc=ba,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,KS=rt}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",AE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new hv("@firebase/firestore");function pl(){return ta.logLevel}function ce(t,...e){if(ta.logLevel<=De.DEBUG){const n=e.map(pv);ta.debug(`Firestore (${eu}): ${t}`,...n)}}function Qr(t,...e){if(ta.logLevel<=De.ERROR){const n=e.map(pv);ta.error(`Firestore (${eu}): ${t}`,...n)}}function Ll(t,...e){if(ta.logLevel<=De.WARN){const n=e.map(pv);ta.warn(`Firestore (${eu}): ${t}`,...n)}}function pv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,ZS(t,i,n)}function ZS(t,e,n){let i=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Qr(i),new Error(i)}function We(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||ZS(e,r,i)}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class d4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class p4{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let i=this.i;const r=h=>this.i!==i?(i=this.i,n(h)):Promise.resolve();let o=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new $r,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await r(this.currentUser)})},u=h=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new $r)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(We(typeof i.accessToken=="string",31837,{l:i}),new eb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class m4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const i=o=>{o.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=v4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%62))}return i}}function Me(t,e){return t<e?-1:t>e?1:0}function cy(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),o=e.charAt(i);if(r!==o)return pg(r)===pg(o)?Me(r,o):pg(r)?1:-1}return Me(t.length,e.length)}const _4=55296,w4=57343;function pg(t){const e=t.charCodeAt(0);return e>=_4&&e<=w4}function Fl(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="__name__";class er{constructor(e,n,i){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Se(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const o=er.compareSegments(e.get(r),n.get(r));if(o!==0)return o}return Me(e.length,n.length)}static compareSegments(e,n){const i=er.isNumericId(e),r=er.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?er.extractNumericId(e).compare(er.extractNumericId(n)):cy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fs.fromString(e.substring(4,e.length-2))}}class tt extends er{construct(e,n,i){return new tt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends er{construct(e,n,i){return new en(e,n,i)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new en([ME])}static fromServerFormat(e){const n=[];let i="",r=0;const o=()=>{if(i.length===0)throw new pe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const u=e[r];if(u==="\\"){if(r+1===e.length)throw new pe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[r+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new pe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=h,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new pe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e,n){if(!n)throw new pe(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function T4(t,e,n,i){if(e===!0&&i===!0)throw new pe(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OE(t){if(!_e.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(_e.isDocumentKey(t))throw new pe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function gv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Se(12329,{type:typeof t})}function na(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gv(t);throw new pe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t,e){const n={typeString:t};return e&&(n.value=e),n}function eh(t,e){if(!nb(t))throw new pe(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const l=t[i];if(r&&typeof l!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${i}' field to equal '${o.value}'`;break}}if(n)throw new pe(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=-62135596800,LE=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*LE);return new nt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VE)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LE}_compareTo(e){return this.seconds===e.seconds?Me(this.nanoseconds,e.nanoseconds):Me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(eh(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:It("string",nt._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new nt(0,0))}static max(){return new Ie(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=-1;function x4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=Ie.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new $s(r,_e.empty(),e)}function S4(t){return new $s(t.readTime,t.key,Ac)}class $s{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new $s(Ie.min(),_e.empty(),Ac)}static max(){return new $s(Ie.max(),_e.empty(),Ac)}}function b4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==I4)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,i)=>{n(e)})}static reject(e){return new Y((n,i)=>{i(e)})}static waitFor(e){return new Y((n,i)=>{let r=0,o=0,l=!1;e.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&n()},h=>i(h))}),l=!0,o===r&&n()})}static or(e){let n=Y.resolve(!1);for(const i of e)n=n.next(r=>r?Y.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new Y((i,r)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const f=h;n(e[f]).next(m=>{l[f]=m,++u,u===o&&i(l)},m=>r(m))}})}static doWhile(e,n){return new Y((i,r)=>{const o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}}function P4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ip.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-1;function rp(t){return t==null}function Ef(t){return t===0&&1/t==-1/0}function k4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="";function R4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FE(e)),e=A4(t.get(n),e);return FE(e)}function A4(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const o=t.charAt(r);switch(o){case"\0":n+="";break;case ib:n+="";break;default:n+=o}}return n}function FE(t){return t+ib+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dd(this.root,e,this.comparator,!0)}}class Dd{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??Zt.RED,this.left=r??Zt.EMPTY,this.right=o??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new Zt(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Zt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,i,r,o){return this}insert(e,n,i){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new Nt(en.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new sb("Invalid base64 string: "+o):o}}(e);return new tn(n)}static fromUint8Array(e){const n=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hs(t){if(We(!!t,39018),typeof t=="string"){let e=0;const n=D4.exec(t);if(We(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?tn.fromBase64String(t):tn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="server_timestamp",ab="__type__",lb="__previous_value__",ub="__local_write_time__";function vv(t){return(t?.mapValue?.fields||{})[ab]?.stringValue===ob}function sp(t){const e=t.mapValue.fields[lb];return vv(e)?sp(e):e}function Dc(t){const e=Hs(t.mapValue.fields[ub].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e,n,i,r,o,l,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Tf="(default)";class Mc{constructor(e,n){this.projectId=e,this.database=n||Tf}static empty(){return new Mc("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__type__",O4="__max__",Md={mapValue:{}},hb="__vector__",xf="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vv(t)?4:V4(t)?9007199254740991:N4(t)?10:11:Se(28295,{value:t})}function pr(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dc(t).isEqual(Dc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Hs(r.timestampValue),u=Hs(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return Ws(r.bytesValue).isEqual(Ws(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return wt(r.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(r.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return wt(r.integerValue)===wt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=wt(r.doubleValue),u=wt(o.doubleValue);return l===u?Ef(l)===Ef(u):isNaN(l)&&isNaN(u)}return!1}(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(UE(l)!==UE(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!pr(l[h],u[h])))return!1;return!0}(t,e);default:return Se(52216,{left:t})}}function Oc(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=qs(t),i=qs(e);if(n!==i)return Me(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Me(t.booleanValue,e.booleanValue);case 2:return function(o,l){const u=wt(o.integerValue||o.doubleValue),h=wt(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(t,e);case 3:return zE(t.timestampValue,e.timestampValue);case 4:return zE(Dc(t),Dc(e));case 5:return cy(t.stringValue,e.stringValue);case 6:return function(o,l){const u=Ws(o),h=Ws(l);return u.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=Me(u[f],h[f]);if(m!==0)return m}return Me(u.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Me(wt(o.latitude),wt(l.latitude));return u!==0?u:Me(wt(o.longitude),wt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return BE(t.arrayValue,e.arrayValue);case 10:return function(o,l){const u=o.fields||{},h=l.fields||{},f=u[xf]?.arrayValue,m=h[xf]?.arrayValue,y=Me(f?.values?.length||0,m?.values?.length||0);return y!==0?y:BE(f,m)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===Md.mapValue&&l===Md.mapValue)return 0;if(o===Md.mapValue)return 1;if(l===Md.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),f=l.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let y=0;y<h.length&&y<m.length;++y){const w=cy(h[y],m[y]);if(w!==0)return w;const T=Ul(u[h[y]],f[m[y]]);if(T!==0)return T}return Me(h.length,m.length)}(t.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function zE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Me(t,e);const n=Hs(t),i=Hs(e),r=Me(n.seconds,i.seconds);return r!==0?r:Me(n.nanos,i.nanos)}function BE(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const o=Ul(n[r],i[r]);if(o)return o}return Me(n.length,i.length)}function jl(t){return hy(t)}function hy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Hs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const o of n.values||[])r?r=!1:i+=",",i+=hy(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${hy(n.fields[l])}`;return r+"}"}(t.mapValue):Se(61005,{value:t})}function nf(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sp(t);return e?16+nf(e):16;case 5:return 2*t.stringValue.length;case 6:return Ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+nf(o),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return da(i.fields,(o,l)=>{r+=o.length+nf(l)}),r}(t.mapValue);default:throw Se(13486,{value:t})}}function dy(t){return!!t&&"integerValue"in t}function _v(t){return!!t&&"arrayValue"in t}function $E(t){return!!t&&"nullValue"in t}function HE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rf(t){return!!t&&"mapValue"in t}function N4(t){return(t?.mapValue?.fields||{})[cb]?.stringValue===hb}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return da(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=vc(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function V4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===O4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!rf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=en.emptyPath(),i={},r=[];e.forEach((l,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,i,r),i={},r=[],n=u.popLast()}l?i[u.lastSegment()]=vc(l):r.push(u.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){const n=this.field(e.popLast());rf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];rf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){da(n,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new di(vc(this.value))}}function db(t){const e=[];return da(t.fields,(n,i)=>{const r=new en([n]);if(rf(i)){const o=db(i.mapValue).fields;if(o.length===0)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Ni(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,i,r,o,l,u){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new hn(e,0,Ie.min(),Ie.min(),Ie.min(),di.empty(),0)}static newFoundDocument(e,n,i,r){return new hn(e,1,n,Ie.min(),i,r,0)}static newNoDocument(e,n){return new hn(e,2,n,Ie.min(),Ie.min(),di.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ie.min(),Ie.min(),di.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const o=e[r],l=t.position[r];if(o.field.isKeyField()?i=_e.comparator(_e.fromName(l.referenceValue),n.key):i=Ul(l,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function qE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function L4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{}class Mt extends fb{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new U4(e,n,i):n==="array-contains"?new B4(e,i):n==="in"?new $4(e,i):n==="not-in"?new H4(e,i):n==="array-contains-any"?new W4(e,i):new Mt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new j4(e,i):new z4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ul(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends fb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mr(e,n)}matches(e){return pb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pb(t){return t.op==="and"}function mb(t){return F4(t)&&pb(t)}function F4(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function fy(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(mb(t))return t.filters.map(e=>fy(e)).join(",");{const e=t.filters.map(n=>fy(n)).join(",");return`${t.op}(${e})`}}function gb(t,e){return t instanceof Mt?function(i,r){return r instanceof Mt&&i.op===r.op&&i.field.isEqual(r.field)&&pr(i.value,r.value)}(t,e):t instanceof mr?function(i,r){return r instanceof mr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,l,u)=>o&&gb(l,r.filters[u]),!0):!1}(t,e):void Se(19439)}function yb(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(yb).join(" ,")+"}"}(t):"Filter"}class U4 extends Mt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class j4 extends Mt{constructor(e,n){super(e,"in",n),this.keys=vb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z4 extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=vb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vb(t,e){return(e.arrayValue?.values||[]).map(n=>_e.fromName(n.referenceValue))}class B4 extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _v(n)&&Oc(n.arrayValue,this.value)}}class $4 extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Oc(this.value.arrayValue,n)}}class H4 extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Oc(this.value.arrayValue,n)}}class W4 extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_v(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Oc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n=null,i=[],r=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function GE(t,e=null,n=[],i=[],r=null,o=null,l=null){return new q4(t,e,n,i,r,o,l)}function wv(t){const e=Pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),rp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jl(i)).join(",")),e.Te=n}return e.Te}function Ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qE(t.startAt,e.startAt)&&qE(t.endAt,e.endAt)}function py(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n=null,i=[],r=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G4(t,e,n,i,r,o,l,u){return new op(t,e,n,i,r,o,l,u)}function Tv(t){return new op(t)}function KE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K4(t){return t.collectionGroup!==null}function _c(t){const e=Pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Nt(en.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new bf(o,i))}),n.has(en.keyField().canonicalString())||e.Ie.push(new bf(en.keyField(),i))}return e.Ie}function rr(t){const e=Pe(t);return e.Ee||(e.Ee=Q4(e,_c(t))),e.Ee}function Q4(t,e){if(t.limitType==="F")return GE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new bf(r.field,o)});const n=t.endAt?new Sf(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Sf(t.startAt.position,t.startAt.inclusive):null;return GE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function my(t,e,n){return new op(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ap(t,e){return Ev(rr(t),rr(e))&&t.limitType===e.limitType}function _b(t){return`${wv(rr(t))}|lt:${t.limitType}`}function ml(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>yb(r)).join(", ")}]`),rp(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>jl(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>jl(r)).join(",")),`Target(${i})`}(rr(t))}; limitType=${t.limitType})`}function lp(t,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):_e.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(const o of _c(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(l,u,h){const f=WE(l,u,h);return l.inclusive?f<=0:f<0}(i.startAt,_c(i),r)||i.endAt&&!function(l,u,h){const f=WE(l,u,h);return l.inclusive?f>=0:f>0}(i.endAt,_c(i),r))}(t,e)}function X4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wb(t){return(e,n)=>{let i=!1;for(const r of _c(t)){const o=Y4(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Y4(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,l,u){const h=l.data.field(o),f=u.data.field(o);return h!==null&&f!==null?Ul(h,f):Se(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(n,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new ht(_e.comparator);function Xr(){return J4}const Eb=new ht(_e.comparator);function cc(...t){let e=Eb;for(const n of t)e=e.insert(n.key,n);return e}function Tb(t){let e=Eb;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function $o(){return wc()}function xb(){return wc()}function wc(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z4=new ht(_e.comparator),eM=new Nt(_e.comparator);function Ne(...t){let e=eM;for(const n of t)e=e.add(n);return e}const tM=new Nt(Me);function nM(){return tM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ef(e)?"-0":e}}function Sb(t){return{integerValue:""+t}}function iM(t,e){return k4(e)?Sb(e):xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this._=void 0}}function rM(t,e,n){return t instanceof Nc?function(r,o){const l={fields:{[ab]:{stringValue:ob},[ub]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&vv(o)&&(o=sp(o)),o&&(l.fields[lb]=o),{mapValue:l}}(n,e):t instanceof Vc?Ib(t,e):t instanceof Lc?Cb(t,e):function(r,o){const l=bb(r,o),u=QE(l)+QE(r.Ae);return dy(l)&&dy(r.Ae)?Sb(u):xv(r.serializer,u)}(t,e)}function sM(t,e,n){return t instanceof Vc?Ib(t,e):t instanceof Lc?Cb(t,e):n}function bb(t,e){return t instanceof If?function(i){return dy(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}class Nc extends up{}class Vc extends up{constructor(e){super(),this.elements=e}}function Ib(t,e){const n=Pb(e);for(const i of t.elements)n.some(r=>pr(r,i))||n.push(i);return{arrayValue:{values:n}}}class Lc extends up{constructor(e){super(),this.elements=e}}function Cb(t,e){let n=Pb(e);for(const i of t.elements)n=n.filter(r=>!pr(r,i));return{arrayValue:{values:n}}}class If extends up{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QE(t){return wt(t.integerValue||t.doubleValue)}function Pb(t){return _v(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.field=e,this.transform=n}}function aM(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Vc&&r instanceof Vc||i instanceof Lc&&r instanceof Lc?Fl(i.elements,r.elements,pr):i instanceof If&&r instanceof If?pr(i.Ae,r.Ae):i instanceof Nc&&r instanceof Nc}(t.transform,e.transform)}class lM{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cp{}function kb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,sr.none()):new th(t.key,t.data,sr.none());{const n=t.data,i=di.empty();let r=new Nt(en.comparator);for(let o of e.fields)if(!r.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new pa(t.key,i,new Ni(r.toArray()),sr.none())}}function uM(t,e,n){t instanceof th?function(r,o,l){const u=r.value.clone(),h=YE(r.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):t instanceof pa?function(r,o,l){if(!sf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=YE(r.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Rb(r)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,i){return t instanceof th?function(o,l,u,h){if(!sf(o.precondition,l))return u;const f=o.value.clone(),m=JE(o.fieldTransforms,h,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,i):t instanceof pa?function(o,l,u,h){if(!sf(o.precondition,l))return u;const f=JE(o.fieldTransforms,h,l),m=l.data;return m.setAll(Rb(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,i):function(o,l,u){return sf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(t,e,n)}function cM(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),o=bb(i.transform,r||null);o!=null&&(n===null&&(n=di.empty()),n.set(i.field,o))}return n||null}function XE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Fl(i,r,(o,l)=>aM(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class th extends cp{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class pa extends cp{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Rb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function YE(t,e,n){const i=new Map;We(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const o=t[r],l=o.transform,u=e.data.field(o.field);i.set(o.field,sM(l,u,n[r]))}return i}function JE(t,e,n){const i=new Map;for(const r of t){const o=r.transform,l=n.data.field(r.field);i.set(r.field,rM(o,l,e))}return i}class Sv extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hM extends cp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&uM(o,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ec(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ec(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=xb();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=n.has(r.key)?null:u;const h=kb(l,u);h!==null&&i.set(r.key,h),l.isValidDocument()||l.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ne())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,(n,i)=>XE(n,i))&&Fl(this.baseMutations,e.baseMutations,(n,i)=>XE(n,i))}}class bv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){We(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return Z4}();const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new bv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Ue;function mM(t){switch(t){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:t})}}function Ab(t){if(t===void 0)return Qr("GRPC error has no .code"),Z.UNKNOWN;switch(t){case St.OK:return Z.OK;case St.CANCELLED:return Z.CANCELLED;case St.UNKNOWN:return Z.UNKNOWN;case St.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case St.INTERNAL:return Z.INTERNAL;case St.UNAVAILABLE:return Z.UNAVAILABLE;case St.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case St.NOT_FOUND:return Z.NOT_FOUND;case St.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case St.ABORTED:return Z.ABORTED;case St.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case St.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:t})}}(Ue=St||(St={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Fs([4294967295,4294967295],0);function ZE(t){const e=gM().encode(t),n=new GS;return n.update(e),new Uint8Array(n.digest())}function e1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Fs([n,i],0),new Fs([r,o],0)]}class Iv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(i<0)throw new hc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fs.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Fs.fromNumber(i)));return r.compare(yM)===1&&(r=new Fs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ZE(e),[i,r]=e1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Iv(o,r,n);return i.forEach(u=>l.insert(u)),l}insert(e){if(this.ge===0)return;const n=ZE(e),[i,r]=e1(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,nh.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new hp(Ie.min(),r,new ht(Me),Xr(),Ne())}}class nh{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new nh(i,n,Ne(),Ne(),Ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class Db{constructor(e,n){this.targetId=e,this.Ce=n}}class Mb{constructor(e,n,i=tn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class t1{constructor(){this.ve=0,this.Fe=n1(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ne(),n=Ne(),i=Ne();return this.Fe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Se(38017,{changeType:o})}}),new nh(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=n1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xr(),this.Je=Od(),this.He=Od(),this.Ye=new ht(Me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const o=r.target;if(py(o))if(i===0){const l=new _e(o.path);this.et(n,l,hn.newNoDocument(l,Ie.min()))}else We(i===1,20013,{expectedCount:i});else{const l=this._t(n);if(l!==i){const u=this.ut(e),h=u?this.ct(u,e,l):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n;let l,u;try{l=Ws(i).toUint8Array()}catch(h){if(h instanceof sb)return Ll("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Iv(l,r,o)}catch(h){return Ll(h instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((o,l)=>{const u=this.ot(l);if(u){if(o.current&&py(u.target)){const h=new _e(u.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,hn.newNoDocument(h,e))}o.Be&&(n.set(l,o.ke()),o.qe())}});let i=Ne();this.He.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.je.forEach((o,l)=>l.setReadTime(e));const r=new hp(e,n,this.Ye,this.je,i);return this.je=Xr(),this.Je=Od(),this.He=Od(),this.Ye=new ht(Me),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new t1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new t1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Od(){return new ht(_e.comparator)}function n1(){return new ht(_e.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},wM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EM={and:"AND",or:"OR"};class TM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gy(t,e){return t.useProto3Json||rp(e)?e:{value:e}}function Cf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ob(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xM(t,e){return Cf(t,e.toTimestamp())}function or(t){return We(!!t,49232),Ie.fromTimestamp(function(n){const i=Hs(n);return new nt(i.seconds,i.nanos)}(t))}function Cv(t,e){return yy(t,e).canonicalString()}function yy(t,e){const n=function(r){return new tt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Nb(t){const e=tt.fromString(t);return We(jb(e),10190,{key:e.toString()}),e}function vy(t,e){return Cv(t.databaseId,e.path)}function mg(t,e){const n=Nb(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Lb(n))}function Vb(t,e){return Cv(t.databaseId,e)}function SM(t){const e=Nb(t);return e.length===4?tt.emptyPath():Lb(e)}function _y(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Lb(t){return We(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function i1(t,e,n){return{name:vy(t,e),fields:n.value.mapValue.fields}}function bM(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Se(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(We(m===void 0||typeof m=="string",58123),tn.fromBase64String(m||"")):(We(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),tn.fromUint8Array(m||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?Z.UNKNOWN:Ab(f.code);return new pe(m,f.message||"")}(l);n=new Mb(i,r,o,u||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=mg(t,i.document.name),o=or(i.document.updateTime),l=i.document.createTime?or(i.document.createTime):Ie.min(),u=new di({mapValue:{fields:i.document.fields}}),h=hn.newFoundDocument(r,o,l,u),f=i.targetIds||[],m=i.removedTargetIds||[];n=new of(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=mg(t,i.document),o=i.readTime?or(i.readTime):Ie.min(),l=hn.newNoDocument(r,o),u=i.removedTargetIds||[];n=new of([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=mg(t,i.document),o=i.removedTargetIds||[];n=new of([],o,r,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new pM(r,o),u=i.targetId;n=new Db(u,l)}}return n}function IM(t,e){let n;if(e instanceof th)n={update:i1(t,e.key,e.value)};else if(e instanceof Sv)n={delete:vy(t,e.key)};else if(e instanceof pa)n={update:i1(t,e.key,e.data),updateMask:NM(e.fieldMask)};else{if(!(e instanceof hM))return Se(16599,{Vt:e.type});n={verify:vy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof Nc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Lc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof If)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Se(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:xM(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Se(27497)}(t,e.precondition)),n}function CM(t,e){return t&&t.length>0?(We(e!==void 0,14353),t.map(n=>function(r,o){let l=r.updateTime?or(r.updateTime):or(o);return l.isEqual(Ie.min())&&(l=or(o)),new lM(l,r.transformResults||[])}(n,e))):[]}function PM(t,e){return{documents:[Vb(t,e.path)]}}function kM(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Vb(t,r);const o=function(f){if(f.length!==0)return Ub(mr.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(w){return{field:gl(w.field),direction:DM(w.dir)}}(m))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const u=gy(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ft:n,parent:r}}function RM(t){let e=SM(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){We(i===1,65062);const m=n.from[0];m.allDescendants?r=m.collectionId:e=e.child(m.collectionId)}let o=[];n.where&&(o=function(y){const w=Fb(y);return w instanceof mr&&mb(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(S){return new bf(yl(S.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let u=null;n.limit&&(u=function(y){let w;return w=typeof y=="object"?y.value:y,rp(w)?null:w}(n.limit));let h=null;n.startAt&&(h=function(y){const w=!!y.before,T=y.values||[];return new Sf(T,w)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const w=!y.before,T=y.values||[];return new Sf(T,w)}(n.endAt)),G4(e,r,l,o,u,"F",h,f)}function AM(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Fb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=yl(n.unaryFilter.field);return Mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=yl(n.unaryFilter.field);return Mt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yl(n.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=yl(n.unaryFilter.field);return Mt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(yl(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(i=>Fb(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(t):Se(30097,{filter:t})}function DM(t){return _M[t]}function MM(t){return wM[t]}function OM(t){return EM[t]}function gl(t){return{fieldPath:t.canonicalString()}}function yl(t){return en.fromServerFormat(t.fieldPath)}function Ub(t){return t instanceof Mt?function(n){if(n.op==="=="){if(HE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if($E(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HE(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if($E(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:MM(n.op),value:n.value}}}(t):t instanceof mr?function(n){const i=n.getFilters().map(r=>Ub(r));return i.length===1?i[0]:{compositeFilter:{op:OM(n.op),filters:i}}}(t):Se(54877,{filter:t})}function NM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,i,r,o=Ie.min(),l=Ie.min(),u=tn.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.yt=e}}function LM(t){const e=RM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?my(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.Cn=new UM}addToCollectionParentIndex(e,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve($s.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve($s.min())}updateCollectionGroup(e,n,i){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class UM{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Nt(tt.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zb=41943040;class Vn{static withCacheSize(e){return new Vn(e,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(zb,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new zl(0)}static cr(){return new zl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="LruGarbageCollector",jM=1048576;function o1([t,e],[n,i]){const r=Me(t,n);return r===0?Me(e,i):r}class zM{constructor(e){this.Ir=e,this.buffer=new Nt(o1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();o1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BM{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(s1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nu(n)?ce(s1,"Ignoring IndexedDB error during garbage collection: ",n):await tu(n)}await this.Vr(3e5)})}}class $M{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Y.resolve(ip.ce);const i=new zM(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(r1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,o,l,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(e,r))).next(y=>(i=y,u=Date.now(),this.removeTargets(e,i,n))).next(y=>(o=y,h=Date.now(),this.removeOrphanedDocuments(e,i))).next(y=>(f=Date.now(),pl()<=De.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${y} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y})))}}function HM(t,e){return new $M(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Y.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ec(i.mutation,r,Ni.empty(),nt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ne()){const r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let l=cc();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=$o();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ne()))}populateOverlays(e,n,i){const r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,u)=>{n.set(l,u)})})}computeViews(e,n,i,r){let o=Xr();const l=wc(),u=function(){return wc()}();return n.forEach((h,f)=>{const m=i.get(f.key);r.has(f.key)&&(m===void 0||m.mutation instanceof pa)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),Ec(m.mutation,f,m.mutation.getFieldMask(),nt.now())):l.set(f.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((f,m)=>l.set(f,m)),n.forEach((f,m)=>u.set(f,new qM(m,l.get(f)??null))),u))}recalculateAndSaveOverlays(e,n){const i=wc();let r=new ht((l,u)=>l-u),o=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const u of l)u.keys().forEach(h=>{const f=n.get(h);if(f===null)return;let m=i.get(h)||Ni.empty();m=u.applyToLocalView(f,m),i.set(h,m);const y=(r.get(u.batchId)||Ne()).add(h);r=r.insert(u.batchId,y)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,y=xb();m.forEach(w=>{if(!o.has(w)){const T=kb(n.get(w),i.get(w));T!==null&&y.set(w,T),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Y.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(l){return _e.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):Y.resolve($o());let u=Ac,h=o;return l.next(f=>Y.forEach(f,(m,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(m)?Y.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{h=h.insert(m,w)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,h,f,Ne())).next(m=>({batchId:u,changes:Tb(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let r=cc();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const o=n.collectionGroup;let l=cc();return this.indexManager.getCollectionParents(e,o).next(u=>Y.forEach(u,h=>{const f=function(y,w){return new op(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,i,r).next(m=>{m.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(l=>{o.forEach((h,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,hn.newInvalidDocument(m)))});let u=cc();return l.forEach((h,f)=>{const m=o.get(h);m!==void 0&&Ec(m.mutation,f,Ni.empty(),nt.now()),lp(n,f)&&(u=u.insert(h,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:or(r.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:LM(r.bundledQuery),readTime:or(r.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.overlays=new ht(_e.comparator),this.qr=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const i=$o();return Y.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.St(e,n,o)}),Y.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(i)),Y.resolve()}getOverlaysForCollection(e,n,i){const r=$o(),o=n.length+1,l=new _e(n.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&h.largestBatchId>i&&r.set(h.getKey(),h)}return Y.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new ht((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>i){let m=o.get(f.largestBatchId);m===null&&(m=$o(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=$o(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=r)););return Y.resolve(u)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new fM(n,i));let o=this.qr.get(n);o===void 0&&(o=Ne(),this.qr.set(n,o)),this.qr.set(n,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Qr=new Nt(zt.$r),this.Ur=new Nt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new zt(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new _e(new tt([])),i=new zt(n,e),r=new zt(n,e+1),o=[];return this.Ur.forEachInRange([i,r],l=>{this.Gr(l),o.push(l.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new tt([])),i=new zt(n,e),r=new zt(n,e+1);let o=Ne();return this.Ur.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new zt(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Me(e.Yr,n.Yr)}static Kr(e,n){return Me(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(zt.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new dM(o,n,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new zt(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Y.resolve(l)}lookupMutationBatch(e,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),o=r<0?0:r;return Y.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?yv:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new zt(n,0),r=new zt(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],l=>{const u=this.Xr(l.Yr);o.push(u)}),Y.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Nt(Me);return n.forEach(r=>{const o=new zt(r,0),l=new zt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],u=>{i=i.add(u.Yr)})}),Y.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let o=i;_e.isDocumentKey(o)||(o=o.child(""));const l=new zt(new _e(o),0);let u=new Nt(Me);return this.Zr.forEachWhile(h=>{const f=h.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(h.Yr)),!0)},l),Y.resolve(this.ti(u))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Y.forEach(n.mutations,r=>{const o=new zt(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new zt(n,0),r=this.Zr.firstAfterOrEqual(i);return Y.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.ri=e,this.docs=function(){return new ht(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Y.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let i=Xr();return n.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():hn.newInvalidDocument(r))}),Y.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=Xr();const l=n.path,u=new _e(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||b4(S4(m),i)<=0||(r.has(m.key)||lp(n,m))&&(o=o.insert(m.key,m.mutableCopy()))}return Y.resolve(o)}getAllFromCollectionGroup(e,n,i,r){Se(9500)}ii(e,n){return Y.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new ZM(this)}getSize(e){return Y.resolve(this.size)}}class ZM extends WM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),Y.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.persistence=e,this.si=new fa(n=>wv(n),Ev),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Pv,this.targetCount=0,this.ai=zl.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),Y.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new zl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Pr(n),Y.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,i){let r=0;const o=[];return this.si.forEach((l,u)=>{u.sequenceNumber<=n&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),r++)}),Y.waitFor(o).next(()=>r)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return Y.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),Y.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),Y.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return Y.resolve(i)}containsKey(e,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.ui={},this.overlays={},this.ci=new ip(0),this.li=!1,this.li=!0,this.hi=new XM,this.referenceDelegate=e(this),this.Pi=new eO(this),this.indexManager=new FM,this.remoteDocumentCache=function(r){return new JM(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new VM(n),this.Ii=new KM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new QM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new YM(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){ce("MemoryPersistence","Starting transaction:",e);const r=new tO(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(o=>this.referenceDelegate.di(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ai(e,n){return Y.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class tO extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class kv{constructor(e){this.persistence=e,this.Ri=new Pv,this.Vi=null}static mi(e){return new kv(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),Y.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.fi.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,i=>{const r=_e.fromPath(i);return this.gi(e,r).next(o=>{o||n.removeEntry(r,Ie.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Pf{constructor(e,n){this.persistence=e,this.pi=new fa(i=>R4(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=HM(this,n)}static mi(e,n){return new Pf(e,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return Y.forEach(this.pi,(i,r)=>this.br(e,i,r).next(o=>o?Y.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(e,l=>this.br(e,l,n).next(u=>{u||(i++,o.removeEntry(l,Ie.min()))})).next(()=>o.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nf(e.data.value)),n}br(e,n,i){return Y.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return Y.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=Ne(),r=Ne();for(const o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Rv(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return q2()?8:P4(yn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const o={result:null};return this.ys(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ws(e,n,r,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new nO;return this.Ss(e,n,l).next(u=>{if(o.result=u,this.Vs)return this.bs(e,n,l,u.size)})}).next(()=>o.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(pl()<=De.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ml(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(pl()<=De.DEBUG&&ce("QueryEngine","Query:",ml(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(pl()<=De.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ml(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rr(n))):Y.resolve())}ys(e,n){if(KE(n))return Y.resolve(null);let i=rr(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=my(n,null,"F"),i=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=Ne(...o);return this.ps.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,i).next(h=>{const f=this.Ds(n,u);return this.Cs(n,f,l,h.readTime)?this.ys(e,my(n,null,"F")):this.vs(e,f,n,h)}))})))}ws(e,n,i,r){return KE(n)||r.isEqual(Ie.min())?Y.resolve(null):this.ps.getDocuments(e,i).next(o=>{const l=this.Ds(n,o);return this.Cs(n,l,i,r)?Y.resolve(null):(pl()<=De.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ml(n)),this.vs(e,l,n,x4(r,Ac)).next(u=>u))})}Ds(e,n){let i=new Nt(wb(e));return n.forEach((r,o)=>{lp(e,o)&&(i=i.add(o))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(e,n,i){return pl()<=De.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ml(n)),this.ps.getDocumentsMatchingQuery(e,n,$s.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LocalStore",rO=3e8;class sO{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new ht(Me),this.xs=new fa(o=>wv(o),Ev),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function oO(t,e,n,i){return new sO(t,e,n,i)}async function $b(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let h=Ne();for(const f of r){l.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(i,h).next(f=>({Ls:f,removedBatchIds:l,addedBatchIds:u}))})})}function aO(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(u,h,f,m){const y=f.batch,w=y.keys();let T=Y.resolve();return w.forEach(S=>{T=T.next(()=>m.getEntry(h,S)).next(P=>{const b=f.docVersions.get(S);We(b!==null,48541),P.version.compareTo(b)<0&&(y.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),m.addEntry(P)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(h,y))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Ne();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function Hb(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lO(t,e){const n=Pe(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const u=[];e.targetChanges.forEach((m,y)=>{const w=r.get(y);if(!w)return;u.push(n.Pi.removeMatchingKeys(o,m.removedDocuments,y).next(()=>n.Pi.addMatchingKeys(o,m.addedDocuments,y)));let T=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(tn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,i)),r=r.insert(y,T),function(P,b,A){return P.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=rO?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0}(w,T,m)&&u.push(n.Pi.updateTargetData(o,T))});let h=Xr(),f=Ne();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(uO(o,l,e.documentUpdates).next(m=>{h=m.ks,f=m.qs})),!i.isEqual(Ie.min())){const m=n.Pi.getLastRemoteSnapshotVersion(o).next(y=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(m)}return Y.waitFor(u).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,h,f)).next(()=>h)}).then(o=>(n.Ms=r,o))}function uO(t,e,n){let i=Ne(),r=Ne();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let l=Xr();return n.forEach((u,h)=>{const f=o.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),h.isNoDocument()&&h.version.isEqual(Ie.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):ce(Av,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)}),{ks:l,qs:r}})}function cO(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=yv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function hO(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(o=>o?(r=o,Y.resolve(r)):n.Pi.allocateTargetId(i).next(l=>(r=new Ms(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function wy(t,e,n){const i=Pe(t),r=i.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r))}catch(l){if(!nu(l))throw l;ce(Av,`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function a1(t,e,n){const i=Pe(t);let r=Ie.min(),o=Ne();return i.persistence.runTransaction("Execute query","readwrite",l=>function(h,f,m){const y=Pe(h),w=y.xs.get(m);return w!==void 0?Y.resolve(y.Ms.get(w)):y.Pi.getTargetData(f,m)}(i,l,rr(e)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>i.Fs.getDocumentsMatchingQuery(l,e,n?r:Ie.min(),n?o:Ne())).next(u=>(dO(i,X4(e),u),{documents:u,Qs:o})))}function dO(t,e,n){let i=t.Os.get(e)||Ie.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.Os.set(e,i)}class l1{constructor(){this.activeTargetIds=nM()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.Mo=new l1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new l1,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="ConnectivityMonitor";class c1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(u1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(u1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=null;function Ey(){return Nd===null?Nd=function(){return 268435456+Math.round(2147483648*Math.random())}():Nd++,"0x"+Nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Tf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,o){const l=Ey(),u=this.zo(e,n.toUriEncodedString());ce(gg,`Sending RPC '${e}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,r,o);const{host:f}=new URL(u),m=Zs(f);return this.Jo(e,u,h,i,m).then(y=>(ce(gg,`Received RPC '${e}' ${l}: `,y),y),y=>{throw Ll(gg,`RPC '${e}' ${l} failed with error: `,y,"url: ",u,"request:",i),y})}Ho(e,n,i,r,o,l){return this.Go(e,n,i,r,o)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}zo(e,n){const i=mO[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class vO extends gO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,o){const l=Ey();return new Promise((u,h)=>{const f=new KS;f.setWithCredentials(!0),f.listenOnce(QS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case tf.NO_ERROR:const y=f.getResponseJson();ce(an,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),u(y);break;case tf.TIMEOUT:ce(an,`RPC '${e}' ${l} timed out`),h(new pe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case tf.HTTP_ERROR:const w=f.getStatus();if(ce(an,`RPC '${e}' ${l} failed with status:`,w,"response text:",f.getResponseText()),w>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T?.error;if(S&&S.status&&S.message){const P=function(A){const F=A.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(F)>=0?F:Z.UNKNOWN}(S.status);h(new pe(P,S.message))}else h(new pe(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new pe(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{ce(an,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(r);ce(an,`RPC '${e}' ${l} sending request:`,r),f.send(n,"POST",m,i,15)})}T_(e,n,i){const r=Ey(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=JS(),u=YS(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,i),h.encodeInitMessageHeaders=!0;const m=o.join("");ce(an,`Creating RPC '${e}' stream ${r}: ${m}`,h);const y=l.createWebChannel(m,h);this.I_(y);let w=!1,T=!1;const S=new yO({Yo:b=>{T?ce(an,`Not sending because RPC '${e}' stream ${r} is closed:`,b):(w||(ce(an,`Opening RPC '${e}' stream ${r} transport.`),y.open(),w=!0),ce(an,`RPC '${e}' stream ${r} sending:`,b),y.send(b))},Zo:()=>y.close()}),P=(b,A,F)=>{b.listen(A,z=>{try{F(z)}catch(q){setTimeout(()=>{throw q},0)}})};return P(y,uc.EventType.OPEN,()=>{T||(ce(an,`RPC '${e}' stream ${r} transport opened.`),S.o_())}),P(y,uc.EventType.CLOSE,()=>{T||(T=!0,ce(an,`RPC '${e}' stream ${r} transport closed`),S.a_(),this.E_(y))}),P(y,uc.EventType.ERROR,b=>{T||(T=!0,Ll(an,`RPC '${e}' stream ${r} transport errored. Name:`,b.name,"Message:",b.message),S.a_(new pe(Z.UNAVAILABLE,"The operation could not be completed")))}),P(y,uc.EventType.MESSAGE,b=>{if(!T){const A=b.data[0];We(!!A,16349);const F=A,z=F?.error||F[0]?.error;if(z){ce(an,`RPC '${e}' stream ${r} received error:`,z);const q=z.status;let X=function(C){const R=St[C];if(R!==void 0)return Ab(R)}(q),ne=z.message;X===void 0&&(X=Z.INTERNAL,ne="Unknown error status: "+q+" with message "+z.message),T=!0,S.a_(new pe(X,ne)),y.close()}else ce(an,`RPC '${e}' stream ${r} received:`,A),S.u_(A)}}),P(u,XS.STAT_EVENT,b=>{b.stat===uy.PROXY?ce(an,`RPC '${e}' stream ${r} detected buffering proxy`):b.stat===uy.NOPROXY&&ce(an,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(t){return new TM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,i=1e3,r=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&ce("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="PersistentStream";class qb{constructor(e,n,i,r,o,l,u,h){this.Mi=e,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new pe(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(h1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(h1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _O extends qb{constructor(e,n,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bM(this.serializer,e),i=function(o){if(!("targetChange"in o))return Ie.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ie.min():l.readTime?or(l.readTime):Ie.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=_y(this.serializer),n.addTarget=function(o,l){let u;const h=l.target;if(u=py(h)?{documents:PM(o,h)}:{query:kM(o,h).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Ob(o,l.resumeToken);const f=gy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ie.min())>0){u.readTime=Cf(o,l.snapshotVersion.toTimestamp());const f=gy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const i=AM(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=_y(this.serializer),n.removeTarget=e,this.q_(n)}}class wO extends qb{constructor(e,n,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=CM(e.writeResults,e.commitTime),i=or(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=_y(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>IM(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{}class TO extends EO{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Go(e,yy(n,i),r,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(Z.UNKNOWN,o.toString())})}Ho(e,n,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Ho(e,yy(n,i),r,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(Z.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="RemoteStore";class SO{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(l=>{i.enqueueAndForget(async()=>{ma(this)&&(ce(ia,"Restarting streams for network reachability change."),await async function(h){const f=Pe(h);f.Ea.add(4),await ih(f),f.Ra.set("Unknown"),f.Ea.delete(4),await fp(f)}(this))})}),this.Ra=new xO(i,r)}}async function fp(t){if(ma(t))for(const e of t.da)await e(!0)}async function ih(t){for(const e of t.da)await e(!1)}function Gb(t,e){const n=Pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Nv(n)?Ov(n):iu(n).O_()&&Mv(n,e))}function Dv(t,e){const n=Pe(t),i=iu(n);n.Ia.delete(e),i.O_()&&Kb(n,e),n.Ia.size===0&&(i.O_()?i.L_():ma(n)&&n.Ra.set("Unknown"))}function Mv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}iu(t).Y_(e)}function Kb(t,e){t.Va.Ue(e),iu(t).Z_(e)}function Ov(t){t.Va=new vM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),iu(t).start(),t.Ra.ua()}function Nv(t){return ma(t)&&!iu(t).x_()&&t.Ia.size>0}function ma(t){return Pe(t).Ea.size===0}function Qb(t){t.Va=void 0}async function bO(t){t.Ra.set("Online")}async function IO(t){t.Ia.forEach((e,n)=>{Mv(t,e)})}async function CO(t,e){Qb(t),Nv(t)?(t.Ra.ha(e),Ov(t)):t.Ra.set("Unknown")}async function PO(t,e,n){if(t.Ra.set("Online"),e instanceof Mb&&e.state===2&&e.cause)try{await async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))}(t,e)}catch(i){ce(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kf(t,i)}else if(e instanceof of?t.Va.Ze(e):e instanceof Db?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ie.min()))try{const i=await Hb(t.localStore);n.compareTo(i)>=0&&await function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=o.Ia.get(f);m&&o.Ia.set(f,m.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,f)=>{const m=o.Ia.get(h);if(!m)return;o.Ia.set(h,m.withResumeToken(tn.EMPTY_BYTE_STRING,m.snapshotVersion)),Kb(o,h);const y=new Ms(m.target,h,f,m.sequenceNumber);Mv(o,y)}),o.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(i){ce(ia,"Failed to raise snapshot:",i),await kf(t,i)}}async function kf(t,e,n){if(!nu(e))throw e;t.Ea.add(1),await ih(t),t.Ra.set("Offline"),n||(n=()=>Hb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce(ia,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fp(t)})}function Xb(t,e){return e().catch(n=>kf(t,n,e))}async function pp(t){const e=Pe(t),n=Gs(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:yv;for(;kO(e);)try{const r=await cO(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,RO(e,r)}catch(r){await kf(e,r)}Yb(e)&&Jb(e)}function kO(t){return ma(t)&&t.Ta.length<10}function RO(t,e){t.Ta.push(e);const n=Gs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Yb(t){return ma(t)&&!Gs(t).x_()&&t.Ta.length>0}function Jb(t){Gs(t).start()}async function AO(t){Gs(t).ra()}async function DO(t){const e=Gs(t);for(const n of t.Ta)e.ea(n.mutations)}async function MO(t,e,n){const i=t.Ta.shift(),r=bv.from(i,e,n);await Xb(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await pp(t)}async function OO(t,e){e&&Gs(t).X_&&await async function(i,r){if(function(l){return mM(l)&&l!==Z.ABORTED}(r.code)){const o=i.Ta.shift();Gs(i).B_(),await Xb(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await pp(i)}}(t,e),Yb(t)&&Jb(t)}async function d1(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ce(ia,"RemoteStore received new credentials");const i=ma(n);n.Ea.add(3),await ih(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fp(n)}async function NO(t,e){const n=Pe(t);e?(n.Ea.delete(2),await fp(n)):e||(n.Ea.add(2),await ih(n),n.Ra.set("Unknown"))}function iu(t){return t.ma||(t.ma=function(n,i,r){const o=Pe(n);return o.sa(),new _O(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:bO.bind(null,t),t_:IO.bind(null,t),r_:CO.bind(null,t),H_:PO.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Nv(t)?Ov(t):t.Ra.set("Unknown")):(await t.ma.stop(),Qb(t))})),t.ma}function Gs(t){return t.fa||(t.fa=function(n,i,r){const o=Pe(n);return o.sa(),new wO(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:AO.bind(null,t),r_:OO.bind(null,t),ta:DO.bind(null,t),na:MO.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await pp(t)):(await t.fa.stop(),t.Ta.length>0&&(ce(ia,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){const l=Date.now()+i,u=new Vv(e,n,l,r,o);return u.start(i),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),nu(t))return new pe(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{static emptySet(e){return new Cl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=cc(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Cl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.ga=new ht(_e.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Bl{constructor(e,n,i,r,o,l,u,h,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,i,r,o){const l=[];return n.forEach(u=>{l.push({type:0,doc:u})}),new Bl(e,n,Cl.emptySet(n),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class LO{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=Pe(n),o=r.queries;r.queries=p1(),o.forEach((l,u)=>{for(const h of u.Sa)h.onError(i)})})(this,new pe(Z.ABORTED,"Firestore shutting down"))}}function p1(){return new fa(t=>_b(t),ap)}async function Zb(t,e){const n=Pe(t);let i=3;const r=e.query;let o=n.queries.get(r);o?!o.ba()&&e.Da()&&(i=2):(o=new VO,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await n.onListen(r,!0);break;case 1:o.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(l){const u=Lv(l,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Fv(n)}async function eI(t,e){const n=Pe(t),i=e.query;let r=3;const o=n.queries.get(i);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=e.Da()?0:1:!o.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function FO(t,e){const n=Pe(t);let i=!1;for(const r of e){const o=r.query,l=n.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&Fv(n)}function UO(t,e,n){const i=Pe(t),r=i.queries.get(e);if(r)for(const o of r.Sa)o.onError(n);i.queries.delete(e)}function Fv(t){t.Ca.forEach(e=>{e.next()})}var Ty,m1;(m1=Ty||(Ty={})).Ma="default",m1.Cache="cache";class tI{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Bl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.key=e}}class iI{constructor(e){this.key=e}}class jO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ne(),this.mutatedKeys=Ne(),this.eu=wb(e),this.tu=new Cl(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new f1,r=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=r,u=!1;const h=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((m,y)=>{const w=r.get(m),T=lp(this.query,y)?y:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?S!==P&&(i.track({type:3,doc:T}),b=!0):this.su(w,T)||(i.track({type:2,doc:T}),b=!0,(h&&this.eu(T,h)>0||f&&this.eu(T,f)<0)&&(u=!0)):!w&&T?(i.track({type:0,doc:T}),b=!0):w&&!T&&(i.track({type:1,doc:w}),b=!0,(h||f)&&(u=!0)),b&&(T?(l=l.add(T),o=P?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),i.track({type:1,doc:m})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort((m,y)=>function(T,S){const P=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:b})}};return P(T)-P(S)}(m.type,y.type)||this.eu(m.doc,y.doc)),this.ou(i),r=r??!1;const u=n&&!r?this._u():[],h=this.Xa.size===0&&this.current&&!r?1:0,f=h!==this.Za;return this.Za=h,l.length!==0||f?{snapshot:new Bl(this.query,e.tu,o,l,e.mutatedKeys,h===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ne(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new iI(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new nI(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ne();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Uv="SyncEngine";class zO{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class BO{constructor(e){this.key=e,this.hu=!1}}class $O{constructor(e,n,i,r,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new fa(u=>_b(u),ap),this.Iu=new Map,this.Eu=new Set,this.du=new ht(_e.comparator),this.Au=new Map,this.Ru=new Pv,this.Vu={},this.mu=new Map,this.fu=zl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HO(t,e,n=!0){const i=uI(t);let r;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await rI(i,e,n,!0),r}async function WO(t,e){const n=uI(t);await rI(n,e,!0,!1)}async function rI(t,e,n,i){const r=await hO(t.localStore,rr(e)),o=r.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let u;return i&&(u=await qO(t,e,o,l==="current",r.resumeToken)),t.isPrimaryClient&&n&&Gb(t.remoteStore,r),u}async function qO(t,e,n,i,r){t.pu=(y,w,T)=>async function(P,b,A,F){let z=b.view.ru(A);z.Cs&&(z=await a1(P.localStore,b.query,!1).then(({documents:M})=>b.view.ru(M,z)));const q=F&&F.targetChanges.get(b.targetId),X=F&&F.targetMismatches.get(b.targetId)!=null,ne=b.view.applyChanges(z,P.isPrimaryClient,q,X);return y1(P,b.targetId,ne.au),ne.snapshot}(t,y,w,T);const o=await a1(t.localStore,e,!0),l=new jO(e,o.Qs),u=l.ru(o.documents),h=nh.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),f=l.applyChanges(u,t.isPrimaryClient,h);y1(t,n,f.au);const m=new zO(e,n,l);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function GO(t,e,n){const i=Pe(t),r=i.Tu.get(e),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter(l=>!ap(l,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await wy(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Dv(i.remoteStore,r.targetId),xy(i,r.targetId)}).catch(tu)):(xy(i,r.targetId),await wy(i.localStore,r.targetId,!0))}async function KO(t,e){const n=Pe(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dv(n.remoteStore,i.targetId))}async function QO(t,e,n){const i=nN(t);try{const r=await function(l,u){const h=Pe(l),f=nt.now(),m=u.reduce((T,S)=>T.add(S.key),Ne());let y,w;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Xr(),P=Ne();return h.Ns.getEntries(T,m).next(b=>{S=b,S.forEach((A,F)=>{F.isValidDocument()||(P=P.add(A))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,S)).next(b=>{y=b;const A=[];for(const F of u){const z=cM(F,y.get(F.key).overlayedDocument);z!=null&&A.push(new pa(F.key,z,db(z.value.mapValue),sr.exists(!0)))}return h.mutationQueue.addMutationBatch(T,f,A,u)}).next(b=>{w=b;const A=b.applyToLocalDocumentSet(y,P);return h.documentOverlayCache.saveOverlays(T,b.batchId,A)})}).then(()=>({batchId:w.batchId,changes:Tb(y)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(l,u,h){let f=l.Vu[l.currentUser.toKey()];f||(f=new ht(Me)),f=f.insert(u,h),l.Vu[l.currentUser.toKey()]=f}(i,r.batchId,n),await rh(i,r.changes),await pp(i.remoteStore)}catch(r){const o=Lv(r,"Failed to persist write");n.reject(o)}}async function sI(t,e){const n=Pe(t);try{const i=await lO(n.localStore,e);e.targetChanges.forEach((r,o)=>{const l=n.Au.get(o);l&&(We(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?We(l.hu,14607):r.removedDocuments.size>0&&(We(l.hu,42227),l.hu=!1))}),await rh(n,i,e)}catch(i){await tu(i)}}function g1(t,e,n){const i=Pe(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((o,l)=>{const u=l.view.va(e);u.snapshot&&r.push(u.snapshot)}),function(l,u){const h=Pe(l);h.onlineState=u;let f=!1;h.queries.forEach((m,y)=>{for(const w of y.Sa)w.va(u)&&(f=!0)}),f&&Fv(h)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function XO(t,e,n){const i=Pe(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),o=r&&r.key;if(o){let l=new ht(_e.comparator);l=l.insert(o,hn.newNoDocument(o,Ie.min()));const u=Ne().add(o),h=new hp(Ie.min(),new Map,new ht(Me),l,u);await sI(i,h),i.du=i.du.remove(o),i.Au.delete(e),jv(i)}else await wy(i.localStore,e,!1).then(()=>xy(i,e,n)).catch(tu)}async function YO(t,e){const n=Pe(t),i=e.batch.batchId;try{const r=await aO(n.localStore,e);aI(n,i,null),oI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await rh(n,r)}catch(r){await tu(r)}}async function JO(t,e,n){const i=Pe(t);try{const r=await function(l,u){const h=Pe(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next(y=>(We(y!==null,37113),m=y.keys(),h.mutationQueue.removeMutationBatch(f,y))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>h.localDocuments.getDocuments(f,m))})}(i.localStore,e);aI(i,e,n),oI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await rh(i,r)}catch(r){await tu(r)}}function oI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function aI(t,e,n){const i=Pe(t);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function xy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||lI(t,i)})}function lI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),jv(t))}function y1(t,e,n){for(const i of n)i instanceof nI?(t.Ru.addReference(i.key,e),ZO(t,i)):i instanceof iI?(ce(Uv,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||lI(t,i.key)):Se(19791,{wu:i})}function ZO(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(ce(Uv,"New document in limbo: "+n),t.Eu.add(i),jv(t))}function jv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(tt.fromString(e)),i=t.fu.next();t.Au.set(i,new BO(n)),t.du=t.du.insert(n,i),Gb(t.remoteStore,new Ms(rr(Tv(n.path)),i,"TargetPurposeLimboResolution",ip.ce))}}async function rh(t,e,n){const i=Pe(t),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach((u,h)=>{l.push(i.pu(h,e,n).then(f=>{if((f||n)&&i.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;i.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){r.push(f);const m=Rv.As(h.targetId,f);o.push(m)}}))}),await Promise.all(l),i.Pu.H_(r),await async function(h,f){const m=Pe(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Y.forEach(f,w=>Y.forEach(w.Es,T=>m.persistence.referenceDelegate.addReference(y,w.targetId,T)).next(()=>Y.forEach(w.ds,T=>m.persistence.referenceDelegate.removeReference(y,w.targetId,T)))))}catch(y){if(!nu(y))throw y;ce(Av,"Failed to update sequence numbers: "+y)}for(const y of f){const w=y.targetId;if(!y.fromCache){const T=m.Ms.get(w),S=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(S);m.Ms=m.Ms.insert(w,P)}}}(i.localStore,o))}async function eN(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ce(Uv,"User change. New user:",e.toKey());const i=await $b(n.localStore,e);n.currentUser=e,function(o,l){o.mu.forEach(u=>{u.forEach(h=>{h.reject(new pe(Z.CANCELLED,l))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rh(n,i.Ls)}}function tN(t,e){const n=Pe(t),i=n.Au.get(e);if(i&&i.hu)return Ne().add(i.key);{let r=Ne();const o=n.Iu.get(e);if(!o)return r;for(const l of o){const u=n.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function uI(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XO.bind(null,e),e.Pu.H_=FO.bind(null,e.eventManager),e.Pu.yu=UO.bind(null,e.eventManager),e}function nN(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JO.bind(null,e),e}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return oO(this.persistence,new iO,e.initialUser,this.serializer)}Cu(e){return new Bb(kv.mi,this.serializer)}Du(e){return new fO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class iN extends Rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof Pf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new BM(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vn.withCacheSize(this.cacheSizeBytes):Vn.DEFAULT;return new Bb(i=>Pf.mi(i,n),this.serializer)}}class Sy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>g1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=eN.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LO}()}createDatastore(e){const n=dp(e.databaseInfo.databaseId),i=function(o){return new vO(o)}(e.databaseInfo);return function(o,l,u,h){return new TO(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,l,u){return new SO(i,r,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,n=>g1(this.syncEngine,n,0),function(){return c1.v()?new c1:new pO}())}createSyncEngine(e,n){return function(r,o,l,u,h,f,m){const y=new $O(r,o,l,u,h,f);return m&&(y.gu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const i=Pe(n);ce(ia,"RemoteStore shutting down."),i.Ea.add(5),await ih(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Sy.provider={build:()=>new Sy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="FirestoreClient";class rN{constructor(e,n,i,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=un.UNAUTHENTICATED,this.clientId=mv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{ce(Ks,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(ce(Ks,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Lv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),ce(Ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await $b(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function v1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sN(t);ce(Ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>d1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>d1(e.remoteStore,r)),t._onlineComponents=e}async function sN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce(Ks,"Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===Z.FAILED_PRECONDITION||r.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ll("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new Rf)}}else ce(Ks,"Using default OfflineComponentProvider"),await vg(t,new iN(void 0));return t._offlineComponents}async function hI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce(Ks,"Using user provided OnlineComponentProvider"),await v1(t,t._uninitializedComponentsProvider._online)):(ce(Ks,"Using default OnlineComponentProvider"),await v1(t,new Sy))),t._onlineComponents}function oN(t){return hI(t).then(e=>e.syncEngine)}async function dI(t){const e=await hI(t),n=e.eventManager;return n.onListen=HO.bind(null,e.syncEngine),n.onUnlisten=GO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KO.bind(null,e.syncEngine),n}function aN(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new cI({next:w=>{m.Nu(),l.enqueueAndForget(()=>eI(o,y));const T=w.docs.has(u);!T&&w.fromCache?f.reject(new pe(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&w.fromCache&&h&&h.source==="server"?f.reject(new pe(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new tI(Tv(u.path),m,{includeMetadataChanges:!0,qa:!0});return Zb(o,y)}(await dI(t),t.asyncQueue,e,n,i)),i.promise}function lN(t,e,n={}){const i=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,f){const m=new cI({next:w=>{m.Nu(),l.enqueueAndForget(()=>eI(o,y)),w.fromCache&&h.source==="server"?f.reject(new pe(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(w)},error:w=>f.reject(w)}),y=new tI(u,m,{includeMetadataChanges:!0,qa:!0});return Zb(o,y)}(await dI(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firestore.googleapis.com",w1=!0;class E1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pI,this.ssl=w1}else this.host=e.host,this.ssl=e.ssl??w1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jM)throw new pe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}T4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fI(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new pe(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mp{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new d4;switch(i.type){case"firstParty":return new g4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=_1.get(n);i&&(ce("ComponentProvider","Removing Datastore"),_1.delete(n),i.terminate())}(this),Promise.resolve()}}function uN(t,e,n,i={}){t=na(t,mp);const r=Zs(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;r&&(uv(`https://${u}`),cv("Firestore",!0)),o.host!==pI&&o.host!==u&&Ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...o,host:u,ssl:r,emulatorOptions:i};if(!Zo(h,l)&&(t._setSettings(h),i.mockUserToken)){let f,m;if(typeof i.mockUserToken=="string")f=i.mockUserToken,m=un.MOCK_USER;else{f=zS(i.mockUserToken,t._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new pe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new un(y)}t._authCredentials=new f4(new eb(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new gp(this.firestore,e,this._query)}}class Bt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(eh(n,Bt._jsonSchema))return new Bt(e,i||null,new _e(tt.fromString(n.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:It("string",Bt._jsonSchemaVersion),referencePath:It("string")};class Us extends gp{constructor(e,n,i){super(e,n,Tv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new _e(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function cN(t,e,...n){if(t=Ht(t),tb("collection","path",e),t instanceof mp){const i=tt.fromString(e,...n);return NE(i),new Us(t,null,i)}{if(!(t instanceof Bt||t instanceof Us))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(tt.fromString(e,...n));return NE(i),new Us(t.firestore,null,i)}}function mI(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=mv.newId()),tb("doc","path",e),t instanceof mp){const i=tt.fromString(e,...n);return OE(i),new Bt(t,null,new _e(i))}{if(!(t instanceof Bt||t instanceof Us))throw new pe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(tt.fromString(e,...n));return OE(i),new Bt(t.firestore,t instanceof Us?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="AsyncQueue";class x1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wb(this,"async_queue_retry"),this._c=()=>{const i=yg();i&&ce(T1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nu(e))throw e;ce(T1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",S1(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Vv.createAndSchedule(this,e,n,i,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&Se(47125,{Pc:S1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function S1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class sh extends mp{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new x1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new x1(e),this._firestoreClient=void 0,await e}}}function hN(t,e){const n=typeof t=="object"?t:fv(),i=typeof t=="string"?t:Tf,r=np(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=FS("firestore");o&&uN(r,...o)}return r}function zv(t){if(t._terminated)throw new pe(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dN(t),t._firestoreClient}function dN(t){const e=t._freezeSettings(),n=function(r,o,l,u){return new M4(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(tn.fromBase64String(e))}catch(n){throw new pe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:fi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(eh(e,fi._jsonSchema))return fi.fromBase64String(e.bytes)}}fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:It("string",fi._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Me(this._lat,e._lat)||Me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ar._jsonSchemaVersion}}static fromJSON(e){if(eh(e,ar._jsonSchema))return new ar(e.latitude,e.longitude)}}ar._jsonSchemaVersion="firestore/geoPoint/1.0",ar._jsonSchema={type:It("string",ar._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:lr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(eh(e,lr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new lr(e.vectorValues);throw new pe(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}lr._jsonSchemaVersion="firestore/vectorValue/1.0",lr._jsonSchema={type:It("string",lr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^__.*__$/;class pN{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pa(e,this.data,this.fieldMask,n,this.fieldTransforms):new th(e,this.data,n,this.fieldTransforms)}}function gI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:t})}}class Hv{constructor(e,n,i,r,o,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){const n=this.path?.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gI(this.Ac)&&fN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mN{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||dp(e)}Cc(e,n,i,r=!1){return new Hv({Ac:e,methodName:n,Dc:i,path:en.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gN(t){const e=t._freezeSettings(),n=dp(t._databaseId);return new mN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yN(t,e,n,i,r,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,r);wI("Data must be an object, but it was:",l,i);const u=vI(i,l);let h,f;if(o.merge)h=new Ni(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const y of o.mergeFields){const w=vN(e,y,n);if(!l.contains(w))throw new pe(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);wN(m,w)||m.push(w)}h=new Ni(m),f=l.fieldTransforms.filter(y=>h.covers(y.field))}else h=null,f=l.fieldTransforms;return new pN(new di(u),h,f)}class Wv extends $v{_toFieldTransform(e){return new oM(e.path,new Nc)}isEqual(e){return e instanceof Wv}}function yI(t,e){if(_I(t=Ht(t)))return wI("Unsupported field value:",e,t),vI(t,e);if(t instanceof $v)return function(i,r){if(!gI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const o=[];let l=0;for(const u of i){let h=yI(u,r.wc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=Ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return iM(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=nt.fromDate(i);return{timestampValue:Cf(r.serializer,o)}}if(i instanceof nt){const o=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cf(r.serializer,o)}}if(i instanceof ar)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof fi)return{bytesValue:Ob(r.serializer,i._byteString)};if(i instanceof Bt){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Cv(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof lr)return function(l,u){return{mapValue:{fields:{[cb]:{stringValue:hb},[xf]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return xv(u.serializer,f)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${gv(i)}`)}(t,e)}function vI(t,e){const n={};return rb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(t,(i,r)=>{const o=yI(r,e.mc(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function _I(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof ar||t instanceof fi||t instanceof Bt||t instanceof $v||t instanceof lr)}function wI(t,e,n){if(!_I(n)||!nb(n)){const i=gv(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function vN(t,e,n){if((e=Ht(e))instanceof Bv)return e._internalPath;if(typeof e=="string")return EI(t,e);throw Af("Field path arguments must be of type string or ",t,!1,void 0,n)}const _N=new RegExp("[~\\*/\\[\\]]");function EI(t,e,n){if(e.search(_N)>=0)throw Af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Bv(...e.split("."))._internalPath}catch{throw Af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Af(t,e,n,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${i}`),l&&(h+=` in document ${r}`),h+=")"),new pe(Z.INVALID_ARGUMENT,u+t+h)}function wN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EN extends TI{data(){return super.data()}}function xI(t,e){return typeof e=="string"?EI(t,e):e instanceof Bv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xN{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return da(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertVectorValue(e){const n=e.fields?.[xf].arrayValue?.values?.map(i=>wt(i.doubleValue));return new lr(n)}convertGeoPoint(e){return new ar(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=sp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const n=Hs(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=tt.fromString(e);We(jb(i),9688,{name:e});const r=new Mc(i.get(1),i.get(3)),o=new _e(i.popFirst(5));return r.isEqual(n)||Qr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e,n){let i;return i=t?t.toFirestore(e):e,i}class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qo extends TI{constructor(e,n,i,r,o,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(xI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qo._jsonSchema={type:It("string",Qo._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class af extends Qo{data(e={}){return super.data(e)}}class Pl{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new dc(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new af(this._firestore,this._userDataWriter,i.key,i,new dc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(u=>{const h=new af(r._firestore,r._userDataWriter,u.doc.key,u.doc,new dc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new af(r._firestore,r._userDataWriter,u.doc.key,u.doc,new dc(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:bN(u.type),doc:h,oldIndex:f,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(t){t=na(t,Bt);const e=na(t.firestore,sh);return aN(zv(e),t._key).then(n=>PN(e,t,n))}Pl._jsonSchemaVersion="firestore/querySnapshot/1.0",Pl._jsonSchema={type:It("string",Pl._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class SI extends xN{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function CN(t){t=na(t,gp);const e=na(t.firestore,sh),n=zv(e),i=new SI(e);return TN(t._query),lN(n,t._query).then(r=>new Pl(e,i,t,r))}function ZH(t){return bI(na(t.firestore,sh),[new Sv(t._key,sr.none())])}function eW(t,e){const n=na(t.firestore,sh),i=mI(t),r=SN(t.converter,e);return bI(n,[yN(gN(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,sr.exists(!1))]).then(()=>i)}function bI(t,e){return function(i,r){const o=new $r;return i.asyncQueue.enqueueAndForget(async()=>QO(await oN(i),r,o)),o.promise}(zv(t),e)}function PN(t,e,n){const i=n.docs.get(e._key),r=new SI(t);return new Qo(t,r,e._key,i,new dc(n.hasPendingWrites,n.fromCache),e.converter)}function tW(){return new Wv("serverTimestamp")}(function(e,n=!0){(function(r){eu=r})(ha),ea(new Bs("firestore",(i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new sh(new p4(i.getProvider("auth-internal")),new y4(l,i.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new pe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(f.options.projectId,m)}(l,r),l);return o={useFetchStreams:n,...o},u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ir(RE,AE,e),ir(RE,AE,"esm2020")})();function II(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kN=II,CI=new Jc("auth","Firebase",II());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new hv("@firebase/auth");function RN(t,...e){Df.logLevel<=De.WARN&&Df.warn(`Auth (${ha}): ${t}`,...e)}function lf(t,...e){Df.logLevel<=De.ERROR&&Df.error(`Auth (${ha}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw qv(t,...e)}function ur(t,...e){return qv(t,...e)}function PI(t,e,n){const i={...kN(),[e]:n};return new Jc("auth","Firebase",i).create(e,{appName:t.name})}function js(t){return PI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return CI.create(t,...e)}function xe(t,e,...n){if(!t)throw qv(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function Yr(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){return typeof self<"u"&&self.location?.href||""}function AN(){return b1()==="http:"||b1()==="https:"}function b1(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||$2()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yr(n>e,"Short delay should be less than long delay!"),this.isMobile=j2()||H2()}get(){return DN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(t,e){Yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VN=new oh(3e4,6e4);function ga(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function eo(t,e,n,i,r={}){return RI(t,r,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const u=Zc({key:t.config.apiKey,...l}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...o};return B2()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(f.credentials="include"),kI.fetch()(await AI(t,t.config.apiHost,n,u),f)})}async function RI(t,e,n){t._canInitEmulator=!1;const i={...ON,...e};try{const r=new FN(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Vd(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Vd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw Vd(t,"user-disabled",l);const m=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw PI(t,m,f);ji(t,m)}}catch(r){if(r instanceof yr)throw r;ji(t,"network-request-failed",{message:String(r)})}}async function yp(t,e,n,i,r={}){const o=await eo(t,e,n,i,r);return"mfaPendingCredential"in o&&ji(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function AI(t,e,n,i){const r=`${e}${n}?${i}`,o=t,l=o.config.emulator?Gv(t.config,r):`${t.config.apiScheme}://${r}`;return NN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function LN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ur(this.auth,"network-request-failed")),VN.get())})}}function Vd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ur(t,e,i);return r.customData._tokenResponse=n,r}function I1(t){return t!==void 0&&t.enterprise!==void 0}class UN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jN(t,e){return eo(t,"GET","/v2/recaptchaConfig",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e){return eo(t,"POST","/v1/accounts:delete",e)}async function Mf(t,e){return eo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BN(t,e=!1){const n=Ht(t),i=await n.getIdToken(e),r=Kv(i);xe(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:Tc(_g(r.auth_time)),issuedAtTime:Tc(_g(r.iat)),expirationTime:Tc(_g(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function _g(t){return Number(t)*1e3}function Kv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return lf("JWT malformed, contained fewer than 3 sections"),null;try{const r=VS(n);return r?JSON.parse(r):(lf("Failed to decode base64 JWT payload"),null)}catch(r){return lf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function C1(t){const e=Kv(t);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof yr&&$N(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function $N({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(t){const e=t.auth,n=await t.getIdToken(),i=await Fc(t,Mf(e,{idToken:n}));xe(i?.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=r.providerUserInfo?.length?DI(r.providerUserInfo):[],l=qN(t.providerData,o),u=t.isAnonymous,h=!(t.email&&r.passwordHash)&&!l?.length,f=u?h:!1,m={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Iy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function WN(t){const e=Ht(t);await Of(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function DI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(t,e){const n=await RI(t,{},async()=>{const i=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,l=await AI(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:i};return t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(h.credentials="include"),kI.fetch()(l,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KN(t,e){return eo(t,"POST","/v2/accounts:revokeToken",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=C1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await GN(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,l=new kl;return i&&(xe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),r&&(xe(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),o&&(xe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){xe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Iy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Fc(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BN(this,e)}reload(){return WN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Of(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(js(this.auth));const e=await this.getIdToken();return await Fc(this,zN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:y,emailVerified:w,isAnonymous:T,providerData:S,stsTokenManager:P}=n;xe(y&&P,e,"internal-error");const b=kl.fromJSON(this.name,P);xe(typeof y=="string",e,"internal-error"),bs(i,e.name),bs(r,e.name),xe(typeof w=="boolean",e,"internal-error"),xe(typeof T=="boolean",e,"internal-error"),bs(o,e.name),bs(l,e.name),bs(u,e.name),bs(h,e.name),bs(f,e.name),bs(m,e.name);const A=new Vi({uid:y,auth:e,email:r,emailVerified:w,displayName:i,isAnonymous:T,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:b,createdAt:f,lastLoginAt:m});return S&&Array.isArray(S)&&(A.providerData=S.map(F=>({...F}))),h&&(A._redirectEventId=h),A}static async _fromIdTokenResponse(e,n,i=!1){const r=new kl;r.updateFromServerResponse(n);const o=new Vi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Of(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];xe(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?DI(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new kl;u.updateFromIdToken(i);const h=new Vi({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Iy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function jr(t){Yr(t instanceof Function,"Expected a class definition");let e=P1.get(t);return e?(Yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,P1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MI.type="NONE";const k1=MI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=uf(this.userKey,r.apiKey,o),this.fullPersistenceKey=uf("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Mf(this.auth,{idToken:e}).catch(()=>{});return n?Vi._fromGetAccountInfoResponse(this.auth,n,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Rl(jr(k1),e,i);const r=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||jr(k1);const l=uf(i,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(l);if(m){let y;if(typeof m=="string"){const w=await Mf(e,{idToken:m}).catch(()=>{});if(!w)break;y=await Vi._fromGetAccountInfoResponse(e,w,m)}else y=Vi._fromJSON(e,m);f!==o&&(u=y),o=f;break}}catch{}const h=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Rl(o,e,i):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Rl(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UI(e))return"Blackberry";if(jI(e))return"Webos";if(NI(e))return"Safari";if((e.includes("chrome/")||VI(e))&&!e.includes("edge/"))return"Chrome";if(FI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function OI(t=yn()){return/firefox\//i.test(t)}function NI(t=yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VI(t=yn()){return/crios\//i.test(t)}function LI(t=yn()){return/iemobile/i.test(t)}function FI(t=yn()){return/android/i.test(t)}function UI(t=yn()){return/blackberry/i.test(t)}function jI(t=yn()){return/webos/i.test(t)}function Qv(t=yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QN(t=yn()){return Qv(t)&&!!window.navigator?.standalone}function XN(){return W2()&&document.documentMode===10}function zI(t=yn()){return Qv(t)||FI(t)||jI(t)||UI(t)||/windows phone/i.test(t)||LI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e=[]){let n;switch(t){case"Browser":n=R1(yn());break;case"Worker":n=`${R1(yn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ha}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e={}){return eo(t,"GET","/v2/passwordPolicy",ga(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=6;class eV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A1(this),this.idTokenSubscription=new A1(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Mf(this,{idToken:e}),i=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(js(this));const n=e?Ht(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JN(this),n=new eV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await KN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,r);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ru(t){return Ht(t)}class A1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z2(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nV(t){vp=t}function $I(t){return vp.loadJS(t)}function iV(){return vp.recaptchaEnterpriseScript}function rV(){return vp.gapiScript}function sV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class oV{constructor(){this.enterprise=new aV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class aV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const lV="recaptcha-enterprise",HI="NO_RECAPTCHA";class uV{constructor(e){this.type=lV,this.auth=ru(e)}async verify(e="verify",n=!1){async function i(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{jN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new UN(h);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(h=>{u(h)})})}function r(o,l,u){const h=window.grecaptcha;I1(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(HI)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!n&&I1(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=iV();h.length!==0&&(h+=u),$I(h).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function D1(t,e,n,i=!1,r=!1){const o=new uV(t);let l;if(r)l=HI;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function M1(t,e,n,i,r){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await D1(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await D1(t,e,n,n==="getOobCode");return i(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t,e){const n=np(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Zo(o,e??{}))return r;ji(r,"already-initialized")}return n.initialize({options:e})}function hV(t,e){const n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(jr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function dV(t,e,n){const i=ru(t);xe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=WI(e),{host:l,port:u}=fV(e),h=u===null?"":`:${u}`,f={url:`${o}//${l}${h}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){xe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xe(Zo(f,i.config.emulator)&&Zo(m,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=m,i.settings.appVerificationDisabledForTesting=!0,Zs(l)?(uv(`${o}//${l}${h}`),cv("Auth",!0)):pV()}function WI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fV(t){const e=WI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:O1(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:O1(l)}}}function O1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function pV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function mV(t,e){return eo(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return yp(t,"POST","/v1/accounts:signInWithPassword",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(t,e){return yp(t,"POST","/v1/accounts:signInWithEmailLink",ga(t,e))}async function vV(t,e){return yp(t,"POST","/v1/accounts:signInWithEmailLink",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc extends Xv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Uc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Uc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M1(e,n,"signInWithPassword",gV);case"emailLink":return yV(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M1(e,i,"signUpPassword",mV);case"emailLink":return vV(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e){return yp(t,"POST","/v1/accounts:signInWithIdp",ga(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V="http://localhost";class ra extends Xv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...o}=n;if(!i||!r)return null;const l=new ra(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Al(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Al(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Al(e,n)}buildRequest(){const e={requestUri:_V,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function EV(t){const e=ac(lc(t)).link,n=e?ac(lc(e)).deep_link_id:null,i=ac(lc(t)).deep_link_id;return(i?ac(lc(i)).link:null)||i||n||e||t}class Yv{constructor(e){const n=ac(lc(e)),i=n.apiKey??null,r=n.oobCode??null,o=wV(n.mode??null);xe(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=EV(e);try{return new Yv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(){this.providerId=su.PROVIDER_ID}static credential(e,n){return Uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Yv.parseLink(n);return xe(i,"argument-error"),Uc._fromEmailAndCode(e,i.code,i.tenantId)}}su.PROVIDER_ID="password";su.EMAIL_PASSWORD_SIGN_IN_METHOD="password";su.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends qI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends ah{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Ps.credential(n,i)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends ah{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.GITHUB_SIGN_IN_METHOD="github.com";ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends ah{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Rs.credential(n,i)}catch{return null}}}Rs.TWITTER_SIGN_IN_METHOD="twitter.com";Rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Vi._fromIdTokenResponse(e,i,r),l=N1(i);return new $l({user:o,providerId:l,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=N1(i);return new $l({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function N1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf extends yr{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Nf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Nf(e,n,i,r)}}function GI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Nf._fromErrorAndOperation(t,o,e,i):o})}async function TV(t,e,n=!1){const i=await Fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return $l._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xV(t,e,n=!1){const{auth:i}=t;if(hi(i.app))return Promise.reject(js(i));const r="reauthenticate";try{const o=await Fc(t,GI(i,r,e,t),n);xe(o.idToken,i,"internal-error");const l=Kv(o.idToken);xe(l,i,"internal-error");const{sub:u}=l;return xe(t.uid===u,i,"user-mismatch"),$l._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(t,e,n=!1){if(hi(t.app))return Promise.reject(js(t));const i="signIn",r=await GI(t,i,e),o=await $l._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}async function SV(t,e){return KI(ru(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t){const e=ru(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function nW(t,e,n){return hi(t.app)?Promise.reject(js(t)):SV(Ht(t),su.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bV(t),i})}function IV(t,e,n,i){return Ht(t).onIdTokenChanged(e,n,i)}function CV(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function iW(t,e,n,i){return Ht(t).onAuthStateChanged(e,n,i)}function rW(t){return Ht(t).signOut()}const Vf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=1e3,kV=10;class XI extends QI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!n&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);XN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,kV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},PV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XI.type="LOCAL";const RV=XI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI extends QI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YI.type="SESSION";const JI=YI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new _p(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,l=this.handlersMap[r];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(n.origin,o)),h=await AV(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const f=Jv("",20);r.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const w=y;if(w.data.eventId===f)switch(w.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(w.data.response);break;default:clearTimeout(m),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function MV(t){cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function OV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NV(){return navigator?.serviceWorker?.controller||null}function VV(){return ZI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebaseLocalStorageDb",LV=1,Lf="firebaseLocalStorage",tC="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wp(t,e){return t.transaction([Lf],e?"readwrite":"readonly").objectStore(Lf)}function FV(){const t=indexedDB.deleteDatabase(eC);return new lh(t).toPromise()}function Cy(){const t=indexedDB.open(eC,LV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Lf,{keyPath:tC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Lf)?e(i):(i.close(),await FV(),e(await Cy()))})})}async function V1(t,e,n){const i=wp(t,!0).put({[tC]:e,value:n});return new lh(i).toPromise()}async function UV(t,e){const n=wp(t,!1).get(e),i=await new lh(n).toPromise();return i===void 0?null:i.value}function L1(t,e){const n=wp(t,!0).delete(e);return new lh(n).toPromise()}const jV=800,zV=3;class nC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>zV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_p._getInstance(VV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OV(),!this.activeServiceWorker)return;this.sender=new DV(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cy();return await V1(e,Vf,"1"),await L1(e,Vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>V1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>UV(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=wp(r,!1).getAll();return new lh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nC.type="LOCAL";const BV=nC;new oh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t,e){return e?jr(e):(xe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv extends Xv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Al(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Al(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Al(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HV(t){return KI(t.auth,new Zv(t),t.bypassAuthState)}function WV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),xV(n,new Zv(t),t.bypassAuthState)}async function qV(t){const{auth:e,user:n}=t;return xe(n,e,"internal-error"),TV(n,new Zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HV;case"linkViaPopup":case"linkViaRedirect":return qV;case"reauthViaPopup":case"reauthViaRedirect":return WV;default:ji(this.auth,"internal-error")}}resolve(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new oh(2e3,1e4);class vl extends iC{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Yr(this.filter.length===1,"Popup operations only handle one event");const e=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GV.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV="pendingRedirect",cf=new Map;class QV extends iC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=cf.get(this.auth._key());if(!e){try{const i=await XV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}cf.set(this.auth._key(),e)}return this.bypassAuthState||cf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XV(t,e){const n=ZV(e),i=JV(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function YV(t,e){cf.set(t._key(),e)}function JV(t){return jr(t._redirectPersistence)}function ZV(t){return uf(KV,t.config.apiKey,t.name)}async function eL(t,e,n=!1){if(hi(t.app))return Promise.reject(js(t));const i=ru(t),r=$V(i,e),l=await new QV(i,r,n).execute();return l&&!n&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=600*1e3;class nL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!rC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tL&&this.cachedEventUids.clear(),this.cachedEventUids.has(F1(e))}saveEventToCache(e){this.cachedEventUids.add(F1(e)),this.lastProcessedEventTime=Date.now()}}function F1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function iL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e={}){return eo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oL=/^https?/;async function aL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rL(t);for(const n of e)try{if(lL(n))return}catch{}ji(t,"unauthorized-domain")}function lL(t){const e=by(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===i}if(!oL.test(n))return!1;if(sL.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new oh(3e4,6e4);function U1(){const t=cr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cL(t){return new Promise((e,n)=>{function i(){U1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U1(),n(ur(t,"network-request-failed"))},timeout:uL.get()})}if(cr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(cr().gapi?.load)i();else{const r=sV("iframefcb");return cr()[r]=()=>{gapi.load?i():n(ur(t,"network-request-failed"))},$I(`${rV()}?onload=${r}`).catch(o=>n(o))}}).catch(e=>{throw hf=null,e})}let hf=null;function hL(t){return hf=hf||cL(t),hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=new oh(5e3,15e3),fL="__/auth/iframe",pL="emulator/auth/iframe",mL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yL(t){const e=t.config;xe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Gv(e,pL):`https://${t.config.authDomain}/${fL}`,i={apiKey:e.apiKey,appName:t.name,v:ha},r=gL.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Zc(i).slice(1)}`}async function vL(t){const e=await hL(t),n=cr().gapi;return xe(n,t,"internal-error"),e.open({where:document.body,url:yL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mL,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=ur(t,"network-request-failed"),u=cr().setTimeout(()=>{o(l)},dL.get());function h(){cr().clearTimeout(u),r(i)}i.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wL=500,EL=600,TL="_blank",xL="http://localhost";class j1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SL(t,e,n,i=wL,r=EL){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const h={..._L,width:i.toString(),height:r.toString(),top:o,left:l},f=yn().toLowerCase();n&&(u=VI(f)?TL:n),OI(f)&&(e=e||xL,h.scrollbars="yes");const m=Object.entries(h).reduce((w,[T,S])=>`${w}${T}=${S},`,"");if(QN(f)&&u!=="_self")return bL(e||"",u),new j1(null);const y=window.open(e||"",u,m);xe(y,t,"popup-blocked");try{y.focus()}catch{}return new j1(y)}function bL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="__/auth/handler",CL="emulator/auth/handler",PL=encodeURIComponent("fac");async function z1(t,e,n,i,r,o){xe(t.config.authDomain,t,"auth-domain-config-required"),xe(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ha,eventId:r};if(e instanceof qI){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",J2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,y]of Object.entries({}))l[m]=y}if(e instanceof ah){const m=e.getScopes().filter(y=>y!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${PL}=${encodeURIComponent(h)}`:"";return`${kL(t)}?${Zc(u).slice(1)}${f}`}function kL({config:t}){return t.emulator?Gv(t,CL):`https://${t.authDomain}/${IL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="webStorageSupport";class RL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JI,this._completeRedirectFn=eL,this._overrideRedirectResult=YV}async _openPopup(e,n,i,r){Yr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await z1(e,n,i,by(),r);return SL(e,o,Jv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await z1(e,n,i,by(),r);return MV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await vL(e),i=new nL(e);return n.register("authEvent",r=>(xe(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wg,{type:wg},r=>{const o=r?.[0]?.[wg];o!==void 0&&n(!!o),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||NI()||Qv()}}const AL=RL;var B1="@firebase/auth",$1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OL(t){ea(new Bs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:l,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BI(t)},f=new tV(i,r,o,h);return hV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ea(new Bs("auth-internal",e=>{const n=ru(e.getProvider("auth").getImmediate());return(i=>new DL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ir(B1,$1,ML(t)),ir(B1,$1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=300,VL=jS("authIdTokenMaxAge")||NL;let H1=null;const LL=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>VL)return;const r=n?.token;H1!==r&&(H1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function FL(t=fv()){const e=np(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cV(t,{popupRedirectResolver:AL,persistence:[BV,RV,JI]}),i=jS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=LL(o.toString());CV(n,l,()=>l(n.currentUser)),IV(n,u=>l(u))}}const r=LS("auth");return r&&dV(n,`http://${r}`),n}function UL(){return document.getElementsByTagName("head")?.[0]??document}nV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=ur("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",UL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OL("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="firebasestorage.googleapis.com",oC="storageBucket",jL=120*1e3,zL=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt extends yr{constructor(e,n,i=0){super(Eg(e),`Firebase Storage: ${n} (${Eg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Eg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mt||(mt={}));function Eg(t){return"storage/"+t}function e_(){const t="An unknown error occurred, please check the error payload for server response.";return new gt(mt.UNKNOWN,t)}function BL(t){return new gt(mt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $L(t){return new gt(mt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HL(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new gt(mt.UNAUTHENTICATED,t)}function WL(){return new gt(mt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qL(t){return new gt(mt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function GL(){return new gt(mt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KL(){return new gt(mt.CANCELED,"User canceled the upload/download.")}function QL(t){return new gt(mt.INVALID_URL,"Invalid URL '"+t+"'.")}function XL(t){return new gt(mt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function YL(){return new gt(mt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oC+"' property when initializing the app?")}function JL(){return new gt(mt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ZL(){return new gt(mt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function e3(t){return new gt(mt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Py(t){return new gt(mt.INVALID_ARGUMENT,t)}function aC(){return new gt(mt.APP_DELETED,"The Firebase app was deleted.")}function t3(t){return new gt(mt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xc(t,e){return new gt(mt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rc(t){throw new gt(mt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Wn.makeFromUrl(e,n)}catch{return new Wn(e,"")}if(i.path==="")return i;throw XL(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),h={bucket:1,path:3};function f(q){q.path_=decodeURIComponent(q.path)}const m="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${m}/b/${r}/o${w}`,"i"),S={bucket:1,path:3},P=n===sC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",A=new RegExp(`^https?://${P}/${r}/${b}`,"i"),z=[{regex:u,indices:h,postModify:o},{regex:T,indices:S,postModify:f},{regex:A,indices:{bucket:1,path:2},postModify:f}];for(let q=0;q<z.length;q++){const X=z[q],ne=X.regex.exec(e);if(ne){const M=ne[X.indices.bucket];let C=ne[X.indices.path];C||(C=""),i=new Wn(M,C),X.postModify(i);break}}if(i==null)throw QL(e);return i}}class n3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t,e,n){let i=1,r=null,o=null,l=!1,u=0;function h(){return u===2}let f=!1;function m(...b){f||(f=!0,e.apply(null,b))}function y(b){r=setTimeout(()=>{r=null,t(T,h())},b)}function w(){o&&clearTimeout(o)}function T(b,...A){if(f){w();return}if(b){w(),m.call(null,b,...A);return}if(h()||l){w(),m.call(null,b,...A);return}i<64&&(i*=2);let z;u===1?(u=2,z=0):z=(i+Math.random())*1e3,y(z)}let S=!1;function P(b){S||(S=!0,w(),!f&&(r!==null?(b||(u=2),clearTimeout(r),y(0)):b||(u=1)))}return y(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function r3(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){return t!==void 0}function o3(t){return typeof t=="object"&&!Array.isArray(t)}function t_(t){return typeof t=="string"||t instanceof String}function W1(t){return n_()&&t instanceof Blob}function n_(){return typeof Blob<"u"}function q1(t,e,n,i){if(i<e)throw Py(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Py(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function lC(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Xo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xo||(Xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e,n,i,r,o,l,u,h,f,m,y,w=!0,T=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,P)=>{this.resolve_=S,this.reject_=P,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new Ld(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===Xo.NO_ERROR,h=o.getStatus();if(!u||a3(h,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===Xo.ABORT;i(!1,new Ld(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;i(!0,new Ld(f,o))})},n=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());s3(h)?o(h):o()}catch(h){l(h)}else if(u!==null){const h=e_();h.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,h)):l(h)}else if(r.canceled){const h=this.appDelete_?aC():KL();l(h)}else{const h=GL();l(h)}};this.canceled_?n(!1,new Ld(!1,null,!0)):this.backoffId_=i3(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ld{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function u3(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c3(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function h3(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d3(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function f3(t,e,n,i,r,o,l=!0,u=!1){const h=lC(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return h3(m,e),u3(m,n),c3(m,o),d3(m,i),new l3(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m3(...t){const e=p3();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(n_())return new Blob(t);throw new gt(mt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function g3(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(t){if(typeof atob>"u")throw e3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Tg{constructor(e,n){this.data=e,this.contentType=n||null}}function v3(t,e){switch(t){case tr.RAW:return new Tg(uC(e));case tr.BASE64:case tr.BASE64URL:return new Tg(cC(t,e));case tr.DATA_URL:return new Tg(w3(e),E3(e))}throw e_()}function uC(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,l=t.charCodeAt(++n);i=65536|(o&1023)<<10|l&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function _3(t){let e;try{e=decodeURIComponent(t)}catch{throw xc(tr.DATA_URL,"Malformed data URL.")}return uC(e)}function cC(t,e){switch(t){case tr.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw xc(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case tr.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw xc(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=y3(e)}catch(r){throw r.message.includes("polyfill")?r:xc(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class hC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xc(tr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=T3(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function w3(t){const e=new hC(t);return e.base64?cC(tr.BASE64,e.rest):_3(e.rest)}function E3(t){return new hC(t).contentType}function T3(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){let i=0,r="";W1(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(W1(this.data_)){const i=this.data_,r=g3(i,e,n);return r===null?null:new As(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new As(i,!0)}}static getBlob(...e){if(n_()){const n=e.map(i=>i instanceof As?i.data_:i);return new As(m3.apply(null,n))}else{const n=e.map(l=>t_(l)?v3(tr.RAW,l).data:l.data_);let i=0;n.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new As(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){let e;try{e=JSON.parse(t)}catch{return null}return o3(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function S3(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function fC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t,e){return e}class Sn{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||b3}}let Fd=null;function I3(t){return!t_(t)||t.length<2?t:fC(t)}function pC(){if(Fd)return Fd;const t=[];t.push(new Sn("bucket")),t.push(new Sn("generation")),t.push(new Sn("metageneration")),t.push(new Sn("name","fullPath",!0));function e(o,l){return I3(l)}const n=new Sn("name");n.xform=e,t.push(n);function i(o,l){return l!==void 0?Number(l):l}const r=new Sn("size");return r.xform=i,t.push(r),t.push(new Sn("timeCreated")),t.push(new Sn("updated")),t.push(new Sn("md5Hash",null,!0)),t.push(new Sn("cacheControl",null,!0)),t.push(new Sn("contentDisposition",null,!0)),t.push(new Sn("contentEncoding",null,!0)),t.push(new Sn("contentLanguage",null,!0)),t.push(new Sn("contentType",null,!0)),t.push(new Sn("metadata","customMetadata",!0)),Fd=t,Fd}function C3(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Wn(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function P3(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const l=n[o];i[l.local]=l.xform(i,e[l.server])}return C3(i,t),i}function mC(t,e,n){const i=dC(e);return i===null?null:P3(t,i,n)}function k3(t,e,n,i){const r=dC(e);if(r===null||!t_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const m=t.bucket,y=t.fullPath,w="/b/"+l(m)+"/o/"+l(y),T=i_(w,n,i),S=lC({alt:"media",token:f});return T+S})[0]}function R3(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class gC{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){if(!t)throw e_()}function A3(t,e){function n(i,r){const o=mC(t,r,e);return yC(o!==null),o}return n}function D3(t,e){function n(i,r){const o=mC(t,r,e);return yC(o!==null),k3(o,r,t.host,t._protocol)}return n}function vC(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=WL():r=HL():n.getStatus()===402?r=$L(t.bucket):n.getStatus()===403?r=qL(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function M3(t){const e=vC(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=BL(t.path)),o.serverResponse=r.serverResponse,o}return n}function O3(t,e,n){const i=e.fullServerUrl(),r=i_(i,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,u=new gC(r,o,D3(t,n),l);return u.errorHandler=M3(e),u}function N3(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function V3(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=N3(null,e)),i}function L3(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let z="";for(let q=0;q<2;q++)z=z+Math.random().toString().slice(2);return z}const h=u();l["Content-Type"]="multipart/related; boundary="+h;const f=V3(e,i,r),m=R3(f,n),y="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,w=`\r
--`+h+"--",T=As.getBlob(y,i,w);if(T===null)throw JL();const S={name:f.fullPath},P=i_(o,t.host,t._protocol),b="POST",A=t.maxUploadRetryTime,F=new gC(P,b,A3(t,n),A);return F.urlParams=S,F.headers=l,F.body=T.uploadData(),F.errorHandler=vC(e),F}class F3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r,o){if(this.sent_)throw rc("cannot .send() more than once");if(Zs(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class U3 extends F3{initXhr(){this.xhr_.responseType="text"}}function _C(){return new U3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n){this._service=e,n instanceof Wn?this._location=n:this._location=Wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sa(e,n)}get root(){const e=new Wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fC(this._location.path)}get storage(){return this._service}get parent(){const e=x3(this._location.path);if(e===null)return null;const n=new Wn(this._location.bucket,e);return new sa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw t3(e)}}function j3(t,e,n){t._throwIfRoot("uploadBytes");const i=L3(t.storage,t._location,pC(),new As(e,!0),n);return t.storage.makeRequestWithTokens(i,_C).then(r=>({metadata:r,ref:t}))}function z3(t){t._throwIfRoot("getDownloadURL");const e=O3(t.storage,t._location,pC());return t.storage.makeRequestWithTokens(e,_C).then(n=>{if(n===null)throw ZL();return n})}function B3(t,e){const n=S3(t._location.path,e),i=new Wn(t._location.bucket,n);return new sa(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $3(t){return/^[A-Za-z]+:\/\//.test(t)}function H3(t,e){return new sa(t,e)}function wC(t,e){if(t instanceof r_){const n=t;if(n._bucket==null)throw YL();const i=new sa(n,n._bucket);return e!=null?wC(i,e):i}else return e!==void 0?B3(t,e):t}function W3(t,e){if(e&&$3(e)){if(t instanceof r_)return H3(t,e);throw Py("To use ref(service, url), the first argument must be a Storage instance.")}else return wC(t,e)}function G1(t,e){const n=e?.[oC];return n==null?null:Wn.makeFromBucketSpec(n,t)}function q3(t,e,n,i={}){t.host=`${e}:${n}`;const r=Zs(e);r&&(uv(`https://${t.host}/b`),cv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:zS(o,t.app.options.projectId))}class r_{constructor(e,n,i,r,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=sC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jL,this._maxUploadRetryTime=zL,this._requests=new Set,r!=null?this._bucket=Wn.makeFromBucketSpec(r,this._host):this._bucket=G1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Wn.makeFromBucketSpec(this._url,e):this._bucket=G1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sa(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new n3(aC());{const l=f3(e,this._appId,i,r,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const K1="@firebase/storage",Q1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="storage";function sW(t,e,n){return t=Ht(t),j3(t,e,n)}function oW(t){return t=Ht(t),z3(t)}function aW(t,e){return t=Ht(t),W3(t,e)}function G3(t=fv(),e){t=Ht(t);const i=np(t,EC).getImmediate({identifier:e}),r=FS("storage");return r&&K3(i,...r),i}function K3(t,e,n,i={}){q3(t,e,n,i)}function Q3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new r_(n,i,r,e,ha)}function X3(){ea(new Bs(EC,Q3,"PUBLIC").setMultipleInstances(!0)),ir(K1,Q1,""),ir(K1,Q1,"esm2020")}X3();const s_=L.createContext({});function o_(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ep=L.createContext(null),a_=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Y3 extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function J3({children:t,isPresent:e}){const n=L.useId(),i=L.useRef(null),r=L.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=L.useContext(a_);return L.useInsertionEffect(()=>{const{width:l,height:u,top:h,left:f}=r.current;if(e||!i.current||!l||!u)return;i.current.dataset.motionPopId=n;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${h}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),k.jsx(Y3,{isPresent:e,childRef:i,sizeRef:r,children:L.cloneElement(t,{ref:i})})}const Z3=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:o,mode:l})=>{const u=o_(e6),h=L.useId(),f=L.useCallback(y=>{u.set(y,!0);for(const w of u.values())if(!w)return;i&&i()},[u,i]),m=L.useMemo(()=>({id:h,initial:e,isPresent:n,custom:r,onExitComplete:f,register:y=>(u.set(y,!1),()=>u.delete(y))}),o?[Math.random(),f]:[n,f]);return L.useMemo(()=>{u.forEach((y,w)=>u.set(w,!1))},[n]),L.useEffect(()=>{!n&&!u.size&&i&&i()},[n]),l==="popLayout"&&(t=k.jsx(J3,{isPresent:n,children:t})),k.jsx(Ep.Provider,{value:m,children:t})};function e6(){return new Map}function TC(t=!0){const e=L.useContext(Ep);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,o=L.useId();L.useEffect(()=>{t&&r(o)},[t]);const l=L.useCallback(()=>t&&i&&i(o),[o,i,t]);return!n&&i?[!1,l]:[!0]}const Ud=t=>t.key||"";function X1(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const l_=typeof window<"u",xC=l_?L.useLayoutEffect:L.useEffect,u_=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:o="sync",propagate:l=!1})=>{const[u,h]=TC(l),f=L.useMemo(()=>X1(t),[t]),m=l&&!u?[]:f.map(Ud),y=L.useRef(!0),w=L.useRef(f),T=o_(()=>new Map),[S,P]=L.useState(f),[b,A]=L.useState(f);xC(()=>{y.current=!1,w.current=f;for(let q=0;q<b.length;q++){const X=Ud(b[q]);m.includes(X)?T.delete(X):T.get(X)!==!0&&T.set(X,!1)}},[b,m.length,m.join("-")]);const F=[];if(f!==S){let q=[...f];for(let X=0;X<b.length;X++){const ne=b[X],M=Ud(ne);m.includes(M)||(q.splice(X,0,ne),F.push(ne))}o==="wait"&&F.length&&(q=F),A(X1(q)),P(f);return}const{forceRender:z}=L.useContext(s_);return k.jsx(k.Fragment,{children:b.map(q=>{const X=Ud(q),ne=l&&!u?!1:f===b||m.includes(X),M=()=>{if(T.has(X))T.set(X,!0);else return;let C=!0;T.forEach(R=>{R||(C=!1)}),C&&(z?.(),A(w.current),l&&h?.(),i&&i())};return k.jsx(Z3,{isPresent:ne,initial:!y.current||n?void 0:!1,custom:ne?void 0:e,presenceAffectsLayout:r,mode:o,onExitComplete:ne?void 0:M,children:q},X)})})},Gn=t=>t;let SC=Gn;function c_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Hl=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},Hr=t=>t*1e3,Wr=t=>t/1e3,t6={useManualTiming:!1};function n6(t){let e=new Set,n=new Set,i=!1,r=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),t()),f(l)}const h={schedule:(f,m=!1,y=!1)=>{const T=y&&i?e:n;return m&&o.add(f),T.has(f)||T.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(u),e.clear(),i=!1,r&&(r=!1,h.process(f))}};return h}const jd=["read","resolveKeyframes","update","preRender","render","postRender"],i6=40;function bC(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=jd.reduce((A,F)=>(A[F]=n6(o),A),{}),{read:u,resolveKeyframes:h,update:f,preRender:m,render:y,postRender:w}=l,T=()=>{const A=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(A-r.timestamp,i6),1),r.timestamp=A,r.isProcessing=!0,u.process(r),h.process(r),f.process(r),m.process(r),y.process(r),w.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(T))},S=()=>{n=!0,i=!0,r.isProcessing||t(T)};return{schedule:jd.reduce((A,F)=>{const z=l[F];return A[F]=(q,X=!1,ne=!1)=>(n||S(),z.schedule(q,X,ne)),A},{}),cancel:A=>{for(let F=0;F<jd.length;F++)l[jd[F]].cancel(A)},state:r,steps:l}}const{schedule:it,cancel:Qs,state:Yt,steps:xg}=bC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gn,!0),h_=L.createContext({strict:!1}),Y1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const t in Y1)Wl[t]={isEnabled:e=>Y1[t].some(n=>!!e[n])};function ky(t){for(const e in t)Wl[e]={...Wl[e],...t[e]}}function r6({children:t,features:e,strict:n=!1}){const[,i]=L.useState(!Sg(e)),r=L.useRef(void 0);if(!Sg(e)){const{renderer:o,...l}=e;r.current=o,ky(l)}return L.useEffect(()=>{Sg(e)&&e().then(({renderer:o,...l})=>{ky(l),r.current=o,i(!0)})},[]),k.jsx(h_.Provider,{value:{renderer:r.current,strict:n},children:t})}function Sg(t){return typeof t=="function"}const s6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ff(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||s6.has(t)}let IC=t=>!Ff(t);function o6(t){t&&(IC=e=>e.startsWith("on")?!Ff(e):t(e))}try{o6(require("@emotion/is-prop-valid").default)}catch{}function a6(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(IC(r)||n===!0&&Ff(r)||!e&&!Ff(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function l6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Tp=L.createContext({});function jc(t){return typeof t=="string"||Array.isArray(t)}function xp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const d_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],f_=["initial",...d_];function Sp(t){return xp(t.animate)||f_.some(e=>jc(t[e]))}function CC(t){return!!(Sp(t)||t.variants)}function u6(t,e){if(Sp(t)){const{initial:n,animate:i}=t;return{initial:n===!1||jc(n)?n:void 0,animate:jc(i)?i:void 0}}return t.inherit!==!1?e:{}}function c6(t){const{initial:e,animate:n}=u6(t,L.useContext(Tp));return L.useMemo(()=>({initial:e,animate:n}),[J1(e),J1(n)])}function J1(t){return Array.isArray(t)?t.join(" "):t}const h6=Symbol.for("motionComponentSymbol");function _l(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function d6(t,e,n){return L.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):_l(n)&&(n.current=i))},[e])}const p_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),f6="framerAppearId",PC="data-"+p_(f6),{schedule:m_}=bC(queueMicrotask,!1),kC=L.createContext({});function p6(t,e,n,i,r){var o,l;const{visualElement:u}=L.useContext(Tp),h=L.useContext(h_),f=L.useContext(Ep),m=L.useContext(a_).reducedMotion,y=L.useRef(null);i=i||h.renderer,!y.current&&i&&(y.current=i(t,{visualState:e,parent:u,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:m}));const w=y.current,T=L.useContext(kC);w&&!w.projection&&r&&(w.type==="html"||w.type==="svg")&&m6(y.current,n,r,T);const S=L.useRef(!1);L.useInsertionEffect(()=>{w&&S.current&&w.update(n,f)});const P=n[PC],b=L.useRef(!!P&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,P))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,P)));return xC(()=>{w&&(S.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),m_.render(w.render),b.current&&w.animationState&&w.animationState.animateChanges())}),L.useEffect(()=>{w&&(!b.current&&w.animationState&&w.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var A;(A=window.MotionHandoffMarkAsComplete)===null||A===void 0||A.call(window,P)}),b.current=!1))}),w}function m6(t,e,n,i){const{layoutId:r,layout:o,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:RC(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!l||u&&_l(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}function RC(t){if(t)return t.options.allowProjection!==!1?t.projection:RC(t.parent)}function g6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var o,l;t&&ky(t);function u(f,m){let y;const w={...L.useContext(a_),...f,layoutId:y6(f)},{isStatic:T}=w,S=c6(f),P=i(f,T);if(!T&&l_){v6();const b=_6(w);y=b.MeasureLayout,S.visualElement=p6(r,P,w,e,b.ProjectionNode)}return k.jsxs(Tp.Provider,{value:S,children:[y&&S.visualElement?k.jsx(y,{visualElement:S.visualElement,...w}):null,n(r,f,d6(P,S.visualElement,m),P,T,S.visualElement)]})}u.displayName=`motion.${typeof r=="string"?r:`create(${(l=(o=r.displayName)!==null&&o!==void 0?o:r.name)!==null&&l!==void 0?l:""})`}`;const h=L.forwardRef(u);return h[h6]=r,h}function y6({layoutId:t}){const e=L.useContext(s_).id;return e&&t!==void 0?e+"-"+t:t}function v6(t,e){L.useContext(h_).strict}function _6(t){const{drag:e,layout:n}=Wl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const w6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g_(t){return typeof t!="string"||t.includes("-")?!1:!!(w6.indexOf(t)>-1||/[A-Z]/u.test(t))}function Z1(t){const e=[{},{}];return t?.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function y_(t,e,n,i){if(typeof e=="function"){const[r,o]=Z1(i);e=e(n!==void 0?n:t.custom,r,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,o]=Z1(i);e=e(n!==void 0?n:t.custom,r,o)}return e}const Ry=t=>Array.isArray(t),E6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),T6=t=>Ry(t)?t[t.length-1]||0:t,fn=t=>!!(t&&t.getVelocity);function df(t){const e=fn(t)?t.get():t;return E6(e)?e.toValue():e}function x6({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,o){const l={latestValues:S6(i,r,o,t),renderState:e()};return n&&(l.onMount=u=>n({props:i,current:u,...l}),l.onUpdate=u=>n(u)),l}const AC=t=>(e,n)=>{const i=L.useContext(Tp),r=L.useContext(Ep),o=()=>x6(t,e,i,r);return n?o():o_(o)};function S6(t,e,n,i){const r={},o=i(t,{});for(const w in o)r[w]=df(o[w]);let{initial:l,animate:u}=t;const h=Sp(t),f=CC(t);e&&f&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=n?n.initial===!1:!1;m=m||l===!1;const y=m?u:l;if(y&&typeof y!="boolean"&&!xp(y)){const w=Array.isArray(y)?y:[y];for(let T=0;T<w.length;T++){const S=y_(t,w[T]);if(S){const{transitionEnd:P,transition:b,...A}=S;for(const F in A){let z=A[F];if(Array.isArray(z)){const q=m?z.length-1:0;z=z[q]}z!==null&&(r[F]=z)}for(const F in P)r[F]=P[F]}}}return r}const ou=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ya=new Set(ou),DC=t=>e=>typeof e=="string"&&e.startsWith(t),MC=DC("--"),b6=DC("var(--"),v_=t=>b6(t)?I6.test(t.split("/*")[0].trim()):!1,I6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,OC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Jr=(t,e,n)=>n>e?e:n<t?t:n,au={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},zc={...au,transform:t=>Jr(0,1,t)},zd={...au,default:1},uh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Is=uh("deg"),hr=uh("%"),Te=uh("px"),C6=uh("vh"),P6=uh("vw"),eT={...hr,parse:t=>hr.parse(t)/100,transform:t=>hr.transform(t*100)},k6={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,backgroundPositionX:Te,backgroundPositionY:Te},R6={rotate:Is,rotateX:Is,rotateY:Is,rotateZ:Is,scale:zd,scaleX:zd,scaleY:zd,scaleZ:zd,skew:Is,skewX:Is,skewY:Is,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:zc,originX:eT,originY:eT,originZ:Te},tT={...au,transform:Math.round},__={...k6,...R6,zIndex:tT,size:Te,fillOpacity:zc,strokeOpacity:zc,numOctaves:tT},A6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D6=ou.length;function M6(t,e,n){let i="",r=!0;for(let o=0;o<D6;o++){const l=ou[o],u=t[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=OC(u,__[l]);if(!h){r=!1;const m=A6[l]||l;i+=`${m}(${f}) `}n&&(e[l]=f)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function w_(t,e,n){const{style:i,vars:r,transformOrigin:o}=t;let l=!1,u=!1;for(const h in e){const f=e[h];if(ya.has(h)){l=!0;continue}else if(MC(h)){r[h]=f;continue}else{const m=OC(f,__[h]);h.startsWith("origin")?(u=!0,o[h]=m):i[h]=m}}if(e.transform||(l||n?i.transform=M6(e,t.transform,n):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:m=0}=o;i.transformOrigin=`${h} ${f} ${m}`}}const O6={offset:"stroke-dashoffset",array:"stroke-dasharray"},N6={offset:"strokeDashoffset",array:"strokeDasharray"};function V6(t,e,n=1,i=0,r=!0){t.pathLength=1;const o=r?O6:N6;t[o.offset]=Te.transform(-i);const l=Te.transform(e),u=Te.transform(n);t[o.array]=`${l} ${u}`}function nT(t,e,n){return typeof t=="string"?t:Te.transform(e+n*t)}function L6(t,e,n){const i=nT(e,t.x,t.width),r=nT(n,t.y,t.height);return`${i} ${r}`}function E_(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:o,pathLength:l,pathSpacing:u=1,pathOffset:h=0,...f},m,y){if(w_(t,f,y),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:T,dimensions:S}=t;w.transform&&(S&&(T.transform=w.transform),delete w.transform),S&&(r!==void 0||o!==void 0||T.transform)&&(T.transformOrigin=L6(S,r!==void 0?r:.5,o!==void 0?o:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),l!==void 0&&V6(w,l,u,h,!1)}const T_=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),NC=()=>({...T_(),attrs:{}}),x_=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VC(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const o in n)t.style.setProperty(o,n[o])}const LC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FC(t,e,n,i){VC(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(LC.has(r)?r:p_(r),e.attrs[r])}const Uf={};function F6(t){Object.assign(Uf,t)}function UC(t,{layout:e,layoutId:n}){return ya.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uf[t]||t==="opacity")}function S_(t,e,n){var i;const{style:r}=t,o={};for(const l in r)(fn(r[l])||e.style&&fn(e.style[l])||UC(l,t)||((i=n?.getValue(l))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(o[l]=r[l]);return o}function jC(t,e,n){const i=S_(t,e,n);for(const r in t)if(fn(t[r])||fn(e[r])){const o=ou.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[o]=t[r]}return i}function U6(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const iT=["x","y","width","height","cx","cy","r"],j6={useVisualState:AC({scrapeMotionValuesFromProps:jC,createRenderState:NC,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let o=!!t.drag;if(!o){for(const u in r)if(ya.has(u)){o=!0;break}}if(!o)return;let l=!e;if(e)for(let u=0;u<iT.length;u++){const h=iT[u];t[h]!==e[h]&&(l=!0)}l&&it.read(()=>{U6(n,i),it.render(()=>{E_(i,r,x_(n.tagName),t.transformTemplate),FC(n,i)})})}})},z6={useVisualState:AC({scrapeMotionValuesFromProps:S_,createRenderState:T_})};function zC(t,e,n){for(const i in e)!fn(e[i])&&!UC(i,n)&&(t[i]=e[i])}function B6({transformTemplate:t},e){return L.useMemo(()=>{const n=T_();return w_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $6(t,e){const n=t.style||{},i={};return zC(i,n,t),Object.assign(i,B6(t,e)),i}function H6(t,e){const n={},i=$6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}function W6(t,e,n,i){const r=L.useMemo(()=>{const o=NC();return E_(o,e,x_(i),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};zC(o,t.style,t),r.style={...o,...r.style}}return r}function q6(t=!1){return(n,i,r,{latestValues:o},l)=>{const h=(g_(n)?W6:H6)(i,o,l,n),f=a6(i,typeof n=="string",t),m=n!==L.Fragment?{...f,...h,ref:r}:{},{children:y}=i,w=L.useMemo(()=>fn(y)?y.get():y,[y]);return L.createElement(n,{...m,children:w})}}function G6(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const l={...g_(i)?j6:z6,preloadedFeatures:t,useRender:q6(r),createVisualElement:e,Component:i};return g6(l)}}function BC(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function bp(t,e,n){const i=t.getProps();return y_(i,e,n!==void 0?n:i.custom,t)}const K6=c_(()=>window.ScrollTimeline!==void 0);class Q6{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(K6()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,o)=>{r&&r(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class X6 extends Q6{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function b_(t,e){return t?t[e]||t.default||t:void 0}const Ay=2e4;function $C(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Ay;)e+=n,i=t.next(e);return e>=Ay?1/0:e}function I_(t){return typeof t=="function"}function rT(t,e){t.timeline=e,t.onfinish=null}const C_=t=>Array.isArray(t)&&typeof t[0]=="number",Y6={linearEasing:void 0};function J6(t,e){const n=c_(t);return()=>{var i;return(i=Y6[e])!==null&&i!==void 0?i:n()}}const jf=J6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),HC=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let o=0;o<r;o++)i+=t(Hl(0,r-1,o))+", ";return`linear(${i.substring(0,i.length-2)})`};function WC(t){return!!(typeof t=="function"&&jf()||!t||typeof t=="string"&&(t in Dy||jf())||C_(t)||Array.isArray(t)&&t.every(WC))}const fc=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Dy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fc([0,.65,.55,1]),circOut:fc([.55,0,1,.45]),backIn:fc([.31,.01,.66,-.59]),backOut:fc([.33,1.53,.69,.99])};function qC(t,e){if(t)return typeof t=="function"&&jf()?HC(t,e):C_(t)?fc(t):Array.isArray(t)?t.map(n=>qC(n,e)||Dy.easeOut):Dy[t]}const Di={x:!1,y:!1};function GC(){return Di.x||Di.y}function KC(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const o=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function QC(t,e){const n=KC(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function sT(t){return e=>{e.pointerType==="touch"||GC()||t(e)}}function Z6(t,e,n={}){const[i,r,o]=QC(t,n),l=sT(u=>{const{target:h}=u,f=e(u);if(typeof f!="function"||!h)return;const m=sT(y=>{f(y),h.removeEventListener("pointerleave",m)});h.addEventListener("pointerleave",m,r)});return i.forEach(u=>{u.addEventListener("pointerenter",l,r)}),o}const XC=(t,e)=>e?t===e?!0:XC(t,e.parentElement):!1,P_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,e5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function t5(t){return e5.has(t.tagName)||t.tabIndex!==-1}const pc=new WeakSet;function oT(t){return e=>{e.key==="Enter"&&t(e)}}function bg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const n5=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=oT(()=>{if(pc.has(n))return;bg(n,"down");const r=oT(()=>{bg(n,"up")}),o=()=>bg(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function aT(t){return P_(t)&&!GC()}function i5(t,e,n={}){const[i,r,o]=QC(t,n),l=u=>{const h=u.currentTarget;if(!aT(u)||pc.has(h))return;pc.add(h);const f=e(u),m=(T,S)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),!(!aT(T)||!pc.has(h))&&(pc.delete(h),typeof f=="function"&&f(T,{success:S}))},y=T=>{m(T,n.useGlobalTarget||XC(h,T.target))},w=T=>{m(T,!1)};window.addEventListener("pointerup",y,r),window.addEventListener("pointercancel",w,r)};return i.forEach(u=>{!t5(u)&&u.getAttribute("tabindex")===null&&(u.tabIndex=0),(n.useGlobalTarget?window:u).addEventListener("pointerdown",l,r),u.addEventListener("focus",f=>n5(f,r),r)}),o}function r5(t){return t==="x"||t==="y"?Di[t]?null:(Di[t]=!0,()=>{Di[t]=!1}):Di.x||Di.y?null:(Di.x=Di.y=!0,()=>{Di.x=Di.y=!1})}const YC=new Set(["width","height","top","left","right","bottom",...ou]);let ff;function s5(){ff=void 0}const dr={now:()=>(ff===void 0&&dr.set(Yt.isProcessing||t6.useManualTiming?Yt.timestamp:performance.now()),ff),set:t=>{ff=t,queueMicrotask(s5)}};function k_(t,e){t.indexOf(e)===-1&&t.push(e)}function R_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class A_{constructor(){this.subscriptions=[]}add(e){return k_(this.subscriptions,e),()=>R_(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let o=0;o<r;o++){const l=this.subscriptions[o];l&&l(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function JC(t,e){return e?t*(1e3/e):0}const lT=30,o5=t=>!isNaN(parseFloat(t));class a5{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const o=dr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=dr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=o5(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new A_);const i=this.events[e].add(n);return e==="change"?()=>{i(),it.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=dr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lT);return JC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bc(t,e){return new a5(t,e)}function l5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bc(n))}function u5(t,e){const n=bp(t,e);let{transitionEnd:i={},transition:r={},...o}=n||{};o={...o,...i};for(const l in o){const u=T6(o[l]);l5(t,l,u)}}function c5(t){return!!(fn(t)&&t.add)}function My(t,e){const n=t.getValue("willChange");if(c5(n))return n.add(e)}function ZC(t){return t.props[PC]}const eP=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,h5=1e-7,d5=12;function f5(t,e,n,i,r){let o,l,u=0;do l=e+(n-e)/2,o=eP(l,i,r)-t,o>0?n=l:e=l;while(Math.abs(o)>h5&&++u<d5);return l}function ch(t,e,n,i){if(t===e&&n===i)return Gn;const r=o=>f5(o,0,1,t,n);return o=>o===0||o===1?o:eP(r(o),e,i)}const tP=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,nP=t=>e=>1-t(1-e),iP=ch(.33,1.53,.69,.99),D_=nP(iP),rP=tP(D_),sP=t=>(t*=2)<1?.5*D_(t):.5*(2-Math.pow(2,-10*(t-1))),M_=t=>1-Math.sin(Math.acos(t)),oP=nP(M_),aP=tP(M_),lP=t=>/^0[^.\s]+$/u.test(t);function p5(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lP(t):!0}const Sc=t=>Math.round(t*1e5)/1e5,O_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function m5(t){return t==null}const g5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N_=(t,e)=>n=>!!(typeof n=="string"&&g5.test(n)&&n.startsWith(t)||e&&!m5(n)&&Object.prototype.hasOwnProperty.call(n,e)),uP=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,o,l,u]=i.match(O_);return{[t]:parseFloat(r),[e]:parseFloat(o),[n]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},y5=t=>Jr(0,255,t),Ig={...au,transform:t=>Math.round(y5(t))},Ho={test:N_("rgb","red"),parse:uP("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Ig.transform(t)+", "+Ig.transform(e)+", "+Ig.transform(n)+", "+Sc(zc.transform(i))+")"};function v5(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Oy={test:N_("#"),parse:v5,transform:Ho.transform},wl={test:N_("hsl","hue"),parse:uP("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+hr.transform(Sc(e))+", "+hr.transform(Sc(n))+", "+Sc(zc.transform(i))+")"},ln={test:t=>Ho.test(t)||Oy.test(t)||wl.test(t),parse:t=>Ho.test(t)?Ho.parse(t):wl.test(t)?wl.parse(t):Oy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ho.transform(t):wl.transform(t)},_5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w5(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(O_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_5))===null||n===void 0?void 0:n.length)||0)>0}const cP="number",hP="color",E5="var",T5="var(",uT="${}",x5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $c(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let o=0;const u=e.replace(x5,h=>(ln.test(h)?(i.color.push(o),r.push(hP),n.push(ln.parse(h))):h.startsWith(T5)?(i.var.push(o),r.push(E5),n.push(h)):(i.number.push(o),r.push(cP),n.push(parseFloat(h))),++o,uT)).split(uT);return{values:n,split:u,indexes:i,types:r}}function dP(t){return $c(t).values}function fP(t){const{split:e,types:n}=$c(t),i=e.length;return r=>{let o="";for(let l=0;l<i;l++)if(o+=e[l],r[l]!==void 0){const u=n[l];u===cP?o+=Sc(r[l]):u===hP?o+=ln.transform(r[l]):o+=r[l]}return o}}const S5=t=>typeof t=="number"?0:t;function b5(t){const e=dP(t);return fP(t)(e.map(S5))}const Xs={test:w5,parse:dP,createTransformer:fP,getAnimatableNone:b5},I5=new Set(["brightness","contrast","saturate","opacity"]);function C5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(O_)||[];if(!i)return t;const r=n.replace(i,"");let o=I5.has(e)?1:0;return i!==n&&(o*=100),e+"("+o+r+")"}const P5=/\b([a-z-]*)\(.*?\)/gu,Ny={...Xs,getAnimatableNone:t=>{const e=t.match(P5);return e?e.map(C5).join(" "):t}},k5={...__,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:Ny,WebkitFilter:Ny},V_=t=>k5[t];function pP(t,e){let n=V_(t);return n!==Ny&&(n=Xs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const R5=new Set(["auto","none","0"]);function A5(t,e,n){let i=0,r;for(;i<t.length&&!r;){const o=t[i];typeof o=="string"&&!R5.has(o)&&$c(o).values.length&&(r=t[i]),i++}if(r&&n)for(const o of e)t[o]=pP(n,r)}const cT=t=>t===au||t===Te,hT=(t,e)=>parseFloat(t.split(", ")[e]),dT=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return hT(r[1],e);{const o=i.match(/^matrix\((.+)\)$/u);return o?hT(o[1],t):0}},D5=new Set(["x","y","z"]),M5=ou.filter(t=>!D5.has(t));function O5(t){const e=[];return M5.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ql={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dT(4,13),y:dT(5,14)};ql.translateX=ql.x;ql.translateY=ql.y;const Yo=new Set;let Vy=!1,Ly=!1;function mP(){if(Ly){const t=Array.from(Yo).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=O5(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([o,l])=>{var u;(u=i.getValue(o))===null||u===void 0||u.set(l)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ly=!1,Vy=!1,Yo.forEach(t=>t.complete()),Yo.clear()}function gP(){Yo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ly=!0)})}function N5(){gP(),mP()}class L_{constructor(e,n,i,r,o,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=o,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Yo.add(this),Vy||(Vy=!0,it.read(gP),it.resolveKeyframes(mP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const l=r?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),r&&l===void 0&&r.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Yo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Yo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yP=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),V5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function L5(t){const e=V5.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function vP(t,e,n=1){const[i,r]=L5(t);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const l=o.trim();return yP(l)?parseFloat(l):l}return v_(r)?vP(r,e,n+1):r}const _P=t=>e=>e.test(t),F5={test:t=>t==="auto",parse:t=>t},wP=[au,Te,hr,Is,P6,C6,F5],fT=t=>wP.find(_P(t));class EP extends L_{constructor(e,n,i,r,o){super(e,n,i,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),v_(f))){const m=vP(f,n.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!YC.has(i)||e.length!==2)return;const[r,o]=e,l=fT(r),u=fT(o);if(l!==u)if(cT(l)&&cT(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)p5(e[r])&&i.push(r);i.length&&A5(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ql[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const o=n.getValue(i);o&&o.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=ql[i](n.measureViewportBox(),window.getComputedStyle(n.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,f])=>{n.getValue(h).set(f)}),this.resolveNoneKeyframes()}}const pT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xs.test(t)||t==="0")&&!t.startsWith("url("));function U5(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function j5(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=pT(r,e),u=pT(o,e);return!l||!u?!1:U5(t)||(n==="spring"||I_(n))&&i}const z5=t=>t!==null;function Ip(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(z5),o=e&&n!=="loop"&&e%2===1?0:r.length-1;return!o||i===void 0?r[o]:i}const B5=40;class TP{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:l="loop",...u}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=dr.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:o,repeatType:l,...u},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>B5?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&N5(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=dr.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:o,delay:l,onComplete:u,onUpdate:h,isGenerator:f}=this.options;if(!f&&!j5(e,i,r,o))if(l)this.options.duration=0;else{h&&h(Ip(e,this.options,n)),u&&u(),this.resolveFinishedPromise();return}const m=this.initPlayback(e,n);m!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...m},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const ut=(t,e,n)=>t+(e-t)*n;function Cg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $5({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,o=0,l=0;if(!e)r=o=l=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;r=Cg(h,u,t+1/3),o=Cg(h,u,t),l=Cg(h,u,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:i}}function zf(t,e){return n=>n>0?e:t}const Pg=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},H5=[Oy,Ho,wl],W5=t=>H5.find(e=>e.test(t));function mT(t){const e=W5(t);if(!e)return!1;let n=e.parse(t);return e===wl&&(n=$5(n)),n}const gT=(t,e)=>{const n=mT(t),i=mT(e);if(!n||!i)return zf(t,e);const r={...n};return o=>(r.red=Pg(n.red,i.red,o),r.green=Pg(n.green,i.green,o),r.blue=Pg(n.blue,i.blue,o),r.alpha=ut(n.alpha,i.alpha,o),Ho.transform(r))},q5=(t,e)=>n=>e(t(n)),hh=(...t)=>t.reduce(q5),Fy=new Set(["none","hidden"]);function G5(t,e){return Fy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function K5(t,e){return n=>ut(t,e,n)}function F_(t){return typeof t=="number"?K5:typeof t=="string"?v_(t)?zf:ln.test(t)?gT:Y5:Array.isArray(t)?xP:typeof t=="object"?ln.test(t)?gT:Q5:zf}function xP(t,e){const n=[...t],i=n.length,r=t.map((o,l)=>F_(o)(o,e[l]));return o=>{for(let l=0;l<i;l++)n[l]=r[l](o);return n}}function Q5(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=F_(t[r])(t[r],e[r]));return r=>{for(const o in i)n[o]=i[o](r);return n}}function X5(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],u=t.indexes[l][r[l]],h=(n=t.values[u])!==null&&n!==void 0?n:0;i[o]=h,r[l]++}return i}const Y5=(t,e)=>{const n=Xs.createTransformer(e),i=$c(t),r=$c(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Fy.has(t)&&!r.values.length||Fy.has(e)&&!i.values.length?G5(t,e):hh(xP(X5(i,r),r.values),n):zf(t,e)};function SP(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?ut(t,e,n):F_(t)(t,e)}const J5=5;function bP(t,e,n){const i=Math.max(e-J5,0);return JC(n-t(i),e-i)}const pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},kg=.001;function Z5({duration:t=pt.duration,bounce:e=pt.bounce,velocity:n=pt.velocity,mass:i=pt.mass}){let r,o,l=1-e;l=Jr(pt.minDamping,pt.maxDamping,l),t=Jr(pt.minDuration,pt.maxDuration,Wr(t)),l<1?(r=f=>{const m=f*l,y=m*t,w=m-n,T=Uy(f,l),S=Math.exp(-y);return kg-w/T*S},o=f=>{const y=f*l*t,w=y*n+n,T=Math.pow(l,2)*Math.pow(f,2)*t,S=Math.exp(-y),P=Uy(Math.pow(f,2),l);return(-r(f)+kg>0?-1:1)*((w-T)*S)/P}):(r=f=>{const m=Math.exp(-f*t),y=(f-n)*t+1;return-kg+m*y},o=f=>{const m=Math.exp(-f*t),y=(n-f)*(t*t);return m*y});const u=5/t,h=t9(r,o,u);if(t=Hr(t),isNaN(h))return{stiffness:pt.stiffness,damping:pt.damping,duration:t};{const f=Math.pow(h,2)*i;return{stiffness:f,damping:l*2*Math.sqrt(i*f),duration:t}}}const e9=12;function t9(t,e,n){let i=n;for(let r=1;r<e9;r++)i=i-t(i)/e(i);return i}function Uy(t,e){return t*Math.sqrt(1-e*e)}const n9=["duration","bounce"],i9=["stiffness","damping","mass"];function yT(t,e){return e.some(n=>t[n]!==void 0)}function r9(t){let e={velocity:pt.velocity,stiffness:pt.stiffness,damping:pt.damping,mass:pt.mass,isResolvedFromDuration:!1,...t};if(!yT(t,i9)&&yT(t,n9))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,o=2*Jr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:pt.mass,stiffness:r,damping:o}}else{const n=Z5(t);e={...e,...n,mass:pt.mass},e.isResolvedFromDuration=!0}return e}function IP(t=pt.visualDuration,e=pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:m,duration:y,velocity:w,isResolvedFromDuration:T}=r9({...n,velocity:-Wr(n.velocity||0)}),S=w||0,P=f/(2*Math.sqrt(h*m)),b=l-o,A=Wr(Math.sqrt(h/m)),F=Math.abs(b)<5;i||(i=F?pt.restSpeed.granular:pt.restSpeed.default),r||(r=F?pt.restDelta.granular:pt.restDelta.default);let z;if(P<1){const X=Uy(A,P);z=ne=>{const M=Math.exp(-P*A*ne);return l-M*((S+P*A*b)/X*Math.sin(X*ne)+b*Math.cos(X*ne))}}else if(P===1)z=X=>l-Math.exp(-A*X)*(b+(S+A*b)*X);else{const X=A*Math.sqrt(P*P-1);z=ne=>{const M=Math.exp(-P*A*ne),C=Math.min(X*ne,300);return l-M*((S+P*A*b)*Math.sinh(C)+X*b*Math.cosh(C))/X}}const q={calculatedDuration:T&&y||null,next:X=>{const ne=z(X);if(T)u.done=X>=y;else{let M=0;P<1&&(M=X===0?Hr(S):bP(z,X,ne));const C=Math.abs(M)<=i,R=Math.abs(l-ne)<=r;u.done=C&&R}return u.value=u.done?l:ne,u},toString:()=>{const X=Math.min($C(q),Ay),ne=HC(M=>q.next(X*M).value,X,30);return X+"ms "+ne}};return q}function vT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:l,min:u,max:h,restDelta:f=.5,restSpeed:m}){const y=t[0],w={done:!1,value:y},T=C=>u!==void 0&&C<u||h!==void 0&&C>h,S=C=>u===void 0?h:h===void 0||Math.abs(u-C)<Math.abs(h-C)?u:h;let P=n*e;const b=y+P,A=l===void 0?b:l(b);A!==b&&(P=A-y);const F=C=>-P*Math.exp(-C/i),z=C=>A+F(C),q=C=>{const R=F(C),N=z(C);w.done=Math.abs(R)<=f,w.value=w.done?A:N};let X,ne;const M=C=>{T(w.value)&&(X=C,ne=IP({keyframes:[w.value,S(w.value)],velocity:bP(z,C,w.value),damping:r,stiffness:o,restDelta:f,restSpeed:m}))};return M(0),{calculatedDuration:null,next:C=>{let R=!1;return!ne&&X===void 0&&(R=!0,q(C),M(C)),X!==void 0&&C>=X?ne.next(C-X):(!R&&q(C),w)}}}const s9=ch(.42,0,1,1),o9=ch(0,0,.58,1),CP=ch(.42,0,.58,1),a9=t=>Array.isArray(t)&&typeof t[0]!="number",l9={linear:Gn,easeIn:s9,easeInOut:CP,easeOut:o9,circIn:M_,circInOut:aP,circOut:oP,backIn:D_,backInOut:rP,backOut:iP,anticipate:sP},_T=t=>{if(C_(t)){SC(t.length===4);const[e,n,i,r]=t;return ch(e,n,i,r)}else if(typeof t=="string")return l9[t];return t};function u9(t,e,n){const i=[],r=n||SP,o=t.length-1;for(let l=0;l<o;l++){let u=r(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Gn:e;u=hh(h,u)}i.push(u)}return i}function c9(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const o=t.length;if(SC(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=u9(e,i,r),h=u.length,f=m=>{if(l&&m<t[0])return e[0];let y=0;if(h>1)for(;y<t.length-2&&!(m<t[y+1]);y++);const w=Hl(t[y],t[y+1],m);return u[y](w)};return n?m=>f(Jr(t[0],t[o-1],m)):f}function h9(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Hl(0,e,i);t.push(ut(n,1,r))}}function d9(t){const e=[0];return h9(e,t.length-1),e}function f9(t,e){return t.map(n=>n*e)}function p9(t,e){return t.map(()=>e||CP).splice(0,t.length-1)}function Bf({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=a9(i)?i.map(_T):_T(i),o={done:!1,value:e[0]},l=f9(n&&n.length===e.length?n:d9(e),t),u=c9(l,e,{ease:Array.isArray(r)?r:p9(e,r)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const m9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>it.update(e,!0),stop:()=>Qs(e),now:()=>Yt.isProcessing?Yt.timestamp:dr.now()}},g9={decay:vT,inertia:vT,tween:Bf,keyframes:Bf,spring:IP},y9=t=>t/100;class U_ extends TP{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:i,element:r,keyframes:o}=this.options,l=r?.KeyframeResolver||L_,u=(h,f)=>this.onKeyframesResolved(h,f);this.resolver=new l(o,u,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o,velocity:l=0}=this.options,u=I_(n)?n:g9[n]||Bf;let h,f;u!==Bf&&typeof e[0]!="number"&&(h=hh(y9,SP(e[0],e[1])),e=[0,100]);const m=u({...this.options,keyframes:e});o==="mirror"&&(f=u({...this.options,keyframes:[...e].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=$C(m));const{calculatedDuration:y}=m,w=y+r,T=w*(i+1)-r;return{generator:m,mirroredGenerator:f,mapPercentToKeyframes:h,calculatedDuration:y,resolvedDuration:w,totalDuration:T}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:r,generator:o,mirroredGenerator:l,mapPercentToKeyframes:u,keyframes:h,calculatedDuration:f,totalDuration:m,resolvedDuration:y}=i;if(this.startTime===null)return o.next(0);const{delay:w,repeat:T,repeatType:S,repeatDelay:P,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-m/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const A=this.currentTime-w*(this.speed>=0?1:-1),F=this.speed>=0?A<0:A>m;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let z=this.currentTime,q=o;if(T){const C=Math.min(this.currentTime,m)/y;let R=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&R--,R=Math.min(R,T+1),!!(R%2)&&(S==="reverse"?(N=1-N,P&&(N-=P/y)):S==="mirror"&&(q=l)),z=Jr(0,1,N)*y}const X=F?{done:!1,value:h[0]}:q.next(z);u&&(X.value=u(X.value));let{done:ne}=X;!F&&f!==null&&(ne=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return M&&r!==void 0&&(X.value=Ip(h,this.options,r)),b&&b(X.value),M&&this.finish(),X}get duration(){const{resolved:e}=this;return e?Wr(e.calculatedDuration):0}get time(){return Wr(this.currentTime)}set time(e){e=Hr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=m9,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const v9=new Set(["opacity","clipPath","filter","transform"]);function _9(t,e,n,{delay:i=0,duration:r=300,repeat:o=0,repeatType:l="loop",ease:u="easeInOut",times:h}={}){const f={[e]:n};h&&(f.offset=h);const m=qC(u,r);return Array.isArray(m)&&(f.easing=m),t.animate(f,{delay:i,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}const w9=c_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$f=10,E9=2e4;function T9(t){return I_(t.type)||t.type==="spring"||!WC(t.ease)}function x9(t,e){const n=new U_({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let o=0;for(;!i.done&&o<E9;)i=n.sample(o),r.push(i.value),o+=$f;return{times:void 0,keyframes:r,duration:o-$f,ease:"linear"}}const PP={anticipate:sP,backInOut:rP,circInOut:aP};function S9(t){return t in PP}class wT extends TP{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:o}=this.options;this.resolver=new EP(o,(l,u)=>this.onKeyframesResolved(l,u),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:o,type:l,motionValue:u,name:h,startTime:f}=this.options;if(!u.owner||!u.owner.current)return!1;if(typeof o=="string"&&jf()&&S9(o)&&(o=PP[o]),T9(this.options)){const{onComplete:y,onUpdate:w,motionValue:T,element:S,...P}=this.options,b=x9(e,P);e=b.keyframes,e.length===1&&(e[1]=e[0]),i=b.duration,r=b.times,o=b.ease,l="keyframes"}const m=_9(u.owner.current,h,e,{...this.options,duration:i,times:r,ease:o});return m.startTime=f??this.calcStartTime(),this.pendingTimeline?(rT(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(Ip(e,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:r,type:l,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Wr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Wr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Hr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Gn;const{animation:i}=n;rT(i,e)}return Gn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:o,ease:l,times:u}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:m,onComplete:y,element:w,...T}=this.options,S=new U_({...T,keyframes:i,duration:r,type:o,ease:l,times:u,isGenerator:!0}),P=Hr(this.time);f.setWithVelocity(S.sample(P-$f).value,S.sample(P).value,$f)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:o,damping:l,type:u}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:f}=n.owner.getProps();return w9()&&i&&v9.has(i)&&!h&&!f&&!r&&o!=="mirror"&&l!==0&&u!=="inertia"}}const b9={type:"spring",stiffness:500,damping:25,restSpeed:10},I9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),C9={type:"keyframes",duration:.8},P9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},k9=(t,{keyframes:e})=>e.length>2?C9:ya.has(t)?t.startsWith("scale")?I9(e[1]):b9:P9;function R9({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:o,repeatType:l,repeatDelay:u,from:h,elapsed:f,...m}){return!!Object.keys(m).length}const j_=(t,e,n,i={},r,o)=>l=>{const u=b_(i,t)||{},h=u.delay||i.delay||0;let{elapsed:f=0}=i;f=f-Hr(h);let m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:w=>{e.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:r};R9(u)||(m={...m,...k9(t,m)}),m.duration&&(m.duration=Hr(m.duration)),m.repeatDelay&&(m.repeatDelay=Hr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let y=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(y=!0)),y&&!o&&e.get()!==void 0){const w=Ip(m.keyframes,u);if(w!==void 0)return it.update(()=>{m.onUpdate(w),m.onComplete()}),new X6([])}return!o&&wT.supports(m)?new wT(m):new U_(m)};function A9({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function kP(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var o;let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const f=[],m=r&&t.animationState&&t.animationState.getState()[r];for(const y in h){const w=t.getValue(y,(o=t.latestValues[y])!==null&&o!==void 0?o:null),T=h[y];if(T===void 0||m&&A9(m,y))continue;const S={delay:n,...b_(l||{},y)};let P=!1;if(window.MotionHandoffAnimation){const A=ZC(t);if(A){const F=window.MotionHandoffAnimation(A,y,it);F!==null&&(S.startTime=F,P=!0)}}My(t,y),w.start(j_(y,w,T,t.shouldReduceMotion&&YC.has(y)?{type:!1}:S,t,P));const b=w.animation;b&&f.push(b)}return u&&Promise.all(f).then(()=>{it.update(()=>{u&&u5(t,u)})}),f}function jy(t,e,n={}){var i;const r=bp(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const l=r?()=>Promise.all(kP(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:w}=o;return D9(t,e,m+f,y,w,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[f,m]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(n.delay)])}function D9(t,e,n=0,i=0,r=1,o){const l=[],u=(t.variantChildren.size-1)*i,h=r===1?(f=0)=>f*i:(f=0)=>u-f*i;return Array.from(t.variantChildren).sort(M9).forEach((f,m)=>{f.notify("AnimationStart",e),l.push(jy(f,e,{...o,delay:n+h(m)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(l)}function M9(t,e){return t.sortNodePosition(e)}function O9(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(o=>jy(t,o,n));i=Promise.all(r)}else if(typeof e=="string")i=jy(t,e,n);else{const r=typeof e=="function"?bp(t,e,n.custom):e;i=Promise.all(kP(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}const N9=f_.length;function RP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?RP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<N9;n++){const i=f_[n],r=t.props[i];(jc(r)||r===!1)&&(e[i]=r)}return e}const V9=[...d_].reverse(),L9=d_.length;function F9(t){return e=>Promise.all(e.map(({animation:n,options:i})=>O9(t,n,i)))}function U9(t){let e=F9(t),n=ET(),i=!0;const r=h=>(f,m)=>{var y;const w=bp(t,m,h==="exit"?(y=t.presenceContext)===null||y===void 0?void 0:y.custom:void 0);if(w){const{transition:T,transitionEnd:S,...P}=w;f={...f,...P,...S}}return f};function o(h){e=h(t)}function l(h){const{props:f}=t,m=RP(t.parent)||{},y=[],w=new Set;let T={},S=1/0;for(let b=0;b<L9;b++){const A=V9[b],F=n[A],z=f[A]!==void 0?f[A]:m[A],q=jc(z),X=A===h?F.isActive:null;X===!1&&(S=b);let ne=z===m[A]&&z!==f[A]&&q;if(ne&&i&&t.manuallyAnimateOnMount&&(ne=!1),F.protectedKeys={...T},!F.isActive&&X===null||!z&&!F.prevProp||xp(z)||typeof z=="boolean")continue;const M=j9(F.prevProp,z);let C=M||A===h&&F.isActive&&!ne&&q||b>S&&q,R=!1;const N=Array.isArray(z)?z:[z];let U=N.reduce(r(A),{});X===!1&&(U={});const{prevResolvedValues:B={}}=F,O={...B,...U},Qe=Ce=>{C=!0,w.has(Ce)&&(R=!0,w.delete(Ce)),F.needsAnimating[Ce]=!0;const se=t.getValue(Ce);se&&(se.liveStyle=!1)};for(const Ce in O){const se=U[Ce],ge=B[Ce];if(T.hasOwnProperty(Ce))continue;let le=!1;Ry(se)&&Ry(ge)?le=!BC(se,ge):le=se!==ge,le?se!=null?Qe(Ce):w.add(Ce):se!==void 0&&w.has(Ce)?Qe(Ce):F.protectedKeys[Ce]=!0}F.prevProp=z,F.prevResolvedValues=U,F.isActive&&(T={...T,...U}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(ne&&M)||R)&&y.push(...N.map(Ce=>({animation:Ce,options:{type:A}})))}if(w.size){const b={};w.forEach(A=>{const F=t.getBaseTarget(A),z=t.getValue(A);z&&(z.liveStyle=!0),b[A]=F??null}),y.push({animation:b})}let P=!!y.length;return i&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(y):Promise.resolve()}function u(h,f){var m;if(n[h].isActive===f)return Promise.resolve();(m=t.variantChildren)===null||m===void 0||m.forEach(w=>{var T;return(T=w.animationState)===null||T===void 0?void 0:T.setActive(h,f)}),n[h].isActive=f;const y=l(h);for(const w in n)n[w].protectedKeys={};return y}return{animateChanges:l,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=ET(),i=!0}}}function j9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!BC(e,t):!1}function Mo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ET(){return{animate:Mo(!0),whileInView:Mo(),whileHover:Mo(),whileTap:Mo(),whileDrag:Mo(),whileFocus:Mo(),exit:Mo()}}class to{constructor(e){this.isMounted=!1,this.node=e}update(){}}class z9 extends to{constructor(e){super(e),e.animationState||(e.animationState=U9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let B9=0;class $9 extends to{constructor(){super(...arguments),this.id=B9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const AP={animation:{Feature:z9},exit:{Feature:$9}};function Hc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function dh(t){return{point:{x:t.pageX,y:t.pageY}}}const H9=t=>e=>P_(e)&&t(e,dh(e));function bc(t,e,n,i){return Hc(t,e,H9(n),i)}const TT=(t,e)=>Math.abs(t-e);function W9(t,e){const n=TT(t.x,e.x),i=TT(t.y,e.y);return Math.sqrt(n**2+i**2)}class DP{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Ag(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,T=W9(y.offset,{x:0,y:0})>=3;if(!w&&!T)return;const{point:S}=y,{timestamp:P}=Yt;this.history.push({...S,timestamp:P});const{onStart:b,onMove:A}=this.handlers;w||(b&&b(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Rg(w,this.transformPagePoint),it.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:T,onSessionEnd:S,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Ag(y.type==="pointercancel"?this.lastMoveEventInfo:Rg(w,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,b),S&&S(y,b)},!P_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const l=dh(e),u=Rg(l,this.transformPagePoint),{point:h}=u,{timestamp:f}=Yt;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=n;m&&m(e,Ag(u,this.history)),this.removeListeners=hh(bc(this.contextWindow,"pointermove",this.handlePointerMove),bc(this.contextWindow,"pointerup",this.handlePointerUp),bc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function Rg(t,e){return e?{point:e(t.point)}:t}function xT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ag({point:t},e){return{point:t,delta:xT(t,MP(e)),offset:xT(t,q9(e)),velocity:G9(e,.1)}}function q9(t){return t[0]}function MP(t){return t[t.length-1]}function G9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=MP(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Hr(e)));)n--;if(!i)return{x:0,y:0};const o=Wr(r.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const l={x:(r.x-i.x)/o,y:(r.y-i.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const OP=1e-4,K9=1-OP,Q9=1+OP,NP=.01,X9=0-NP,Y9=0+NP;function Qn(t){return t.max-t.min}function J9(t,e,n){return Math.abs(t-e)<=n}function ST(t,e,n,i=.5){t.origin=i,t.originPoint=ut(e.min,e.max,t.origin),t.scale=Qn(n)/Qn(e),t.translate=ut(n.min,n.max,t.origin)-t.originPoint,(t.scale>=K9&&t.scale<=Q9||isNaN(t.scale))&&(t.scale=1),(t.translate>=X9&&t.translate<=Y9||isNaN(t.translate))&&(t.translate=0)}function Ic(t,e,n,i){ST(t.x,e.x,n.x,i?i.originX:void 0),ST(t.y,e.y,n.y,i?i.originY:void 0)}function bT(t,e,n){t.min=n.min+e.min,t.max=t.min+Qn(e)}function Z9(t,e,n){bT(t.x,e.x,n.x),bT(t.y,e.y,n.y)}function IT(t,e,n){t.min=e.min-n.min,t.max=t.min+Qn(e)}function Cc(t,e,n){IT(t.x,e.x,n.x),IT(t.y,e.y,n.y)}function eF(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?ut(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?ut(n,t,i.max):Math.min(t,n)),t}function CT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function tF(t,{top:e,left:n,bottom:i,right:r}){return{x:CT(t.x,n,r),y:CT(t.y,e,i)}}function PT(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function nF(t,e){return{x:PT(t.x,e.x),y:PT(t.y,e.y)}}function iF(t,e){let n=.5;const i=Qn(t),r=Qn(e);return r>i?n=Hl(e.min,e.max-i,t.min):i>r&&(n=Hl(t.min,t.max-r,e.min)),Jr(0,1,n)}function rF(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const zy=.35;function sF(t=zy){return t===!1?t=0:t===!0&&(t=zy),{x:kT(t,"left","right"),y:kT(t,"top","bottom")}}function kT(t,e,n){return{min:RT(t,e),max:RT(t,n)}}function RT(t,e){return typeof t=="number"?t:t[e]||0}const AT=()=>({translate:0,scale:1,origin:0,originPoint:0}),El=()=>({x:AT(),y:AT()}),DT=()=>({min:0,max:0}),_t=()=>({x:DT(),y:DT()});function ci(t){return[t("x"),t("y")]}function VP({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function oF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Dg(t){return t===void 0||t===1}function By({scale:t,scaleX:e,scaleY:n}){return!Dg(t)||!Dg(e)||!Dg(n)}function jo(t){return By(t)||LP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LP(t){return MT(t.x)||MT(t.y)}function MT(t){return t&&t!=="0%"}function Hf(t,e,n){const i=t-n,r=e*i;return n+r}function OT(t,e,n,i,r){return r!==void 0&&(t=Hf(t,r,i)),Hf(t,n,i)+e}function $y(t,e=0,n=1,i,r){t.min=OT(t.min,e,n,i,r),t.max=OT(t.max,e,n,i,r)}function FP(t,{x:e,y:n}){$y(t.x,e.translate,e.scale,e.originPoint),$y(t.y,n.translate,n.scale,n.originPoint)}const NT=.999999999999,VT=1.0000000000001;function lF(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let o,l;for(let u=0;u<r;u++){o=n[u],l=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&xl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,FP(t,l)),i&&jo(o.latestValues)&&xl(t,o.latestValues))}e.x<VT&&e.x>NT&&(e.x=1),e.y<VT&&e.y>NT&&(e.y=1)}function Tl(t,e){t.min=t.min+e,t.max=t.max+e}function LT(t,e,n,i,r=.5){const o=ut(t.min,t.max,r);$y(t,e,n,o,i)}function xl(t,e){LT(t.x,e.x,e.scaleX,e.scale,e.originX),LT(t.y,e.y,e.scaleY,e.scale,e.originY)}function UP(t,e){return VP(aF(t.getBoundingClientRect(),e))}function uF(t,e,n){const i=UP(t,n),{scroll:r}=e;return r&&(Tl(i.x,r.offset.x),Tl(i.y,r.offset.y)),i}const jP=({current:t})=>t?t.ownerDocument.defaultView:null,cF=new WeakMap;class hF{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=m=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(dh(m).point)},o=(m,y)=>{const{drag:w,dragPropagation:T,onDragStart:S}=this.getProps();if(w&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=r5(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ci(b=>{let A=this.getAxisMotionValue(b).get()||0;if(hr.test(A)){const{projection:F}=this.visualElement;if(F&&F.layout){const z=F.layout.layoutBox[b];z&&(A=Qn(z)*(parseFloat(A)/100))}}this.originPoint[b]=A}),S&&it.postRender(()=>S(m,y)),My(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},l=(m,y)=>{const{dragPropagation:w,dragDirectionLock:T,onDirectionLock:S,onDrag:P}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:b}=y;if(T&&this.currentDirection===null){this.currentDirection=dF(b),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,b),this.updateAxis("y",y.point,b),this.visualElement.render(),P&&P(m,y)},u=(m,y)=>this.stop(m,y),h=()=>ci(m=>{var y;return this.getAnimationState(m)==="paused"&&((y=this.getAxisMotionValue(m).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new DP(e,{onSessionStart:r,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:jP(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&it.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Bd(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=eF(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&_l(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=tF(r.layoutBox,n):this.constraints=!1,this.elastic=sF(i),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ci(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=rF(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_l(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=uF(i,r.root,this.visualElement.getTransformPagePoint());let l=nF(r.layout.layoutBox,o);if(n){const u=n(oF(l));this.hasMutatedConstraints=!!u,u&&(l=VP(u))}return l}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=ci(m=>{if(!Bd(m,n,this.currentDirection))return;let y=h&&h[m]||{};l&&(y={min:0,max:0});const w=r?200:1e6,T=r?40:1e7,S={type:"inertia",velocity:i?e[m]:0,bounceStiffness:w,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(m,S)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return My(this.visualElement,e),i.start(j_(e,i,0,n,this.visualElement,!1))}stopAnimation(){ci(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ci(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ci(n=>{const{drag:i}=this.getProps();if(!Bd(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:u}=r.layout.layoutBox[n];o.set(e[n]-ut(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!_l(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};ci(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();r[l]=iF({min:h,max:h},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ci(l=>{if(!Bd(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:f}=this.constraints[l];u.set(ut(h,f,r[l]))})}addListeners(){if(!this.visualElement.current)return;cF.set(this.visualElement,this);const e=this.visualElement.current,n=bc(e,"pointerdown",h=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();_l(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),it.read(i);const l=Hc(window,"resize",()=>this.scalePositionWithinConstraints()),u=r.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(ci(m=>{const y=this.getAxisMotionValue(m);y&&(this.originPoint[m]+=h[m].translate,y.set(y.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:l=zy,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:o,dragElastic:l,dragMomentum:u}}}function Bd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dF(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class fF extends to{constructor(e){super(e),this.removeGroupControls=Gn,this.removeListeners=Gn,this.controls=new hF(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const FT=t=>(e,n)=>{t&&it.postRender(()=>t(e,n))};class pF extends to{constructor(){super(...arguments),this.removePointerDownListener=Gn}onPointerDown(e){this.session=new DP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:FT(e),onStart:FT(n),onMove:i,onEnd:(o,l)=>{delete this.session,r&&it.postRender(()=>r(o,l))}}}mount(){this.removePointerDownListener=bc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const n=UT(t,e.target.x),i=UT(t,e.target.y);return`${n}% ${i}%`}},mF={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Xs.parse(t);if(r.length>5)return i;const o=Xs.createTransformer(t),l=typeof r[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;r[0+l]/=u,r[1+l]/=h;const f=ut(u,h,.5);return typeof r[2+l]=="number"&&(r[2+l]/=f),typeof r[3+l]=="number"&&(r[3+l]/=f),o(r)}};class gF extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:o}=e;F6(yF),o&&(n.group&&n.group.add(o),i&&i.register&&r&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),pf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:o}=this.props,l=i.projection;return l&&(l.isPresent=o,r||e.layoutDependency!==n||n===void 0?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||it.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),m_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function zP(t){const[e,n]=TC(),i=L.useContext(s_);return k.jsx(gF,{...t,layoutGroup:i,switchLayoutGroup:L.useContext(kC),isPresent:e,safeToRemove:n})}const yF={borderRadius:{...sc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sc,borderTopRightRadius:sc,borderBottomLeftRadius:sc,borderBottomRightRadius:sc,boxShadow:mF};function vF(t,e,n){const i=fn(t)?t:Bc(t);return i.start(j_("",i,e,n)),i.animation}function _F(t){return t instanceof SVGElement&&t.tagName!=="svg"}const wF=(t,e)=>t.depth-e.depth;class EF{constructor(){this.children=[],this.isDirty=!1}add(e){k_(this.children,e),this.isDirty=!0}remove(e){R_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wF),this.isDirty=!1,this.children.forEach(e)}}function TF(t,e){const n=dr.now(),i=({timestamp:r})=>{const o=r-n;o>=e&&(Qs(i),t(o-e))};return it.read(i,!0),()=>Qs(i)}const BP=["TopLeft","TopRight","BottomLeft","BottomRight"],xF=BP.length,jT=t=>typeof t=="string"?parseFloat(t):t,zT=t=>typeof t=="number"||Te.test(t);function SF(t,e,n,i,r,o){r?(t.opacity=ut(0,n.opacity!==void 0?n.opacity:1,bF(i)),t.opacityExit=ut(e.opacity!==void 0?e.opacity:1,0,IF(i))):o&&(t.opacity=ut(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let l=0;l<xF;l++){const u=`border${BP[l]}Radius`;let h=BT(e,u),f=BT(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||zT(h)===zT(f)?(t[u]=Math.max(ut(jT(h),jT(f),i),0),(hr.test(f)||hr.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=ut(e.rotate||0,n.rotate||0,i))}function BT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bF=$P(0,.5,oP),IF=$P(.5,.95,Gn);function $P(t,e,n){return i=>i<t?0:i>e?1:n(Hl(t,e,i))}function $T(t,e){t.min=e.min,t.max=e.max}function li(t,e){$T(t.x,e.x),$T(t.y,e.y)}function HT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function WT(t,e,n,i,r){return t-=e,t=Hf(t,1/n,i),r!==void 0&&(t=Hf(t,1/r,i)),t}function CF(t,e=0,n=1,i=.5,r,o=t,l=t){if(hr.test(e)&&(e=parseFloat(e),e=ut(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ut(o.min,o.max,i);t===o&&(u-=e),t.min=WT(t.min,e,n,u,r),t.max=WT(t.max,e,n,u,r)}function qT(t,e,[n,i,r],o,l){CF(t,e[n],e[i],e[r],e.scale,o,l)}const PF=["x","scaleX","originX"],kF=["y","scaleY","originY"];function GT(t,e,n,i){qT(t.x,e,PF,n?n.x:void 0,i?i.x:void 0),qT(t.y,e,kF,n?n.y:void 0,i?i.y:void 0)}function KT(t){return t.translate===0&&t.scale===1}function HP(t){return KT(t.x)&&KT(t.y)}function QT(t,e){return t.min===e.min&&t.max===e.max}function RF(t,e){return QT(t.x,e.x)&&QT(t.y,e.y)}function XT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function WP(t,e){return XT(t.x,e.x)&&XT(t.y,e.y)}function YT(t){return Qn(t.x)/Qn(t.y)}function JT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class AF{constructor(){this.members=[]}add(e){k_(this.members,e),e.scheduleRender()}remove(e){if(R_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DF(t,e,n){let i="";const r=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((r||o||l)&&(i=`translate3d(${r}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:m,rotateX:y,rotateY:w,skewX:T,skewY:S}=n;f&&(i=`perspective(${f}px) ${i}`),m&&(i+=`rotate(${m}deg) `),y&&(i+=`rotateX(${y}deg) `),w&&(i+=`rotateY(${w}deg) `),T&&(i+=`skewX(${T}deg) `),S&&(i+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const zo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mc=typeof window<"u"&&window.MotionDebug!==void 0,Mg=["","X","Y","Z"],MF={visibility:"hidden"},ZT=1e3;let OF=0;function Og(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function qP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=ZC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",it,!(r||o))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&qP(i)}function GP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(l={},u=e?.()){this.id=OF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mc&&(zo.totalNodes=zo.resolvedTargetDeltas=zo.recalculatedProjection=0),this.nodes.forEach(LF),this.nodes.forEach(BF),this.nodes.forEach($F),this.nodes.forEach(FF),mc&&window.MotionDebug.record(zo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new EF)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new A_),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_F(l),this.instance=l;const{layoutId:h,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),t){let y;const w=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=TF(w,250),pf.hasAnimatedSinceResize&&(pf.hasAnimatedSinceResize=!1,this.nodes.forEach(tx))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||f)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeTargetChanged:T,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const P=this.options.transition||m.getDefaultTransition()||KF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:A}=m.getProps(),F=!this.targetLayout||!WP(this.targetLayout,S)||T,z=!w&&T;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||w&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,z);const q={...b_(P,"layout"),onPlay:b,onComplete:A};(m.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q)}else w||tx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(HF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const y=this.path[m];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ex);return}this.isUpdating||this.nodes.forEach(jF),this.isUpdating=!1,this.nodes.forEach(zF),this.nodes.forEach(NF),this.nodes.forEach(VF),this.clearAllSnapshots();const u=dr.now();Yt.delta=Jr(0,1e3/60,u-Yt.timestamp),Yt.timestamp=u,Yt.isProcessing=!0,xg.update.process(Yt),xg.preRender.process(Yt),xg.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(UF),this.sharedNodes.forEach(WF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,it.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){it.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!HP(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;l&&(u||jo(this.latestValues)||m)&&(r(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),QF(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:u}=this.options;if(!u)return _t();const h=u.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(XF))){const{scroll:m}=this.root;m&&(Tl(h.x,m.offset.x),Tl(h.y,m.offset.y))}return h}removeElementScroll(l){var u;const h=_t();if(li(h,l),!((u=this.scroll)===null||u===void 0)&&u.wasRoot)return h;for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:y,options:w}=m;m!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&li(h,l),Tl(h.x,y.offset.x),Tl(h.y,y.offset.y))}return h}applyTransform(l,u=!1){const h=_t();li(h,l);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&xl(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),jo(m.latestValues)&&xl(h,m.latestValues)}return jo(this.latestValues)&&xl(h,this.latestValues),h}removeTransform(l){const u=_t();li(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!jo(f.latestValues))continue;By(f.latestValues)&&f.updateSnapshot();const m=_t(),y=f.measurePageBox();li(m,y),GT(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return jo(this.latestValues)&&GT(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(l||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!(!this.layout||!(y||w))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Cc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Z9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):li(this.target,this.layout.layoutBox),FP(this.target,this.targetDelta)):li(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Cc(this.relativeTargetOrigin,this.target,T.target),li(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mc&&zo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||By(this.parent.latestValues)||LP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(f=!1),f)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;li(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,T=this.treeScale.y;lF(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=_t());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HT(this.prevProjectionDelta.x,this.projectionDelta.x),HT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ic(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==T||!JT(this.projectionDelta.x,this.prevProjectionDelta.x)||!JT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),mc&&zo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var u;if((u=this.options.visualElement)===null||u===void 0||u.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=El(),this.projectionDelta=El(),this.projectionDeltaWithTransform=El()}setAnimationOrigin(l,u=!1){const h=this.snapshot,f=h?h.latestValues:{},m={...this.latestValues},y=El();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=_t(),T=h?h.source:void 0,S=this.layout?this.layout.source:void 0,P=T!==S,b=this.getStack(),A=!b||b.members.length<=1,F=!!(P&&!A&&this.options.crossfade===!0&&!this.path.some(GF));this.animationProgress=0;let z;this.mixTargetDelta=q=>{const X=q/1e3;nx(y.x,l.x,X),nx(y.y,l.y,X),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qF(this.relativeTarget,this.relativeTargetOrigin,w,X),z&&RF(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=_t()),li(z,this.relativeTarget)),P&&(this.animationValues=m,SF(m,f,this.latestValues,X,F,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=it.update(()=>{pf.hasAnimatedSinceResize=!0,this.currentAnimation=vF(0,ZT,{...l,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:m}=l;if(!(!u||!h||!f)){if(this!==l&&this.layout&&f&&KP(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||_t();const y=Qn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+y;const w=Qn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+w}li(u,h),xl(u,m),Ic(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new AF),this.sharedNodes.get(l).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:u}=this.options;return u?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:u}=this.options;return u?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&Og("z",l,f,this.animationValues);for(let m=0;m<Mg.length;m++)Og(`rotate${Mg[m]}`,l,f,this.animationValues),Og(`skew${Mg[m]}`,l,f,this.animationValues);l.render();for(const m in f)l.setStaticValue(m,f[m]),this.animationValues&&(this.animationValues[m]=f[m]);l.scheduleRender()}getProjectionStyles(l){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MF;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=df(l?.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const P={};return this.options.layoutId&&(P.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,P.pointerEvents=df(l?.pointerEvents)||""),this.hasProjected&&!jo(this.latestValues)&&(P.transform=m?m({},""):"none",this.hasProjected=!1),P}const w=y.animationValues||y.latestValues;this.applyTransformsToTarget(),f.transform=DF(this.projectionDeltaWithTransform,this.treeScale,w),m&&(f.transform=m(w,f.transform));const{x:T,y:S}=this.projectionDelta;f.transformOrigin=`${T.origin*100}% ${S.origin*100}% 0`,y.animationValues?f.opacity=y===this?(h=(u=w.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:f.opacity=y===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const P in Uf){if(w[P]===void 0)continue;const{correct:b,applyTo:A}=Uf[P],F=f.transform==="none"?w[P]:b(w[P],y);if(A){const z=A.length;for(let q=0;q<z;q++)f[A[q]]=F}else f[P]=F}return this.options.layoutId&&(f.pointerEvents=y===this?df(l?.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var u;return(u=l.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(ex),this.root.sharedNodes.clear()}}}function NF(t){t.updateLayout()}function VF(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:o}=t.options,l=n.source!==t.layout.source;o==="size"?ci(y=>{const w=l?n.measuredBox[y]:n.layoutBox[y],T=Qn(w);w.min=i[y].min,w.max=w.min+T}):KP(o,n.layoutBox,i)&&ci(y=>{const w=l?n.measuredBox[y]:n.layoutBox[y],T=Qn(i[y]);w.max=w.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const u=El();Ic(u,i,n.layoutBox);const h=El();l?Ic(h,t.applyTransform(r,!0),n.measuredBox):Ic(h,i,n.layoutBox);const f=!HP(u);let m=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:T}=y;if(w&&T){const S=_t();Cc(S,n.layoutBox,w.layoutBox);const P=_t();Cc(P,i,T.layoutBox),WP(S,P)||(m=!0),y.options.layoutRoot&&(t.relativeTarget=P,t.relativeTargetOrigin=S,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function LF(t){mc&&zo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function FF(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function UF(t){t.clearSnapshot()}function ex(t){t.clearMeasurements()}function jF(t){t.isLayoutDirty=!1}function zF(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function tx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function BF(t){t.resolveTargetDelta()}function $F(t){t.calcProjection()}function HF(t){t.resetSkewAndRotation()}function WF(t){t.removeLeadSnapshot()}function nx(t,e,n){t.translate=ut(e.translate,0,n),t.scale=ut(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ix(t,e,n,i){t.min=ut(e.min,n.min,i),t.max=ut(e.max,n.max,i)}function qF(t,e,n,i){ix(t.x,e.x,n.x,i),ix(t.y,e.y,n.y,i)}function GF(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const KF={duration:.45,ease:[.4,0,.1,1]},rx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sx=rx("applewebkit/")&&!rx("chrome/")?Math.round:Gn;function ox(t){t.min=sx(t.min),t.max=sx(t.max)}function QF(t){ox(t.x),ox(t.y)}function KP(t,e,n){return t==="position"||t==="preserve-aspect"&&!J9(YT(e),YT(n),.2)}function XF(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const YF=GP({attachResizeListener:(t,e)=>Hc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ng={current:void 0},QP=GP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ng.current){const t=new YF({});t.mount(window),t.setOptions({layoutScroll:!0}),Ng.current=t}return Ng.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),JF={pan:{Feature:pF},drag:{Feature:fF,ProjectionNode:QP,MeasureLayout:zP}};function ax(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=i[r];o&&it.postRender(()=>o(e,dh(e)))}class ZF extends to{mount(){const{current:e}=this.node;e&&(this.unmount=Z6(e,n=>(ax(this.node,n,"Start"),i=>ax(this.node,i,"End"))))}unmount(){}}class eU extends to{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hh(Hc(this.node.current,"focus",()=>this.onFocus()),Hc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lx(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=i[r];o&&it.postRender(()=>o(e,dh(e)))}class tU extends to{mount(){const{current:e}=this.node;e&&(this.unmount=i5(e,n=>(lx(this.node,n,"Start"),(i,{success:r})=>lx(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hy=new WeakMap,Vg=new WeakMap,nU=t=>{const e=Hy.get(t.target);e&&e(t)},iU=t=>{t.forEach(nU)};function rU({root:t,...e}){const n=t||document;Vg.has(n)||Vg.set(n,{});const i=Vg.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(iU,{root:t,...e})),i[r]}function sU(t,e,n){const i=rU(e);return Hy.set(t,n),i.observe(t),()=>{Hy.delete(t),i.unobserve(t)}}const oU={some:0,all:1};class aU extends to{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:oU[r]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:y}=this.node.getProps(),w=f?m:y;w&&w(h)};return sU(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(lU(e,n))&&this.startObserver()}unmount(){}}function lU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const XP={inView:{Feature:aU},tap:{Feature:tU},focus:{Feature:eU},hover:{Feature:ZF}},uU={layout:{ProjectionNode:QP,MeasureLayout:zP}},Wy={current:null},YP={current:!1};function cU(){if(YP.current=!0,!!l_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Wy.current=t.matches;t.addListener(e),e()}else Wy.current=!1}const hU=[...wP,ln,Xs],dU=t=>hU.find(_P(t)),ux=new WeakMap;function fU(t,e,n){for(const i in e){const r=e[i],o=n[i];if(fn(r))t.addValue(i,r);else if(fn(o))t.addValue(i,Bc(r,{owner:t}));else if(o!==r)if(t.hasValue(i)){const l=t.getValue(i);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(i);t.addValue(i,Bc(l!==void 0?l:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pU{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=dr.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,it.render(this.render,!1,!0))};const{latestValues:h,renderState:f,onUpdate:m}=l;this.onUpdate=m,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Sp(n),this.isVariantNode=CC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in w){const S=w[T];h[T]!==void 0&&fn(S)&&S.set(h[T],!1)}}mount(e){this.current=e,ux.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),YP.current||cU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wy.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ux.delete(this.current),this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=ya.has(e),r=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&it.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wl){const n=Wl[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<cx.length;i++){const r=cx[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,l=e[o];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=fU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Bc(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(yP(r)||lP(r))?r=parseFloat(r):!dU(r)&&Xs.test(n)&&(r=pP(e,n)),this.setBaseTarget(e,fn(r)?r.get():r)),fn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const l=y_(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(r=l[e])}if(i&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!fn(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new A_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JP extends pU{constructor(){super(...arguments),this.KeyframeResolver=EP}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mU(t){return window.getComputedStyle(t)}class gU extends JP{constructor(){super(...arguments),this.type="html",this.renderInstance=VC}readValueFromInstance(e,n){if(ya.has(n)){const i=V_(n);return i&&i.default||0}else{const i=mU(e),r=(MC(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return UP(e,n)}build(e,n,i){w_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return S_(e,n,i)}}class yU extends JP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_t}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ya.has(n)){const i=V_(n);return i&&i.default||0}return n=LC.has(n)?n:p_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return jC(e,n,i)}build(e,n,i){E_(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){FC(e,n,i,r)}mount(e){this.isSVGTag=x_(e.tagName),super.mount(e)}}const ZP=(t,e)=>g_(t)?new yU(e):new gU(e,{allowProjection:t!==L.Fragment}),vU=G6({...AP,...XP,...JF,...uU},ZP),dn=l6(vU),_U={renderer:ZP,...AP,...XP},wU={some:0,all:1};function EU(t,e,{root:n,margin:i,amount:r="some"}={}){const o=KC(t),l=new WeakMap,u=f=>{f.forEach(m=>{const y=l.get(m.target);if(m.isIntersecting!==!!y)if(m.isIntersecting){const w=e(m);typeof w=="function"?l.set(m.target,w):h.unobserve(m.target)}else typeof y=="function"&&(y(m),l.delete(m.target))})},h=new IntersectionObserver(u,{root:n,rootMargin:i,threshold:typeof r=="number"?r:wU[r]});return o.forEach(f=>h.observe(f)),()=>h.disconnect()}function ek(t,{root:e,margin:n,amount:i,once:r=!1}={}){const[o,l]=L.useState(!1);return L.useEffect(()=>{if(!t.current||r&&o)return;const u=()=>(l(!0),r?void 0:()=>l(!1)),h={root:e&&e.current||void 0,margin:n,amount:i};return EU(t.current,u,h)},[e,t,n,r,i]),o}class tk extends ot.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n)}render(){return this.state.hasError?k.jsx("div",{className:"bg-slate-100 text-slate-800 min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:k.jsxs("div",{className:"max-w-md mx-auto",children:[k.jsx("div",{className:"mb-8",children:k.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),k.jsx("h1",{className:"text-4xl font-bold mb-4 text-slate-700",children:"Oops, something went wrong!"}),k.jsx("p",{className:"text-lg text-slate-600 mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),k.jsxs("div",{className:"flex justify-center gap-4",children:[k.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-md",children:"Refresh Page"}),k.jsx("a",{href:"/",className:"bg-slate-200 text-slate-700 px-6 py-3 rounded-lg font-semibold hover:bg-slate-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const TU=ot.memo(()=>k.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[k.jsx("div",{className:"absolute top-1/2 left-1/2 w-[150vmax] h-[150vmax] bg-radial-gradient-blue animate-spin-pulse-combo"}),k.jsx("div",{className:"absolute top-1/2 left-1/2 w-[120vmax] h-[120vmax] bg-radial-gradient-purple animate-reverse-spin opacity-40"})]})),hx=ot.memo(()=>{const t=({delay:e})=>k.jsx("div",{className:"w-4 h-4 bg-gradient-to-br from-blue-500 to-blue-700 rounded-full animate-pulse-bounce",style:{animationDelay:e}});return k.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:k.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[k.jsx(t,{delay:"0s"}),k.jsx(t,{delay:"0.2s"}),k.jsx(t,{delay:"0.4s"})]})})}),xU=({href:t,label:e,children:n,onClick:i})=>k.jsxs("a",{href:t,onClick:i,className:"group relative flex items-center justify-center p-2 rounded-full text-slate-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300","aria-label":e,children:[n,k.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-slate-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0 transition-all duration-300 pointer-events-none",children:e})]}),SU=ot.memo(({isMobileMenuOpen:t,toggleMobileMenu:e,closeMobileMenu:n})=>{const i=r=>{r.preventDefault();const o=r.currentTarget.getAttribute("href"),l=document.querySelector(o);n(),l&&setTimeout(()=>{l.scrollIntoView({behavior:"smooth",block:"start"})},100)};return k.jsxs("header",{className:"bg-white/80 backdrop-blur-md fixed top-0 w-full z-50 border-b border-slate-200/80",children:[k.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[k.jsx(xU,{href:"#home",label:"Home",onClick:i,children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),k.jsxs("div",{className:"hidden md:flex space-x-6 items-center font-medium text-slate-600",children:[k.jsx("a",{href:"#about",onClick:i,className:"hover:text-blue-600 transition-colors",children:"About"}),k.jsx("a",{href:"#experience",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Experience"}),k.jsx("a",{href:"#skills",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Skills"}),k.jsx("a",{href:"#projects",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Projects"}),k.jsx("a",{href:"#contact",onClick:i,className:"hover:text-blue-600 transition-colors",children:"Contact"})]}),k.jsx("div",{className:"md:hidden",children:k.jsx("button",{onClick:e,className:"text-slate-600 focus:outline-none p-1",children:k.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),k.jsx(u_,{children:t&&k.jsxs(dn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-lg px-6 py-4 space-y-3 text-slate-600 font-medium",children:[k.jsx("a",{href:"#about",onClick:i,className:"block py-2 hover:text-blue-600",children:"About"}),k.jsx("a",{href:"#experience",onClick:i,className:"block py-2 hover:text-blue-600",children:"Experience"}),k.jsx("a",{href:"#skills",onClick:i,className:"block py-2 hover:text-blue-600",children:"Skills"}),k.jsx("a",{href:"#projects",onClick:i,className:"block py-2 hover:text-blue-600",children:"Projects"}),k.jsx("a",{href:"#contact",onClick:i,className:"block py-2 hover:text-blue-600",children:"Contact"})]})})]})});var nk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dx=ot.createContext&&ot.createContext(nk),bU=["attr","size","title"];function IU(t,e){if(t==null)return{};var n=CU(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function CU(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Wf(){return Wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wf.apply(this,arguments)}function fx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function qf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fx(Object(n),!0).forEach(function(i){PU(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fx(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function PU(t,e,n){return e=kU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kU(t){var e=RU(t,"string");return typeof e=="symbol"?e:e+""}function RU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ik(t){return t&&t.map((e,n)=>ot.createElement(e.tag,qf({key:n},e.attr),ik(e.child)))}function Xn(t){return e=>ot.createElement(AU,Wf({attr:qf({},t.attr)},e),ik(t.child))}function AU(t){var e=n=>{var{attr:i,size:r,title:o}=t,l=IU(t,bU),u=r||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),ot.createElement("svg",Wf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:qf(qf({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&ot.createElement("title",null,o),t.children)};return dx!==void 0?ot.createElement(dx.Consumer,null,n=>e(n)):e(nk)}function DU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(t)}function MU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function OU(t){return Xn({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function NU(t){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function VU(t){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function LU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function FU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function UU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function jU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function zU(t){return Xn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function BU(t){return Xn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function $U(t){return Xn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}const Wo="generated",HU="pointerdown",WU="pointerup",qy="pointerleave",qU="pointerout",oa="pointermove",GU="touchstart",px="touchend",KU="touchmove",QU="touchcancel",XU="resize",YU="visibilitychange",mi="tsParticles - Error",Os=100,Ot=.5,pn=1e3,cn={x:0,y:0,z:0},$d={a:1,b:0,c:0,d:1},Gl="random",mf="mid",mn=2,JU=Math.PI*mn,Lg=60,rk="true",mx="false",Fg="canvas",gx=0,Fr=2,yx=4,ZU=1,vx=1,_x=1,ej=4,sk=1,gf=255,qo=360,Gy=100,Ky=100,wx=0,Qy=0,tj=60,nj=0,Gf=.25,Ex=Ot+Gf,Tx=0,ij=1,rj=0,sj=0,oj=1,z_=1,aj=1,xx=1,Kf=0,ok=1,lj=0,uj=120,cj=0,hj=0,dj=1e4,fj=0,pj=1,Qf=0,ak=1,mj=1,gj=0,Sx=1,yj=0,vj=0,bx=-Gf,Ix=1.5,Cx=0,_j=1,wj=0,Xy=0,lk=1,Ej=1,Xf=1,Tj=500,Px=50,xj=0,Yy=1,uk=0,kx=1,Sj=0,Oo=255,Ug=3,jg=6,bj=1,Ij=1,Cj=0,Pj=0,kj=0,Rj=0;var Jt;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(Jt||(Jt={}));function ck(t){return typeof t=="boolean"}function Ys(t){return typeof t=="string"}function Js(t){return typeof t=="number"}function Sl(t){return typeof t=="object"&&t!==null}function vr(t){return Array.isArray(t)}function ae(t){return t==null}class Hn{constructor(e,n,i){if(this._updateFromAngle=(r,o)=>{this.x=Math.cos(r)*o,this.y=Math.sin(r)*o},!Js(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:cn.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??cn.z;else throw new Error(`${mi} Vector3d not initialized correctly`)}static get origin(){return Hn.create(cn.x,cn.y,cn.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Hn.create(e.x,e.y,e.z)}static create(e,n,i){return new Hn(e,n,i)}add(e){return Hn.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Hn.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Hn.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**Fr+this.y**Fr}mult(e){return Hn.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=Qf&&this.multTo(sk/e)}rotate(e){return Hn.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),cn.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:cn.z}sub(e){return Hn.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class $t extends Hn{constructor(e,n){super(e,n,cn.z)}static get origin(){return $t.create(cn.x,cn.y)}static clone(e){return $t.create(e.x,e.y)}static create(e,n){return new $t(e,n)}}let Aj=Math.random;const hk={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function Ge(){return gi(Aj(),0,1-Number.EPSILON)}function Dj(t){return hk.nextFrame(t)}function Mj(t){hk.cancel(t)}function gi(t,e,n){return Math.min(Math.max(t,e),n)}function zg(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function qn(t){const e=nr(t),n=0;let i=Cp(t);return e===i&&(i=n),Ge()*(e-i)+i}function ve(t){return Js(t)?t:qn(t)}function Cp(t){return Js(t)?t:t.min}function nr(t){return Js(t)?t:t.max}function Be(t,e){if(t===e||e===void 0&&Js(t))return t;const n=Cp(t),i=nr(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:Be(n,i)}function In(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function Kn(t,e){return In(t,e).distance}function zs(t){return t*Math.PI/180}function Oj(t,e,n){if(Js(t))return zs(t);switch(t){case Jt.top:return-Math.PI*Ot;case Jt.topRight:return-Math.PI*Gf;case Jt.right:return nj;case Jt.bottomRight:return Math.PI*Gf;case Jt.bottom:return Math.PI*Ot;case Jt.bottomLeft:return Math.PI*Ex;case Jt.left:return Math.PI;case Jt.topLeft:return-Math.PI*Ex;case Jt.inside:return Math.atan2(n.y-e.y,n.x-e.x);case Jt.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Ge()*JU}}function Nj(t){const e=$t.origin;return e.length=1,e.angle=t,e}function Rx(t,e,n,i){return $t.create(t.x*(n-i)/(n+i)+e.x*mn*i/(n+i),t.y)}function Vj(t){return{x:t.position?.x??Ge()*t.size.width,y:t.position?.y??Ge()*t.size.height}}function dk(t){return t?t.endsWith("%")?parseFloat(t)/Os:parseFloat(t):1}var Go;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})(Go||(Go={}));var bt;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(bt||(bt={}));var aa;(function(t){t.none="none",t.max="max",t.min="min"})(aa||(aa={}));var Oe;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(Oe||(Oe={}));var Kl;(function(t){t.precise="precise",t.percent="percent"})(Kl||(Kl={}));var Dl;(function(t){t.max="max",t.min="min",t.random="random"})(Dl||(Dl={}));const Lj={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function la(){return Lj}function Fj(t){const e=new Map;return(...n)=>{const i=JSON.stringify(n);if(e.has(i))return e.get(i);const r=t(...n);return e.set(i,r),r}}function Ax(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:o,velocity:l,factor:u}=t;return i.min<o.min||i.min>o.max||i.max<o.min||i.max>o.max||(n.max>=r.min&&n.max<=(r.max+r.min)*Ot&&l>Tx||n.min<=r.max&&n.min>(r.max+r.min)*Ot&&l<Tx)&&(e.velocity=l*-u,e.bounced=!0),e}function Uj(t,e){const n=Yn(e,i=>t.matches(i));return vr(n)?n.some(i=>i):n}function ua(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function jj(){return!ua()&&typeof matchMedia<"u"}function fk(t){if(jj())return matchMedia(t)}function zj(t){if(!(ua()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function Bj(t){if(!(ua()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Et(t,e){return t===e||vr(e)&&e.indexOf(t)>-1}async function Dx(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function $j(t){return Math.floor(Ge()*t.length)}function Pp(t,e,n=!0){return t[e!==void 0&&n?e%t.length:$j(t)]}function B_(t,e,n,i,r){return Hj(fh(t,i??0),e,n,r)}function Hj(t,e,n,i){let r=!0;return(!i||i===Oe.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===Oe.left)&&(r=t.right>n.x),r&&(!i||i===Oe.right)&&(r=t.left<e.width+n.y),r&&(!i||i===Oe.top)&&(r=t.bottom>n.y),r}function fh(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function vn(t,...e){for(const n of e){if(n==null)continue;if(!Sl(n)){t=n;continue}const i=Array.isArray(n);i&&(Sl(t)||!t||!Array.isArray(t))?t=[]:!i&&(Sl(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const o=n,l=o[r],u=t;u[r]=Sl(l)&&Array.isArray(l)?l.map(h=>vn(u[r],h)):vn(u[r],l)}}return t}function $_(t,e){return!!gk(e,n=>n.enable&&Et(t,n.mode))}function H_(t,e,n){Yn(e,i=>{const r=i.mode;i.enable&&Et(t,r)&&Wj(i,n)})}function Wj(t,e){const n=t.selectors;Yn(n,i=>{e(i,t)})}function pk(t,e){if(!(!e||!t))return gk(t,n=>Uj(e,n.selectors))}function Jy(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:$t.create(ve(t.options.bounce.horizontal.value),ve(t.options.bounce.vertical.value))}}function mk(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,o]=[t.position,e.position],{dx:l,dy:u}=In(o,r);if(n*l+i*u<0)return;const f=-Math.atan2(u,l),m=t.mass,y=e.mass,w=t.velocity.rotate(f),T=e.velocity.rotate(f),S=Rx(w,T,m,y),P=Rx(T,w,m,y),b=S.rotate(-f),A=P.rotate(-f);t.velocity.x=b.x*t.factor.x,t.velocity.y=b.y*t.factor.y,e.velocity.x=A.x*e.factor.x,e.velocity.y=A.y*e.factor.y}function qj(t,e){const n=t.getPosition(),i=t.getRadius(),r=fh(n,i),o=t.options.bounce,l=Ax({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ve(o.horizontal.value)});l.bounced&&(l.velocity!==void 0&&(t.velocity.x=l.velocity),l.position!==void 0&&(t.position.x=l.position));const u=Ax({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ve(o.vertical.value)});u.bounced&&(u.velocity!==void 0&&(t.velocity.y=u.velocity),u.position!==void 0&&(t.position.y=u.position))}function Yn(t,e){return vr(t)?t.map((i,r)=>e(i,r)):e(t,0)}function pi(t,e,n){return vr(t)?Pp(t,e,n):t}function gk(t,e){return vr(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function yk(t,e){const n=t.value,i=t.animation,r={delayTime:ve(i.delay)*pn,enable:i.enable,value:ve(t.value)*e,max:nr(n)*e,min:Cp(n)*e,loops:0,maxLoops:ve(i.count),time:0},o=1;if(i.enable){switch(r.decay=o-ve(i.decay),i.mode){case Go.increase:r.status=bt.increasing;break;case Go.decrease:r.status=bt.decreasing;break;case Go.random:r.status=Ge()>=Ot?bt.increasing:bt.decreasing;break}const l=i.mode===Go.auto;switch(i.startValue){case Dl.min:r.value=r.min,l&&(r.status=bt.increasing);break;case Dl.max:r.value=r.max,l&&(r.status=bt.decreasing);break;case Dl.random:default:r.value=qn(r),l&&(r.status=Ge()>=Ot?bt.increasing:bt.decreasing);break}}return r.initialValue=r.value,r}function Gj(t,e){if(!(t.mode===Kl.percent)){const{mode:r,...o}=t;return o}return"x"in t?{x:t.x/Os*e.width,y:t.y/Os*e.height}:{width:t.width/Os*e.width,height:t.height/Os*e.height}}function vk(t,e){return Gj(t,e)}function Kj(t,e,n,i,r){switch(e){case aa.max:n>=r&&t.destroy();break;case aa.min:n<=i&&t.destroy();break}}function W_(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const m=(e.velocity??0)*r.factor,y=e.min,w=e.max,T=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case bt.increasing:e.value>=w?(n?e.status=bt.decreasing:e.value-=w,e.loops||(e.loops=0),e.loops++):e.value+=m;break;case bt.decreasing:e.value<=y?(n?e.status=bt.increasing:e.value+=w,e.loops||(e.loops=0),e.loops++):e.value-=m}e.velocity&&T!==1&&(e.velocity*=T),Kj(t,i,e.value,y,w),t.destroyed||(e.value=gi(e.value,y,w))}}function Qj(t){const e=document.createElement("div").style;if(!t)return e;for(const n in t){const i=t[n];if(!Object.prototype.hasOwnProperty.call(t,n)||ae(i))continue;const r=t.getPropertyValue?.(i);if(!r)continue;const o=t.getPropertyPriority?.(i);o?e.setProperty?.(i,r,o):e.setProperty?.(i,r)}return e}function Xj(t){const e=document.createElement("div").style,n=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const r in i){const o=i[r];e.setProperty(r,o)}return e}const Yj=Fj(Xj);var Zy;(function(t){t.darken="darken",t.enlighten="enlighten"})(Zy||(Zy={}));function Jj(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function Fi(t,e,n,i=!0){if(!e)return;const r=Ys(e)?{value:e}:e;if(Ys(r.value))return _k(t,r.value,n,i);if(vr(r.value))return Fi(t,{value:Pp(r.value,n,i)});for(const o of t.colorManagers.values()){const l=o.handleRangeColor(r);if(l)return l}}function _k(t,e,n,i=!0){if(!e)return;const r=Ys(e)?{value:e}:e;if(Ys(r.value))return r.value===Gl?Ek():Zj(t,r.value);if(vr(r.value))return _k(t,{value:Pp(r.value,n,i)});for(const o of t.colorManagers.values()){const l=o.handleColor(r);if(l)return l}}function Wc(t,e,n,i=!0){const r=Fi(t,e,n,i);return r?wk(r):void 0}function wk(t){const e=t.r/gf,n=t.g/gf,i=t.b/gf,r=Math.max(e,n,i),o=Math.min(e,n,i),l={h:wx,l:(r+o)*Ot,s:Qy};return r!==o&&(l.s=l.l<Ot?(r-o)/(r+o):(r-o)/(mn-r-o),l.h=e===r?(n-i)/(r-o):l.h=n===r?mn+(i-e)/(r-o):mn*mn+(e-n)/(r-o)),l.l*=Ky,l.s*=Gy,l.h*=tj,l.h<wx&&(l.h+=qo),l.h>=qo&&(l.h-=qo),l}function Zj(t,e){return Jj(t,e)}function Ql(t){const e=(t.h%qo+qo)%qo,n=Math.max(Qy,Math.min(Gy,t.s)),i=Math.max(Sj,Math.min(Ky,t.l)),r=e/qo,o=n/Gy,l=i/Ky;if(n===Qy){const S=Math.round(l*Oo);return{r:S,g:S,b:S}}const u=(S,P,b)=>{if(b<0&&b++,b>1&&b--,b*jg<1)return S+(P-S)*jg*b;if(b*mn<1)return P;if(b*Ug<1*mn){const z=mn/Ug;return S+(P-S)*(z-b)*jg}return S},h=l<Ot?l*(bj+o):l+o-l*o,f=mn*l-h,m=Ij/Ug,y=Math.min(Oo,Oo*u(f,h,r+m)),w=Math.min(Oo,Oo*u(f,h,r)),T=Math.min(Oo,Oo*u(f,h,r-m));return{r:Math.round(y),g:Math.round(w),b:Math.round(T)}}function ez(t){const e=Ql(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function Ek(t){const e=Cj,n=gf+Yy;return{b:Math.floor(qn(Be(e,n))),g:Math.floor(qn(Be(e,n))),r:Math.floor(qn(Be(e,n)))}}function qr(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??z_})`}function qc(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??z_})`}function q_(t,e,n,i){let r=t,o=e;return r.r===void 0&&(r=Ql(t)),o.r===void 0&&(o=Ql(e)),{b:zg(r.b,o.b,n,i),g:zg(r.g,o.g,n,i),r:zg(r.r,o.r,n,i)}}function ev(t,e,n){if(n===Gl)return Ek();if(n===mf){const i=t.getFillColor()??t.getStrokeColor(),r=e?.getFillColor()??e?.getStrokeColor();if(i&&r&&e)return q_(i,r,t.getRadius(),e.getRadius());{const o=i??r;if(o)return Ql(o)}}else return n}function Tk(t,e,n,i){const r=Ys(e)?e:e.value;return r===Gl?i?Fi(t,{value:r}):n?Gl:mf:r===mf?mf:Fi(t,{value:r})}function Mx(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function xk(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Bg(i.h,e.h,n),Bg(i.s,e.s,n),Bg(i.l,e.l,n)),i}function Bg(t,e,n){t.enable=e.enable,t.enable?(t.velocity=ve(e.speed)/Os*n,t.decay=ak-ve(e.decay),t.status=bt.increasing,t.loops=kj,t.maxLoops=ve(e.count),t.time=Rj,t.delayTime=ve(e.delay)*pn,e.sync||(t.velocity*=Ge(),t.value*=Ge()),t.initialValue=t.value,t.offset=Be(e.offset)):t.velocity=Pj}function $g(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const m=t.offset?qn(t.offset):0,y=(t.velocity??0)*i.factor+m*3.6,w=t.decay??1,T=nr(e),S=Cp(e);!n||t.status===bt.increasing?(t.value+=y,t.value>T&&(t.loops||(t.loops=0),t.loops++,n?t.status=bt.decreasing:t.value-=T)):(t.value-=y,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=bt.increasing)),t.velocity&&w!==1&&(t.velocity*=w),t.value=gi(t.value,S,T)}function Sk(t,e){if(!t)return;const{h:n,s:i,l:r}=t,o={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&$g(n,o.h,!1,e),i&&$g(i,o.s,!0,e),r&&$g(r,o.l,!0,e)}function Pc(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function tz(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(cn.x,cn.y,e.width,e.height)}function nz(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,cn.x,cn.y,e.width,e.height),t.globalAlpha=1)}function Hg(t,e){t.clearRect(cn.x,cn.y,e.width,e.height)}function iz(t){const{container:e,context:n,particle:i,delta:r,colorStyles:o,backgroundMask:l,composite:u,radius:h,opacity:f,shadow:m,transform:y}=t,w=i.getPosition(),T=i.rotation+(i.pathRotation?i.velocity.angle:xj),S={sin:Math.sin(T),cos:Math.cos(T)},P=!!T,b={a:S.cos*(y.a??$d.a),b:P?S.sin*(y.b??Yy):y.b??$d.b,c:P?-S.sin*(y.c??Yy):y.c??$d.c,d:S.cos*(y.d??$d.d)};n.setTransform(b.a,b.b,b.c,b.d,w.x,w.y),l&&(n.globalCompositeOperation=u);const A=i.shadowColor;m.enable&&A&&(n.shadowBlur=m.blur,n.shadowColor=qr(A),n.shadowOffsetX=m.offset.x,n.shadowOffsetY=m.offset.y),o.fill&&(n.fillStyle=o.fill);const F=i.strokeWidth??uk;n.lineWidth=F,o.stroke&&(n.strokeStyle=o.stroke);const z={container:e,context:n,particle:i,radius:h,opacity:f,delta:r,transformData:b,strokeWidth:F};sz(z),oz(z),rz(z),n.globalCompositeOperation="source-over",n.resetTransform()}function rz(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,transformData:u}=t;if(!i.effect)return;const h=e.effectDrawers.get(i.effect);h&&h.draw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function sz(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,strokeWidth:u,transformData:h}=t;if(!i.shape)return;const f=e.shapeDrawers.get(i.shape);f&&(n.beginPath(),f.draw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...h}}),i.shapeClose&&n.closePath(),u>uk&&n.stroke(),i.shapeFill&&n.fill())}function oz(t){const{container:e,context:n,particle:i,radius:r,opacity:o,delta:l,transformData:u}=t;if(!i.shape)return;const h=e.shapeDrawers.get(i.shape);h?.afterDraw&&h.afterDraw({context:n,particle:i,radius:r,opacity:o,delta:l,pixelRatio:e.retina.pixelRatio,transformData:{...u}})}function az(t,e,n){e.draw&&e.draw(t,n)}function lz(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function uz(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===Zy.darken?-kx:kx)*n}}function cz(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??ij)*i)}function Ox(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(!r)return;const o=new Set;for(const l in r)Object.prototype.hasOwnProperty.call(r,l)&&o.add(r[l]);for(const l in e)Object.prototype.hasOwnProperty.call(e,l)&&o.add(e[l]);for(const l of o){const u=e.getPropertyValue(l);u?r.setProperty(l,u,n?"important":""):r.removeProperty(l)}}class hz{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=o=>{for(const l of this._postDrawUpdaters)l.afterDraw?.(o)},this._applyPreDrawUpdaters=(o,l,u,h,f,m)=>{for(const y of this._preDrawUpdaters){if(y.getColorStyles){const{fill:w,stroke:T}=y.getColorStyles(l,o,u,h);w&&(f.fill=w),T&&(f.stroke=T)}if(y.getTransformValues){const w=y.getTransformValues(l);for(const T in w)cz(m,w,T)}y.beforeDraw?.(l)}},this._applyResizePlugins=()=>{for(const o of this._resizePlugins)o.resize?.()},this._getPluginParticleColors=o=>{let l,u;for(const h of this._colorPlugins)if(!l&&h.particleFillColor&&(l=Wc(this._engine,h.particleFillColor(o))),!u&&h.particleStrokeColor&&(u=Wc(this._engine,h.particleStrokeColor(o))),l&&u)break;return[l,u]},this._initCover=async()=>{const o=this.container.actualOptions,l=o.backgroundMask.cover,u=l.color;if(u){const h=Fi(this._engine,u);if(h){const f={...h,a:l.opacity};this._coverColorStyle=qr(f,f.a)}}else await new Promise((h,f)=>{if(!l.image)return;const m=document.createElement("img");m.addEventListener("load",()=>{this._coverImage={image:m,opacity:l.opacity},h()}),m.addEventListener("error",y=>{f(y.error)}),m.src=l.image})},this._initStyle=()=>{const o=this.element,l=this.container.actualOptions;if(o){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const u in l.style){if(!u||!l.style||!Object.prototype.hasOwnProperty.call(l.style,u))continue;const h=l.style[u];h&&o.style.setProperty(u,h,"important")}}},this._initTrail=async()=>{const o=this.container.actualOptions,l=o.particles.move.trail,u=l.fill;if(!l.enable)return;const h=sk/l.length;if(u.color){const f=Fi(this._engine,u.color);if(!f)return;this._trailFill={color:{...f},opacity:h}}else await new Promise((f,m)=>{if(!u.image)return;const y=document.createElement("img");y.addEventListener("load",()=>{this._trailFill={image:y,opacity:h},f()}),y.addEventListener("error",w=>{m(w.error)}),y.src=u.image})},this._paintBase=o=>{this.draw(l=>tz(l,this.size,o))},this._paintImage=(o,l)=>{this.draw(u=>nz(u,this.size,o,l))},this._repairStyle=()=>{const o=this.element;if(!o)return;this._safeMutationObserver(u=>u.disconnect()),this._initStyle(),this.initBackground();const l=this._pointerEvents;o.style.pointerEvents=l,o.setAttribute("pointer-events",l),this._safeMutationObserver(u=>{!o||!(o instanceof Node)||u.observe(o,{attributes:!0})})},this._resetOriginalStyle=()=>{const o=this.element,l=this._originalStyle;!o||!l||Ox(o,l,!0)},this._safeMutationObserver=o=>{this._mutationObserver&&o(this._mutationObserver)},this._setFullScreenStyle=()=>{const o=this.element;o&&Ox(o,Yj(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>sj&&i?i.color?this._paintBase(qr(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{Hg(r,this.size)})}destroy(){this.stop(),this._generated?(this.element?.remove(),this.element=void 0):this._resetOriginalStyle(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=rj)return;const r=e.getFillColor(),o=e.getStrokeColor()??r;let[l,u]=this._getPluginParticleColors(e);l||(l=r),u||(u=o),!(!l&&!u)&&this.draw(h=>{const f=this.container,m=f.actualOptions,y=e.options.zIndex,w=oj-e.zIndexFactor,T=w**y.opacityRate,S=e.bubble.opacity??e.opacity?.value??z_,P=e.strokeOpacity??S,b=S*T,A=P*T,F={},z={fill:l?qc(l,b):void 0};z.stroke=u?qc(u,A):z.fill,this._applyPreDrawUpdaters(h,e,i,b,z,F),iz({container:f,context:h,particle:e,delta:n,colorStyles:z,backgroundMask:m.backgroundMask.enable,composite:m.backgroundMask.composite,radius:i*w**y.sizeRate,opacity:b,shadow:e.options.shadow,transform:F}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>lz(r,e,n,i))}drawPlugin(e,n){this.draw(i=>az(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=Bj(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){la().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const o=Fi(this._engine,n.color);r.backgroundColor=o?qr(o,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Wo in e.dataset?e.dataset[Wo]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Qj(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=n.height*i,e.width=r.width=n.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(o=>o.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(o=>{!this.element||!(this.element instanceof Node)||o.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Hg(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,o={width:i.width*r,height:i.height*r};if(i.height===n.height&&i.width===n.width&&o.height===this.element.height&&o.width===this.element.width)return!1;const l={...n};n.height=i.height,n.width=i.width;const u=this.size;return this.element.width=u.width=o.width,this.element.height=u.height=o.height,this.container.started&&e.particles.setResizeFactor({width:n.width/l.width,height:n.height/l.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Hg(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Ml;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Ml||(Ml={}));function ui(t,e,n,i,r){if(i){let o={passive:!0};ck(r)?o.capture=r:r!==void 0&&(o=r),t.addEventListener(e,n,o)}else{const o=r;t.removeEventListener(e,n,o)}}class dz{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const o=i.interactivity.mouse,l=o.position;if(!l)return;o.clickPosition={...l},o.clickTime=new Date().getTime();const u=r.interactivity.events.onClick;Yn(u.mode,h=>this.container.handleClickMode(h))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),Tj)},this._handleThemeChange=n=>{const i=n,r=this.container,o=r.options,l=o.defaultThemes,u=i.matches?l.dark:l.light;o.themes.find(f=>f.name===u)?.default.auto&&r.loadTheme(u)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{await this.container.canvas?.windowResize()};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*pn)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,o=this.container,l=o.actualOptions,u=o.interactivity.element;if(!u)return;const h=u,f=o.canvas;f.setPointerEvents(h===f.element?"initial":"none"),(l.interactivity.events.onHover.enable||l.interactivity.events.onClick.enable)&&(ui(u,oa,r.mouseMove,i),ui(u,GU,r.touchStart,i),ui(u,KU,r.touchMove,i),l.interactivity.events.onClick.enable?(ui(u,px,r.touchEndClick,i),ui(u,WU,r.mouseUp,i),ui(u,HU,r.mouseDown,i)):ui(u,px,r.touchEnd,i),ui(u,n,r.mouseLeave,i),ui(u,QU,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,o=r.actualOptions,l=o.interactivity.detectsOn,u=r.canvas.element;let h=qy;l===Ml.window?(r.interactivity.element=window,h=qU):l===Ml.parent&&u?r.interactivity.element=u.parentElement??u.parentNode:r.interactivity.element=u,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(h,n),document&&ui(document,YU,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=fk("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){ui(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){ui(window,XU,i.resize,n);return}const l=r.canvas.element;this._resizeObserver&&!n?(l&&this._resizeObserver.unobserve(l),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&l&&(this._resizeObserver=new ResizeObserver(u=>{u.find(f=>f.target===l)&&this._handleWindowResize()}),this._resizeObserver.observe(l))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:o}=i.interactivity;o.inside=!0;let l=!1;const u=o.position;if(!(!u||!r.interactivity.events.onClick.enable)){for(const h of i.plugins.values())if(h.clickPositionValid&&(l=h.clickPositionValid(u),l))break;l||this._doMouseTouchClick(n),o.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=qy,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,o=i.interactivity,l=i.canvas.element;if(!o?.element)return;o.mouse.inside=!0;let u;if(n.type.startsWith("pointer")){this._canPush=!0;const f=n;if(o.element===window){if(l){const m=l.getBoundingClientRect();u={x:f.clientX-m.left,y:f.clientY-m.top}}}else if(r.interactivity.detectsOn===Ml.parent){const m=f.target,y=f.currentTarget;if(m&&y&&l){const w=m.getBoundingClientRect(),T=y.getBoundingClientRect(),S=l.getBoundingClientRect();u={x:f.offsetX+mn*w.left-(T.left+S.left),y:f.offsetY+mn*w.top-(T.top+S.top)}}else u={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY}}else f.target===l&&(u={x:f.offsetX??f.clientX,y:f.offsetY??f.clientY})}else if(this._canPush=n.type!=="touchmove",l){const f=n,m=f.touches[f.touches.length-lk],y=l.getBoundingClientRect();u={x:m.clientX-(y.left??Kf),y:m.clientY-(y.top??Kf)}}const h=i.retina.pixelRatio;u&&(u.x*=h,u.y*=h),o.mouse.position=u,o.status=oa},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.delete(o.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const o of r)this._touches.set(o.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var bn;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(bn||(bn={}));class _n{constructor(){this.value=""}static create(e,n){const i=new _n;return i.load(e),n!==void 0&&(Ys(n)||vr(n)?i.load({value:n}):i.load(n)),i}load(e){ae(e)||ae(e.value)||(this.value=e.value)}}class fz{constructor(){this.color=new _n,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){ae(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class pz{constructor(){this.opacity=1}load(e){ae(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class mz{constructor(){this.composite="destination-out",this.cover=new pz,this.enable=!1}load(e){if(!ae(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Ys(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class gz{constructor(){this.enable=!0,this.zIndex=0}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class yz{constructor(){this.enable=!1,this.mode=[]}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Xl;(function(t){t.circle="circle",t.rectangle="rectangle"})(Xl||(Xl={}));class Nx{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Xl.circle}load(e){ae(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class vz{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class _z{constructor(){this.enable=!1,this.mode=[],this.parallax=new vz}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class wz{constructor(){this.delay=.5,this.enable=!0}load(e){ae(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class Ez{constructor(){this.onClick=new yz,this.onDiv=new Nx,this.onHover=new _z,this.resize=new wz}load(e){if(ae(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=Yn(n,i=>{const r=new Nx;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class Tz{constructor(e,n){this._engine=e,this._container=n}load(e){if(ae(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class bk{constructor(e,n){this.detectsOn=Ml.window,this.events=new Ez,this.modes=new Tz(e,n)}load(e){if(ae(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class xz{load(e){ae(e)||(e.position&&(this.position={x:e.position.x??Px,y:e.position.y??Px,mode:e.position.mode??Kl.percent}),e.options&&(this.options=vn({},e.options)))}}var Ko;(function(t){t.screen="screen",t.canvas="canvas"})(Ko||(Ko={}));class Sz{constructor(){this.maxWidth=1/0,this.options={},this.mode=Ko.canvas}load(e){ae(e)||(ae(e.maxWidth)||(this.maxWidth=e.maxWidth),ae(e.mode)||(e.mode===Ko.screen?this.mode=Ko.screen:this.mode=Ko.canvas),ae(e.options)||(this.options=vn({},e.options)))}}var Ds;(function(t){t.any="any",t.dark="dark",t.light="light"})(Ds||(Ds={}));class bz{constructor(){this.auto=!1,this.mode=Ds.any,this.value=!1}load(e){ae(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Iz{constructor(){this.name="",this.default=new bz}load(e){ae(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=vn({},e.options)))}}class G_{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){ae(e)||(e.count!==void 0&&(this.count=Be(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Be(e.speed)),e.decay!==void 0&&(this.decay=Be(e.decay)),e.delay!==void 0&&(this.delay=Be(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class K_ extends G_{constructor(){super(),this.mode=Go.auto,this.startValue=Dl.random}load(e){super.load(e),!ae(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class Wg extends G_{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!ae(e)&&e.offset!==void 0&&(this.offset=Be(e.offset))}}class Cz{constructor(){this.h=new Wg,this.s=new Wg,this.l=new Wg}load(e){ae(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Gc extends _n{constructor(){super(),this.animation=new Cz}static create(e,n){const i=new Gc;return i.load(e),n!==void 0&&(Ys(n)||vr(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),ae(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Ol;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Ol||(Ol={}));class Pz{constructor(){this.speed=2}load(e){ae(e)||e.speed!==void 0&&(this.speed=e.speed)}}class kz{constructor(){this.enable=!0,this.retries=0}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class va{constructor(){this.value=0}load(e){ae(e)||ae(e.value)||(this.value=Be(e.value))}}class Rz extends va{constructor(){super(),this.animation=new G_}load(e){if(super.load(e),ae(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class Ik extends Rz{constructor(){super(),this.animation=new K_}load(e){super.load(e)}}class Vx extends va{constructor(){super(),this.value=1}}class Ck{constructor(){this.horizontal=new Vx,this.vertical=new Vx}load(e){ae(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Az{constructor(){this.absorb=new Pz,this.bounce=new Ck,this.enable=!1,this.maxSpeed=50,this.mode=Ol.bounce,this.overlap=new kz}load(e){ae(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=Be(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Dz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(ae(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=vn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Mz{constructor(){this.offset=0,this.value=90}load(e){ae(e)||(e.offset!==void 0&&(this.offset=Be(e.offset)),e.value!==void 0&&(this.value=Be(e.value)))}}class Oz{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!ae(e)&&(e.distance!==void 0&&(this.distance=Be(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class Nz{constructor(){this.x=50,this.y=50,this.mode=Kl.percent,this.radius=0}load(e){ae(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class Vz{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){ae(e)||(e.acceleration!==void 0&&(this.acceleration=Be(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=Be(e.maxSpeed)))}}class Lz{constructor(){this.clamp=!0,this.delay=new va,this.enable=!1,this.options={}}load(e){ae(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=vn(this.options,e.options)))}}class Fz{load(e){ae(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Uz{constructor(){this.enable=!1,this.length=10,this.fill=new Fz}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var Ct;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(Ct||(Ct={}));class jz{constructor(){this.default=Ct.out}load(e){ae(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class zz{constructor(){this.acceleration=0,this.enable=!1}load(e){ae(e)||(e.acceleration!==void 0&&(this.acceleration=Be(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=vn({},e.position)))}}class Bz{constructor(){this.angle=new Mz,this.attract=new Oz,this.center=new Nz,this.decay=0,this.distance={},this.direction=Jt.none,this.drift=0,this.enable=!1,this.gravity=new Vz,this.path=new Lz,this.outModes=new jz,this.random=!1,this.size=!1,this.speed=2,this.spin=new zz,this.straight=!1,this.trail=new Uz,this.vibrate=!1,this.warp=!1}load(e){if(ae(e))return;this.angle.load(Js(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=Be(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Js(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=Be(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(Sl(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=Be(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class $z extends K_{constructor(){super(),this.destroy=aa.none,this.speed=2}load(e){super.load(e),!ae(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Hz extends Ik{constructor(){super(),this.animation=new $z,this.value=1}load(e){if(ae(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class Wz{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(ae(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var Kc;(function(t){t.delete="delete",t.wait="wait"})(Kc||(Kc={}));class qz{constructor(){this.mode=Kc.delete,this.value=0}load(e){ae(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Gz{constructor(){this.density=new Wz,this.limit=new qz,this.value=0}load(e){ae(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Kz{constructor(){this.blur=0,this.color=new _n,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){ae(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=_n.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class Qz{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(ae(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=vn(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Xz extends K_{constructor(){super(),this.destroy=aa.none,this.speed=5}load(e){super.load(e),!ae(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Yz extends Ik{constructor(){super(),this.animation=new Xz,this.value=3}load(e){if(super.load(e),ae(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class Lx{constructor(){this.width=0}load(e){ae(e)||(e.color!==void 0&&(this.color=Gc.create(this.color,e.color)),e.width!==void 0&&(this.width=Be(e.width)),e.opacity!==void 0&&(this.opacity=Be(e.opacity)))}}class Jz extends va{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!ae(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class Zz{constructor(e,n){this._engine=e,this._container=n,this.bounce=new Ck,this.collisions=new Az,this.color=new Gc,this.color.value="#fff",this.effect=new Dz,this.groups={},this.move=new Bz,this.number=new Gz,this.opacity=new Hz,this.reduceDuplicates=!1,this.shadow=new Kz,this.shape=new Qz,this.size=new Yz,this.stroke=new Lx,this.zIndex=new Jz}load(e){if(ae(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=vn(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(Gc.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=vn({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=Yn(n,i=>{const r=new Lx;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const o of i)o.loadOptions&&o.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const o of r)o.loadParticlesOptions&&o.loadParticlesOptions(this,e)}}}function Pk(t,...e){for(const n of e)t.load(n)}function kk(t,e,...n){const i=new Zz(t,e);return Pk(i,...n),i}class e8{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===Ds.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new fz,this.backgroundMask=new mz,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new gz,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new bk(e,n),this.manualParticles=[],this.particles=kk(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){if(ae(e))return;e.preset!==void 0&&Yn(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=Be(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=Be(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;ck(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const u=new xz;return u.load(l),u})),this.particles.load(e.particles),this.style=vn(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const o=this._engine.interactors.get(this._container);if(o)for(const l of o)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const u=new Sz;u.load(l),this.responsive.push(u)}if(this.responsive.sort((l,u)=>l.maxWidth-u.maxWidth),e.themes!==void 0)for(const l of e.themes){const u=this.themes.find(h=>h.name===l.name);if(u)u.load(l);else{const h=new Iz;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=this._findDefaultTheme(Ds.dark)?.name,this.defaultThemes.light=this._findDefaultTheme(Ds.light)?.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(o=>o.mode===Ko.screen&&screen?o.maxWidth>screen.availWidth:o.maxWidth*n>e);return this.load(r?.options),r?.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=fk("(prefers-color-scheme: dark)"),i=n?.matches,r=this._findDefaultTheme(i?Ds.dark:Ds.light);r&&this.load(r.options)}}}var Yl;(function(t){t.external="external",t.particles="particles"})(Yl||(Yl={}));class t8{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode?.(e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Yl.external:this._externalInteractors.push(e);break;case Yl.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var Ui;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(Ui||(Ui={}));function n8(t,e,n,i){const r=e.options[t];if(r)return vn({close:e.close,fill:e.fill},pi(r,n,i))}function i8(t,e,n,i){const r=e.options[t];if(r)return vn({close:e.close,fill:e.fill},pi(r,n,i))}function Fx(t){if(!Et(t.outMode,t.checkModes))return;const e=t.radius*mn;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class r8{constructor(e,n){this.container=n,this._calcPosition=(i,r,o,l=gx)=>{for(const S of i.plugins.values()){const P=S.particlePosition!==void 0?S.particlePosition(r,this):void 0;if(P)return Hn.create(P.x,P.y,o)}const u=i.canvas.size,h=Vj({size:u,position:r}),f=Hn.create(h.x,h.y,o),m=this.getRadius(),y=this.options.move.outModes,w=S=>{Fx({outMode:S,checkModes:[Ct.bounce],coord:f.x,maxCoord:i.canvas.size.width,setCb:P=>f.x+=P,radius:m})},T=S=>{Fx({outMode:S,checkModes:[Ct.bounce],coord:f.y,maxCoord:i.canvas.size.height,setCb:P=>f.y+=P,radius:m})};return w(y.left??y.default),w(y.right??y.default),T(y.top??y.default),T(y.bottom??y.default),this._checkOverlap(f,l)?this._calcPosition(i,void 0,o,l+mj):f},this._calculateVelocity=()=>{const i=Nj(this.direction),r=i.copy(),o=this.options.move;if(o.direction===Jt.inside||o.direction===Jt.outside)return r;const l=zs(ve(o.angle.value)),u=zs(ve(o.angle.offset)),h={left:u-l*Ot,right:u+l*Ot};return o.straight||(r.angle+=qn(Be(h.left,h.right))),o.random&&typeof o.speed=="number"&&(r.length*=Ge()),r},this._checkOverlap=(i,r=gx)=>{const o=this.options.collisions,l=this.getRadius();if(!o.enable)return!1;const u=o.overlap;if(u.enable)return!1;const h=u.retries;if(h>=gj&&r>h)throw new Error(`${mi} particle is overlapping and can't be placed`);return!!this.container.particles.find(f=>Kn(i,f.position)<l+f.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?mn*Sx:Sx,o=this.roll.horizontal?Math.PI*Ot:Qf;return Math.floor(((this.roll.angle??Qf)+o)/(Math.PI/r))%mn?this.backColor?this.backColor:this.roll.alter?uz(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,o=ve(this.options.zIndex.value);this.position=this._calcPosition(r,i,gi(o,yj,r.zLayers)),this.initialPosition=this.position.copy();const l=r.canvas.size;switch(this.moveCenter={...vk(this.options.move.center,l),radius:this.options.move.center.radius??vj,mode:this.options.move.center.mode??Kl.percent},this.direction=Oj(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case Jt.inside:this.outType=Ui.inside;break;case Jt.outside:this.outType=Ui.outside;break}this.offset=$t.origin},this._engine=e}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;n.shapeDrawers.get(this.shape)?.particleDestroy?.(this);for(const o of n.plugins.values())o.particleDestroyed?.(this,e);for(const o of n.particles.updaters)o.particleDestroyed?.(this,e);i?.reset(this),this._engine.dispatchEvent(bn.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const r of n.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Mx(this.color))}getMass(){return this.getRadius()**Fr*Math.PI*Ot}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Mx(this.strokeColor))}init(e,n,i,r){const o=this.container,l=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=Ui.normal,this.ignoresResizeRatio=!0;const u=o.retina.pixelRatio,h=o.actualOptions,f=kk(this._engine,o,h.particles),{reduceDuplicates:m}=f,y=f.effect.type,w=f.shape.type;this.effect=pi(y,this.id,m),this.shape=pi(w,this.id,m);const T=f.effect,S=f.shape;if(i){if(i.effect?.type){const M=i.effect.type,C=pi(M,this.id,m);C&&(this.effect=C,T.load(i.effect))}if(i.shape?.type){const M=i.shape.type,C=pi(M,this.id,m);C&&(this.shape=C,S.load(i.shape))}}if(this.effect===Gl){const M=[...this.container.effectDrawers.keys()];this.effect=M[Math.floor(Ge()*M.length)]}if(this.shape===Gl){const M=[...this.container.shapeDrawers.keys()];this.shape=M[Math.floor(Ge()*M.length)]}this.effectData=n8(this.effect,T,this.id,m),this.shapeData=i8(this.shape,S,this.id,m),f.load(i);const P=this.effectData;P&&f.load(P.particles);const b=this.shapeData;b&&f.load(b.particles);const A=new bk(l,o);A.load(o.actualOptions.interactivity),A.load(f.interactivity),this.interactivity=A,this.effectFill=P?.fill??f.effect.fill,this.effectClose=P?.close??f.effect.close,this.shapeFill=b?.fill??f.shape.fill,this.shapeClose=b?.close??f.shape.close,this.options=f;const F=this.options.move.path;this.pathDelay=ve(F.delay.value)*pn,F.generator&&(this.pathGenerator=this._engine.getPathGenerator(F.generator),this.pathGenerator&&o.addPath(F.generator,this.pathGenerator)&&this.pathGenerator.init(o)),o.retina.initParticle(this),this.size=yk(this.options.size,u),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=ak-ve(this.options.move.decay);const z=o.particles;z.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/o.zLayers,this.sides=24;let q=o.effectDrawers.get(this.effect);q||(q=this._engine.getEffectDrawer(this.effect),q&&o.effectDrawers.set(this.effect,q)),q?.loadEffect&&q.loadEffect(this);let X=o.shapeDrawers.get(this.shape);X||(X=this._engine.getShapeDrawer(this.shape),X&&o.shapeDrawers.set(this.shape,X)),X?.loadShape&&X.loadShape(this);const ne=X?.getSidesCount;ne&&(this.sides=ne(this)),this.spawning=!1,this.shadowColor=Fi(this._engine,this.options.shadow.color);for(const M of z.updaters)M.init(this);for(const M of z.movers)M.init?.(this);q?.particleInit?.(o,this),X?.particleInit?.(o,this);for(const M of o.plugins.values())M.particleCreated?.(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset?.(this)}}class s8{constructor(e,n){this.position=e,this.particle=n}}var Nl;(function(t){t.circle="circle",t.rectangle="rectangle"})(Nl||(Nl={}));class Rk{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class gn extends Rk{constructor(e,n,i){super(e,n,Nl.circle),this.radius=i}contains(e){return Kn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},o=this.radius;if(e instanceof gn||e.type===Nl.circle){const l=e,u=o+l.radius,h=Math.sqrt(r.x**Fr+r.y**Fr);return u>h}else if(e instanceof zi||e.type===Nl.rectangle){const l=e,{width:u,height:h}=l.size;return Math.pow(r.x-u,Fr)+Math.pow(r.y-h,Fr)<=o**Fr||r.x<=o+u&&r.y<=o+h||r.x<=u||r.y<=h}return!1}}class zi extends Rk{constructor(e,n,i,r){super(e,n,Nl.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof gn)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,o=e.position,l=e instanceof zi?e.size:{width:0,height:0},u=l.width,h=l.height;return o.x<r.x+n&&o.x+u>r.x&&o.y<r.y+i&&o.y+h>r.y}}class Yf{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:o,height:l}=this.rectangle.size,{capacity:u}=this;for(let h=0;h<ej;h++){const f=h%mn;this._subs.push(new Yf(new zi(i+o*Ot*f,r+l*Ot*(Math.round(h*Ot)-f),o*Ot,l*Ot),u))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&Kn(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new gn(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new zi(e.x,e.y,n.width,n.height),i)}}const Ux=t=>{const{height:e,width:n}=t;return new zi(bx*n,bx*e,Ix*n,Ix*e)};class o8{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,o,l,u)=>{const h=r.number;if(!r.number.density?.enable){l===void 0?this._limit=h.limit.value:(u?.number.limit?.value??h.limit.value)&&this._groupLimits.set(l,u?.number.limit?.value??h.limit.value);return}const f=this._initDensityFactor(h.density),m=h.value,y=h.limit.value>Cx?h.limit.value:m,w=Math.min(m,y)*f+o,T=Math.min(this.count,this.filter(S=>S.group===l).length);l===void 0?this._limit=h.limit.value*f:this._groupLimits.set(l,h.limit.value*f),T<w?this.push(Math.abs(w-T),void 0,r,l):T>w&&this.removeQuantity(T-w,l)},this._initDensityFactor=r=>{const o=this._container;if(!o.canvas.element||!r.enable)return Ej;const l=o.canvas.element,u=o.retina.pixelRatio;return l.width*l.height/(r.height*r.width*u**Fr)},this._pushParticle=(r,o,l,u)=>{try{let h=this._pool.pop();h||(h=new r8(this._engine,this._container)),h.init(this._nextId,r,o,l);let f=!0;return u&&(f=u(h)),f?(this._array.push(h),this._zArray.push(h),this._nextId++,this._engine.dispatchEvent(bn.particleAdded,{container:this._container,data:{particle:h}}),h):void 0}catch(h){la().warning(`${mi} adding particle: ${h}`)}},this._removeParticle=(r,o,l)=>{const u=this._array[r];if(!u||u.group!==o)return!1;const h=this._zArray.indexOf(u);return this._array.splice(r,Xf),this._zArray.splice(h,Xf),u.destroy(l),this._engine.dispatchEvent(bn.particleRemoved,{container:this._container,data:{particle:u}}),this._addToPool(u),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new t8(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new Yf(Ux(i),yx),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?vk(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const o=this._container.actualOptions.particles.number.limit.mode,l=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,u=this.count;if(l>Cx)switch(o){case Kc.delete:{const h=u+_j-l;h>wj&&this.removeQuantity(h);break}case Kc.wait:if(u>=l)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const r of n.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const r of e.plugins.values())if(i=r.particlesInitialization?.()??i,i)break;if(this.addManualParticles(),!i){const r=n.particles,o=r.groups;for(const l in o){const u=o[l];for(let h=this.count,f=0;f<u.number?.value&&h<r.number.value;h++,f++)this.addParticle(void 0,u,l)}for(let l=this.count;l<r.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,i,r){for(let o=0;o<e;o++)this.addParticle(n?.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=ZU,i,r){if(e<Xy||e>this.count)return;let o=0;for(let l=e;o<n&&l<this.count;l++)this._removeParticle(l,i,r)&&(l--,o++)}removeQuantity(e,n){this.removeAt(Xy,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=e.manualParticles.length;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){const n=this._container,i=new Set;this.quadTree=new Yf(Ux(n.canvas.size),yx);for(const o of n.pathGenerators.values())o.update();for(const o of n.plugins.values())o.update?.(e);const r=this._resizeFactor;for(const o of this._array){r&&!o.ignoresResizeRatio&&(o.position.x*=r.width,o.position.y*=r.height,o.initialPosition.x*=r.width,o.initialPosition.y*=r.height),o.ignoresResizeRatio=!1,this._interactionManager.reset(o);for(const l of this._container.plugins.values()){if(o.destroyed)break;l.particleUpdate?.(o,e)}for(const l of this.movers)l.isEnabled(o)&&l.move(o,e);if(o.destroyed){i.add(o);continue}this.quadTree.insert(new s8(o.getPosition(),o))}if(i.size){const o=l=>!i.has(l);this._array=this.filter(o),this._zArray=this._zArray.filter(o);for(const l of i)this._engine.dispatchEvent(bn.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const o of this._array){for(const l of this.updaters)l.update(o,e);!o.destroyed&&!o.spawning&&this._interactionManager.particlesInteract(o,e)}if(delete this._resizeFactor,this._needsSort){const o=this._zArray;o.sort((l,u)=>u.position.z-l.position.z||l.id-u.id),this._lastZIndex=o[o.length-lk].position.z,this._needsSort=!1}}}class a8{constructor(e){this.container=e,this.pixelRatio=vx,this.reduceFactor=_x}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||ua()?vx:devicePixelRatio,this.reduceFactor=_x;const i=this.pixelRatio,r=e.canvas;if(r.element){const u=r.element;r.size.width=u.offsetWidth*i,r.size.height=u.offsetHeight*i}const o=n.particles,l=o.move;this.maxSpeed=ve(l.gravity.maxSpeed)*i,this.sizeAnimationSpeed=ve(o.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,o=r.distance,l=e.retina;l.moveDrift=ve(r.drift)*i,l.moveSpeed=ve(r.speed)*i,l.sizeAnimationSpeed=ve(n.size.animation.speed)*i;const u=l.maxDistance;u.horizontal=o.horizontal!==void 0?o.horizontal*i:void 0,u.vertical=o.vertical!==void 0?o.vertical*i:void 0,l.maxSpeed=ve(r.gravity.maxSpeed)*i}}function ft(t){return t&&!t.destroyed}function l8(t,e=Lg,n=!1){return{value:t,factor:n?Lg/e:Lg*t/pn}}function hl(t,e,...n){const i=new e8(t,e);return Pk(i,...n),i}class u8{constructor(e,n,i){this._intersectionManager=r=>{if(!(!ft(this)||!this.actualOptions.pauseOnOutsideViewport))for(const o of r)o.target===this.interactivity.element&&(o.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+pn/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??=r;const o=l8(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(o.value),this._lastFrameTime=r,o.value>pn){this.draw(!1);return}if(this.particles.draw(o),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(o){la().error(`${mi} in animation loop`,o)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new a8(this),this.canvas=new hz(this,this._engine),this.particles=new o8(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=hl(this._engine,this),this.actualOptions=hl(this._engine,this),this._eventListeners=new dz(this),this._intersectionObserver=zj(r=>this._intersectionManager(r)),this._engine.dispatchEvent(bn.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&ft(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ft(this))return;const n=this.interactivity.element;if(!n)return;const i=(y,w,T)=>{if(!ft(this))return;const S=this.retina.pixelRatio,P={x:w.x*S,y:w.y*S},b=this.particles.quadTree.queryCircle(P,T*S);e(y,b)},r=y=>{if(!ft(this))return;const w=y,T={x:w.offsetX||w.clientX,y:w.offsetY||w.clientY};i(y,T,aj)},o=()=>{ft(this)&&(f=!0,m=!1)},l=()=>{ft(this)&&(m=!0)},u=y=>{if(ft(this)){if(f&&!m){const w=y;let T=w.touches[w.touches.length-xx];if(!T&&(T=w.changedTouches[w.changedTouches.length-xx],!T))return;const S=this.canvas.element,P=S?S.getBoundingClientRect():void 0,b={x:T.clientX-(P?P.left:Kf),y:T.clientY-(P?P.top:Kf)};i(y,b,Math.max(T.radiusX,T.radiusY))}f=!1,m=!1}},h=()=>{ft(this)&&(f=!1,m=!1)};let f=!1,m=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",o),this._clickHandlers.set("touchmove",l),this._clickHandlers.set("touchend",u),this._clickHandlers.set("touchcancel",h);for(const[y,w]of this._clickHandlers)n.addEventListener(y,w)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!ft(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){if(ft(this)){for(const[e,n]of this._clickHandlers)this.interactivity.element?.removeEventListener(e,n);this._clickHandlers.clear()}}destroy(e=!0){if(ft(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const n of this.effectDrawers.values())n.destroy?.(this);for(const n of this.shapeDrawers.values())n.destroy?.(this);for(const n of this.effectDrawers.keys())this.effectDrawers.delete(n);for(const n of this.shapeDrawers.keys())this.shapeDrawers.delete(n);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const n=this._engine.items,i=n.findIndex(r=>r===this);i>=lj&&n.splice(i,ok)}this._engine.dispatchEvent(bn.containerDestroyed,{container:this})}}draw(e){if(!ft(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=Dj(r=>i(r))}async export(e,n={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}la().error(`${mi} - Export plugin with type ${e} not found`)}handleClickMode(e){if(ft(this)){this.particles.handleClickMode(e);for(const n of this.plugins.values())n.handleClickMode?.(e)}}async init(){if(!ft(this))return;const e=this._engine.getSupportedEffects();for(const f of e){const m=this._engine.getEffectDrawer(f);m&&this.effectDrawers.set(f,m)}const n=this._engine.getSupportedShapes();for(const f of n){const m=this._engine.getShapeDrawer(f);m&&this.shapeDrawers.set(f,m)}await this.particles.initPlugins(),this._options=hl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=hl(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[f,m]of i)this.plugins.set(f,m);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:o,delay:l,fpsLimit:u,smooth:h}=this.actualOptions;this.zLayers=r,this._duration=ve(o)*pn,this._delay=ve(l)*pn,this._lifeTime=0,this.fpsLimit=u>cj?u:uj,this._smooth=h;for(const f of this.effectDrawers.values())await f.init?.(this);for(const f of this.shapeDrawers.values())await f.init?.(this);for(const f of this.plugins.values())await f.init?.();this._engine.dispatchEvent(bn.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const f of this.plugins.values())f.particlesSetup?.();this._engine.dispatchEvent(bn.particlesSetup,{container:this})}async loadTheme(e){ft(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(ft(this)&&(this._drawAnimationFrame!==void 0&&(Mj(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const e of this.plugins.values())e.pause?.();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(bn.containerPaused,{container:this})}}play(e){if(!ft(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(bn.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(ft(this))return this.stop(),this.start()}async reset(e){if(ft(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=hl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=hl(this._engine,this,this._options),this.refresh()}async start(){!ft(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const i of this.plugins.values())await i.start?.();this._engine.dispatchEvent(bn.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){if(!(!ft(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const e of this.plugins.values())e.stop?.();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent(bn.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}class c8{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){this._listeners.get(e)?.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,o=i.indexOf(n);o<Xy||(r===Xf?this._listeners.delete(e):i.splice(o,Xf))}}async function qg(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(o=>o(t))),e.set(t,r)),r}async function h8(t){const e=pi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(la().error(`${mi} ${n.status} while retrieving config file`),t.fallback)}const d8=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===Fg)e=t,e.dataset[Wo]||(e.dataset[Wo]=mx);else{const i=t.getElementsByTagName(Fg);i.length?(e=i[hj],e.dataset[Wo]=mx):(e=document.createElement(Fg),e.dataset[Wo]=rk,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},f8=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[Wo]=rk,document.body.append(n),n)};class p8{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new c8,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(bn.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(i))}async addEffect(e,n,i=!0){Yn(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return qg(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return qg(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return qg(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,ok);return}return i}async load(e){const n=e.id??e.element?.id??`tsparticles${Math.floor(Ge()*dj)}`,{index:i,url:r}=e,o=r?await h8({fallback:e.options,url:r,index:i}):e.options,l=pi(o,i),{items:u}=this,h=u.findIndex(w=>w.id.description===n),f=new u8(this,n,l);if(h>=fj){const w=this.item(h),T=w?pj:Qf;w&&!w.destroyed&&w.destroy(!1),u.splice(h,T,f)}else u.push(f);const m=f8(n,e.element),y=d8(m);return f.canvas.loadCanvas(y),await f.start(),f}loadOptions(e,n){this.plugins.forEach(i=>i.loadOptions?.(e,n))}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(o=>o.loadOptions?.(n,...i))}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${mi} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}function m8(){const t=new p8;return t.init(),t}class _r{constructor(e){this.type=Yl.external,this.container=e}}class Q_{constructor(e){this.type=Yl.particles,this.container=e}}var Oi;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(Oi||(Oi={}));var jx;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(jx||(jx={}));var Jo;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(Jo||(Jo={}));const X_=m8();ua()||(window.tsParticles=X_);const g8=t=>{const e=t.id??"tsparticles";return L.useEffect(()=>{let n;return X_.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n?.destroy()}},[e,t,t.url,t.options]),k.jsx("div",{id:e,className:t.className})};async function y8(t){await t(X_)}const tv=.5,v8=2,Ns=0,Li=1,zx=60,Bx=0,_8=.01,w8=Math.PI*v8;function E8(t){const e=t.initialPosition,{dx:n,dy:i}=In(e,t.position),r=Math.abs(n),o=Math.abs(i),{maxDistance:l}=t.retina,u=l.horizontal,h=l.vertical;if(!u&&!h)return;const f=(u&&r>=u)??!1,m=(h&&o>=h)??!1;if((f||m)&&!t.misplaced)t.misplaced=!!u&&r>u||!!h&&o>h,u&&(t.velocity.x=t.velocity.y*tv-t.velocity.x),h&&(t.velocity.y=t.velocity.x*tv-t.velocity.y);else if((!u||r<u)&&(!h||o<h)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const y=t.position,w=t.velocity;u&&(y.x<e.x&&w.x<Ns||y.x>e.x&&w.x>Ns)&&(w.x*=-Ge()),h&&(y.y<e.y&&w.y<Ns||y.y>e.y&&w.y>Ns)&&(w.y*=-Ge())}}function T8(t,e,n,i,r,o,l){S8(t,l);const u=t.gravity,h=u?.enable&&u.inverse?-Li:Li;r&&n&&(t.velocity.x+=r*l.factor/(zx*n)),u?.enable&&n&&(t.velocity.y+=h*(u.acceleration*l.factor)/(zx*n));const f=t.moveDecay;t.velocity.multTo(f);const m=t.velocity.mult(n);u?.enable&&i>Ns&&(!u.inverse&&m.y>=Ns&&m.y>=i||u.inverse&&m.y<=Ns&&m.y<=-i)&&(m.y=h*i,n&&(t.velocity.y=m.y/n));const y=t.options.zIndex,w=(Li-t.zIndexFactor)**y.velocityRate;m.multTo(w),m.multTo(o);const{position:T}=t;T.addTo(m),e.vibrate&&(T.x+=Math.sin(T.x*Math.cos(T.y))*o,T.y+=Math.cos(T.y*Math.sin(T.x))*o)}function x8(t,e,n){const i=t.container;if(!t.spin)return;const r=t.spin.direction===Oi.clockwise,o={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*o.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*o.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const l=Math.max(i.canvas.size.width,i.canvas.size.height),u=l*tv;t.spin.radius>u?(t.spin.radius=u,t.spin.acceleration*=-Li):t.spin.radius<Bx&&(t.spin.radius=Bx,t.spin.acceleration*=-Li),t.spin.angle+=e*_8*(Li-t.spin.radius/l)}function S8(t,e){const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const o=t.pathGenerator?.generate(t,e);o&&t.velocity.addTo(o),i.clamp&&(t.velocity.x=gi(t.velocity.x,-Li,Li),t.velocity.y=gi(t.velocity.y,-Li,Li)),t.lastPathTime-=t.pathDelay}function b8(t){return t.slow.inRange?t.slow.factor:Li}function I8(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},o=.01,l={x:r.x*o*e.canvas.size.width,y:r.y*o*e.canvas.size.height},u=t.getPosition(),h=Kn(u,l),f=ve(i.acceleration);t.retina.spinAcceleration=f*e.retina.pixelRatio,t.spin={center:l,direction:t.velocity.x>=Ns?Oi.clockwise:Oi.counterClockwise,angle:Ge()*w8,radius:h,acceleration:t.retina.spinAcceleration}}const C8=2,P8=1,k8=1;class R8{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:ve(i.acceleration),inverse:i.inverse},I8(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){const i=e.options,r=i.move;if(!r.enable)return;const o=e.container,l=o.retina.pixelRatio;e.retina.moveSpeed??=ve(r.speed)*l,e.retina.moveDrift??=ve(e.options.move.drift)*l;const u=b8(e),h=o.retina.reduceFactor,f=e.retina.moveSpeed,m=e.retina.moveDrift,y=nr(i.size.value)*l,w=r.size?e.getRadius()/y:P8,T=n.factor||k8,S=f*w*u*T/C8,P=e.retina.maxSpeed??o.retina.maxSpeed;r.spin.enable?x8(e,S,h):T8(e,r,S,P,m,h,n),E8(e)}}async function A8(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new R8),e)}const D8=2,M8=Math.PI*D8,O8=0,$x={x:0,y:0};function N8(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:O8,max:M8});const r=n.circleRange;e.arc($x.x,$x.y,i,r.min,r.max,!1)}const V8=12,L8=360,Hx=0;class F8{constructor(){this.validTypes=["circle"]}draw(e){N8(e)}getSidesCount(){return V8}particleInit(e,n){const i=n.shapeData,r=i?.angle??{max:L8,min:Hx};n.circleRange=Sl(r)?{min:zs(r.min),max:zs(r.max)}:{min:Hx,max:zs(r)}}}async function U8(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new F8,e)}class j8{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Wc(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=xk(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:o}=e;return!e.destroyed&&!e.spawning&&(o?.h.value!==void 0&&n.enable||o?.s.value!==void 0&&i.enable||o?.l.value!==void 0&&r.enable)}update(e,n){Sk(e.color,n)}}async function z8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new j8(n,t)),e)}var Bo;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Bo||(Bo={}));const B8=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,$8=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,Hd=16,H8=1,W8=255;class q8{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!e?.startsWith(this.stringPrefix))return;const n=e.replace(B8,(r,o,l,u,h)=>o+o+l+l+u+u+(h!==void 0?h+h:"")),i=$8.exec(n);return i?{a:i[Bo.a]!==void 0?parseInt(i[Bo.a],Hd)/W8:H8,b:parseInt(i[Bo.b],Hd),g:parseInt(i[Bo.g],Hd),r:parseInt(i[Bo.r],Hd)}:void 0}}async function G8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new q8,e)}var bl;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(bl||(bl={}));class K8{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ql(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ql({h:ve(i.h),l:ve(i.l),s:ve(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=4,o=1,l=10;return i?ez({a:i.length>r?dk(i[bl.a]):o,h:parseInt(i[bl.h],l),l:parseInt(i[bl.l],l),s:parseInt(i[bl.s],l)}):void 0}}async function Q8(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new K8,e)}class X8{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=yk(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=ve(r.speed)/Os*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ge()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||W_(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function Y8(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new X8(n)),e)}const Jf=0,Vl=0;function J8(t){if(t.outMode!==Ct.bounce&&t.outMode!==Ct.split||t.direction!==Oe.left&&t.direction!==Oe.right)return;t.bounds.right<Vl&&t.direction===Oe.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===Oe.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===Oe.right&&t.bounds.right>=t.canvasSize.width&&e>Jf||t.direction===Oe.left&&t.bounds.left<=Vl&&e<Jf){const r=ve(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===Oe.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=Vl&&t.direction===Oe.left&&(t.particle.position.x=i),t.outMode===Ct.split&&t.particle.destroy()}function Z8(t){if(t.outMode!==Ct.bounce&&t.outMode!==Ct.split||t.direction!==Oe.bottom&&t.direction!==Oe.top)return;t.bounds.bottom<Vl&&t.direction===Oe.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===Oe.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===Oe.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>Jf||t.direction===Oe.top&&t.bounds.top<=Vl&&e<Jf){const r=ve(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===Oe.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=Vl&&t.direction===Oe.top&&(t.particle.position.y=i),t.outMode===Ct.split&&t.particle.destroy()}class e7{constructor(e){this.container=e,this.modes=[Ct.bounce,Ct.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;let l=!1;for(const w of o.plugins.values())if(w.particleBounce!==void 0&&(l=w.particleBounce(e,i,n)),l)break;if(l)return;const u=e.getPosition(),h=e.offset,f=e.getRadius(),m=fh(u,f),y=o.canvas.size;J8({particle:e,outMode:r,direction:n,bounds:m,canvasSize:y,offset:h,size:f}),Z8({particle:e,outMode:r,direction:n,bounds:m,canvasSize:y,offset:h,size:f})}}const Wd=0;class t7{constructor(e){this.container=e,this.modes=[Ct.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case Ui.normal:case Ui.outside:if(B_(e.position,o.canvas.size,$t.origin,e.getRadius(),n))return;break;case Ui.inside:{const{dx:l,dy:u}=In(e.position,e.moveCenter),{x:h,y:f}=e.velocity;if(h<Wd&&l>e.moveCenter.radius||f<Wd&&u>e.moveCenter.radius||h>=Wd&&l<-e.moveCenter.radius||f>=Wd&&u<-e.moveCenter.radius)return;break}}o.particles.remove(e,e.group,!0)}}const qd=0;class n7{constructor(e){this.container=e,this.modes=[Ct.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===Oe.left||n===Oe.right))??(e.options.move.distance.vertical&&(n===Oe.top||n===Oe.bottom))))return;const o=e.options.move.gravity,l=this.container,u=l.canvas.size,h=e.getRadius();if(o.enable){const f=e.position;(!o.inverse&&f.y>u.height+h&&n===Oe.bottom||o.inverse&&f.y<-h&&n===Oe.top)&&l.particles.remove(e)}else{if(e.velocity.y>qd&&e.position.y<=u.height+h||e.velocity.y<qd&&e.position.y>=-h||e.velocity.x>qd&&e.position.x<=u.width+h||e.velocity.x<qd&&e.position.x>=-h)return;B_(e.position,l.canvas.size,$t.origin,h,n)||l.particles.remove(e)}}}const Gd=0,Kd=0;class i7{constructor(e){this.container=e,this.modes=[Ct.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const o=this.container;switch(e.outType){case Ui.inside:{const{x:l,y:u}=e.velocity,h=$t.origin;h.length=e.moveCenter.radius,h.angle=e.velocity.angle+Math.PI,h.addTo($t.create(e.moveCenter));const{dx:f,dy:m}=In(e.position,h);if(l<=Gd&&f>=Kd||u<=Gd&&m>=Kd||l>=Gd&&f<=Kd||u>=Gd&&m<=Kd)return;e.position.x=Math.floor(qn({min:0,max:o.canvas.size.width})),e.position.y=Math.floor(qn({min:0,max:o.canvas.size.height}));const{dx:y,dy:w}=In(e.position,e.moveCenter);e.direction=Math.atan2(-w,-y),e.velocity.angle=e.direction;break}default:{if(B_(e.position,o.canvas.size,$t.origin,e.getRadius(),n))return;switch(e.outType){case Ui.outside:{e.position.x=Math.floor(qn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(qn({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:l,dy:u}=In(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(u,l),e.velocity.angle=e.direction);break}case Ui.normal:{const l=e.options.move.warp,u=o.canvas.size,h={bottom:u.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:u.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},f=e.getRadius(),m=fh(e.position,f);n===Oe.right&&m.left>u.width+e.offset.x?(e.position.x=h.left,e.initialPosition.x=e.position.x,l||(e.position.y=Ge()*u.height,e.initialPosition.y=e.position.y)):n===Oe.left&&m.right<-e.offset.x&&(e.position.x=h.right,e.initialPosition.x=e.position.x,l||(e.position.y=Ge()*u.height,e.initialPosition.y=e.position.y)),n===Oe.bottom&&m.top>u.height+e.offset.y?(l||(e.position.x=Ge()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.top,e.initialPosition.y=e.position.y):n===Oe.top&&m.bottom<-e.offset.y&&(l||(e.position.x=Ge()*u.width,e.initialPosition.x=e.position.x),e.position.y=h.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const r7=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class s7{constructor(e){this._addUpdaterIfMissing=(n,i,r)=>{const o=n.options.move.outModes;!this.updaters.has(i)&&r7(o,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(n,i,r,o)=>{for(const l of this.updaters.values())l.update(n,o,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,Ct.bounce,n=>new e7(n)),this._addUpdaterIfMissing(e,Ct.out,n=>new i7(n)),this._addUpdaterIfMissing(e,Ct.destroy,n=>new t7(n)),this._addUpdaterIfMissing(e,Ct.none,n=>new n7(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,Oe.bottom),this._updateOutMode(e,n,i.left??i.default,Oe.left),this._updateOutMode(e,n,i.right??i.default,Oe.right),this._updateOutMode(e,n,i.top??i.default,Oe.top)}}async function o7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new s7(n)),e)}var Il;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Il||(Il={}));class a7{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:ve(i.r),g:ve(i.g),b:ve(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?dk(i[Il.a]):1,b:parseInt(i[Il.b],r),g:parseInt(i[Il.g],r),r:parseInt(i[Il.r],r)}:void 0}}async function l7(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new a7,e)}const No=0;class u7{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Os*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ge()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??No)<=No||(e.size.maxLoops??No)>No&&(e.size.loops??No)<(e.size.maxLoops??No))}reset(e){e.size.loops=No}update(e,n){this.isEnabled(e)&&W_(e,e.size,!0,e.options.size.animation.destroy,n)}}async function c7(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new u7),e)}async function h7(t,e=!0){t.checkVersion("3.9.1"),await G8(t,!1),await Q8(t,!1),await l7(t,!1),await A8(t,!1),await U8(t,!1),await z8(t,!1),await Y8(t,!1),await o7(t,!1),await c7(t,!1),await t.refresh(e)}async function d7(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(Jo.easeInQuad,n=>n**2,!1),await t.addEasing(Jo.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(Jo.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function f7(t,e){const{context:n,opacity:i}=t,r=.5,o=n.globalAlpha;if(!e)return;const l=e.width,u=l*r;n.globalAlpha=i,n.drawImage(e,-u,-u,l,l),n.globalAlpha=o}const Gg='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',Wx=0;class p7{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&n?.close(),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const i=this._emojiShapeDict.get(n);i&&f7(e,i)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(l=>Et(l,n.particles.shape.type)))return;const r=[Dx(Gg)],o=i.map(l=>n.particles.shape.options[l]).find(l=>!!l);o&&Yn(o,l=>{l.font&&r.push(Dx(l.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const r=n.shapeData;if(!r?.value)return;const o=pi(r.value,n.randomIndexData);if(!o)return;const l=typeof o=="string"?{font:r.font??Gg,padding:r.padding??Wx,value:o}:{font:Gg,padding:Wx,...r,...o},u=l.font,h=l.value,f=`${h}_${u}`;if(this._emojiShapeDict.has(f)){n.emojiDataKey=f;return}const m=l.padding*2,y=nr(n.size.value),w=y+m,T=w*2;let S;if(typeof OffscreenCanvas<"u"){const P=new OffscreenCanvas(T,T),b=P.getContext("2d");if(!b)return;b.font=`400 ${y*2}px ${u}`,b.textBaseline="middle",b.textAlign="center",b.fillText(h,w,w),S=P.transferToImageBitmap()}else{const P=document.createElement("canvas");P.width=T,P.height=T;const b=P.getContext("2d");if(!b)return;b.font=`400 ${y*2}px ${u}`,b.textBaseline="middle",b.textAlign="center",b.fillText(h,w,w),S=P}this._emojiShapeDict.set(f,S),n.emojiDataKey=f}}async function m7(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new p7,e)}const g7=1,y7=1,Ak=0;function Dk(t,e,n,i,r,o){const l=e.actualOptions.interactivity.modes.attract;if(!l)return;const u=e.particles.quadTree.query(r,o);for(const h of u){const{dx:f,dy:m,distance:y}=In(h.position,n),w=l.speed*l.factor,T=gi(t.getEasing(l.easing)(y7-y/i)*w,g7,l.maxSpeed),S=$t.create(y?f/y*T:w,y?m/y*T:w);h.position.subFrom(S)}}function v7(t,e,n){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,o=e.retina.attractModeDistance;if(!o||o<Ak||!r)return;Dk(t,e,r,o,new gn(r.x,r.y,o),l=>n(l))}else i.clicking===!1&&(i.particles=[])}function _7(t,e,n){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<Ak||!i||Dk(t,e,i,r,new gn(i.x,i.y,r),o=>n(o))}class w7{constructor(){this.distance=200,this.duration=.4,this.easing=Jo.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){ae(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const oc="attract";let E7=class extends _r{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.attract;if(!(!o||i!==oc)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const l of n.attract.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},o.duration*pn)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===oa,r=n.interactivity.events,{enable:o,mode:l}=r.onHover,{enable:u,mode:h}=r.onClick;i&&o&&Et(oc,l)?_7(this._engine,this.container,f=>this.isEnabled(f)):u&&Et(oc,h)&&v7(this._engine,this.container,f=>this.isEnabled(f))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events;if((!r.position||!o.onHover.enable)&&(!r.clickPosition||!o.onClick.enable))return!1;const l=o.onHover.mode,u=o.onClick.mode;return Et(oc,l)||Et(oc,u)}loadModeOptions(e,...n){e.attract||(e.attract=new w7);for(const i of n)e.attract.load(i?.attract)}reset(){}};async function T7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new E7(t,n)),e)}const x7=2,yf=.5,S7=Math.PI*yf,qx=2,Mk=10,b7=0;function Ok(t,e,n,i,r){const o=t.particles.quadTree.query(i,r);for(const l of o)i instanceof gn?mk(Jy(l),{position:e,mass:n**x7*S7,velocity:$t.origin,factor:$t.origin}):i instanceof zi&&qj(l,fh(e,n))}function I7(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(o=>{const l=o,u=t.retina.pixelRatio,h={x:(l.offsetLeft+l.offsetWidth*yf)*u,y:(l.offsetTop+l.offsetHeight*yf)*u},f=l.offsetWidth*yf*u,m=Mk*u,y=n.type===Xl.circle?new gn(h.x,h.y,f+m):new zi(l.offsetLeft*u-m,l.offsetTop*u-m,l.offsetWidth*u+m*qx,l.offsetHeight*u+m*qx);i(h,f,y)})}function C7(t,e,n,i){H_(n,e,(r,o)=>I7(t,r,o,(l,u,h)=>Ok(t,l,u,h,i)))}function P7(t,e){const n=t.retina.pixelRatio,i=Mk*n,r=t.interactivity.mouse.position,o=t.retina.bounceModeDistance;!o||o<b7||!r||Ok(t,r,o,new gn(r.x,r.y,o+i),e)}class k7{constructor(){this.distance=200}load(e){ae(e)||e.distance!==void 0&&(this.distance=e.distance)}}const Qd="bounce";class R7 extends _r{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===oa,o=i.onHover.enable,l=i.onHover.mode,u=i.onDiv;r&&o&&Et(Qd,l)?P7(this.container,h=>this.isEnabled(h)):C7(this.container,u,Qd,h=>this.isEnabled(h))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,l=o.onDiv;return!!r.position&&o.onHover.enable&&Et(Qd,o.onHover.mode)||$_(Qd,l)}loadModeOptions(e,...n){e.bounce||(e.bounce=new k7);for(const i of n)e.bounce.load(i?.bounce)}reset(){}}async function A7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new R7(n)),e)}class Nk{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!ae(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=vr(this.color)?void 0:this.color;this.color=Yn(e.color,i=>_n.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class D7 extends Nk{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ae(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class M7 extends Nk{load(e){super.load(e),!ae(e)&&(this.divs=Yn(e.divs,n=>{const i=new D7;return i.load(n),i}))}}var Zi;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(Zi||(Zi={}));function Gx(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return gi(r,t,e)}else if(e<n){const r=t-(n-e)*i;return gi(r,e,t)}}const Vo="bubble",Kg=0,O7=0,N7=2,Kx=1,Qx=1,V7=0,L7=0,Qg=.5,Xg=1;class F7 extends _r{constructor(e,n){super(e),this._clickBubble=()=>{const i=this.container,r=i.actualOptions,o=i.interactivity.mouse.clickPosition,l=r.interactivity.modes.bubble;if(!l||!o)return;i.bubble||(i.bubble={});const u=i.retina.bubbleModeDistance;if(!u||u<Kg)return;const h=i.particles.quadTree.queryCircle(o,u,m=>this.isEnabled(m)),{bubble:f}=i;for(const m of h){if(!f.clicking)continue;m.bubble.inRange=!f.durationEnd;const y=m.getPosition(),w=Kn(y,o),T=(new Date().getTime()-(i.interactivity.mouse.clickTime??O7))/pn;T>l.duration&&(f.durationEnd=!0),T>l.duration*N7&&(f.clicking=!1,f.durationEnd=!1);const S={bubbleObj:{optValue:i.retina.bubbleModeSize,value:m.bubble.radius},particlesObj:{optValue:nr(m.options.size.value)*i.retina.pixelRatio,value:m.size.value},type:Zi.size};this._process(m,w,T,S);const P={bubbleObj:{optValue:l.opacity,value:m.bubble.opacity},particlesObj:{optValue:nr(m.options.opacity.value),value:m.opacity?.value??Kx},type:Zi.opacity};this._process(m,w,T,P),!f.durationEnd&&w<=u?this._hoverBubbleColor(m,w):delete m.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.bubbleModeDistance;if(!o||o<Kg||!r)return;const l=i.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u));for(const u of l){u.bubble.inRange=!0;const h=u.getPosition(),f=Kn(h,r),m=Qx-f/o;f<=o?m>=L7&&i.interactivity.status===oa&&(this._hoverBubbleSize(u,m),this._hoverBubbleOpacity(u,m),this._hoverBubbleColor(u,m)):this.reset(u),i.interactivity.status===qy&&this.reset(u)}},this._hoverBubbleColor=(i,r,o)=>{const l=this.container.actualOptions,u=o??l.interactivity.modes.bubble;if(u){if(!i.bubble.finalColor){const h=u.color;if(!h)return;const f=pi(h);i.bubble.finalColor=Wc(this._engine,f)}if(i.bubble.finalColor)if(u.mix){i.bubble.color=void 0;const h=i.getFillColor();i.bubble.color=h?wk(q_(h,i.bubble.finalColor,Qx-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,o)=>{const l=this.container,u=l.actualOptions,h=o?.opacity??u.interactivity.modes.bubble?.opacity;if(!h)return;const f=i.options.opacity.value,m=i.opacity?.value??Kx,y=Gx(m,h,nr(f),r);y!==void 0&&(i.bubble.opacity=y)},this._hoverBubbleSize=(i,r,o)=>{const l=this.container,u=o?.size?o.size*l.retina.pixelRatio:l.retina.bubbleModeSize;if(u===void 0)return;const h=nr(i.options.size.value)*l.retina.pixelRatio,f=i.size.value,m=Gx(f,u,h,r);m!==void 0&&(i.bubble.radius=m)},this._process=(i,r,o,l)=>{const u=this.container,h=l.bubbleObj.optValue,f=u.actualOptions,m=f.interactivity.modes.bubble;if(!m||h===void 0)return;const y=m.duration,w=u.retina.bubbleModeDistance,T=l.particlesObj.optValue,S=l.bubbleObj.value,P=l.particlesObj.value??V7,b=l.type;if(!(!w||w<Kg||h===T))if(u.bubble||(u.bubble={}),u.bubble.durationEnd)S&&(b===Zi.size&&delete i.bubble.radius,b===Zi.opacity&&delete i.bubble.opacity);else if(r<=w){if((S??P)!==h){const F=P-o*(P-h)/y;b===Zi.size&&(i.bubble.radius=F),b===Zi.opacity&&(i.bubble.opacity=F)}}else b===Zi.size&&delete i.bubble.radius,b===Zi.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,o)=>{const l=this.container,u=document.querySelectorAll(r),h=l.actualOptions.interactivity.modes.bubble;!h||!u.length||u.forEach(f=>{const m=f,y=l.retina.pixelRatio,w={x:(m.offsetLeft+m.offsetWidth*Qg)*y,y:(m.offsetTop+m.offsetHeight*Qg)*y},T=m.offsetWidth*Qg*y,S=o.type===Xl.circle?new gn(w.x,w.y,T):new zi(m.offsetLeft*y,m.offsetTop*y,m.offsetWidth*y,m.offsetHeight*y),P=l.particles.quadTree.query(S,b=>this.isEnabled(b));for(const b of P){if(!S.contains(b.getPosition()))continue;b.bubble.inRange=!0;const A=h.divs,F=pk(A,m);(!b.bubble.div||b.bubble.div!==m)&&(this.clear(b,i,!0),b.bubble.div=m),this._hoverBubbleSize(b,Xg,F),this._hoverBubbleOpacity(b,Xg,F),this._hoverBubbleColor(b,Xg,F)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===Vo&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,o=i.onClick,l=r.enable,u=r.mode,h=o.enable,f=o.mode,m=i.onDiv;l&&Et(Vo,u)?this._hoverBubble():h&&Et(Vo,f)?this._clickBubble():H_(Vo,m,(y,w)=>this._singleSelectorHover(e,y,w))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,{onClick:l,onDiv:u,onHover:h}=o,f=$_(Vo,u);return f||h.enable&&r.position||l.enable&&r.clickPosition?Et(Vo,h.mode)||Et(Vo,l.mode)||f:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new M7);for(const i of n)e.bubble.load(i?.bubble)}reset(e){e.bubble.inRange=!1}}async function U7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new F7(n,t)),e)}class j7{constructor(){this.opacity=.5}load(e){ae(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class z7{constructor(){this.distance=80,this.links=new j7,this.radius=60}load(e){ae(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const Xx=0,Yx=1,B7=0;function $7(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),o=e.getFillColor(),l=n.getFillColor();if(!o||!l)return;const u=e.getPosition(),h=n.getPosition(),f=q_(o,l,e.getRadius(),n.getRadius()),m=t.createLinearGradient(u.x,u.y,h.x,h.y);return m.addColorStop(Xx,qc(o,i)),m.addColorStop(gi(r,Xx,Yx),qr(f,i)),m.addColorStop(Yx,qc(l,i)),m}function H7(t,e,n,i,r){Pc(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function W7(t,e,n,i){const r=t.actualOptions,o=r.interactivity.modes.connect;if(o)return $7(e,n,i,o.links.opacity)}function q7(t,e,n){t.canvas.draw(i=>{const r=W7(t,i,e,n);if(!r)return;const o=e.getPosition(),l=n.getPosition();H7(i,e.retina.linksWidth??B7,r,o,l)})}const G7="connect",Jx=0;class K7 extends _r{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:o}=e.retina;if(!r||r<Jx||!o||o<Jx||!i)return;const l=Math.abs(o),u=e.particles.quadTree.queryCircle(i,l,h=>this.isEnabled(h));u.forEach((h,f)=>{const m=h.getPosition(),y=1;for(const w of u.slice(f+y)){const T=w.getPosition(),S=Math.abs(r),P=Math.abs(m.x-T.x),b=Math.abs(m.y-T.y);P<S&&b<S&&q7(e,h,w)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Et(G7,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new z7);for(const i of n)e.connect.load(i?.connect)}reset(){}}async function Q7(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new K7(n)),e)}class X7{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){ae(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Y7{constructor(){this.distance=100,this.links=new X7}load(e){ae(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const J7=0;function Z7(t,e,n,i,r,o){Pc(t,n,i),t.strokeStyle=qr(r,o),t.lineWidth=e,t.stroke()}function eB(t,e,n,i,r){t.canvas.draw(o=>{const l=e.getPosition();Z7(o,e.retina.linksWidth??J7,l,r,n,i)})}const tB="grab",nB=0,iB=0;class rB extends _r{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==oa)return;const r=e.interactivity.mouse.position;if(!r)return;const o=e.retina.grabModeDistance;if(!o||o<nB)return;const l=e.particles.quadTree.queryCircle(r,o,u=>this.isEnabled(u));for(const u of l){const h=u.getPosition(),f=Kn(h,r);if(f>o)continue;const m=i.modes.grab.links,y=m.opacity,w=y-f*y/o;if(w<=iB)continue;const T=m.color??u.options.links?.color;if(!e.particles.grabLineColor&&T){const P=i.modes.grab.links;e.particles.grabLineColor=Tk(this._engine,T,P.blink,P.consent)}const S=ev(u,void 0,e.particles.grabLineColor);S&&eB(e,u,S,w,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Et(tB,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new Y7);for(const i of n)e.grab.load(i?.grab)}reset(){}}async function sB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new rB(n,t)),e)}const oB="pause";class aB extends _r{constructor(e){super(e),this.handleClickMode=n=>{if(n!==oB)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function lB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new aB(n)),e)}class uB{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(ae(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=Be(n)),this.particles=Yn(e.particles,i=>vn({},i))}}const cB="push",hB=0;class dB extends _r{constructor(e){super(e),this.handleClickMode=n=>{if(n!==cB)return;const i=this.container,r=i.actualOptions,o=r.interactivity.modes.push;if(!o)return;const l=ve(o.quantity);if(l<=hB)return;const u=Pp([void 0,...o.groups]),h=u!==void 0?i.actualOptions.particles.groups[u]:void 0,f=pi(o.particles),m=vn(h,f);i.particles.push(l,i.interactivity.mouse,m,u)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new uB);for(const i of n)e.push.load(i?.push)}reset(){}}async function fB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new dB(n)),e)}class pB{constructor(){this.quantity=2}load(e){if(ae(e))return;const n=e.quantity;n!==void 0&&(this.quantity=Be(n))}}const mB="remove";class gB extends _r{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==mB)return;const o=ve(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(o)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new pB);for(const i of n)e.remove.load(i?.remove)}reset(){}}async function yB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new gB(n)),e)}class Vk{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=Jo.easeOutQuad}load(e){ae(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class vB extends Vk{constructor(){super(),this.selectors=[]}load(e){super.load(e),!ae(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class _B extends Vk{load(e){super.load(e),!ae(e)&&(this.divs=Yn(e.divs,n=>{const i=new vB;return i.load(n),i}))}}const Lo="repulse",wB=0,EB=6,TB=3,xB=2,SB=0,bB=0,IB=1,Yg=.5;class CB extends _r{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const o=i.repulse??{particles:[]};if(o.finish||(o.count||(o.count=0),o.count++,o.count===i.particles.count&&(o.finish=!0)),o.clicking){const l=i.retina.repulseModeDistance;if(!l||l<wB)return;const u=Math.pow(l/EB,TB),h=i.interactivity.mouse.clickPosition;if(h===void 0)return;const f=new gn(h.x,h.y,u),m=i.particles.quadTree.query(f,y=>this.isEnabled(y));for(const y of m){const{dx:w,dy:T,distance:S}=In(h,y.position),P=S**xB,b=r.speed,A=-u*b/P;if(P<=u){o.particles.push(y);const F=$t.create(w,T);F.length=A,y.velocity.setTo(F)}}}else if(o.clicking===!1){for(const l of o.particles)l.velocity.setTo(l.initialVelocity);o.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,o=i.retina.repulseModeDistance;!o||o<SB||!r||this._processRepulse(r,o,new gn(r.x,r.y,o))},this._processRepulse=(i,r,o,l)=>{const u=this.container,h=u.particles.quadTree.query(o,b=>this.isEnabled(b)),f=u.actualOptions.interactivity.modes.repulse;if(!f)return;const{easing:m,speed:y,factor:w,maxSpeed:T}=f,S=this._engine.getEasing(m),P=(l?.speed??y)*w;for(const b of h){const{dx:A,dy:F,distance:z}=In(b.position,i),q=gi(S(IB-z/r)*P,bB,T),X=$t.create(z?A/z*q:P,z?F/z*q:P);b.position.addTo(X)}},this._singleSelectorRepulse=(i,r)=>{const o=this.container,l=o.actualOptions.interactivity.modes.repulse;if(!l)return;const u=document.querySelectorAll(i);u.length&&u.forEach(h=>{const f=h,m=o.retina.pixelRatio,y={x:(f.offsetLeft+f.offsetWidth*Yg)*m,y:(f.offsetTop+f.offsetHeight*Yg)*m},w=f.offsetWidth*Yg*m,T=r.type===Xl.circle?new gn(y.x,y.y,w):new zi(f.offsetLeft*m,f.offsetTop*m,f.offsetWidth*m,f.offsetHeight*m),S=l.divs,P=pk(S,f);this._processRepulse(y,w,T,P)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,o=r.interactivity.modes.repulse;if(!o||i!==Lo)return;n.repulse||(n.repulse={particles:[]});const l=n.repulse;l.clicking=!0,l.count=0;for(const u of n.repulse.particles)this.isEnabled(u)&&u.velocity.setTo(u.initialVelocity);l.particles=[],l.finish=!1,setTimeout(()=>{n.destroyed||(l.clicking=!1)},o.duration*pn)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===oa,r=n.interactivity.events,o=r.onHover,l=o.enable,u=o.mode,h=r.onClick,f=h.enable,m=h.mode,y=r.onDiv;i&&l&&Et(Lo,u)?this._hoverRepulse():f&&Et(Lo,m)?this._clickRepulse():H_(Lo,y,(w,T)=>this._singleSelectorRepulse(w,T))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,o=(e?.interactivity??i.interactivity).events,l=o.onDiv,u=o.onHover,h=o.onClick,f=$_(Lo,l);if(!(f||u.enable&&r.position||h.enable&&r.clickPosition))return!1;const m=u.mode,y=h.mode;return Et(Lo,m)||Et(Lo,y)||f}loadModeOptions(e,...n){e.repulse||(e.repulse=new _B);for(const i of n)e.repulse.load(i?.repulse)}reset(){}}async function PB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new CB(t,n)),e)}class kB{constructor(){this.factor=3,this.radius=200}load(e){ae(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const RB="slow",AB=0;class DB extends _r{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=(e?.interactivity??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Et(RB,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new kB);for(const i of n)e.slow.load(i?.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,o=n.retina.slowModeRadius,l=i.interactivity.modes.slow;if(!l||!o||o<AB||!r)return;const u=e.getPosition(),h=Kn(r,u),f=h/o,m=l.factor,{slow:y}=e;h>o||(y.inRange=!0,y.factor=f/m)}}async function MB(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new DB(n)),e)}const OB=0,NB=1,VB=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function LB(t,e,n){const{svgData:i}=t;if(!i)return"";const r=qc(e,n);if(i.includes("fill"))return i.replace(VB,()=>r);const o=i.indexOf(">");return`${i.substring(OB,o)} fill="${r}"${i.substring(o)}`}async function kp(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,la().error(`${mi} loading image: ${t.source}`),e()}),n.src=t.source})}async function FB(t){if(t.type!=="svg"){await kp(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(la().error(`${mi} Image not found`),t.error=!0),t.loading=!1}function UB(t,e,n,i){const r=LB(t,n,i.opacity?.value??NB),o={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(l=>{const u=new Blob([r],{type:"image/svg+xml"}),h=URL||window.URL||window.webkitURL||window,f=h.createObjectURL(u),m=new Image;m.addEventListener("load",()=>{o.loaded=!0,o.element=m,l(o),h.revokeObjectURL(f)});const y=async()=>{h.revokeObjectURL(f);const w={...t,error:!1,loading:!0};await kp(w),o.loaded=!0,o.element=w.element,l(o)};m.addEventListener("error",()=>void y()),m.src=f})}const Jg=[0,4,2,1],Zx=[8,8,4,2];class jB{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let o=n;--o>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let l=0;e!==i;l+=e+r,e=this.data[this.pos+l])n+=e;const o=new Uint8Array(n);e=this.data[this.pos++];for(let l=0;e!==i;e=this.data[this.pos++])for(let u=e;--u>=i;o[l++]=this.data[this.pos++]);return o}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Mi;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Mi||(Mi={}));var zr;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(zr||(zr={}));const Nn={x:0,y:0},zB=0,eS=.5,BB=0,tS=0,nv=0;function Lk(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function $B(t,e,n,i){switch(t.nextByte()){case zr.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const o=t.nextByte();r.GCreserved=(o&224)>>>5,r.disposalMethod=(o&28)>>>2,r.userInputDelayFlag=(o&2)===2;const l=(o&1)===1;r.delayTime=t.nextTwoBytes()*10;const u=t.nextByte();l&&i(u),t.pos++;break}case zr.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case zr.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case zr.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function HB(t,e,n,i,r,o){const l=e.frames[i(!0)];l.left=t.nextTwoBytes(),l.top=t.nextTwoBytes(),l.width=t.nextTwoBytes(),l.height=t.nextTwoBytes();const u=t.nextByte(),h=(u&128)===128,f=(u&64)===64;l.sortFlag=(u&32)===32,l.reserved=(u&24)>>>3;const m=1<<(u&7)+1;h&&(l.localColorTable=Lk(t,m));const y=A=>{const{r:F,g:z,b:q}=(h?l.localColorTable:e.globalColorTable)[A];return A!==r(null)?{r:F,g:z,b:q,a:255}:{r:F,g:z,b:q,a:n?~~((F+z+q)/3):0}},w=(()=>{try{return new ImageData(l.width,l.height,{colorSpace:"srgb"})}catch(A){if(A instanceof DOMException&&A.name==="IndexSizeError")return null;throw A}})();if(w==null)throw new EvalError("GIF frame size is to large");const T=t.nextByte(),S=t.readSubBlocksBin(),P=1<<T,b=(A,F)=>{const z=A>>>3,q=A&7;return(S[z]+(S[z+1]<<8)+(S[z+2]<<16)&(1<<F)-1<<q)>>>q};if(f){for(let A=0,F=T+1,z=0,q=[[0]],X=0;X<4;X++)if(Jg[X]<l.height){let ne=0,M=0,C=!1;for(;!C;){const R=A;if(A=b(z,F),z+=F+1,A===P){F=T+1,q.length=P+2;for(let N=0;N<q.length;N++)q[N]=N<P?[N]:[]}else{A>=q.length?q.push(q[R].concat(q[R][0])):R!==P&&q.push(q[R].concat(q[A][0]));for(const N of q[A]){const{r:U,g:B,b:O,a:Qe}=y(N);w.data.set([U,B,O,Qe],Jg[X]*l.width+Zx[X]*M+ne%(l.width*4)),ne+=4}q.length===1<<F&&F<12&&F++}ne===l.width*4*(M+1)&&(M++,Jg[X]+Zx[X]*M>=l.height&&(C=!0))}}l.image=w,l.bitmap=await createImageBitmap(w)}else{let A=0,F=T+1,z=0,q=-4,X=!1;const ne=[[0]];for(;!X;){const M=A;if(A=b(z,F),z+=F,A===P){F=T+1,ne.length=P+2;for(let C=0;C<ne.length;C++)ne[C]=C<P?[C]:[]}else{if(A===P+1){X=!0;break}A>=ne.length?ne.push(ne[M].concat(ne[M][0])):M!==P&&ne.push(ne[M].concat(ne[A][0]));for(const C of ne[A]){const{r:R,g:N,b:U,a:B}=y(C);w.data.set([R,N,U,B],q+=4)}ne.length>=1<<F&&F<12&&F++}}l.image=w,l.bitmap=await createImageBitmap(w)}}async function WB(t,e,n,i,r,o){switch(t.nextByte()){case zr.EndOfFile:return!0;case zr.Image:await HB(t,e,n,i,r);break;case zr.Extension:$B(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function qB(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function GB(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),o={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},l=new jB(new Uint8ClampedArray(r));if(l.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");o.width=l.nextTwoBytes(),o.height=l.nextTwoBytes();const u=l.nextByte(),h=(u&128)===128;o.colorRes=(u&112)>>>4,o.sortFlag=(u&8)===8;const f=1<<(u&7)+1,m=l.nextByte();o.pixelAspectRatio=l.nextByte(),o.pixelAspectRatio!==0&&(o.pixelAspectRatio=(o.pixelAspectRatio+15)/64),h&&(o.globalColorTable=Lk(l,f));const y=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(q){if(q instanceof DOMException&&q.name==="IndexSizeError")return null;throw q}})();if(y==null)throw new Error("GIF frame size is to large");const{r:w,g:T,b:S}=o.globalColorTable[m];y.data.set(h?[w,T,S,255]:[0,0,0,0]);for(let q=4;q<y.data.length;q*=2)y.data.copyWithin(q,0,q);o.backgroundImage=y;let P=-1,b=!0,A=-1;const F=q=>(q&&(b=!0),P),z=q=>(q!=null&&(A=q),A);try{do b&&(o.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Mi.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),P++,A=-1,b=!1);while(!await WB(l,o,n,F,z,e));o.frames.length--;for(const q of o.frames){if(q.userInputDelayFlag&&q.delayTime===0){o.totalTime=1/0;break}o.totalTime+=q.delayTime}return o}catch(q){throw q instanceof EvalError?new Error(`error while parsing frame ${P} "${q.message}"`):q}}function KB(t){const{context:e,radius:n,particle:i,delta:r}=t,o=i.image;if(!o?.gifData||!o.gif)return;const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=l.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(Nn.x,Nn.y,l.width,l.height),i.gifLoopCount===void 0&&(i.gifLoopCount=o.gifLoopCount??nv);let h=i.gifFrame??zB;const f={x:-o.gifData.width*eS,y:-o.gifData.height*eS},m=o.gifData.frames[h];if(i.gifTime===void 0&&(i.gifTime=BB),!!m.bitmap){switch(e.scale(n/o.gifData.width,n/o.gifData.height),m.disposalMethod){case Mi.UndefinedA:case Mi.UndefinedB:case Mi.UndefinedC:case Mi.UndefinedD:case Mi.Replace:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Nn.x,Nn.y,l.width,l.height);break;case Mi.Combine:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y);break;case Mi.RestoreBackground:u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Nn.x,Nn.y,l.width,l.height),o.gifData.globalColorTable.length?u.putImageData(o.gifData.backgroundImage,f.x,f.y):u.putImageData(o.gifData.frames[tS].image,f.x+m.left,f.y+m.top);break;case Mi.RestorePrevious:{const y=u.getImageData(Nn.x,Nn.y,l.width,l.height);u.drawImage(m.bitmap,m.left,m.top),e.drawImage(l,f.x,f.y),u.clearRect(Nn.x,Nn.y,l.width,l.height),u.putImageData(y,Nn.x,Nn.y)}break}if(i.gifTime+=r.value,i.gifTime>m.delayTime){if(i.gifTime-=m.delayTime,++h>=o.gifData.frames.length){if(--i.gifLoopCount<=nv)return;h=tS,u.clearRect(Nn.x,Nn.y,l.width,l.height)}i.gifFrame=h}e.scale(o.gifData.width/n,o.gifData.height/n)}}async function QB(t){if(t.type!=="gif"){await kp(t);return}t.loading=!0;try{t.gifData=await GB(t.source),t.gifLoopCount=qB(t.gifData)??nv,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const XB=2,YB=1,JB=12,ZB=1;class e${constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${mi} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:o}=e,l=r.image,u=l?.element;if(l){if(n.globalAlpha=o,l.gif&&l.gifData)KB(e);else if(u){const h=l.ratio,f={x:-i,y:-i},m=i*XB;n.drawImage(u,f.x,f.y,m,m/h)}n.globalAlpha=YB}}getSidesCount(){return JB}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const o=n.getFillColor(),l=i.find(h=>h.name===r.name||h.source===r.src);if(!l)return;const u=r.replaceColor??l.replaceColor;if(l.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let h;l.svgData&&o?h=await UB(l,r,o,n):h={color:o,data:l,element:l.element,gif:l.gif,gifData:l.gifData,gifLoopCount:l.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:l.ratio??ZB,replaceColor:u,source:r.src},h.ratio||(h.ratio=1);const f=r.fill??n.shapeFill,m=r.close??n.shapeClose,y={image:h,fill:f,close:m};n.image=y.image,n.shapeFill=y.fill,n.shapeClose=y.close})()}}class t${constructor(){this.src="",this.gif=!1}load(e){ae(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class n${constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!n?.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const o=i.find(l=>l.name===r.name||l.src===r.src);if(o)o.load(r);else{const l=new t$;l.load(r),i.push(l)}}}needsPlugin(){return!0}}const i$=3;function r$(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${mi} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-i$),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=QB:i=e.replaceColor?FB:kp,await i(n)}catch{throw new Error(`${mi} ${e.name??e.src} not found`)}})}async function s$(t,e=!0){t.checkVersion("3.9.1"),r$(t);const n=new n$(t);await t.addPlugin(n,e),await t.addShape(new e$(t),e)}class o$ extends va{constructor(){super(),this.sync=!1}load(e){ae(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class a$ extends va{constructor(){super(),this.sync=!1}load(e){ae(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class l${constructor(){this.count=0,this.delay=new o$,this.duration=new a$}load(e){ae(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const dl=0,u$=-1,nS=0,iS=0;function c$(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=dl,i.time=dl;else return;if(i.duration===u$||t.spawning||(r?i.time=dl:i.time+=e.value,i.time<i.duration))return;if(i.time=dl,t.life.count>nS&&t.life.count--,t.life.count===nS){t.destroy();return}const o=Be(iS,n.width),l=Be(iS,n.width);t.position.x=qn(o),t.position.y=qn(l),t.spawning=!0,i.delayTime=dl,i.time=dl,t.reset();const u=t.options.life;u&&(i.delay=ve(u.delay.value)*pn,i.duration=ve(u.duration.value)*pn)}const Fo=0,rS=1,sS=-1;class h${constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?ve(r.delay.value)*(r.delay.sync?rS:Ge())/n.retina.reduceFactor*pn:Fo,delayTime:Fo,duration:n.retina.reduceFactor?ve(r.duration.value)*(r.duration.sync?rS:Ge())/n.retina.reduceFactor*pn:Fo,time:Fo,count:r.count},e.life.duration<=Fo&&(e.life.duration=sS),e.life.count<=Fo&&(e.life.count=sS),e.life&&(e.spawning=e.life.delay>Fo))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new l$);for(const i of n)e.life.load(i?.life)}update(e,n){!this.isEnabled(e)||!e.life||c$(e,n,this.container.canvas.size)}}async function d$(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new h$(n)),e)}function f$(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,o=0;e.moveTo(-i,o),e.lineTo(i,o),e.lineCap=r?.cap??"butt"}const p$=1;class m${constructor(){this.validTypes=["line"]}draw(e){f$(e)}getSidesCount(){return p$}}async function g$(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new m$,e)}const oS=.5;class y${init(){}isEnabled(e){return!ua()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(ua()||!r.enable)return;const o=r.force,l=n.interactivity.mouse.position;if(!l)return;const u=n.canvas.size,h={x:u.width*oS,y:u.height*oS},f=r.smooth,m=e.getRadius()/o,y={x:(l.x-h.x)*m,y:(l.y-h.y)*m},{offset:w}=e;w.x+=(y.x-w.x)/f,w.y+=(y.y-w.y)/f}}async function v$(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new y$),e)}const aS=1e3,_$=1;class w$ extends Q_{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=ve(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),o=n.particles.quadTree.queryCircle(r,i);for(const l of o){if(e===l||!l.options.move.attract.enable||l.destroyed||l.spawning)continue;const u=l.getPosition(),{dx:h,dy:f}=In(r,u),m=e.options.move.attract.rotate,y=h/(m.x*aS),w=f/(m.y*aS),T=l.size.value/e.size.value,S=_$/T;e.velocity.x-=y*T,e.velocity.y-=w*T,l.velocity.x+=y*S,l.velocity.y+=w*S}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function E$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new w$(n)),e)}const T$=.5,x$=10,S$=0;function lS(t,e,n,i,r,o){const l=gi(t.options.collisions.absorb.speed*r.factor/x$,S$,i);t.size.value+=l*T$,n.size.value-=l,i<=o&&(n.size.value=0,n.destroy())}function b$(t,e,n,i){const r=t.getRadius(),o=e.getRadius();r===void 0&&o!==void 0?t.destroy():r!==void 0&&o===void 0?e.destroy():r!==void 0&&o!==void 0&&(r>=o?lS(t,r,e,o,n,i):lS(e,o,t,r,n,i))}const uS=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=ve(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function Fk(t,e){mk(Jy(t),Jy(e)),uS(t),uS(e)}function I$(t,e){!t.unbreakable&&!e.unbreakable&&Fk(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function C$(t,e,n,i){switch(t.options.collisions.mode){case Ol.absorb:{b$(t,e,n,i);break}case Ol.bounce:{Fk(t,e);break}case Ol.destroy:{I$(t,e);break}}}const P$=2;class k$ extends Q_{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),o=e.getRadius(),l=i.particles.quadTree.queryCircle(r,o*P$);for(const u of l){if(e===u||!u.options.collisions.enable||e.options.collisions.mode!==u.options.collisions.mode||u.destroyed||u.spawning)continue;const h=u.getPosition(),f=u.getRadius();if(Math.abs(Math.round(r.z)-Math.round(h.z))>o+f)continue;const m=Kn(r,h),y=o+f;m>y||C$(e,u,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function R$(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new k$(n)),e)}const Zg=2;class A$ extends gn{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:o}=e;return super.contains(e)||super.contains({x:r-n,y:o})||super.contains({x:r-n,y:o-i})||super.contains({x:r,y:o-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const o=new gn(r.x,r.y,i.radius*Zg);return super.intersects(o)}else if(n.size!==void 0){const o=new zi(r.x,r.y,n.size.width*Zg,n.size.height*Zg);return super.intersects(o)}return!1}}class D${constructor(){this.blur=5,this.color=new _n,this.color.value="#000",this.enable=!1}load(e){ae(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=_n.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class M${constructor(){this.enable=!1,this.frequency=1}load(e){ae(e)||(e.color!==void 0&&(this.color=_n.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class O${constructor(){this.blink=!1,this.color=new _n,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new D$,this.triangles=new M$,this.width=1,this.warp=!1}load(e){ae(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=_n.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const cS=2,N$=1,Xd={x:0,y:0},V$=0;function L$(t,e,n,i,r){const{dx:o,dy:l,distance:u}=In(t,e);if(!r||u<=n)return u;const h={x:Math.abs(o),y:Math.abs(l)},f={x:Math.min(h.x,i.width-h.x),y:Math.min(h.y,i.height-h.y)};return Math.sqrt(f.x**cS+f.y**cS)}class F$ extends Q_{constructor(e,n){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,o=i.options.links;let l=o.id===void 0?r.particles.linksColor:r.particles.linksColors.get(o.id);if(l)return;const u=o.color;l=Tk(this._engine,u,o.blink,o.consent),o.id===void 0?r.particles.linksColor=l:r.particles.linksColors.set(o.id,l)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<Xd.x||n.y<Xd.y||n.x>r.width||n.y>r.height)return;const o=e.options.links,l=o.opacity,u=e.retina.linksDistance??V$,h=o.warp;let f;h?f=new A$(n.x,n.y,u,r):f=new gn(n.x,n.y,u);const m=i.particles.quadTree.query(f);for(const y of m){const w=y.options.links;if(e===y||!w?.enable||o.id!==w.id||y.spawning||y.destroyed||!y.links||e.links.some(b=>b.destination===y)||y.links.some(b=>b.destination===e))continue;const T=y.getPosition();if(T.x<Xd.x||T.y<Xd.y||T.x>r.width||T.y>r.height)continue;const S=L$(n,T,u,r,h&&w.warp);if(S>u)continue;const P=(N$-S/u)*l;this._setColor(e),e.links.push({destination:y,opacity:P})}}isEnabled(e){return!!e.options.links?.enable}loadParticlesOptions(e,...n){e.links||(e.links=new O$);for(const i of n)e.links.load(i?.links)}reset(){}}async function U$(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new F$(n,t)),e)}function j$(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function z$(t){let e=!1;const{begin:n,end:i,engine:r,maxDistance:o,context:l,canvasSize:u,width:h,backgroundMask:f,colorLine:m,opacity:y,links:w}=t;if(Kn(n,i)<=o)Pc(l,n,i),e=!0;else if(w.warp){let S,P;const b={x:i.x-u.width,y:i.y},A=In(n,b);if(A.distance<=o){const F=n.y-A.dy/A.dx*n.x;S={x:0,y:F},P={x:u.width,y:F}}else{const F={x:i.x,y:i.y-u.height},z=In(n,F);if(z.distance<=o){const X=-(n.y-z.dy/z.dx*n.x)/(z.dy/z.dx);S={x:X,y:0},P={x:X,y:u.height}}else{const q={x:i.x-u.width,y:i.y-u.height},X=In(n,q);if(X.distance<=o){const ne=n.y-X.dy/X.dx*n.x;S={x:-ne/(X.dy/X.dx),y:ne},P={x:S.x+u.width,y:S.y+u.height}}}}S&&P&&(Pc(l,n,S),Pc(l,i,P),e=!0)}if(!e)return;l.lineWidth=h,f.enable&&(l.globalCompositeOperation=f.composite),l.strokeStyle=qr(m,y);const{shadow:T}=w;if(T.enable){const S=Fi(r,T.color);S&&(l.shadowBlur=T.blur,l.shadowColor=qr(S))}l.stroke()}function B$(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:o,colorTriangle:l,opacityTriangle:u}=t;j$(e,n,i,r),o.enable&&(e.globalCompositeOperation=o.composite),e.fillStyle=qr(l,u),e.fill()}function $$(t){return t.sort((e,n)=>e-n),t.join("_")}function hS(t,e){const n=$$(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ge(),e.set(n,i)),i}const dS=0,ey=0,fS=0,H$=.5,W$=1;class q${constructor(e,n){this._drawLinkLine=(i,r)=>{const o=i.options.links;if(!o?.enable)return;const l=this._container,u=l.actualOptions,h=r.destination,f=i.getPosition(),m=h.getPosition();let y=r.opacity;l.canvas.draw(w=>{let T;const S=i.options.twinkle?.lines;if(S?.enable){const F=S.frequency,z=Fi(this._engine,S.color);Ge()<F&&z&&(T=z,y=ve(S.opacity))}if(!T){const F=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;T=ev(i,h,F)}if(!T)return;const P=i.retina.linksWidth??ey,b=i.retina.linksDistance??fS,{backgroundMask:A}=u;z$({context:w,width:P,begin:f,end:m,engine:this._engine,maxDistance:b,canvasSize:l.canvas.size,links:o,backgroundMask:A,colorLine:T,opacity:y})})},this._drawLinkTriangle=(i,r,o)=>{const l=i.options.links;if(!l?.enable)return;const u=l.triangles;if(!u.enable)return;const h=this._container,f=h.actualOptions,m=r.destination,y=o.destination,w=u.opacity??(r.opacity+o.opacity)*H$;w<=dS||h.canvas.draw(T=>{const S=i.getPosition(),P=m.getPosition(),b=y.getPosition(),A=i.retina.linksDistance??fS;if(Kn(S,P)>A||Kn(b,P)>A||Kn(b,S)>A)return;let F=Fi(this._engine,u.color);if(!F){const z=l.id!==void 0?h.particles.linksColors.get(l.id):h.particles.linksColor;F=ev(i,m,z)}F&&B$({context:T,pos1:S,pos2:P,pos3:b,backgroundMask:f.backgroundMask,colorTriangle:F,opacityTriangle:w})})},this._drawTriangles=(i,r,o,l)=>{const u=o.destination;if(!(i.links?.triangles.enable&&u.options.links?.triangles.enable))return;const h=u.links?.filter(f=>{const m=this._getLinkFrequency(u,f.destination);return u.options.links&&m<=u.options.links.frequency&&l.findIndex(w=>w.destination===f.destination)>=0});if(h?.length)for(const f of h){const m=f.destination;this._getTriangleFrequency(r,u,m)>i.links.triangles.frequency||this._drawLinkTriangle(r,o,f)}},this._getLinkFrequency=(i,r)=>hS([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,o)=>hS([i,r,o],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i?.length)return;const o=i.filter(l=>r.links&&(r.links.frequency>=W$||this._getLinkFrequency(n,l.destination)<=r.links.frequency));for(const l of o)this._drawTriangles(r,n,l,o),l.opacity>dS&&(n.retina.linksWidth??ey)>ey&&this._drawLinkLine(n,l)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:o}=e.options.links;i.linksDistance=r*n,i.linksWidth=o*n}particleDestroyed(e){e.links=[]}}class G${constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new q$(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function K$(t,e=!0){const n=new G$(t);await t.addPlugin(n,e)}async function Q$(t,e=!0){t.checkVersion("3.9.1"),await U$(t,e),await K$(t,e)}const X$=180,Yd={x:0,y:0},Y$=2;function J$(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,o=n.count.numerator/n.count.denominator,l=X$*(o-Y$)/o,u=Math.PI-zs(l);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(Yd.x,Yd.y);for(let h=0;h<r;h++)i.lineTo(n.length,Yd.y),i.translate(n.length,Yd.y),i.rotate(u)}}const Z$=5;class Uk{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),o=this.getSidesData(n,i);J$(e,r,o)}getSidesCount(e){const n=e.shapeData;return Math.round(ve(n?.sides??Z$))}}const pS=3.5,mS=2.66,eH=3;class tH extends Uk{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/pS),y:-n/(mS/pS)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*mS/(i/eH)}}}const nH=1.66,iH=3,rH=2;class sH extends Uk{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/nH}}getSidesCount(){return iH}getSidesData(e,n){const i=n*rH;return{count:{denominator:2,numerator:3},length:i}}}async function oH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new tH,e)}async function aH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new sH,e)}async function lH(t,e=!0){t.checkVersion("3.9.1"),await oH(t,e),await aH(t,e)}class uH{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){ae(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=Be(e.speed)),e.decay!==void 0&&(this.decay=Be(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class cH extends va{constructor(){super(),this.animation=new uH,this.direction=Oi.clockwise,this.path=!1,this.value=0}load(e){ae(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const jk=2,hH=Math.PI*jk,dH=1,fH=360;class pH{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:zs(ve(n.value)),min:0,max:hH},e.pathRotation=n.path;let i=n.direction;switch(i===Oi.random&&(i=Math.floor(Ge()*jk)>0?Oi.counterClockwise:Oi.clockwise),i){case Oi.counterClockwise:case"counterClockwise":e.rotate.status=bt.decreasing;break;case Oi.clockwise:e.rotate.status=bt.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=dH-ve(r.decay),e.rotate.velocity=ve(r.speed)/fH*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ge())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new cH);for(const i of n)e.rotate.load(i?.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(W_(e,e.rotate,!1,aa.none,n),e.rotation=e.rotate.value))}}async function mH(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new pH(n)),e)}const gH=2,yH=Math.sqrt(gH),vH=2;function _H(t){const{context:e,radius:n}=t,i=n/yH,r=i*vH;e.rect(-i,-i,r,r)}const wH=4;class EH{constructor(){this.validTypes=["edge","square"]}draw(e){_H(e)}getSidesCount(){return wH}}async function TH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new EH,e)}const xH=2,fl={x:0,y:0};function SH(t){const{context:e,particle:n,radius:i}=t,r=n.sides,o=n.starInset??xH;e.moveTo(fl.x,fl.y-i);for(let l=0;l<r;l++)e.rotate(Math.PI/r),e.lineTo(fl.x,fl.y-i*o),e.rotate(Math.PI/r),e.lineTo(fl.x,fl.y-i)}const bH=2,IH=5;class CH{constructor(){this.validTypes=["star"]}draw(e){SH(e)}getSidesCount(e){const n=e.shapeData;return Math.round(ve(n?.sides??IH))}particleInit(e,n){const i=n.shapeData;n.starInset=ve(i?.inset??bH)}}async function PH(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new CH,e)}const kH=1;class RH{constructor(e,n){this._container=e,this._engine=n}init(e){const n=this._container,i=e.options,r=pi(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=ve(r.width)*n.retina.pixelRatio,e.strokeOpacity=ve(r.opacity??kH),e.strokeAnimation=r.color?.animation;const o=Wc(this._engine,r.color)??e.getFillColor();o&&(e.strokeColor=xk(o,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&(i?.h.value!==void 0&&i.h.enable||i?.s.value!==void 0&&i.s.enable||i?.l.value!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&Sk(e.strokeColor,n)}}async function AH(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new RH(n,t)),e)}async function DH(t,e=!0){t.checkVersion("3.9.1"),await v$(t,!1),await T7(t,!1),await A7(t,!1),await U7(t,!1),await Q7(t,!1),await sB(t,!1),await lB(t,!1),await fB(t,!1),await yB(t,!1),await PB(t,!1),await MB(t,!1),await E$(t,!1),await R$(t,!1),await Q$(t,!1),await d7(t,!1),await m7(t,!1),await s$(t,!1),await g$(t,!1),await lH(t,!1),await TH(t,!1),await PH(t,!1),await d$(t,!1),await mH(t,!1),await AH(t,!1),await h7(t,e)}const MH="/Costas_Portfolio/assets/Hero-DEFoMTO8.png",OH=ot.memo(()=>{const[t,e]=L.useState(!1);L.useEffect(()=>{y8(async i=>{await DH(i)}).then(()=>e(!0)).catch(i=>{console.error("Particles initialization failed:",i)})},[]);const n=L.useMemo(()=>({background:{color:{value:"transparent"}},fpsLimit:120,interactivity:{events:{onHover:{enable:!0,mode:"grab"},resize:!0},modes:{grab:{distance:200,links:{opacity:.8}}}},particles:{color:{value:"#a1a1aa"},links:{color:"#a1a1aa",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:2,straight:!1},number:{density:{enable:!0,area:800},value:100},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:3}}},detectRetina:!0}),[]);return k.jsxs("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden bg-slate-50",children:[t&&k.jsx(g8,{id:"tsparticles",options:n,className:"absolute top-0 left-0 w-full h-full z-0"}),k.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[k.jsxs("div",{className:"md:col-span-3",children:[k.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-slate-800 mb-4",children:[k.jsx("span",{className:"block mb-2 text-xl font-medium text-slate-500",children:"Hello, I'm"}),"Costas Pinto"]}),k.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 text-blue-700 h-10",children:"AI Innovator & Data Scientist"}),k.jsx("p",{className:"max-w-xl text-slate-600 leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),k.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-6",children:[k.jsxs("a",{href:"/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-800 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-transform duration-200 hover:scale-105",children:[k.jsx(jU,{}),"Download CV"]}),k.jsxs("div",{className:"flex gap-4",children:[k.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",className:"text-slate-500 hover:text-blue-600 transition-colors",children:k.jsx(VU,{size:32})}),k.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",className:"text-slate-500 hover:text-slate-800 transition-colors",children:k.jsx(OU,{size:32})})]})]})]}),k.jsx("div",{className:"md:col-span-2 flex justify-center items-center",children:k.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px]",children:[k.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-200 via-indigo-200 to-blue-300 rounded-full opacity-50 blur-3xl"}),k.jsx("div",{className:"relative z-10 flex justify-center items-center h-full",children:k.jsx("img",{loading:"lazy",src:MH,onError:i=>{i.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain"})})]})})]})]})}),no=ot.memo(({children:t,id:e,className:n=""})=>{const i=L.useRef(null),r=ek(i,{once:!0,amount:.2}),o={hidden:{opacity:0,y:40},visible:{opacity:1,y:0,transition:{duration:.8,ease:[.25,.1,.25,1]}}};return k.jsx(dn.section,{id:e,ref:i,variants:o,initial:"hidden",animate:r?"visible":"hidden",className:`py-16 md:py-20 ${n}`,children:t})}),io=ot.memo(()=>{const t=L.useRef(null),e=ek(t,{once:!0,amount:.5}),n={hidden:{scaleX:0},visible:{scaleX:1,transition:{duration:.8,ease:[.25,1,.5,1]}}};return k.jsx("div",{ref:t,className:"h-1 w-24 mx-auto my-8",children:k.jsx(dn.div,{className:"h-full bg-gradient-to-r from-blue-600 to-blue-800 rounded-full",style:{transformOrigin:"center"},variants:n,initial:"hidden",animate:e?"visible":"hidden"})})}),NH=ot.memo(()=>k.jsxs(no,{id:"about",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"About Me"}),k.jsx(io,{}),k.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:k.jsx("p",{className:"text-lg leading-relaxed text-slate-600 text-center",children:"As an MCA student at Manipal University, Jaipur, with a background in Computer Science, I am deeply immersed in the fields of data analytics and machine learning. My internship at SkillFied Mentor solidified my expertise in data exploration, visualization, and interpretation using key technologies like Python, Excel, and Power BI. I am passionate about making complex subjects accessible and have a proven track record of doing so as the founder of JHT SMART STEPS LEARNING. I am now eager to apply my analytical skills and technical knowledge to solve new challenges in the AI and ML industry."})})]})),VH=ot.memo(({date:t,title:e,company:n,details:i})=>k.jsxs(dn.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-indigo-200",children:[k.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full border-4 border-white"}),k.jsx("p",{className:"text-slate-500 mb-1 font-medium",children:t}),k.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),k.jsx("p",{className:"text-lg text-blue-600 font-semibold mb-3",children:n}),k.jsx("ul",{className:"list-disc list-inside text-slate-600 space-y-2",children:i.map((r,o)=>k.jsx("li",{children:r},o))})]})),LH=ot.memo(()=>{const t=[{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]},{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]}];return k.jsxs(no,{id:"experience",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Experience"}),k.jsx(io,{}),k.jsx("div",{className:"max-w-3xl mx-auto space-y-12",children:t.map((e,n)=>k.jsx(VH,{...e},n))})]})}),FH=ot.memo(()=>{const[t,e]=L.useState("Programming Languages"),n=l=>{e(u=>u===l?null:l)},i={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},r={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return k.jsxs(no,{id:"skills",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Skills"}),k.jsx(io,{}),k.jsx("div",{className:"relative p-4 md:p-8 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:k.jsx("div",{className:"space-y-2",children:Object.entries(i).map(([l,u])=>k.jsxs("div",{className:"border-b border-slate-300/50 last:border-b-0",children:[k.jsxs("button",{onClick:()=>n(l),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-slate-700 focus:outline-none",children:[k.jsx("span",{children:l}),k.jsx(dn.span,{animate:{rotate:t===l?180:0},children:k.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),k.jsx(u_,{children:t===l&&k.jsx(dn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:k.jsx(dn.div,{variants:r,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:u.map(h=>k.jsxs(dn.div,{variants:o,children:[k.jsx("p",{className:"text-lg font-medium text-slate-600 mb-1",children:h.name}),k.jsx("div",{className:"bg-slate-300 w-full rounded-full h-2.5",children:k.jsx(dn.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-blue-500 to-blue-700",initial:{width:0},animate:{width:`${h.level}%`},transition:{duration:1,ease:"easeOut"}})})]},h.name))})})})]},l))})})]})}),UH=ot.memo(()=>k.jsxs(no,{id:"achievements",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Key Achievements"}),k.jsx(io,{}),k.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:k.jsx("ul",{className:"space-y-4 text-lg text-slate-600",children:[{id:1,text:"Completed <strong>60+ Certifications</strong> from IBM, Google, Meta, Microsoft, and Forage."},{id:2,text:"Built and deployed <strong>25+ AI/Data/Full-stack projects</strong> solving real-world problems."},{id:3,text:"Earned top-tier recognitions in job simulations at <strong>BCG, Lloyds, BA, EA, TATA</strong>, and more."},{id:4,text:"Founded <strong>JHT SMART STEPS LEARNING</strong> – empowering students through digital education."}].map(t=>k.jsxs("li",{className:"flex items-start",children:[k.jsx("span",{className:"text-blue-600 mr-3 mt-1",children:"✓"}),k.jsx("span",{dangerouslySetInnerHTML:{__html:t.text}})]},t.id))})})]})),jH=ot.memo(({year:t,title:e,details:n,icon:i})=>k.jsxs(dn.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[k.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center shadow-md",children:i}),k.jsx("p",{className:"text-blue-600 mb-1 font-semibold",children:t}),k.jsx("h3",{className:"text-2xl font-bold text-slate-700",children:e}),k.jsx("p",{className:"text-slate-600 mt-1",children:n})]})),zH=ot.memo(()=>{const t=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:k.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:k.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:k.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return k.jsxs(no,{id:"journey",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Learning Journey"}),k.jsx(io,{}),k.jsx("div",{className:"relative p-8 md:p-12 max-w-4xl mx-auto rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1",children:k.jsx("div",{className:"space-y-12",children:t.map(e=>k.jsx(jH,{...e},e.title))})})]})}),BH=L.memo(({projects:t})=>{const e={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},n={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return k.jsxs(no,{id:"projects",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"My Projects"}),k.jsx(io,{}),k.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:t.length>0?k.jsx(dn.div,{variants:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(i=>k.jsxs(dn.div,{variants:n,className:"relative p-6 flex flex-col rounded-2xl bg-white/20 backdrop-blur-lg border border-white/30 shadow-lg transition-all duration-300 hover:shadow-2xl hover:shadow-blue-500/20 hover:-translate-y-1 overflow-hidden",children:[k.jsx("img",{loading:"lazy",src:i.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:i.title,className:"rounded-lg mb-4 aspect-video object-cover border border-slate-200/50"}),k.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:i.title}),k.jsx("p",{className:"text-slate-600 flex-grow mb-4",children:i.description}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:i.tags?.map(r=>k.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-1 rounded-full",children:r},r))}),i.projectLink&&k.jsx("a",{href:i.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-blue-600 border border-blue-600 rounded-full py-2 px-4 hover:bg-blue-600 hover:text-white transition-all duration-300 z-10",children:"View Project"})]},i.id))}):k.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:k.jsx("p",{className:"text-center text-slate-500 text-lg",children:"No projects found. Please add some from the admin panel."})})})]})}),$H=({url:t,onClose:e})=>k.jsx(u_,{children:t&&k.jsx(dn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:k.jsxs(dn.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:n=>n.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",children:[k.jsxs("header",{className:"flex justify-between items-center p-4 border-b border-slate-200",children:[k.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Certificate Viewer"}),k.jsx("button",{onClick:e,className:"text-slate-500 hover:text-slate-800 transition-colors p-1 rounded-full hover:bg-slate-100","aria-label":"Close",children:k.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),k.jsx("div",{className:"flex-grow p-2 bg-slate-50",children:k.jsx("iframe",{src:t,title:"Certificate PDF Viewer",className:"w-full h-full border-none"})})]})})}),HH=ot.memo(({licensesPdfUrl:t,internshipsPdfUrl:e})=>{const[n,i]=L.useState(null),r="inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-blue-500/20 bg-gradient-to-r from-blue-600 to-blue-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed";return k.jsxs(k.Fragment,{children:[k.jsxs(no,{id:"certifications",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Certificates"}),k.jsx(io,{}),k.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[k.jsx(dn.button,{onClick:()=>i(t),disabled:!t,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:r,children:"View Licenses & Certs"}),k.jsx(dn.button,{onClick:()=>i(e),disabled:!e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},className:r,children:"View Internship Certs"})]})]}),k.jsx($H,{url:n,onClose:()=>i(null)})]})});function WH(t){return Xn({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(t)}const qH=ot.memo(()=>{const[t,e]=L.useState({submitting:!1,succeeded:!1,error:null}),[n,i]=L.useState(null),r=L.useCallback(async u=>{u.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const h=u.target,f=new FormData(h);try{const m=await fetch(h.action,{method:h.method,body:f,headers:{Accept:"application/json"}});if(m.ok)e({submitting:!1,succeeded:!0,error:null}),h.reset(),setTimeout(()=>e(y=>({...y,succeeded:!1})),5e3);else{const w=(await m.json()).errors?.map(T=>T.message).join(", ")||"An unknown error occurred.";throw new Error(w)}}catch(m){e({submitting:!1,succeeded:!1,error:m.message}),setTimeout(()=>e(y=>({...y,error:null})),5e3)}},[]),o=L.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{i("Email copied to clipboard!"),setTimeout(()=>i(null),3e3)}).catch(h=>{console.error("Clipboard copy failed:",h),i("Could not copy email."),setTimeout(()=>i(null),3e3)})},[]),l=[{name:"Instagram",icon:k.jsx(NU,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:k.jsx(DU,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:k.jsx(LU,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:k.jsx(MU,{}),url:"https://facebook.com/costaspinto"}];return k.jsxs(no,{id:"contact",className:"bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans !py-0",children:[k.jsxs("div",{className:"container mx-auto px-6 py-20 max-w-7xl",children:[k.jsx("h2",{className:"text-4xl font-bold text-slate-700 text-center",children:"Let’s Get Connected!"}),k.jsx(io,{}),k.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-16",children:[k.jsxs("div",{className:"flex-1 space-y-10",children:[k.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),k.jsxs("div",{children:[k.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),k.jsx("div",{className:"flex items-center gap-4",children:l.map(u=>k.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:u.icon},u.name))})]})]}),k.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-xl w-full max-w-lg border border-white/30",children:k.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:r,className:"space-y-6",children:[k.jsxs("div",{className:"relative",children:[k.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Name *"}),k.jsx($U,{className:"absolute left-3 top-10 text-slate-400"}),k.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Email *"}),k.jsx(zU,{className:"absolute left-3 top-10 text-slate-400"}),k.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Service you are looking for *"}),k.jsx(UU,{className:"absolute left-3 top-10 text-slate-400"}),k.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"block font-medium mb-1 text-slate-600",children:"Your Message"}),k.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),k.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:t.submitting,children:t.submitting?"Submitting...":"Submit"}),t.succeeded&&k.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[k.jsx(FU,{})," Thanks for your message! I'll get back to you soon."]}),t.error&&k.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[k.jsx(BU,{})," Error: ",t.error]})]})})]})]}),k.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:k.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[k.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),k.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and let’s explore how we can collaborate."})]}),k.jsxs("div",{className:"flex gap-4 relative",children:[k.jsxs("button",{onClick:o,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[k.jsx(WH,{})," COPY EMAIL"]}),n&&k.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:n})]})]}),k.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[k.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),k.jsxs("nav",{className:"flex gap-6",children:[k.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),k.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"}),k.jsx("a",{href:"#portfolio",className:"hover:text-blue-500 transition",children:"Portfolio"})]}),k.jsx("div",{className:"flex items-center gap-4",children:l.map(u=>k.jsx("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:u.icon},u.name))})]}),k.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:["© ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})})]})}),GH=L.lazy(()=>sA(()=>import("./AdminPanel-Ca8xY0EO.js"),[])),zk={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"};Object.entries(zk).forEach(([t,e])=>{e||console.error(`❌ Missing Firebase environment variable: ${t}. Please check your .env file.`)});let Jd,gc,Bk,$k;try{Jd=HS(zk),gc=hN(Jd),Bk=FL(Jd),$k=G3(Jd)}catch(t){console.error("🔥 Firebase initialization failed:",t)}const KH=(t=768)=>{const[e,n]=L.useState(()=>typeof window<"u"?window.innerWidth<t:!1);return L.useEffect(()=>{if(typeof window>"u")return;const i=()=>n(window.innerWidth<t);return window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[t]),e},QH=({projects:t=[],licensesPdfUrl:e="",internshipsPdfUrl:n="",isMobile:i})=>{const[r,o]=L.useState(!1),l=L.useCallback(()=>o(!1),[]),u=L.useCallback(()=>o(h=>!h),[]);return k.jsxs(k.Fragment,{children:[k.jsx(SU,{isMobileMenuOpen:r,closeMobileMenu:l,toggleMobileMenu:u}),k.jsxs("main",{className:"relative z-10",children:[k.jsx(OH,{}),k.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[k.jsx(NH,{}),k.jsx(LH,{}),k.jsx(FH,{}),k.jsx(UH,{}),k.jsx(zH,{}),k.jsx(BH,{projects:t,isMobile:i}),k.jsx(HH,{licensesPdfUrl:e,internshipsPdfUrl:n})]})]}),k.jsx(qH,{})]})};function XH(){const[t,e]=L.useState({projects:[],licensesPdfUrl:"",internshipsPdfUrl:""}),[n,i]=L.useState(!0),[r,o]=L.useState(null),l=KH(),u=L.useCallback(async()=>{if(!gc){o("Firebase is not initialized. Check your .env settings."),i(!1);return}try{const f=(await CN(cN(gc,"projects"))).docs.map(T=>({id:T.id,...T.data()})),m=mI(gc,"portfolioAssets","main"),y=await IN(m),w=y.exists()?y.data():{};e({projects:f,licensesPdfUrl:w.licensesPdfUrl||"",internshipsPdfUrl:w.internshipsPdfUrl||""})}catch(h){console.error("❌ Firebase fetch error:",h),o("Failed to load portfolio data. Please try again later.")}finally{i(!1)}},[]);return L.useEffect(()=>{u()},[u]),n?k.jsx(hx,{}):r?k.jsx("div",{className:"text-center mt-20 p-4",children:k.jsx("h2",{className:"text-red-600 text-xl font-bold",children:r})}):k.jsxs(r6,{features:_U,children:[k.jsx(TU,{}),k.jsx("div",{className:"relative text-slate-800 font-sans overflow-x-hidden",children:k.jsx(tk,{children:k.jsx(_2,{basename:"/Costas_Portfolio/",children:k.jsx(L.Suspense,{fallback:k.jsx(hx,{}),children:k.jsxs(XA,{children:[k.jsx(ny,{path:"/",element:k.jsx(QH,{projects:t.projects,licensesPdfUrl:t.licensesPdfUrl,internshipsPdfUrl:t.internshipsPdfUrl,isMobile:l})}),k.jsx(ny,{path:"/admin",element:k.jsx(GH,{db:gc,auth:Bk,storage:$k})})]})})})})})]})}const YH=document.getElementById("root");nA.createRoot(YH).render(k.jsx(ot.StrictMode,{children:k.jsx(tk,{children:k.jsx(XH,{})})}));export{u_ as A,hx as L,rW as a,eW as b,cN as c,tW as d,ZH as e,mI as f,CN as g,aW as h,oW as i,k as j,dn as m,iW as o,L as r,nW as s,sW as u};
