(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function _1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sf={exports:{}},fl={},If={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function NI(){if(mv)return Re;mv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,B={};function M(O,K,ge){this.props=O,this.context=K,this.refs=B,this.updater=ge||C}M.prototype.isReactComponent={},M.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=M.prototype;function G(O,K,ge){this.props=O,this.context=K,this.refs=B,this.updater=ge||C}var J=G.prototype=new W;J.constructor=G,L(J,M.prototype),J.isPureReactComponent=!0;var se=Array.isArray,ie=Object.prototype.hasOwnProperty,ue={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function I(O,K,ge){var Pe,Ce={},be=null,Fe=null;if(K!=null)for(Pe in K.ref!==void 0&&(Fe=K.ref),K.key!==void 0&&(be=""+K.key),K)ie.call(K,Pe)&&!N.hasOwnProperty(Pe)&&(Ce[Pe]=K[Pe]);var Ue=arguments.length-2;if(Ue===1)Ce.children=ge;else if(1<Ue){for(var He=Array(Ue),At=0;At<Ue;At++)He[At]=arguments[At+2];Ce.children=He}if(O&&O.defaultProps)for(Pe in Ue=O.defaultProps,Ue)Ce[Pe]===void 0&&(Ce[Pe]=Ue[Pe]);return{$$typeof:n,type:O,key:be,ref:Fe,props:Ce,_owner:ue.current}}function P(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function V(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function b(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return K[ge]})}var j=/\/+/g;function R(O,K){return typeof O=="object"&&O!==null&&O.key!=null?b(""+O.key):K.toString(36)}function Ze(O,K,ge,Pe,Ce){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Fe=!1;if(O===null)Fe=!0;else switch(be){case"string":case"number":Fe=!0;break;case"object":switch(O.$$typeof){case n:case e:Fe=!0}}if(Fe)return Fe=O,Ce=Ce(Fe),O=Pe===""?"."+R(Fe,0):Pe,se(Ce)?(ge="",O!=null&&(ge=O.replace(j,"$&/")+"/"),Ze(Ce,K,ge,"",function(At){return At})):Ce!=null&&(V(Ce)&&(Ce=P(Ce,ge+(!Ce.key||Fe&&Fe.key===Ce.key?"":(""+Ce.key).replace(j,"$&/")+"/")+O)),K.push(Ce)),1;if(Fe=0,Pe=Pe===""?".":Pe+":",se(O))for(var Ue=0;Ue<O.length;Ue++){be=O[Ue];var He=Pe+R(be,Ue);Fe+=Ze(be,K,ge,He,Ce)}else if(He=T(O),typeof He=="function")for(O=He.call(O),Ue=0;!(be=O.next()).done;)be=be.value,He=Pe+R(be,Ue++),Fe+=Ze(be,K,ge,He,Ce);else if(be==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Fe}function Nt(O,K,ge){if(O==null)return O;var Pe=[],Ce=0;return Ze(O,Pe,"","",function(be){return K.call(ge,be,Ce++)}),Pe}function Vt(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ae={current:null},ne={transition:null},me={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:ne,ReactCurrentOwner:ue};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:Nt,forEach:function(O,K,ge){Nt(O,function(){K.apply(this,arguments)},ge)},count:function(O){var K=0;return Nt(O,function(){K++}),K},toArray:function(O){return Nt(O,function(K){return K})||[]},only:function(O){if(!V(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=M,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=r,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=oe,Re.cloneElement=function(O,K,ge){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var Pe=L({},O.props),Ce=O.key,be=O.ref,Fe=O._owner;if(K!=null){if(K.ref!==void 0&&(be=K.ref,Fe=ue.current),K.key!==void 0&&(Ce=""+K.key),O.type&&O.type.defaultProps)var Ue=O.type.defaultProps;for(He in K)ie.call(K,He)&&!N.hasOwnProperty(He)&&(Pe[He]=K[He]===void 0&&Ue!==void 0?Ue[He]:K[He])}var He=arguments.length-2;if(He===1)Pe.children=ge;else if(1<He){Ue=Array(He);for(var At=0;At<He;At++)Ue[At]=arguments[At+2];Pe.children=Ue}return{$$typeof:n,type:O.type,key:Ce,ref:be,props:Pe,_owner:Fe}},Re.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:a,_context:O},O.Consumer=O},Re.createElement=I,Re.createFactory=function(O){var K=I.bind(null,O);return K.type=O,K},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:d,render:O}},Re.isValidElement=V,Re.lazy=function(O){return{$$typeof:v,_payload:{_status:-1,_result:O},_init:Vt}},Re.memo=function(O,K){return{$$typeof:m,type:O,compare:K===void 0?null:K}},Re.startTransition=function(O){var K=ne.transition;ne.transition={};try{O()}finally{ne.transition=K}},Re.unstable_act=oe,Re.useCallback=function(O,K){return Ae.current.useCallback(O,K)},Re.useContext=function(O){return Ae.current.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O){return Ae.current.useDeferredValue(O)},Re.useEffect=function(O,K){return Ae.current.useEffect(O,K)},Re.useId=function(){return Ae.current.useId()},Re.useImperativeHandle=function(O,K,ge){return Ae.current.useImperativeHandle(O,K,ge)},Re.useInsertionEffect=function(O,K){return Ae.current.useInsertionEffect(O,K)},Re.useLayoutEffect=function(O,K){return Ae.current.useLayoutEffect(O,K)},Re.useMemo=function(O,K){return Ae.current.useMemo(O,K)},Re.useReducer=function(O,K,ge){return Ae.current.useReducer(O,K,ge)},Re.useRef=function(O){return Ae.current.useRef(O)},Re.useState=function(O){return Ae.current.useState(O)},Re.useSyncExternalStore=function(O,K,ge){return Ae.current.useSyncExternalStore(O,K,ge)},Re.useTransition=function(){return Ae.current.useTransition()},Re.version="18.3.1",Re}var gv;function Bp(){return gv||(gv=1,If.exports=NI()),If.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function VI(){if(yv)return fl;yv=1;var n=Bp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var v,w={},T=null,C=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(C=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(d&&d.defaultProps)for(v in f=d.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:d,key:T,ref:C,props:w,_owner:o.current}}return fl.Fragment=t,fl.jsx=u,fl.jsxs=u,fl}var vv;function DI(){return vv||(vv=1,Sf.exports=VI()),Sf.exports}var A=DI(),ee=Bp();const Xe=_1(ee);var Sc={},Af={exports:{}},un={},xf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function bI(){return _v||(_v=1,function(n){function e(ne,me){var oe=ne.length;ne.push(me);e:for(;0<oe;){var O=oe-1>>>1,K=ne[O];if(0<o(K,me))ne[O]=me,ne[oe]=K,oe=O;else break e}}function t(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var me=ne[0],oe=ne.pop();if(oe!==me){ne[0]=oe;e:for(var O=0,K=ne.length,ge=K>>>1;O<ge;){var Pe=2*(O+1)-1,Ce=ne[Pe],be=Pe+1,Fe=ne[be];if(0>o(Ce,oe))be<K&&0>o(Fe,Ce)?(ne[O]=Fe,ne[be]=oe,O=be):(ne[O]=Ce,ne[Pe]=oe,O=Pe);else if(be<K&&0>o(Fe,oe))ne[O]=Fe,ne[be]=oe,O=be;else break e}}return me}function o(ne,me){var oe=ne.sortIndex-me.sortIndex;return oe!==0?oe:ne.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,w=null,T=3,C=!1,L=!1,B=!1,M=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function J(ne){for(var me=t(m);me!==null;){if(me.callback===null)r(m);else if(me.startTime<=ne)r(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function se(ne){if(B=!1,J(ne),!L)if(t(f)!==null)L=!0,Vt(ie);else{var me=t(m);me!==null&&Ae(se,me.startTime-ne)}}function ie(ne,me){L=!1,B&&(B=!1,W(I),I=-1),C=!0;var oe=T;try{for(J(me),w=t(f);w!==null&&(!(w.expirationTime>me)||ne&&!b());){var O=w.callback;if(typeof O=="function"){w.callback=null,T=w.priorityLevel;var K=O(w.expirationTime<=me);me=n.unstable_now(),typeof K=="function"?w.callback=K:w===t(f)&&r(f),J(me)}else r(f);w=t(f)}if(w!==null)var ge=!0;else{var Pe=t(m);Pe!==null&&Ae(se,Pe.startTime-me),ge=!1}return ge}finally{w=null,T=oe,C=!1}}var ue=!1,N=null,I=-1,P=5,V=-1;function b(){return!(n.unstable_now()-V<P)}function j(){if(N!==null){var ne=n.unstable_now();V=ne;var me=!0;try{me=N(!0,ne)}finally{me?R():(ue=!1,N=null)}}else ue=!1}var R;if(typeof G=="function")R=function(){G(j)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,Nt=Ze.port2;Ze.port1.onmessage=j,R=function(){Nt.postMessage(null)}}else R=function(){M(j,0)};function Vt(ne){N=ne,ue||(ue=!0,R())}function Ae(ne,me){I=M(function(){ne(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){L||C||(L=!0,Vt(ie))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ne){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var oe=T;T=me;try{return ne()}finally{T=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,me){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var oe=T;T=ne;try{return me()}finally{T=oe}},n.unstable_scheduleCallback=function(ne,me,oe){var O=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?O+oe:O):oe=O,ne){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=oe+K,ne={id:v++,callback:me,priorityLevel:ne,startTime:oe,expirationTime:K,sortIndex:-1},oe>O?(ne.sortIndex=oe,e(m,ne),t(f)===null&&ne===t(m)&&(B?(W(I),I=-1):B=!0,Ae(se,oe-O))):(ne.sortIndex=K,e(f,ne),L||C||(L=!0,Vt(ie))),ne},n.unstable_shouldYield=b,n.unstable_wrapCallback=function(ne){var me=T;return function(){var oe=T;T=me;try{return ne.apply(this,arguments)}finally{T=oe}}}}(Pf)),Pf}var wv;function MI(){return wv||(wv=1,xf.exports=bI()),xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function LI(){if(Ev)return un;Ev=1;var n=Bp(),e=MI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function T(i){return f.call(w,i)?!0:f.call(v,i)?!1:m.test(i)?w[i]=!0:(v[i]=!0,!1)}function C(i,s,l,h){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function L(i,s,l,h){if(s===null||typeof s>"u"||C(i,s,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(i,s,l,h,p,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){M[i]=new B(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];M[s]=new B(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){M[i]=new B(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){M[i]=new B(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){M[i]=new B(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){M[i]=new B(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){M[i]=new B(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){M[i]=new B(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){M[i]=new B(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(W,G);M[s]=new B(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(W,G);M[s]=new B(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(W,G);M[s]=new B(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){M[i]=new B(i,1,!1,i.toLowerCase(),null,!1,!1)}),M.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){M[i]=new B(i,1,!1,i.toLowerCase(),null,!0,!0)});function J(i,s,l,h){var p=M.hasOwnProperty(s)?M[s]:null;(p!==null?p.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(L(s,l,p,h)&&(l=null),h||p===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,s,l):i.setAttribute(s,l))))}var se=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ie=Symbol.for("react.element"),ue=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),b=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),Nt=Symbol.for("react.memo"),Vt=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),ne=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ne&&i[ne]||i["@@iterator"],typeof i=="function"?i:null)}var oe=Object.assign,O;function K(i){if(O===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+i}var ge=!1;function Pe(i,s){if(!i||ge)return"";ge=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var h=$}Reflect.construct(i,[],s)}else{try{s.call()}catch($){h=$}i.call(s.prototype)}else{try{throw Error()}catch($){h=$}i()}}catch($){if($&&h&&typeof $.stack=="string"){for(var p=$.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,x=y.length-1;1<=E&&0<=x&&p[E]!==y[x];)x--;for(;1<=E&&0<=x;E--,x--)if(p[E]!==y[x]){if(E!==1||x!==1)do if(E--,x--,0>x||p[E]!==y[x]){var k=`
`+p[E].replace(" at new "," at ");return i.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",i.displayName)),k}while(1<=E&&0<=x);break}}}finally{ge=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?K(i):""}function Ce(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=Pe(i.type,!1),i;case 11:return i=Pe(i.type.render,!1),i;case 1:return i=Pe(i.type,!0),i;default:return""}}function be(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case N:return"Fragment";case ue:return"Portal";case P:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Ze:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case b:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case j:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Nt:return s=i.displayName||null,s!==null?s:be(i.type)||"Memo";case Vt:s=i._payload,i=i._init;try{return be(i(s))}catch{}}return null}function Fe(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function He(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function At(i){var s=He(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ir(i){i._valueTracker||(i._valueTracker=At(i))}function Hs(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),h="";return i&&(h=He(i)?i.checked?"true":"false":i.value),i=h,i!==l?(s.setValue(i),!0):!1}function ei(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Yi(i,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Ws(i,s){var l=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;l=Ue(s.value!=null?s.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function _a(i,s){s=s.checked,s!=null&&J(i,"checked",s,!1)}function wa(i,s){_a(i,s);var l=Ue(s.value),h=s.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?qs(i,s.type,l):s.hasOwnProperty("defaultValue")&&qs(i,s.type,Ue(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function lu(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function qs(i,s,l){(s!=="number"||ei(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ar=Array.isArray;function xr(i,s,l,h){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ue(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Ea(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ks(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Ar(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:Ue(l)}}function Gs(i,s){var l=Ue(s.value),h=Ue(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Ta(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function yt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?yt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Pr,Sa=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(s,l,h,p)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Pr=Pr||document.createElement("div"),Pr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ti(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Xi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ji=["Webkit","ms","Moz","O"];Object.keys(Xi).forEach(function(i){Ji.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Xi[s]=Xi[i]})});function Ia(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Xi.hasOwnProperty(i)&&Xi[i]?(""+s).trim():s+"px"}function Aa(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ia(l,s[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var xa=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pa(i,s){if(s){if(xa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Ca(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zi=null;function Qs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ys=null,Tn=null,nr=null;function Xs(i){if(i=Ja(i)){if(typeof Ys!="function")throw Error(t(280));var s=i.stateNode;s&&(s=ju(s),Ys(i.stateNode,i.type,s))}}function rr(i){Tn?nr?nr.push(i):nr=[i]:Tn=i}function Ra(){if(Tn){var i=Tn,s=nr;if(nr=Tn=null,Xs(i),s)for(i=0;i<s.length;i++)Xs(s[i])}}function es(i,s){return i(s)}function ka(){}var Cr=!1;function Na(i,s,l){if(Cr)return i(s,l);Cr=!0;try{return es(i,s,l)}finally{Cr=!1,(Tn!==null||nr!==null)&&(ka(),Ra())}}function ut(i,s){var l=i.stateNode;if(l===null)return null;var h=ju(l);if(h===null)return null;l=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Js=!1;if(d)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Js=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Js=!1}function ts(i,s,l,h,p,y,E,x,k){var $=Array.prototype.slice.call(arguments,3);try{s.apply(l,$)}catch(X){this.onError(X)}}var ns=!1,Zs=null,On=!1,Va=null,Yh={onError:function(i){ns=!0,Zs=i}};function eo(i,s,l,h,p,y,E,x,k){ns=!1,Zs=null,ts.apply(Yh,arguments)}function uu(i,s,l,h,p,y,E,x,k){if(eo.apply(this,arguments),ns){if(ns){var $=Zs;ns=!1,Zs=null}else throw Error(t(198));On||(On=!0,Va=$)}}function jn(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function rs(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(i){if(jn(i)!==i)throw Error(t(188))}function cu(i){var s=i.alternate;if(!s){if(s=jn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,h=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Fn(p),i;if(y===h)return Fn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=y;else{for(var E=!1,x=p.child;x;){if(x===l){E=!0,l=p,h=y;break}if(x===h){E=!0,h=p,l=y;break}x=x.sibling}if(!E){for(x=y.child;x;){if(x===l){E=!0,l=y,h=p;break}if(x===h){E=!0,h=y,l=p;break}x=x.sibling}if(!E)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function Da(i){return i=cu(i),i!==null?to(i):null}function to(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=to(i);if(s!==null)return s;i=i.sibling}return null}var no=e.unstable_scheduleCallback,ba=e.unstable_cancelCallback,hu=e.unstable_shouldYield,Xh=e.unstable_requestPaint,We=e.unstable_now,du=e.unstable_getCurrentPriorityLevel,is=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,Ma=e.unstable_LowPriority,fu=e.unstable_IdlePriority,ss=null,hn=null;function pu(i){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(ss,i,void 0,(i.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:gu,La=Math.log,mu=Math.LN2;function gu(i){return i>>>=0,i===0?32:31-(La(i)/mu|0)|0}var ro=64,io=4194304;function ri(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function os(i,s){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,y=i.pingedLanes,E=l&268435455;if(E!==0){var x=E&~p;x!==0?h=ri(x):(y&=E,y!==0&&(h=ri(y)))}else E=l&~p,E!==0?h=ri(E):y!==0&&(h=ri(y));if(h===0)return 0;if(s!==0&&s!==h&&(s&p)===0&&(p=h&-h,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if((h&4)!==0&&(h|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)l=31-Xt(s),p=1<<l,h|=i[l],s&=~p;return h}function Jh(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rr(i,s){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes;0<y;){var E=31-Xt(y),x=1<<E,k=p[E];k===-1?((x&l)===0||(x&h)!==0)&&(p[E]=Jh(x,s)):k<=s&&(i.expiredLanes|=x),y&=~x}}function dn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function as(){var i=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),i}function ii(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function si(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Xt(s),i[s]=l}function $e(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-Xt(l),y=1<<p;s[p]=0,h[p]=-1,i[p]=-1,l&=~y}}function oi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var h=31-Xt(l),p=1<<h;p&s|i[h]&s&&(i[h]|=s),l&=~p}}var De=0;function ai(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var yu,so,vu,_u,wu,Oa=!1,ir=[],Dt=null,Un=null,Bn=null,li=new Map,In=new Map,sr=[],Zh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eu(i,s){switch(i){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(s.pointerId)}}function tn(i,s,l,h,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ja(s),s!==null&&so(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function ed(i,s,l,h,p){switch(s){case"focusin":return Dt=tn(Dt,i,s,l,h,p),!0;case"dragenter":return Un=tn(Un,i,s,l,h,p),!0;case"mouseover":return Bn=tn(Bn,i,s,l,h,p),!0;case"pointerover":var y=p.pointerId;return li.set(y,tn(li.get(y)||null,i,s,l,h,p)),!0;case"gotpointercapture":return y=p.pointerId,In.set(y,tn(In.get(y)||null,i,s,l,h,p)),!0}return!1}function Tu(i){var s=ds(i.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=rs(l),s!==null){i.blockedOn=s,wu(i.priority,function(){vu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function kr(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=oo(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Zi=h,l.target.dispatchEvent(h),Zi=null}else return s=Ja(l),s!==null&&so(s),i.blockedOn=l,!1;s.shift()}return!0}function ls(i,s,l){kr(i)&&l.delete(s)}function Su(){Oa=!1,Dt!==null&&kr(Dt)&&(Dt=null),Un!==null&&kr(Un)&&(Un=null),Bn!==null&&kr(Bn)&&(Bn=null),li.forEach(ls),In.forEach(ls)}function zn(i,s){i.blockedOn===s&&(i.blockedOn=null,Oa||(Oa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Su)))}function $n(i){function s(p){return zn(p,i)}if(0<ir.length){zn(ir[0],i);for(var l=1;l<ir.length;l++){var h=ir[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Dt!==null&&zn(Dt,i),Un!==null&&zn(Un,i),Bn!==null&&zn(Bn,i),li.forEach(s),In.forEach(s),l=0;l<sr.length;l++)h=sr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)Tu(l),l.blockedOn===null&&sr.shift()}var Nr=se.ReactCurrentBatchConfig,ui=!0;function et(i,s,l,h){var p=De,y=Nr.transition;Nr.transition=null;try{De=1,ja(i,s,l,h)}finally{De=p,Nr.transition=y}}function td(i,s,l,h){var p=De,y=Nr.transition;Nr.transition=null;try{De=4,ja(i,s,l,h)}finally{De=p,Nr.transition=y}}function ja(i,s,l,h){if(ui){var p=oo(i,s,l,h);if(p===null)dd(i,s,h,us,l),Eu(i,h);else if(ed(p,i,s,l,h))h.stopPropagation();else if(Eu(i,h),s&4&&-1<Zh.indexOf(i)){for(;p!==null;){var y=Ja(p);if(y!==null&&yu(y),y=oo(i,s,l,h),y===null&&dd(i,s,h,us,l),y===p)break;p=y}p!==null&&h.stopPropagation()}else dd(i,s,h,null,l)}}var us=null;function oo(i,s,l,h){if(us=null,i=Qs(h),i=ds(i),i!==null)if(s=jn(i),s===null)i=null;else if(l=s.tag,l===13){if(i=rs(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return us=i,null}function Fa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(du()){case is:return 1;case ni:return 4;case Sn:case Ma:return 16;case fu:return 536870912;default:return 16}default:return 16}}var fn=null,ao=null,nn=null;function Ua(){if(nn)return nn;var i,s=ao,l=s.length,h,p="value"in fn?fn.value:fn.textContent,y=p.length;for(i=0;i<l&&s[i]===p[i];i++);var E=l-i;for(h=1;h<=E&&s[l-h]===p[y-h];h++);return nn=p.slice(i,1<h?1-h:void 0)}function lo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function or(){return!0}function Ba(){return!1}function bt(i){function s(l,h,p,y,E){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(l=i[x],this[x]=l?l(y):y[x]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:Ba,this.isPropagationStopped=Ba,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=bt(Hn),ar=oe({},Hn,{view:0,detail:0}),nd=bt(ar),co,Vr,ci,cs=oe({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ci&&(ci&&i.type==="mousemove"?(co=i.screenX-ci.screenX,Vr=i.screenY-ci.screenY):Vr=co=0,ci=i),co)},movementY:function(i){return"movementY"in i?i.movementY:Vr}}),ho=bt(cs),za=oe({},cs,{dataTransfer:0}),Iu=bt(za),fo=oe({},ar,{relatedTarget:0}),po=bt(fo),Au=oe({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dr=bt(Au),xu=oe({},Hn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Pu=bt(xu),Cu=oe({},Hn,{data:0}),$a=bt(Cu),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ru[i])?!!s[i]:!1}function lr(){return ku}var c=oe({},ar,{key:function(i){if(i.key){var s=mo[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Jt[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(i){return i.type==="keypress"?lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=bt(c),_=oe({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=bt(_),F=oe({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),H=bt(F),re=oe({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=bt(re),_t=oe({},cs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=bt(_t),xt=[9,13,27,32],ft=d&&"CompositionEvent"in window,An=null;d&&"documentMode"in document&&(An=document.documentMode);var pn=d&&"TextEvent"in window&&!An,hs=d&&(!ft||An&&8<An&&11>=An),go=" ",ug=!1;function cg(i,s){switch(i){case"keyup":return xt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yo=!1;function CS(i,s){switch(i){case"compositionend":return hg(s);case"keypress":return s.which!==32?null:(ug=!0,go);case"textInput":return i=s.data,i===go&&ug?null:i;default:return null}}function RS(i,s){if(yo)return i==="compositionend"||!ft&&cg(i,s)?(i=Ua(),nn=ao=fn=null,yo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return hs&&s.locale!=="ko"?null:s.data;default:return null}}var kS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!kS[i.type]:s==="textarea"}function fg(i,s,l,h){rr(h),s=Mu(s,"onChange"),0<s.length&&(l=new uo("onChange","change",null,l,h),i.push({event:l,listeners:s}))}var Ha=null,Wa=null;function NS(i){Ng(i,0)}function Nu(i){var s=To(i);if(Hs(s))return i}function VS(i,s){if(i==="change")return s}var pg=!1;if(d){var rd;if(d){var id="oninput"in document;if(!id){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),id=typeof mg.oninput=="function"}rd=id}else rd=!1;pg=rd&&(!document.documentMode||9<document.documentMode)}function gg(){Ha&&(Ha.detachEvent("onpropertychange",yg),Wa=Ha=null)}function yg(i){if(i.propertyName==="value"&&Nu(Wa)){var s=[];fg(s,Wa,i,Qs(i)),Na(NS,s)}}function DS(i,s,l){i==="focusin"?(gg(),Ha=s,Wa=l,Ha.attachEvent("onpropertychange",yg)):i==="focusout"&&gg()}function bS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nu(Wa)}function MS(i,s){if(i==="click")return Nu(s)}function LS(i,s){if(i==="input"||i==="change")return Nu(s)}function OS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Wn=typeof Object.is=="function"?Object.is:OS;function qa(i,s){if(Wn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),h=Object.keys(s);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(s,p)||!Wn(i[p],s[p]))return!1}return!0}function vg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _g(i,s){var l=vg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=s&&h>=s)return{node:l,offset:s-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vg(l)}}function wg(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?wg(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Eg(){for(var i=window,s=ei();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=ei(i.document)}return s}function sd(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function jS(i){var s=Eg(),l=i.focusedElem,h=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&wg(l.ownerDocument.documentElement,l)){if(h!==null&&sd(l)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!i.extend&&y>h&&(p=h,h=y,y=p),p=_g(l,y);var E=_g(l,h);p&&E&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),i.removeAllRanges(),y>h?(i.addRange(s),i.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var FS=d&&"documentMode"in document&&11>=document.documentMode,vo=null,od=null,Ka=null,ad=!1;function Tg(i,s,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ad||vo==null||vo!==ei(h)||(h=vo,"selectionStart"in h&&sd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ka&&qa(Ka,h)||(Ka=h,h=Mu(od,"onSelect"),0<h.length&&(s=new uo("onSelect","select",null,s,l),i.push({event:s,listeners:h}),s.target=vo)))}function Vu(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var _o={animationend:Vu("Animation","AnimationEnd"),animationiteration:Vu("Animation","AnimationIteration"),animationstart:Vu("Animation","AnimationStart"),transitionend:Vu("Transition","TransitionEnd")},ld={},Sg={};d&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Du(i){if(ld[i])return ld[i];if(!_o[i])return i;var s=_o[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Sg)return ld[i]=s[l];return i}var Ig=Du("animationend"),Ag=Du("animationiteration"),xg=Du("animationstart"),Pg=Du("transitionend"),Cg=new Map,Rg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(i,s){Cg.set(i,s),a(s,[i])}for(var ud=0;ud<Rg.length;ud++){var cd=Rg[ud],US=cd.toLowerCase(),BS=cd[0].toUpperCase()+cd.slice(1);hi(US,"on"+BS)}hi(Ig,"onAnimationEnd"),hi(Ag,"onAnimationIteration"),hi(xg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(Pg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function kg(i,s,l){var h=i.type||"unknown-event";i.currentTarget=l,uu(h,s,void 0,i),i.currentTarget=null}function Ng(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var y=void 0;if(s)for(var E=h.length-1;0<=E;E--){var x=h[E],k=x.instance,$=x.currentTarget;if(x=x.listener,k!==y&&p.isPropagationStopped())break e;kg(p,x,$),y=k}else for(E=0;E<h.length;E++){if(x=h[E],k=x.instance,$=x.currentTarget,x=x.listener,k!==y&&p.isPropagationStopped())break e;kg(p,x,$),y=k}}}if(On)throw i=Va,On=!1,Va=null,i}function Ke(i,s){var l=s[vd];l===void 0&&(l=s[vd]=new Set);var h=i+"__bubble";l.has(h)||(Vg(s,i,2,!1),l.add(h))}function hd(i,s,l){var h=0;s&&(h|=4),Vg(l,i,h,s)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Qa(i){if(!i[bu]){i[bu]=!0,r.forEach(function(l){l!=="selectionchange"&&(zS.has(l)||hd(l,!1,i),hd(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[bu]||(s[bu]=!0,hd("selectionchange",!1,s))}}function Vg(i,s,l,h){switch(Fa(s)){case 1:var p=et;break;case 4:p=td;break;default:p=ja}l=p.bind(null,s,l,i),p=void 0,!Js||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function dd(i,s,l,h,p){var y=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var x=h.stateNode.containerInfo;if(x===p||x.nodeType===8&&x.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var k=E.tag;if((k===3||k===4)&&(k=E.stateNode.containerInfo,k===p||k.nodeType===8&&k.parentNode===p))return;E=E.return}for(;x!==null;){if(E=ds(x),E===null)return;if(k=E.tag,k===5||k===6){h=y=E;continue e}x=x.parentNode}}h=h.return}Na(function(){var $=y,X=Qs(l),Z=[];e:{var Y=Cg.get(i);if(Y!==void 0){var ae=uo,he=i;switch(i){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":ae=g;break;case"focusin":he="focus",ae=po;break;case"focusout":he="blur",ae=po;break;case"beforeblur":case"afterblur":ae=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=H;break;case Ig:case Ag:case xg:ae=Dr;break;case Pg:ae=ze;break;case"scroll":ae=nd;break;case"wheel":ae=Me;break;case"copy":case"cut":case"paste":ae=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=S}var de=(s&4)!==0,ct=!de&&i==="scroll",U=de?Y!==null?Y+"Capture":null:Y;de=[];for(var D=$,z;D!==null;){z=D;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=ut(D,U),te!=null&&de.push(Ya(D,te,z)))),ct)break;D=D.return}0<de.length&&(Y=new ae(Y,he,null,l,X),Z.push({event:Y,listeners:de}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",Y&&l!==Zi&&(he=l.relatedTarget||l.fromElement)&&(ds(he)||he[br]))break e;if((ae||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,ae?(he=l.relatedTarget||l.toElement,ae=$,he=he?ds(he):null,he!==null&&(ct=jn(he),he!==ct||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=$),ae!==he)){if(de=ho,te="onMouseLeave",U="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(de=S,te="onPointerLeave",U="onPointerEnter",D="pointer"),ct=ae==null?Y:To(ae),z=he==null?Y:To(he),Y=new de(te,D+"leave",ae,l,X),Y.target=ct,Y.relatedTarget=z,te=null,ds(X)===$&&(de=new de(U,D+"enter",he,l,X),de.target=z,de.relatedTarget=ct,te=de),ct=te,ae&&he)t:{for(de=ae,U=he,D=0,z=de;z;z=wo(z))D++;for(z=0,te=U;te;te=wo(te))z++;for(;0<D-z;)de=wo(de),D--;for(;0<z-D;)U=wo(U),z--;for(;D--;){if(de===U||U!==null&&de===U.alternate)break t;de=wo(de),U=wo(U)}de=null}else de=null;ae!==null&&Dg(Z,Y,ae,de,!1),he!==null&&ct!==null&&Dg(Z,ct,he,de,!0)}}e:{if(Y=$?To($):window,ae=Y.nodeName&&Y.nodeName.toLowerCase(),ae==="select"||ae==="input"&&Y.type==="file")var pe=VS;else if(dg(Y))if(pg)pe=LS;else{pe=bS;var ve=DS}else(ae=Y.nodeName)&&ae.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(pe=MS);if(pe&&(pe=pe(i,$))){fg(Z,pe,l,X);break e}ve&&ve(i,Y,$),i==="focusout"&&(ve=Y._wrapperState)&&ve.controlled&&Y.type==="number"&&qs(Y,"number",Y.value)}switch(ve=$?To($):window,i){case"focusin":(dg(ve)||ve.contentEditable==="true")&&(vo=ve,od=$,Ka=null);break;case"focusout":Ka=od=vo=null;break;case"mousedown":ad=!0;break;case"contextmenu":case"mouseup":case"dragend":ad=!1,Tg(Z,l,X);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":Tg(Z,l,X)}var _e;if(ft)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else yo?cg(i,l)&&(Se="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Se="onCompositionStart");Se&&(hs&&l.locale!=="ko"&&(yo||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&yo&&(_e=Ua()):(fn=X,ao="value"in fn?fn.value:fn.textContent,yo=!0)),ve=Mu($,Se),0<ve.length&&(Se=new $a(Se,i,null,l,X),Z.push({event:Se,listeners:ve}),_e?Se.data=_e:(_e=hg(l),_e!==null&&(Se.data=_e)))),(_e=pn?CS(i,l):RS(i,l))&&($=Mu($,"onBeforeInput"),0<$.length&&(X=new $a("onBeforeInput","beforeinput",null,l,X),Z.push({event:X,listeners:$}),X.data=_e))}Ng(Z,s)})}function Ya(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Mu(i,s){for(var l=s+"Capture",h=[];i!==null;){var p=i,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=ut(i,l),y!=null&&h.unshift(Ya(i,y,p)),y=ut(i,s),y!=null&&h.push(Ya(i,y,p))),i=i.return}return h}function wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Dg(i,s,l,h,p){for(var y=s._reactName,E=[];l!==null&&l!==h;){var x=l,k=x.alternate,$=x.stateNode;if(k!==null&&k===h)break;x.tag===5&&$!==null&&(x=$,p?(k=ut(l,y),k!=null&&E.unshift(Ya(l,k,x))):p||(k=ut(l,y),k!=null&&E.push(Ya(l,k,x)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var $S=/\r\n?/g,HS=/\u0000|\uFFFD/g;function bg(i){return(typeof i=="string"?i:""+i).replace($S,`
`).replace(HS,"")}function Lu(i,s,l){if(s=bg(s),bg(i)!==s&&l)throw Error(t(425))}function Ou(){}var fd=null,pd=null;function md(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gd=typeof setTimeout=="function"?setTimeout:void 0,WS=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(i){return Mg.resolve(null).then(i).catch(KS)}:gd;function KS(i){setTimeout(function(){throw i})}function yd(i,s){var l=s,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),$n(s);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);$n(s)}function di(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Lg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),ur="__reactFiber$"+Eo,Xa="__reactProps$"+Eo,br="__reactContainer$"+Eo,vd="__reactEvents$"+Eo,GS="__reactListeners$"+Eo,QS="__reactHandles$"+Eo;function ds(i){var s=i[ur];if(s)return s;for(var l=i.parentNode;l;){if(s=l[br]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Lg(i);i!==null;){if(l=i[ur])return l;i=Lg(i)}return s}i=l,l=i.parentNode}return null}function Ja(i){return i=i[ur]||i[br],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function To(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ju(i){return i[Xa]||null}var _d=[],So=-1;function fi(i){return{current:i}}function Ge(i){0>So||(i.current=_d[So],_d[So]=null,So--)}function qe(i,s){So++,_d[So]=i.current,i.current=s}var pi={},Bt=fi(pi),rn=fi(!1),fs=pi;function Io(i,s){var l=i.type.contextTypes;if(!l)return pi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=p),p}function sn(i){return i=i.childContextTypes,i!=null}function Fu(){Ge(rn),Ge(Bt)}function Og(i,s,l){if(Bt.current!==pi)throw Error(t(168));qe(Bt,s),qe(rn,l)}function jg(i,s,l){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in s))throw Error(t(108,Fe(i)||"Unknown",p));return oe({},l,h)}function Uu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pi,fs=Bt.current,qe(Bt,i),qe(rn,rn.current),!0}function Fg(i,s,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=jg(i,s,fs),h.__reactInternalMemoizedMergedChildContext=i,Ge(rn),Ge(Bt),qe(Bt,i)):Ge(rn),qe(rn,l)}var Mr=null,Bu=!1,wd=!1;function Ug(i){Mr===null?Mr=[i]:Mr.push(i)}function YS(i){Bu=!0,Ug(i)}function mi(){if(!wd&&Mr!==null){wd=!0;var i=0,s=De;try{var l=Mr;for(De=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Mr=null,Bu=!1}catch(p){throw Mr!==null&&(Mr=Mr.slice(i+1)),no(is,mi),p}finally{De=s,wd=!1}}return null}var Ao=[],xo=0,zu=null,$u=0,xn=[],Pn=0,ps=null,Lr=1,Or="";function ms(i,s){Ao[xo++]=$u,Ao[xo++]=zu,zu=i,$u=s}function Bg(i,s,l){xn[Pn++]=Lr,xn[Pn++]=Or,xn[Pn++]=ps,ps=i;var h=Lr;i=Or;var p=32-Xt(h)-1;h&=~(1<<p),l+=1;var y=32-Xt(s)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Lr=1<<32-Xt(s)+p|l<<p|h,Or=y+i}else Lr=1<<y|l<<p|h,Or=i}function Ed(i){i.return!==null&&(ms(i,1),Bg(i,1,0))}function Td(i){for(;i===zu;)zu=Ao[--xo],Ao[xo]=null,$u=Ao[--xo],Ao[xo]=null;for(;i===ps;)ps=xn[--Pn],xn[Pn]=null,Or=xn[--Pn],xn[Pn]=null,Lr=xn[--Pn],xn[Pn]=null}var mn=null,gn=null,tt=!1,qn=null;function zg(i,s){var l=Nn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function $g(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,mn=i,gn=di(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,mn=i,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=ps!==null?{id:Lr,overflow:Or}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Nn(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,mn=i,gn=null,!0):!1;default:return!1}}function Sd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Id(i){if(tt){var s=gn;if(s){var l=s;if(!$g(i,s)){if(Sd(i))throw Error(t(418));s=di(l.nextSibling);var h=mn;s&&$g(i,s)?zg(h,l):(i.flags=i.flags&-4097|2,tt=!1,mn=i)}}else{if(Sd(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,mn=i}}}function Hg(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;mn=i}function Hu(i){if(i!==mn)return!1;if(!tt)return Hg(i),tt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!md(i.type,i.memoizedProps)),s&&(s=gn)){if(Sd(i))throw Wg(),Error(t(418));for(;s;)zg(i,s),s=di(s.nextSibling)}if(Hg(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){gn=di(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}gn=null}}else gn=mn?di(i.stateNode.nextSibling):null;return!0}function Wg(){for(var i=gn;i;)i=di(i.nextSibling)}function Po(){gn=mn=null,tt=!1}function Ad(i){qn===null?qn=[i]:qn.push(i)}var XS=se.ReactCurrentBatchConfig;function Za(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var x=p.refs;E===null?delete x[y]:x[y]=E},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Wu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function qg(i){var s=i._init;return s(i._payload)}function Kg(i){function s(U,D){if(i){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function l(U,D){if(!i)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function h(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function p(U,D){return U=Si(U,D),U.index=0,U.sibling=null,U}function y(U,D,z){return U.index=z,i?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=2,D):z):(U.flags|=2,D)):(U.flags|=1048576,D)}function E(U){return i&&U.alternate===null&&(U.flags|=2),U}function x(U,D,z,te){return D===null||D.tag!==6?(D=yf(z,U.mode,te),D.return=U,D):(D=p(D,z),D.return=U,D)}function k(U,D,z,te){var pe=z.type;return pe===N?X(U,D,z.props.children,te,z.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&qg(pe)===D.type)?(te=p(D,z.props),te.ref=Za(U,D,z),te.return=U,te):(te=mc(z.type,z.key,z.props,null,U.mode,te),te.ref=Za(U,D,z),te.return=U,te)}function $(U,D,z,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=vf(z,U.mode,te),D.return=U,D):(D=p(D,z.children||[]),D.return=U,D)}function X(U,D,z,te,pe){return D===null||D.tag!==7?(D=Ss(z,U.mode,te,pe),D.return=U,D):(D=p(D,z),D.return=U,D)}function Z(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=yf(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ie:return z=mc(D.type,D.key,D.props,null,U.mode,z),z.ref=Za(U,null,D),z.return=U,z;case ue:return D=vf(D,U.mode,z),D.return=U,D;case Vt:var te=D._init;return Z(U,te(D._payload),z)}if(Ar(D)||me(D))return D=Ss(D,U.mode,z,null),D.return=U,D;Wu(U,D)}return null}function Y(U,D,z,te){var pe=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return pe!==null?null:x(U,D,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:return z.key===pe?k(U,D,z,te):null;case ue:return z.key===pe?$(U,D,z,te):null;case Vt:return pe=z._init,Y(U,D,pe(z._payload),te)}if(Ar(z)||me(z))return pe!==null?null:X(U,D,z,te,null);Wu(U,z)}return null}function ae(U,D,z,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,x(D,U,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case ie:return U=U.get(te.key===null?z:te.key)||null,k(D,U,te,pe);case ue:return U=U.get(te.key===null?z:te.key)||null,$(D,U,te,pe);case Vt:var ve=te._init;return ae(U,D,z,ve(te._payload),pe)}if(Ar(te)||me(te))return U=U.get(z)||null,X(D,U,te,pe,null);Wu(D,te)}return null}function he(U,D,z,te){for(var pe=null,ve=null,_e=D,Se=D=0,Rt=null;_e!==null&&Se<z.length;Se++){_e.index>Se?(Rt=_e,_e=null):Rt=_e.sibling;var je=Y(U,_e,z[Se],te);if(je===null){_e===null&&(_e=Rt);break}i&&_e&&je.alternate===null&&s(U,_e),D=y(je,D,Se),ve===null?pe=je:ve.sibling=je,ve=je,_e=Rt}if(Se===z.length)return l(U,_e),tt&&ms(U,Se),pe;if(_e===null){for(;Se<z.length;Se++)_e=Z(U,z[Se],te),_e!==null&&(D=y(_e,D,Se),ve===null?pe=_e:ve.sibling=_e,ve=_e);return tt&&ms(U,Se),pe}for(_e=h(U,_e);Se<z.length;Se++)Rt=ae(_e,U,Se,z[Se],te),Rt!==null&&(i&&Rt.alternate!==null&&_e.delete(Rt.key===null?Se:Rt.key),D=y(Rt,D,Se),ve===null?pe=Rt:ve.sibling=Rt,ve=Rt);return i&&_e.forEach(function(Ii){return s(U,Ii)}),tt&&ms(U,Se),pe}function de(U,D,z,te){var pe=me(z);if(typeof pe!="function")throw Error(t(150));if(z=pe.call(z),z==null)throw Error(t(151));for(var ve=pe=null,_e=D,Se=D=0,Rt=null,je=z.next();_e!==null&&!je.done;Se++,je=z.next()){_e.index>Se?(Rt=_e,_e=null):Rt=_e.sibling;var Ii=Y(U,_e,je.value,te);if(Ii===null){_e===null&&(_e=Rt);break}i&&_e&&Ii.alternate===null&&s(U,_e),D=y(Ii,D,Se),ve===null?pe=Ii:ve.sibling=Ii,ve=Ii,_e=Rt}if(je.done)return l(U,_e),tt&&ms(U,Se),pe;if(_e===null){for(;!je.done;Se++,je=z.next())je=Z(U,je.value,te),je!==null&&(D=y(je,D,Se),ve===null?pe=je:ve.sibling=je,ve=je);return tt&&ms(U,Se),pe}for(_e=h(U,_e);!je.done;Se++,je=z.next())je=ae(_e,U,Se,je.value,te),je!==null&&(i&&je.alternate!==null&&_e.delete(je.key===null?Se:je.key),D=y(je,D,Se),ve===null?pe=je:ve.sibling=je,ve=je);return i&&_e.forEach(function(kI){return s(U,kI)}),tt&&ms(U,Se),pe}function ct(U,D,z,te){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ie:e:{for(var pe=z.key,ve=D;ve!==null;){if(ve.key===pe){if(pe=z.type,pe===N){if(ve.tag===7){l(U,ve.sibling),D=p(ve,z.props.children),D.return=U,U=D;break e}}else if(ve.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===Vt&&qg(pe)===ve.type){l(U,ve.sibling),D=p(ve,z.props),D.ref=Za(U,ve,z),D.return=U,U=D;break e}l(U,ve);break}else s(U,ve);ve=ve.sibling}z.type===N?(D=Ss(z.props.children,U.mode,te,z.key),D.return=U,U=D):(te=mc(z.type,z.key,z.props,null,U.mode,te),te.ref=Za(U,D,z),te.return=U,U=te)}return E(U);case ue:e:{for(ve=z.key;D!==null;){if(D.key===ve)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){l(U,D.sibling),D=p(D,z.children||[]),D.return=U,U=D;break e}else{l(U,D);break}else s(U,D);D=D.sibling}D=vf(z,U.mode,te),D.return=U,U=D}return E(U);case Vt:return ve=z._init,ct(U,D,ve(z._payload),te)}if(Ar(z))return he(U,D,z,te);if(me(z))return de(U,D,z,te);Wu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(l(U,D.sibling),D=p(D,z),D.return=U,U=D):(l(U,D),D=yf(z,U.mode,te),D.return=U,U=D),E(U)):l(U,D)}return ct}var Co=Kg(!0),Gg=Kg(!1),qu=fi(null),Ku=null,Ro=null,xd=null;function Pd(){xd=Ro=Ku=null}function Cd(i){var s=qu.current;Ge(qu),i._currentValue=s}function Rd(i,s,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===l)break;i=i.return}}function ko(i,s){Ku=i,xd=Ro=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(on=!0),i.firstContext=null)}function Cn(i){var s=i._currentValue;if(xd!==i)if(i={context:i,memoizedValue:s,next:null},Ro===null){if(Ku===null)throw Error(t(308));Ro=i,Ku.dependencies={lanes:0,firstContext:i}}else Ro=Ro.next=i;return s}var gs=null;function kd(i){gs===null?gs=[i]:gs.push(i)}function Qg(i,s,l,h){var p=s.interleaved;return p===null?(l.next=l,kd(s)):(l.next=p.next,p.next=l),s.interleaved=l,jr(i,h)}function jr(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var gi=!1;function Nd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yg(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Fr(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(i,s,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Oe&2)!==0){var p=h.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),h.pending=s,jr(i,l)}return p=h.interleaved,p===null?(s.next=s,kd(h)):(s.next=p.next,p.next=s),h.interleaved=s,jr(i,l)}function Gu(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,oi(i,l)}}function Xg(i,s){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Qu(i,s,l,h){var p=i.updateQueue;gi=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var k=x,$=k.next;k.next=null,E===null?y=$:E.next=$,E=k;var X=i.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==E&&(x===null?X.firstBaseUpdate=$:x.next=$,X.lastBaseUpdate=k))}if(y!==null){var Z=p.baseState;E=0,X=$=k=null,x=y;do{var Y=x.lane,ae=x.eventTime;if((h&Y)===Y){X!==null&&(X=X.next={eventTime:ae,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var he=i,de=x;switch(Y=s,ae=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){Z=he.call(ae,Z,Y);break e}Z=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Y=typeof he=="function"?he.call(ae,Z,Y):he,Y==null)break e;Z=oe({},Z,Y);break e;case 2:gi=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,Y=p.effects,Y===null?p.effects=[x]:Y.push(x))}else ae={eventTime:ae,lane:Y,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?($=X=ae,k=Z):X=X.next=ae,E|=Y;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,p.lastBaseUpdate=Y,p.shared.pending=null}}while(!0);if(X===null&&(k=Z),p.baseState=k,p.firstBaseUpdate=$,p.lastBaseUpdate=X,s=p.shared.interleaved,s!==null){p=s;do E|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);_s|=E,i.lanes=E,i.memoizedState=Z}}function Jg(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var el={},cr=fi(el),tl=fi(el),nl=fi(el);function ys(i){if(i===el)throw Error(t(174));return i}function Vd(i,s){switch(qe(nl,s),qe(tl,i),qe(cr,el),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=vt(s,i)}Ge(cr),qe(cr,s)}function No(){Ge(cr),Ge(tl),Ge(nl)}function Zg(i){ys(nl.current);var s=ys(cr.current),l=vt(s,i.type);s!==l&&(qe(tl,i),qe(cr,l))}function Dd(i){tl.current===i&&(Ge(cr),Ge(tl))}var nt=fi(0);function Yu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var bd=[];function Md(){for(var i=0;i<bd.length;i++)bd[i]._workInProgressVersionPrimary=null;bd.length=0}var Xu=se.ReactCurrentDispatcher,Ld=se.ReactCurrentBatchConfig,vs=0,rt=null,wt=null,Pt=null,Ju=!1,rl=!1,il=0,JS=0;function zt(){throw Error(t(321))}function Od(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Wn(i[l],s[l]))return!1;return!0}function jd(i,s,l,h,p,y){if(vs=y,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Xu.current=i===null||i.memoizedState===null?nI:rI,i=l(h,p),rl){y=0;do{if(rl=!1,il=0,25<=y)throw Error(t(301));y+=1,Pt=wt=null,s.updateQueue=null,Xu.current=iI,i=l(h,p)}while(rl)}if(Xu.current=tc,s=wt!==null&&wt.next!==null,vs=0,Pt=wt=rt=null,Ju=!1,s)throw Error(t(300));return i}function Fd(){var i=il!==0;return il=0,i}function hr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Rn(){if(wt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var s=Pt===null?rt.memoizedState:Pt.next;if(s!==null)Pt=s,wt=i;else{if(i===null)throw Error(t(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Pt===null?rt.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function sl(i,s){return typeof s=="function"?s(i):s}function Ud(i){var s=Rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=wt,p=h.baseQueue,y=l.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,h=h.baseState;var x=E=null,k=null,$=y;do{var X=$.lane;if((vs&X)===X)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),h=$.hasEagerState?$.eagerState:i(h,$.action);else{var Z={lane:X,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(x=k=Z,E=h):k=k.next=Z,rt.lanes|=X,_s|=X}$=$.next}while($!==null&&$!==y);k===null?E=h:k.next=x,Wn(h,s.memoizedState)||(on=!0),s.memoizedState=h,s.baseState=E,s.baseQueue=k,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do y=p.lane,rt.lanes|=y,_s|=y,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Bd(i){var s=Rn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);Wn(y,s.memoizedState)||(on=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,h]}function ey(){}function ty(i,s){var l=rt,h=Rn(),p=s(),y=!Wn(h.memoizedState,p);if(y&&(h.memoizedState=p,on=!0),h=h.queue,zd(iy.bind(null,l,h,i),[i]),h.getSnapshot!==s||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,ol(9,ry.bind(null,l,h,p,s),void 0,null),Ct===null)throw Error(t(349));(vs&30)!==0||ny(l,s,p)}return p}function ny(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function ry(i,s,l,h){s.value=l,s.getSnapshot=h,sy(s)&&oy(i)}function iy(i,s,l){return l(function(){sy(s)&&oy(i)})}function sy(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Wn(i,l)}catch{return!0}}function oy(i){var s=jr(i,1);s!==null&&Yn(s,i,1,-1)}function ay(i){var s=hr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:i},s.queue=i,i=i.dispatch=tI.bind(null,rt,i),[s.memoizedState,i]}function ol(i,s,l,h){return i={tag:i,create:s,destroy:l,deps:h,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,s.lastEffect=i)),i}function ly(){return Rn().memoizedState}function Zu(i,s,l,h){var p=hr();rt.flags|=i,p.memoizedState=ol(1|s,l,void 0,h===void 0?null:h)}function ec(i,s,l,h){var p=Rn();h=h===void 0?null:h;var y=void 0;if(wt!==null){var E=wt.memoizedState;if(y=E.destroy,h!==null&&Od(h,E.deps)){p.memoizedState=ol(s,l,y,h);return}}rt.flags|=i,p.memoizedState=ol(1|s,l,y,h)}function uy(i,s){return Zu(8390656,8,i,s)}function zd(i,s){return ec(2048,8,i,s)}function cy(i,s){return ec(4,2,i,s)}function hy(i,s){return ec(4,4,i,s)}function dy(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function fy(i,s,l){return l=l!=null?l.concat([i]):null,ec(4,4,dy.bind(null,s,i),l)}function $d(){}function py(i,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Od(s,h[1])?h[0]:(l.memoizedState=[i,s],i)}function my(i,s){var l=Rn();s=s===void 0?null:s;var h=l.memoizedState;return h!==null&&s!==null&&Od(s,h[1])?h[0]:(i=i(),l.memoizedState=[i,s],i)}function gy(i,s,l){return(vs&21)===0?(i.baseState&&(i.baseState=!1,on=!0),i.memoizedState=l):(Wn(l,s)||(l=as(),rt.lanes|=l,_s|=l,i.baseState=!0),s)}function ZS(i,s){var l=De;De=l!==0&&4>l?l:4,i(!0);var h=Ld.transition;Ld.transition={};try{i(!1),s()}finally{De=l,Ld.transition=h}}function yy(){return Rn().memoizedState}function eI(i,s,l){var h=Ei(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},vy(i))_y(s,l);else if(l=Qg(i,s,l,h),l!==null){var p=en();Yn(l,i,h,p),wy(l,s,h)}}function tI(i,s,l){var h=Ei(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(vy(i))_y(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,x=y(E,l);if(p.hasEagerState=!0,p.eagerState=x,Wn(x,E)){var k=s.interleaved;k===null?(p.next=p,kd(s)):(p.next=k.next,k.next=p),s.interleaved=p;return}}catch{}finally{}l=Qg(i,s,p,h),l!==null&&(p=en(),Yn(l,i,h,p),wy(l,s,h))}}function vy(i){var s=i.alternate;return i===rt||s!==null&&s===rt}function _y(i,s){rl=Ju=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function wy(i,s,l){if((l&4194240)!==0){var h=s.lanes;h&=i.pendingLanes,l|=h,s.lanes=l,oi(i,l)}}var tc={readContext:Cn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},nI={readContext:Cn,useCallback:function(i,s){return hr().memoizedState=[i,s===void 0?null:s],i},useContext:Cn,useEffect:uy,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,Zu(4194308,4,dy.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Zu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Zu(4,2,i,s)},useMemo:function(i,s){var l=hr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var h=hr();return s=l!==void 0?l(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=eI.bind(null,rt,i),[h.memoizedState,i]},useRef:function(i){var s=hr();return i={current:i},s.memoizedState=i},useState:ay,useDebugValue:$d,useDeferredValue:function(i){return hr().memoizedState=i},useTransition:function(){var i=ay(!1),s=i[0];return i=ZS.bind(null,i[1]),hr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var h=rt,p=hr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),Ct===null)throw Error(t(349));(vs&30)!==0||ny(h,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,uy(iy.bind(null,h,y,i),[i]),h.flags|=2048,ol(9,ry.bind(null,h,y,l,s),void 0,null),l},useId:function(){var i=hr(),s=Ct.identifierPrefix;if(tt){var l=Or,h=Lr;l=(h&~(1<<32-Xt(h)-1)).toString(32)+l,s=":"+s+"R"+l,l=il++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=JS++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},rI={readContext:Cn,useCallback:py,useContext:Cn,useEffect:zd,useImperativeHandle:fy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:Ud,useRef:ly,useState:function(){return Ud(sl)},useDebugValue:$d,useDeferredValue:function(i){var s=Rn();return gy(s,wt.memoizedState,i)},useTransition:function(){var i=Ud(sl)[0],s=Rn().memoizedState;return[i,s]},useMutableSource:ey,useSyncExternalStore:ty,useId:yy,unstable_isNewReconciler:!1},iI={readContext:Cn,useCallback:py,useContext:Cn,useEffect:zd,useImperativeHandle:fy,useInsertionEffect:cy,useLayoutEffect:hy,useMemo:my,useReducer:Bd,useRef:ly,useState:function(){return Bd(sl)},useDebugValue:$d,useDeferredValue:function(i){var s=Rn();return wt===null?s.memoizedState=i:gy(s,wt.memoizedState,i)},useTransition:function(){var i=Bd(sl)[0],s=Rn().memoizedState;return[i,s]},useMutableSource:ey,useSyncExternalStore:ty,useId:yy,unstable_isNewReconciler:!1};function Kn(i,s){if(i&&i.defaultProps){s=oe({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Hd(i,s,l,h){s=i.memoizedState,l=l(h,s),l=l==null?s:oe({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var nc={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var h=en(),p=Ei(i),y=Fr(h,p);y.payload=s,l!=null&&(y.callback=l),s=yi(i,y,p),s!==null&&(Yn(s,i,p,h),Gu(s,i,p))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var h=en(),p=Ei(i),y=Fr(h,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=yi(i,y,p),s!==null&&(Yn(s,i,p,h),Gu(s,i,p))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=en(),h=Ei(i),p=Fr(l,h);p.tag=2,s!=null&&(p.callback=s),s=yi(i,p,h),s!==null&&(Yn(s,i,h,l),Gu(s,i,h))}};function Ey(i,s,l,h,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,E):s.prototype&&s.prototype.isPureReactComponent?!qa(l,h)||!qa(p,y):!0}function Ty(i,s,l){var h=!1,p=pi,y=s.contextType;return typeof y=="object"&&y!==null?y=Cn(y):(p=sn(s)?fs:Bt.current,h=s.contextTypes,y=(h=h!=null)?Io(i,p):pi),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=nc,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=y),s}function Sy(i,s,l,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,h),s.state!==i&&nc.enqueueReplaceState(s,s.state,null)}function Wd(i,s,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},Nd(i);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Cn(y):(y=sn(s)?fs:Bt.current,p.context=Io(i,y)),p.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Hd(i,s,y,l),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&nc.enqueueReplaceState(p,p.state,null),Qu(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function Vo(i,s){try{var l="",h=s;do l+=Ce(h),h=h.return;while(h);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:p,digest:null}}function qd(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Kd(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var sI=typeof WeakMap=="function"?WeakMap:Map;function Iy(i,s,l){l=Fr(-1,l),l.tag=3,l.payload={element:null};var h=s.value;return l.callback=function(){uc||(uc=!0,uf=h),Kd(i,s)},l}function Ay(i,s,l){l=Fr(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=s.value;l.payload=function(){return h(p)},l.callback=function(){Kd(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Kd(i,s),typeof h!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function xy(i,s,l){var h=i.pingCache;if(h===null){h=i.pingCache=new sI;var p=new Set;h.set(s,p)}else p=h.get(s),p===void 0&&(p=new Set,h.set(s,p));p.has(l)||(p.add(l),i=_I.bind(null,i,s,l),s.then(i,i))}function Py(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Cy(i,s,l,h,p){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Fr(-1,1),s.tag=2,yi(l,s,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var oI=se.ReactCurrentOwner,on=!1;function Zt(i,s,l,h){s.child=i===null?Gg(s,null,l,h):Co(s,i.child,l,h)}function Ry(i,s,l,h,p){l=l.render;var y=s.ref;return ko(s,p),h=jd(i,s,l,h,y,p),l=Fd(),i!==null&&!on?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Ur(i,s,p)):(tt&&l&&Ed(s),s.flags|=1,Zt(i,s,h,p),s.child)}function ky(i,s,l,h,p){if(i===null){var y=l.type;return typeof y=="function"&&!gf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Ny(i,s,y,h,p)):(i=mc(l.type,null,h,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,(i.lanes&p)===0){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:qa,l(E,h)&&i.ref===s.ref)return Ur(i,s,p)}return s.flags|=1,i=Si(y,h),i.ref=s.ref,i.return=s,s.child=i}function Ny(i,s,l,h,p){if(i!==null){var y=i.memoizedProps;if(qa(y,h)&&i.ref===s.ref)if(on=!1,s.pendingProps=h=y,(i.lanes&p)!==0)(i.flags&131072)!==0&&(on=!0);else return s.lanes=i.lanes,Ur(i,s,p)}return Gd(i,s,l,h,p)}function Vy(i,s,l){var h=s.pendingProps,p=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(bo,yn),yn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,qe(bo,yn),yn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,qe(bo,yn),yn|=h}else y!==null?(h=y.baseLanes|l,s.memoizedState=null):h=l,qe(bo,yn),yn|=h;return Zt(i,s,p,l),s.child}function Dy(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Gd(i,s,l,h,p){var y=sn(l)?fs:Bt.current;return y=Io(s,y),ko(s,p),l=jd(i,s,l,h,y,p),h=Fd(),i!==null&&!on?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~p,Ur(i,s,p)):(tt&&h&&Ed(s),s.flags|=1,Zt(i,s,l,p),s.child)}function by(i,s,l,h,p){if(sn(l)){var y=!0;Uu(s)}else y=!1;if(ko(s,p),s.stateNode===null)ic(i,s),Ty(s,l,h),Wd(s,l,h,p),h=!0;else if(i===null){var E=s.stateNode,x=s.memoizedProps;E.props=x;var k=E.context,$=l.contextType;typeof $=="object"&&$!==null?$=Cn($):($=sn(l)?fs:Bt.current,$=Io(s,$));var X=l.getDerivedStateFromProps,Z=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==h||k!==$)&&Sy(s,E,h,$),gi=!1;var Y=s.memoizedState;E.state=Y,Qu(s,h,E,p),k=s.memoizedState,x!==h||Y!==k||rn.current||gi?(typeof X=="function"&&(Hd(s,l,X,h),k=s.memoizedState),(x=gi||Ey(s,l,x,h,Y,k,$))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=k),E.props=h,E.state=k,E.context=$,h=x):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{E=s.stateNode,Yg(i,s),x=s.memoizedProps,$=s.type===s.elementType?x:Kn(s.type,x),E.props=$,Z=s.pendingProps,Y=E.context,k=l.contextType,typeof k=="object"&&k!==null?k=Cn(k):(k=sn(l)?fs:Bt.current,k=Io(s,k));var ae=l.getDerivedStateFromProps;(X=typeof ae=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(x!==Z||Y!==k)&&Sy(s,E,h,k),gi=!1,Y=s.memoizedState,E.state=Y,Qu(s,h,E,p);var he=s.memoizedState;x!==Z||Y!==he||rn.current||gi?(typeof ae=="function"&&(Hd(s,l,ae,h),he=s.memoizedState),($=gi||Ey(s,l,$,h,Y,he,k)||!1)?(X||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,he,k),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,he,k)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=he),E.props=h,E.state=he,E.context=k,h=$):(typeof E.componentDidUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),h=!1)}return Qd(i,s,l,h,y,p)}function Qd(i,s,l,h,p,y){Dy(i,s);var E=(s.flags&128)!==0;if(!h&&!E)return p&&Fg(s,l,!1),Ur(i,s,y);h=s.stateNode,oI.current=s;var x=E&&typeof l.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&E?(s.child=Co(s,i.child,null,y),s.child=Co(s,null,x,y)):Zt(i,s,x,y),s.memoizedState=h.state,p&&Fg(s,l,!0),s.child}function My(i){var s=i.stateNode;s.pendingContext?Og(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Og(i,s.context,!1),Vd(i,s.containerInfo)}function Ly(i,s,l,h,p){return Po(),Ad(p),s.flags|=256,Zt(i,s,l,h),s.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Xd(i){return{baseLanes:i,cachePool:null,transitions:null}}function Oy(i,s,l){var h=s.pendingProps,p=nt.current,y=!1,E=(s.flags&128)!==0,x;if((x=E)||(x=i!==null&&i.memoizedState===null?!1:(p&2)!==0),x?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),qe(nt,p&1),i===null)return Id(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=h.children,i=h.fallback,y?(h=s.mode,y=s.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=gc(E,h,0,null),i=Ss(i,h,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=Xd(l),s.memoizedState=Yd,i):Jd(s,E));if(p=i.memoizedState,p!==null&&(x=p.dehydrated,x!==null))return aI(i,s,E,h,x,p,l);if(y){y=h.fallback,E=s.mode,p=i.child,x=p.sibling;var k={mode:"hidden",children:h.children};return(E&1)===0&&s.child!==p?(h=s.child,h.childLanes=0,h.pendingProps=k,s.deletions=null):(h=Si(p,k),h.subtreeFlags=p.subtreeFlags&14680064),x!==null?y=Si(x,y):(y=Ss(y,E,l,null),y.flags|=2),y.return=s,h.return=s,h.sibling=y,s.child=h,h=y,y=s.child,E=i.child.memoizedState,E=E===null?Xd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=i.childLanes&~l,s.memoizedState=Yd,h}return y=i.child,i=y.sibling,h=Si(y,{mode:"visible",children:h.children}),(s.mode&1)===0&&(h.lanes=l),h.return=s,h.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=h,s.memoizedState=null,h}function Jd(i,s){return s=gc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function rc(i,s,l,h){return h!==null&&Ad(h),Co(s,i.child,null,l),i=Jd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function aI(i,s,l,h,p,y,E){if(l)return s.flags&256?(s.flags&=-257,h=qd(Error(t(422))),rc(i,s,E,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=h.fallback,p=s.mode,h=gc({mode:"visible",children:h.children},p,0,null),y=Ss(y,p,E,null),y.flags|=2,h.return=s,y.return=s,h.sibling=y,s.child=h,(s.mode&1)!==0&&Co(s,i.child,null,E),s.child.memoizedState=Xd(E),s.memoizedState=Yd,y);if((s.mode&1)===0)return rc(i,s,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var x=h.dgst;return h=x,y=Error(t(419)),h=qd(y,h,void 0),rc(i,s,E,h)}if(x=(E&i.childLanes)!==0,on||x){if(h=Ct,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,jr(i,p),Yn(h,i,p,-1))}return mf(),h=qd(Error(t(421))),rc(i,s,E,h)}return p.data==="$?"?(s.flags|=128,s.child=i.child,s=wI.bind(null,i),p._reactRetry=s,null):(i=y.treeContext,gn=di(p.nextSibling),mn=s,tt=!0,qn=null,i!==null&&(xn[Pn++]=Lr,xn[Pn++]=Or,xn[Pn++]=ps,Lr=i.id,Or=i.overflow,ps=s),s=Jd(s,h.children),s.flags|=4096,s)}function jy(i,s,l){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Rd(i.return,s,l)}function Zd(i,s,l,h,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=p)}function Fy(i,s,l){var h=s.pendingProps,p=h.revealOrder,y=h.tail;if(Zt(i,s,h.children,l),h=nt.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&jy(i,l,s);else if(i.tag===19)jy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(qe(nt,h),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Yu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Zd(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Yu(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Zd(s,!0,l,null,y);break;case"together":Zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ic(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Ur(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),_s|=s.lanes,(l&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=Si(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Si(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function lI(i,s,l){switch(s.tag){case 3:My(s),Po();break;case 5:Zg(s);break;case 1:sn(s.type)&&Uu(s);break;case 4:Vd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,p=s.memoizedProps.value;qe(qu,h._currentValue),h._currentValue=p;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(qe(nt,nt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Oy(i,s,l):(qe(nt,nt.current&1),i=Ur(i,s,l),i!==null?i.sibling:null);qe(nt,nt.current&1);break;case 19:if(h=(l&s.childLanes)!==0,(i.flags&128)!==0){if(h)return Fy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),qe(nt,nt.current),h)break;return null;case 22:case 23:return s.lanes=0,Vy(i,s,l)}return Ur(i,s,l)}var Uy,ef,By,zy;Uy=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},ef=function(){},By=function(i,s,l,h){var p=i.memoizedProps;if(p!==h){i=s.stateNode,ys(cr.current);var y=null;switch(l){case"input":p=Yi(i,p),h=Yi(i,h),y=[];break;case"select":p=oe({},p,{value:void 0}),h=oe({},h,{value:void 0}),y=[];break;case"textarea":p=Ea(i,p),h=Ea(i,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=Ou)}Pa(l,h);var E;l=null;for($ in p)if(!h.hasOwnProperty($)&&p.hasOwnProperty($)&&p[$]!=null)if($==="style"){var x=p[$];for(E in x)x.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?y||(y=[]):(y=y||[]).push($,null));for($ in h){var k=h[$];if(x=p?.[$],h.hasOwnProperty($)&&k!==x&&(k!=null||x!=null))if($==="style")if(x){for(E in x)!x.hasOwnProperty(E)||k&&k.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in k)k.hasOwnProperty(E)&&x[E]!==k[E]&&(l||(l={}),l[E]=k[E])}else l||(y||(y=[]),y.push($,l)),l=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,x=x?x.__html:void 0,k!=null&&x!==k&&(y=y||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(y=y||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(k!=null&&$==="onScroll"&&Ke("scroll",i),y||x===k||(y=[])):(y=y||[]).push($,k))}l&&(y=y||[]).push("style",l);var $=y;(s.updateQueue=$)&&(s.flags|=4)}},zy=function(i,s,l,h){l!==h&&(s.flags|=4)};function al(i,s){if(!tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,s}function uI(i,s,l){var h=s.pendingProps;switch(Td(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(s),null;case 1:return sn(s.type)&&Fu(),$t(s),null;case 3:return h=s.stateNode,No(),Ge(rn),Ge(Bt),Md(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(Hu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,qn!==null&&(df(qn),qn=null))),ef(i,s),$t(s),null;case 5:Dd(s);var p=ys(nl.current);if(l=s.type,i!==null&&s.stateNode!=null)By(i,s,l,h,p),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return $t(s),null}if(i=ys(cr.current),Hu(s)){h=s.stateNode,l=s.type;var y=s.memoizedProps;switch(h[ur]=s,h[Xa]=y,i=(s.mode&1)!==0,l){case"dialog":Ke("cancel",h),Ke("close",h);break;case"iframe":case"object":case"embed":Ke("load",h);break;case"video":case"audio":for(p=0;p<Ga.length;p++)Ke(Ga[p],h);break;case"source":Ke("error",h);break;case"img":case"image":case"link":Ke("error",h),Ke("load",h);break;case"details":Ke("toggle",h);break;case"input":Ws(h,y),Ke("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",h);break;case"textarea":Ks(h,y),Ke("invalid",h)}Pa(l,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var x=y[E];E==="children"?typeof x=="string"?h.textContent!==x&&(y.suppressHydrationWarning!==!0&&Lu(h.textContent,x,i),p=["children",x]):typeof x=="number"&&h.textContent!==""+x&&(y.suppressHydrationWarning!==!0&&Lu(h.textContent,x,i),p=["children",""+x]):o.hasOwnProperty(E)&&x!=null&&E==="onScroll"&&Ke("scroll",h)}switch(l){case"input":Ir(h),lu(h,y,!0);break;case"textarea":Ir(h),Ta(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=Ou)}h=p,s.updateQueue=h,h!==null&&(s.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=yt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=E.createElement(l,{is:h.is}):(i=E.createElement(l),l==="select"&&(E=i,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):i=E.createElementNS(i,l),i[ur]=s,i[Xa]=h,Uy(i,s,!1,!1),s.stateNode=i;e:{switch(E=Ca(l,h),l){case"dialog":Ke("cancel",i),Ke("close",i),p=h;break;case"iframe":case"object":case"embed":Ke("load",i),p=h;break;case"video":case"audio":for(p=0;p<Ga.length;p++)Ke(Ga[p],i);p=h;break;case"source":Ke("error",i),p=h;break;case"img":case"image":case"link":Ke("error",i),Ke("load",i),p=h;break;case"details":Ke("toggle",i),p=h;break;case"input":Ws(i,h),p=Yi(i,h),Ke("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=oe({},h,{value:void 0}),Ke("invalid",i);break;case"textarea":Ks(i,h),p=Ea(i,h),Ke("invalid",i);break;default:p=h}Pa(l,p),x=p;for(y in x)if(x.hasOwnProperty(y)){var k=x[y];y==="style"?Aa(i,k):y==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&Sa(i,k)):y==="children"?typeof k=="string"?(l!=="textarea"||k!=="")&&ti(i,k):typeof k=="number"&&ti(i,""+k):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?k!=null&&y==="onScroll"&&Ke("scroll",i):k!=null&&J(i,y,k,E))}switch(l){case"input":Ir(i),lu(i,h,!1);break;case"textarea":Ir(i),Ta(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ue(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?xr(i,!!h.multiple,y,!1):h.defaultValue!=null&&xr(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=Ou)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return $t(s),null;case 6:if(i&&s.stateNode!=null)zy(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(l=ys(nl.current),ys(cr.current),Hu(s)){if(h=s.stateNode,l=s.memoizedProps,h[ur]=s,(y=h.nodeValue!==l)&&(i=mn,i!==null))switch(i.tag){case 3:Lu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Lu(h.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[ur]=s,s.stateNode=h}return $t(s),null;case 13:if(Ge(nt),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&gn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Wg(),Po(),s.flags|=98560,y=!1;else if(y=Hu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ur]=s}else Po(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;$t(s),y=!1}else qn!==null&&(df(qn),qn=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(nt.current&1)!==0?Et===0&&(Et=3):mf())),s.updateQueue!==null&&(s.flags|=4),$t(s),null);case 4:return No(),ef(i,s),i===null&&Qa(s.stateNode.containerInfo),$t(s),null;case 10:return Cd(s.type._context),$t(s),null;case 17:return sn(s.type)&&Fu(),$t(s),null;case 19:if(Ge(nt),y=s.memoizedState,y===null)return $t(s),null;if(h=(s.flags&128)!==0,E=y.rendering,E===null)if(h)al(y,!1);else{if(Et!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(E=Yu(i),E!==null){for(s.flags|=128,al(y,!1),h=E.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=l,l=s.child;l!==null;)y=l,i=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,i=E.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return qe(nt,nt.current&1|2),s.child}i=i.sibling}y.tail!==null&&We()>Mo&&(s.flags|=128,h=!0,al(y,!1),s.lanes=4194304)}else{if(!h)if(i=Yu(E),i!==null){if(s.flags|=128,h=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),al(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!tt)return $t(s),null}else 2*We()-y.renderingStartTime>Mo&&l!==1073741824&&(s.flags|=128,h=!0,al(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,l=nt.current,qe(nt,h?l&1|2:l&1),s):($t(s),null);case 22:case 23:return pf(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&(s.mode&1)!==0?(yn&1073741824)!==0&&($t(s),s.subtreeFlags&6&&(s.flags|=8192)):$t(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function cI(i,s){switch(Td(s),s.tag){case 1:return sn(s.type)&&Fu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return No(),Ge(rn),Ge(Bt),Md(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Dd(s),null;case 13:if(Ge(nt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Po()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Ge(nt),null;case 4:return No(),null;case 10:return Cd(s.type._context),null;case 22:case 23:return pf(),null;case 24:return null;default:return null}}var sc=!1,Ht=!1,hI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Do(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){at(i,s,h)}else l.current=null}function tf(i,s,l){try{l()}catch(h){at(i,s,h)}}var $y=!1;function dI(i,s){if(fd=ui,i=Eg(),sd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,x=-1,k=-1,$=0,X=0,Z=i,Y=null;t:for(;;){for(var ae;Z!==l||p!==0&&Z.nodeType!==3||(x=E+p),Z!==y||h!==0&&Z.nodeType!==3||(k=E+h),Z.nodeType===3&&(E+=Z.nodeValue.length),(ae=Z.firstChild)!==null;)Y=Z,Z=ae;for(;;){if(Z===i)break t;if(Y===l&&++$===p&&(x=E),Y===y&&++X===h&&(k=E),(ae=Z.nextSibling)!==null)break;Z=Y,Y=Z.parentNode}Z=ae}l=x===-1||k===-1?null:{start:x,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(pd={focusedElem:i,selectionRange:l},ui=!1,ce=s;ce!==null;)if(s=ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ce=i;else for(;ce!==null;){s=ce;try{var he=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ct=he.memoizedState,U=s.stateNode,D=U.getSnapshotBeforeUpdate(s.elementType===s.type?de:Kn(s.type,de),ct);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){at(s,s.return,te)}if(i=s.sibling,i!==null){i.return=s.return,ce=i;break}ce=s.return}return he=$y,$y=!1,he}function ll(i,s,l){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var y=p.destroy;p.destroy=void 0,y!==void 0&&tf(s,l,y)}p=p.next}while(p!==h)}}function oc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==s)}}function nf(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function Hy(i){var s=i.alternate;s!==null&&(i.alternate=null,Hy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[ur],delete s[Xa],delete s[vd],delete s[GS],delete s[QS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Wy(i){return i.tag===5||i.tag===3||i.tag===4}function qy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Wy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function rf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ou));else if(h!==4&&(i=i.child,i!==null))for(rf(i,s,l),i=i.sibling;i!==null;)rf(i,s,l),i=i.sibling}function sf(i,s,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(sf(i,s,l),i=i.sibling;i!==null;)sf(i,s,l),i=i.sibling}var Mt=null,Gn=!1;function vi(i,s,l){for(l=l.child;l!==null;)Ky(i,s,l),l=l.sibling}function Ky(i,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(ss,l)}catch{}switch(l.tag){case 5:Ht||Do(l,s);case 6:var h=Mt,p=Gn;Mt=null,vi(i,s,l),Mt=h,Gn=p,Mt!==null&&(Gn?(i=Mt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(Gn?(i=Mt,l=l.stateNode,i.nodeType===8?yd(i.parentNode,l):i.nodeType===1&&yd(i,l),$n(i)):yd(Mt,l.stateNode));break;case 4:h=Mt,p=Gn,Mt=l.stateNode.containerInfo,Gn=!0,vi(i,s,l),Mt=h,Gn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&tf(l,s,E),p=p.next}while(p!==h)}vi(i,s,l);break;case 1:if(!Ht&&(Do(l,s),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(x){at(l,s,x)}vi(i,s,l);break;case 21:vi(i,s,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,vi(i,s,l),Ht=h):vi(i,s,l);break;default:vi(i,s,l)}}function Gy(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new hI),s.forEach(function(h){var p=EI.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function Qn(i,s){var l=s.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var y=i,E=s,x=E;e:for(;x!==null;){switch(x.tag){case 5:Mt=x.stateNode,Gn=!1;break e;case 3:Mt=x.stateNode.containerInfo,Gn=!0;break e;case 4:Mt=x.stateNode.containerInfo,Gn=!0;break e}x=x.return}if(Mt===null)throw Error(t(160));Ky(y,E,p),Mt=null,Gn=!1;var k=p.alternate;k!==null&&(k.return=null),p.return=null}catch($){at(p,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Qy(s,i),s=s.sibling}function Qy(i,s){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Qn(s,i),dr(i),h&4){try{ll(3,i,i.return),oc(3,i)}catch(de){at(i,i.return,de)}try{ll(5,i,i.return)}catch(de){at(i,i.return,de)}}break;case 1:Qn(s,i),dr(i),h&512&&l!==null&&Do(l,l.return);break;case 5:if(Qn(s,i),dr(i),h&512&&l!==null&&Do(l,l.return),i.flags&32){var p=i.stateNode;try{ti(p,"")}catch(de){at(i,i.return,de)}}if(h&4&&(p=i.stateNode,p!=null)){var y=i.memoizedProps,E=l!==null?l.memoizedProps:y,x=i.type,k=i.updateQueue;if(i.updateQueue=null,k!==null)try{x==="input"&&y.type==="radio"&&y.name!=null&&_a(p,y),Ca(x,E);var $=Ca(x,y);for(E=0;E<k.length;E+=2){var X=k[E],Z=k[E+1];X==="style"?Aa(p,Z):X==="dangerouslySetInnerHTML"?Sa(p,Z):X==="children"?ti(p,Z):J(p,X,Z,$)}switch(x){case"input":wa(p,y);break;case"textarea":Gs(p,y);break;case"select":var Y=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var ae=y.value;ae!=null?xr(p,!!y.multiple,ae,!1):Y!==!!y.multiple&&(y.defaultValue!=null?xr(p,!!y.multiple,y.defaultValue,!0):xr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Xa]=y}catch(de){at(i,i.return,de)}}break;case 6:if(Qn(s,i),dr(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,y=i.memoizedProps;try{p.nodeValue=y}catch(de){at(i,i.return,de)}}break;case 3:if(Qn(s,i),dr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{$n(s.containerInfo)}catch(de){at(i,i.return,de)}break;case 4:Qn(s,i),dr(i);break;case 13:Qn(s,i),dr(i),p=i.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(lf=We())),h&4&&Gy(i);break;case 22:if(X=l!==null&&l.memoizedState!==null,i.mode&1?(Ht=($=Ht)||X,Qn(s,i),Ht=$):Qn(s,i),dr(i),h&8192){if($=i.memoizedState!==null,(i.stateNode.isHidden=$)&&!X&&(i.mode&1)!==0)for(ce=i,X=i.child;X!==null;){for(Z=ce=X;ce!==null;){switch(Y=ce,ae=Y.child,Y.tag){case 0:case 11:case 14:case 15:ll(4,Y,Y.return);break;case 1:Do(Y,Y.return);var he=Y.stateNode;if(typeof he.componentWillUnmount=="function"){h=Y,l=Y.return;try{s=h,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){at(h,l,de)}}break;case 5:Do(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Jy(Z);continue}}ae!==null?(ae.return=Y,ce=ae):Jy(Z)}X=X.sibling}e:for(X=null,Z=i;;){if(Z.tag===5){if(X===null){X=Z;try{p=Z.stateNode,$?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(x=Z.stateNode,k=Z.memoizedProps.style,E=k!=null&&k.hasOwnProperty("display")?k.display:null,x.style.display=Ia("display",E))}catch(de){at(i,i.return,de)}}}else if(Z.tag===6){if(X===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(de){at(i,i.return,de)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===i)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===i)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===i)break e;X===Z&&(X=null),Z=Z.return}X===Z&&(X=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Qn(s,i),dr(i),h&4&&Gy(i);break;case 21:break;default:Qn(s,i),dr(i)}}function dr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(Wy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(ti(p,""),h.flags&=-33);var y=qy(i);sf(i,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,x=qy(i);rf(i,x,E);break;default:throw Error(t(161))}}catch(k){at(i,i.return,k)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function fI(i,s,l){ce=i,Yy(i)}function Yy(i,s,l){for(var h=(i.mode&1)!==0;ce!==null;){var p=ce,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||sc;if(!E){var x=p.alternate,k=x!==null&&x.memoizedState!==null||Ht;x=sc;var $=Ht;if(sc=E,(Ht=k)&&!$)for(ce=p;ce!==null;)E=ce,k=E.child,E.tag===22&&E.memoizedState!==null?Zy(p):k!==null?(k.return=E,ce=k):Zy(p);for(;y!==null;)ce=y,Yy(y),y=y.sibling;ce=p,sc=x,Ht=$}Xy(i)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,ce=y):Xy(i)}}function Xy(i){for(;ce!==null;){var s=ce;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ht||oc(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:Kn(s.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Jg(s,y,h);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Jg(s,E,l)}break;case 5:var x=s.stateNode;if(l===null&&s.flags&4){l=x;var k=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&l.focus();break;case"img":k.src&&(l.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var X=$.memoizedState;if(X!==null){var Z=X.dehydrated;Z!==null&&$n(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||s.flags&512&&nf(s)}catch(Y){at(s,s.return,Y)}}if(s===i){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function Jy(i){for(;ce!==null;){var s=ce;if(s===i){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function Zy(i){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{oc(4,s)}catch(k){at(s,l,k)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var p=s.return;try{h.componentDidMount()}catch(k){at(s,p,k)}}var y=s.return;try{nf(s)}catch(k){at(s,y,k)}break;case 5:var E=s.return;try{nf(s)}catch(k){at(s,E,k)}}}catch(k){at(s,s.return,k)}if(s===i){ce=null;break}var x=s.sibling;if(x!==null){x.return=s.return,ce=x;break}ce=s.return}}var pI=Math.ceil,ac=se.ReactCurrentDispatcher,of=se.ReactCurrentOwner,kn=se.ReactCurrentBatchConfig,Oe=0,Ct=null,pt=null,Lt=0,yn=0,bo=fi(0),Et=0,ul=null,_s=0,lc=0,af=0,cl=null,an=null,lf=0,Mo=1/0,Br=null,uc=!1,uf=null,_i=null,cc=!1,wi=null,hc=0,hl=0,cf=null,dc=-1,fc=0;function en(){return(Oe&6)!==0?We():dc!==-1?dc:dc=We()}function Ei(i){return(i.mode&1)===0?1:(Oe&2)!==0&&Lt!==0?Lt&-Lt:XS.transition!==null?(fc===0&&(fc=as()),fc):(i=De,i!==0||(i=window.event,i=i===void 0?16:Fa(i.type)),i)}function Yn(i,s,l,h){if(50<hl)throw hl=0,cf=null,Error(t(185));si(i,l,h),((Oe&2)===0||i!==Ct)&&(i===Ct&&((Oe&2)===0&&(lc|=l),Et===4&&Ti(i,Lt)),ln(i,h),l===1&&Oe===0&&(s.mode&1)===0&&(Mo=We()+500,Bu&&mi()))}function ln(i,s){var l=i.callbackNode;Rr(i,s);var h=os(i,i===Ct?Lt:0);if(h===0)l!==null&&ba(l),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(l!=null&&ba(l),s===1)i.tag===0?YS(tv.bind(null,i)):Ug(tv.bind(null,i)),qS(function(){(Oe&6)===0&&mi()}),l=null;else{switch(ai(h)){case 1:l=is;break;case 4:l=ni;break;case 16:l=Sn;break;case 536870912:l=fu;break;default:l=Sn}l=uv(l,ev.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function ev(i,s){if(dc=-1,fc=0,(Oe&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Lo()&&i.callbackNode!==l)return null;var h=os(i,i===Ct?Lt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||s)s=pc(i,h);else{s=h;var p=Oe;Oe|=2;var y=rv();(Ct!==i||Lt!==s)&&(Br=null,Mo=We()+500,Es(i,s));do try{yI();break}catch(x){nv(i,x)}while(!0);Pd(),ac.current=y,Oe=p,pt!==null?s=0:(Ct=null,Lt=0,s=Et)}if(s!==0){if(s===2&&(p=dn(i),p!==0&&(h=p,s=hf(i,p))),s===1)throw l=ul,Es(i,0),Ti(i,h),ln(i,We()),l;if(s===6)Ti(i,h);else{if(p=i.current.alternate,(h&30)===0&&!mI(p)&&(s=pc(i,h),s===2&&(y=dn(i),y!==0&&(h=y,s=hf(i,y))),s===1))throw l=ul,Es(i,0),Ti(i,h),ln(i,We()),l;switch(i.finishedWork=p,i.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:Ts(i,an,Br);break;case 3:if(Ti(i,h),(h&130023424)===h&&(s=lf+500-We(),10<s)){if(os(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){en(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=gd(Ts.bind(null,i,an,Br),s);break}Ts(i,an,Br);break;case 4:if(Ti(i,h),(h&4194240)===h)break;for(s=i.eventTimes,p=-1;0<h;){var E=31-Xt(h);y=1<<E,E=s[E],E>p&&(p=E),h&=~y}if(h=p,h=We()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*pI(h/1960))-h,10<h){i.timeoutHandle=gd(Ts.bind(null,i,an,Br),h);break}Ts(i,an,Br);break;case 5:Ts(i,an,Br);break;default:throw Error(t(329))}}}return ln(i,We()),i.callbackNode===l?ev.bind(null,i):null}function hf(i,s){var l=cl;return i.current.memoizedState.isDehydrated&&(Es(i,s).flags|=256),i=pc(i,s),i!==2&&(s=an,an=l,s!==null&&df(s)),i}function df(i){an===null?an=i:an.push.apply(an,i)}function mI(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],y=p.getSnapshot;p=p.value;try{if(!Wn(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ti(i,s){for(s&=~af,s&=~lc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Xt(s),h=1<<l;i[l]=-1,s&=~h}}function tv(i){if((Oe&6)!==0)throw Error(t(327));Lo();var s=os(i,0);if((s&1)===0)return ln(i,We()),null;var l=pc(i,s);if(i.tag!==0&&l===2){var h=dn(i);h!==0&&(s=h,l=hf(i,h))}if(l===1)throw l=ul,Es(i,0),Ti(i,s),ln(i,We()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ts(i,an,Br),ln(i,We()),null}function ff(i,s){var l=Oe;Oe|=1;try{return i(s)}finally{Oe=l,Oe===0&&(Mo=We()+500,Bu&&mi())}}function ws(i){wi!==null&&wi.tag===0&&(Oe&6)===0&&Lo();var s=Oe;Oe|=1;var l=kn.transition,h=De;try{if(kn.transition=null,De=1,i)return i()}finally{De=h,kn.transition=l,Oe=s,(Oe&6)===0&&mi()}}function pf(){yn=bo.current,Ge(bo)}function Es(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,WS(l)),pt!==null)for(l=pt.return;l!==null;){var h=l;switch(Td(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Fu();break;case 3:No(),Ge(rn),Ge(Bt),Md();break;case 5:Dd(h);break;case 4:No();break;case 13:Ge(nt);break;case 19:Ge(nt);break;case 10:Cd(h.type._context);break;case 22:case 23:pf()}l=l.return}if(Ct=i,pt=i=Si(i.current,null),Lt=yn=s,Et=0,ul=null,af=lc=_s=0,an=cl=null,gs!==null){for(s=0;s<gs.length;s++)if(l=gs[s],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,y=l.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}l.pending=h}gs=null}return i}function nv(i,s){do{var l=pt;try{if(Pd(),Xu.current=tc,Ju){for(var h=rt.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}Ju=!1}if(vs=0,Pt=wt=rt=null,rl=!1,il=0,of.current=null,l===null||l.return===null){Et=1,ul=s,pt=null;break}e:{var y=i,E=l.return,x=l,k=s;if(s=Lt,x.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,X=x,Z=X.tag;if((X.mode&1)===0&&(Z===0||Z===11||Z===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var ae=Py(E);if(ae!==null){ae.flags&=-257,Cy(ae,E,x,y,s),ae.mode&1&&xy(y,$,s),s=ae,k=$;var he=s.updateQueue;if(he===null){var de=new Set;de.add(k),s.updateQueue=de}else he.add(k);break e}else{if((s&1)===0){xy(y,$,s),mf();break e}k=Error(t(426))}}else if(tt&&x.mode&1){var ct=Py(E);if(ct!==null){(ct.flags&65536)===0&&(ct.flags|=256),Cy(ct,E,x,y,s),Ad(Vo(k,x));break e}}y=k=Vo(k,x),Et!==4&&(Et=2),cl===null?cl=[y]:cl.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var U=Iy(y,k,s);Xg(y,U);break e;case 1:x=k;var D=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(_i===null||!_i.has(z)))){y.flags|=65536,s&=-s,y.lanes|=s;var te=Ay(y,x,s);Xg(y,te);break e}}y=y.return}while(y!==null)}sv(l)}catch(pe){s=pe,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function rv(){var i=ac.current;return ac.current=tc,i===null?tc:i}function mf(){(Et===0||Et===3||Et===2)&&(Et=4),Ct===null||(_s&268435455)===0&&(lc&268435455)===0||Ti(Ct,Lt)}function pc(i,s){var l=Oe;Oe|=2;var h=rv();(Ct!==i||Lt!==s)&&(Br=null,Es(i,s));do try{gI();break}catch(p){nv(i,p)}while(!0);if(Pd(),Oe=l,ac.current=h,pt!==null)throw Error(t(261));return Ct=null,Lt=0,Et}function gI(){for(;pt!==null;)iv(pt)}function yI(){for(;pt!==null&&!hu();)iv(pt)}function iv(i){var s=lv(i.alternate,i,yn);i.memoizedProps=i.pendingProps,s===null?sv(i):pt=s,of.current=null}function sv(i){var s=i;do{var l=s.alternate;if(i=s.return,(s.flags&32768)===0){if(l=uI(l,s,yn),l!==null){pt=l;return}}else{if(l=cI(l,s),l!==null){l.flags&=32767,pt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Et=6,pt=null;return}}if(s=s.sibling,s!==null){pt=s;return}pt=s=i}while(s!==null);Et===0&&(Et=5)}function Ts(i,s,l){var h=De,p=kn.transition;try{kn.transition=null,De=1,vI(i,s,l,h)}finally{kn.transition=p,De=h}return null}function vI(i,s,l,h){do Lo();while(wi!==null);if((Oe&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if($e(i,y),i===Ct&&(pt=Ct=null,Lt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||cc||(cc=!0,uv(Sn,function(){return Lo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=kn.transition,kn.transition=null;var E=De;De=1;var x=Oe;Oe|=4,of.current=null,dI(i,l),Qy(l,i),jS(pd),ui=!!fd,pd=fd=null,i.current=l,fI(l),Xh(),Oe=x,De=E,kn.transition=y}else i.current=l;if(cc&&(cc=!1,wi=i,hc=p),y=i.pendingLanes,y===0&&(_i=null),pu(l.stateNode),ln(i,We()),s!==null)for(h=i.onRecoverableError,l=0;l<s.length;l++)p=s[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(uc)throw uc=!1,i=uf,uf=null,i;return(hc&1)!==0&&i.tag!==0&&Lo(),y=i.pendingLanes,(y&1)!==0?i===cf?hl++:(hl=0,cf=i):hl=0,mi(),null}function Lo(){if(wi!==null){var i=ai(hc),s=kn.transition,l=De;try{if(kn.transition=null,De=16>i?16:i,wi===null)var h=!1;else{if(i=wi,wi=null,hc=0,(Oe&6)!==0)throw Error(t(331));var p=Oe;for(Oe|=4,ce=i.current;ce!==null;){var y=ce,E=y.child;if((ce.flags&16)!==0){var x=y.deletions;if(x!==null){for(var k=0;k<x.length;k++){var $=x[k];for(ce=$;ce!==null;){var X=ce;switch(X.tag){case 0:case 11:case 15:ll(8,X,y)}var Z=X.child;if(Z!==null)Z.return=X,ce=Z;else for(;ce!==null;){X=ce;var Y=X.sibling,ae=X.return;if(Hy(X),X===$){ce=null;break}if(Y!==null){Y.return=ae,ce=Y;break}ce=ae}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ct=de.sibling;de.sibling=null,de=ct}while(de!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,ce=E;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:ll(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,ce=U;break e}ce=y.return}}var D=i.current;for(ce=D;ce!==null;){E=ce;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,ce=z;else e:for(E=D;ce!==null;){if(x=ce,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:oc(9,x)}}catch(pe){at(x,x.return,pe)}if(x===E){ce=null;break e}var te=x.sibling;if(te!==null){te.return=x.return,ce=te;break e}ce=x.return}}if(Oe=p,mi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(ss,i)}catch{}h=!0}return h}finally{De=l,kn.transition=s}}return!1}function ov(i,s,l){s=Vo(l,s),s=Iy(i,s,1),i=yi(i,s,1),s=en(),i!==null&&(si(i,1,s),ln(i,s))}function at(i,s,l){if(i.tag===3)ov(i,i,l);else for(;s!==null;){if(s.tag===3){ov(s,i,l);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(_i===null||!_i.has(h))){i=Vo(l,i),i=Ay(s,i,1),s=yi(s,i,1),i=en(),s!==null&&(si(s,1,i),ln(s,i));break}}s=s.return}}function _I(i,s,l){var h=i.pingCache;h!==null&&h.delete(s),s=en(),i.pingedLanes|=i.suspendedLanes&l,Ct===i&&(Lt&l)===l&&(Et===4||Et===3&&(Lt&130023424)===Lt&&500>We()-lf?Es(i,0):af|=l),ln(i,s)}function av(i,s){s===0&&((i.mode&1)===0?s=1:(s=io,io<<=1,(io&130023424)===0&&(io=4194304)));var l=en();i=jr(i,s),i!==null&&(si(i,s,l),ln(i,l))}function wI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),av(i,l)}function EI(i,s){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),av(i,l)}var lv;lv=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||rn.current)on=!0;else{if((i.lanes&l)===0&&(s.flags&128)===0)return on=!1,lI(i,s,l);on=(i.flags&131072)!==0}else on=!1,tt&&(s.flags&1048576)!==0&&Bg(s,$u,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;ic(i,s),i=s.pendingProps;var p=Io(s,Bt.current);ko(s,l),p=jd(null,s,h,i,p,l);var y=Fd();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,sn(h)?(y=!0,Uu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Nd(s),p.updater=nc,s.stateNode=p,p._reactInternals=s,Wd(s,h,i,l),s=Qd(null,s,h,!0,y,l)):(s.tag=0,tt&&y&&Ed(s),Zt(null,s,p,l),s=s.child),s;case 16:h=s.elementType;e:{switch(ic(i,s),i=s.pendingProps,p=h._init,h=p(h._payload),s.type=h,p=s.tag=SI(h),i=Kn(h,i),p){case 0:s=Gd(null,s,h,i,l);break e;case 1:s=by(null,s,h,i,l);break e;case 11:s=Ry(null,s,h,i,l);break e;case 14:s=ky(null,s,h,Kn(h.type,i),l);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Gd(i,s,h,p,l);case 1:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),by(i,s,h,p,l);case 3:e:{if(My(s),i===null)throw Error(t(387));h=s.pendingProps,y=s.memoizedState,p=y.element,Yg(i,s),Qu(s,h,null,l);var E=s.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Vo(Error(t(423)),s),s=Ly(i,s,h,l,p);break e}else if(h!==p){p=Vo(Error(t(424)),s),s=Ly(i,s,h,l,p);break e}else for(gn=di(s.stateNode.containerInfo.firstChild),mn=s,tt=!0,qn=null,l=Gg(s,null,h,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Po(),h===p){s=Ur(i,s,l);break e}Zt(i,s,h,l)}s=s.child}return s;case 5:return Zg(s),i===null&&Id(s),h=s.type,p=s.pendingProps,y=i!==null?i.memoizedProps:null,E=p.children,md(h,p)?E=null:y!==null&&md(h,y)&&(s.flags|=32),Dy(i,s),Zt(i,s,E,l),s.child;case 6:return i===null&&Id(s),null;case 13:return Oy(i,s,l);case 4:return Vd(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Co(s,null,h,l):Zt(i,s,h,l),s.child;case 11:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),Ry(i,s,h,p,l);case 7:return Zt(i,s,s.pendingProps,l),s.child;case 8:return Zt(i,s,s.pendingProps.children,l),s.child;case 12:return Zt(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(h=s.type._context,p=s.pendingProps,y=s.memoizedProps,E=p.value,qe(qu,h._currentValue),h._currentValue=E,y!==null)if(Wn(y.value,E)){if(y.children===p.children&&!rn.current){s=Ur(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var x=y.dependencies;if(x!==null){E=y.child;for(var k=x.firstContext;k!==null;){if(k.context===h){if(y.tag===1){k=Fr(-1,l&-l),k.tag=2;var $=y.updateQueue;if($!==null){$=$.shared;var X=$.pending;X===null?k.next=k:(k.next=X.next,X.next=k),$.pending=k}}y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),Rd(y.return,l,s),x.lanes|=l;break}k=k.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=l,x=E.alternate,x!==null&&(x.lanes|=l),Rd(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Zt(i,s,p.children,l),s=s.child}return s;case 9:return p=s.type,h=s.pendingProps.children,ko(s,l),p=Cn(p),h=h(p),s.flags|=1,Zt(i,s,h,l),s.child;case 14:return h=s.type,p=Kn(h,s.pendingProps),p=Kn(h.type,p),ky(i,s,h,p,l);case 15:return Ny(i,s,s.type,s.pendingProps,l);case 17:return h=s.type,p=s.pendingProps,p=s.elementType===h?p:Kn(h,p),ic(i,s),s.tag=1,sn(h)?(i=!0,Uu(s)):i=!1,ko(s,l),Ty(s,h,p),Wd(s,h,p,l),Qd(null,s,h,!0,i,l);case 19:return Fy(i,s,l);case 22:return Vy(i,s,l)}throw Error(t(156,s.tag))};function uv(i,s){return no(i,s)}function TI(i,s,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,s,l,h){return new TI(i,s,l,h)}function gf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function SI(i){if(typeof i=="function")return gf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===j)return 11;if(i===Nt)return 14}return 2}function Si(i,s){var l=i.alternate;return l===null?(l=Nn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function mc(i,s,l,h,p,y){var E=2;if(h=i,typeof i=="function")gf(i)&&(E=1);else if(typeof i=="string")E=5;else e:switch(i){case N:return Ss(l.children,p,y,s);case I:E=8,p|=8;break;case P:return i=Nn(12,l,s,p|2),i.elementType=P,i.lanes=y,i;case R:return i=Nn(13,l,s,p),i.elementType=R,i.lanes=y,i;case Ze:return i=Nn(19,l,s,p),i.elementType=Ze,i.lanes=y,i;case Ae:return gc(l,p,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:E=10;break e;case b:E=9;break e;case j:E=11;break e;case Nt:E=14;break e;case Vt:E=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=Nn(E,l,s,p),s.elementType=i,s.type=h,s.lanes=y,s}function Ss(i,s,l,h){return i=Nn(7,i,h,s),i.lanes=l,i}function gc(i,s,l,h){return i=Nn(22,i,h,s),i.elementType=Ae,i.lanes=l,i.stateNode={isHidden:!1},i}function yf(i,s,l){return i=Nn(6,i,null,s),i.lanes=l,i}function vf(i,s,l){return s=Nn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function II(i,s,l,h,p){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function _f(i,s,l,h,p,y,E,x,k){return i=new II(i,s,l,x,k),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Nn(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nd(y),i}function AI(i,s,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:h==null?null:""+h,children:i,containerInfo:s,implementation:l}}function cv(i){if(!i)return pi;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(sn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(sn(l))return jg(i,l,s)}return s}function hv(i,s,l,h,p,y,E,x,k){return i=_f(l,h,!0,i,p,y,E,x,k),i.context=cv(null),l=i.current,h=en(),p=Ei(l),y=Fr(h,p),y.callback=s??null,yi(l,y,p),i.current.lanes=p,si(i,p,h),ln(i,h),i}function yc(i,s,l,h){var p=s.current,y=en(),E=Ei(p);return l=cv(l),s.context===null?s.context=l:s.pendingContext=l,s=Fr(y,E),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=yi(p,s,E),i!==null&&(Yn(i,p,E,y),Gu(i,p,E)),E}function vc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function dv(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function wf(i,s){dv(i,s),(i=i.alternate)&&dv(i,s)}function xI(){return null}var fv=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ef(i){this._internalRoot=i}_c.prototype.render=Ef.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));yc(i,s,null,null)},_c.prototype.unmount=Ef.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;ws(function(){yc(null,i,null,null)}),s[br]=null}};function _c(i){this._internalRoot=i}_c.prototype.unstable_scheduleHydration=function(i){if(i){var s=_u();i={blockedOn:null,target:i,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,i),l===0&&Tu(i)}};function Tf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function pv(){}function PI(i,s,l,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var $=vc(E);y.call($)}}var E=hv(s,h,i,0,null,!1,!1,"",pv);return i._reactRootContainer=E,i[br]=E.current,Qa(i.nodeType===8?i.parentNode:i),ws(),E}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var x=h;h=function(){var $=vc(k);x.call($)}}var k=_f(i,0,!1,null,null,!1,!1,"",pv);return i._reactRootContainer=k,i[br]=k.current,Qa(i.nodeType===8?i.parentNode:i),ws(function(){yc(s,k,l,h)}),k}function Ec(i,s,l,h,p){var y=l._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var x=p;p=function(){var k=vc(E);x.call(k)}}yc(s,E,i,p)}else E=PI(l,s,i,p,h);return vc(E)}yu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=ri(s.pendingLanes);l!==0&&(oi(s,l|1),ln(s,We()),(Oe&6)===0&&(Mo=We()+500,mi()))}break;case 13:ws(function(){var h=jr(i,1);if(h!==null){var p=en();Yn(h,i,1,p)}}),wf(i,1)}},so=function(i){if(i.tag===13){var s=jr(i,134217728);if(s!==null){var l=en();Yn(s,i,134217728,l)}wf(i,134217728)}},vu=function(i){if(i.tag===13){var s=Ei(i),l=jr(i,s);if(l!==null){var h=en();Yn(l,i,s,h)}wf(i,s)}},_u=function(){return De},wu=function(i,s){var l=De;try{return De=i,s()}finally{De=l}},Ys=function(i,s,l){switch(s){case"input":if(wa(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var h=l[s];if(h!==i&&h.form===i.form){var p=ju(h);if(!p)throw Error(t(90));Hs(h),wa(h,p)}}}break;case"textarea":Gs(i,l);break;case"select":s=l.value,s!=null&&xr(i,!!l.multiple,s,!1)}},es=ff,ka=ws;var CI={usingClientEntryPoint:!1,Events:[Ja,To,ju,rr,Ra,ff]},dl={findFiberByHostInstance:ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:dl.bundleType,version:dl.version,rendererPackageName:dl.rendererPackageName,rendererConfig:dl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Da(i),i===null?null:i.stateNode},findFiberByHostInstance:dl.findFiberByHostInstance||xI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{ss=Tc.inject(RI),hn=Tc}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI,un.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tf(s))throw Error(t(200));return AI(i,s,null,l)},un.createRoot=function(i,s){if(!Tf(i))throw Error(t(299));var l=!1,h="",p=fv;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=_f(i,1,!1,null,null,l,!1,h,p),i[br]=s.current,Qa(i.nodeType===8?i.parentNode:i),new Ef(s)},un.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Da(s),i=i===null?null:i.stateNode,i},un.flushSync=function(i){return ws(i)},un.hydrate=function(i,s,l){if(!wc(s))throw Error(t(200));return Ec(null,i,s,!0,l)},un.hydrateRoot=function(i,s,l){if(!Tf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,y="",E=fv;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=hv(s,null,i,1,l??null,p,!1,y,E),i[br]=s.current,Qa(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new _c(s)},un.render=function(i,s,l){if(!wc(s))throw Error(t(200));return Ec(null,i,s,!1,l)},un.unmountComponentAtNode=function(i){if(!wc(i))throw Error(t(40));return i._reactRootContainer?(ws(function(){Ec(null,null,i,!1,function(){i._reactRootContainer=null,i[br]=null})}),!0):!1},un.unstable_batchedUpdates=ff,un.unstable_renderSubtreeIntoContainer=function(i,s,l,h){if(!wc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Ec(i,s,l,!1,h)},un.version="18.3.1-next-f1338f8080-20240426",un}var Tv;function OI(){if(Tv)return Af.exports;Tv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Af.exports=LI(),Af.exports}var Sv;function jI(){if(Sv)return Sc;Sv=1;var n=OI();return Sc.createRoot=n.createRoot,Sc.hydrateRoot=n.hydrateRoot,Sc}var FI=jI();const UI=_1(FI),BI="modulepreload",zI=function(n){return"/Costas_Portfolio/"+n},Iv={},$I=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let f=function(m){return Promise.all(m.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");o=f(t.map(m=>{if(m=zI(m),m in Iv)return;Iv[m]=!0;const v=m.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${w}`))return;const T=document.createElement("link");if(T.rel=v?"stylesheet":BI,v||(T.as="script"),T.crossOrigin="",T.href=m,d&&T.setAttribute("nonce",d),document.head.appendChild(T),v)return new Promise((C,L)=>{T.addEventListener("load",C),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${m}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return o.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},HI=()=>{};var Av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},E1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,v=a>>2,w=(a&3)<<4|d>>4;let T=(d&15)<<2|m>>6,C=m&63;f||(C=64,u||(T=64)),r.push(t[v],t[w],t[T],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(w1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new qI;const T=a<<2|d>>4;if(r.push(T),m!==64){const C=d<<4&240|m>>2;if(r.push(C),w!==64){const L=m<<6&192|w;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class qI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(n){const e=w1(n);return E1.encodeByteArray(e,!0)},Gc=function(n){return KI(n).replace(/\./g,"")},T1=function(n){try{return E1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=()=>GI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof Av>"u")return;const n=Av.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&T1(n[1]);return e&&JSON.parse(e)},Sh=()=>{try{return HI()||QI()||YI()||XI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},S1=n=>Sh()?.emulatorHosts?.[n],JI=n=>{const e=S1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},I1=()=>Sh()?.config,A1=n=>Sh()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Gc(JSON.stringify(t)),Gc(JSON.stringify(u)),""].join(".")}const Il={};function t2(){const n={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?n.emulator.push(e):n.prod.push(e);return n}function n2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let xv=!1;function P1(n,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||Il[n]===e||Il[n]||xv)return;Il[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",a=t2().prod.length>0;function u(){const T=document.getElementById(r);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,C){T.setAttribute("width","24"),T.setAttribute("id",C),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{xv=!0,u()},T}function v(T,C){T.setAttribute("id",C),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=n2(r),C=t("text"),L=document.getElementById(C)||document.createElement("span"),B=t("learnmore"),M=document.getElementById(B)||document.createElement("a"),W=t("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const J=T.element;d(J),v(M,B);const se=m();f(G,W),J.append(G,L,M,se),document.body.appendChild(J)}a?(L.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function i2(){const n=Sh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function s2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function a2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function u2(){return!i2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function c2(){try{return typeof indexedDB=="object"}catch{return!1}}function h2(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="FirebaseError";class Zr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=d2,Object.setPrototypeOf(this,Zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?f2(a,r):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Zr(o,d,r)}}function f2(n,e){return n.replace(p2,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const p2=/\{\$([^}]+)}/g;function m2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(Pv(a)&&Pv(u)){if(!Vs(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Pv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ml(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function gl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function g2(n,e){const t=new y2(n,e);return t.subscribe.bind(t)}class y2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");v2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Cf),o.error===void 0&&(o.error=Cf),o.complete===void 0&&(o.complete=Cf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v2(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Cf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(n){return n&&n._delegate?n._delegate:n}class Ds{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ZI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E2(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w2(n){return n===As?void 0:n}function E2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new _2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ke||(ke={}));const S2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},I2=ke.INFO,A2={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},x2=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=A2[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=I2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const P2=(n,e)=>e.some(t=>n instanceof t);let Cv,Rv;function C2(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function R2(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C1=new WeakMap,ep=new WeakMap,R1=new WeakMap,Rf=new WeakMap,$p=new WeakMap;function k2(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Vi(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&C1.set(t,n)}).catch(()=>{}),$p.set(e,n),e}function N2(n){if(ep.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});ep.set(n,e)}let tp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ep.get(n);if(e==="objectStoreNames")return n.objectStoreNames||R1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function V2(n){tp=n(tp)}function D2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(kf(this),e,...t);return R1.set(r,e.sort?e.sort():[e]),Vi(r)}:R2().includes(n)?function(...e){return n.apply(kf(this),e),Vi(C1.get(this))}:function(...e){return Vi(n.apply(kf(this),e))}}function b2(n){return typeof n=="function"?D2(n):(n instanceof IDBTransaction&&N2(n),P2(n,C2())?new Proxy(n,tp):n)}function Vi(n){if(n instanceof IDBRequest)return k2(n);if(Rf.has(n))return Rf.get(n);const e=b2(n);return e!==n&&(Rf.set(n,e),$p.set(e,n)),e}const kf=n=>$p.get(n);function M2(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),d=Vi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Vi(u.result),f.oldVersion,f.newVersion,Vi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const L2=["get","getKey","getAll","getAllKeys","count"],O2=["put","add","delete","clear"],Nf=new Map;function kv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=O2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||L2.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Nf.set(e,a),a}V2(n=>({...n,get:(e,t,r)=>kv(e,t)||n.get(e,t,r),has:(e,t)=>!!kv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F2(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function F2(n){return n.getComponent()?.type==="VERSION"}const np="@firebase/app",Nv="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new zp("@firebase/app"),U2="@firebase/app-compat",B2="@firebase/analytics-compat",z2="@firebase/analytics",$2="@firebase/app-check-compat",H2="@firebase/app-check",W2="@firebase/auth",q2="@firebase/auth-compat",K2="@firebase/database",G2="@firebase/data-connect",Q2="@firebase/database-compat",Y2="@firebase/functions",X2="@firebase/functions-compat",J2="@firebase/installations",Z2="@firebase/installations-compat",eA="@firebase/messaging",tA="@firebase/messaging-compat",nA="@firebase/performance",rA="@firebase/performance-compat",iA="@firebase/remote-config",sA="@firebase/remote-config-compat",oA="@firebase/storage",aA="@firebase/storage-compat",lA="@firebase/firestore",uA="@firebase/ai",cA="@firebase/firestore-compat",hA="firebase",dA="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="[DEFAULT]",fA={[np]:"fire-core",[U2]:"fire-core-compat",[z2]:"fire-analytics",[B2]:"fire-analytics-compat",[H2]:"fire-app-check",[$2]:"fire-app-check-compat",[W2]:"fire-auth",[q2]:"fire-auth-compat",[K2]:"fire-rtdb",[G2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[Y2]:"fire-fn",[X2]:"fire-fn-compat",[J2]:"fire-iid",[Z2]:"fire-iid-compat",[eA]:"fire-fcm",[tA]:"fire-fcm-compat",[nA]:"fire-perf",[rA]:"fire-perf-compat",[iA]:"fire-rc",[sA]:"fire-rc-compat",[oA]:"fire-gcs",[aA]:"fire-gcs-compat",[lA]:"fire-fst",[cA]:"fire-fst-compat",[uA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new Map,pA=new Map,ip=new Map;function Vv(n,e){try{n.container.addComponent(e)}catch(t){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Jo(n){const e=n.name;if(ip.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;ip.set(e,n);for(const t of Qc.values())Vv(t,n);for(const t of pA.values())Vv(t,n);return!0}function Hp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Gl("app","Firebase",mA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=dA;function k1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:rp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(t||(t=I1()),!t)throw Di.create("no-options");const a=Qc.get(o);if(a){if(Vs(t,a.options)&&Vs(r,a.config))return a;throw Di.create("duplicate-app",{appName:o})}const u=new T2(o);for(const f of ip.values())u.addComponent(f);const d=new gA(t,r,u);return Qc.set(o,d),d}function N1(n=rp){const e=Qc.get(n);if(!e&&n===rp&&I1())return k1();if(!e)throw Di.create("no-app",{appName:n});return e}function bi(n,e,t){let r=fA[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(u.join(" "));return}Jo(new Ds(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firebase-heartbeat-database",vA=1,bl="firebase-heartbeat-store";let Vf=null;function V1(){return Vf||(Vf=M2(yA,vA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(bl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),Vf}async function _A(n){try{const t=(await V1()).transaction(bl),r=await t.objectStore(bl).get(D1(n));return await t.done,r}catch(e){if(e instanceof Zr)Gr.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e?.message});Gr.warn(t.message)}}}async function Dv(n,e){try{const r=(await V1()).transaction(bl,"readwrite");await r.objectStore(bl).put(e,D1(n)),await r.done}catch(t){if(t instanceof Zr)Gr.warn(t.message);else{const r=Di.create("idb-set",{originalErrorMessage:t?.message});Gr.warn(r.message)}}}function D1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=1024,EA=30;class TA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>EA){const o=AA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Gr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=bv(),{heartbeatsToSend:t,unsentEntries:r}=SA(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Gr.warn(e),""}}}function bv(){return new Date().toISOString().substring(0,10)}function SA(n,e=wA){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Mv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Mv(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class IA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c2()?h2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await _A(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Mv(n){return Gc(JSON.stringify({version:2,heartbeats:n})).length}function AA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(n){Jo(new Ds("platform-logger",e=>new j2(e),"PRIVATE")),Jo(new Ds("heartbeat",e=>new TA(e),"PRIVATE")),bi(np,Nv,n),bi(np,Nv,"esm2020"),bi("fire-js","")}xA("");var PA="firebase",CA="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bi(PA,CA,"app");var Lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,b1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,I){function P(){}P.prototype=I.prototype,N.D=I.prototype,N.prototype=new P,N.prototype.constructor=N,N.C=function(V,b,j){for(var R=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)R[Ze-2]=arguments[Ze];return I.prototype[b].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,I,P){P||(P=0);var V=Array(16);if(typeof I=="string")for(var b=0;16>b;++b)V[b]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(b=0;16>b;++b)V[b]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=N.g[0],P=N.g[1],b=N.g[2];var j=N.g[3],R=I+(j^P&(b^j))+V[0]+3614090360&4294967295;I=P+(R<<7&4294967295|R>>>25),R=j+(b^I&(P^b))+V[1]+3905402710&4294967295,j=I+(R<<12&4294967295|R>>>20),R=b+(P^j&(I^P))+V[2]+606105819&4294967295,b=j+(R<<17&4294967295|R>>>15),R=P+(I^b&(j^I))+V[3]+3250441966&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(j^P&(b^j))+V[4]+4118548399&4294967295,I=P+(R<<7&4294967295|R>>>25),R=j+(b^I&(P^b))+V[5]+1200080426&4294967295,j=I+(R<<12&4294967295|R>>>20),R=b+(P^j&(I^P))+V[6]+2821735955&4294967295,b=j+(R<<17&4294967295|R>>>15),R=P+(I^b&(j^I))+V[7]+4249261313&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(j^P&(b^j))+V[8]+1770035416&4294967295,I=P+(R<<7&4294967295|R>>>25),R=j+(b^I&(P^b))+V[9]+2336552879&4294967295,j=I+(R<<12&4294967295|R>>>20),R=b+(P^j&(I^P))+V[10]+4294925233&4294967295,b=j+(R<<17&4294967295|R>>>15),R=P+(I^b&(j^I))+V[11]+2304563134&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(j^P&(b^j))+V[12]+1804603682&4294967295,I=P+(R<<7&4294967295|R>>>25),R=j+(b^I&(P^b))+V[13]+4254626195&4294967295,j=I+(R<<12&4294967295|R>>>20),R=b+(P^j&(I^P))+V[14]+2792965006&4294967295,b=j+(R<<17&4294967295|R>>>15),R=P+(I^b&(j^I))+V[15]+1236535329&4294967295,P=b+(R<<22&4294967295|R>>>10),R=I+(b^j&(P^b))+V[1]+4129170786&4294967295,I=P+(R<<5&4294967295|R>>>27),R=j+(P^b&(I^P))+V[6]+3225465664&4294967295,j=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(j^I))+V[11]+643717713&4294967295,b=j+(R<<14&4294967295|R>>>18),R=P+(j^I&(b^j))+V[0]+3921069994&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(b^j&(P^b))+V[5]+3593408605&4294967295,I=P+(R<<5&4294967295|R>>>27),R=j+(P^b&(I^P))+V[10]+38016083&4294967295,j=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(j^I))+V[15]+3634488961&4294967295,b=j+(R<<14&4294967295|R>>>18),R=P+(j^I&(b^j))+V[4]+3889429448&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(b^j&(P^b))+V[9]+568446438&4294967295,I=P+(R<<5&4294967295|R>>>27),R=j+(P^b&(I^P))+V[14]+3275163606&4294967295,j=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(j^I))+V[3]+4107603335&4294967295,b=j+(R<<14&4294967295|R>>>18),R=P+(j^I&(b^j))+V[8]+1163531501&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(b^j&(P^b))+V[13]+2850285829&4294967295,I=P+(R<<5&4294967295|R>>>27),R=j+(P^b&(I^P))+V[2]+4243563512&4294967295,j=I+(R<<9&4294967295|R>>>23),R=b+(I^P&(j^I))+V[7]+1735328473&4294967295,b=j+(R<<14&4294967295|R>>>18),R=P+(j^I&(b^j))+V[12]+2368359562&4294967295,P=b+(R<<20&4294967295|R>>>12),R=I+(P^b^j)+V[5]+4294588738&4294967295,I=P+(R<<4&4294967295|R>>>28),R=j+(I^P^b)+V[8]+2272392833&4294967295,j=I+(R<<11&4294967295|R>>>21),R=b+(j^I^P)+V[11]+1839030562&4294967295,b=j+(R<<16&4294967295|R>>>16),R=P+(b^j^I)+V[14]+4259657740&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(P^b^j)+V[1]+2763975236&4294967295,I=P+(R<<4&4294967295|R>>>28),R=j+(I^P^b)+V[4]+1272893353&4294967295,j=I+(R<<11&4294967295|R>>>21),R=b+(j^I^P)+V[7]+4139469664&4294967295,b=j+(R<<16&4294967295|R>>>16),R=P+(b^j^I)+V[10]+3200236656&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(P^b^j)+V[13]+681279174&4294967295,I=P+(R<<4&4294967295|R>>>28),R=j+(I^P^b)+V[0]+3936430074&4294967295,j=I+(R<<11&4294967295|R>>>21),R=b+(j^I^P)+V[3]+3572445317&4294967295,b=j+(R<<16&4294967295|R>>>16),R=P+(b^j^I)+V[6]+76029189&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(P^b^j)+V[9]+3654602809&4294967295,I=P+(R<<4&4294967295|R>>>28),R=j+(I^P^b)+V[12]+3873151461&4294967295,j=I+(R<<11&4294967295|R>>>21),R=b+(j^I^P)+V[15]+530742520&4294967295,b=j+(R<<16&4294967295|R>>>16),R=P+(b^j^I)+V[2]+3299628645&4294967295,P=b+(R<<23&4294967295|R>>>9),R=I+(b^(P|~j))+V[0]+4096336452&4294967295,I=P+(R<<6&4294967295|R>>>26),R=j+(P^(I|~b))+V[7]+1126891415&4294967295,j=I+(R<<10&4294967295|R>>>22),R=b+(I^(j|~P))+V[14]+2878612391&4294967295,b=j+(R<<15&4294967295|R>>>17),R=P+(j^(b|~I))+V[5]+4237533241&4294967295,P=b+(R<<21&4294967295|R>>>11),R=I+(b^(P|~j))+V[12]+1700485571&4294967295,I=P+(R<<6&4294967295|R>>>26),R=j+(P^(I|~b))+V[3]+2399980690&4294967295,j=I+(R<<10&4294967295|R>>>22),R=b+(I^(j|~P))+V[10]+4293915773&4294967295,b=j+(R<<15&4294967295|R>>>17),R=P+(j^(b|~I))+V[1]+2240044497&4294967295,P=b+(R<<21&4294967295|R>>>11),R=I+(b^(P|~j))+V[8]+1873313359&4294967295,I=P+(R<<6&4294967295|R>>>26),R=j+(P^(I|~b))+V[15]+4264355552&4294967295,j=I+(R<<10&4294967295|R>>>22),R=b+(I^(j|~P))+V[6]+2734768916&4294967295,b=j+(R<<15&4294967295|R>>>17),R=P+(j^(b|~I))+V[13]+1309151649&4294967295,P=b+(R<<21&4294967295|R>>>11),R=I+(b^(P|~j))+V[4]+4149444226&4294967295,I=P+(R<<6&4294967295|R>>>26),R=j+(P^(I|~b))+V[11]+3174756917&4294967295,j=I+(R<<10&4294967295|R>>>22),R=b+(I^(j|~P))+V[2]+718787259&4294967295,b=j+(R<<15&4294967295|R>>>17),R=P+(j^(b|~I))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(b+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+b&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.u=function(N,I){I===void 0&&(I=N.length);for(var P=I-this.blockSize,V=this.B,b=this.h,j=0;j<I;){if(b==0)for(;j<=P;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<I;)if(V[b++]=N.charCodeAt(j++),b==this.blockSize){o(this,V),b=0;break}}else for(;j<I;)if(V[b++]=N[j++],b==this.blockSize){o(this,V),b=0;break}}this.h=b,this.o+=I},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;var P=8*this.o;for(I=N.length-8;I<N.length;++I)N[I]=P&255,P/=256;for(this.u(N),N=Array(16),I=P=0;4>I;++I)for(var V=0;32>V;V+=8)N[P++]=this.g[I]>>>V&255;return N};function a(N,I){var P=d;return Object.prototype.hasOwnProperty.call(P,N)?P[N]:P[N]=I(N)}function u(N,I){this.h=I;for(var P=[],V=!0,b=N.length-1;0<=b;b--){var j=N[b]|0;V&&j==I||(P[b]=j,V=!1)}this.g=P}var d={};function f(N){return-128<=N&&128>N?a(N,function(I){return new u([I|0],0>I?-1:0)}):new u([N|0],0>N?-1:0)}function m(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return M(m(-N));for(var I=[],P=1,V=0;N>=P;V++)I[V]=N/P|0,P*=4294967296;return new u(I,0)}function v(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return M(v(N.substring(1),I));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(I,8)),V=w,b=0;b<N.length;b+=8){var j=Math.min(8,N.length-b),R=parseInt(N.substring(b,b+j),I);8>j?(j=m(Math.pow(I,j)),V=V.j(j).add(m(R))):(V=V.j(P),V=V.add(m(R)))}return V}var w=f(0),T=f(1),C=f(16777216);n=u.prototype,n.m=function(){if(B(this))return-M(this).m();for(var N=0,I=1,P=0;P<this.g.length;P++){var V=this.i(P);N+=(0<=V?V:4294967296+V)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L(this))return"0";if(B(this))return"-"+M(this).toString(N);for(var I=m(Math.pow(N,6)),P=this,V="";;){var b=se(P,I).g;P=W(P,b.j(I));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(N);if(P=b,L(P))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function L(N){if(N.h!=0)return!1;for(var I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function B(N){return N.h==-1}n.l=function(N){return N=W(this,N),B(N)?-1:L(N)?0:1};function M(N){for(var I=N.g.length,P=[],V=0;V<I;V++)P[V]=~N.g[V];return new u(P,~N.h).add(T)}n.abs=function(){return B(this)?M(this):this},n.add=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],V=0,b=0;b<=I;b++){var j=V+(this.i(b)&65535)+(N.i(b)&65535),R=(j>>>16)+(this.i(b)>>>16)+(N.i(b)>>>16);V=R>>>16,j&=65535,R&=65535,P[b]=R<<16|j}return new u(P,P[P.length-1]&-2147483648?-1:0)};function W(N,I){return N.add(M(I))}n.j=function(N){if(L(this)||L(N))return w;if(B(this))return B(N)?M(this).j(M(N)):M(M(this).j(N));if(B(N))return M(this.j(M(N)));if(0>this.l(C)&&0>N.l(C))return m(this.m()*N.m());for(var I=this.g.length+N.g.length,P=[],V=0;V<2*I;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(var b=0;b<N.g.length;b++){var j=this.i(V)>>>16,R=this.i(V)&65535,Ze=N.i(b)>>>16,Nt=N.i(b)&65535;P[2*V+2*b]+=R*Nt,G(P,2*V+2*b),P[2*V+2*b+1]+=j*Nt,G(P,2*V+2*b+1),P[2*V+2*b+1]+=R*Ze,G(P,2*V+2*b+1),P[2*V+2*b+2]+=j*Ze,G(P,2*V+2*b+2)}for(V=0;V<I;V++)P[V]=P[2*V+1]<<16|P[2*V];for(V=I;V<2*I;V++)P[V]=0;return new u(P,0)};function G(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function J(N,I){this.g=N,this.h=I}function se(N,I){if(L(I))throw Error("division by zero");if(L(N))return new J(w,w);if(B(N))return I=se(M(N),I),new J(M(I.g),M(I.h));if(B(I))return I=se(N,M(I)),new J(M(I.g),I.h);if(30<N.g.length){if(B(N)||B(I))throw Error("slowDivide_ only works with positive integers.");for(var P=T,V=I;0>=V.l(N);)P=ie(P),V=ie(V);var b=ue(P,1),j=ue(V,1);for(V=ue(V,2),P=ue(P,2);!L(V);){var R=j.add(V);0>=R.l(N)&&(b=b.add(P),j=R),V=ue(V,1),P=ue(P,1)}return I=W(N,b.j(I)),new J(b,I)}for(b=w;0<=N.l(I);){for(P=Math.max(1,Math.floor(N.m()/I.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=m(P),R=j.j(I);B(R)||0<R.l(N);)P-=V,j=m(P),R=j.j(I);L(j)&&(j=T),b=b.add(j),N=W(N,R)}return new J(b,N)}n.A=function(N){return se(this,N).h},n.and=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],V=0;V<I;V++)P[V]=this.i(V)&N.i(V);return new u(P,this.h&N.h)},n.or=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],V=0;V<I;V++)P[V]=this.i(V)|N.i(V);return new u(P,this.h|N.h)},n.xor=function(N){for(var I=Math.max(this.g.length,N.g.length),P=[],V=0;V<I;V++)P[V]=this.i(V)^N.i(V);return new u(P,this.h^N.h)};function ie(N){for(var I=N.g.length+1,P=[],V=0;V<I;V++)P[V]=N.i(V)<<1|N.i(V-1)>>>31;return new u(P,N.h)}function ue(N,I){var P=I>>5;I%=32;for(var V=N.g.length-P,b=[],j=0;j<V;j++)b[j]=0<I?N.i(j+P)>>>I|N.i(j+P+1)<<32-I:N.i(j+P);return new u(b,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Mi=u}).apply(typeof Lv<"u"?Lv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var M1,yl,L1,Mc,sp,O1,j1,F1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var F=c[S];if(!(F in _))break e;_=_[F]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,F={next:function(){if(!S&&_<c.length){var H=_++;return{value:g(H,c[H]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),c.apply(g,F)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,T.apply(null,arguments)}function C(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,F,H){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return g.prototype[F].apply(S,re)}}function B(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function M(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const F=c.length||0,H=S.length||0;c.length=F+H;for(let re=0;re<H;re++)c[F+re]=S[re]}else c.push(S)}}class W{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function se(c){return se[" "](c),c}se[" "]=function(){};var ie=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ue(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function N(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function I(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)c[_]=S[_];for(let H=0;H<P.length;H++)_=P[H],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function b(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){d.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ze{constructor(){this.h=this.g=null}add(g,_){const S=Nt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Nt=new W(()=>new Vt,c=>c.reset());class Vt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ne=!1,me=new Ze,oe=()=>{const c=d.Promise.resolve(void 0);Ae=()=>{c.then(O)}};var O=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){j(_)}var g=Nt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function Ce(c,g){if(ge.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ie){e:{try{se(g.nodeName);var F=!0;break e}catch{}F=!1}F||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}L(Ce,ge);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,_,S,F){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=F,this.key=++Ue,this.da=this.fa=!1}function At(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ir(c){this.src=c,this.g={},this.h=0}Ir.prototype.add=function(c,g,_,S,F){var H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);var re=ei(c,g,S,F);return-1<re?(g=c[re],_||(g.fa=!1)):(g=new He(g,this.src,H,!!S,F),g.fa=_,c.push(g)),g};function Hs(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],F=Array.prototype.indexOf.call(S,g,void 0),H;(H=0<=F)&&Array.prototype.splice.call(S,F,1),H&&(At(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ei(c,g,_,S){for(var F=0;F<c.length;++F){var H=c[F];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==S)return F}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),Ws={};function _a(c,g,_,S,F){if(Array.isArray(g)){for(var H=0;H<g.length;H++)_a(c,g[H],_,S,F);return null}return _=Ta(_),c&&c[Fe]?c.K(g,_,m(S)?!!S.capture:!1,F):wa(c,g,_,!1,S,F)}function wa(c,g,_,S,F,H){if(!g)throw Error("Invalid event type");var re=m(F)?!!F.capture:!!F,ze=Ks(c);if(ze||(c[Yi]=ze=new Ir(c)),_=ze.add(g,_,S,re,H),_.proxy)return _;if(S=lu(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)Pe||(F=re),F===void 0&&(F=!1),c.addEventListener(g.toString(),S,F);else if(c.attachEvent)c.attachEvent(xr(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function lu(){function c(_){return g.call(c.src,c.listener,_)}const g=Ea;return c}function qs(c,g,_,S,F){if(Array.isArray(g))for(var H=0;H<g.length;H++)qs(c,g[H],_,S,F);else S=m(S)?!!S.capture:!!S,_=Ta(_),c&&c[Fe]?(c=c.i,g=String(g).toString(),g in c.g&&(H=c.g[g],_=ei(H,_,S,F),-1<_&&(At(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ks(c))&&(g=c.g[g.toString()],c=-1,g&&(c=ei(g,_,S,F)),(_=-1<c?g[c]:null)&&Ar(_))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Fe])Hs(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(xr(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=Ks(g))?(Hs(_,c),_.h==0&&(_.src=null,g[Yi]=null)):At(c)}}}function xr(c){return c in Ws?Ws[c]:Ws[c]="on"+c}function Ea(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ar(c),c=_.call(S,g)}return c}function Ks(c){return c=c[Yi],c instanceof Ir?c:null}var Gs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ta(c){return typeof c=="function"?c:(c[Gs]||(c[Gs]=function(g){return c.handleEvent(g)}),c[Gs])}function yt(){K.call(this),this.i=new Ir(this),this.M=this,this.F=null}L(yt,K),yt.prototype[Fe]=!0,yt.prototype.removeEventListener=function(c,g,_,S){qs(this,c,g,_,S)};function vt(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ge(g,c);else if(g instanceof ge)g.target=g.target||c;else{var F=g;g=new ge(S,c),V(g,F)}if(F=!0,_)for(var H=_.length-1;0<=H;H--){var re=g.g=_[H];F=Pr(re,S,!0,g)&&F}if(re=g.g=c,F=Pr(re,S,!0,g)&&F,F=Pr(re,S,!1,g)&&F,_)for(H=0;H<_.length;H++)re=g.g=_[H],F=Pr(re,S,!1,g)&&F}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)At(_[S]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},yt.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function Pr(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var F=!0,H=0;H<g.length;++H){var re=g[H];if(re&&!re.da&&re.capture==_){var ze=re.listener,_t=re.ha||re.src;re.fa&&Hs(c.i,re),F=ze.call(_t,S)!==!1&&F}}return F&&!S.defaultPrevented}function Sa(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function ti(c){c.g=Sa(()=>{c.g=null,c.i&&(c.i=!1,ti(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Xi extends K{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(c){K.call(this),this.h=c,this.g={}}L(Ji,K);var Ia=[];function Aa(c){ue(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ar(g)},c),c.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),Aa(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xa=d.JSON.stringify,Pa=d.JSON.parse,Ca=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Zi(){}Zi.prototype.h=null;function Qs(c){return c.h||(c.h=c.i())}function Ys(){}var Tn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ge.call(this,"d")}L(nr,ge);function Xs(){ge.call(this,"c")}L(Xs,ge);var rr={},Ra=null;function es(){return Ra=Ra||new yt}rr.La="serverreachability";function ka(c){ge.call(this,rr.La,c)}L(ka,ge);function Cr(c){const g=es();vt(g,new ka(g))}rr.STAT_EVENT="statevent";function Na(c,g){ge.call(this,rr.STAT_EVENT,c),this.stat=g}L(Na,ge);function ut(c){const g=es();vt(g,new Na(g,c))}rr.Ma="timingevent";function Js(c,g){ge.call(this,rr.Ma,c),this.size=g}L(Js,ge);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function ts(){this.g=!0}ts.prototype.xa=function(){this.g=!1};function ns(c,g,_,S,F,H){c.info(function(){if(c.g)if(H)for(var re="",ze=H.split("&"),_t=0;_t<ze.length;_t++){var Me=ze[_t].split("=");if(1<Me.length){var xt=Me[0];Me=Me[1];var ft=xt.split("_");re=2<=ft.length&&ft[1]=="type"?re+(xt+"="+Me+"&"):re+(xt+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+g+`
`+_+`
`+re})}function Zs(c,g,_,S,F,H,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+g+`
`+_+`
`+H+" "+re})}function On(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Yh(c,_)+(S?" "+S:"")})}function Va(c,g){c.info(function(){return"TIMEOUT: "+g})}ts.prototype.info=function(){};function Yh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return xa(_)}catch{return g}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function rs(){}L(rs,Zi),rs.prototype.g=function(){return new XMLHttpRequest},rs.prototype.i=function(){return{}},jn=new rs;function Fn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cu}function cu(){this.i=null,this.g="",this.h=!1}var Da={},to={};function no(c,g,_){c.L=1,c.v=oi(dn(g)),c.m=_,c.P=!0,ba(c,null)}function ba(c,g){c.F=Date.now(),We(c),c.A=dn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),li(_.i,"t",S),c.C=0,_=c.j.J,c.h=new cu,c.g=Cu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Xi(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ia[0]=F.toString()),F=Ia);for(var H=0;H<F.length;H++){var re=_a(_,F[H],S||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Cr(),ns(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&nn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const ft=nn(this.g);var g=this.g.Ba();const An=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Ua(this.g)))){this.J||ft!=4||g==7||(g==8||0>=An?Cr(3):Cr(2)),is(this);var _=this.g.Z();this.X=_;t:if(hu(this)){var S=Ua(this.g);c="";var F=S.length,H=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),ni(this);var re="";break t}this.h.i=new d.TextDecoder}for(g=0;g<F;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(H&&g==F-1)});S.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=_==200,Zs(this.i,this.u,this.A,this.l,this.R,ft,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,_t=this.g;if((ze=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(ze)){var Me=ze;break t}}Me=null}if(_=Me)On(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ma(this,_);else{this.o=!1,this.s=3,ut(12),Sn(this),ni(this);break e}}if(this.P){_=!0;let pn;for(;!this.J&&this.C<re.length;)if(pn=Xh(this,re),pn==to){ft==4&&(this.s=4,ut(14),_=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==Da){this.s=4,ut(15),On(this.i,this.l,re,"[Invalid Chunk]"),_=!1;break}else On(this.i,this.l,pn,null),Ma(this,pn);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||re.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)On(this.i,this.l,re,"[Invalid Chunked Response]"),Sn(this),ni(this);else if(0<re.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),za(xt),xt.M=!0,ut(11))}}else On(this.i,this.l,re,null),Ma(this,re);ft==4&&Sn(this),this.o&&!this.J&&(ft==4?po(this.j,this):(this.o=!1,We(this)))}else lo(this.g),_==400&&0<re.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Sn(this),ni(this)}}}catch{}finally{}};function hu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xh(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?to:(_=Number(g.substring(_,S)),isNaN(_)?Da:(S+=1,S+_>g.length?to:(g=g.slice(S,S+_),c.C=S+_,g)))}Fn.prototype.cancel=function(){this.J=!0,Sn(this)};function We(c){c.S=Date.now()+c.I,du(c,c.I)}function du(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(T(c.ba,c),g)}function is(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Va(this.i,this.A),this.L!=2&&(Cr(),ut(17)),Sn(this),this.s=2,ni(this)):du(this,this.S-c)};function ni(c){c.j.G==0||c.J||po(c.j,c)}function Sn(c){is(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Aa(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Ma(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Xt(_.h,c))){if(!c.K&&Xt(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)fo(_),Hn(_);else break e;ho(_),ut(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(T(_.Za,_),6e3));if(1>=pu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Dr(_,11)}else if((c.K||_.g==c)&&fo(_),!G(g))for(F=_.Da.g.parse(g),g=0;g<F.length;g++){let Me=F[g];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const xt=Me[3];xt!=null&&(_.la=xt,_.j.info("VER="+_.la));const ft=Me[4];ft!=null&&(_.Aa=ft,_.j.info("SVER="+_.Aa));const An=Me[5];An!=null&&typeof An=="number"&&0<An&&(S=1.5*An,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const pn=c.g;if(pn){const hs=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hs){var H=S.h;H.g||hs.indexOf("spdy")==-1&&hs.indexOf("quic")==-1&&hs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(La(H,H.h),H.h=null))}if(S.D){const go=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(S.ya=go,$e(S.I,S.D,go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var re=c;if(S.qa=Pu(S,S.J?S.ia:null,S.W),re.K){mu(S.h,re);var ze=re,_t=S.L;_t&&(ze.I=_t),ze.B&&(is(ze),We(ze)),S.g=re}else cs(S);0<_.i.length&&ar(_)}else Me[0]!="stop"&&Me[0]!="close"||Dr(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Dr(_,7):bt(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}Cr(4)}catch{}}var fu=class{constructor(c,g){this.g=c,this.map=g}};function ss(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pu(c){return c.h?1:c.g?c.g.size:0}function Xt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function La(c,g){c.g?c.g.add(g):c.h=g}function mu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}ss.prototype.cancel=function(){if(this.i=gu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return B(c.i)}function ro(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function io(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function ri(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=io(c),S=ro(c),F=S.length,H=0;H<F;H++)g.call(void 0,S[H],_&&_[H],c)}var os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),F=null;if(0<=S){var H=c[_].substring(0,S);F=c[_].substring(S+1)}else H=c[_];g(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Rr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Rr){this.h=c.h,as(this,c.j),this.o=c.o,this.g=c.g,ii(this,c.s),this.l=c.l;var g=c.i,_=new ir;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),si(this,_),this.m=c.m}else c&&(g=String(c).match(os))?(this.h=!1,as(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),ii(this,g[4]),this.l=De(g[5]||"",!0),si(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Rr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ai(g,so,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ai(g,so,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ai(_,_.charAt(0)=="/"?_u:vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ai(_,Oa)),c.join("")};function dn(c){return new Rr(c)}function as(c,g,_){c.j=_?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ii(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function si(c,g,_){g instanceof ir?(c.i=g,sr(c.i,c.h)):(_||(g=ai(g,wu)),c.i=new ir(g,c.h))}function $e(c,g,_){c.i.set(g,_)}function oi(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ai(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,yu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function yu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var so=/[#\/\?@]/g,vu=/[#\?:]/g,_u=/[#\?]/g,wu=/[#\?@]/g,Oa=/#/g;function ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&Jh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=ir.prototype,n.add=function(c,g){Dt(this),this.i=null,c=In(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Un(c,g){Dt(c),g=In(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Dt(c),g=In(c,g),c.g.has(g)}n.forEach=function(c,g){Dt(this),this.g.forEach(function(_,S){_.forEach(function(F){c.call(g,F,S,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const F=c[S];for(let H=0;H<F.length;H++)_.push(g[S])}return _},n.V=function(c){Dt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(In(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Dt(this),this.i=null,c=In(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function li(c,g,_){Un(c,g),0<_.length&&(c.i=null,c.g.set(In(c,g),B(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const H=encodeURIComponent(String(S)),re=this.V(S);for(S=0;S<re.length;S++){var F=H;re[S]!==""&&(F+="="+encodeURIComponent(String(re[S]))),c.push(F)}}return this.i=c.join("&")};function In(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Un(this,S),li(this,F,_))},c)),c.j=g}function Zh(c,g){const _=new ts;if(d.Image){const S=new Image;S.onload=C(tn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=C(tn,_,"TestLoadImage: error",!1,g,S),S.onabort=C(tn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=C(tn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Eu(c,g){const _=new ts,S=new AbortController,F=setTimeout(()=>{S.abort(),tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(F),H.ok?tn(_,"TestPingServer: ok",!0,g):tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(F),tn(_,"TestPingServer: error",!1,g)})}function tn(c,g,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function ed(){this.g=new Ca}function Tu(c,g,_){const S=_||"";try{ri(c,function(F,H){let re=F;m(F)&&(re=xa(F)),g.push(S+H+"="+encodeURIComponent(re))})}catch(F){throw g.push(S+"type="+encodeURIComponent("_badmap")),F}}function kr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(kr,Zi),kr.prototype.g=function(){return new ls(this.l,this.j)},kr.prototype.i=function(c){return function(){return c}}({});function ls(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ls,yt),n=ls.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Su(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Su(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&Su(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nr(c){let g="";return ue(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function ui(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Nr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):$e(c,g,_))}function et(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(et,yt);var td=/^https?$/i,ja=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?Qs(this.o):Qs(jn),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(H){us(this,H);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),F=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ja,g,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of _)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(H){us(this,H)}};function us(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,oo(c),fn(c)}function oo(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),fn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fa(this):this.bb())},n.bb=function(){Fa(this)};function Fa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||nn(c)!=4||c.Z()!=2)){if(c.u&&nn(c)==4)Sa(c.Ea,0,c);else if(vt(c,"readystatechange"),nn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=re===0){var F=String(c.D).match(os)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),S=!td.test(F?F.toLowerCase():"")}_=S}if(_)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var H=2<nn(c)?c.g.statusText:""}catch{H=""}c.l=H+" ["+c.Z()+"]",oo(c)}}finally{fn(c)}}}}function fn(c,g){if(c.g){ao(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{_.onreadystatechange=S}catch{}}}function ao(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function nn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Pa(g)}};function Ua(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(c){const g={};c=(c.g&&2<=nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(G(c[S]))continue;var _=b(c[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[F]||[];g[F]=H,H.push(_)}N(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function Ba(c){this.Aa=0,this.i=[],this.j=new ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ss(c&&c.concurrentRequestLimit),this.Da=new ed,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){ut(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Pu(this,null,this.W),ar(this)};function bt(c){if(uo(c),c.G==3){var g=c.U++,_=dn(c.I);if($e(_,"SID",c.K),$e(_,"RID",g),$e(_,"TYPE","terminate"),Vr(c,_),g=new Fn(c,c.j,g),g.L=2,g.v=oi(dn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}xu(c)}function Hn(c){c.g&&(za(c),c.g.cancel(),c.g=null)}function uo(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ar(c){if(!hn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ae||oe(),ne||(Ae(),ne=!0),me.add(g,c),c.B=0}}function nd(c,g){return pu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(T(c.Ga,c,g),Au(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new Fn(this,this.j,c);let H=this.o;if(this.S&&(H?(H=I(H),V(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ci(this,F,g),_=dn(this.I),$e(_,"RID",c),$e(_,"CVER",22),this.D&&$e(_,"X-HTTP-Session-Id",this.D),Vr(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(Nr(H)))+"&"+g:this.m&&ui(_,this.m,H)),La(this.h,F),this.Ua&&$e(_,"TYPE","init"),this.P?($e(_,"$req",g),$e(_,"SID","null"),F.T=!0,no(F,_,null)):no(F,_,g),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||hn(this.h)||co(this))};function co(c,g){var _;g?_=g.l:_=c.U++;const S=dn(c.I);$e(S,"SID",c.K),$e(S,"RID",_),$e(S,"AID",c.T),Vr(c,S),c.m&&c.o&&ui(S,c.m,c.o),_=new Fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ci(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),La(c.h,_),no(_,S,g)}function Vr(c,g){c.H&&ue(c.H,function(_,S){$e(g,S,_)}),c.l&&ri({},function(_,S){$e(g,S,_)})}function ci(c,g,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var F=c.i;let H=-1;for(;;){const re=["count="+_];H==-1?0<_?(H=F[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let ze=!0;for(let _t=0;_t<_;_t++){let Me=F[_t].g;const xt=F[_t].map;if(Me-=H,0>Me)H=Math.max(0,F[_t].g-100),ze=!1;else try{Tu(xt,re,"req"+Me+"_")}catch{S&&S(xt)}}if(ze){S=re.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function cs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ae||oe(),ne||(Ae(),ne=!0),me.add(g,c),c.v=0}}function ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(T(c.Fa,c),Au(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Hn(this),Iu(this))};function za(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);$e(g,"RID","rpc"),$e(g,"SID",c.K),$e(g,"AID",c.T),$e(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(g,"TO",c.ja),$e(g,"TYPE","xmlhttp"),Vr(c,g),c.m&&c.o&&ui(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=oi(dn(g)),_.m=null,_.P=!0,ba(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),ho(this),ut(19))};function fo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function po(c,g){var _=null;if(c.g==g){fo(c),za(c),c.g=null;var S=2}else if(Xt(c.h,g))_=g.D,mu(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var F=c.B;S=es(),vt(S,new Js(S,_)),ar(c)}else cs(c);else if(F=g.s,F==3||F==0&&0<g.X||!(S==1&&nd(c,g)||S==2&&ho(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),F){case 1:Dr(c,5);break;case 4:Dr(c,10);break;case 3:Dr(c,6);break;default:Dr(c,2)}}}function Au(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Dr(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),S=c.Xa;const F=!S;S=new Rr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||as(S,"https"),oi(S),F?Zh(S.toString(),_):Eu(S.toString(),_)}else ut(2);c.G=0,c.l&&c.l.sa(g),xu(c),uo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const g=gu(c.h);(g.length!=0||c.i.length!=0)&&(M(c.ka,g),M(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Pu(c,g,_){var S=_ instanceof Rr?dn(_):new Rr(_);if(S.g!="")g&&(S.g=g+"."+S.g),ii(S,S.s);else{var F=d.location;S=F.protocol,g=g?g+"."+F.hostname:F.hostname,F=+F.port;var H=new Rr(null);S&&as(H,S),g&&(H.g=g),F&&ii(H,F),_&&(H.l=_),S=H}return _=c.D,g=c.ya,_&&g&&$e(S,_,g),$e(S,"VER",c.la),Vr(c,S),S}function Cu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new kr({eb:_})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $a(){}n=$a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function mo(){}mo.prototype.g=function(c,g){return new Jt(c,g)};function Jt(c,g){yt.call(this),this.g=new Ba(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!G(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}L(Jt,yt),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){bt(this.g)},Jt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=xa(c),c=_);g.i.push(new fu(g.Ya++,c)),g.G==3&&ar(g)},Jt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Jt.aa.N.call(this)};function Ru(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(Ru,nr);function ku(){Xs.call(this),this.status=1}L(ku,Xs);function lr(c){this.g=c}L(lr,$a),lr.prototype.ua=function(){vt(this.g,"a")},lr.prototype.ta=function(c){vt(this.g,new Ru(c))},lr.prototype.sa=function(c){vt(this.g,new ku)},lr.prototype.ra=function(){vt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,F1=function(){return new mo},j1=function(){return es()},O1=rr,sp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Mc=eo,uu.COMPLETE="complete",L1=uu,Ys.EventType=Tn,Tn.OPEN="a",Tn.CLOSE="b",Tn.ERROR="c",Tn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,yl=Ys,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,M1=et}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const Ov="@firebase/firestore",jv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new zp("@firebase/firestore");function Oo(){return bs.logLevel}function le(n,...e){if(bs.logLevel<=ke.DEBUG){const t=e.map(Wp);bs.debug(`Firestore (${ha}): ${n}`,...t)}}function Qr(n,...e){if(bs.logLevel<=ke.ERROR){const t=e.map(Wp);bs.error(`Firestore (${ha}): ${n}`,...t)}}function Zo(n,...e){if(bs.logLevel<=ke.WARN){const t=e.map(Wp);bs.warn(`Firestore (${ha}): ${n}`,...t)}}function Wp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,U1(n,r,t)}function U1(n,e,t){let r=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Qr(r),new Error(r)}function Be(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||U1(e,o,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends Zr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class kA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class NA{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Be(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Hr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Hr)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Be(typeof r.accessToken=="string",31837,{l:r}),new B1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Be(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class VA{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DA{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new VA(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bA{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Be(this.o===void 0,3512);const r=a=>{a.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,le("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Fv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=MA(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Ne(n,e){return n<e?-1:n>e?1:0}function op(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Df(o)===Df(a)?Ne(o,a):Df(o)?1:-1}return Ne(n.length,e.length)}const LA=55296,OA=57343;function Df(n){const e=n.charCodeAt(0);return e>=LA&&e<=OA}function ea(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="__name__";class fr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=fr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Ne(e.length,t.length)}static compareSegments(e,t){const r=fr.isNumericId(e),o=fr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):op(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class Qe extends fr{construct(e,t,r){return new Qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Qe(t)}static emptyPath(){return new Qe([])}}const jA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends fr{construct(e,t,r){return new Ft(e,t,r)}static isValidIdentifier(e){return jA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Uv}static keyField(){return new Ft([Uv])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new fe(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new fe(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(r+=d,o++):(a(),o++)}if(a(),u)throw new fe(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Qe.fromString(e))}static fromName(e){return new ye(Qe.fromString(e).popFirst(5))}static empty(){return new ye(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n,e,t){if(!t)throw new fe(Q.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FA(n,e,t,r){if(e===!0&&r===!0)throw new fe(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bv(n){if(!ye.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zv(n){if(ye.isDocumentKey(n))throw new fe(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Kp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Ms(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Kp(n);throw new fe(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Yl(n,e){if(!$1(n))throw new fe(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(o&&typeof u!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new fe(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=-62135596800,Hv=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Hv);return new Ye(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$v)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hv}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$v;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ye(0,0))}static max(){return new Ie(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function UA(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(r===1e9?new Ye(t+1,0):new Ye(t,r));return new ji(o,ye.empty(),e)}function BA(n){return new ji(n.readTime,n.key,Ml)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(Ie.min(),ye.empty(),Ml)}static max(){return new ji(Ie.max(),ye.empty(),Ml)}}function zA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(n.documentKey,e.documentKey),t!==0?t:Ne(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==$A)throw n;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let o=0,a=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(o=>o?q.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new q((r,o)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(v=>{u[m]=v,++d,d===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new q((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function WA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function Ah(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function qA(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="";function KA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Wv(e)),e=GA(n.get(t),e);return Wv(e)}function GA(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case H1:t+="";break;default:t+=a}}return t}function Wv(n){return n+H1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function js(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function W1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??jt.RED,this.left=o??jt.EMPTY,this.right=a??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new jt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new It(Ft.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new q1("Invalid base64 string: "+a):a}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const QA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(Be(!!n,39018),typeof n=="string"){let e=0;const t=QA.exec(n);if(Be(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ui(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="server_timestamp",G1="__type__",Q1="__previous_value__",Y1="__local_write_time__";function Qp(n){return(n?.mapValue?.fields||{})[G1]?.stringValue===K1}function xh(n){const e=n.mapValue.fields[Q1];return Qp(e)?xh(e):e}function Ll(n){const e=Fi(n.mapValue.fields[Y1].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,t,r,o,a,u,d,f,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=v}}const Xc="(default)";class Ol{constructor(e,t){this.projectId=e,this.database=t||Xc}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Xc}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="__type__",XA="__max__",xc={mapValue:{}},J1="__vector__",Jc="value";function Bi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qp(n)?4:ZA(n)?9007199254740991:JA(n)?10:11:Te(28295,{value:n})}function Tr(n,e){if(n===e)return!0;const t=Bi(n);if(t!==Bi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ll(n).isEqual(Ll(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Fi(o.timestampValue),d=Fi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Ui(o.bytesValue).isEqual(Ui(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),d=dt(a.doubleValue);return u===d?Yc(u)===Yc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return ea(n.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},d=a.mapValue.fields||{};if(qv(u)!==qv(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Tr(u[f],d[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function jl(n,e){return(n.values||[]).find(t=>Tr(t,e))!==void 0}function ta(n,e){if(n===e)return 0;const t=Bi(n),r=Bi(e);if(t!==r)return Ne(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return Gv(n.timestampValue,e.timestampValue);case 4:return Gv(Ll(n),Ll(e));case 5:return op(n.stringValue,e.stringValue);case 6:return function(a,u){const d=Ui(a),f=Ui(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const v=Ne(d[m],f[m]);if(v!==0)return v}return Ne(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ne(dt(a.latitude),dt(u.latitude));return d!==0?d:Ne(dt(a.longitude),dt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Qv(n.arrayValue,e.arrayValue);case 10:return function(a,u){const d=a.fields||{},f=u.fields||{},m=d[Jc]?.arrayValue,v=f[Jc]?.arrayValue,w=Ne(m?.values?.length||0,v?.values?.length||0);return w!==0?w:Qv(m,v)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===xc.mapValue&&u===xc.mapValue)return 0;if(a===xc.mapValue)return 1;if(u===xc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},v=Object.keys(m);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const T=op(f[w],v[w]);if(T!==0)return T;const C=ta(d[f[w]],m[v[w]]);if(C!==0)return C}return Ne(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function Gv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ne(n,e);const t=Fi(n),r=Fi(e),o=Ne(t.seconds,r.seconds);return o!==0?o:Ne(t.nanos,r.nanos)}function Qv(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ta(t[o],r[o]);if(a)return a}return Ne(t.length,r.length)}function na(n){return ap(n)}function ap(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ui(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ye.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=ap(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${ap(t.fields[u])}`;return o+"}"}(n.mapValue):Te(61005,{value:n})}function Lc(n){switch(Bi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(n);return e?16+Lc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Lc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return js(r.fields,(a,u)=>{o+=a.length+Lc(u)}),o}(n.mapValue);default:throw Te(13486,{value:n})}}function lp(n){return!!n&&"integerValue"in n}function Yp(n){return!!n&&"arrayValue"in n}function Yv(n){return!!n&&"nullValue"in n}function Xv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Oc(n){return!!n&&"mapValue"in n}function JA(n){return(n?.mapValue?.fields||{})[X1]?.stringValue===J1}function Al(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return js(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Al(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Al(n.arrayValue.values[t]);return e}return{...n}}function ZA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===XA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Oc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(t)}setAll(e){let t=Ft.emptyPath(),r={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=d.popLast()}u?r[d.lastSegment()]=Al(u):o.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Oc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){js(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new bn(Al(this.value))}}function Z1(n){const e=[];return js(n.fields,(t,r)=>{const o=new Ft([t]);if(Oc(r)){const a=Z1(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,t,r,o,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Gt(e,0,Ie.min(),Ie.min(),Ie.min(),bn.empty(),0)}static newFoundDocument(e,t,r,o){return new Gt(e,1,t,Ie.min(),r,o,0)}static newNoDocument(e,t){return new Gt(e,2,t,Ie.min(),Ie.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new Gt(e,3,t,Ie.min(),Ie.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.position=e,this.inclusive=t}}function Jv(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=ye.comparator(ye.fromName(u.referenceValue),t.key):r=ta(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Tr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ex(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{}class Tt extends ew{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nx(e,t,r):t==="array-contains"?new sx(e,r):t==="in"?new ox(e,r):t==="not-in"?new ax(e,r):t==="array-contains-any"?new lx(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rx(e,r):new ix(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ta(t,this.value)):t!==null&&Bi(this.value)===Bi(t)&&this.matchesComparison(ta(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends ew{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function tw(n){return n.op==="and"}function nw(n){return tx(n)&&tw(n)}function tx(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function up(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+na(n.value);if(nw(n))return n.filters.map(e=>up(e)).join(",");{const e=n.filters.map(t=>up(t)).join(",");return`${n.op}(${e})`}}function rw(n,e){return n instanceof Tt?function(r,o){return o instanceof Tt&&r.op===o.op&&r.field.isEqual(o.field)&&Tr(r.value,o.value)}(n,e):n instanceof Sr?function(r,o){return o instanceof Sr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,d)=>a&&rw(u,o.filters[d]),!0):!1}(n,e):void Te(19439)}function iw(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${na(t.value)}`}(n):n instanceof Sr?function(t){return t.op.toString()+" {"+t.getFilters().map(iw).join(" ,")+"}"}(n):"Filter"}class nx extends Tt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class rx extends Tt{constructor(e,t){super(e,"in",t),this.keys=sw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ix extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=sw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sw(n,e){return(e.arrayValue?.values||[]).map(t=>ye.fromName(t.referenceValue))}class sx extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Yp(t)&&jl(t.arrayValue,this.value)}}class ox extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&jl(this.value.arrayValue,t)}}class ax extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!jl(this.value.arrayValue,t)}}class lx extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>jl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t=null,r=[],o=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function e0(n,e=null,t=[],r=[],o=null,a=null,u=null){return new ux(n,e,t,r,o,a,u)}function Xp(n){const e=xe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>up(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>na(r)).join(",")),e.Te=t}return e.Te}function Jp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ex(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Zv(n.startAt,e.startAt)&&Zv(n.endAt,e.endAt)}function cp(n){return ye.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t=null,r=[],o=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cx(n,e,t,r,o,a,u,d){return new Ph(n,e,t,r,o,a,u,d)}function Zp(n){return new Ph(n)}function t0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hx(n){return n.collectionGroup!==null}function xl(n){const e=xe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Ft.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new eh(a,r))}),t.has(Ft.keyField().canonicalString())||e.Ie.push(new eh(Ft.keyField(),r))}return e.Ie}function pr(n){const e=xe(n);return e.Ee||(e.Ee=dx(e,xl(n))),e.Ee}function dx(n,e){if(n.limitType==="F")return e0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new eh(o.field,a)});const t=n.endAt?new Zc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zc(n.startAt.position,n.startAt.inclusive):null;return e0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function hp(n,e,t){return new Ph(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ch(n,e){return Jp(pr(n),pr(e))&&n.limitType===e.limitType}function ow(n){return`${Xp(pr(n))}|lt:${n.limitType}`}function jo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>iw(o)).join(", ")}]`),Ah(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>na(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>na(o)).join(",")),`Target(${r})`}(pr(n))}; limitType=${n.limitType})`}function Rh(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ye.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of xl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,d,f){const m=Jv(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,xl(r),o)||r.endAt&&!function(u,d,f){const m=Jv(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,xl(r),o))}(n,e)}function fx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aw(n){return(e,t)=>{let r=!1;for(const o of xl(n)){const a=px(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function px(n,e,t){const r=n.field.isKeyField()?ye.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?ta(f,m):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return W1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ot(ye.comparator);function Yr(){return mx}const lw=new ot(ye.comparator);function vl(...n){let e=lw;for(const t of n)e=e.insert(t.key,t);return e}function uw(n){let e=lw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Cs(){return Pl()}function cw(){return Pl()}function Pl(){return new Fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const gx=new ot(ye.comparator),yx=new It(ye.comparator);function Ve(...n){let e=yx;for(const t of n)e=e.add(t);return e}const vx=new It(Ne);function _x(){return vx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function hw(n){return{integerValue:""+n}}function wx(n,e){return qA(e)?hw(e):em(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function Ex(n,e,t){return n instanceof th?function(o,a){const u={fields:{[G1]:{stringValue:K1},[Y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Qp(a)&&(a=xh(a)),a&&(u.fields[Q1]=a),{mapValue:u}}(t,e):n instanceof Fl?fw(n,e):n instanceof Ul?pw(n,e):function(o,a){const u=dw(o,a),d=n0(u)+n0(o.Ae);return lp(u)&&lp(o.Ae)?hw(d):em(o.serializer,d)}(n,e)}function Tx(n,e,t){return n instanceof Fl?fw(n,e):n instanceof Ul?pw(n,e):t}function dw(n,e){return n instanceof nh?function(r){return lp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class th extends kh{}class Fl extends kh{constructor(e){super(),this.elements=e}}function fw(n,e){const t=mw(e);for(const r of n.elements)t.some(o=>Tr(o,r))||t.push(r);return{arrayValue:{values:t}}}class Ul extends kh{constructor(e){super(),this.elements=e}}function pw(n,e){let t=mw(e);for(const r of n.elements)t=t.filter(o=>!Tr(o,r));return{arrayValue:{values:t}}}class nh extends kh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function n0(n){return dt(n.integerValue||n.doubleValue)}function mw(n){return Yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Sx(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Fl&&o instanceof Fl||r instanceof Ul&&o instanceof Ul?ea(r.elements,o.elements,Tr):r instanceof nh&&o instanceof nh?Tr(r.Ae,o.Ae):r instanceof th&&o instanceof th}(n.transform,e.transform)}class Ix{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Nh{}function gw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new vw(n.key,Wr.none()):new Xl(n.key,n.data,Wr.none());{const t=n.data,r=bn.empty();let o=new It(Ft.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Us(n.key,r,new Zn(o.toArray()),Wr.none())}}function Ax(n,e,t){n instanceof Xl?function(o,a,u){const d=o.value.clone(),f=i0(o.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Us?function(o,a,u){if(!jc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const d=i0(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(yw(o)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Cl(n,e,t,r){return n instanceof Xl?function(a,u,d,f){if(!jc(a.precondition,u))return d;const m=a.value.clone(),v=s0(a.fieldTransforms,f,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Us?function(a,u,d,f){if(!jc(a.precondition,u))return d;const m=s0(a.fieldTransforms,f,u),v=u.data;return v.setAll(yw(a)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return jc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function xx(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=dw(r.transform,o||null);a!=null&&(t===null&&(t=bn.empty()),t.set(r.field,a))}return t||null}function r0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ea(r,o,(a,u)=>Sx(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xl extends Nh{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Us extends Nh{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function i0(n,e,t){const r=new Map;Be(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,d=e.data.field(a.field);r.set(a.field,Tx(u,d,t[o]))}return r}function s0(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,Ex(a,u,e))}return r}class vw extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Px extends Nh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Ax(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Cl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=cw();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(o.key)?null:d;const f=gw(u,d);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(t,r)=>r0(t,r))&&ea(this.baseMutations,e.baseMutations,(t,r)=>r0(t,r))}}class tm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return gx}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new tm(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Le;function Nx(n){switch(n){case Q.OK:return Te(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function _w(n){if(n===void 0)return Qr("GRPC error has no .code"),Q.UNKNOWN;switch(n){case mt.OK:return Q.OK;case mt.CANCELLED:return Q.CANCELLED;case mt.UNKNOWN:return Q.UNKNOWN;case mt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case mt.INTERNAL:return Q.INTERNAL;case mt.UNAVAILABLE:return Q.UNAVAILABLE;case mt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case mt.NOT_FOUND:return Q.NOT_FOUND;case mt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case mt.ABORTED:return Q.ABORTED;case mt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case mt.DATA_LOSS:return Q.DATA_LOSS;default:return Te(39323,{code:n})}}(Le=mt||(mt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Mi([4294967295,4294967295],0);function o0(n){const e=Vx().encode(n),t=new b1;return t.update(e),new Uint8Array(t.digest())}function a0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Mi([t,r],0),new Mi([o,a],0)]}class nm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _l(`Invalid padding: ${t}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _l(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Mi.fromNumber(r)));return o.compare(Dx)===1&&(o=new Mi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=o0(e),[r,o]=a0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new nm(a,o,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.ge===0)return;const t=o0(e),[r,o]=a0(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,o,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Vh(Ie.min(),o,new ot(Ne),Yr(),Ve())}}class Jl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Jl(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class ww{constructor(e,t){this.targetId=e,this.Ce=t}}class Ew{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class l0{constructor(){this.ve=0,this.Fe=u0(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),r=Ve();return this.Fe.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:a})}}),new Jl(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=u0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class bx{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=Pc(),this.He=Pc(),this.Ye=new ot(Ne)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(cp(a))if(r===0){const u=new ye(a.path);this.et(t,u,Gt.newNoDocument(u,Ie.min()))}else Be(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,d;try{u=Ui(r).toUint8Array()}catch(f){if(f instanceof q1)return Zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new nm(u,o,a)}catch(f){return Zo(f instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((a,u)=>{const d=this.ot(u);if(d){if(a.current&&cp(d.target)){const f=new ye(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Gt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}});let r=Ve();this.He.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.je.forEach((a,u)=>u.setReadTime(e));const o=new Vh(e,t,this.Ye,this.je,r);return this.je=Yr(),this.Je=Pc(),this.He=Pc(),this.Ye=new ot(Ne),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new l0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(Ne),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(Ne),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||le("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new l0),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Pc(){return new ot(ye.comparator)}function u0(){return new ot(ye.comparator)}const Mx={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ox={and:"AND",or:"OR"};class jx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function dp(n,e){return n.useProto3Json||Ah(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Fx(n,e){return rh(n,e.toTimestamp())}function mr(n){return Be(!!n,49232),Ie.fromTimestamp(function(t){const r=Fi(t);return new Ye(r.seconds,r.nanos)}(n))}function rm(n,e){return fp(n,e).canonicalString()}function fp(n,e){const t=function(o){return new Qe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Sw(n){const e=Qe.fromString(n);return Be(Cw(e),10190,{key:e.toString()}),e}function pp(n,e){return rm(n.databaseId,e.path)}function bf(n,e){const t=Sw(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ye(Aw(t))}function Iw(n,e){return rm(n.databaseId,e)}function Ux(n){const e=Sw(n);return e.length===4?Qe.emptyPath():Aw(e)}function mp(n){return new Qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Aw(n){return Be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function c0(n,e,t){return{name:pp(n,e),fields:t.value.mapValue.fields}}function Bx(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,v){return m.useProto3Json?(Be(v===void 0||typeof v=="string",58123),Ut.fromBase64String(v||"")):(Be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ut.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const v=m.code===void 0?Q.UNKNOWN:_w(m.code);return new fe(v,m.message||"")}(u);t=new Ew(r,o,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=bf(n,r.document.name),a=mr(r.document.updateTime),u=r.document.createTime?mr(r.document.createTime):Ie.min(),d=new bn({mapValue:{fields:r.document.fields}}),f=Gt.newFoundDocument(o,a,u,d),m=r.targetIds||[],v=r.removedTargetIds||[];t=new Fc(m,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=bf(n,r.document),a=r.readTime?mr(r.readTime):Ie.min(),u=Gt.newNoDocument(o,a),d=r.removedTargetIds||[];t=new Fc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=bf(n,r.document),a=r.removedTargetIds||[];t=new Fc([],a,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new kx(o,a),d=r.targetId;t=new ww(d,u)}}return t}function zx(n,e){let t;if(e instanceof Xl)t={update:c0(n,e.key,e.value)};else if(e instanceof vw)t={delete:pp(n,e.key)};else if(e instanceof Us)t={update:c0(n,e.key,e.data),updateMask:Xx(e.fieldMask)};else{if(!(e instanceof Px))return Te(16599,{Vt:e.type});t={verify:pp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof th)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Fl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ul)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof nh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Te(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Fx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Te(27497)}(n,e.precondition)),t}function $x(n,e){return n&&n.length>0?(Be(e!==void 0,14353),n.map(t=>function(o,a){let u=o.updateTime?mr(o.updateTime):mr(a);return u.isEqual(Ie.min())&&(u=mr(a)),new Ix(u,o.transformResults||[])}(t,e))):[]}function Hx(n,e){return{documents:[Iw(n,e.path)]}}function Wx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Iw(n,o);const a=function(m){if(m.length!==0)return Pw(Sr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(v=>function(T){return{field:Fo(T.field),direction:Gx(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=dp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ft:t,parent:o}}function qx(n){let e=Ux(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Be(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(w){const T=xw(w);return T instanceof Sr&&nw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(L){return new eh(Uo(L.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Ah(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,C=w.values||[];return new Zc(C,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,C=w.values||[];return new Zc(C,T)}(t.endAt)),cx(e,o,u,a,d,"F",f,m)}function Kx(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function xw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Uo(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Uo(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Uo(t.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(Uo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sr.create(t.compositeFilter.filters.map(r=>xw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function Gx(n){return Mx[n]}function Qx(n){return Lx[n]}function Yx(n){return Ox[n]}function Fo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return Ft.fromServerFormat(n.fieldPath)}function Pw(n){return n instanceof Tt?function(t){if(t.op==="=="){if(Xv(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NAN"}};if(Yv(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xv(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NAN"}};if(Yv(t.value))return{unaryFilter:{field:Fo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(t.field),op:Qx(t.op),value:t.value}}}(n):n instanceof Sr?function(t){const r=t.getFilters().map(o=>Pw(o));return r.length===1?r[0]:{compositeFilter:{op:Yx(t.op),filters:r}}}(n):Te(54877,{filter:n})}function Xx(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Cw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t,r,o,a=Ie.min(),u=Ie.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ni(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ni(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.yt=e}}function Zx(n){const e=qx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.Cn=new tP}addToCollectionParentIndex(e,t){return this.Cn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(ji.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class tP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new It(Qe.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new It(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(Rw,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="LruGarbageCollector",nP=1048576;function f0([n,e],[t,r]){const o=Ne(n,t);return o===0?Ne(e,r):o}class rP{constructor(e){this.Ir=e,this.buffer=new It(f0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();f0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(d0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?le(d0,"Ignoring IndexedDB error during garbage collection: ",t):await da(t)}await this.Vr(3e5)})}}class sP{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return q.resolve(Ih.ce);const r=new rP(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),q.resolve(h0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),h0):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,a,u,d,f,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),Oo()<=ke.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-v}ms`),q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function oP(n,e){return new sP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.changes=new Fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Cl(r.mutation,o,Zn.empty(),Ye.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const o=Cs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=vl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Cs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,o){let a=Yr();const u=Pl(),d=function(){return Pl()}();return t.forEach((f,m)=>{const v=r.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof Us)?a=a.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Cl(v.mutation,m,v.mutation.getFieldMask(),Ye.now())):u.set(m.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,v)=>u.set(m,v)),t.forEach((m,v)=>d.set(m,new lP(v,u.get(m)??null))),d))}recalculateAndSaveOverlays(e,t){const r=Pl();let o=new ot((u,d)=>u-d),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let v=r.get(f)||Zn.empty();v=d.applyToLocalView(m,v),r.set(f,v);const w=(o.get(d.batchId)||Ve()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,w=cw();v.forEach(T=>{if(!a.has(T)){const C=gw(t.get(T),r.get(T));C!==null&&w.set(T,C),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return q.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return ye.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):q.resolve(Cs());let d=Ml,f=a;return u.next(m=>q.forEach(m,(v,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(v)?q.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ve())).next(v=>({batchId:d,changes:uw(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let o=vl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=vl();return this.indexManager.getCollectionParents(e,a).next(d=>q.forEach(d,f=>{const m=function(w,T){return new Ph(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,o).next(v=>{v.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Gt.newInvalidDocument(v)))});let d=vl();return u.forEach((f,m)=>{const v=a.get(f);v!==void 0&&Cl(v.mutation,m,Zn.empty(),Ye.now()),Rh(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return q.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:Zx(o.bundledQuery),readTime:mr(o.readTime)}}(t)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.overlays=new ot(ye.comparator),this.qr=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Cs();return q.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.St(e,t,a)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const o=Cs(),a=t.length+1,u=new ye(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return q.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new ot((m,v)=>m-v);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let v=a.get(m.largestBatchId);v===null&&(v=Cs(),a=a.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Cs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=o)););return q.resolve(d)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Rx(t,r));let a=this.qr.get(t);a===void 0&&(a=Ve(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(){this.Qr=new It(kt.$r),this.Ur=new It(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new kt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new kt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ye(new Qe([])),r=new kt(t,e),o=new kt(t,e+1),a=[];return this.Ur.forEachInRange([r,o],u=>{this.Gr(u),a.push(u.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ye(new Qe([])),r=new kt(t,e),o=new kt(t,e+1);let a=Ve();return this.Ur.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new kt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ye.comparator(e.key,t.key)||Ne(e.Yr,t.Yr)}static Kr(e,t){return Ne(e.Yr,t.Yr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(kt.$r)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Cx(a,t,r,o);this.mutationQueue.push(u);for(const d of o)this.Zr=this.Zr.add(new kt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return q.resolve(u)}lookupMutationBatch(e,t){return q.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),a=o<0?0:o;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,o],u=>{const d=this.Xr(u.Yr);a.push(d)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Ne);return t.forEach(o=>{const a=new kt(o,0),u=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],d=>{r=r.add(d.Yr)})}),q.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;ye.isDocumentKey(a)||(a=a.child(""));const u=new kt(new ye(a),0);let d=new It(Ne);return this.Zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Yr)),!0)},u),q.resolve(this.ti(d))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Be(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return q.forEach(t.mutations,o=>{const a=new kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new kt(t,0),o=this.Zr.firstAfterOrEqual(r);return q.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e){this.ri=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(t))}getEntries(e,t){let r=Yr();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():Gt.newInvalidDocument(o))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Yr();const u=t.path,d=new ye(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:v}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||zA(BA(v),r)<=0||(o.has(v.key)||Rh(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Te(9500)}ii(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new mP(this)}getSize(e){return q.resolve(this.size)}}class mP extends aP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.persistence=e,this.si=new Fs(t=>Xp(t),Jp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new im,this.targetCount=0,this.ai=ra.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),q.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ra(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Pr(t),q.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.si.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),q.waitFor(a).next(()=>o)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),q.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new dP,this.referenceDelegate=e(this),this.Pi=new gP(this),this.indexManager=new eP,this.remoteDocumentCache=function(o){return new pP(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Jx(t),this.Ii=new cP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new fP(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const o=new yP(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(a=>this.referenceDelegate.di(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Ai(e,t){return q.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class yP extends HA{constructor(e){super(),this.currentSequenceNumber=e}}class sm{constructor(e){this.persistence=e,this.Ri=new im,this.Vi=null}static mi(e){return new sm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),q.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.fi,r=>{const o=ye.fromPath(r);return this.gi(e,o).next(a=>{a||t.removeEntry(o,Ie.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return q.or([()=>q.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ih{constructor(e,t){this.persistence=e,this.pi=new Fs(r=>KA(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=oP(this,t)}static mi(e,t){return new ih(e,t)}Ei(){}di(e){return q.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return q.forEach(this.pi,(r,o)=>this.br(e,r,o).next(a=>a?q.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ii(e,u=>this.br(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),q.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),q.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}br(e,t,r){return q.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return q.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ve(),o=Ve();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new om(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u2()?8:WA(Yt())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.ys(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ws(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new vP;return this.Ss(e,t,u).next(d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)})}).next(()=>a.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(Oo()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),q.resolve()):(Oo()<=ke.DEBUG&&le("QueryEngine","Query:",jo(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Oo()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):q.resolve())}ys(e,t){if(t0(t))return q.resolve(null);let r=pr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=hp(t,null,"F"),r=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Ve(...a);return this.ps.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.Ds(t,d);return this.Cs(t,m,u,f.readTime)?this.ys(e,hp(t,null,"F")):this.vs(e,m,t,f)}))})))}ws(e,t,r,o){return t0(t)||o.isEqual(Ie.min())?q.resolve(null):this.ps.getDocuments(e,r).next(a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,o)?q.resolve(null):(Oo()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jo(t)),this.vs(e,u,t,UA(o,Ml)).next(d=>d))})}Ds(e,t){let r=new It(aw(e));return t.forEach((o,a)=>{Rh(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Ss(e,t,r){return Oo()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",jo(t)),this.ps.getDocumentsMatchingQuery(e,t,ji.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="LocalStore",wP=3e8;class EP{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ot(Ne),this.xs=new Fs(a=>Xp(a),Jp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function TP(n,e,t,r){return new EP(n,e,t,r)}async function Nw(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Ve();for(const m of o){u.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of a){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Ls:m,removedBatchIds:u,addedBatchIds:d}))})})}function SP(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return function(d,f,m,v){const w=m.batch,T=w.keys();let C=q.resolve();return T.forEach(L=>{C=C.next(()=>v.getEntry(f,L)).next(B=>{const M=m.docVersions.get(L);Be(M!==null,48541),B.version.compareTo(M)<0&&(w.applyToRemoteDocument(B,m),B.isValidDocument()&&(B.setReadTime(m.commitVersion),v.addEntry(B)))})}),C.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Ve();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function Vw(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function IP(n,e){const t=xe(n),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const d=[];e.targetChanges.forEach((v,w)=>{const T=o.get(w);if(!T)return;d.push(t.Pi.removeMatchingKeys(a,v.removedDocuments,w).next(()=>t.Pi.addMatchingKeys(a,v.addedDocuments,w)));let C=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Ut.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,r)),o=o.insert(w,C),function(B,M,W){return B.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=wP?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(T,C,v)&&d.push(t.Pi.updateTargetData(a,C))});let f=Yr(),m=Ve();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),d.push(AP(a,u,e.documentUpdates).next(v=>{f=v.ks,m=v.qs})),!r.isEqual(Ie.min())){const v=t.Pi.getLastRemoteSnapshotVersion(a).next(w=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(v)}return q.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ms=o,a))}function AP(n,e,t){let r=Ve(),o=Ve();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Yr();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):le(am,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{ks:u,qs:o}})}function xP(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gp),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PP(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(a=>a?(o=a,q.resolve(o)):t.Pi.allocateTargetId(r).next(u=>(o=new Ni(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function gp(n,e,t){const r=xe(n),o=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!fa(u))throw u;le(am,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function p0(n,e,t){const r=xe(n);let o=Ie.min(),a=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,v){const w=xe(f),T=w.xs.get(v);return T!==void 0?q.resolve(w.Ms.get(T)):w.Pi.getTargetData(m,v)}(r,u,pr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?o:Ie.min(),t?a:Ve())).next(d=>(CP(r,fx(e),d),{documents:d,Qs:a})))}function CP(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Os.set(e,r)}class m0{constructor(){this.activeTargetIds=_x()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RP{constructor(){this.Mo=new m0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new m0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="ConnectivityMonitor";class y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(g0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(g0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function yp(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="RestConnection",NP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Xc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,a){const u=yp(),d=this.zo(e,t.toUriEncodedString());le(Mf,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,o,a);const{host:m}=new URL(d),v=ua(m);return this.Jo(e,d,f,r,v).then(w=>(le(Mf,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Zo(Mf,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",r),w})}Ho(e,t,r,o,a,u){return this.Go(e,t,r,o,a)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,a)=>e[a]=o),r&&r.headers.forEach((o,a)=>e[a]=o)}zo(e,t){const r=NP[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class bP extends VP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,a){const u=yp();return new Promise((d,f)=>{const m=new M1;m.setWithCredentials(!0),m.listenOnce(L1.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Mc.NO_ERROR:const w=m.getResponseJson();le(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case Mc.TIMEOUT:le(Wt,`RPC '${e}' ${u} timed out`),f(new fe(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const T=m.getStatus();if(le(Wt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let C=m.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const B=function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(G)>=0?G:Q.UNKNOWN}(L.status);f(new fe(B,L.message))}else f(new fe(Q.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new fe(Q.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{le(Wt,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(o);le(Wt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,r,15)})}T_(e,t,r){const o=yp(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=F1(),d=j1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);this.I_(w);let T=!1,C=!1;const L=new DP({Yo:M=>{C?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(T||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,M),w.send(M))},Zo:()=>w.close()}),B=(M,W,G)=>{M.listen(W,J=>{try{G(J)}catch(se){setTimeout(()=>{throw se},0)}})};return B(w,yl.EventType.OPEN,()=>{C||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),L.o_())}),B(w,yl.EventType.CLOSE,()=>{C||(C=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(w))}),B(w,yl.EventType.ERROR,M=>{C||(C=!0,Zo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,M.name,"Message:",M.message),L.a_(new fe(Q.UNAVAILABLE,"The operation could not be completed")))}),B(w,yl.EventType.MESSAGE,M=>{if(!C){const W=M.data[0];Be(!!W,16349);const G=W,J=G?.error||G[0]?.error;if(J){le(Wt,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let ie=function(I){const P=mt[I];if(P!==void 0)return _w(P)}(se),ue=J.message;ie===void 0&&(ie=Q.INTERNAL,ue="Unknown error status: "+se+" with message "+J.message),C=!0,L.a_(new fe(ie,ue)),w.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,W),L.u_(W)}}),B(d,O1.STAT_EVENT,M=>{M.stat===sp.PROXY?le(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===sp.NOPROXY&&le(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n){return new jx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="PersistentStream";class bw{constructor(e,t,r,o,a,u,d,f){this.Mi=e,this.S_=r,this.b_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Qr(t.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new fe(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return le(v0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(le(v0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MP extends bw{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Bx(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?mr(u.readTime):Ie.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=mp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=cp(f)?{documents:Hx(a,f)}:{query:Wx(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Tw(a,u.resumeToken);const m=dp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=rh(a,u.snapshotVersion.toTimestamp());const m=dp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=Kx(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=mp(this.serializer),t.removeTarget=e,this.q_(t)}}class LP extends bw{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=$x(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>zx(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{}class jP extends OP{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Go(e,fp(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(Q.UNKNOWN,a.toString())})}Ho(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Ho(e,fp(t,r),o,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Q.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Qr(t),this.aa=!1):le("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class UP{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{Bs(this)&&(le(Ls,"Restarting streams for network reachability change."),await async function(f){const m=xe(f);m.Ea.add(4),await Zl(m),m.Ra.set("Unknown"),m.Ea.delete(4),await bh(m)}(this))})}),this.Ra=new FP(r,o)}}async function bh(n){if(Bs(n))for(const e of n.da)await e(!0)}async function Zl(n){for(const e of n.da)await e(!1)}function Mw(n,e){const t=xe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),hm(t)?cm(t):pa(t).O_()&&um(t,e))}function lm(n,e){const t=xe(n),r=pa(t);t.Ia.delete(e),r.O_()&&Lw(t,e),t.Ia.size===0&&(r.O_()?r.L_():Bs(t)&&t.Ra.set("Unknown"))}function um(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).Y_(e)}function Lw(n,e){n.Va.Ue(e),pa(n).Z_(e)}function cm(n){n.Va=new bx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.Ra.ua()}function hm(n){return Bs(n)&&!pa(n).x_()&&n.Ia.size>0}function Bs(n){return xe(n).Ea.size===0}function Ow(n){n.Va=void 0}async function BP(n){n.Ra.set("Online")}async function zP(n){n.Ia.forEach((e,t)=>{um(n,e)})}async function $P(n,e){Ow(n),hm(n)?(n.Ra.ha(e),cm(n)):n.Ra.set("Unknown")}async function HP(n,e,t){if(n.Ra.set("Online"),e instanceof Ew&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const d of a.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Ia.delete(d),o.Va.removeTarget(d))}(n,e)}catch(r){le(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await sh(n,r)}else if(e instanceof Fc?n.Va.Ze(e):e instanceof ww?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await Vw(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(m);v&&a.Ia.set(m,v.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(Ut.EMPTY_BYTE_STRING,v.snapshotVersion)),Lw(a,f);const w=new Ni(v.target,f,m,v.sequenceNumber);um(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){le(Ls,"Failed to raise snapshot:",r),await sh(n,r)}}async function sh(n,e,t){if(!fa(e))throw e;n.Ea.add(1),await Zl(n),n.Ra.set("Offline"),t||(t=()=>Vw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{le(Ls,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await bh(n)})}function jw(n,e){return e().catch(t=>sh(n,t,e))}async function Mh(n){const e=xe(n),t=zi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;WP(e);)try{const o=await xP(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,qP(e,o)}catch(o){await sh(e,o)}Fw(e)&&Uw(e)}function WP(n){return Bs(n)&&n.Ta.length<10}function qP(n,e){n.Ta.push(e);const t=zi(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Fw(n){return Bs(n)&&!zi(n).x_()&&n.Ta.length>0}function Uw(n){zi(n).start()}async function KP(n){zi(n).ra()}async function GP(n){const e=zi(n);for(const t of n.Ta)e.ea(t.mutations)}async function QP(n,e,t){const r=n.Ta.shift(),o=tm.from(r,e,t);await jw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Mh(n)}async function YP(n,e){e&&zi(n).X_&&await async function(r,o){if(function(u){return Nx(u)&&u!==Q.ABORTED}(o.code)){const a=r.Ta.shift();zi(r).B_(),await jw(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Mh(r)}}(n,e),Fw(n)&&Uw(n)}async function _0(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),le(Ls,"RemoteStore received new credentials");const r=Bs(t);t.Ea.add(3),await Zl(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await bh(t)}async function XP(n,e){const t=xe(n);e?(t.Ea.delete(2),await bh(t)):e||(t.Ea.add(2),await Zl(t),t.Ra.set("Unknown"))}function pa(n){return n.ma||(n.ma=function(t,r,o){const a=xe(t);return a.sa(),new MP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:BP.bind(null,n),t_:zP.bind(null,n),r_:$P.bind(null,n),H_:HP.bind(null,n)}),n.da.push(async e=>{e?(n.ma.B_(),hm(n)?cm(n):n.Ra.set("Unknown")):(await n.ma.stop(),Ow(n))})),n.ma}function zi(n){return n.fa||(n.fa=function(t,r,o){const a=xe(t);return a.sa(),new LP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:KP.bind(null,n),r_:YP.bind(null,n),ta:GP.bind(null,n),na:QP.bind(null,n)}),n.da.push(async e=>{e?(n.fa.B_(),await Mh(n)):(await n.fa.stop(),n.Ta.length>0&&(le(Ls,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))})),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,d=new dm(e,t,u,o,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fm(n,e){if(Qr("AsyncQueue",`${e}: ${n}`),fa(n))return new fe(Q.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=vl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ko;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.ga=new ot(ye.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class ia{constructor(e,t,r,o,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new ia(e,t,Ko.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ZP{constructor(){this.queries=E0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=xe(t),a=o.queries;o.queries=E0(),a.forEach((u,d)=>{for(const f of d.Sa)f.onError(r)})})(this,new fe(Q.ABORTED,"Firestore shutting down"))}}function E0(){return new Fs(n=>ow(n),Ch)}async function Bw(n,e){const t=xe(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.ba()&&e.Da()&&(r=2):(a=new JP,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=fm(u,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&pm(t)}async function zw(n,e){const t=xe(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?o=e.Da()?0:1:!a.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function eC(n,e){const t=xe(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(o)&&(r=!0);u.wa=o}}r&&pm(t)}function tC(n,e,t){const r=xe(n),o=r.queries.get(e);if(o)for(const a of o.Sa)a.onError(t);r.queries.delete(e)}function pm(n){n.Ca.forEach(e=>{e.next()})}var vp,T0;(T0=vp||(vp={})).Ma="default",T0.Cache="cache";class $w{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class nC{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=aw(e),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new w0,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const T=o.get(v),C=Rh(this.query,w)?w:null,L=!!T&&this.mutatedKeys.has(T.key),B=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let M=!1;T&&C?T.data.isEqual(C.data)?L!==B&&(r.track({type:3,doc:C}),M=!0):this.su(T,C)||(r.track({type:2,doc:C}),M=!0,(f&&this.eu(C,f)>0||m&&this.eu(C,m)<0)&&(d=!0)):!T&&C?(r.track({type:0,doc:C}),M=!0):T&&!C&&(r.track({type:1,doc:T}),M=!0,(f||m)&&(d=!0)),M&&(C?(u=u.add(C),a=B?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((v,w)=>function(C,L){const B=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:M})}};return B(C)-B(L)}(v.type,w.type)||this.eu(v.doc,w.doc)),this.ou(r),o=o??!1;const d=t&&!o?this._u():[],f=this.Xa.size===0&&this.current&&!o?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new ia(this.query,e.tu,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new w0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new Ww(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new Hw(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ia.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mm="SyncEngine";class rC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iC{constructor(e){this.key=e,this.hu=!1}}class sC{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Fs(d=>ow(d),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ye.comparator),this.Au=new Map,this.Ru=new im,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oC(n,e,t=!0){const r=Xw(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await qw(r,e,t,!0),o}async function aC(n,e){const t=Xw(n);await qw(t,e,!0,!1)}async function qw(n,e,t,r){const o=await PP(n.localStore,pr(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await lC(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Mw(n.remoteStore,o),d}async function lC(n,e,t,r,o){n.pu=(w,T,C)=>async function(B,M,W,G){let J=M.view.ru(W);J.Cs&&(J=await p0(B.localStore,M.query,!1).then(({documents:N})=>M.view.ru(N,J)));const se=G&&G.targetChanges.get(M.targetId),ie=G&&G.targetMismatches.get(M.targetId)!=null,ue=M.view.applyChanges(J,B.isPrimaryClient,se,ie);return I0(B,M.targetId,ue.au),ue.snapshot}(n,w,T,C);const a=await p0(n.localStore,e,!0),u=new nC(e,a.Qs),d=u.ru(a.documents),f=Jl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);I0(n,t,m.au);const v=new rC(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function uC(n,e,t){const r=xe(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter(u=>!Ch(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await gp(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&lm(r.remoteStore,o.targetId),_p(r,o.targetId)}).catch(da)):(_p(r,o.targetId),await gp(r.localStore,o.targetId,!0))}async function cC(n,e){const t=xe(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),lm(t.remoteStore,r.targetId))}async function hC(n,e,t){const r=vC(n);try{const o=await function(u,d){const f=xe(u),m=Ye.now(),v=d.reduce((C,L)=>C.add(L.key),Ve());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",C=>{let L=Yr(),B=Ve();return f.Ns.getEntries(C,v).next(M=>{L=M,L.forEach((W,G)=>{G.isValidDocument()||(B=B.add(W))})}).next(()=>f.localDocuments.getOverlayedDocuments(C,L)).next(M=>{w=M;const W=[];for(const G of d){const J=xx(G,w.get(G.key).overlayedDocument);J!=null&&W.push(new Us(G.key,J,Z1(J.value.mapValue),Wr.exists(!0)))}return f.mutationQueue.addMutationBatch(C,m,W,d)}).next(M=>{T=M;const W=M.applyToLocalDocumentSet(w,B);return f.documentOverlayCache.saveOverlays(C,M.batchId,W)})}).then(()=>({batchId:T.batchId,changes:uw(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new ot(Ne)),m=m.insert(d,f),u.Vu[u.currentUser.toKey()]=m}(r,o.batchId,t),await eu(r,o.changes),await Mh(r.remoteStore)}catch(o){const a=fm(o,"Failed to persist write");t.reject(a)}}async function Kw(n,e){const t=xe(n);try{const r=await IP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Au.get(a);u&&(Be(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?Be(u.hu,14607):o.removedDocuments.size>0&&(Be(u.hu,42227),u.hu=!1))}),await eu(t,r,e)}catch(r){await da(r)}}function S0(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((a,u)=>{const d=u.view.va(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=xe(u);f.onlineState=d;let m=!1;f.queries.forEach((v,w)=>{for(const T of w.Sa)T.va(d)&&(m=!0)}),m&&pm(f)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dC(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let u=new ot(ye.comparator);u=u.insert(a,Gt.newNoDocument(a,Ie.min()));const d=Ve().add(a),f=new Vh(Ie.min(),new Map,new ot(Ne),u,d);await Kw(r,f),r.du=r.du.remove(a),r.Au.delete(e),gm(r)}else await gp(r.localStore,e,!1).then(()=>_p(r,e,t)).catch(da)}async function fC(n,e){const t=xe(n),r=e.batch.batchId;try{const o=await SP(t.localStore,e);Qw(t,r,null),Gw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await eu(t,o)}catch(o){await da(o)}}async function pC(n,e,t){const r=xe(n);try{const o=await function(u,d){const f=xe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(Be(w!==null,37113),v=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,v,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>f.localDocuments.getDocuments(m,v))})}(r.localStore,e);Qw(r,e,t),Gw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await eu(r,o)}catch(o){await da(o)}}function Gw(n,e){(n.mu.get(e)||[]).forEach(t=>{t.resolve()}),n.mu.delete(e)}function Qw(n,e,t){const r=xe(n);let o=r.Vu[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function _p(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach(r=>{n.Ru.containsKey(r)||Yw(n,r)})}function Yw(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(lm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),gm(n))}function I0(n,e,t){for(const r of t)r instanceof Hw?(n.Ru.addReference(r.key,e),mC(n,r)):r instanceof Ww?(le(mm,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Yw(n,r.key)):Te(19791,{wu:r})}function mC(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(le(mm,"New document in limbo: "+t),n.Eu.add(r),gm(n))}function gm(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ye(Qe.fromString(e)),r=n.fu.next();n.Au.set(r,new iC(t)),n.du=n.du.insert(t,r),Mw(n.remoteStore,new Ni(pr(Zp(t.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function eu(n,e,t){const r=xe(n),o=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((d,f)=>{u.push(r.pu(f,e,t).then(m=>{if((m||t)&&r.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(m){o.push(m);const v=om.As(f.targetId,m);a.push(v)}}))}),await Promise.all(u),r.Pu.H_(o),await async function(f,m){const v=xe(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>q.forEach(m,T=>q.forEach(T.Es,C=>v.persistence.referenceDelegate.addReference(w,T.targetId,C)).next(()=>q.forEach(T.ds,C=>v.persistence.referenceDelegate.removeReference(w,T.targetId,C)))))}catch(w){if(!fa(w))throw w;le(am,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const C=v.Ms.get(T),L=C.snapshotVersion,B=C.withLastLimboFreeSnapshotVersion(L);v.Ms=v.Ms.insert(T,B)}}}(r.localStore,a))}async function gC(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){le(mm,"User change. New user:",e.toKey());const r=await Nw(t.localStore,e);t.currentUser=e,function(a,u){a.mu.forEach(d=>{d.forEach(f=>{f.reject(new fe(Q.CANCELLED,u))})}),a.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(t,r.Ls)}}function yC(n,e){const t=xe(n),r=t.Au.get(e);if(r&&r.hu)return Ve().add(r.key);{let o=Ve();const a=t.Iu.get(e);if(!a)return o;for(const u of a){const d=t.Tu.get(u);o=o.unionWith(d.view.nu)}return o}}function Xw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dC.bind(null,e),e.Pu.H_=eC.bind(null,e.eventManager),e.Pu.yu=tC.bind(null,e.eventManager),e}function vC(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pC.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return TP(this.persistence,new _P,e.initialUser,this.serializer)}Cu(e){return new kw(sm.mi,this.serializer)}Du(e){return new RP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class _C extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Be(this.persistence.referenceDelegate instanceof ih,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iP(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new kw(r=>ih.mi(r,t),this.serializer)}}class wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>S0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gC.bind(null,this.syncEngine),await XP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZP}()}createDatastore(e){const t=Dh(e.databaseInfo.databaseId),r=function(a){return new bP(a)}(e.databaseInfo);return function(a,u,d,f){return new jP(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,d){return new UP(r,o,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>S0(this.syncEngine,t,0),function(){return y0.v()?new y0:new kP}())}createSyncEngine(e,t){return function(o,a,u,d,f,m,v){const w=new sC(o,a,u,d,f,m);return v&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const r=xe(t);le(Ls,"RemoteStore shutting down."),r.Ea.add(5),await Zl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class wC{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{le($i,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(le($i,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=fm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Of(n,e){n.asyncQueue.verifyOperationInProgress(),le($i,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Nw(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function A0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await EC(n);le($i,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>_0(e.remoteStore,o)),n._onlineComponents=e}async function EC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le($i,"Using user provided OfflineComponentProvider");try{await Of(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Zo("Error using user provided cache. Falling back to memory cache: "+t),await Of(n,new oh)}}else le($i,"Using default OfflineComponentProvider"),await Of(n,new _C(void 0));return n._offlineComponents}async function Zw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le($i,"Using user provided OnlineComponentProvider"),await A0(n,n._uninitializedComponentsProvider._online)):(le($i,"Using default OnlineComponentProvider"),await A0(n,new wp))),n._onlineComponents}function TC(n){return Zw(n).then(e=>e.syncEngine)}async function eE(n){const e=await Zw(n),t=e.eventManager;return t.onListen=oC.bind(null,e.syncEngine),t.onUnlisten=uC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=cC.bind(null,e.syncEngine),t}function SC(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new Jw({next:T=>{v.Nu(),u.enqueueAndForget(()=>zw(a,w));const C=T.docs.has(d);!C&&T.fromCache?m.reject(new fe(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&f&&f.source==="server"?m.reject(new fe(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new $w(Zp(d.path),v,{includeMetadataChanges:!0,qa:!0});return Bw(a,w)}(await eE(n),n.asyncQueue,e,t,r)),r.promise}function IC(n,e,t={}){const r=new Hr;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const v=new Jw({next:T=>{v.Nu(),u.enqueueAndForget(()=>zw(a,w)),T.fromCache&&f.source==="server"?m.reject(new fe(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new $w(d,v,{includeMetadataChanges:!0,qa:!0});return Bw(a,w)}(await eE(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firestore.googleapis.com",P0=!0;class C0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nE,this.ssl=P0}else this.host=e.host,this.ssl=e.ssl??P0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nP)throw new fe(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lh{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new C0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new C0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RA;switch(r.type){case"firstParty":return new DA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=x0.get(t);r&&(le("ComponentProvider","Removing Datastore"),x0.delete(t),r.terminate())}(this),Promise.resolve()}}function AC(n,e,t,r={}){n=Ms(n,Lh);const o=ua(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;o&&(x1(`https://${d}`),P1("Firestore",!0)),a.host!==nE&&a.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:o,emulatorOptions:r};if(!Vs(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Kt.MOCK_USER;else{m=e2(r.mockUserToken,n._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new fe(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Kt(w)}n._authCredentials=new kA(new B1(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oh(this.firestore,e,this._query)}}class St{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new St(this.firestore,e,this._key)}toJSON(){return{type:St._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Yl(t,St._jsonSchema))return new St(e,r||null,new ye(Qe.fromString(t.referencePath)))}}St._jsonSchemaVersion="firestore/documentReference/1.0",St._jsonSchema={type:gt("string",St._jsonSchemaVersion),referencePath:gt("string")};class Li extends Oh{constructor(e,t,r){super(e,t,Zp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new St(this.firestore,null,new ye(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function xC(n,e,...t){if(n=_n(n),z1("collection","path",e),n instanceof Lh){const r=Qe.fromString(e,...t);return zv(r),new Li(n,null,r)}{if(!(n instanceof St||n instanceof Li))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return zv(r),new Li(n.firestore,null,r)}}function R0(n,e,...t){if(n=_n(n),arguments.length===1&&(e=qp.newId()),z1("doc","path",e),n instanceof Lh){const r=Qe.fromString(e,...t);return Bv(r),new St(n,null,new ye(r))}{if(!(n instanceof St||n instanceof Li))throw new fe(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qe.fromString(e,...t));return Bv(r),new St(n.firestore,n instanceof Li?n.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="AsyncQueue";class N0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dw(this,"async_queue_retry"),this._c=()=>{const r=Lf();r&&le(k0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Lf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Lf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fa(e))throw e;le(k0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Qr("INTERNAL UNHANDLED ERROR: ",V0(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=dm.createAndSchedule(this,e,t,r,a=>this.hc(a));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:V0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function V0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class jh extends Lh{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new N0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N0(e),this._firestoreClient=void 0,await e}}}function PC(n,e){const t=typeof n=="object"?n:N1(),r=typeof n=="string"?n:Xc,o=Hp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=JI("firestore");a&&AC(o,...a)}return o}function ym(n){if(n._terminated)throw new fe(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||CC(n),n._firestoreClient}function CC(n){const e=n._freezeSettings(),t=function(o,a,u,d){return new YA(o,a,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tE(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new wC(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ut.fromBase64String(e))}catch(t){throw new fe(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:gt("string",Mn._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gr._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,gr._jsonSchema))return new gr(e.latitude,e.longitude)}}gr._jsonSchemaVersion="firestore/geoPoint/1.0",gr._jsonSchema={type:gt("string",gr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:yr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,yr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new yr(e.vectorValues);throw new fe(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yr._jsonSchemaVersion="firestore/vectorValue/1.0",yr._jsonSchema={type:gt("string",yr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/^__.*__$/;class kC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xl(e,this.data,t,this.fieldTransforms)}}function iE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class _m{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _m({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iE(this.Ac)&&RC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NC{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dh(e)}Cc(e,t,r,o=!1){return new _m({Ac:e,methodName:t,Dc:r,path:Ft.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VC(n){const e=n._freezeSettings(),t=Dh(n._databaseId);return new NC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DC(n,e,t,r,o,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,o);lE("Data must be an object, but it was:",u,r);const d=oE(r,u);let f,m;if(a.merge)f=new Zn(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const T=bC(e,w,t);if(!u.contains(T))throw new fe(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);LC(v,T)||v.push(T)}f=new Zn(v),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new kC(new bn(d),f,m)}function sE(n,e){if(aE(n=_n(n)))return lE("Unsupported field value:",e,n),oE(n,e);if(n instanceof rE)return function(r,o){if(!iE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const d of r){let f=sE(d,o.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=_n(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ye.fromDate(r);return{timestampValue:rh(o.serializer,a)}}if(r instanceof Ye){const a=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rh(o.serializer,a)}}if(r instanceof gr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:Tw(o.serializer,r._byteString)};if(r instanceof St){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof yr)return function(u,d){return{mapValue:{fields:{[X1]:{stringValue:J1},[Jc]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Sc("VectorValues must only contain numeric values.");return em(d.serializer,m)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${Kp(r)}`)}(n,e)}function oE(n,e){const t={};return W1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(n,(r,o)=>{const a=sE(o,e.mc(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function aE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof gr||n instanceof Mn||n instanceof St||n instanceof rE||n instanceof yr)}function lE(n,e,t){if(!aE(t)||!$1(t)){const r=Kp(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function bC(n,e,t){if((e=_n(e))instanceof vm)return e._internalPath;if(typeof e=="string")return uE(n,e);throw ah("Field path arguments must be of type string or ",n,!1,void 0,t)}const MC=new RegExp("[~\\*/\\[\\]]");function uE(n,e,t){if(e.search(MC)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vm(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ah(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new fe(Q.INVALID_ARGUMENT,d+n+f)}function LC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new St(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OC extends cE{data(){return super.data()}}function hE(n,e){return typeof e=="string"?uE(n,e):e instanceof vm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FC{convertValue(e,t="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return js(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){const t=e.fields?.[Jc].arrayValue?.values?.map(r=>dt(r.doubleValue));return new yr(t)}convertGeoPoint(e){return new gr(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=xh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qe.fromString(e);Be(Cw(r),9688,{name:e});const o=new Ol(r.get(1),r.get(3)),a=new ye(r.popFirst(5));return o.isEqual(t)||Qr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ks extends cE{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ks._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:gt("string",ks._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Uc extends ks{data(e={}){return super.data(e)}}class Go{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Uc(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new Uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new wl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Uc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new wl(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:BC(d.type),doc:f,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Go._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function BC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n){n=Ms(n,St);const e=Ms(n.firestore,jh);return SC(ym(e),n._key).then(t=>HC(e,n,t))}Go._jsonSchemaVersion="firestore/querySnapshot/1.0",Go._jsonSchema={type:gt("string",Go._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class dE extends FC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new St(this.firestore,null,t)}}function zC(n){n=Ms(n,Oh);const e=Ms(n.firestore,jh),t=ym(e),r=new dE(e);return jC(n._query),IC(t,n._query).then(o=>new Go(e,r,n,o))}function fb(n,e,t){n=Ms(n,St);const r=Ms(n.firestore,jh),o=UC(n.converter,e,t);return $C(r,[DC(VC(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Wr.none())])}function $C(n,e){return function(r,o){const a=new Hr;return r.asyncQueue.enqueueAndForget(async()=>hC(await TC(r),o,a)),a.promise}(ym(n),e)}function HC(n,e,t){const r=t.docs.get(e._key),o=new dE(n);return new ks(n,o,e._key,r,new wl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){ha=o})(ca),Jo(new Ds("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new jh(new NA(r.getProvider("auth-internal")),new bA(u,r.getProvider("app-check-internal")),function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(m.options.projectId,v)}(u,o),u);return a={useFetchStreams:t,...a},d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),bi(Ov,jv,e),bi(Ov,jv,"esm2020")})();function fE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WC=fE,pE=new Gl("auth","Firebase",fE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new zp("@firebase/auth");function qC(n,...e){lh.logLevel<=ke.WARN&&lh.warn(`Auth (${ca}): ${n}`,...e)}function Bc(n,...e){lh.logLevel<=ke.ERROR&&lh.error(`Auth (${ca}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n,...e){throw wm(n,...e)}function vr(n,...e){return wm(n,...e)}function mE(n,e,t){const r={...WC(),[e]:t};return new Gl("auth","Firebase",r).create(e,{appName:n.name})}function Oi(n){return mE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pE.create(n,...e)}function Ee(n,e,...t){if(!n)throw wm(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Bc(e),new Error(e)}function Xr(n,e){n||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){return typeof self<"u"&&self.location?.href||""}function KC(){return b0()==="http:"||b0()==="https:"}function b0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||o2()||"connection"in navigator)?navigator.onLine:!0}function QC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xr(t>e,"Short delay should be less than long delay!"),this.isMobile=r2()||a2()}get(){return GC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n,e){Xr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JC=new tu(3e4,6e4);function zs(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function qi(n,e,t,r,o={}){return yE(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=Ql({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...a};return s2()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&ua(n.emulatorConfig.host)&&(m.credentials="include"),gE.fetch()(await vE(n,n.config.apiHost,t,d),m)})}async function yE(n,e,t){n._canInitEmulator=!1;const r={...YC,...e};try{const o=new eR(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Rc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Rc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Rc(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw mE(n,v,m);tr(n,v)}}catch(o){if(o instanceof Zr)throw o;tr(n,"network-request-failed",{message:String(o)})}}async function Fh(n,e,t,r,o={}){const a=await qi(n,e,t,r,o);return"mfaPendingCredential"in a&&tr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function vE(n,e,t,r){const o=`${e}${t}?${r}`,a=n,u=a.config.emulator?Em(n.config,o):`${n.config.apiScheme}://${o}`;return XC.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function ZC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vr(this.auth,"network-request-failed")),JC.get())})}}function Rc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=vr(n,e,r);return o.customData._tokenResponse=t,o}function M0(n){return n!==void 0&&n.enterprise!==void 0}class tR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nR(n,e){return qi(n,"GET","/v2/recaptchaConfig",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(n,e){return qi(n,"POST","/v1/accounts:delete",e)}async function uh(n,e){return qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iR(n,e=!1){const t=_n(n),r=await t.getIdToken(e),o=Tm(r);Ee(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a?.sign_in_provider;return{claims:o,token:r,authTime:Rl(jf(o.auth_time)),issuedAtTime:Rl(jf(o.iat)),expirationTime:Rl(jf(o.exp)),signInProvider:u||null,signInSecondFactor:a?.sign_in_second_factor||null}}function jf(n){return Number(n)*1e3}function Tm(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=T1(t);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function L0(n){const e=Tm(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Zr&&sR(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function sR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(n){const e=n.auth,t=await n.getIdToken(),r=await Bl(n,uh(e,{idToken:t}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?_E(o.providerUserInfo):[],u=lR(n.providerData,a),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!u?.length,m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function aR(n){const e=_n(n);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lR(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function _E(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uR(n,e){const t=await yE(n,{},async()=>{const r=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=await vE(n,o,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&ua(n.emulatorConfig.host)&&(f.credentials="include"),gE.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cR(n,e){return qi(n,"POST","/v2/accounts:revokeToken",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const t=L0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await uR(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Qo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ee(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new oR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iR(this,e)}reload(){return aR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Bl(this,rR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:w,emailVerified:T,isAnonymous:C,providerData:L,stsTokenManager:B}=t;Ee(w&&B,e,"internal-error");const M=Qo.fromJSON(this.name,B);Ee(typeof w=="string",e,"internal-error"),Ai(r,e.name),Ai(o,e.name),Ee(typeof T=="boolean",e,"internal-error"),Ee(typeof C=="boolean",e,"internal-error"),Ai(a,e.name),Ai(u,e.name),Ai(d,e.name),Ai(f,e.name),Ai(m,e.name),Ai(v,e.name);const W=new er({uid:w,auth:e,email:o,emailVerified:T,displayName:r,isAnonymous:C,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:M,createdAt:m,lastLoginAt:v});return L&&Array.isArray(L)&&(W.providerData=L.map(G=>({...G}))),f&&(W._redirectEventId=f),W}static async _fromIdTokenResponse(e,t,r=!1){const o=new Qo;o.updateFromServerResponse(t);const a=new er({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ch(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ee(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?_E(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!a?.length,d=new Qo;d.updateFromIdToken(r);const f=new er({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function $r(n){Xr(n instanceof Function,"Expected a class definition");let e=O0.get(n);return e?(Xr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,O0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}wE.type="NONE";const j0=wE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n,e,t){return`firebase:${n}:${e}:${t}`}class Yo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,a),this.fullPersistenceKey=zc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uh(this.auth,{idToken:e}).catch(()=>{});return t?er._fromGetAccountInfoResponse(this.auth,t,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yo($r(j0),e,r);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||$r(j0);const u=zc(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const v=await m._get(u);if(v){let w;if(typeof v=="string"){const T=await uh(e,{idToken:v}).catch(()=>{});if(!T)break;w=await er._fromGetAccountInfoResponse(e,T,v)}else w=er._fromJSON(e,v);m!==a&&(d=w),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Yo(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Yo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xE(e))return"Blackberry";if(PE(e))return"Webos";if(TE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(AE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function EE(n=Yt()){return/firefox\//i.test(n)}function TE(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(n=Yt()){return/crios\//i.test(n)}function IE(n=Yt()){return/iemobile/i.test(n)}function AE(n=Yt()){return/android/i.test(n)}function xE(n=Yt()){return/blackberry/i.test(n)}function PE(n=Yt()){return/webos/i.test(n)}function Sm(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hR(n=Yt()){return Sm(n)&&!!window.navigator?.standalone}function dR(){return l2()&&document.documentMode===10}function CE(n=Yt()){return Sm(n)||AE(n)||PE(n)||xE(n)||/windows phone/i.test(n)||IE(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(n,e=[]){let t;switch(n){case"Browser":t=F0(Yt());break;case"Worker":t=`${F0(Yt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(n,e={}){return qi(n,"GET","/v2/passwordPolicy",zs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=6;class gR{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??mR,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U0(this),this.idTokenSubscription=new U0(this),this.beforeStateQueue=new fR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$r(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!a||a===u)&&d?.user&&(r=d.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Oi(this));const t=e?_n(e):null;return t&&Ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pR(this),t=new gR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await cR(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$r(e)||this._popupRedirectResolver;Ee(t,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[$r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ma(n){return _n(n)}class U0{constructor(e){this.auth=e,this.observer=null,this.addObserver=g2(t=>this.observer=t)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vR(n){Uh=n}function kE(n){return Uh.loadJS(n)}function _R(){return Uh.recaptchaEnterpriseScript}function wR(){return Uh.gapiScript}function ER(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TR{constructor(){this.enterprise=new SR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const IR="recaptcha-enterprise",NE="NO_RECAPTCHA";class AR{constructor(e){this.type=IR,this.auth=ma(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{nR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new tR(f);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function o(a,u,d){const f=window.grecaptcha;M0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(NE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TR().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&M0(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=_R();f.length!==0&&(f+=d),kE(f).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function B0(n,e,t,r=!1,o=!1){const a=new AR(n);let u;if(o)u=NE;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function z0(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await B0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await B0(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(n,e){const t=Hp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Vs(a,e??{}))return o;tr(o,"already-initialized")}return t.initialize({options:e})}function PR(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map($r);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function CR(n,e,t){const r=ma(n);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=VE(e),{host:u,port:d}=RR(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},v=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(Vs(m,r.config.emulator)&&Vs(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ua(u)?(x1(`${a}//${u}${f}`),P1("Auth",!0)):kR()}function VE(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RR(n){const e=VE(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:$0(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:$0(u)}}}function $0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kR(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function NR(n,e){return qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(n,e){return Fh(n,"POST","/v1/accounts:signInWithPassword",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(n,e){return Fh(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}async function bR(n,e){return Fh(n,"POST","/v1/accounts:signInWithEmailLink",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Im{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new zl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new zl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z0(e,t,"signInWithPassword",VR);case"emailLink":return DR(e,{email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return z0(e,r,"signUpPassword",NR);case"emailLink":return bR(e,{idToken:t,email:this._email,oobCode:this._password});default:tr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n,e){return Fh(n,"POST","/v1/accounts:signInWithIdp",zs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="http://localhost";class Os extends Im{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):tr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const u=new Os(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Xo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xo(e,t)}buildRequest(){const e={requestUri:MR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ql(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OR(n){const e=ml(gl(n)).link,t=e?ml(gl(e)).deep_link_id:null,r=ml(gl(n)).deep_link_id;return(r?ml(gl(r)).link:null)||r||t||e||n}class Am{constructor(e){const t=ml(gl(e)),r=t.apiKey??null,o=t.oobCode??null,a=LR(t.mode??null);Ee(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=OR(e);try{return new Am(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(){this.providerId=ga.PROVIDER_ID}static credential(e,t){return zl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Am.parseLink(t);return Ee(r,"argument-error"),zl._fromEmailAndCode(e,r.code,r.tenantId)}}ga.PROVIDER_ID="password";ga.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ga.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends DE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends nu{constructor(){super("facebook.com")}static credential(e){return Os._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Os._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ci.credential(t,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends nu{constructor(){super("github.com")}static credential(e){return Os._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends nu{constructor(){super("twitter.com")}static credential(e,t){return Os._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ki.credential(t,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await er._fromIdTokenResponse(e,r,o),u=H0(r);return new sa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=H0(r);return new sa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function H0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Zr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new hh(e,t,r,o)}}function bE(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(n,a,e,r):a})}async function jR(n,e,t=!1){const r=await Bl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return sa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(n,e,t=!1){const{auth:r}=n;if(Jn(r.app))return Promise.reject(Oi(r));const o="reauthenticate";try{const a=await Bl(n,bE(r,o,e,n),t);Ee(a.idToken,r,"internal-error");const u=Tm(a.idToken);Ee(u,r,"internal-error");const{sub:d}=u;return Ee(n.uid===d,r,"user-mismatch"),sa._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&tr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(n,e,t=!1){if(Jn(n.app))return Promise.reject(Oi(n));const r="signIn",o=await bE(n,r,e),a=await sa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function UR(n,e){return ME(ma(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(n){const e=ma(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function pb(n,e,t){return Jn(n.app)?Promise.reject(Oi(n)):UR(_n(n),ga.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&BR(n),r})}function zR(n,e,t,r){return _n(n).onIdTokenChanged(e,t,r)}function $R(n,e,t){return _n(n).beforeAuthStateChanged(e,t)}function mb(n,e,t,r){return _n(n).onAuthStateChanged(e,t,r)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=1e3,WR=10;class OE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);dR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,WR):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},HR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}OE.type="LOCAL";const qR=OE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jE.type="SESSION";const FE=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await KR(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=xm("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(w){const T=w;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return window}function QR(n){_r().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){return typeof _r().WorkerGlobalScope<"u"&&typeof _r().importScripts=="function"}async function YR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XR(){return navigator?.serviceWorker?.controller||null}function JR(){return UE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firebaseLocalStorageDb",ZR=1,fh="firebaseLocalStorage",zE="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function zh(n,e){return n.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function ek(){const n=indexedDB.deleteDatabase(BE);return new ru(n).toPromise()}function Sp(){const n=indexedDB.open(BE,ZR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fh,{keyPath:zE})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await ek(),e(await Sp()))})})}async function W0(n,e,t){const r=zh(n,!0).put({[zE]:e,value:t});return new ru(r).toPromise()}async function tk(n,e){const t=zh(n,!1).get(e),r=await new ru(t).toPromise();return r===void 0?null:r.value}function q0(n,e){const t=zh(n,!0).delete(e);return new ru(t).toPromise()}const nk=800,rk=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>rk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return UE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(JR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await YR(),!this.activeServiceWorker)return;this.sender=new GR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sp();return await W0(e,dh,"1"),await q0(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>tk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>q0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=zh(o,!1).getAll();return new ru(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const ik=$E;new tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(n,e){return e?$r(e):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Im{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ok(n){return ME(n.auth,new Pm(n),n.bypassAuthState)}function ak(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),FR(t,new Pm(n),n.bypassAuthState)}async function lk(n){const{auth:e,user:t}=n;return Ee(t,e,"internal-error"),jR(t,new Pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ok;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ak;default:tr(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=new tu(2e3,1e4);class Bo extends HE{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const e=xm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,uk.get())};e()}}Bo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck="pendingRedirect",$c=new Map;class hk extends HE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=$c.get(this.auth._key());if(!e){try{const r=await dk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}$c.set(this.auth._key(),e)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dk(n,e){const t=mk(e),r=pk(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function fk(n,e){$c.set(n._key(),e)}function pk(n){return $r(n._redirectPersistence)}function mk(n){return zc(ck,n.config.apiKey,n.name)}async function gk(n,e,t=!1){if(Jn(n.app))return Promise.reject(Oi(n));const r=ma(n),o=sk(r,e),u=await new hk(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=600*1e3;class vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_k(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!WE(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(K0(e))}saveEventToCache(e){this.cachedEventUids.add(K0(e)),this.lastProcessedEventTime=Date.now()}}function K0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WE({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function _k(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(n,e={}){return qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tk=/^https?/;async function Sk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await wk(n);for(const t of e)try{if(Ik(t))return}catch{}tr(n,"unauthorized-domain")}function Ik(n){const e=Ep(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!Tk.test(t))return!1;if(Ek.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new tu(3e4,6e4);function G0(){const n=_r().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function xk(n){return new Promise((e,t)=>{function r(){G0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G0(),t(vr(n,"network-request-failed"))},timeout:Ak.get()})}if(_r().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_r().gapi?.load)r();else{const o=ER("iframefcb");return _r()[o]=()=>{gapi.load?r():t(vr(n,"network-request-failed"))},kE(`${wR()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Hc=null,e})}let Hc=null;function Pk(n){return Hc=Hc||xk(n),Hc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=new tu(5e3,15e3),Rk="__/auth/iframe",kk="emulator/auth/iframe",Nk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dk(n){const e=n.config;Ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Em(e,kk):`https://${n.config.authDomain}/${Rk}`,r={apiKey:e.apiKey,appName:n.name,v:ca},o=Vk.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ql(r).slice(1)}`}async function bk(n){const e=await Pk(n),t=_r().gapi;return Ee(t,n,"internal-error"),e.open({where:document.body,url:Dk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nk,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=vr(n,"network-request-failed"),d=_r().setTimeout(()=>{a(u)},Ck.get());function f(){_r().clearTimeout(d),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lk=500,Ok=600,jk="_blank",Fk="http://localhost";class Q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uk(n,e,t,r=Lk,o=Ok){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...Mk,width:r.toString(),height:o.toString(),top:a,left:u},m=Yt().toLowerCase();t&&(d=SE(m)?jk:t),EE(m)&&(e=e||Fk,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[C,L])=>`${T}${C}=${L},`,"");if(hR(m)&&d!=="_self")return Bk(e||"",d),new Q0(null);const w=window.open(e||"",d,v);Ee(w,n,"popup-blocked");try{w.focus()}catch{}return new Q0(w)}function Bk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="__/auth/handler",$k="emulator/auth/handler",Hk=encodeURIComponent("fac");async function Y0(n,e,t,r,o,a){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ca,eventId:o};if(e instanceof DE){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",m2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries({}))u[v]=w}if(e instanceof nu){const v=e.getScopes().filter(w=>w!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const f=await n._getAppCheckToken(),m=f?`#${Hk}=${encodeURIComponent(f)}`:"";return`${Wk(n)}?${Ql(d).slice(1)}${m}`}function Wk({config:n}){return n.emulator?Em(n,$k):`https://${n.authDomain}/${zk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="webStorageSupport";class qk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=gk,this._overrideRedirectResult=fk}async _openPopup(e,t,r,o){Xr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await Y0(e,t,r,Ep(),o);return Uk(e,a,xm())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await Y0(e,t,r,Ep(),o);return QR(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Xr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await bk(e),r=new vk(e);return t.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ff,{type:Ff},o=>{const a=o?.[0]?.[Ff];a!==void 0&&t(!!a),tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Sk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CE()||TE()||Sm()}}const Kk=qk;var X0="@firebase/auth",J0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Yk(n){Jo(new Ds("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ee(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(n)},m=new yR(r,o,a,f);return PR(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ds("auth-internal",e=>{const t=ma(e.getProvider("auth").getImmediate());return(r=>new Gk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bi(X0,J0,Qk(n)),bi(X0,J0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=300,Jk=A1("authIdTokenMaxAge")||Xk;let Z0=null;const Zk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Jk)return;const o=t?.token;Z0!==o&&(Z0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function e4(n=N1()){const e=Hp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xR(n,{popupRedirectResolver:Kk,persistence:[ik,qR,FE]}),r=A1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=Zk(a.toString());$R(t,u,()=>u(t.currentUser)),zR(t,d=>u(d))}}const o=S1("auth");return o&&CR(t,`http://${o}`),t}function t4(){return document.getElementsByTagName("head")?.[0]??document}vR({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=vr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",t4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Yk("Browser");const Cm=ee.createContext({});function Rm(n){const e=ee.useRef(null);return e.current===null&&(e.current=n()),e.current}const $h=ee.createContext(null),km=ee.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class n4 extends ee.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function r4({children:n,isPresent:e}){const t=ee.useId(),r=ee.useRef(null),o=ee.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=ee.useContext(km);return ee.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:m}=o.current;if(e||!r.current||!u||!d)return;r.current.dataset.motionPopId=t;const v=document.createElement("style");return a&&(v.nonce=a),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            top: ${f}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[e]),A.jsx(n4,{isPresent:e,childRef:r,sizeRef:o,children:ee.cloneElement(n,{ref:r})})}const i4=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:o,presenceAffectsLayout:a,mode:u})=>{const d=Rm(s4),f=ee.useId(),m=ee.useCallback(w=>{d.set(w,!0);for(const T of d.values())if(!T)return;r&&r()},[d,r]),v=ee.useMemo(()=>({id:f,initial:e,isPresent:t,custom:o,onExitComplete:m,register:w=>(d.set(w,!1),()=>d.delete(w))}),a?[Math.random(),m]:[t,m]);return ee.useMemo(()=>{d.forEach((w,T)=>d.set(T,!1))},[t]),ee.useEffect(()=>{!t&&!d.size&&r&&r()},[t]),u==="popLayout"&&(n=A.jsx(r4,{isPresent:t,children:n})),A.jsx($h.Provider,{value:v,children:n})};function s4(){return new Map}function qE(n=!0){const e=ee.useContext($h);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:o}=e,a=ee.useId();ee.useEffect(()=>{n&&o(a)},[n]);const u=ee.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const kc=n=>n.key||"";function e_(n){const e=[];return ee.Children.forEach(n,t=>{ee.isValidElement(t)&&e.push(t)}),e}const Nm=typeof window<"u",KE=Nm?ee.useLayoutEffect:ee.useEffect,Hh=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1})=>{const[d,f]=qE(u),m=ee.useMemo(()=>e_(n),[n]),v=u&&!d?[]:m.map(kc),w=ee.useRef(!0),T=ee.useRef(m),C=Rm(()=>new Map),[L,B]=ee.useState(m),[M,W]=ee.useState(m);KE(()=>{w.current=!1,T.current=m;for(let se=0;se<M.length;se++){const ie=kc(M[se]);v.includes(ie)?C.delete(ie):C.get(ie)!==!0&&C.set(ie,!1)}},[M,v.length,v.join("-")]);const G=[];if(m!==L){let se=[...m];for(let ie=0;ie<M.length;ie++){const ue=M[ie],N=kc(ue);v.includes(N)||(se.splice(ie,0,ue),G.push(ue))}a==="wait"&&G.length&&(se=G),W(e_(se)),B(m);return}const{forceRender:J}=ee.useContext(Cm);return A.jsx(A.Fragment,{children:M.map(se=>{const ie=kc(se),ue=u&&!d?!1:m===M||v.includes(ie),N=()=>{if(C.has(ie))C.set(ie,!0);else return;let I=!0;C.forEach(P=>{P||(I=!1)}),I&&(J?.(),W(T.current),u&&f?.(),r&&r())};return A.jsx(i4,{isPresent:ue,initial:!w.current||t?void 0:!1,custom:ue?void 0:e,presenceAffectsLayout:o,mode:a,onExitComplete:ue?void 0:N,children:se},ie)})})},vn=n=>n;let GE=vn;function Vm(n){let e;return()=>(e===void 0&&(e=n()),e)}const oa=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},qr=n=>n*1e3,Kr=n=>n/1e3,o4={useManualTiming:!1};function a4(n){let e=new Set,t=new Set,r=!1,o=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(m){a.has(m)&&(f.schedule(m),n()),m(u)}const f={schedule:(m,v=!1,w=!1)=>{const C=w&&r?e:t;return v&&a.add(m),C.has(m)||C.add(m),m},cancel:m=>{t.delete(m),a.delete(m)},process:m=>{if(u=m,r){o=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,o&&(o=!1,f.process(m))}};return f}const Nc=["read","resolveKeyframes","update","preRender","render","postRender"],l4=40;function QE(n,e){let t=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=Nc.reduce((W,G)=>(W[G]=a4(a),W),{}),{read:d,resolveKeyframes:f,update:m,preRender:v,render:w,postRender:T}=u,C=()=>{const W=performance.now();t=!1,o.delta=r?1e3/60:Math.max(Math.min(W-o.timestamp,l4),1),o.timestamp=W,o.isProcessing=!0,d.process(o),f.process(o),m.process(o),v.process(o),w.process(o),T.process(o),o.isProcessing=!1,t&&e&&(r=!1,n(C))},L=()=>{t=!0,r=!0,o.isProcessing||n(C)};return{schedule:Nc.reduce((W,G)=>{const J=u[G];return W[G]=(se,ie=!1,ue=!1)=>(t||L(),J.schedule(se,ie,ue)),W},{}),cancel:W=>{for(let G=0;G<Nc.length;G++)u[Nc[G]].cancel(W)},state:o,steps:u}}const{schedule:Je,cancel:Hi,state:Ot,steps:Uf}=QE(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0),Dm=ee.createContext({strict:!1}),t_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},aa={};for(const n in t_)aa[n]={isEnabled:e=>t_[n].some(t=>!!e[t])};function Ip(n){for(const e in n)aa[e]={...aa[e],...n[e]}}function u4({children:n,features:e,strict:t=!1}){const[,r]=ee.useState(!Bf(e)),o=ee.useRef(void 0);if(!Bf(e)){const{renderer:a,...u}=e;o.current=a,Ip(u)}return ee.useEffect(()=>{Bf(e)&&e().then(({renderer:a,...u})=>{Ip(u),o.current=a,r(!0)})},[]),A.jsx(Dm.Provider,{value:{renderer:o.current,strict:t},children:n})}function Bf(n){return typeof n=="function"}const c4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ph(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||c4.has(n)}let YE=n=>!ph(n);function h4(n){n&&(YE=e=>e.startsWith("on")?!ph(e):n(e))}try{h4(require("@emotion/is-prop-valid").default)}catch{}function d4(n,e,t){const r={};for(const o in n)o==="values"&&typeof n.values=="object"||(YE(o)||t===!0&&ph(o)||!e&&!ph(o)||n.draggable&&o.startsWith("onDrag"))&&(r[o]=n[o]);return r}function f4(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,o)=>o==="create"?n:(e.has(o)||e.set(o,n(o)),e.get(o))})}const Wh=ee.createContext({});function $l(n){return typeof n=="string"||Array.isArray(n)}function qh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const bm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mm=["initial",...bm];function Kh(n){return qh(n.animate)||Mm.some(e=>$l(n[e]))}function XE(n){return!!(Kh(n)||n.variants)}function p4(n,e){if(Kh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||$l(t)?t:void 0,animate:$l(r)?r:void 0}}return n.inherit!==!1?e:{}}function m4(n){const{initial:e,animate:t}=p4(n,ee.useContext(Wh));return ee.useMemo(()=>({initial:e,animate:t}),[n_(e),n_(t)])}function n_(n){return Array.isArray(n)?n.join(" "):n}const g4=Symbol.for("motionComponentSymbol");function zo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function y4(n,e,t){return ee.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):zo(t)&&(t.current=r))},[e])}const Lm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),v4="framerAppearId",JE="data-"+Lm(v4),{schedule:Om}=QE(queueMicrotask,!1),ZE=ee.createContext({});function _4(n,e,t,r,o){var a,u;const{visualElement:d}=ee.useContext(Wh),f=ee.useContext(Dm),m=ee.useContext($h),v=ee.useContext(km).reducedMotion,w=ee.useRef(null);r=r||f.renderer,!w.current&&r&&(w.current=r(n,{visualState:e,parent:d,props:t,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const T=w.current,C=ee.useContext(ZE);T&&!T.projection&&o&&(T.type==="html"||T.type==="svg")&&w4(w.current,t,o,C);const L=ee.useRef(!1);ee.useInsertionEffect(()=>{T&&L.current&&T.update(t,m)});const B=t[JE],M=ee.useRef(!!B&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,B))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,B)));return KE(()=>{T&&(L.current=!0,window.MotionIsMounted=!0,T.updateFeatures(),Om.render(T.render),M.current&&T.animationState&&T.animationState.animateChanges())}),ee.useEffect(()=>{T&&(!M.current&&T.animationState&&T.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var W;(W=window.MotionHandoffMarkAsComplete)===null||W===void 0||W.call(window,B)}),M.current=!1))}),T}function w4(n,e,t,r){const{layoutId:o,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:eT(n.parent)),n.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||d&&zo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function eT(n){if(n)return n.options.allowProjection!==!1?n.projection:eT(n.parent)}function E4({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:o}){var a,u;n&&Ip(n);function d(m,v){let w;const T={...ee.useContext(km),...m,layoutId:T4(m)},{isStatic:C}=T,L=m4(m),B=r(m,C);if(!C&&Nm){S4();const M=I4(T);w=M.MeasureLayout,L.visualElement=_4(o,B,T,e,M.ProjectionNode)}return A.jsxs(Wh.Provider,{value:L,children:[w&&L.visualElement?A.jsx(w,{visualElement:L.visualElement,...T}):null,t(o,m,y4(B,L.visualElement,v),B,C,L.visualElement)]})}d.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=ee.forwardRef(d);return f[g4]=o,f}function T4({layoutId:n}){const e=ee.useContext(Cm).id;return e&&n!==void 0?e+"-"+n:n}function S4(n,e){ee.useContext(Dm).strict}function I4(n){const{drag:e,layout:t}=aa;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const A4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jm(n){return typeof n!="string"||n.includes("-")?!1:!!(A4.indexOf(n)>-1||/[A-Z]/u.test(n))}function r_(n){const e=[{},{}];return n?.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Fm(n,e,t,r){if(typeof e=="function"){const[o,a]=r_(r);e=e(t!==void 0?t:n.custom,o,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,a]=r_(r);e=e(t!==void 0?t:n.custom,o,a)}return e}const Ap=n=>Array.isArray(n),x4=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),P4=n=>Ap(n)?n[n.length-1]||0:n,Qt=n=>!!(n&&n.getVelocity);function Wc(n){const e=Qt(n)?n.get():n;return x4(e)?e.toValue():e}function C4({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,o,a){const u={latestValues:R4(r,o,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const tT=n=>(e,t)=>{const r=ee.useContext(Wh),o=ee.useContext($h),a=()=>C4(n,e,r,o);return t?a():Rm(a)};function R4(n,e,t,r){const o={},a=r(n,{});for(const T in a)o[T]=Wc(a[T]);let{initial:u,animate:d}=n;const f=Kh(n),m=XE(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let v=t?t.initial===!1:!1;v=v||u===!1;const w=v?d:u;if(w&&typeof w!="boolean"&&!qh(w)){const T=Array.isArray(w)?w:[w];for(let C=0;C<T.length;C++){const L=Fm(n,T[C]);if(L){const{transitionEnd:B,transition:M,...W}=L;for(const G in W){let J=W[G];if(Array.isArray(J)){const se=v?J.length-1:0;J=J[se]}J!==null&&(o[G]=J)}for(const G in B)o[G]=B[G]}}}return o}const ya=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$s=new Set(ya),nT=n=>e=>typeof e=="string"&&e.startsWith(n),rT=nT("--"),k4=nT("var(--"),Um=n=>k4(n)?N4.test(n.split("/*")[0].trim()):!1,N4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iT=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Jr=(n,e,t)=>t>e?e:t<n?n:t,va={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Hl={...va,transform:n=>Jr(0,1,n)},Vc={...va,default:1},iu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),xi=iu("deg"),wr=iu("%"),we=iu("px"),V4=iu("vh"),D4=iu("vw"),i_={...wr,parse:n=>wr.parse(n)/100,transform:n=>wr.transform(n*100)},b4={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},M4={rotate:xi,rotateX:xi,rotateY:xi,rotateZ:xi,scale:Vc,scaleX:Vc,scaleY:Vc,scaleZ:Vc,skew:xi,skewX:xi,skewY:xi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:Hl,originX:i_,originY:i_,originZ:we},s_={...va,transform:Math.round},Bm={...b4,...M4,zIndex:s_,size:we,fillOpacity:Hl,strokeOpacity:Hl,numOctaves:s_},L4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},O4=ya.length;function j4(n,e,t){let r="",o=!0;for(let a=0;a<O4;a++){const u=ya[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const m=iT(d,Bm[u]);if(!f){o=!1;const v=L4[u]||u;r+=`${v}(${m}) `}t&&(e[u]=m)}}return r=r.trim(),t?r=t(e,o?"":r):o&&(r="none"),r}function zm(n,e,t){const{style:r,vars:o,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const m=e[f];if($s.has(f)){u=!0;continue}else if(rT(f)){o[f]=m;continue}else{const v=iT(m,Bm[f]);f.startsWith("origin")?(d=!0,a[f]=v):r[f]=v}}if(e.transform||(u||t?r.transform=j4(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:v=0}=a;r.transformOrigin=`${f} ${m} ${v}`}}const F4={offset:"stroke-dashoffset",array:"stroke-dasharray"},U4={offset:"strokeDashoffset",array:"strokeDasharray"};function B4(n,e,t=1,r=0,o=!0){n.pathLength=1;const a=o?F4:U4;n[a.offset]=we.transform(-r);const u=we.transform(e),d=we.transform(t);n[a.array]=`${u} ${d}`}function o_(n,e,t){return typeof n=="string"?n:we.transform(e+t*n)}function z4(n,e,t){const r=o_(e,n.x,n.width),o=o_(t,n.y,n.height);return`${r} ${o}`}function $m(n,{attrX:e,attrY:t,attrScale:r,originX:o,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},v,w){if(zm(n,m,w),v){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:T,style:C,dimensions:L}=n;T.transform&&(L&&(C.transform=T.transform),delete T.transform),L&&(o!==void 0||a!==void 0||C.transform)&&(C.transformOrigin=z4(L,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(T.x=e),t!==void 0&&(T.y=t),r!==void 0&&(T.scale=r),u!==void 0&&B4(T,u,d,f,!1)}const Hm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),sT=()=>({...Hm(),attrs:{}}),Wm=n=>typeof n=="string"&&n.toLowerCase()==="svg";function oT(n,{style:e,vars:t},r,o){Object.assign(n.style,e,o&&o.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const aT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lT(n,e,t,r){oT(n,e,void 0,r);for(const o in e.attrs)n.setAttribute(aT.has(o)?o:Lm(o),e.attrs[o])}const mh={};function $4(n){Object.assign(mh,n)}function uT(n,{layout:e,layoutId:t}){return $s.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!mh[n]||n==="opacity")}function qm(n,e,t){var r;const{style:o}=n,a={};for(const u in o)(Qt(o[u])||e.style&&Qt(e.style[u])||uT(u,n)||((r=t?.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=o[u]);return a}function cT(n,e,t){const r=qm(n,e,t);for(const o in n)if(Qt(n[o])||Qt(e[o])){const a=ya.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[a]=n[o]}return r}function H4(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const a_=["x","y","width","height","cx","cy","r"],W4={useVisualState:tT({scrapeMotionValuesFromProps:cT,createRenderState:sT,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:o})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in o)if($s.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<a_.length;d++){const f=a_[d];n[f]!==e[f]&&(u=!0)}u&&Je.read(()=>{H4(t,r),Je.render(()=>{$m(r,o,Wm(t.tagName),n.transformTemplate),lT(t,r)})})}})},q4={useVisualState:tT({scrapeMotionValuesFromProps:qm,createRenderState:Hm})};function hT(n,e,t){for(const r in e)!Qt(e[r])&&!uT(r,t)&&(n[r]=e[r])}function K4({transformTemplate:n},e){return ee.useMemo(()=>{const t=Hm();return zm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function G4(n,e){const t=n.style||{},r={};return hT(r,t,n),Object.assign(r,K4(n,e)),r}function Q4(n,e){const t={},r=G4(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function Y4(n,e,t,r){const o=ee.useMemo(()=>{const a=sT();return $m(a,e,Wm(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};hT(a,n.style,n),o.style={...a,...o.style}}return o}function X4(n=!1){return(t,r,o,{latestValues:a},u)=>{const f=(jm(t)?Y4:Q4)(r,a,u,t),m=d4(r,typeof t=="string",n),v=t!==ee.Fragment?{...m,...f,ref:o}:{},{children:w}=r,T=ee.useMemo(()=>Qt(w)?w.get():w,[w]);return ee.createElement(t,{...v,children:T})}}function J4(n,e){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...jm(r)?W4:q4,preloadedFeatures:n,useRender:X4(o),createVisualElement:e,Component:r};return E4(u)}}function dT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Gh(n,e,t){const r=n.getProps();return Fm(r,e,t!==void 0?t:r.custom,n)}const Z4=Vm(()=>window.ScrollTimeline!==void 0);class eN{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(o=>{if(Z4()&&o.attachTimeline)return o.attachTimeline(e);if(typeof t=="function")return t(o)});return()=>{r.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tN extends eN{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Km(n,e){return n?n[e]||n.default||n:void 0}const xp=2e4;function fT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<xp;)e+=t,r=n.next(e);return e>=xp?1/0:e}function Gm(n){return typeof n=="function"}function l_(n,e){n.timeline=e,n.onfinish=null}const Qm=n=>Array.isArray(n)&&typeof n[0]=="number",nN={linearEasing:void 0};function rN(n,e){const t=Vm(n);return()=>{var r;return(r=nN[e])!==null&&r!==void 0?r:t()}}const gh=rN(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pT=(n,e,t=10)=>{let r="";const o=Math.max(Math.round(e/t),2);for(let a=0;a<o;a++)r+=n(oa(0,o-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function mT(n){return!!(typeof n=="function"&&gh()||!n||typeof n=="string"&&(n in Pp||gh())||Qm(n)||Array.isArray(n)&&n.every(mT))}const El=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Pp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:El([0,.65,.55,1]),circOut:El([.55,0,1,.45]),backIn:El([.31,.01,.66,-.59]),backOut:El([.33,1.53,.69,.99])};function gT(n,e){if(n)return typeof n=="function"&&gh()?pT(n,e):Qm(n)?El(n):Array.isArray(n)?n.map(t=>gT(t,e)||Pp.easeOut):Pp[n]}const Xn={x:!1,y:!1};function yT(){return Xn.x||Xn.y}function vT(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let o=document;const a=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function _T(n,e){const t=vT(n),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[t,o,()=>r.abort()]}function u_(n){return e=>{e.pointerType==="touch"||yT()||n(e)}}function iN(n,e,t={}){const[r,o,a]=_T(n,t),u=u_(d=>{const{target:f}=d,m=e(d);if(typeof m!="function"||!f)return;const v=u_(w=>{m(w),f.removeEventListener("pointerleave",v)});f.addEventListener("pointerleave",v,o)});return r.forEach(d=>{d.addEventListener("pointerenter",u,o)}),a}const wT=(n,e)=>e?n===e?!0:wT(n,e.parentElement):!1,Ym=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,sN=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oN(n){return sN.has(n.tagName)||n.tabIndex!==-1}const Tl=new WeakSet;function c_(n){return e=>{e.key==="Enter"&&n(e)}}function zf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const aN=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=c_(()=>{if(Tl.has(t))return;zf(t,"down");const o=c_(()=>{zf(t,"up")}),a=()=>zf(t,"cancel");t.addEventListener("keyup",o,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function h_(n){return Ym(n)&&!yT()}function lN(n,e,t={}){const[r,o,a]=_T(n,t),u=d=>{const f=d.currentTarget;if(!h_(d)||Tl.has(f))return;Tl.add(f);const m=e(d),v=(C,L)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",T),!(!h_(C)||!Tl.has(f))&&(Tl.delete(f),typeof m=="function"&&m(C,{success:L}))},w=C=>{v(C,t.useGlobalTarget||wT(f,C.target))},T=C=>{v(C,!1)};window.addEventListener("pointerup",w,o),window.addEventListener("pointercancel",T,o)};return r.forEach(d=>{!oN(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,o),d.addEventListener("focus",m=>aN(m,o),o)}),a}function uN(n){return n==="x"||n==="y"?Xn[n]?null:(Xn[n]=!0,()=>{Xn[n]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}const ET=new Set(["width","height","top","left","right","bottom",...ya]);let qc;function cN(){qc=void 0}const Er={now:()=>(qc===void 0&&Er.set(Ot.isProcessing||o4.useManualTiming?Ot.timestamp:performance.now()),qc),set:n=>{qc=n,queueMicrotask(cN)}};function Xm(n,e){n.indexOf(e)===-1&&n.push(e)}function Jm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Zm{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Jm(this.subscriptions,e)}notify(e,t,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,r);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function TT(n,e){return e?n*(1e3/e):0}const d_=30,hN=n=>!isNaN(parseFloat(n));class dN{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const a=Er.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Er.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hN(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Zm);const r=this.events[e].add(t);return e==="change"?()=>{r(),Je.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>d_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,d_);return TT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wl(n,e){return new dN(n,e)}function fN(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Wl(t))}function pN(n,e){const t=Gh(n,e);let{transitionEnd:r={},transition:o={},...a}=t||{};a={...a,...r};for(const u in a){const d=P4(a[u]);fN(n,u,d)}}function mN(n){return!!(Qt(n)&&n.add)}function Cp(n,e){const t=n.getValue("willChange");if(mN(t))return t.add(e)}function ST(n){return n.props[JE]}const IT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,gN=1e-7,yN=12;function vN(n,e,t,r,o){let a,u,d=0;do u=e+(t-e)/2,a=IT(u,r,o)-n,a>0?t=u:e=u;while(Math.abs(a)>gN&&++d<yN);return u}function su(n,e,t,r){if(n===e&&t===r)return vn;const o=a=>vN(a,0,1,n,t);return a=>a===0||a===1?a:IT(o(a),e,r)}const AT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,xT=n=>e=>1-n(1-e),PT=su(.33,1.53,.69,.99),eg=xT(PT),CT=AT(eg),RT=n=>(n*=2)<1?.5*eg(n):.5*(2-Math.pow(2,-10*(n-1))),tg=n=>1-Math.sin(Math.acos(n)),kT=xT(tg),NT=AT(tg),VT=n=>/^0[^.\s]+$/u.test(n);function _N(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||VT(n):!0}const kl=n=>Math.round(n*1e5)/1e5,ng=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wN(n){return n==null}const EN=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rg=(n,e)=>t=>!!(typeof t=="string"&&EN.test(t)&&t.startsWith(n)||e&&!wN(t)&&Object.prototype.hasOwnProperty.call(t,e)),DT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[o,a,u,d]=r.match(ng);return{[n]:parseFloat(o),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},TN=n=>Jr(0,255,n),$f={...va,transform:n=>Math.round(TN(n))},Rs={test:rg("rgb","red"),parse:DT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+$f.transform(n)+", "+$f.transform(e)+", "+$f.transform(t)+", "+kl(Hl.transform(r))+")"};function SN(n){let e="",t="",r="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Rp={test:rg("#"),parse:SN,transform:Rs.transform},$o={test:rg("hsl","hue"),parse:DT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+wr.transform(kl(e))+", "+wr.transform(kl(t))+", "+kl(Hl.transform(r))+")"},qt={test:n=>Rs.test(n)||Rp.test(n)||$o.test(n),parse:n=>Rs.test(n)?Rs.parse(n):$o.test(n)?$o.parse(n):Rp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Rs.transform(n):$o.transform(n)},IN=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AN(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(ng))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(IN))===null||t===void 0?void 0:t.length)||0)>0}const bT="number",MT="color",xN="var",PN="var(",f_="${}",CN=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ql(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},o=[];let a=0;const d=e.replace(CN,f=>(qt.test(f)?(r.color.push(a),o.push(MT),t.push(qt.parse(f))):f.startsWith(PN)?(r.var.push(a),o.push(xN),t.push(f)):(r.number.push(a),o.push(bT),t.push(parseFloat(f))),++a,f_)).split(f_);return{values:t,split:d,indexes:r,types:o}}function LT(n){return ql(n).values}function OT(n){const{split:e,types:t}=ql(n),r=e.length;return o=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],o[u]!==void 0){const d=t[u];d===bT?a+=kl(o[u]):d===MT?a+=qt.transform(o[u]):a+=o[u]}return a}}const RN=n=>typeof n=="number"?0:n;function kN(n){const e=LT(n);return OT(n)(e.map(RN))}const Wi={test:AN,parse:LT,createTransformer:OT,getAnimatableNone:kN},NN=new Set(["brightness","contrast","saturate","opacity"]);function VN(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(ng)||[];if(!r)return n;const o=t.replace(r,"");let a=NN.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+o+")"}const DN=/\b([a-z-]*)\(.*?\)/gu,kp={...Wi,getAnimatableNone:n=>{const e=n.match(DN);return e?e.map(VN).join(" "):n}},bN={...Bm,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:kp,WebkitFilter:kp},ig=n=>bN[n];function jT(n,e){let t=ig(n);return t!==kp&&(t=Wi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const MN=new Set(["auto","none","0"]);function LN(n,e,t){let r=0,o;for(;r<n.length&&!o;){const a=n[r];typeof a=="string"&&!MN.has(a)&&ql(a).values.length&&(o=n[r]),r++}if(o&&t)for(const a of e)n[a]=jT(t,o)}const p_=n=>n===va||n===we,m_=(n,e)=>parseFloat(n.split(", ")[e]),g_=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return m_(o[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?m_(a[1],n):0}},ON=new Set(["x","y","z"]),jN=ya.filter(n=>!ON.has(n));function FN(n){const e=[];return jN.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const la={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:g_(4,13),y:g_(5,14)};la.translateX=la.x;la.translateY=la.y;const Ns=new Set;let Np=!1,Vp=!1;function FT(){if(Vp){const n=Array.from(Ns).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const o=FN(r);o.length&&(t.set(r,o),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=t.get(r);o&&o.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vp=!1,Np=!1,Ns.forEach(n=>n.complete()),Ns.clear()}function UT(){Ns.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vp=!0)})}function UN(){UT(),FT()}class sg{constructor(e,t,r,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ns.add(this),Np||(Np=!0,Je.read(UT),Je.resolveKeyframes(FT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o?.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ns.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ns.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const BT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),BN=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zN(n){const e=BN.exec(n);if(!e)return[,];const[,t,r,o]=e;return[`--${t??r}`,o]}function zT(n,e,t=1){const[r,o]=zN(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return BT(u)?parseFloat(u):u}return Um(o)?zT(o,e,t+1):o}const $T=n=>e=>e.test(n),$N={test:n=>n==="auto",parse:n=>n},HT=[va,we,wr,xi,D4,V4,$N],y_=n=>HT.find($T(n));class WT extends sg{constructor(e,t,r,o,a){super(e,t,r,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Um(m))){const v=zT(m,t.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!ET.has(r)||e.length!==2)return;const[o,a]=e,u=y_(o),d=y_(a);if(u!==d)if(p_(u)&&p_(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let o=0;o<e.length;o++)_N(e[o])&&r.push(o);r.length&&LN(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=la[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const o=t[t.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:o}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,d=o[u];o[u]=la[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const v_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Wi.test(n)||n==="0")&&!n.startsWith("url("));function HN(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function WN(n,e,t,r){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=v_(o,e),d=v_(a,e);return!u||!d?!1:HN(n)||(t==="spring"||Gm(t))&&r}const qN=n=>n!==null;function Qh(n,{repeat:e,repeatType:t="loop"},r){const o=n.filter(qN),a=e&&t!=="loop"&&e%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const KN=40;class qT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Er.now(),this.options={autoplay:e,delay:t,type:r,repeat:o,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KN?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&UN(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=Er.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!WN(e,r,o,a))if(u)this.options.duration=0;else{f&&f(Qh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,t);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...v},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const it=(n,e,t)=>n+(e-n)*t;function Hf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function GN({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let o=0,a=0,u=0;if(!e)o=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Hf(f,d,n+1/3),a=Hf(f,d,n),u=Hf(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function yh(n,e){return t=>t>0?e:n}const Wf=(n,e,t)=>{const r=n*n,o=t*(e*e-r)+r;return o<0?0:Math.sqrt(o)},QN=[Rp,Rs,$o],YN=n=>QN.find(e=>e.test(n));function __(n){const e=YN(n);if(!e)return!1;let t=e.parse(n);return e===$o&&(t=GN(t)),t}const w_=(n,e)=>{const t=__(n),r=__(e);if(!t||!r)return yh(n,e);const o={...t};return a=>(o.red=Wf(t.red,r.red,a),o.green=Wf(t.green,r.green,a),o.blue=Wf(t.blue,r.blue,a),o.alpha=it(t.alpha,r.alpha,a),Rs.transform(o))},XN=(n,e)=>t=>e(n(t)),ou=(...n)=>n.reduce(XN),Dp=new Set(["none","hidden"]);function JN(n,e){return Dp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function ZN(n,e){return t=>it(n,e,t)}function og(n){return typeof n=="number"?ZN:typeof n=="string"?Um(n)?yh:qt.test(n)?w_:nV:Array.isArray(n)?KT:typeof n=="object"?qt.test(n)?w_:eV:yh}function KT(n,e){const t=[...n],r=t.length,o=n.map((a,u)=>og(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=o[u](a);return t}}function eV(n,e){const t={...n,...e},r={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(r[o]=og(n[o])(n[o],e[o]));return o=>{for(const a in r)t[a]=r[a](o);return t}}function tV(n,e){var t;const r=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][o[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,o[u]++}return r}const nV=(n,e)=>{const t=Wi.createTransformer(e),r=ql(n),o=ql(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Dp.has(n)&&!o.values.length||Dp.has(e)&&!r.values.length?JN(n,e):ou(KT(tV(r,o),o.values),t):yh(n,e)};function GT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?it(n,e,t):og(n)(n,e)}const rV=5;function QT(n,e,t){const r=Math.max(e-rV,0);return TT(t-n(r),e-r)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qf=.001;function iV({duration:n=lt.duration,bounce:e=lt.bounce,velocity:t=lt.velocity,mass:r=lt.mass}){let o,a,u=1-e;u=Jr(lt.minDamping,lt.maxDamping,u),n=Jr(lt.minDuration,lt.maxDuration,Kr(n)),u<1?(o=m=>{const v=m*u,w=v*n,T=v-t,C=bp(m,u),L=Math.exp(-w);return qf-T/C*L},a=m=>{const w=m*u*n,T=w*t+t,C=Math.pow(u,2)*Math.pow(m,2)*n,L=Math.exp(-w),B=bp(Math.pow(m,2),u);return(-o(m)+qf>0?-1:1)*((T-C)*L)/B}):(o=m=>{const v=Math.exp(-m*n),w=(m-t)*n+1;return-qf+v*w},a=m=>{const v=Math.exp(-m*n),w=(t-m)*(n*n);return v*w});const d=5/n,f=oV(o,a,d);if(n=qr(n),isNaN(f))return{stiffness:lt.stiffness,damping:lt.damping,duration:n};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:n}}}const sV=12;function oV(n,e,t){let r=t;for(let o=1;o<sV;o++)r=r-n(r)/e(r);return r}function bp(n,e){return n*Math.sqrt(1-e*e)}const aV=["duration","bounce"],lV=["stiffness","damping","mass"];function E_(n,e){return e.some(t=>n[t]!==void 0)}function uV(n){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...n};if(!E_(n,lV)&&E_(n,aV))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),o=r*r,a=2*Jr(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:lt.mass,stiffness:o,damping:a}}else{const t=iV(n);e={...e,...t,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function YT(n=lt.visualDuration,e=lt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:o}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:m,mass:v,duration:w,velocity:T,isResolvedFromDuration:C}=uV({...t,velocity:-Kr(t.velocity||0)}),L=T||0,B=m/(2*Math.sqrt(f*v)),M=u-a,W=Kr(Math.sqrt(f/v)),G=Math.abs(M)<5;r||(r=G?lt.restSpeed.granular:lt.restSpeed.default),o||(o=G?lt.restDelta.granular:lt.restDelta.default);let J;if(B<1){const ie=bp(W,B);J=ue=>{const N=Math.exp(-B*W*ue);return u-N*((L+B*W*M)/ie*Math.sin(ie*ue)+M*Math.cos(ie*ue))}}else if(B===1)J=ie=>u-Math.exp(-W*ie)*(M+(L+W*M)*ie);else{const ie=W*Math.sqrt(B*B-1);J=ue=>{const N=Math.exp(-B*W*ue),I=Math.min(ie*ue,300);return u-N*((L+B*W*M)*Math.sinh(I)+ie*M*Math.cosh(I))/ie}}const se={calculatedDuration:C&&w||null,next:ie=>{const ue=J(ie);if(C)d.done=ie>=w;else{let N=0;B<1&&(N=ie===0?qr(L):QT(J,ie,ue));const I=Math.abs(N)<=r,P=Math.abs(u-ue)<=o;d.done=I&&P}return d.value=d.done?u:ue,d},toString:()=>{const ie=Math.min(fT(se),xp),ue=pT(N=>se.next(ie*N).value,ie,30);return ie+"ms "+ue}};return se}function T_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:v}){const w=n[0],T={done:!1,value:w},C=I=>d!==void 0&&I<d||f!==void 0&&I>f,L=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let B=t*e;const M=w+B,W=u===void 0?M:u(M);W!==M&&(B=W-w);const G=I=>-B*Math.exp(-I/r),J=I=>W+G(I),se=I=>{const P=G(I),V=J(I);T.done=Math.abs(P)<=m,T.value=T.done?W:V};let ie,ue;const N=I=>{C(T.value)&&(ie=I,ue=YT({keyframes:[T.value,L(T.value)],velocity:QT(J,I,T.value),damping:o,stiffness:a,restDelta:m,restSpeed:v}))};return N(0),{calculatedDuration:null,next:I=>{let P=!1;return!ue&&ie===void 0&&(P=!0,se(I),N(I)),ie!==void 0&&I>=ie?ue.next(I-ie):(!P&&se(I),T)}}}const cV=su(.42,0,1,1),hV=su(0,0,.58,1),XT=su(.42,0,.58,1),dV=n=>Array.isArray(n)&&typeof n[0]!="number",fV={linear:vn,easeIn:cV,easeInOut:XT,easeOut:hV,circIn:tg,circInOut:NT,circOut:kT,backIn:eg,backInOut:CT,backOut:PT,anticipate:RT},S_=n=>{if(Qm(n)){GE(n.length===4);const[e,t,r,o]=n;return su(e,t,r,o)}else if(typeof n=="string")return fV[n];return n};function pV(n,e,t){const r=[],o=t||GT,a=n.length-1;for(let u=0;u<a;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||vn:e;d=ou(f,d)}r.push(d)}return r}function mV(n,e,{clamp:t=!0,ease:r,mixer:o}={}){const a=n.length;if(GE(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=pV(e,r,o),f=d.length,m=v=>{if(u&&v<n[0])return e[0];let w=0;if(f>1)for(;w<n.length-2&&!(v<n[w+1]);w++);const T=oa(n[w],n[w+1],v);return d[w](T)};return t?v=>m(Jr(n[0],n[a-1],v)):m}function gV(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const o=oa(0,e,r);n.push(it(t,1,o))}}function yV(n){const e=[0];return gV(e,n.length-1),e}function vV(n,e){return n.map(t=>t*e)}function _V(n,e){return n.map(()=>e||XT).splice(0,n.length-1)}function vh({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const o=dV(r)?r.map(S_):S_(r),a={done:!1,value:e[0]},u=vV(t&&t.length===e.length?t:yV(e),n),d=mV(u,e,{ease:Array.isArray(o)?o:_V(e,o)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const wV=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Je.update(e,!0),stop:()=>Hi(e),now:()=>Ot.isProcessing?Ot.timestamp:Er.now()}},EV={decay:T_,inertia:T_,tween:vh,keyframes:vh,spring:YT},TV=n=>n/100;class ag extends qT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:o,keyframes:a}=this.options,u=o?.KeyframeResolver||sg,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new u(a,d,t,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,d=Gm(t)?t:EV[t]||vh;let f,m;d!==vh&&typeof e[0]!="number"&&(f=ou(TV,GT(e[0],e[1])),e=[0,100]);const v=d({...this.options,keyframes:e});a==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=fT(v));const{calculatedDuration:w}=v,T=w+o,C=T*(r+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:T,totalDuration:C}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:v,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:T,repeat:C,repeatType:L,repeatDelay:B,onUpdate:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const W=this.currentTime-T*(this.speed>=0?1:-1),G=this.speed>=0?W<0:W>v;this.currentTime=Math.max(W,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let J=this.currentTime,se=a;if(C){const I=Math.min(this.currentTime,v)/w;let P=Math.floor(I),V=I%1;!V&&I>=1&&(V=1),V===1&&P--,P=Math.min(P,C+1),!!(P%2)&&(L==="reverse"?(V=1-V,B&&(V-=B/w)):L==="mirror"&&(se=u)),J=Jr(0,1,V)*w}const ie=G?{done:!1,value:f[0]}:se.next(J);d&&(ie.value=d(ie.value));let{done:ue}=ie;!G&&m!==null&&(ue=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ue);return N&&o!==void 0&&(ie.value=Qh(f,this.options,o)),M&&M(ie.value),N&&this.finish(),ie}get duration(){const{resolved:e}=this;return e?Kr(e.calculatedDuration):0}get time(){return Kr(this.currentTime)}set time(e){e=qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Kr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=wV,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const SV=new Set(["opacity","clipPath","filter","transform"]);function IV(n,e,t,{delay:r=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const m={[e]:t};f&&(m.offset=f);const v=gT(d,o);return Array.isArray(v)&&(m.easing=v),n.animate(m,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const AV=Vm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_h=10,xV=2e4;function PV(n){return Gm(n.type)||n.type==="spring"||!mT(n.ease)}function CV(n,e){const t=new ag({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const o=[];let a=0;for(;!r.done&&a<xV;)r=t.sample(a),o.push(r.value),a+=_h;return{times:void 0,keyframes:o,duration:a-_h,ease:"linear"}}const JT={anticipate:RT,backInOut:CT,circInOut:NT};function RV(n){return n in JT}class I_ extends qT{constructor(e){super(e);const{name:t,motionValue:r,element:o,keyframes:a}=this.options;this.resolver=new WT(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,o),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:o,ease:a,type:u,motionValue:d,name:f,startTime:m}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&gh()&&RV(a)&&(a=JT[a]),PV(this.options)){const{onComplete:w,onUpdate:T,motionValue:C,element:L,...B}=this.options,M=CV(e,B);e=M.keyframes,e.length===1&&(e[1]=e[0]),r=M.duration,o=M.times,a=M.ease,u="keyframes"}const v=IV(d.owner.current,f,e,{...this.options,duration:r,times:o,ease:a});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(l_(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;d.set(Qh(e,this.options,t)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Kr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Kr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return vn;const{animation:r}=t;l_(r,e)}return vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:o,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:w,element:T,...C}=this.options,L=new ag({...C,keyframes:r,duration:o,type:a,ease:u,times:d,isGenerator:!0}),B=qr(this.time);m.setWithVelocity(L.sample(B-_h).value,L.sample(B).value,_h)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:o,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return AV()&&r&&SV.has(r)&&!f&&!m&&!o&&a!=="mirror"&&u!==0&&d!=="inertia"}}const kV={type:"spring",stiffness:500,damping:25,restSpeed:10},NV=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),VV={type:"keyframes",duration:.8},DV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bV=(n,{keyframes:e})=>e.length>2?VV:$s.has(n)?n.startsWith("scale")?NV(e[1]):kV:DV;function MV({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:m,...v}){return!!Object.keys(v).length}const lg=(n,e,t,r={},o,a)=>u=>{const d=Km(r,n)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-qr(f);let v={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:T=>{e.set(T),d.onUpdate&&d.onUpdate(T)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:o};MV(d)||(v={...v,...bV(n,v)}),v.duration&&(v.duration=qr(v.duration)),v.repeatDelay&&(v.repeatDelay=qr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),w&&!a&&e.get()!==void 0){const T=Qh(v.keyframes,d);if(T!==void 0)return Je.update(()=>{v.onUpdate(T),v.onComplete()}),new tN([])}return!a&&I_.supports(v)?new I_(v):new ag(v)};function LV({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function ZT(n,e,{delay:t=0,transitionOverride:r,type:o}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const m=[],v=o&&n.animationState&&n.animationState.getState()[o];for(const w in f){const T=n.getValue(w,(a=n.latestValues[w])!==null&&a!==void 0?a:null),C=f[w];if(C===void 0||v&&LV(v,w))continue;const L={delay:t,...Km(u||{},w)};let B=!1;if(window.MotionHandoffAnimation){const W=ST(n);if(W){const G=window.MotionHandoffAnimation(W,w,Je);G!==null&&(L.startTime=G,B=!0)}}Cp(n,w),T.start(lg(w,T,C,n.shouldReduceMotion&&ET.has(w)?{type:!1}:L,n,B));const M=T.animation;M&&m.push(M)}return d&&Promise.all(m).then(()=>{Je.update(()=>{d&&pN(n,d)})}),m}function Mp(n,e,t={}){var r;const o=Gh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=o||{};t.transitionOverride&&(a=t.transitionOverride);const u=o?()=>Promise.all(ZT(n,o,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:T}=a;return OV(n,e,v+m,w,T,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,v]=f==="beforeChildren"?[u,d]:[d,u];return m().then(()=>v())}else return Promise.all([u(),d(t.delay)])}function OV(n,e,t=0,r=0,o=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=o===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(n.variantChildren).sort(jV).forEach((m,v)=>{m.notify("AnimationStart",e),u.push(Mp(m,e,{...a,delay:t+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function jV(n,e){return n.sortNodePosition(e)}function FV(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(a=>Mp(n,a,t));r=Promise.all(o)}else if(typeof e=="string")r=Mp(n,e,t);else{const o=typeof e=="function"?Gh(n,e,t.custom):e;r=Promise.all(ZT(n,o,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const UV=Mm.length;function eS(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?eS(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<UV;t++){const r=Mm[t],o=n.props[r];($l(o)||o===!1)&&(e[r]=o)}return e}const BV=[...bm].reverse(),zV=bm.length;function $V(n){return e=>Promise.all(e.map(({animation:t,options:r})=>FV(n,t,r)))}function HV(n){let e=$V(n),t=A_(),r=!0;const o=f=>(m,v)=>{var w;const T=Gh(n,v,f==="exit"?(w=n.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(T){const{transition:C,transitionEnd:L,...B}=T;m={...m,...B,...L}}return m};function a(f){e=f(n)}function u(f){const{props:m}=n,v=eS(n.parent)||{},w=[],T=new Set;let C={},L=1/0;for(let M=0;M<zV;M++){const W=BV[M],G=t[W],J=m[W]!==void 0?m[W]:v[W],se=$l(J),ie=W===f?G.isActive:null;ie===!1&&(L=M);let ue=J===v[W]&&J!==m[W]&&se;if(ue&&r&&n.manuallyAnimateOnMount&&(ue=!1),G.protectedKeys={...C},!G.isActive&&ie===null||!J&&!G.prevProp||qh(J)||typeof J=="boolean")continue;const N=WV(G.prevProp,J);let I=N||W===f&&G.isActive&&!ue&&se||M>L&&se,P=!1;const V=Array.isArray(J)?J:[J];let b=V.reduce(o(W),{});ie===!1&&(b={});const{prevResolvedValues:j={}}=G,R={...j,...b},Ze=Ae=>{I=!0,T.has(Ae)&&(P=!0,T.delete(Ae)),G.needsAnimating[Ae]=!0;const ne=n.getValue(Ae);ne&&(ne.liveStyle=!1)};for(const Ae in R){const ne=b[Ae],me=j[Ae];if(C.hasOwnProperty(Ae))continue;let oe=!1;Ap(ne)&&Ap(me)?oe=!dT(ne,me):oe=ne!==me,oe?ne!=null?Ze(Ae):T.add(Ae):ne!==void 0&&T.has(Ae)?Ze(Ae):G.protectedKeys[Ae]=!0}G.prevProp=J,G.prevResolvedValues=b,G.isActive&&(C={...C,...b}),r&&n.blockInitialAnimation&&(I=!1),I&&(!(ue&&N)||P)&&w.push(...V.map(Ae=>({animation:Ae,options:{type:W}})))}if(T.size){const M={};T.forEach(W=>{const G=n.getBaseTarget(W),J=n.getValue(W);J&&(J.liveStyle=!0),M[W]=G??null}),w.push({animation:M})}let B=!!w.length;return r&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(B=!1),r=!1,B?e(w):Promise.resolve()}function d(f,m){var v;if(t[f].isActive===m)return Promise.resolve();(v=n.variantChildren)===null||v===void 0||v.forEach(T=>{var C;return(C=T.animationState)===null||C===void 0?void 0:C.setActive(f,m)}),t[f].isActive=m;const w=u(f);for(const T in t)t[T].protectedKeys={};return w}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=A_(),r=!0}}}function WV(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!dT(e,n):!1}function Is(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function A_(){return{animate:Is(!0),whileInView:Is(),whileHover:Is(),whileTap:Is(),whileDrag:Is(),whileFocus:Is(),exit:Is()}}class Ki{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qV extends Ki{constructor(e){super(e),e.animationState||(e.animationState=HV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let KV=0;class GV extends Ki{constructor(){super(...arguments),this.id=KV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);t&&!e&&o.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const tS={animation:{Feature:qV},exit:{Feature:GV}};function Kl(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function au(n){return{point:{x:n.pageX,y:n.pageY}}}const QV=n=>e=>Ym(e)&&n(e,au(e));function Nl(n,e,t,r){return Kl(n,e,QV(t),r)}const x_=(n,e)=>Math.abs(n-e);function YV(n,e){const t=x_(n.x,e.x),r=x_(n.y,e.y);return Math.sqrt(t**2+r**2)}class nS{constructor(e,t,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Gf(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,C=YV(w.offset,{x:0,y:0})>=3;if(!T&&!C)return;const{point:L}=w,{timestamp:B}=Ot;this.history.push({...L,timestamp:B});const{onStart:M,onMove:W}=this.handlers;T||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Kf(T,this.transformPagePoint),Je.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:C,onSessionEnd:L,resumeAnimation:B}=this.handlers;if(this.dragSnapToOrigin&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Gf(w.type==="pointercancel"?this.lastMoveEventInfo:Kf(T,this.transformPagePoint),this.history);this.startEvent&&C&&C(w,M),L&&L(w,M)},!Ym(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=o||window;const u=au(e),d=Kf(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Ot;this.history=[{...f,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,Gf(d,this.history)),this.removeListeners=ou(Nl(this.contextWindow,"pointermove",this.handlePointerMove),Nl(this.contextWindow,"pointerup",this.handlePointerUp),Nl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hi(this.updatePoint)}}function Kf(n,e){return e?{point:e(n.point)}:n}function P_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Gf({point:n},e){return{point:n,delta:P_(n,rS(e)),offset:P_(n,XV(e)),velocity:JV(e,.1)}}function XV(n){return n[0]}function rS(n){return n[n.length-1]}function JV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const o=rS(n);for(;t>=0&&(r=n[t],!(o.timestamp-r.timestamp>qr(e)));)t--;if(!r)return{x:0,y:0};const a=Kr(o.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const iS=1e-4,ZV=1-iS,e3=1+iS,sS=.01,t3=0-sS,n3=0+sS;function wn(n){return n.max-n.min}function r3(n,e,t){return Math.abs(n-e)<=t}function C_(n,e,t,r=.5){n.origin=r,n.originPoint=it(e.min,e.max,n.origin),n.scale=wn(t)/wn(e),n.translate=it(t.min,t.max,n.origin)-n.originPoint,(n.scale>=ZV&&n.scale<=e3||isNaN(n.scale))&&(n.scale=1),(n.translate>=t3&&n.translate<=n3||isNaN(n.translate))&&(n.translate=0)}function Vl(n,e,t,r){C_(n.x,e.x,t.x,r?r.originX:void 0),C_(n.y,e.y,t.y,r?r.originY:void 0)}function R_(n,e,t){n.min=t.min+e.min,n.max=n.min+wn(e)}function i3(n,e,t){R_(n.x,e.x,t.x),R_(n.y,e.y,t.y)}function k_(n,e,t){n.min=e.min-t.min,n.max=n.min+wn(e)}function Dl(n,e,t){k_(n.x,e.x,t.x),k_(n.y,e.y,t.y)}function s3(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?it(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?it(t,n,r.max):Math.min(n,t)),n}function N_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function o3(n,{top:e,left:t,bottom:r,right:o}){return{x:N_(n.x,t,o),y:N_(n.y,e,r)}}function V_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function a3(n,e){return{x:V_(n.x,e.x),y:V_(n.y,e.y)}}function l3(n,e){let t=.5;const r=wn(n),o=wn(e);return o>r?t=oa(e.min,e.max-r,n.min):r>o&&(t=oa(n.min,n.max-o,e.min)),Jr(0,1,t)}function u3(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Lp=.35;function c3(n=Lp){return n===!1?n=0:n===!0&&(n=Lp),{x:D_(n,"left","right"),y:D_(n,"top","bottom")}}function D_(n,e,t){return{min:b_(n,e),max:b_(n,t)}}function b_(n,e){return typeof n=="number"?n:n[e]||0}const M_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:M_(),y:M_()}),L_=()=>({min:0,max:0}),ht=()=>({x:L_(),y:L_()});function Dn(n){return[n("x"),n("y")]}function oS({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function h3({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function d3(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function Qf(n){return n===void 0||n===1}function Op({scale:n,scaleX:e,scaleY:t}){return!Qf(n)||!Qf(e)||!Qf(t)}function xs(n){return Op(n)||aS(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function aS(n){return O_(n.x)||O_(n.y)}function O_(n){return n&&n!=="0%"}function wh(n,e,t){const r=n-t,o=e*r;return t+o}function j_(n,e,t,r,o){return o!==void 0&&(n=wh(n,o,r)),wh(n,t,r)+e}function jp(n,e=0,t=1,r,o){n.min=j_(n.min,e,t,r,o),n.max=j_(n.max,e,t,r,o)}function lS(n,{x:e,y:t}){jp(n.x,e.translate,e.scale,e.originPoint),jp(n.y,t.translate,t.scale,t.originPoint)}const F_=.999999999999,U_=1.0000000000001;function f3(n,e,t,r=!1){const o=t.length;if(!o)return;e.x=e.y=1;let a,u;for(let d=0;d<o;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lS(n,u)),r&&xs(a.latestValues)&&qo(n,a.latestValues))}e.x<U_&&e.x>F_&&(e.x=1),e.y<U_&&e.y>F_&&(e.y=1)}function Wo(n,e){n.min=n.min+e,n.max=n.max+e}function B_(n,e,t,r,o=.5){const a=it(n.min,n.max,o);jp(n,e,t,a,r)}function qo(n,e){B_(n.x,e.x,e.scaleX,e.scale,e.originX),B_(n.y,e.y,e.scaleY,e.scale,e.originY)}function uS(n,e){return oS(d3(n.getBoundingClientRect(),e))}function p3(n,e,t){const r=uS(n,t),{scroll:o}=e;return o&&(Wo(r.x,o.offset.x),Wo(r.y,o.offset.y)),r}const cS=({current:n})=>n?n.ownerDocument.defaultView:null,m3=new WeakMap;class g3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(au(v).point)},a=(v,w)=>{const{drag:T,dragPropagation:C,onDragStart:L}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uN(T),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(M=>{let W=this.getAxisMotionValue(M).get()||0;if(wr.test(W)){const{projection:G}=this.visualElement;if(G&&G.layout){const J=G.layout.layoutBox[M];J&&(W=wn(J)*(parseFloat(W)/100))}}this.originPoint[M]=W}),L&&Je.postRender(()=>L(v,w)),Cp(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:L,onDrag:B}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:M}=w;if(C&&this.currentDirection===null){this.currentDirection=y3(M),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),B&&B(v,w)},d=(v,w)=>this.stop(v,w),f=()=>Dn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nS(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:cS(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Je.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:o}=this.getProps();if(!r||!Dc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=s3(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&zo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=o3(o.layoutBox,t):this.constraints=!1,this.elastic=c3(r),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=u3(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!zo(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=p3(r,o.root,this.visualElement.getTransformPagePoint());let u=a3(o.layout.layoutBox,a);if(t){const d=t(h3(u));this.hasMutatedConstraints=!!d,d&&(u=oS(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Dn(v=>{if(!Dc(v,t,this.currentDirection))return;let w=f&&f[v]||{};u&&(w={min:0,max:0});const T=o?200:1e6,C=o?40:1e7,L={type:"inertia",velocity:r?e[v]:0,bounceStiffness:T,bounceDamping:C,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,L)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return Cp(this.visualElement,e),r.start(lg(e,r,0,t,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[t];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dn(t=>{const{drag:r}=this.getProps();if(!Dc(t,r,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];a.set(e[t]-it(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!zo(t)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();o[u]=l3({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Dc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(it(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;m3.set(this.visualElement,this);const e=this.visualElement.current,t=Nl(e,"pointerdown",f=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();zo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Je.read(r);const u=Kl(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Dn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Lp,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Dc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function y3(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class v3 extends Ki{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new g3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const z_=n=>(e,t)=>{n&&Je.postRender(()=>n(e,t))};class _3 extends Ki{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new nS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:z_(e),onStart:z_(t),onMove:r,onEnd:(a,u)=>{delete this.session,o&&Je.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=Nl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $_(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const pl={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=$_(n,e.target.x),r=$_(n,e.target.y);return`${t}% ${r}%`}},w3={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,o=Wi.parse(n);if(o.length>5)return r;const a=Wi.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=it(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),a(o)}};class E3 extends ee.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:o}=this.props,{projection:a}=e;$4(T3),a&&(t.group&&t.group.add(a),r&&r.register&&o&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:o,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Je.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Om.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hS(n){const[e,t]=qE(),r=ee.useContext(Cm);return A.jsx(E3,{...n,layoutGroup:r,switchLayoutGroup:ee.useContext(ZE),isPresent:e,safeToRemove:t})}const T3={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:w3};function S3(n,e,t){const r=Qt(n)?n:Wl(n);return r.start(lg("",r,e,t)),r.animation}function I3(n){return n instanceof SVGElement&&n.tagName!=="svg"}const A3=(n,e)=>n.depth-e.depth;class x3{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A3),this.isDirty=!1,this.children.forEach(e)}}function P3(n,e){const t=Er.now(),r=({timestamp:o})=>{const a=o-t;a>=e&&(Hi(r),n(a-e))};return Je.read(r,!0),()=>Hi(r)}const dS=["TopLeft","TopRight","BottomLeft","BottomRight"],C3=dS.length,H_=n=>typeof n=="string"?parseFloat(n):n,W_=n=>typeof n=="number"||we.test(n);function R3(n,e,t,r,o,a){o?(n.opacity=it(0,t.opacity!==void 0?t.opacity:1,k3(r)),n.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,N3(r))):a&&(n.opacity=it(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<C3;u++){const d=`border${dS[u]}Radius`;let f=q_(e,d),m=q_(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||W_(f)===W_(m)?(n[d]=Math.max(it(H_(f),H_(m),r),0),(wr.test(m)||wr.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=it(e.rotate||0,t.rotate||0,r))}function q_(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const k3=fS(0,.5,kT),N3=fS(.5,.95,vn);function fS(n,e,t){return r=>r<n?0:r>e?1:t(oa(n,e,r))}function K_(n,e){n.min=e.min,n.max=e.max}function Vn(n,e){K_(n.x,e.x),K_(n.y,e.y)}function G_(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Q_(n,e,t,r,o){return n-=e,n=wh(n,1/t,r),o!==void 0&&(n=wh(n,1/o,r)),n}function V3(n,e=0,t=1,r=.5,o,a=n,u=n){if(wr.test(e)&&(e=parseFloat(e),e=it(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=it(a.min,a.max,r);n===a&&(d-=e),n.min=Q_(n.min,e,t,d,o),n.max=Q_(n.max,e,t,d,o)}function Y_(n,e,[t,r,o],a,u){V3(n,e[t],e[r],e[o],e.scale,a,u)}const D3=["x","scaleX","originX"],b3=["y","scaleY","originY"];function X_(n,e,t,r){Y_(n.x,e,D3,t?t.x:void 0,r?r.x:void 0),Y_(n.y,e,b3,t?t.y:void 0,r?r.y:void 0)}function J_(n){return n.translate===0&&n.scale===1}function pS(n){return J_(n.x)&&J_(n.y)}function Z_(n,e){return n.min===e.min&&n.max===e.max}function M3(n,e){return Z_(n.x,e.x)&&Z_(n.y,e.y)}function e1(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function mS(n,e){return e1(n.x,e.x)&&e1(n.y,e.y)}function t1(n){return wn(n.x)/wn(n.y)}function n1(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class L3{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let r;for(let o=t;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function O3(n,e,t){let r="";const o=n.x.translate/e.x,a=n.y.translate/e.y,u=t?.z||0;if((o||a||u)&&(r=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:v,rotateX:w,rotateY:T,skewX:C,skewY:L}=t;m&&(r=`perspective(${m}px) ${r}`),v&&(r+=`rotate(${v}deg) `),w&&(r+=`rotateX(${w}deg) `),T&&(r+=`rotateY(${T}deg) `),C&&(r+=`skewX(${C}deg) `),L&&(r+=`skewY(${L}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Ps={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sl=typeof window<"u"&&window.MotionDebug!==void 0,Yf=["","X","Y","Z"],j3={visibility:"hidden"},r1=1e3;let F3=0;function Xf(n,e,t,r){const{latestValues:o}=e;o[n]&&(t[n]=o[n],e.setStaticValue(n,0),r&&(r[n]=0))}function gS(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=ST(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:o,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Je,!(o||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&gS(r)}function yS({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(u={},d=e?.()){this.id=F3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sl&&(Ps.totalNodes=Ps.resolvedTargetDeltas=Ps.recalculatedProjection=0),this.nodes.forEach(z3),this.nodes.forEach(K3),this.nodes.forEach(G3),this.nodes.forEach($3),Sl&&window.MotionDebug.record(Ps)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new x3)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Zm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=I3(u),this.instance=u;const{layoutId:f,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=P3(T,250),Kc.hasAnimatedSinceResize&&(Kc.hasAnimatedSinceResize=!1,this.nodes.forEach(s1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:C,layout:L})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const B=this.options.transition||v.getDefaultTransition()||Z3,{onLayoutAnimationStart:M,onLayoutAnimationComplete:W}=v.getProps(),G=!this.targetLayout||!mS(this.targetLayout,L)||C,J=!T&&C;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||J||T&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,J);const se={...Km(B,"layout"),onPlay:M,onComplete:W};(v.shouldReduceMotion||this.options.layoutRoot)&&(se.delay=0,se.type=!1),this.startAnimation(se)}else T||s1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=L})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Hi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Q3),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i1);return}this.isUpdating||this.nodes.forEach(W3),this.isUpdating=!1,this.nodes.forEach(q3),this.nodes.forEach(U3),this.nodes.forEach(B3),this.clearAllSnapshots();const d=Er.now();Ot.delta=Jr(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,Uf.update.process(Ot),Uf.preRender.process(Ot),Uf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Om.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(H3),this.sharedNodes.forEach(Y3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!pS(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(d||xs(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),eD(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ht();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(tD))){const{scroll:v}=this.root;v&&(Wo(f.x,v.offset.x),Wo(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=ht();if(Vn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:w,options:T}=v;v!==this.root&&w&&T.layoutScroll&&(w.wasRoot&&Vn(f,u),Wo(f.x,w.offset.x),Wo(f.y,w.offset.y))}return f}applyTransform(u,d=!1){const f=ht();Vn(f,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!d&&v.options.layoutScroll&&v.scroll&&v!==v.root&&qo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),xs(v.latestValues)&&qo(f,v.latestValues)}return xs(this.latestValues)&&qo(f,this.latestValues),f}removeTransform(u){const d=ht();Vn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!xs(m.latestValues))continue;Op(m.latestValues)&&m.updateSnapshot();const v=ht(),w=m.measurePageBox();Vn(v,w),X_(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return xs(this.latestValues)&&X_(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const C=this.getClosestProjectingParent();C&&C.layout&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Dl(this.relativeTargetOrigin,this.layout.layoutBox,C.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),lS(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const C=this.getClosestProjectingParent();C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?(this.relativeParent=C,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),Dl(this.relativeTargetOrigin,this.target,C.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sl&&Ps.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Op(this.parent.latestValues)||aS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(m=!1),m)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Vn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,C=this.treeScale.y;f3(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ht());const{target:L}=d;if(!L){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(G_(this.prevProjectionDelta.x,this.projectionDelta.x),G_(this.prevProjectionDelta.y,this.projectionDelta.y)),Vl(this.projectionDelta,this.layoutCorrected,L,this.latestValues),(this.treeScale.x!==T||this.treeScale.y!==C||!n1(this.projectionDelta.x,this.prevProjectionDelta.x)||!n1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",L)),Sl&&Ps.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},v={...this.latestValues},w=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=ht(),C=f?f.source:void 0,L=this.layout?this.layout.source:void 0,B=C!==L,M=this.getStack(),W=!M||M.members.length<=1,G=!!(B&&!W&&this.options.crossfade===!0&&!this.path.some(J3));this.animationProgress=0;let J;this.mixTargetDelta=se=>{const ie=se/1e3;o1(w.x,u.x,ie),o1(w.y,u.y,ie),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dl(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),X3(this.relativeTarget,this.relativeTargetOrigin,T,ie),J&&M3(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=ht()),Vn(J,this.relativeTarget)),B&&(this.animationValues=v,R3(v,m,this.latestValues,ie,G,W)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ie},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Hi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Je.update(()=>{Kc.hasAnimatedSinceResize=!0,this.currentAnimation=S3(0,r1,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(r1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:v}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&vS(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||ht();const w=wn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const T=wn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Vn(d,f),qo(d,v),Vl(this.projectionDeltaWithTransform,this.layoutCorrected,d,v)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new L3),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Xf("z",u,m,this.animationValues);for(let v=0;v<Yf.length;v++)Xf(`rotate${Yf[v]}`,u,m,this.animationValues),Xf(`skew${Yf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return j3;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Wc(u?.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const B={};return this.options.layoutId&&(B.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,B.pointerEvents=Wc(u?.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(B.transform=v?v({},""):"none",this.hasProjected=!1),B}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=O3(this.projectionDeltaWithTransform,this.treeScale,T),v&&(m.transform=v(T,m.transform));const{x:C,y:L}=this.projectionDelta;m.transformOrigin=`${C.origin*100}% ${L.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const B in mh){if(T[B]===void 0)continue;const{correct:M,applyTo:W}=mh[B],G=m.transform==="none"?T[B]:M(T[B],w);if(W){const J=W.length;for(let se=0;se<J;se++)m[W[se]]=G}else m[B]=G}return this.options.layoutId&&(m.pointerEvents=w===this?Wc(u?.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(i1),this.root.sharedNodes.clear()}}}function U3(n){n.updateLayout()}function B3(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Dn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],C=wn(T);T.min=r[w].min,T.max=T.min+C}):vS(a,t.layoutBox,r)&&Dn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],C=wn(r[w]);T.max=T.min+C,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+C)});const d=Ho();Vl(d,r,t.layoutBox);const f=Ho();u?Vl(f,n.applyTransform(o,!0),t.measuredBox):Vl(f,r,t.layoutBox);const m=!pS(d);let v=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:C}=w;if(T&&C){const L=ht();Dl(L,t.layoutBox,T.layoutBox);const B=ht();Dl(B,r,C.layoutBox),mS(L,B)||(v=!0),w.options.layoutRoot&&(n.relativeTarget=B,n.relativeTargetOrigin=L,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function z3(n){Sl&&Ps.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function $3(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function H3(n){n.clearSnapshot()}function i1(n){n.clearMeasurements()}function W3(n){n.isLayoutDirty=!1}function q3(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function s1(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function K3(n){n.resolveTargetDelta()}function G3(n){n.calcProjection()}function Q3(n){n.resetSkewAndRotation()}function Y3(n){n.removeLeadSnapshot()}function o1(n,e,t){n.translate=it(e.translate,0,t),n.scale=it(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function a1(n,e,t,r){n.min=it(e.min,t.min,r),n.max=it(e.max,t.max,r)}function X3(n,e,t,r){a1(n.x,e.x,t.x,r),a1(n.y,e.y,t.y,r)}function J3(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Z3={duration:.45,ease:[.4,0,.1,1]},l1=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),u1=l1("applewebkit/")&&!l1("chrome/")?Math.round:vn;function c1(n){n.min=u1(n.min),n.max=u1(n.max)}function eD(n){c1(n.x),c1(n.y)}function vS(n,e,t){return n==="position"||n==="preserve-aspect"&&!r3(t1(e),t1(t),.2)}function tD(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const nD=yS({attachResizeListener:(n,e)=>Kl(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Jf={current:void 0},_S=yS({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Jf.current){const n=new nD({});n.mount(window),n.setOptions({layoutScroll:!0}),Jf.current=n}return Jf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),rD={pan:{Feature:_3},drag:{Feature:v3,ProjectionNode:_S,MeasureLayout:hS}};function h1(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const o="onHover"+t,a=r[o];a&&Je.postRender(()=>a(e,au(e)))}class iD extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=iN(e,t=>(h1(this.node,t,"Start"),r=>h1(this.node,r,"End"))))}unmount(){}}class sD extends Ki{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ou(Kl(this.node.current,"focus",()=>this.onFocus()),Kl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function d1(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const o="onTap"+(t==="End"?"":t),a=r[o];a&&Je.postRender(()=>a(e,au(e)))}class oD extends Ki{mount(){const{current:e}=this.node;e&&(this.unmount=lN(e,t=>(d1(this.node,t,"Start"),(r,{success:o})=>d1(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Fp=new WeakMap,Zf=new WeakMap,aD=n=>{const e=Fp.get(n.target);e&&e(n)},lD=n=>{n.forEach(aD)};function uD({root:n,...e}){const t=n||document;Zf.has(t)||Zf.set(t,{});const r=Zf.get(t),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(lD,{root:n,...e})),r[o]}function cD(n,e,t){const r=uD(e);return Fp.set(n,t),r.observe(n),()=>{Fp.delete(n),r.unobserve(n)}}const hD={some:0,all:1};class dD extends Ki{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:o="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:hD[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,a&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),T=m?v:w;T&&T(f)};return cD(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(fD(e,t))&&this.startObserver()}unmount(){}}function fD({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const wS={inView:{Feature:dD},tap:{Feature:oD},focus:{Feature:sD},hover:{Feature:iD}},pD={layout:{ProjectionNode:_S,MeasureLayout:hS}},Up={current:null},ES={current:!1};function mD(){if(ES.current=!0,!!Nm)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Up.current=n.matches;n.addListener(e),e()}else Up.current=!1}const gD=[...HT,qt,Wi],yD=n=>gD.find($T(n)),f1=new WeakMap;function vD(n,e,t){for(const r in e){const o=e[r],a=t[r];if(Qt(o))n.addValue(r,o);else if(Qt(a))n.addValue(r,Wl(o,{owner:n}));else if(a!==o)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(r);n.addValue(r,Wl(u!==void 0?u:o,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const p1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _D{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=Er.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Je.render(this.render,!1,!0))};const{latestValues:f,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Kh(t),this.isVariantNode=XE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...T}=this.scrapeMotionValuesFromProps(t,{},this);for(const C in T){const L=T[C];f[C]!==void 0&&Qt(L)&&L.set(f[C],!1)}}mount(e){this.current=e,f1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),ES.current||mD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Up.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){f1.delete(this.current),this.projection&&this.projection.unmount(),Hi(this.notifyUpdate),Hi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=$s.has(e),o=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Je.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in aa){const t=aa[e];if(!t)continue;const{isEnabled:r,Feature:o}=t;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<p1.length;r++){const o=p1[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=vD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Wl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(BT(o)||VT(o))?o=parseFloat(o):!yD(o)&&Wi.test(t)&&(o=jT(e,t)),this.setBaseTarget(e,Qt(o)?o.get():o)),Qt(o)?o.get():o}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const u=Fm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(o=u[e])}if(r&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Zm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class TS extends _D{constructor(){super(...arguments),this.KeyframeResolver=WT}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function wD(n){return window.getComputedStyle(n)}class ED extends TS{constructor(){super(...arguments),this.type="html",this.renderInstance=oT}readValueFromInstance(e,t){if($s.has(t)){const r=ig(t);return r&&r.default||0}else{const r=wD(e),o=(rT(t)?r.getPropertyValue(t):r[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return uS(e,t)}build(e,t,r){zm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return qm(e,t,r)}}class TD extends TS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($s.has(t)){const r=ig(t);return r&&r.default||0}return t=aT.has(t)?t:Lm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return cT(e,t,r)}build(e,t,r){$m(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,o){lT(e,t,r,o)}mount(e){this.isSVGTag=Wm(e.tagName),super.mount(e)}}const SS=(n,e)=>jm(n)?new TD(e):new ED(e,{allowProjection:n!==ee.Fragment}),SD=J4({...tS,...wS,...rD,...pD},SS),st=f4(SD),ID={renderer:SS,...tS,...wS},AD={some:0,all:1};function xD(n,e,{root:t,margin:r,amount:o="some"}={}){const a=vT(n),u=new WeakMap,d=m=>{m.forEach(v=>{const w=u.get(v.target);if(v.isIntersecting!==!!w)if(v.isIntersecting){const T=e(v);typeof T=="function"?u.set(v.target,T):f.unobserve(v.target)}else typeof w=="function"&&(w(v),u.delete(v.target))})},f=new IntersectionObserver(d,{root:t,rootMargin:r,threshold:typeof o=="number"?o:AD[o]});return a.forEach(m=>f.observe(m)),()=>f.disconnect()}function IS(n,{root:e,margin:t,amount:r,once:o=!1}={}){const[a,u]=ee.useState(!1);return ee.useEffect(()=>{if(!n.current||o&&a)return;const d=()=>(u(!0),o?void 0:()=>u(!1)),f={root:e&&e.current||void 0,margin:t,amount:r};return xD(n.current,d,f)},[e,n,t,o,r]),a}const PD=Xe.memo(()=>A.jsxs("div",{className:"fixed top-0 left-0 w-full h-full -z-10 overflow-hidden bg-[#f5f7fa]",children:[A.jsx("style",{children:`
            /* * Defines the keyframes for the rotation animation.
             * It smoothly rotates the element 360 degrees.
             */
            @keyframes move {
                0% { transform: translate(-50%, -50%) rotate(0deg); }
                100% { transform: translate(-50%, -50%) rotate(360deg); }
            }

            /* * Styles the element that will be animated. It's made oversized
             * (150vmax) to ensure it covers the screen even on large displays.
             * The background is composed of two soft radial gradients to create
             * an abstract, nebula-like effect.
             */
            .gradient-bg {
                width: 150vmax;
                height: 150vmax;
                position: absolute;
                top: 50%;
                left: 50%;
                background: radial-gradient(circle, rgba(37, 99, 235, 0.15), transparent 50%),
                            radial-gradient(circle, rgba(29, 78, 216, 0.1), transparent 60%);
                animation: move 25s linear infinite;
                opacity: 0.5;
            }
        `}),A.jsx("div",{className:"gradient-bg"})]})),m1=Xe.memo(()=>A.jsx("div",{className:"flex justify-center items-center h-screen bg-[#f5f7fa]",children:A.jsxs("div",{className:"relative w-24 h-24",children:[A.jsx("style",{children:`
          /* Defines the main spinning animation for the rings */
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          /* Defines the pulsing animation for the central dot */
          @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
          }

          /* Base styles for the orbiting rings */
          .orb {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 2px solid transparent;
            border-top-color: #2563eb; /* Primary blue color */
            animation: spin 1.5s linear infinite;
          }

          /* Second ring with a delayed animation and different color */
          .orb-2 {
            animation-delay: -0.5s;
            border-top-color: #1e3a8a; /* Darker blue */
          }

          /* Third ring with another delay and color for a layered effect */
          .orb-3 {
            animation-delay: -1s;
            border-top-color: #60a5fa; /* Lighter blue */
          }

          /* The central pulsing dot */
          .dot {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #2563eb;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            margin: -5px 0 0 -5px; /* Center the dot perfectly */
            animation: pulse 1.5s ease-in-out infinite;
          }
        `}),A.jsx("div",{className:"orb"}),A.jsx("div",{className:"orb orb-2"}),A.jsx("div",{className:"orb orb-3"}),A.jsx("div",{className:"dot"})]})})),Gi=Xe.memo(()=>{const n=ee.useRef(null),e=IS(n,{once:!0,amount:.5});return A.jsx("div",{ref:n,className:"h-1 w-24 mx-auto my-8",children:A.jsx(st.div,{className:"h-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] rounded-full",initial:{scaleX:0},animate:{scaleX:e?1:0},transition:{duration:1,ease:"easeOut"},style:{transformOrigin:"center"}})})}),CD=({href:n,label:e,children:t,onClick:r})=>A.jsxs("a",{href:n,onClick:r,className:"group relative flex items-center justify-center p-2 rounded-full text-gray-500 hover:bg-blue-100 hover:text-blue-600 transition-all duration-300",children:[t,A.jsx("span",{className:"absolute left-full ml-3 px-3 py-1.5 whitespace-nowrap text-sm font-medium text-white bg-gray-800 rounded-md shadow-md opacity-0 group-hover:opacity-100 group-hover:translate-x-0 translate-x-2 transition-all duration-300 pointer-events-none",children:e})]}),RD=Xe.memo(({isMobileMenuOpen:n,toggleMobileMenu:e,closeMobileMenu:t})=>{const r=o=>{o.preventDefault();const a=o.currentTarget.getAttribute("href"),u=document.querySelector(a);t(),u&&setTimeout(()=>{u.scrollIntoView({behavior:"smooth",block:"start"})},100)};return A.jsxs("header",{className:"bg-white/70 backdrop-blur-md fixed top-0 w-full z-50 border-b border-gray-200/80",children:[A.jsxs("nav",{className:"container mx-auto px-6 py-4 flex justify-between items-center",children:[A.jsx(CD,{href:"#home",label:"Home",onClick:r,children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1z"})})}),A.jsxs("div",{className:"hidden md:flex space-x-4 items-center font-medium text-[#4b5563]",children:[A.jsx("a",{href:"#about",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"About"}),A.jsx("a",{href:"#experience",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Experience"}),A.jsx("a",{href:"#skills",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Skills"}),A.jsx("a",{href:"#projects",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Projects"}),A.jsx("a",{href:"#contact",onClick:r,className:"hover:text-[#2563eb] transition-colors",children:"Contact"})]}),A.jsx("div",{className:"md:hidden",children:A.jsx("button",{onClick:e,className:"text-[#4b5563] focus:outline-none",children:A.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),A.jsx(Hh,{children:n&&A.jsxs(st.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden absolute top-full left-0 w-full bg-white z-40 shadow-md px-6 py-4 space-y-3 text-[#4b5563] font-medium",children:[A.jsx("a",{href:"#about",onClick:r,className:"block hover:text-[#2563eb]",children:"About"}),A.jsx("a",{href:"#experience",onClick:r,className:"block hover:text-[#2563eb]",children:"Experience"}),A.jsx("a",{href:"#skills",onClick:r,className:"block hover:text-[#2563eb]",children:"Skills"}),A.jsx("a",{href:"#projects",onClick:r,className:"block hover:text-[#2563eb]",children:"Projects"}),A.jsx("a",{href:"#contact",onClick:r,className:"block hover:text-[#2563eb]",children:"Contact"})]})})]})}),Qi=Xe.memo(({children:n,id:e,className:t=""})=>{const r=ee.useRef(null),o=IS(r,{once:!0,amount:.2});return A.jsx(st.section,{id:e,ref:r,initial:{opacity:0,y:50},animate:{opacity:o?1:0,y:o?0:50},transition:{duration:.8,ease:"easeOut"},className:`py-12 md:py-16 ${t}`,children:n})}),kD=Xe.memo(()=>A.jsx("section",{id:"home",className:"min-h-screen flex items-center justify-center text-center md:text-left relative overflow-hidden",children:A.jsxs("div",{className:"container mx-auto px-6 py-20 grid md:grid-cols-5 gap-8 items-center relative z-10",children:[A.jsxs(st.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"md:col-span-3",children:[A.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold text-[#334155] mb-4",children:[A.jsx("span",{className:"block mb-2 text-xl font-normal text-[#64748b]",children:"Hello, I'm"})," Costas Pinto"]}),A.jsx("p",{className:"text-2xl md:text-3xl font-semibold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] h-10",children:"AI Innovator"}),A.jsx("p",{className:"max-w-xl text-[#4b5563] leading-relaxed mb-8 mx-auto md:mx-0",children:"Transforming raw data into actionable insights. I build intelligent systems and solve complex problems with a passion for machine learning and data visualization."}),A.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center md:justify-start gap-4",children:[A.jsxs(st.a,{href:"/assets/CostasPinto_CV.pdf",download:"CostasPinto_CV.pdf",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] text-white font-bold py-3 px-8 rounded-full shadow-lg shadow-[#2563eb]/20 transition-all hover:shadow-xl",children:[A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:A.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("a",{href:"https://www.linkedin.com/in/costaspinto/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#2563eb] transition-colors",children:A.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"})})}),A.jsx("a",{href:"https://github.com/MrCoss",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-[#334155] transition-colors",children:A.jsx("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.65.64.7 1.028 1.595 1.028 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z",clipRule:"evenodd"})})})]})]})]}),A.jsx(st.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4,type:"spring"},className:"md:col-span-2 flex justify-center items-center relative",children:A.jsxs("div",{className:"relative w-[350px] h-[350px] md:w-[450px] md:h-[450px] flex items-center justify-center",children:[A.jsx(st.div,{animate:{rotate:360},transition:{duration:40,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-tr from-[#2563eb]/20 via-[#1e3a8a]/20 to-[#2563eb]/30 rounded-full opacity-40 blur-3xl"}),A.jsx("div",{className:"relative z-10 flex justify-center items-center",children:A.jsx("img",{loading:"lazy",src:"Costas.png",onError:n=>{n.target.onerror=null,n.target.src="https://placehold.co/400x400/e2e8f0/334155?text=CP"},alt:"Costas Pinto",className:"w-[300px] h-[300px] md:w-[400px] md:h-[400px] object-contain z-10"})})]})})]})})),ND=Xe.memo(()=>A.jsxs(Qi,{id:"about",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"About Me"}),A.jsx(Gi,{}),A.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[A.jsx("div",{className:"glow-effect"}),A.jsx("p",{className:"text-lg leading-relaxed text-[#4b5563] text-center",children:"As a current MCA student at Manipal University, Jaipur, with a Bachelor's in Computer Science, I am deeply engaged in the world of data analytics and machine learning. My internship at SkillFied Mentor provided a strong foundation in data exploration, visualization, and interpretation using tools like Python, Excel, and Power BI. I am passionate about leveraging technology to make complex subjects accessible, a skill I've honed as the founder of JHT SMART STEPS LEARNING. I am eager to apply my analytical skills to new challenges in the AI and ML space."})]})]})),g1=Xe.memo(({date:n,title:e,company:t,details:r})=>A.jsxs(st.div,{whileHover:{x:5},transition:{type:"spring",stiffness:300},className:"relative pl-8 py-4 border-l-2 border-[#a5b4fc]",children:[A.jsx("div",{className:"absolute -left-[11px] top-6 w-5 h-5 bg-gradient-to-br from-[#2563eb] to-[#1e3a8a] rounded-full border-4 border-white"}),A.jsx("p",{className:"text-[#64748b] mb-1 font-medium",children:n}),A.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),A.jsx("p",{className:"text-lg text-[#2563eb] font-semibold mb-3",children:t}),A.jsx("ul",{className:"list-disc list-inside text-[#4b5563] space-y-2",children:r.map((o,a)=>A.jsx("li",{children:o},a))})]})),VD=Xe.memo(()=>A.jsxs(Qi,{id:"experience",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Experience"}),A.jsx(Gi,{}),A.jsxs("div",{className:"max-w-3xl mx-auto space-y-12",children:[A.jsx(g1,{date:"2024 - Present",title:"Data Analyst Intern",company:"SkillFied Mentor (Remote)",details:["Collected, cleaned, and preprocessed datasets from diverse sources.","Performed exploratory data analysis (EDA) using Python, Excel, and Power BI.","Generated actionable insights to support internal strategy and client deliverables."]}),A.jsx(g1,{date:"2022 - Present",title:"Founder",company:"JHT SMART STEPS LEARNING (On-site)",details:["Leveraged technology to make education accessible and easy to understand.","Created personalized lesson plans and educational resources for students.","Tracked and assessed student progress, offering one-on-one coaching."]})]})]})),DD=Xe.memo(()=>{const[n,e]=ee.useState("Programming Languages"),t=u=>{e(d=>d===u?null:u)},r={"Programming Languages":[{name:"Python",level:90},{name:"JavaScript",level:85},{name:"Java",level:75},{name:"SQL",level:80}],"Data Science & Analytics":[{name:"Data Analysis",level:90},{name:"Machine Learning",level:75},{name:"Power BI",level:85},{name:"Excel",level:95}],"Web & App Development":[{name:"React",level:85},{name:"Firebase",level:80},{name:"Tailwind CSS",level:80},{name:"Streamlit",level:75}],"AI & Generative AI":[{name:"Generative AI Concepts",level:85},{name:"Prompt Engineering",level:90},{name:"LangChain",level:75}],"Tools & Workflow":[{name:"Git & GitHub",level:95},{name:"Version Control",level:90}]},o={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return A.jsxs(Qi,{id:"skills",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Skills"}),A.jsx(Gi,{}),A.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto rounded-2xl glass-card",children:[A.jsx("div",{className:"glow-effect"}),A.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([u,d])=>A.jsxs("div",{className:"border-b border-gray-300/50 last:border-b-0",children:[A.jsxs("button",{onClick:()=>t(u),className:"w-full flex justify-between items-center py-4 text-left text-xl font-semibold text-[#334155] focus:outline-none",children:[A.jsx("span",{children:u}),A.jsx(st.span,{animate:{rotate:n===u?180:0},children:A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),A.jsx(Hh,{children:n===u&&A.jsx(st.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:A.jsx(st.div,{variants:o,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-2 pb-6 px-2",children:d.map(f=>A.jsxs(st.div,{variants:a,children:[A.jsx("p",{className:"text-lg font-medium text-[#4b5563] mb-1",children:f.name}),A.jsx("div",{className:"bg-gray-300 w-full rounded-full h-2.5",children:A.jsx(st.div,{className:"h-2.5 rounded-full bg-gradient-to-r from-[#2563eb] to-[#1e3a8a]",initial:{width:0},animate:{width:`${f.level}%`},transition:{duration:1,ease:"easeOut"}})})]},f.name))})})})]},u))})]})]})}),bD=Xe.memo(()=>A.jsxs(Qi,{id:"achievements",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Key Achievements"}),A.jsx(Gi,{}),A.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[A.jsx("div",{className:"glow-effect"}),A.jsxs("ul",{className:"list-disc list-inside text-[#4b5563] space-y-3 text-lg",children:[A.jsxs("li",{children:["Completed ",A.jsx("strong",{children:"60+ Certifications"})," from IBM, Google, Meta, Microsoft, and Forage."]}),A.jsxs("li",{children:["Built and deployed ",A.jsx("strong",{children:"25+ AI/Data/Full-stack projects"})," solving real-world problems."]}),A.jsxs("li",{children:["Earned top-tier recognitions in job simulations at ",A.jsx("strong",{children:"BCG, Lloyds, BA, EA, TATA"}),", and more."]}),A.jsxs("li",{children:["Founded ",A.jsx("strong",{children:"JHT SMART STEPS LEARNING"}),"  empowering students through digital education."]})]})]})]})),MD=Xe.memo(({year:n,title:e,details:t,icon:r})=>A.jsxs(st.div,{className:"relative pl-12 py-4 border-l-2 border-blue-200",initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.5},transition:{duration:.6},children:[A.jsx("div",{className:"absolute -left-[26px] top-4 w-12 h-12 bg-white rounded-full border-4 border-blue-200 flex items-center justify-center",children:r}),A.jsx("p",{className:"text-blue-500 mb-1 font-semibold",children:n}),A.jsx("h3",{className:"text-2xl font-bold text-[#334155]",children:e}),A.jsx("p",{className:"text-[#4b5563] mt-1",children:t})]})),LD=Xe.memo(()=>{const n=[{year:"2023",title:"Foundation & Exploration",details:"Built a strong programming foundation in Python and Java while exploring front-end development. Developed and trained my first predictive models, sparking a passion for machine learning.",icon:A.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},{year:"2024",title:"Accelerated Growth & Specialization",details:"Completed over 60 certifications from industry leaders like Google, IBM, and Meta, specializing in AI, Data Science, and Full-Stack Development to deepen my expertise.",icon:A.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},{year:"Ongoing",title:"Application & Innovation",details:"Actively applying knowledge through internships and real-world projects. Continuously exploring new AI architectures and contributing to open-source repositories to stay at the forefront of technology.",icon:A.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}];return A.jsxs(Qi,{id:"journey",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Learning Journey"}),A.jsx(Gi,{}),A.jsxs("div",{className:"p-8 md:p-12 max-w-4xl mx-auto rounded-2xl glass-card",children:[A.jsx("div",{className:"glow-effect"}),A.jsx("div",{className:"space-y-12",children:n.map(e=>A.jsx(MD,{...e},e.title))})]})]})}),OD=ee.memo(({projects:n,isMobile:e})=>{const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return A.jsxs(Qi,{id:"projects",className:"!py-0",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"My Projects"}),A.jsx(Gi,{}),A.jsx("div",{className:"min-h-[60vh] w-full px-4 md:px-0",children:n.length>0?A.jsx(st.div,{variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(o=>A.jsxs(st.div,{variants:r,className:"p-6 flex flex-col rounded-2xl glass-card overflow-hidden",children:[A.jsx("div",{className:"glow-effect"}),A.jsx("img",{loading:"lazy",src:o.imageUrl||"https://placehold.co/600x400/e2e8f0/334155?text=Project",alt:o.title,className:"rounded-lg mb-4 aspect-video object-cover border border-gray-200/50"}),A.jsx("h3",{className:"text-xl font-bold text-[#334155] mb-2",children:o.title}),A.jsx("p",{className:"text-[#4b5563] flex-grow mb-4",children:o.description}),A.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:o.tags?.map(a=>A.jsx("span",{className:"bg-[#dbeafe] text-[#1e3a8a] text-xs font-medium px-2.5 py-1 rounded-full",children:a},a))}),o.projectLink&&A.jsx("a",{href:o.projectLink,target:"_blank",rel:"noopener noreferrer",className:"mt-auto text-center font-semibold text-[#2563eb] border border-[#2563eb] rounded-full py-2 px-4 hover:bg-[#2563eb] hover:text-white transition-all duration-300 z-10",children:"View Project"})]},o.id))}):A.jsx("div",{className:"min-h-[20vh] flex justify-center items-center",children:A.jsx("p",{className:"text-center text-[#4b5563] text-lg",children:"No projects found. Please add some projects from the admin panel."})})})]})}),jD=({url:n,onClose:e})=>A.jsx(Hh,{children:n&&A.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:A.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[A.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Certificate Viewer"}),A.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{className:"flex-grow p-2",children:A.jsx("iframe",{src:n,title:"Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})}),FD=Xe.memo(({licensesPdfUrl:n,internshipsPdfUrl:e})=>{const[t,r]=ee.useState(null);return A.jsxs(A.Fragment,{children:[A.jsxs(Qi,{id:"certifications",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Certificates"}),A.jsx(Gi,{}),A.jsxs("div",{className:"text-center flex flex-col md:flex-row justify-center items-center gap-6",children:[A.jsx(st.button,{onClick:()=>r(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Licenses & Certs"}),A.jsx(st.button,{onClick:()=>r(e),disabled:!e,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!e&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certs"})]})]}),A.jsx(jD,{url:t,onClose:()=>r(null)})]})}),UD=({url:n,onClose:e})=>A.jsx(Hh,{children:n&&A.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex justify-center items-center z-50 p-4",children:A.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},onClick:t=>t.stopPropagation(),className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl h-[90vh] flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[A.jsx("h3",{className:"font-bold text-lg text-gray-700",children:"Internship Certificate"}),A.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-800 transition-colors",children:A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{className:"flex-grow p-2",children:A.jsx("iframe",{src:n,title:"Internship Certificate PDF Viewer",width:"100%",height:"100%",className:"border-none"})})]})})});Xe.memo(({internshipsPdfUrl:n})=>{const[e,t]=ee.useState(null);return A.jsxs(A.Fragment,{children:[A.jsxs(Qi,{id:"internships",children:[A.jsx("h2",{className:"text-4xl font-bold text-[#334155] text-center",children:"Internship Certificate"}),A.jsx(Gi,{}),A.jsx("div",{className:"text-center",children:A.jsx(st.button,{onClick:()=>t(n),disabled:!n,whileHover:{scale:1.05},whileTap:{scale:.95},className:`inline-block text-white font-bold py-4 px-8 text-lg rounded-full shadow-lg shadow-[#2563eb]/20 bg-gradient-to-r from-[#2563eb] to-[#1e3a8a] ${!n&&"opacity-50 cursor-not-allowed"}`,children:"View Internship Certificate"})})]}),A.jsx(UD,{url:e,onClose:()=>t(null)})]})});var AS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},y1=Xe.createContext&&Xe.createContext(AS),BD=["attr","size","title"];function zD(n,e){if(n==null)return{};var t=$D(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function $D(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Eh(){return Eh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Eh.apply(this,arguments)}function v1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Th(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v1(Object(t),!0).forEach(function(r){HD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):v1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function HD(n,e,t){return e=WD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WD(n){var e=qD(n,"string");return typeof e=="symbol"?e:e+""}function qD(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function xS(n){return n&&n.map((e,t)=>Xe.createElement(e.tag,Th({key:t},e.attr),xS(e.child)))}function En(n){return e=>Xe.createElement(KD,Eh({attr:Th({},n.attr)},e),xS(n.child))}function KD(n){var e=t=>{var{attr:r,size:o,title:a}=n,u=zD(n,BD),d=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),Xe.createElement("svg",Eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:Th(Th({color:n.color||t.color},t.style),n.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Xe.createElement("title",null,a),n.children)};return y1!==void 0?Xe.createElement(y1.Consumer,null,t=>e(t)):e(AS)}function GD(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.252 8 8 119.252 8 256s111.252 248 248 248 248-111.252 248-248S392.748 8 256 8zm163.97 114.366c29.503 36.046 47.369 81.957 47.835 131.955-6.984-1.477-77.018-15.682-147.502-6.818-5.752-14.041-11.181-26.393-18.617-41.614 78.321-31.977 113.818-77.482 118.284-83.523zM396.421 97.87c-3.81 5.427-35.697 48.286-111.021 76.519-34.712-63.776-73.185-116.168-79.04-124.008 67.176-16.193 137.966 1.27 190.061 47.489zm-230.48-33.25c5.585 7.659 43.438 60.116 78.537 122.509-99.087 26.313-186.36 25.934-195.834 25.809C62.38 147.205 106.678 92.573 165.941 64.62zM44.17 256.323c0-2.166.043-4.322.108-6.473 9.268.19 111.92 1.513 217.706-30.146 6.064 11.868 11.857 23.915 17.174 35.949-76.599 21.575-146.194 83.527-180.531 142.306C64.794 360.405 44.17 310.73 44.17 256.323zm81.807 167.113c22.127-45.233 82.178-103.622 167.579-132.756 29.74 77.283 42.039 142.053 45.189 160.638-68.112 29.013-150.015 21.053-212.768-27.882zm248.38 8.489c-2.171-12.886-13.446-74.897-41.152-151.033 66.38-10.626 124.7 6.768 131.947 9.055-9.442 58.941-43.273 109.844-90.795 141.978z"},child:[]}]})(n)}function QD(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(n)}function YD(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function XD(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function JD(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(n)}function ZD(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(n)}function eb(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(n)}function tb(n){return En({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(n)}function yb(n){return En({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(n)}function vb(n){return En({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm65.18 216.01H224v80c0 8.84-7.16 16-16 16h-32c-8.84 0-16-7.16-16-16v-80H94.82c-14.28 0-21.41-17.29-11.27-27.36l96.42-95.7c6.65-6.61 17.39-6.61 24.04 0l96.42 95.7c10.15 10.07 3.03 27.36-11.25 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(n)}function _b(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(n)}function nb(n){return En({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function rb(n){return En({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(n)}const ib=Xe.memo(()=>{const[n,e]=ee.useState({submitting:!1,succeeded:!1,error:null}),[t,r]=ee.useState(null),o=ee.useCallback(async d=>{d.preventDefault(),e({submitting:!0,succeeded:!1,error:null});const f=d.target,m=new FormData(f);try{const v=await fetch(f.action,{method:f.method,body:m,headers:{Accept:"application/json"}});if(v.ok)e({submitting:!1,succeeded:!0,error:null}),f.reset(),setTimeout(()=>e(w=>({...w,succeeded:!1})),5e3);else{const T=(await v.json()).errors?.map(C=>C.message).join(", ")||"An unknown error occurred.";throw new Error(T)}}catch(v){e({submitting:!1,succeeded:!1,error:v.message}),setTimeout(()=>e(w=>({...w,error:null})),5e3)}},[]),a=ee.useCallback(()=>{navigator.clipboard.writeText("costaspinto312@gmail.com").then(()=>{r("Email copied to clipboard!"),setTimeout(()=>r(null),3e3)}).catch(f=>{r("Could not copy email."),setTimeout(()=>r(null),3e3)})},[]),u=[{name:"Instagram",icon:A.jsx(YD,{}),url:"https://instagram.com/costaspinto"},{name:"Dribbble",icon:A.jsx(GD,{}),url:"https://dribbble.com/costaspinto"},{name:"Twitter",icon:A.jsx(XD,{}),url:"https://twitter.com/costaspinto"},{name:"Facebook",icon:A.jsx(QD,{}),url:"https://facebook.com/costaspinto"}];return A.jsxs("div",{className:"min-h-screen flex flex-col justify-between bg-gradient-to-br from-[#e6efff] to-[#f8fbff] text-[#0f172a] font-sans",children:[A.jsxs("main",{className:"container mx-auto px-6 py-20 max-w-7xl flex flex-col lg:flex-row justify-between items-start gap-16",children:[A.jsxs("div",{className:"flex-1 space-y-10",children:[A.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:"Lets get connected!"}),A.jsx("p",{className:"text-lg text-slate-600 max-w-md",children:"Have a project in mind or just want to say hello? Fill out the form or follow me on my social media."}),A.jsxs("div",{children:[A.jsx("p",{className:"text-lg font-semibold mb-4",children:"Follow Me"}),A.jsx("div",{className:"flex items-center gap-4",children:u.map(d=>A.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer","aria-label":d.name,className:"text-slate-500 hover:text-blue-600 transition-colors duration-300 text-2xl",children:d.icon},d.name))})]})]}),A.jsx("div",{className:"flex-1 bg-white/90 backdrop-blur-md p-8 rounded-[40px] shadow-2xl w-full max-w-lg",children:A.jsxs("form",{action:"https://formspree.io/f/mwpqwdnq",method:"POST",onSubmit:o,className:"space-y-6",children:[A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block font-medium mb-1",children:"Your Name *"}),A.jsx(nb,{className:"absolute left-3 top-10 text-slate-400"}),A.jsx("input",{name:"name",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block font-medium mb-1",children:"Your Email *"}),A.jsx(eb,{className:"absolute left-3 top-10 text-slate-400"}),A.jsx("input",{name:"email",type:"email",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{className:"relative",children:[A.jsx("label",{className:"block font-medium mb-1",children:"Service you are looking for *"}),A.jsx(ZD,{className:"absolute left-3 top-10 text-slate-400"}),A.jsx("input",{name:"service",required:!0,className:"w-full pl-10 pr-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block font-medium mb-1",children:"Your Message"}),A.jsx("textarea",{name:"message",rows:"4",className:"w-full px-4 py-2 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsx("button",{type:"submit",className:"w-full bg-gradient-to-r from-[#2563eb] to-[#3b82f6] text-white font-semibold py-3 px-4 rounded-xl hover:brightness-110 transition-transform duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",disabled:n.submitting,children:n.submitting?"Submitting...":"Submit"}),n.succeeded&&A.jsxs("p",{className:"flex items-center gap-2 text-green-600 text-sm mt-2",children:[A.jsx(JD,{})," Thanks for your feedback! I'll get back to you soon."]}),n.error&&A.jsxs("p",{className:"flex items-center gap-2 text-red-600 text-sm mt-2",children:[A.jsx(tb,{})," Error: ",n.error]})]})})]}),A.jsx("footer",{className:"bg-[#0f172a] text-white py-12 mt-20",children:A.jsxs("div",{className:"container mx-auto max-w-6xl px-6 flex flex-col gap-8",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-2xl font-bold mb-2",children:"I'm Available for Freelance Projects"}),A.jsx("p",{className:"text-gray-400",children:"Feel free to initiate a project and lets explore how we can collaborate."})]}),A.jsxs("div",{className:"flex gap-4 relative",children:[A.jsxs("button",{onClick:a,className:"flex items-center gap-2 border border-blue-500 text-blue-500 font-semibold py-2 px-4 rounded-xl hover:bg-blue-500 hover:text-white transition-colors",children:[A.jsx(rb,{})," COPY EMAIL"]}),t&&A.jsx("span",{className:"absolute -bottom-8 left-0 right-0 text-center text-sm text-green-400",children:t})]})]}),A.jsxs("div",{className:"border-t border-gray-700 pt-6 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-gray-400",children:[A.jsx("span",{className:"font-semibold text-white",children:"Costas Pinto"}),A.jsxs("nav",{className:"flex gap-6",children:[A.jsx("a",{href:"#home",className:"hover:text-blue-500 transition",children:"Home"}),A.jsx("a",{href:"#about",className:"hover:text-blue-500 transition",children:"About"}),A.jsx("a",{href:"#portfolio",className:"hover:text-blue-500 transition",children:"Portfolio"})]}),A.jsx("div",{className:"flex items-center gap-4",children:u.map(d=>A.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-500 transition text-lg",children:d.icon},d.name))})]}),A.jsxs("p",{className:"text-center text-xs text-gray-500 pt-4",children:[" ",new Date().getFullYear()," Costas Pinto. All Rights Reserved."]})]})})]})}),sb=ee.lazy(()=>$I(()=>import("./AdminPanel-YmZYH2Bk.js"),[])),ob={apiKey:"AIzaSyAZjJnEruroTDXYEjbne6-BHPA-lJMRw1c",authDomain:"costas-portfolio.firebaseapp.com",projectId:"costas-portfolio",storageBucket:"costas-portfolio.appspot.com",messagingSenderId:"958634149930",appId:"1:958634149930:web:b847a2bc997021711a5b53",measurementId:"G-5ZT1KDPJPT"},PS=k1(ob),bc=PC(PS),ab=e4(PS),lb=(n=768)=>{const[e,t]=ee.useState(window.innerWidth<n);return ee.useEffect(()=>{const r=()=>t(window.innerWidth<n);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[n]),e};function ub(){const[n,e]=ee.useState("home"),[t,r]=ee.useState([]),[o,a]=ee.useState(""),[u,d]=ee.useState(""),[f,m]=ee.useState(!0),[v,w]=ee.useState(!1),T=lb(),C=ee.useCallback(async()=>{m(!0);try{const M=await zC(xC(bc,"projects"));r(M.docs.map(W=>({id:W.id,...W.data()})))}catch(M){console.error("Error fetching projects: ",M)}try{const M=await D0(R0(bc,"portfolioAssets","licenses"));M.exists()&&a(M.data().pdfUrl);const W=await D0(R0(bc,"portfolioAssets","internships"));W.exists()&&d(W.data().pdfUrl)}catch(M){console.error("Error fetching portfolio assets: ",M)}finally{m(!1)}},[]);ee.useEffect(()=>{C();const M=()=>{const W=window.location.hash.replace("#","");e(W==="admin"?"admin":"home")};return window.addEventListener("hashchange",M,!1),M(),()=>window.removeEventListener("hashchange",M)},[C]);const L=ee.useCallback(()=>w(!1),[]),B=ee.useCallback(()=>w(M=>!M),[]);return f?A.jsx(m1,{}):A.jsxs(u4,{features:ID,children:[A.jsx(PD,{}),A.jsx("div",{className:"relative text-[#334155] font-sans overflow-x-hidden",children:n==="admin"?A.jsx(ee.Suspense,{fallback:A.jsx(m1,{}),children:A.jsx(sb,{db:bc,projects:t,fetchProjects:C,auth:ab})}):A.jsxs(A.Fragment,{children:[A.jsx(RD,{isMobileMenuOpen:v,closeMobileMenu:L,toggleMobileMenu:B}),A.jsxs("main",{className:"relative z-10",children:[A.jsx(kD,{}),A.jsxs("div",{className:"container mx-auto px-6 space-y-16 md:space-y-24",children:[A.jsx(ND,{}),A.jsx(VD,{}),A.jsx(DD,{}),A.jsx(bD,{}),A.jsx(LD,{}),A.jsx(OD,{projects:t,isMobile:T}),A.jsx(FD,{licensesPdfUrl:o,internshipsPdfUrl:u})]})]}),A.jsx(ib,{})]})})]})}class cb extends Xe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?A.jsx("div",{className:"bg-[#f8fafc] text-[#334155] min-h-screen flex flex-col justify-center items-center p-6 text-center font-sans",children:A.jsxs("div",{className:"max-w-md mx-auto",children:[A.jsx("div",{className:"mb-8",children:A.jsx("svg",{className:"w-24 h-24 mx-auto text-red-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),A.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Oops, something went wrong!"}),A.jsx("p",{className:"text-lg text-[#4b5563] mb-6",children:"An unexpected error has occurred. Please refresh the page or try again later."}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#2563eb] text-white px-6 py-3 rounded-md font-semibold hover:bg-[#1e40af] transition-colors",children:"Refresh Page"}),A.jsx("a",{href:"/",className:"bg-gray-200 text-[#334155] px-6 py-3 rounded-md font-semibold hover:bg-gray-300 transition-colors",children:"Go to Home"})]})]})}):this.props.children}}const hb=document.getElementById("root");UI.createRoot(hb).render(A.jsx(Xe.StrictMode,{children:A.jsx(cb,{children:A.jsx(ub,{})})}));export{Hh as A,Ds as C,Zr as F,Xe as R,ca as S,Jn as _,Jo as a,ee as b,eb as c,_b as d,yb as e,vb as f,_n as g,R0 as h,ua as i,A as j,fb as k,st as m,mb as o,bi as r,pb as s};
